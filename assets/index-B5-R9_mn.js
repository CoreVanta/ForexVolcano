(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},Ll={};var xv;function H1(){if(xv)return Ll;xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Av;function F1(){return Av||(Av=1,rm.exports=H1()),rm.exports}var _=F1(),sm={exports:{}},Ee={};var Rv;function G1(){if(Rv)return Ee;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,G={};function te(V,Z,ae){this.props=V,this.context=Z,this.refs=G,this.updater=ae||H}te.prototype.isReactComponent={},te.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},te.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function re(V,Z,ae){this.props=V,this.context=Z,this.refs=G,this.updater=ae||H}var be=re.prototype=new ne;be.constructor=re,X(be,te.prototype),be.isPureReactComponent=!0;var Ce=Array.isArray;function Re(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,Z,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:Z,ref:ue!==void 0?ue:null,props:ae}}function k(V,Z){return R(V.type,Z,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return Z[ae]})}var C=/\/+/g;function rt(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Z.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Re,Re):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,Z,ae,ue,_e){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(xe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case e:Le=!0;break;case b:return Le=V._init,K(Le(V._payload),Z,ae,ue,_e)}}if(Le)return _e=_e(V),Le=ue===""?"."+rt(V,0):ue,Ce(_e)?(ae="",Le!=null&&(ae=Le.replace(C,"$&/")+"/"),K(_e,Z,ae,"",function(ys){return ys})):_e!=null&&(O(_e)&&(_e=k(_e,ae+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Le)),Z.push(_e)),1;Le=0;var Ot=ue===""?".":ue+":";if(Ce(V))for(var st=0;st<V.length;st++)ue=V[st],xe=Ot+rt(ue,st),Le+=K(ue,Z,ae,xe,_e);else if(st=I(V),typeof st=="function")for(V=st.call(V),st=0;!(ue=V.next()).done;)ue=ue.value,xe=Ot+rt(ue,st++),Le+=K(ue,Z,ae,xe,_e);else if(xe==="object"){if(typeof V.then=="function")return K(Dt(V),Z,ae,ue,_e);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(V,Z,ae){if(V==null)return V;var ue=[],_e=0;return K(V,ue,"","",function(xe){return Z.call(ae,xe,_e++)}),ue}function me(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,Z,ae){se(V,function(){Z.apply(this,arguments)},ae)},count:function(V){var Z=0;return se(V,function(){Z++}),Z},toArray:function(V){return se(V,function(Z){return Z})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ee.Activity=T,Ee.Children=Ge,Ee.Component=te,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=re,Ee.StrictMode=s,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Ee.cache=function(V){return function(){return V.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(V,Z,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=X({},V.props),_e=V.key;if(Z!=null)for(xe in Z.key!==void 0&&(_e=""+Z.key),Z)!A.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(ue[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)ue.children=ae;else if(1<xe){for(var Le=Array(xe),Ot=0;Ot<xe;Ot++)Le[Ot]=arguments[Ot+2];ue.children=Le}return R(V.type,_e,ue)},Ee.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ee.createElement=function(V,Z,ae){var ue,_e={},xe=null;if(Z!=null)for(ue in Z.key!==void 0&&(xe=""+Z.key),Z)A.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=Z[ue]);var Le=arguments.length-2;if(Le===1)_e.children=ae;else if(1<Le){for(var Ot=Array(Le),st=0;st<Le;st++)Ot[st]=arguments[st+2];_e.children=Ot}if(V&&V.defaultProps)for(ue in Le=V.defaultProps,Le)_e[ue]===void 0&&(_e[ue]=Le[ue]);return R(V,xe,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(V){return{$$typeof:m,render:V}},Ee.isValidElement=O,Ee.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:me}},Ee.memo=function(V,Z){return{$$typeof:y,type:V,compare:Z===void 0?null:Z}},Ee.startTransition=function(V){var Z=D.T,ae={};D.T=ae;try{var ue=V(),_e=D.S;_e!==null&&_e(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Re,Ue)}catch(xe){Ue(xe)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),D.T=Z}},Ee.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ee.use=function(V){return D.H.use(V)},Ee.useActionState=function(V,Z,ae){return D.H.useActionState(V,Z,ae)},Ee.useCallback=function(V,Z){return D.H.useCallback(V,Z)},Ee.useContext=function(V){return D.H.useContext(V)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(V,Z){return D.H.useDeferredValue(V,Z)},Ee.useEffect=function(V,Z){return D.H.useEffect(V,Z)},Ee.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Ee.useId=function(){return D.H.useId()},Ee.useImperativeHandle=function(V,Z,ae){return D.H.useImperativeHandle(V,Z,ae)},Ee.useInsertionEffect=function(V,Z){return D.H.useInsertionEffect(V,Z)},Ee.useLayoutEffect=function(V,Z){return D.H.useLayoutEffect(V,Z)},Ee.useMemo=function(V,Z){return D.H.useMemo(V,Z)},Ee.useOptimistic=function(V,Z){return D.H.useOptimistic(V,Z)},Ee.useReducer=function(V,Z,ae){return D.H.useReducer(V,Z,ae)},Ee.useRef=function(V){return D.H.useRef(V)},Ee.useState=function(V){return D.H.useState(V)},Ee.useSyncExternalStore=function(V,Z,ae){return D.H.useSyncExternalStore(V,Z,ae)},Ee.useTransition=function(){return D.H.useTransition()},Ee.version="19.2.1",Ee}var Cv;function ep(){return Cv||(Cv=1,sm.exports=G1()),sm.exports}var P=ep(),am={exports:{}},Pl={},om={exports:{}},lm={};var Nv;function Q1(){return Nv||(Nv=1,(function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var Ue=me-1>>>1,Ge=K[Ue];if(0<o(Ge,se))K[Ue]=se,K[me]=Ge,me=Ue;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var Ue=0,Ge=K.length,V=Ge>>>1;Ue<V;){var Z=2*(Ue+1)-1,ae=K[Z],ue=Z+1,_e=K[ue];if(0>o(ae,me))ue<Ge&&0>o(_e,ae)?(K[Ue]=_e,K[ue]=me,Ue=ue):(K[Ue]=ae,K[Z]=me,Ue=Z);else if(ue<Ge&&0>o(_e,me))K[Ue]=_e,K[ue]=me,Ue=ue;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],y=[],b=1,T=null,x=3,I=!1,H=!1,X=!1,G=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function be(K){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=K)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function Ce(K){if(X=!1,be(K),!H)if(n(p)!==null)H=!0,Re||(Re=!0,L());else{var se=n(y);se!==null&&Dt(Ce,se.startTime-K)}}var Re=!1,D=-1,A=5,R=-1;function k(){return G?!0:!(r.unstable_now()-R<A)}function O(){if(G=!1,Re){var K=r.unstable_now();R=K;var se=!0;try{e:{H=!1,X&&(X=!1,ne(D),D=-1),I=!0;var me=x;try{t:{for(be(K),T=n(p);T!==null&&!(T.expirationTime>K&&k());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,x=T.priorityLevel;var Ge=Ue(T.expirationTime<=K);if(K=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,be(K),se=!0;break t}T===n(p)&&s(p),be(K)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(y);V!==null&&Dt(Ce,V.startTime-K),se=!1}}break e}finally{T=null,x=me,I=!1}se=void 0}}finally{se?L():Re=!1}}}var L;if(typeof re=="function")L=function(){re(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=O,L=function(){rt.postMessage(null)}}else L=function(){te(O,0)};function Dt(K,se){D=te(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(K){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var me=x;x=se;try{return K()}finally{x=me}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=x;x=K;try{return se()}finally{x=me}},r.unstable_scheduleCallback=function(K,se,me){var Ue=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,K){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,K={id:b++,callback:se,priorityLevel:K,startTime:me,expirationTime:Ge,sortIndex:-1},me>Ue?(K.sortIndex=me,e(y,K),n(p)===null&&K===n(y)&&(X?(ne(D),D=-1):X=!0,Dt(Ce,me-Ue))):(K.sortIndex=Ge,e(p,K),H||I||(H=!0,Re||(Re=!0,L()))),K},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(K){var se=x;return function(){var me=x;x=se;try{return K.apply(this,arguments)}finally{x=me}}}})(lm)),lm}var Iv;function Y1(){return Iv||(Iv=1,om.exports=Q1()),om.exports}var um={exports:{}},$t={};var Dv;function K1(){if(Dv)return $t;Dv=1;var r=ep();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,b)},$t.flushSync=function(p){var y=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=b,s.d.f()}},$t.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:I}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},$t.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,y){return p(y)},$t.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},$t.useFormStatus=function(){return h.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var Ov;function X1(){if(Ov)return um.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=K1(),um.exports}var Mv;function $1(){if(Mv)return Pl;Mv=1;var r=Y1(),e=ep(),n=X1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case te:return"Profiler";case G:return"StrictMode";case Ce:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case re:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function V(t){return{current:t}}function Z(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function ae(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var ue=V(null),_e=V(null),xe=V(null),Le=V(null);function Ot(t,i){switch(ae(xe,i),ae(_e,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?K_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=K_(i),t=X_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function st(){Z(ue),Z(_e),Z(xe)}function ys(t){t.memoizedState!==null&&ae(Le,t);var i=ue.current,a=X_(i,t.type);i!==a&&(ae(_e,t),ae(ue,a))}function da(t){_e.current===t&&(Z(ue),Z(_e)),Le.current===t&&(Z(Le),Ml._currentValue=me)}var ma,pa;function li(t){if(ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var Mo=!1;function _s(t,i){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var q=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){q=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){q=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var N=v.split(`
`),B=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===B.length)for(l=N.length-1,f=B.length-1;1<=l&&0<=f&&N[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==B[f]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return li("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,af=r.unstable_shouldYield,bu=r.unstable_requestPaint,rn=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,Lo=r.unstable_UserBlockingPriority,Er=r.unstable_NormalPriority,of=r.unstable_LowPriority,wu=r.unstable_IdlePriority,Su=r.log,xu=r.unstable_setDisableYieldValue,Gn=null,Bt=null;function Rn(t){if(typeof Su=="function"&&xu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,t)}catch{}}var dt=Math.clz32?Math.clz32:Ru,Au=Math.log,ga=Math.LN2;function Ru(t){return t>>>=0,t===0?32:31-(Au(t)/ga|0)|0}var ui=256,Es=262144,vt=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=ci(l):(v&=w,v!==0?f=ci(v):a||(a=w&~t,a!==0&&(f=ci(a))))):(w=l&~d,w!==0?f=ci(w):v!==0?f=ci(v):a||(a=l&~t,a!==0&&(f=ci(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-dt(a),W=1<<Y;w[Y]=0,N[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var Q=q[Y];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&bs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function bs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Uo(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:_v(t.type))}function Yn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Kn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Kn,jt="__reactProps$"+Kn,di="__reactContainer$"+Kn,ya="__reactEvents$"+Kn,cf="__reactListeners$"+Kn,Iu="__reactHandles$"+Kn,Du="__reactResources$"+Kn,mi="__reactMarker$"+Kn;function _a(t){delete t[Et],delete t[jt],delete t[ya],delete t[cf],delete t[Iu]}function pi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=nv(t);t!==null;){if(a=t[Et])return a;t=nv(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Et]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[Du];return i||(i=t[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[mi]=!0}var zo=new Set,Bo={};function yi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Bo[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Ou(t){return _t.call(Fo,t)?!0:_t.call(Ho,t)?!1:qo.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function va(t,i,a){if(Ou(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Tr(t)?"checked":"value";t._valueTracker=Go(t,i,""+t[i])}}function Ss(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Tr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function on(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,l,f,d,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,v,Lt(i)):a!=null?Qo(t,v,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Lt(w):t.removeAttribute("name")}function Mu(t,i,a,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function Qo(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Vu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Yo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(t,d,i[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Xo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,Ei=null;function As(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ss(l)}break e;case"textarea":Vu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&br(t,!!a.multiple,i,!1)}}}var wa=!1;function Ar(t,i,a){if(wa)return t(i,a);wa=!0;try{var l=t(i);return l}finally{if(wa=!1,(xr!==null||Ei!==null)&&(Nc(),xr&&(i=xr,t=Ei,Ei=xr=null,As(i),t)))for(i=0;i<t.length;i++)As(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(In)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Rs=!1}var Ti=null,$o=null,Cs=null;function Jo(){if(Cs)return Cs;var t,i=$o,a=i.length,l,f="value"in Ti?Ti.value:Ti.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Cs=f.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Jn(){return!1}function qt(t){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Jn,this.isPropagationStopped=Jn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=qt(qi),Rr=T({},qi,{view:0,detail:0}),Wo=qt(Rr),Cr,Sa,wi,xa=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Cr=t.screenX-wi.screenX,Sa=t.screenY-wi.screenY):Sa=Cr=0,wi=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Zo=qt(xa),Is=T({},xa,{dataTransfer:0}),Lu=qt(Is),Pu=T({},Rr,{relatedTarget:0}),Ds=qt(Pu),el=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=qt(el),Aa=T({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=qt(Aa),Bu=T({},qi,{data:0}),Si=qt(Bu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function Nr(){return Gu}var sn=T({},Rr,{key:function(t){if(t.key){var i=qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qu=qt(sn),Yu=T({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=qt(Yu),c=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),g=qt(c),E=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(E),U=T({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=qt(U),ie=T({},qi,{newState:0,oldState:0}),we=qt(ie),mt=[9,13,27,32],qe=In&&"CompositionEvent"in window,at=null;In&&"documentMode"in document&&(at=document.documentMode);var Dn=In&&"TextEvent"in window&&!at,xi=In&&(!qe||at&&8<at&&11>=at),Wn=" ",Zn=!1;function Os(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function dw(t,i){switch(t){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(Zn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Zn?null:t;default:return null}}function mw(t,i){if(Ca)return t==="compositionend"||!qe&&Os(t,i)?(t=Jo(),Cs=$o=Ti=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!pw[t.type]:i==="textarea"}function ag(t,i,a,l){xr?Ei?Ei.push(l):Ei=[l]:xr=l,i=jc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var tl=null,nl=null;function gw(t){q_(t,0)}function Ku(t){var i=gn(t);if(Ss(i))return t}function og(t,i){if(t==="change")return i}var lg=!1;if(In){var hf;if(In){var ff="oninput"in document;if(!ff){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),ff=typeof ug.oninput=="function"}hf=ff}else hf=!1;lg=hf&&(!document.documentMode||9<document.documentMode)}function cg(){tl&&(tl.detachEvent("onpropertychange",hg),nl=tl=null)}function hg(t){if(t.propertyName==="value"&&Ku(nl)){var i=[];ag(i,nl,t,Nn(t)),Ar(gw,i)}}function yw(t,i,a){t==="focusin"?(cg(),tl=i,nl=a,tl.attachEvent("onpropertychange",hg)):t==="focusout"&&cg()}function _w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(nl)}function vw(t,i){if(t==="click")return Ku(i)}function Ew(t,i){if(t==="input"||t==="change")return Ku(i)}function Tw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:Tw;function il(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,i){var a=fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fg(a)}}function mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bw=In&&"documentMode"in document&&11>=document.documentMode,Na=null,mf=null,rl=null,pf=!1;function gg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Na==null||Na!==vi(l)||(l=Na,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=jc(mf,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Na)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},gf={},yg={};In&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Vs(t){if(gf[t])return gf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return gf[t]=i[a];return t}var _g=Vs("animationend"),vg=Vs("animationiteration"),Eg=Vs("animationstart"),ww=Vs("transitionrun"),Sw=Vs("transitionstart"),xw=Vs("transitioncancel"),Tg=Vs("transitionend"),bg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function ei(t,i){bg.set(t,i),yi(i,[t])}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Da=0,_f=0;function $u(){for(var t=Da,i=_f=Da=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&wg(a,f,d)}}function Ju(t,i,a,l){On[Da++]=t,On[Da++]=i,On[Da++]=a,On[Da++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Ju(t,i,a,l),Wu(t)}function ks(t,i){return Ju(t,null,null,i),Wu(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-dt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(t){if(50<Al)throw Al=0,Cd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function Aw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new Aw(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,f,d){var v=0;if(l=t,typeof t=="function")Ef(t)&&(v=1);else if(typeof t=="string")v=D1(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,f),t.elementType=R,t.lanes=d,t;case X:return js(a.children,f,d,i);case G:v=8,f|=24;break;case te:return t=vn(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case Ce:return t=vn(13,a,i,f),t.elementType=Ce,t.lanes=d,t;case Re:return t=vn(19,a,i,f),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ne:v=9;break e;case be:v=11;break e;case D:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function js(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function xg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ag=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var Ma=[],Va=0,ec=null,sl=0,Vn=[],kn=0,Ir=null,Ai=1,Ri="";function Gi(t,i){Ma[Va++]=sl,Ma[Va++]=ec,ec=t,sl=i}function Rg(t,i,a){Vn[kn++]=Ai,Vn[kn++]=Ri,Vn[kn++]=Ir,Ir=t;var l=Ai;t=Ri;var f=32-dt(l)-1;l&=~(1<<f),a+=1;var d=32-dt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ai=1<<32-dt(i)+f|a<<f|l,Ri=d+t}else Ai=1<<d|a<<f|l,Ri=t}function wf(t){t.return!==null&&(Gi(t,1),Rg(t,1,0))}function Sf(t){for(;t===ec;)ec=Ma[--Va],Ma[Va]=null,sl=Ma[--Va],Ma[Va]=null;for(;t===Ir;)Ir=Vn[--kn],Vn[kn]=null,Ri=Vn[--kn],Vn[kn]=null,Ai=Vn[--kn],Vn[kn]=null}function Cg(t,i){Vn[kn++]=Ai,Vn[kn++]=Ri,Vn[kn++]=Ir,Ai=i.id,Ri=i.overflow,Ir=t}var Ht=null,tt=null,je=!1,Dr=null,jn=!1,xf=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Mn(i,t)),xf}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[jt]=l,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ie(Cl[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),wr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Q_(i.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),l.onScroll!=null&&Ie("scroll",i),l.onScrollEnd!=null&&Ie("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||Or(t,!0)}function Ig(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ht=Ht.return}}function ka(t){if(t!==Ht)return!1;if(!je)return Ig(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&tt&&Or(t),Ig(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=tv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=tv(t)}else i===27?(i=tt,Qr(t.type)?(t=Kd,Kd=null,tt=t):tt=i):tt=Ht?Pn(t.stateNode.nextSibling):null;return!0}function Ls(){tt=Ht=null,je=!1}function Af(){var t=Dr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Dr=null),t}function al(t){Dr===null?Dr=[t]:Dr.push(t)}var Rf=V(null),Ps=null,Qi=null;function Mr(t,i,a){ae(Rf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Rf.current,Z(Rf)}function Cf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Cf(d.return,a,t),l||(v=null);break e}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Cf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ja(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=f.type;_n(f.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(f===Le.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}f=f.return}t!==null&&Nf(i,t,a,l),i.flags|=262144}function tc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ps=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Dg(Ps,t)}function nc(t,i){return Ps===null&&Us(t),Dg(t,i)}function Dg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var Rw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Cw=r.unstable_scheduleCallback,Nw=r.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new Rw,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Cw(Nw,function(){t.controller.abort()})}var ll=null,Df=0,La=0,Pa=null;function Iw(t,i){if(ll===null){var a=ll=[];Df=0,La=Vd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Og,Og),i}function Og(){if(--Df===0&&ll!==null){Pa!==null&&(Pa.status="fulfilled");var t=ll;ll=null,La=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Dw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Mg=K.S;K.S=function(t,i){g_=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Iw(t,i),Mg!==null&&Mg(t,i)};var zs=V(null);function Of(){var t=zs.current;return t!==null?t:Ze.pooledCache}function ic(t,i){i===null?ae(zs,zs.current):ae(zs,i.pool)}function Vg(){var t=Of();return t===null?null:{parent:wt._currentValue,pool:t}}var Ua=Error(s(460)),Mf=Error(s(474)),rc=Error(s(542)),sc={then:function(){}};function kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw qs=i,Ua}}function Bs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,Ua):a}}var qs=null;function Lg(){if(qs===null)throw Error(s(459));var t=qs;return qs=null,t}function Pg(t){if(t===Ua||t===rc)throw Error(s(483))}var za=null,ul=0;function ac(t){var i=ul;return ul+=1,za===null&&(za=[]),jg(za,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function oc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ug(t){function i(j,M){if(t){var z=j.deletions;z===null?(j.deletions=[M],j.flags|=16):z.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function f(j,M){return j=Fi(j,M),j.index=0,j.sibling=null,j}function d(j,M,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<M?(j.flags|=67108866,M):z):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function w(j,M,z,$){return M===null||M.tag!==6?(M=Tf(z,j.mode,$),M.return=j,M):(M=f(M,z),M.return=j,M)}function N(j,M,z,$){var fe=z.type;return fe===X?Y(j,M,z.props.children,$,z.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Bs(fe)===M.type)?(M=f(M,z.props),cl(M,z),M.return=j,M):(M=Zu(z.type,z.key,z.props,null,j.mode,$),cl(M,z),M.return=j,M)}function B(j,M,z,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=bf(z,j.mode,$),M.return=j,M):(M=f(M,z.children||[]),M.return=j,M)}function Y(j,M,z,$,fe){return M===null||M.tag!==7?(M=js(z,j.mode,$,fe),M.return=j,M):(M=f(M,z),M.return=j,M)}function W(j,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Tf(""+M,j.mode,z),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return z=Zu(M.type,M.key,M.props,null,j.mode,z),cl(z,M),z.return=j,z;case H:return M=bf(M,j.mode,z),M.return=j,M;case A:return M=Bs(M),W(j,M,z)}if(Dt(M)||L(M))return M=js(M,j.mode,z,null),M.return=j,M;if(typeof M.then=="function")return W(j,ac(M),z);if(M.$$typeof===re)return W(j,nc(j,M),z);oc(j,M)}return null}function q(j,M,z,$){var fe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:w(j,M,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===fe?N(j,M,z,$):null;case H:return z.key===fe?B(j,M,z,$):null;case A:return z=Bs(z),q(j,M,z,$)}if(Dt(z)||L(z))return fe!==null?null:Y(j,M,z,$,null);if(typeof z.then=="function")return q(j,M,ac(z),$);if(z.$$typeof===re)return q(j,M,nc(j,z),$);oc(j,z)}return null}function Q(j,M,z,$,fe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(z)||null,w(M,j,""+$,fe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case I:return j=j.get($.key===null?z:$.key)||null,N(M,j,$,fe);case H:return j=j.get($.key===null?z:$.key)||null,B(M,j,$,fe);case A:return $=Bs($),Q(j,M,z,$,fe)}if(Dt($)||L($))return j=j.get(z)||null,Y(M,j,$,fe,null);if(typeof $.then=="function")return Q(j,M,z,ac($),fe);if($.$$typeof===re)return Q(j,M,z,nc(M,$),fe);oc(M,$)}return null}function ce(j,M,z,$){for(var fe=null,ze=null,he=M,Ae=M=0,Oe=null;he!==null&&Ae<z.length;Ae++){he.index>Ae?(Oe=he,he=null):Oe=he.sibling;var Be=q(j,he,z[Ae],$);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(j,he),M=d(Be,M,Ae),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ae===z.length)return a(j,he),je&&Gi(j,Ae),fe;if(he===null){for(;Ae<z.length;Ae++)he=W(j,z[Ae],$),he!==null&&(M=d(he,M,Ae),ze===null?fe=he:ze.sibling=he,ze=he);return je&&Gi(j,Ae),fe}for(he=l(he);Ae<z.length;Ae++)Oe=Q(he,j,Ae,z[Ae],$),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ae:Oe.key),M=d(Oe,M,Ae),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(Jr){return i(j,Jr)}),je&&Gi(j,Ae),fe}function pe(j,M,z,$){if(z==null)throw Error(s(151));for(var fe=null,ze=null,he=M,Ae=M=0,Oe=null,Be=z.next();he!==null&&!Be.done;Ae++,Be=z.next()){he.index>Ae?(Oe=he,he=null):Oe=he.sibling;var Jr=q(j,he,Be.value,$);if(Jr===null){he===null&&(he=Oe);break}t&&he&&Jr.alternate===null&&i(j,he),M=d(Jr,M,Ae),ze===null?fe=Jr:ze.sibling=Jr,ze=Jr,he=Oe}if(Be.done)return a(j,he),je&&Gi(j,Ae),fe;if(he===null){for(;!Be.done;Ae++,Be=z.next())Be=W(j,Be.value,$),Be!==null&&(M=d(Be,M,Ae),ze===null?fe=Be:ze.sibling=Be,ze=Be);return je&&Gi(j,Ae),fe}for(he=l(he);!Be.done;Ae++,Be=z.next())Be=Q(he,j,Ae,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ae:Be.key),M=d(Be,M,Ae),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(q1){return i(j,q1)}),je&&Gi(j,Ae),fe}function We(j,M,z,$){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:e:{for(var fe=z.key;M!==null;){if(M.key===fe){if(fe=z.type,fe===X){if(M.tag===7){a(j,M.sibling),$=f(M,z.props.children),$.return=j,j=$;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Bs(fe)===M.type){a(j,M.sibling),$=f(M,z.props),cl($,z),$.return=j,j=$;break e}a(j,M);break}else i(j,M);M=M.sibling}z.type===X?($=js(z.props.children,j.mode,$,z.key),$.return=j,j=$):($=Zu(z.type,z.key,z.props,null,j.mode,$),cl($,z),$.return=j,j=$)}return v(j);case H:e:{for(fe=z.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(j,M.sibling),$=f(M,z.children||[]),$.return=j,j=$;break e}else{a(j,M);break}else i(j,M);M=M.sibling}$=bf(z,j.mode,$),$.return=j,j=$}return v(j);case A:return z=Bs(z),We(j,M,z,$)}if(Dt(z))return ce(j,M,z,$);if(L(z)){if(fe=L(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(j,M,z,$)}if(typeof z.then=="function")return We(j,M,ac(z),$);if(z.$$typeof===re)return We(j,M,nc(j,z),$);oc(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(j,M.sibling),$=f(M,z),$.return=j,j=$):(a(j,M),$=Tf(z,j.mode,$),$.return=j,j=$),v(j)):a(j,M)}return function(j,M,z,$){try{ul=0;var fe=We(j,M,z,$);return za=null,fe}catch(he){if(he===Ua||he===rc)throw he;var ze=vn(29,he,null,j.mode);return ze.lanes=$,ze.return=j,ze}finally{}}}var Hs=Ug(!0),zg=Ug(!1),Vr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Wu(t),wg(t,null,a),i}return Ju(t,l,i,a),Wu(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function fl(){if(Lf){var t=Pa;if(t!==null)throw t}}function dl(t,i,a,l){Lf=!1;var f=t.updateQueue;Vr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,B=N.next;N.next=null,v===null?d=B:v.next=B,v=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==v&&(w===null?Y.firstBaseUpdate=B:w.next=B,Y.lastBaseUpdate=N))}if(d!==null){var W=f.baseState;v=0,Y=B=N=null,w=d;do{var q=w.lane&-536870913,Q=q!==w.lane;if(Q?(De&q)===q:(l&q)===q){q!==0&&q===La&&(Lf=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ce=t,pe=w;q=i;var We=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){W=ce.call(We,W,q);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,q=typeof ce=="function"?ce.call(We,W,q):ce,q==null)break e;W=T({},W,q);break e;case 2:Vr=!0}}q=w.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(B=Y=Q,N=W):Y=Y.next=Q,v|=q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(N=W),f.baseState=N,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Br|=v,t.lanes=v,t.memoizedState=W}}function Bg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bg(a[t],i)}var Ba=V(null),lc=V(0);function Hg(t,i){t=nr,ae(lc,t),ae(Ba,i),nr=t|i.baseLanes}function Pf(){ae(lc,nr),ae(Ba,Ba.current)}function Uf(){nr=lc.current,Z(Ba),Z(lc)}var En=V(null),Ln=null;function Lr(t){var i=t.alternate;ae(pt,pt.current&1),ae(En,t),Ln===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(Ln=t)}function zf(t){ae(pt,pt.current),ae(En,t),Ln===null&&(Ln=t)}function Fg(t){t.tag===22?(ae(pt,pt.current),ae(En,t),Ln===null&&(Ln=t)):Pr()}function Pr(){ae(pt,pt.current),ae(En,En.current)}function Tn(t){Z(En),Ln===t&&(Ln=null),Z(pt)}var pt=V(0);function uc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Yd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Se=null,$e=null,St=null,cc=!1,qa=!1,Fs=!1,hc=0,ml=0,Ha=null,Ow=0;function ct(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,f,d){return Ki=d,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Ry:id,Fs=!1,d=a(l,f),Fs=!1,qa&&(d=Qg(i,a,l,f)),Gg(t),d}function Gg(t){K.H=yl;var i=$e!==null&&$e.next!==null;if(Ki=0,St=$e=Se=null,cc=!1,ml=0,Ha=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&tc(t)&&(xt=!0))}function Qg(t,i,a,l){Se=t;var f=0;do{if(qa&&(Ha=null),ml=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,St=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Cy,d=i(a,l)}while(qa);return d}function Mw(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Se.flags|=1024),i}function Hf(){var t=hc!==0;return hc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(cc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}cc=!1}Ki=0,St=$e=Se=null,qa=!1,ml=hc=0,Ha=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Se.memoizedState=St=t:St=St.next=t,St}function gt(){if($e===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=St===null?Se.memoizedState:St.next;if(i!==null)St=i,$e=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?Se.memoizedState=St=t:St=St.next=t}return St}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,Ha===null&&(Ha=[]),t=jg(Ha,t,i),i=Se,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Ry:id),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===re)return Ft(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=fc(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function Xi(t,i){return typeof i=="function"?i(t):i}function mc(t){var i=gt();return Yf(i,$e,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var w=v=null,N=null,B=i,Y=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(De&W)===W:(Ki&W)===W){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===La&&(Y=!0);else if((Ki&q)===q){B=B.next,q===La&&(Y=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(w=N=W,v=d):N=N.next=W,Se.lanes|=q,Br|=q;W=B.action,Fs&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(w=N=q,v=d):N=N.next=q,Se.lanes|=W,Br|=W;B=B.next}while(B!==null&&B!==i);if(N===null?v=d:N.next=w,!_n(d,t.memoizedState)&&(xt=!0,Y&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);_n(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Yg(t,i,a){var l=Se,f=gt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n(($e||f).memoizedState,a);if(v&&(f.memoizedState=a,xt=!0),f=f.queue,Jf($g.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Xg.bind(null,l,f,a,i),null),Ze===null)throw Error(s(349));d||(Ki&127)!==0||Kg(l,i,a)}return a}function Kg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=fc(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xg(t,i,a,l){i.value=a,i.getSnapshot=l,Jg(i)&&Wg(t)}function $g(t,i,a){return a(function(){Jg(i)&&Wg(t)})}function Jg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Wg(t){var i=ks(t,2);i!==null&&dn(i,t,2)}function Xf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Fs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},i}function Zg(t,i,a,l){return t.baseState=a,Yf(t,$e,typeof l=="function"?l:Xi)}function Vw(t,i,a,l,f){if(yc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ey(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var w=a(f,l),N=K.S;N!==null&&N(v,w),ty(t,i,w)}catch(B){$f(t,i,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(f,l),ty(t,i,d)}catch(B){$f(t,i,B)}}function ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(t,i,l)},function(l){return $f(t,i,l)}):ny(t,i,a)}function ny(t,i,a){i.status="fulfilled",i.value=a,iy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ey(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,iy(i),i=i.next;while(i!==l)}t.action=null}function iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function sy(t,i){if(je){var a=Ze.formState;if(a!==null){e:{var l=Se;if(je){if(tt){t:{for(var f=tt,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Pn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=Pn(f.nextSibling),l=f.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=Sy.bind(null,Se,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Se,!1,l.queue),l=an(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=Vw.bind(null,Se,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function ay(t){var i=gt();return oy(i,$e,t)}function oy(t,i,a){if(i=Yf(t,i,ry)[0],t=mc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(v){throw v===Ua?rc:v}else l=i;i=gt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,Fa(9,{destroy:void 0},kw.bind(null,f,a),null)),[l,d,t]}function kw(t,i){t.action=i}function ly(t){var i=gt(),a=$e;if(a!==null)return oy(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Se.updateQueue,i===null&&(i=fc(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function uy(){return gt().memoizedState}function pc(t,i,a,l){var f=an();Se.flags|=t,f.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function gc(t,i,a,l){var f=gt();l=l===void 0?null:l;var d=f.memoizedState.inst;$e!==null&&l!==null&&Bf(l,$e.memoizedState.deps)?f.memoizedState=Fa(i,d,a,l):(Se.flags|=t,f.memoizedState=Fa(1|i,d,a,l))}function cy(t,i){pc(8390656,8,t,i)}function Jf(t,i){gc(2048,8,t,i)}function jw(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=fc(),Se.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function hy(t){var i=gt().memoizedState;return jw({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function fy(t,i){return gc(4,2,t,i)}function dy(t,i){return gc(4,4,t,i)}function my(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function py(t,i,a){a=a!=null?a.concat([t]):null,gc(4,4,my.bind(null,i,t),a)}function Wf(){}function gy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function yy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Fs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function Zf(t,i,a){return a===void 0||(Ki&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=__(),Se.lanes|=t,Br|=t,a)}function _y(t,i,a,l){return _n(a,i)?a:Ba.current!==null?(t=Zf(t,a,l),_n(t,i)||(xt=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=__(),Se.lanes|=t,Br|=t,i)}function vy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var v=K.T,w={};K.T=w,nd(t,!1,i,a);try{var N=f(),B=K.S;if(B!==null&&B(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=Dw(N,l);gl(t,i,Y,Sn(t))}else gl(t,i,l,Sn(t))}catch(W){gl(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{se.p=d,v!==null&&w.types!==null&&(v.types=w.types),K.T=v}}function Lw(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Ey(t).queue;vy(t,f,i,me,a===null?Lw:function(){return Ty(t),a(l)})}function Ey(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ty(t){var i=Ey(t);i.next===null&&(i=t.alternate.memoizedState),gl(t,i.next.queue,{},Sn())}function td(){return Ft(Ml)}function by(){return gt().memoizedState}function wy(){return gt().memoizedState}function Pw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=kr(a);var l=jr(i,t,a);l!==null&&(dn(l,i,a),hl(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function Uw(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(t)?xy(i,a):(a=vf(t,i,a,l),a!==null&&(dn(a,t,l),Ay(a,i,l)))}function Sy(t,i,a){var l=Sn();gl(t,i,a,l)}function gl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(t))xy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,w=d(v,a);if(f.hasEagerState=!0,f.eagerState=w,_n(w,v))return Ju(t,i,f,0),Ze===null&&$u(),!1}catch{}finally{}if(a=vf(t,i,f,l),a!==null)return dn(a,t,l),Ay(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&dn(i,t,2)}function yc(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function xy(t,i){qa=cc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}var yl={readContext:Ft,use:dc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};yl.useEffectEvent=ct;var Ry={readContext:Ft,use:dc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,pc(4194308,4,my.bind(null,i,t),a)},useLayoutEffect:function(t,i){return pc(4194308,4,t,i)},useInsertionEffect:function(t,i){pc(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Fs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var f=a(i);if(Fs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Uw.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Sy.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(t,i){var a=an();return Zf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=vy.bind(null,Se,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Se,f=an();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(De&127)!==0||Kg(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,cy($g.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},Xg.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=Ze.identifierPrefix;if(je){var a=Ri,l=Ai;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Ow++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:sy,useActionState:sy,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return an().memoizedState=Pw.bind(null,Se)},useEffectEvent:function(t){var i=an(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ft,use:dc,useCallback:gy,useContext:Ft,useEffect:Jf,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:mc,useRef:uy,useState:function(){return mc(Xi)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=gt();return _y(a,$e.memoizedState,t,i)},useTransition:function(){var t=mc(Xi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Yg,useId:by,useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=gt();return Zg(a,$e,t,i)},useMemoCache:Qf,useCacheRefresh:wy};id.useEffectEvent=hy;var Cy={readContext:Ft,use:dc,useCallback:gy,useContext:Ft,useEffect:Jf,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Kf,useRef:uy,useState:function(){return Kf(Xi)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=gt();return $e===null?Zf(a,t,i):_y(a,$e.memoizedState,t,i)},useTransition:function(){var t=Kf(Xi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Yg,useId:by,useHostTransitionStatus:td,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=gt();return $e!==null?Zg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:wy};Cy.useEffectEvent=hy;function rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=kr(l);f.payload=i,a!=null&&(f.callback=a),i=jr(t,f,l),i!==null&&(dn(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=kr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=jr(t,f,l),i!==null&&(dn(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=jr(t,l,a),i!==null&&(dn(i,t,a),hl(i,t,a))}};function Ny(t,i,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(f,d):!0}function Iy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function Gs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Dy(t){Xu(t)}function Oy(t){console.error(t)}function My(t){Xu(t)}function _c(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ad(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(t,i)},a}function ky(t){return t=kr(t),t.tag=3,t}function jy(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Vy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Vy(i,a,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function zw(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ja(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Ic():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,f)),!1;case 22:return a.flags|=65536,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,f)),!1}throw Error(s(435,a.tag))}return Dd(t,l,f),Ic(),!1}if(je)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==xf&&(t=Error(s(422),{cause:l}),al(Mn(t,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),al(Mn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=ad(t.stateNode,l,f),jf(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),xl===null?xl=[d]:xl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=ad(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ky(f),jy(f,t,a,l),jf(a,f),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),xt=!1;function Gt(t,i,a,l){i.child=t===null?zg(i,null,a,l):Hs(i,t.child,a,l)}function Ly(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Us(i),l=qf(t,i,a,v,d,f),w=Hf(),t!==null&&!xt?(Ff(t,i,f),$i(t,i,f)):(je&&w&&wf(i),i.flags|=1,Gt(t,i,l,f),i.child)}function Py(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,f)):(t=Zu(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&t.ref===i.ref)return $i(t,i,f)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,pd(t,f))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,$i(t,i,f)}return ld(t,i,a,l,f)}function zy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return By(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):Pf(),Fg(i);else return l=i.lanes=536870912,By(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ic(i,d.cachePool),Hg(i,d),Pr(),i.memoizedState=null):(t!==null&&ic(i,null),Pf(),Pr());return Gt(t,i,f,a),i.child}function _l(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function By(t,i,a,l,f){var d=Of();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ic(i,null),Pf(),Fg(i),t!==null&&ja(t,i,l,!0),i.childLanes=f,null}function vc(t,i){return i=Tc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qy(t,i,a){return Hs(i,t.child,null,a),t=vc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function Bw(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=vc(i,l),i.lanes=536870912,_l(null,t);if(zf(i),(t=tt)?(t=ev(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ht=i,tt=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return vc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(zf(i),f)if(i.flags&256)i.flags&=-257,i=qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||ja(t,i,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=Ze,l!==null&&(v=Uo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ks(t,v),dn(l,t,v),od;Ic(),i=qy(t,i,a)}else t=d.treeContext,tt=Pn(v.nextSibling),Ht=i,je=!0,Dr=null,jn=!1,t!==null&&Cg(i,t),i=vc(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,f){return Us(i),a=qf(t,i,a,l,void 0,f),l=Hf(),t!==null&&!xt?(Ff(t,i,f),$i(t,i,f)):(je&&l&&wf(i),i.flags|=1,Gt(t,i,a,f),i.child)}function Hy(t,i,a,l,f,d){return Us(i),i.updateQueue=null,a=Qg(i,l,a,f),Gg(t),l=Hf(),t!==null&&!xt?(Ff(t,i,d),$i(t,i,d)):(je&&l&&wf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Fy(t,i,a,l,f){if(Us(i),i.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):Oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(rd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&sd.enqueueReplaceState(d,d.state,null),dl(i,l,d,f),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,N=Gs(a,w);d.props=N;var B=d.context,Y=a.contextType;v=Oa,typeof Y=="object"&&Y!==null&&(v=Ft(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==v)&&Iy(i,d,l,v),Vr=!1;var q=i.memoizedState;d.state=q,dl(i,l,d,f),fl(),B=i.memoizedState,w||q!==B||Vr?(typeof W=="function"&&(rd(i,a,W,l),B=i.memoizedState),(N=Vr||Ny(i,a,N,l,q,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),v=i.memoizedProps,Y=Gs(a,v),d.props=Y,W=i.pendingProps,q=d.context,B=a.contextType,N=Oa,typeof B=="object"&&B!==null&&(N=Ft(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||q!==N)&&Iy(i,d,l,N),Vr=!1,q=i.memoizedState,d.state=q,dl(i,l,d,f),fl();var Q=i.memoizedState;v!==W||q!==Q||Vr||t!==null&&t.dependencies!==null&&tc(t.dependencies)?(typeof w=="function"&&(rd(i,a,w,l),Q=i.memoizedState),(Y=Vr||Ny(i,a,Y,l,q,Q,N)||t!==null&&t.dependencies!==null&&tc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Hs(i,t.child,null,f),i.child=Hs(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=$i(t,i,f),t}function Gy(t,i,a,l){return Ls(),i.flags|=256,Gt(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Vg()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function Qy(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(f?Lr(i):Pr(),(t=tt)?(t=ev(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ht=i,tt=null)):t=null,t===null)throw Or(i);return Yd(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Pr(),f=i.mode,w=Tc({mode:"hidden",children:w},f),l=js(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,v,a),i.memoizedState=ud,_l(null,l)):(Lr(i),fd(i,w))}var N=t.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),w=l.fallback,f=i.mode,l=Tc({mode:"visible",children:l.children},f),w=js(w,f,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Hs(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,v,a),i.memoizedState=ud,i=_l(null,l));else if(Lr(i),Yd(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(xt||ja(t,i,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=Ze,v!==null&&(l=Uo(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ks(t,l),dn(v,t,l),od;Qd(w)||Ic(),i=dd(t,i,a)}else Qd(w)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Pn(w.nextSibling),Ht=i,je=!0,Dr=null,jn=!1,t!==null&&Cg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return f?(Pr(),w=l.fallback,f=i.mode,N=t.child,B=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?w=Fi(B,w):(w=js(w,f,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,_l(null,l),l=i.child,w=t.child.memoizedState,w===null?w=cd(a):(f=w.cachePool,f!==null?(N=wt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Vg(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=hd(t,v,a),i.memoizedState=ud,_l(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=Tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Tc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return Hs(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Cf(t.return,i,a)}function md(t,i,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Ky(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=pt.current,w=(v&2)!==0;if(w?(v=v&1|2,i.flags|=128):v&=1,ae(pt,v),Gt(t,i,l,a),l=je?sl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,a,i);else if(t.tag===19)Yy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),md(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&uc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $i(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ja(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&tc(t)))}function qw(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Mr(i,wt,t.memoizedState.cache),Ls();break;case 27:case 5:ys(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qy(t,i,a):(Lr(i),t=$i(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ja(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Ky(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,zy(t,i,a,i.pendingProps);case 24:Mr(i,wt,t.memoizedState.cache)}return $i(t,i,a)}function Xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return xt=!1,qw(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,je&&(i.flags&1048576)!==0&&Rg(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Bs(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=Gs(t,l),i.tag=1,i=Fy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===be){i.tag=11,i=Ly(null,i,t,l,a);break e}else if(f===D){i.tag=14,i=Py(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Gs(l,i.pendingProps),Fy(t,i,l,f,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,kf(t,i),dl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Mr(i,wt,l),l!==d.cache&&Nf(i,[wt],a,!0),fl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gy(t,i,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),i),al(f),i=Gy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Pn(t.firstChild),Ht=i,je=!0,Dr=null,jn=!0,a=zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ls(),l===f){i=$i(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Ec(t,i),t===null?(a=av(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=Lc(xe.current).createElement(a),l[Et]=i,l[jt]=t,Qt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ys(i),t===null&&je&&(l=i.stateNode=iv(i.type,i.pendingProps,xe.current),Ht=i,jn=!0,f=tt,Qr(i.type)?(Kd=f,tt=Pn(l.firstChild)):tt=f),Gt(t,i,i.pendingProps.children,a),Ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((f=l=tt)&&(l=_1(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Ht=i,tt=Pn(l.firstChild),jn=!1,f=!0):f=!1),f||Or(i)),ys(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Hd(f,d)?l=null:v!==null&&Hd(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=qf(t,i,Mw,null,null,a),Ml._currentValue=f),Ec(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=tt)&&(a=v1(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Ht=i,tt=null,t=!0):t=!1),t||Or(i)),null;case 13:return Qy(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Hs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Us(i),f=Ft(f),l=l(f),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Py(t,i,i.type,i.pendingProps,a);case 15:return Uy(t,i,i.type,i.pendingProps,a);case 19:return Ky(t,i,a);case 31:return Bw(t,i,a);case 22:return zy(t,i,a,i.pendingProps);case 24:return Us(i),l=Ft(wt),t===null?(f=Of(),f===null&&(f=Ze,d=If(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Vf(i),Mr(i,wt,f)):((t.lanes&a)!==0&&(kf(t,i),dl(i,null,null,a),fl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Mr(i,wt,l)):(l=d.cache,Mr(i,wt,l),l!==f.cache&&Nf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function gd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(b_())t.flags|=8192;else throw qs=sc,Mf}else t.flags&=-16777217}function $y(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hv(i))if(b_())t.flags|=8192;else throw qs=sc,Mf}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Cu():536870912,t.lanes|=i,Ka|=i)}function vl(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Hw(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(wt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Af())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(nt(i),$y(i,d)):(nt(i),gd(i,f,null,l,a))):d?d!==t.memoizedState?(Ji(i),nt(i),$y(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),nt(i),gd(i,f,t,l,a)),null;case 27:if(da(i),a=xe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,ka(i)?Ng(i):(t=iv(f,l,a),i.stateNode=t,Ji(i))}return nt(i),null;case 5:if(da(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,ka(i))Ng(i);else{var v=Lc(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Et]=i,d[jt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return nt(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,ka(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q_(t.nodeValue,a)),t||Or(i,!0)}else t=Lc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ka(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ka(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Et]=i}else Ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Pd(i.stateNode.containerInfo),nt(i),null;case 10:return Yi(i.type),nt(i),null;case 19:if(Z(pt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)vl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=uc(t),d!==null){for(i.flags|=128,vl(l,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),je&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>Rc&&(i.flags|=128,f=!0,vl(l,!1),i.lanes=4194304)}else{if(!f)if(t=uc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return nt(i),null}else 2*rn()-l.renderingStartTime>Rc&&a!==536870912&&(i.flags|=128,f=!0,vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=pt.current,ae(pt,f?a&1|2:a&1),je&&Gi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Tn(i),Uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(wt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Fw(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(wt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return da(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ls()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(pt),null;case 4:return st(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),Uf(),t!==null&&Z(zs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(wt),null;case 25:return null;default:return null}}function Jy(t,i){switch(Sf(i),i.tag){case 3:Yi(wt),st();break;case 26:case 27:case 5:da(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Z(pt);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),Uf(),t!==null&&Z(zs);break;case 24:Yi(wt)}}function El(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(w){Ke(i,i.return,w)}}function Ur(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=i;var N=a,B=w;try{B()}catch(Y){Ke(f,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ke(i,i.return,Y)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qg(i,a)}catch(l){Ke(t,t.return,l)}}}function Zy(t,i,a){a.props=Gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,i,l)}}function Tl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ke(t,i,f)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ke(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ke(t,i,f)}else a.current=null}function e_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ke(t,t.return,f)}}function yd(t,i,a){try{var l=t.stateNode;f1(l,t.type,a,i),l[jt]=i}catch(f){Ke(t,t.return,f)}}function t_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&Qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function wc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function n_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Qt(i,l,a),i[Et]=t,i[jt]=a}catch(d){Ke(t,t.return,d)}}var Wi=!1,At=!1,Ed=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Gw(t,i){if(t=t.containerInfo,Bd=Fc,t=pg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,N=-1,B=0,Y=0,W=t,q=null;t:for(;;){for(var Q;W!==a||f!==0&&W.nodeType!==3||(w=v+f),W!==d||l!==0&&W.nodeType!==3||(N=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)q=W,W=Q;for(;;){if(W===t)break t;if(q===a&&++B===f&&(w=v),q===d&&++Y===l&&(N=v),(Q=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Q}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Fc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Gs(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ke(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function r_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),l&4&&El(5,a);break;case 1:if(er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ke(a,a.return,v)}else{var f=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(a,a.return,v)}}l&64&&Wy(a),l&512&&Tl(a,a.return);break;case 3:if(er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(t,i)}catch(v){Ke(a,a.return,v)}}break;case 27:i===null&&l&4&&n_(a);case 26:case 5:er(t,a),i===null&&l&4&&e_(a),l&512&&Tl(a,a.return);break;case 12:er(t,a);break;case 31:er(t,a),l&4&&o_(t,a);break;case 13:er(t,a),l&4&&l_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=e1.bind(null,a),E1(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||At,f=Wi;var d=At;Wi=l,(At=i)&&!d?tr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Wi=f,At=d}break;case 30:break;default:er(t,a)}}function s_(t){var i=t.alternate;i!==null&&(t.alternate=null,s_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,un=!1;function Zi(t,i,a){for(a=a.child;a!==null;)a_(t,i,a),a=a.sibling}function a_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:At||Ci(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Ci(a,i);var l=ot,f=un;Qr(a.type)&&(ot=a.stateNode,un=!1),Zi(t,i,a),Il(a.stateNode),ot=l,un=f;break;case 5:At||Ci(a,i);case 6:if(l=ot,f=un,ot=null,Zi(t,i,a),ot=l,un=f,ot!==null)if(un)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ke(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ke(a,i,d)}break;case 18:ot!==null&&(un?(t=ot,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):W_(ot,a.stateNode));break;case 4:l=ot,f=un,ot=a.stateNode.containerInfo,un=!0,Zi(t,i,a),ot=l,un=f;break;case 0:case 11:case 14:case 15:Ur(2,a,i),At||Ur(4,a,i),Zi(t,i,a);break;case 1:At||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,i,l)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:At=(l=At)||a.memoizedState!==null,Zi(t,i,a),At=l;break;default:Zi(t,i,a)}}function o_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){Ke(i,i.return,a)}}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){Ke(i,i.return,a)}}function Qw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new i_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new i_),i;default:throw Error(s(435,t.tag))}}function Sc(t,i){var a=Qw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=t1.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Qr(w.type)){ot=w.stateNode,un=!1;break e}break;case 5:ot=w.stateNode,un=!1;break e;case 3:case 4:ot=w.stateNode.containerInfo,un=!0;break e}w=w.return}if(ot===null)throw Error(s(160));a_(d,v,f),ot=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)u_(i,t),i=i.sibling}var ti=null;function u_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Ur(3,t,t.return),El(3,t),Ur(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(At||a===null||Ci(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ti;if(cn(i,t),hn(t),l&512&&(At||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var v=uv("link","href",f).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=uv("meta","content",f).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else cv(f,t.type,t.stateNode);else t.stateNode=lv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?cv(f,t.type,t.stateNode):lv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(At||a===null||Ci(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(At||a===null||Ci(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(ce){Ke(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,yd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Ed=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ke(t,t.return,ce)}}break;case 3:if(zc=null,f=ti,ti=Pc(i.containerInfo),cn(i,t),ti=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(ce){Ke(t,t.return,ce)}Ed&&(Ed=!1,c_(t));break;case 4:l=ti,ti=Pc(t.stateNode.containerInfo),cn(i,t),hn(t),ti=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Wi,Y=At;if(Wi=B||f,At=Y||N,cn(i,t),At=Y,Wi=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||Wi||At||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=N.stateNode;var W=N.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ke(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){Ke(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;f?Z_(Q,!0):Z_(N.stateNode,!1)}catch(ce){Ke(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(t_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=_d(t);wc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(ln(v,""),a.flags&=-33);var w=_d(t);wc(t,w,v);break;case 3:case 4:var N=a.stateNode.containerInfo,B=_d(t);vd(t,B,N);break;default:throw Error(s(161))}}catch(Y){Ke(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function c_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;c_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Qs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zy(i,i.return,a),Qs(i);break;case 27:Il(i.stateNode);case 26:case 5:Ci(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:tr(f,d,a),El(4,d);break;case 1:if(tr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ke(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Bg(N[f],w)}catch(B){Ke(l,l.return,B)}}a&&v&64&&Wy(d),Tl(d,d.return);break;case 27:n_(d);case 26:case 5:tr(f,d,a),a&&l===null&&v&4&&e_(d),Tl(d,d.return);break;case 12:tr(f,d,a);break;case 31:tr(f,d,a),a&&v&4&&o_(f,d);break;case 13:tr(f,d,a),a&&v&4&&l_(f,d);break;case 22:d.memoizedState===null&&tr(f,d,a),Tl(d,d.return);break;case 30:break;default:tr(f,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h_(t,i,a,l),i=i.sibling}function h_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),f&2048&&El(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(f&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ke(i,i.return,N)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):bl(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Td(v,i);break;case 24:ni(t,i,a,l),f&2048&&bd(i.alternate,i);break;default:ni(t,i,a,l)}}function Ga(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,w=a,N=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ga(d,v,w,N,f),El(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Ga(d,v,w,N,f):bl(d,v):(Y._visibility|=2,Ga(d,v,w,N,f)),f&&B&2048&&Td(v.alternate,v);break;case 24:Ga(d,v,w,N,f),f&&B&2048&&bd(v.alternate,v);break;default:Ga(d,v,w,N,f)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&Td(l.alternate,l);break;case 24:bl(a,l),f&2048&&bd(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var wl=8192;function Qa(t,i,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)f_(t,i,a),t=t.sibling}function f_(t,i,a){switch(t.tag){case 26:Qa(t,i,a),t.flags&wl&&t.memoizedState!==null&&O1(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,i,a);break;case 3:case 4:var l=ti;ti=Pc(t.stateNode.containerInfo),Qa(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Qa(t,i,a),wl=l):Qa(t,i,a));break;default:Qa(t,i,a)}}function d_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,p_(l,t)}d_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m_(t),t=t.sibling}function m_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):Sl(t);break;default:Sl(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,p_(l,t)}d_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function p_(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var f=l.sibling,d=l.return;if(s_(l),l===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}var Yw={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},Kw=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,De=0,Ye=0,bn=null,zr=!1,Ya=!1,wd=!1,nr=0,ht=0,Br=0,Ys=0,Sd=0,wn=0,Ka=0,xl=null,fn=null,xd=!1,Ac=0,g_=0,Rc=1/0,Cc=null,qr=null,Vt=0,Hr=null,Xa=null,ir=0,Ad=0,Rd=null,y_=null,Al=0,Cd=null;function Sn(){return(He&2)!==0&&De!==0?De&-De:K.T!==null?Vd():Nu()}function __(){if(wn===0)if((De&536870912)===0||je){var t=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),wn=t}else wn=536870912;return t=En.current,t!==null&&(t.flags|=32),wn}function dn(t,i,a){(t===Ze&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&($a(t,0),Fr(t,De,wn,!1)),Ts(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Ys|=a),ht===4&&Fr(t,De,wn,!1)),Ni(t))}function v_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),f=l?Jw(t,i):Id(t,i,!0),d=l;do{if(f===0){Ya&&!l&&Fr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Xw(a)){f=Id(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=t;f=xl;var N=w.current.memoizedState.isDehydrated;if(N&&($a(w,v).flags|=256),v=Id(w,v,!1),v!==2){if(wd&&!N){w.errorRecoveryDisabledLanes|=d,Ys|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){$a(t,0),Fr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fr(l,i,wn,!zr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ac+300-rn(),10<f)){if(Fr(l,i,wn,!zr),hi(l,0,!0)!==0)break e;ir=i,l.timeoutHandle=$_(E_.bind(null,l,a,fn,Cc,xd,i,wn,Ys,Ka,zr,d,"Throttled",-0,0),f);break e}E_(l,a,fn,Cc,xd,i,wn,Ys,Ka,zr,d,null,-0,0)}}break}while(!0);Ni(t)}function E_(t,i,a,l,f,d,v,w,N,B,Y,W,q,Q){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},f_(i,d,W);var ce=(d&62914560)===d?Ac-rn():(d&4194048)===d?g_-rn():0;if(ce=M1(W,ce),ce!==null){ir=d,t.cancelPendingCommit=ce(C_.bind(null,t,i,d,a,l,f,v,w,N,Y,W,null,q,Q)),Fr(t,d,v,!B);return}}C_(t,i,d,a,l,f,v,w,N)}function Xw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fr(t,i,a,l){i&=~Sd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-dt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&bs(t,a,i)}function Nc(){return(He&6)===0?(Rl(0),!1):!0}function Nd(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Qi=Ps=null,Gf(t),za=null,ul=0,t=Ne;for(;t!==null;)Jy(t.alternate,t),t=t.return;Ne=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,p1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ir=0,Nd(),Ze=t,Ne=a=Fi(t.current,null),De=i,Ye=0,bn=null,zr=!1,Ya=Qn(t,i),wd=!1,Ka=wn=Sd=Ys=Br=ht=0,fn=xl=null,xd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-dt(l),d=1<<f;i|=t[f],l&=~d}return nr=i,$u(),a}function T_(t,i){Se=null,K.H=yl,i===Ua||i===rc?(i=Lg(),Ye=3):i===Mf?(i=Lg(),Ye=4):Ye=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ne===null&&(ht=1,_c(t,Mn(i,t.current)))}function b_(){var t=En.current;return t===null?!0:(De&4194048)===De?Ln===null:(De&62914560)===De||(De&536870912)!==0?t===Ln:!1}function w_(){var t=K.H;return K.H=yl,t===null?yl:t}function S_(){var t=K.A;return K.A=Yw,t}function Ic(){ht=4,zr||(De&4194048)!==De&&En.current!==null||(Ya=!0),(Br&134217727)===0&&(Ys&134217727)===0||Ze===null||Fr(Ze,De,wn,!1)}function Id(t,i,a){var l=He;He|=2;var f=w_(),d=S_();(Ze!==t||De!==i)&&(Cc=null,$a(t,i)),i=!1;var v=ht;e:do try{if(Ye!==0&&Ne!==null){var w=Ne,N=bn;switch(Ye){case 8:Nd(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Ye;if(Ye=0,bn=null,Ja(t,w,N,B),a&&Ya){v=0;break e}break;default:B=Ye,Ye=0,bn=null,Ja(t,w,N,B)}}$w(),v=ht;break}catch(Y){T_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Qi=Ps=null,He=l,K.H=f,K.A=d,Ne===null&&(Ze=null,De=0,$u()),v}function $w(){for(;Ne!==null;)x_(Ne)}function Jw(t,i){var a=He;He|=2;var l=w_(),f=S_();Ze!==t||De!==i?(Cc=null,Rc=rn()+500,$a(t,i)):Ya=Qn(t,i);e:do try{if(Ye!==0&&Ne!==null){i=Ne;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,Ja(t,i,d,1);break;case 2:case 9:if(kg(d)){Ye=0,bn=null,A_(i);break}i=function(){Ye!==2&&Ye!==9||Ze!==t||(Ye=7),Ni(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:kg(d)?(Ye=0,bn=null,A_(i)):(Ye=0,bn=null,Ja(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var w=Ne;if(v?hv(v):w.stateNode.complete){Ye=0,bn=null;var N=w.sibling;if(N!==null)Ne=N;else{var B=w.return;B!==null?(Ne=B,Dc(B)):Ne=null}break t}}Ye=0,bn=null,Ja(t,i,d,5);break;case 6:Ye=0,bn=null,Ja(t,i,d,6);break;case 8:Nd(),ht=6;break e;default:throw Error(s(462))}}Ww();break}catch(Y){T_(t,Y)}while(!0);return Qi=Ps=null,K.H=l,K.A=f,He=a,Ne!==null?0:(Ze=null,De=0,$u(),ht)}function Ww(){for(;Ne!==null&&!af();)x_(Ne)}function x_(t){var i=Xy(t.alternate,t,nr);t.memoizedProps=t.pendingProps,i===null?Dc(t):Ne=i}function A_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Hy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Hy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Gf(i);default:Jy(a,i),i=Ne=Sg(i,nr),i=Xy(a,i,nr)}t.memoizedProps=t.pendingProps,i===null?Dc(t):Ne=i}function Ja(t,i,a,l){Qi=Ps=null,Gf(i),za=null,ul=0;var f=i.return;try{if(zw(t,f,i,a,De)){ht=1,_c(t,Mn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ht=1,_c(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(je||l===1?t=!0:Ya||(De&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,t)):Dc(i)}function Dc(t){var i=t;do{if((i.flags&32768)!==0){R_(i,zr);return}t=i.return;var a=Hw(i.alternate,i,nr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function R_(t,i){do{var a=Fw(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function C_(t,i,a,l,f,d,v,w,N){t.cancelPendingCommit=null;do Oc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,uf(t,a,d,v,w,N),t===Ze&&(Ne=Ze=null,De=0),Xa=i,Hr=t,ir=a,Ad=d,Rd=f,y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,n1(Er,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=se.p,se.p=2,v=He,He|=4;try{Gw(t,i,a)}finally{He=v,se.p=f,K.T=l}}Vt=1,N_(),I_(),D_()}}function N_(){if(Vt===1){Vt=0;var t=Hr,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{u_(i,t);var d=qd,v=pg(t.containerInfo),w=d.focusedElem,N=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&mg(w.ownerDocument.documentElement,w)){if(N!==null&&df(w)){var B=N.start,Y=N.end;if(Y===void 0&&(Y=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(Y,w.value.length);else{var W=w.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var Q=q.getSelection(),ce=w.textContent.length,pe=Math.min(N.start,ce),We=N.end===void 0?pe:Math.min(N.end,ce);!Q.extend&&pe>We&&(v=We,We=pe,pe=v);var j=dg(w,pe),M=dg(w,We);if(j&&M&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=W.createRange();z.setStart(j.node,j.offset),Q.removeAllRanges(),pe>We?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(W=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var $=W[w];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Fc=!!Bd,qd=Bd=null}finally{He=f,se.p=l,K.T=a}}t.current=i,Vt=2}}function I_(){if(Vt===2){Vt=0;var t=Hr,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{r_(t,i.alternate,i)}finally{He=f,se.p=l,K.T=a}}Vt=3}}function D_(){if(Vt===4||Vt===3){Vt=0,bu();var t=Hr,i=Xa,a=ir,l=y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Xa=Hr=null,O_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qr=null),zi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{K.T=i,se.p=f}}(ir&3)!==0&&Oc(),Ni(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Cd?Al++:(Al=0,Cd=t):Al=0,Rl(0)}}function O_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Oc(){return N_(),I_(),D_(),M_()}function M_(){if(Vt!==5)return!1;var t=Hr,i=Ad;Ad=0;var a=zi(ir),l=K.T,f=se.p;try{se.p=32>a?32:a,K.T=null,a=Rd,Rd=null;var d=Hr,v=ir;if(Vt=0,Xa=Hr=null,ir=0,(He&6)!==0)throw Error(s(331));var w=He;if(He|=4,m_(d.current),h_(d,d.current,v,a),He=w,Rl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{se.p=f,K.T=l,O_(t,i)}}function V_(t,i,a){i=Mn(a,i),i=ad(t.stateNode,i,2),t=jr(t,i,2),t!==null&&(Ts(t,2),Ni(t))}function Ke(t,i,a){if(t.tag===3)V_(t,t,a);else for(;i!==null;){if(i.tag===3){V_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=Mn(a,t),a=ky(2),l=jr(i,a,2),l!==null&&(jy(a,l,i,t),Ts(l,2),Ni(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Kw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(wd=!0,f.add(a),t=Zw.bind(null,t,i,a),i.then(t,t))}function Zw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>rn()-Ac?(He&2)===0&&$a(t,0):Sd|=a,Ka===De&&(Ka=0)),Ni(t)}function k_(t,i){i===0&&(i=Cu()),t=ks(t,i),t!==null&&(Ts(t,i),Ni(t))}function e1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k_(t,a)}function t1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k_(t,a)}function n1(t,i){return Mt(t,i)}var Mc=null,Wa=null,Od=!1,Vc=!1,Md=!1,Gr=0;function Ni(t){t!==Wa&&t.next===null&&(Wa===null?Mc=Wa=t:Wa=Wa.next=t),Vc=!0,Od||(Od=!0,r1())}function Rl(t,i){if(!Md&&Vc){Md=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=f&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,U_(l,d))}else d=De,d=hi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,U_(l,d));l=l.next}while(a);Md=!1}}function i1(){j_()}function j_(){Vc=Od=!1;var t=0;Gr!==0&&m1()&&(t=Gr);for(var i=rn(),a=null,l=Mc;l!==null;){var f=l.next,d=L_(l,i);d===0?(l.next=null,a===null?Mc=f:a.next=f,f===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(Vc=!0)),l=f}Vt!==0&&Vt!==5||Rl(t),Gr!==0&&(Gr=0)}function L_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),w=1<<v,N=f[v];N===-1?((w&a)===0||(w&l)!==0)&&(f[v]=lf(w,i)):N<=i&&(t.expiredLanes|=w),d&=~w}if(i=Ze,a=De,a=hi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vr(l),zi(a)){case 2:case 8:a=Lo;break;case 32:a=Er;break;case 268435456:a=wu;break;default:a=Er}return l=P_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var l=De;return l=hi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(v_(t,l,i),L_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function U_(t,i){if(Oc())return null;v_(t,i,!0)}function r1(){g1(function(){(He&6)!==0?Mt(jo,i1):j_()})}function Vd(){if(Gr===0){var t=La;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Gr=t}return Gr}function z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function B_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function s1(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=z_((f[jt]||null).action),v=l.submitter;v&&(i=(i=v[jt]||null)?z_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var w=new bi("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gr!==0){var N=v?B_(f,v):new FormData(f);ed(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=v?B_(f,v):new FormData(f),ed(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var kd=0;kd<yf.length;kd++){var jd=yf[kd],a1=jd.toLowerCase(),o1=jd[0].toUpperCase()+jd.slice(1);ei(a1,"on"+o1)}ei(_g,"onAnimationEnd"),ei(vg,"onAnimationIteration"),ei(Eg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(ww,"onTransitionRun"),ei(Sw,"onTransitionStart"),ei(xw,"onTransitionCancel"),ei(Tg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var w=l[v],N=w.instance,B=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=B;try{d(f)}catch(Y){Xu(Y)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(w=l[v],N=w.instance,B=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=B;try{d(f)}catch(Y){Xu(Y)}f.currentTarget=null,d=N}}}}function Ie(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=t+"__bubble";a.has(l)||(H_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),H_(a,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[kc]){t[kc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(l1.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,Ld("selectionchange",!1,i))}}function H_(t,i,a,l){switch(_v(i)){case 2:var f=j1;break;case 8:f=L1;break;default:f=Zd}a=f.bind(null,i,a,t),f=void 0,!Rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Ud(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=pi(w),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}w=w.parentNode}}l=l.return}Ar(function(){var B=d,Y=Nn(a),W=[];e:{var q=bg.get(t);if(q!==void 0){var Q=bi,ce=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Q=Qu;break;case"focusin":ce="focus",Q=Ds;break;case"focusout":ce="blur",Q=Ds;break;case"beforeblur":case"afterblur":Q=Ds;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case _g:case vg:case Eg:Q=Uu;break;case Tg:Q=S;break;case"scroll":case"scrollend":Q=Wo;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hi;break;case"toggle":case"beforetoggle":Q=we}var pe=(i&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),j=pe?q!==null?q+"Capture":null:q;pe=[];for(var M=B,z;M!==null;){var $=M;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||j===null||($=$n(M,j),$!=null&&pe.push(Nl(M,$,z))),We)break;M=M.return}0<pe.length&&(q=new Q(q,ce,null,a,Y),W.push({event:q,listeners:pe}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==Xo&&(ce=a.relatedTarget||a.fromElement)&&(pi(ce)||ce[di]))break e;if((Q||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=B,ce=ce?pi(ce):null,ce!==null&&(We=u(ce),pe=ce.tag,ce!==We||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(Q=null,ce=B),Q!==ce)){if(pe=Zo,$="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Hi,$="onPointerLeave",j="onPointerEnter",M="pointer"),We=Q==null?q:gn(Q),z=ce==null?q:gn(ce),q=new pe($,M+"leave",Q,a,Y),q.target=We,q.relatedTarget=z,$=null,pi(Y)===B&&(pe=new pe(j,M+"enter",ce,a,Y),pe.target=z,pe.relatedTarget=We,$=pe),We=$,Q&&ce)t:{for(pe=u1,j=Q,M=ce,z=0,$=j;$;$=pe($))z++;$=0;for(var fe=M;fe;fe=pe(fe))$++;for(;0<z-$;)j=pe(j),z--;for(;0<$-z;)M=pe(M),$--;for(;z--;){if(j===M||M!==null&&j===M.alternate){pe=j;break t}j=pe(j),M=pe(M)}pe=null}else pe=null;Q!==null&&F_(W,q,Q,pe,!1),ce!==null&&We!==null&&F_(W,We,ce,pe,!0)}}e:{if(q=B?gn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var ze=og;else if(sg(q))if(lg)ze=Ew;else{ze=_w;var he=yw}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ta(B.elementType)&&(ze=og):ze=vw;if(ze&&(ze=ze(t,B))){ag(W,ze,a,Y);break e}he&&he(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Qo(q,"number",q.value)}switch(he=B?gn(B):window,t){case"focusin":(sg(he)||he.contentEditable==="true")&&(Na=he,mf=B,rl=null);break;case"focusout":rl=mf=Na=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,gg(W,a,Y);break;case"selectionchange":if(bw)break;case"keydown":case"keyup":gg(W,a,Y)}var Ae;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ca?Os(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(xi&&a.locale!=="ko"&&(Ca||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ca&&(Ae=Jo()):(Ti=Y,$o="value"in Ti?Ti.value:Ti.textContent,Ca=!0)),he=jc(B,Oe),0<he.length&&(Oe=new Si(Oe,t,null,a,Y),W.push({event:Oe,listeners:he}),Ae?Oe.data=Ae:(Ae=Ra(a),Ae!==null&&(Oe.data=Ae)))),(Ae=Dn?dw(t,a):mw(t,a))&&(Oe=jc(B,"onBeforeInput"),0<Oe.length&&(he=new Si("onBeforeInput","beforeinput",null,a,Y),W.push({event:he,listeners:Oe}),he.data=Ae)),s1(W,t,B,a,Y)}q_(W,i)})}function Nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(t,a),f!=null&&l.unshift(Nl(t,f,d)),f=$n(t,i),f!=null&&l.push(Nl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function u1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function F_(t,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var w=a,N=w.alternate,B=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||B===null||(N=B,f?(B=$n(a,d),B!=null&&v.unshift(Nl(a,B,N))):f||(B=$n(a,d),B!=null&&v.push(Nl(a,B,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var c1=/\r\n?/g,h1=/\u0000|\uFFFD/g;function G_(t){return(typeof t=="string"?t:""+t).replace(c1,`
`).replace(h1,"")}function Q_(t,i){return i=G_(i),G_(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),va(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,va(t,a,l))}}function zd(t,i,a,l,f,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,v,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var w=d=v=f=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":N=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(t,i,l,Y,a,null)}}Mu(t,d,w,N,B,v,f,!1);return;case"select":Ie("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Je(t,i,f,w,a,null)}i=d,a=v,t.multiple=!!l,i!=null?br(t,!!l,i,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(t,i,v,w,a,null)}wr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ie(Cl[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Ta(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&zd(t,i,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(t,i,w,l,a,null))}function f1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,N=null,B=null,Y=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,W)}}for(var q in l){var Q=l[q];if(W=a[q],l.hasOwnProperty(q)&&(Q!=null||W!=null))switch(q){case"type":d=Q;break;case"name":f=Q;break;case"checked":B=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==W&&Je(t,i,q,Q,l,W)}}Ea(t,v,w,N,B,Y,d,f);return;case"select":Q=v=w=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":q=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==N&&Je(t,i,f,d,l,N)}i=w,a=v,l=Q,q!=null?br(t,!!a,q,!1):!!l!=!!a&&(i!=null?br(t,!!a,i,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(t,i,w,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":q=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,v,f,l,d)}Vu(t,q,Q);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,i,ce,null,l,q)}for(N in l)if(q=l[N],Q=a[N],l.hasOwnProperty(N)&&q!==Q&&(q!=null||Q!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,N,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,q);for(B in l)if(q=l[B],Q=a[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,Q)}return;default:if(Ta(i)){for(var We in a)q=a[We],a.hasOwnProperty(We)&&q!==void 0&&!l.hasOwnProperty(We)&&zd(t,i,We,void 0,l,q);for(Y in l)q=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||q===Q||q===void 0&&Q===void 0||zd(t,i,Y,q,l,Q);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&Je(t,i,j,null,l,q);for(W in l)q=l[W],Q=a[W],!l.hasOwnProperty(W)||q===Q||q==null&&Q==null||Je(t,i,W,q,l,Q)}function Y_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,w=f.duration;if(d&&w&&Y_(v)){for(v=0,w=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>w)break;var Y=N.transferSize,W=N.initiatorType;Y&&Y_(W)&&(N=N.responseEnd,v+=Y*(N<w?1:(w-B)/(N-B)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,qd=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function K_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function m1(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,p1=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,g1=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(t){return J_.resolve(null).then(t).catch(y1)}:$_;function y1(t){setTimeout(function(){throw t})}function Qr(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),no(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[mi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Il(t.ownerDocument.body);a=f}while(a);no(i)}function Z_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _1(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function v1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function ev(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function E1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function tv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function nv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function iv(t,i,a){switch(i=Lc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var Un=new Map,rv=new Set;function Pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=se.d;se.d={f:T1,r:b1,D:w1,C:S1,L:x1,m:A1,X:C1,S:R1,M:N1};function T1(){var t=rr.f(),i=Nc();return t||i}function b1(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Ty(i):rr.r(t)}var Za=typeof document>"u"?null:document;function sv(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),rv.has(f)||(rv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Qt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function w1(t){rr.D(t),sv("dns-prefetch",t,null)}function S1(t,i){rr.C(t,i),sv("preconnect",t,i)}function x1(t,i,a){rr.L(t,i,a);var l=Za;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=eo(t);break;case"script":d=to(t)}Un.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Qt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function A1(t,i){rr.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Un.has(d)&&(t=T({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Qt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function R1(t,i,a){rr.S(t,i,a);var l=Za;if(l&&t){var f=gi(l).hoistableStyles,d=eo(t);i=i||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Dl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Xd(t,a);var N=v=l.createElement("link");Tt(N),Qt(N,"link",t),N._p=new Promise(function(B,Y){N.onload=B,N.onerror=Y}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Uc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function C1(t,i){rr.X(t,i);var a=Za;if(a&&t){var l=gi(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(t=T({src:t,async:!0},i),(i=Un.get(f))&&$d(t,i),d=a.createElement("script"),Tt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function N1(t,i){rr.M(t,i);var a=Za;if(a&&t){var l=gi(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Un.get(f))&&$d(t,i),d=a.createElement("script"),Tt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function av(t,i,a,l){var f=(f=xe.current)?Pc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=gi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=gi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||I1(f,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=gi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+on(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function ov(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function I1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),Tt(i),t.head.appendChild(i))}function to(t){return'[src="'+on(t)+'"]'}function Ol(t){return"script[async]"+t}function lv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Qt(l,"style",f),Uc(l,a.precedence,t),i.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Dl(f));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=ov(a),(f=Un.get(f))&&Xd(l,f),d=(t.ownerDocument||t).createElement("link"),Tt(d);var v=d;return v._p=new Promise(function(w,N){v.onload=w,v.onerror=N}),Qt(d,"link",l),i.state.loading|=4,Uc(d,a.precedence,t),i.instance=d;case"script":return d=to(a.src),(f=t.querySelector(Ol(d)))?(i.instance=f,Tt(f),f):(l=a,(f=Un.get(d))&&(l=T({},a),$d(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Tt(f),Qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uc(l,a.precedence,t));return i.instance}function Uc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var zc=null;function uv(t,i,a){if(zc===null){var l=new Map,f=zc=new Map;f.set(a,l)}else f=zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[mi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function cv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function D1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function O1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=i.querySelector(Dl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Bc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=ov(l),(f=Un.get(f))&&Xd(l,f),d=d.createElement("link"),Tt(d);var v=d;v._p=new Promise(function(w,N){v.onload=w,v.onerror=N}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function M1(t,i){return t.stylesheets&&t.count===0&&Hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*d1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function Hc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,i.forEach(V1,t),qc=null,Bc.call(t))}function V1(t,i){if(!(i.state.loading&4)){var a=qc.get(t);if(a)var l=a.get(null);else{a=new Map,qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Bc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function k1(t,i,a,l,f,d,v,w,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function fv(t,i,a,l,f,d,v,w,N,B,Y,W){return t=new k1(t,i,a,v,N,B,Y,W,w),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function dv(t){return t?(t=Oa,t):Oa}function mv(t,i,a,l,f,d){f=dv(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,i),a!==null&&(dn(a,t,i),hl(a,t,i))}function pv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Wd(t,i){pv(t,i),(t=t.alternate)&&pv(t,i)}function gv(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&dn(i,t,67108864),Wd(t,67108864)}}function yv(t){if(t.tag===13||t.tag===31){var i=Sn();i=ws(i);var a=ks(t,i);a!==null&&dn(a,t,i),Wd(t,i)}}var Fc=!0;function j1(t,i,a,l){var f=K.T;K.T=null;var d=se.p;try{se.p=2,Zd(t,i,a,l)}finally{se.p=d,K.T=f}}function L1(t,i,a,l){var f=K.T;K.T=null;var d=se.p;try{se.p=8,Zd(t,i,a,l)}finally{se.p=d,K.T=f}}function Zd(t,i,a,l){if(Fc){var f=em(l);if(f===null)Ud(t,i,l,Gc,a),vv(t,l);else if(U1(f,t,i,a,l))l.stopPropagation();else if(vv(t,l),i&4&&-1<P1.indexOf(t)){for(;f!==null;){var d=Cn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ci(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var N=1<<31-dt(v);w.entanglements[1]|=N,v&=~N}Ni(d),(He&6)===0&&(Rc=rn()+500,Rl(0))}}break;case 31:case 13:w=ks(d,2),w!==null&&dn(w,d,2),Nc(),Wd(d,2)}if(d=em(l),d===null&&Ud(t,i,l,Gc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Ud(t,i,l,null,a)}}function em(t){return t=Nn(t),tm(t)}var Gc=null;function tm(t){if(Gc=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gc=t,null}function _v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case jo:return 2;case Lo:return 8;case Er:case of:return 32;case wu:return 268435456;default:return 32}default:return 32}}var nm=!1,Yr=null,Kr=null,Xr=null,Vl=new Map,kl=new Map,$r=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vv(t,i){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function jl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Cn(i),i!==null&&gv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function U1(t,i,a,l,f){switch(i){case"focusin":return Yr=jl(Yr,t,i,a,l,f),!0;case"dragenter":return Kr=jl(Kr,t,i,a,l,f),!0;case"mouseover":return Xr=jl(Xr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,jl(Vl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,kl.set(d,jl(kl.get(d)||null,t,i,a,l,f)),!0}return!1}function Ev(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){yv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){yv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=Cn(a),i!==null&&gv(i),t.blockedOn=a,!1;i.shift()}return!0}function Tv(t,i,a){Qc(t)&&a.delete(i)}function z1(){nm=!1,Yr!==null&&Qc(Yr)&&(Yr=null),Kr!==null&&Qc(Kr)&&(Kr=null),Xr!==null&&Qc(Xr)&&(Xr=null),Vl.forEach(Tv),kl.forEach(Tv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,z1)))}var Kc=null;function bv(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(t){function i(N){return Yc(N,t)}Yr!==null&&Yc(Yr,t),Kr!==null&&Yc(Kr,t),Xr!==null&&Yc(Xr,t),Vl.forEach(i),kl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[jt]||null;if(typeof d=="function")v||bv(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[jt]||null)w=v.formAction;else if(tm(f)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),bv(a)}}}function wv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function im(t){this._internalRoot=t}Xc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();mv(a,l,t,i,null,null)},Xc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;mv(t.current,2,null,t,null,null),Nc(),i[di]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&Ev(t)}};var Sv=e.version;if(Sv!=="19.2.1")throw Error(s(527,Sv,"19.2.1"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var B1={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Gn=$c.inject(B1),Bt=$c}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Dy,d=Oy,v=My;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=fv(t,1,!1,null,null,a,l,null,f,d,v,wv),t[di]=i.current,Pd(t),new im(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Dy,v=Oy,w=My,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=fv(t,1,!0,i,a??null,l,f,N,d,v,w,wv),i.context=dv(null),a=i.current,l=Sn(),l=ws(l),f=kr(l),f.callback=null,jr(a,f,l),a=l,i.current.lanes=a,Ts(i,a),Ni(i),t[di]=i.current,Pd(t),new Xc(i)},Pl.version="19.2.1",Pl}var Vv;function J1(){if(Vv)return am.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=$1(),am.exports}var W1=J1();var kv="popstate";function Z1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ia(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Am("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Wl(u))}function s(o,u){An(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return tS(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function An(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eS(){return Math.random().toString(36).substring(2,10)}function jv(r,e){return{usr:r.state,key:r.key,idx:e}}function Am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||s||eS()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ia(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function tS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let G=b(),te=G==null?null:G-y;y=G,p&&p({action:m,location:X.location,delta:te})}function x(G,te){m="PUSH";let ne=Am(X.location,G,te);n&&n(ne,G),y=b()+1;let re=jv(ne,y),be=X.createHref(ne);try{h.pushState(re,"",be)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(be)}u&&p&&p({action:m,location:X.location,delta:1})}function I(G,te){m="REPLACE";let ne=Am(X.location,G,te);n&&n(ne,G),y=b();let re=jv(ne,y),be=X.createHref(ne);h.replaceState(re,"",be),u&&p&&p({action:m,location:X.location,delta:0})}function H(G){return nS(G)}let X={get action(){return m},get location(){return r(o,h)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,T),p=G,()=>{o.removeEventListener(kv,T),p=null}},createHref(G){return e(o,G)},createURL:H,encodeLocation(G){let te=H(G);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:x,replace:I,go(G){return h.go(G)}};return X}function nS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function TE(r,e,n="/"){return iS(r,e,n,!1)}function iS(r,e,n,s){let o=typeof e=="string"?ia(e):e,u=cr(o.pathname||"/",n);if(u==null)return null;let h=bE(r);rS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=pS(u);m=dS(h[p],y,s)}return m}function bE(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;lt(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=or([s,b.relativePath]),x=n.concat(b);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),bE(h.children,e,x,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:hS(T,h.index),routesMeta:x})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of wE(h.path))u(h,m,!0,p)}),e}function wE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=wE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function rS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:fS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sS=/^:[\w-]+$/,aS=3,oS=2,lS=1,uS=10,cS=-2,Lv=r=>r==="*";function hS(r,e){let n=r.split("/"),s=n.length;return n.some(Lv)&&(s+=cS),e&&(s+=oS),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(sS.test(u)?aS:u===""?lS:uS),s)}function fS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function dS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),x=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:or([u,T.pathname]),pathnameBase:ES(or([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=or([u,T.pathnameBase]))}return h}function _h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=mS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:T},x)=>{if(b==="*"){let H=m[x]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const I=m[x];return T&&!I?y[b]=void 0:y[b]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function mS(r,e=!1,n=!0){An(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var gS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yS=r=>gS.test(r);function _S(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ia(r):r,u;if(n)if(yS(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),An(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Pv(n.substring(1),"/"):u=Pv(n,e)}else u=e;return{pathname:u,search:TS(s),hash:bS(o)}}function Pv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tp(r){let e=vS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function np(r,e,n,s=!1){let o;typeof r=="string"?o=ia(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}m=T>=0?e[T]:"/"}let p=_S(o,m),y=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),ES=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),TS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function wS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function SS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SE=["POST","PUT","PATCH","DELETE"];new Set(SE);var xS=["GET",...SE];new Set(xS);var bo=P.createContext(null);bo.displayName="DataRouter";var Lh=P.createContext(null);Lh.displayName="DataRouterState";P.createContext(!1);var xE=P.createContext({isTransitioning:!1});xE.displayName="ViewTransition";var AS=P.createContext(new Map);AS.displayName="Fetchers";var RS=P.createContext(null);RS.displayName="Await";var Hn=P.createContext(null);Hn.displayName="Navigation";var uu=P.createContext(null);uu.displayName="Location";var Fn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var ip=P.createContext(null);ip.displayName="RouteError";function CS(r,{relative:e}={}){lt(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Hn),{hash:o,pathname:u,search:h}=cu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:h,hash:o})}function wo(){return P.useContext(uu)!=null}function ps(){return lt(wo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(uu).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(r){P.useContext(Hn).static||P.useLayoutEffect(r)}function ra(){let{isDataRoute:r}=P.useContext(Fn);return r?FS():NS()}function NS(){lt(wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(bo),{basename:e,navigator:n}=P.useContext(Hn),{matches:s}=P.useContext(Fn),{pathname:o}=ps(),u=JSON.stringify(tp(s)),h=P.useRef(!1);return RE(()=>{h.current=!0}),P.useCallback((p,y={})=>{if(An(h.current,AE),!h.current)return;if(typeof p=="number"){n.go(p);return}let b=np(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:or([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,o,r])}var IS=P.createContext(null);function DS(r){let e=P.useContext(Fn).outlet;return P.useMemo(()=>e&&P.createElement(IS.Provider,{value:r},e),[e,r])}function OS(){let{matches:r}=P.useContext(Fn),e=r[r.length-1];return e?e.params:{}}function cu(r,{relative:e}={}){let{matches:n}=P.useContext(Fn),{pathname:s}=ps(),o=JSON.stringify(tp(n));return P.useMemo(()=>np(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function MS(r,e){return CE(r,e)}function CE(r,e,n,s,o){lt(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Hn),{matches:h}=P.useContext(Fn),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";NE(y,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let x=ps(),I;if(e){let ne=typeof e=="string"?ia(e):e;lt(b==="/"||ne.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),I=ne}else I=x;let H=I.pathname||"/",X=H;if(b!=="/"){let ne=b.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=TE(r,{pathname:X});An(T||G!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),An(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=PS(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:or([b,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?b:or([b,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&te?P.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},te):te}function VS(){let r=HS(),e=wS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var kS=P.createElement(VS,null),jS=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?P.createElement(Fn.Provider,{value:this.props.routeContext},P.createElement(ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LS({routeContext:r,match:e,children:n}){let s=P.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Fn.Provider,{value:r},n)}function PS(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let b=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);lt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:x,errors:I}=n,H=T.route.loader&&!x.hasOwnProperty(T.route.id)&&(!I||I[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(b,T)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:SS(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,x)=>{let I,H=!1,X=null,G=null;n&&(I=h&&T.route.id?h[T.route.id]:void 0,X=T.route.errorElement||kS,m&&(p<0&&x===0?(NE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,G=null):p===x&&(H=!0,G=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,x+1)),ne=()=>{let re;return I?re=X:H?re=G:T.route.Component?re=P.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=b,P.createElement(LS,{match:T,routeContext:{outlet:b,matches:te,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||x===0)?P.createElement(jS,{location:n.location,revalidation:n.revalidation,component:X,error:I,children:ne(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:y}):ne()},null)}function rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(r){let e=P.useContext(bo);return lt(e,rp(r)),e}function zS(r){let e=P.useContext(Lh);return lt(e,rp(r)),e}function BS(r){let e=P.useContext(Fn);return lt(e,rp(r)),e}function sp(r){let e=BS(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function qS(){return sp("useRouteId")}function HS(){let r=P.useContext(ip),e=zS("useRouteError"),n=sp("useRouteError");return r!==void 0?r:e.errors?.[n]}function FS(){let{router:r}=US("useNavigate"),e=sp("useNavigate"),n=P.useRef(!1);return RE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{An(n.current,AE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Uv={};function NE(r,e,n){!e&&!Uv[r]&&(Uv[r]=!0,An(!1,n))}P.memo(GS);function GS({routes:r,future:e,state:n,unstable_onError:s}){return CE(r,void 0,n,s,e)}function QS({to:r,replace:e,state:n,relative:s}){lt(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Hn);An(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Fn),{pathname:h}=ps(),m=ra(),p=np(r,tp(u),h,s==="path"),y=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function YS(r){return DS(r.context)}function xn(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){lt(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ia(n));let{pathname:y="/",search:b="",hash:T="",state:x=null,key:I="default"}=n,H=P.useMemo(()=>{let X=cr(y,m);return X==null?null:{location:{pathname:X,search:b,hash:T,state:x,key:I},navigationType:s}},[m,y,b,T,x,I,s]);return An(H!=null,`<Router basename="${m}"> is not able to match the URL "${y}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:P.createElement(Hn.Provider,{value:p},P.createElement(uu.Provider,{children:e,value:H}))}function XS({children:r,location:e}){return MS(Rm(r),e)}function Rm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Rm(s.props.children,u));return}lt(s.type===xn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Rm(s.props.children,u)),n.push(h)}),n}var ah="get",oh="application/x-www-form-urlencoded";function Ph(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function $S(r){return Ph(r)&&r.tagName.toLowerCase()==="button"}function JS(r){return Ph(r)&&r.tagName.toLowerCase()==="form"}function WS(r){return Ph(r)&&r.tagName.toLowerCase()==="input"}function ZS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ex(r,e){return r.button===0&&(!e||e==="_self")&&!ZS(r)}var Jc=null;function tx(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!nx.has(r)?(An(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function ix(r,e){let n,s,o,u,h;if(JS(r)){let m=r.getAttribute("action");s=m?cr(m,e):null,n=r.getAttribute("method")||ah,o=hm(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if($S(r)||WS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=hm(r.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!tx()){let{name:y,type:b,value:T}=r;if(b==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,T)}}else{if(Ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ap(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rx(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function sx(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ax(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ox(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await sx(u,n);return h.links?h.links():[]}return[]}));return hx(s.flat(1).filter(ax).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zv(r,e,n,s,o,u){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function lx(r,e,{includeHydrateFallback:n}={}){return ux(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ux(r){return[...new Set(r)]}function cx(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function hx(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(cx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function IE(){let r=P.useContext(bo);return ap(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fx(){let r=P.useContext(Lh);return ap(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var op=P.createContext(void 0);op.displayName="FrameworkContext";function DE(){let r=P.useContext(op);return ap(r,"You must render this element inside a <HydratedRouter> element"),r}function dx(r,e){let n=P.useContext(op),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:T}=e,x=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let X=te=>{te.forEach(ne=>{h(ne.isIntersecting)})},G=new IntersectionObserver(X,{threshold:.5});return x.current&&G.observe(x.current),()=>{G.disconnect()}}},[r]),P.useEffect(()=>{if(s){let X=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(X)}}},[s]);let I=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Ul(m,I),onBlur:Ul(p,H),onMouseEnter:Ul(y,I),onMouseLeave:Ul(b,H),onTouchStart:Ul(T,I)}]:[!1,x,{}]}function Ul(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function mx({page:r,...e}){let{router:n}=IE(),s=P.useMemo(()=>TE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(gx,{page:r,matches:s,...e}):null}function px(r){let{manifest:e,routeModules:n}=DE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return ox(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function gx({page:r,matches:e,...n}){let s=ps(),{manifest:o,routeModules:u}=DE(),{basename:h}=IE(),{loaderData:m,matches:p}=fx(),y=P.useMemo(()=>zv(r,e,p,o,s,"data"),[r,e,p,o,s]),b=P.useMemo(()=>zv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,X=!1;if(e.forEach(te=>{let ne=o.routes[te.route.id];!ne||!ne.hasLoader||(!y.some(re=>re.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ne.hasClientLoader?X=!0:H.add(te.route.id))}),H.size===0)return[];let G=rx(r,h,"data");return X&&H.size>0&&G.searchParams.set("_routes",e.filter(te=>H.has(te.route.id)).map(te=>te.route.id).join(",")),[G.pathname+G.search]},[h,m,s,o,y,e,r,u]),x=P.useMemo(()=>lx(b,o),[b,o]),I=px(b);return P.createElement(P.Fragment,null,T.map(H=>P.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),x.map(H=>P.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),I.map(({key:H,link:X})=>P.createElement("link",{key:H,nonce:n.nonce,...X})))}function yx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.10.1")}catch{}function _x({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=Z1({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(y=>{n===!1?m(y):P.startTransition(()=>m(y))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(KS,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:b,viewTransition:T,...x},I){let{basename:H,unstable_useTransitions:X}=P.useContext(Hn),G=typeof y=="string"&&ME.test(y),te,ne=!1;if(typeof y=="string"&&G&&(te=y,OE))try{let k=new URL(window.location.href),O=y.startsWith("//")?new URL(k.protocol+y):new URL(y),L=cr(O.pathname,H);O.origin===k.origin&&L!=null?y=L+O.search+O.hash:ne=!0}catch{An(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=CS(y,{relative:o}),[be,Ce,Re]=dx(s,x),D=Tx(y,{replace:h,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T,unstable_useTransitions:X});function A(k){e&&e(k),k.defaultPrevented||D(k)}let R=P.createElement("a",{...x,...Re,href:te||re,onClick:ne||u?e:A,ref:yx(I,Ce),target:p,"data-discover":!G&&n==="render"?"true":void 0});return be&&!G?P.createElement(P.Fragment,null,R,P.createElement(mx,{page:re})):R});Zt.displayName="Link";var VE=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...y},b){let T=cu(h,{relative:y.relative}),x=ps(),I=P.useContext(Lh),{navigator:H,basename:X}=P.useContext(Hn),G=I!=null&&Ax(T)&&m===!0,te=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,ne=x.pathname,re=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&X&&(re=cr(re,X)||re);const be=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Ce=ne===te||!o&&ne.startsWith(te)&&ne.charAt(be)==="/",Re=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),D={isActive:Ce,isPending:Re,isTransitioning:G},A=Ce?e:void 0,R;typeof s=="function"?R=s(D):R=[s,Ce?"active":null,Re?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return P.createElement(Zt,{...y,"aria-current":A,className:R,ref:b,style:k,to:h,viewTransition:m},typeof p=="function"?p(D):p)});VE.displayName="NavLink";var vx=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ah,action:m,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:T,...x},I)=>{let{unstable_useTransitions:H}=P.useContext(Hn),X=Sx(),G=xx(m,{relative:y}),te=h.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&ME.test(m),re=be=>{if(p&&p(be),be.defaultPrevented)return;be.preventDefault();let Ce=be.nativeEvent.submitter,Re=Ce?.getAttribute("formmethod")||h,D=()=>X(Ce||be.currentTarget,{fetcherKey:e,method:Re,navigate:n,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:T});H&&n!==!1?P.startTransition(()=>D()):D()};return P.createElement("form",{ref:I,method:te,action:G,onSubmit:s?p:re,...x,"data-discover":!ne&&r==="render"?"true":void 0})});vx.displayName="Form";function Ex(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(r){let e=P.useContext(bo);return lt(e,Ex(r)),e}function Tx(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_useTransitions:m}={}){let p=ra(),y=ps(),b=cu(r,{relative:u});return P.useCallback(T=>{if(ex(T,e)){T.preventDefault();let x=n!==void 0?n:Wl(y)===Wl(b),I=()=>p(r,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:h});m?P.startTransition(()=>I()):I()}},[y,p,b,n,s,e,r,o,u,h,m])}var bx=0,wx=()=>`__${String(++bx)}__`;function Sx(){let{router:r}=kE("useSubmit"),{basename:e}=P.useContext(Hn),n=qS(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:p,encType:y,formData:b,body:T}=ix(u,e);if(h.navigate===!1){let x=h.fetcherKey||wx();await s(x,n,h.action||m,{preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||p,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||m,{preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||p,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function xx(r,{relative:e}={}){let{basename:n}=P.useContext(Hn),s=P.useContext(Fn);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(r||".",{relative:e})},h=ps();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),Wl(u)}function Ax(r,{relative:e}={}){let n=P.useContext(xE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kE("useViewTransitionState"),o=cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,h)!=null||_h(o.pathname,u)!=null}const Rx=()=>{};var Bv={};const jE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cx=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,I=y&63;p||(I=64,h||(x=64)),s.push(n[b],n[T],n[x],n[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(jE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Cx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new Nx;const x=u<<2|m>>4;if(s.push(x),y!==64){const I=m<<4&240|y>>2;if(s.push(I),T!==64){const H=y<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ix=function(r){const e=jE(r);return LE.encodeByteArray(e,!0)},vh=function(r){return Ix(r).replace(/\./g,"")},PE=function(r){try{return LE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ox=()=>Dx().__FIREBASE_DEFAULTS__,Mx=()=>{if(typeof process>"u"||typeof Bv>"u")return;const r=Bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Vx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PE(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return Rx()||Ox()||Mx()||Vx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UE=r=>Uh()?.emulatorHosts?.[r],kx=r=>{const e=UE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zE=()=>Uh()?.config,BE=r=>Uh()?.[`_${r}`];class jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qE(r){return(await fetch(r,{credentials:"include"})).ok}function Lx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vh(JSON.stringify(n)),vh(JSON.stringify(h)),""].join(".")}const Ql={};function Px(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function Ux(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let qv=!1;function HE(r,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Ql[r]===e||Ql[r]||qv)return;Ql[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Px().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,I){x.setAttribute("width","24"),x.setAttribute("id",I),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{qv=!0,h()},x}function b(x,I){x.setAttribute("id",I),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=Ux(s),I=n("text"),H=document.getElementById(I)||document.createElement("span"),X=n("learnmore"),G=document.getElementById(X)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const re=x.element;m(re),b(G,X);const be=y();p(ne,te),re.append(ne,H,G,be),document.body.appendChild(re)}u?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Bx(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Fx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gx(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Qx(){return!Bx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yx(){try{return typeof indexedDB=="object"}catch{return!1}}function Kx(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Xx="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Xx,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?$x(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new gr(o,m,s)}}function $x(r,e){return r.replace(Jx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Jx=/\{\$([^}]+)}/g;function Wx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Hv(u)&&Hv(h)){if(!Js(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Hv(r){return r!==null&&typeof r=="object"}function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Zx(r,e){const n=new eA(r,e);return n.subscribe.bind(n)}class eA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");tA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}function nn(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ks="[DEFAULT]";class nA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rA(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iA(r){return r===Ks?void 0:r}function rA(r){return r.instantiationMode==="EAGER"}class sA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const aA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},oA=Me.INFO,lA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},uA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=lA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=oA,this._logHandler=uA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const cA=(r,e)=>e.some(n=>r instanceof n);let Fv,Gv;function hA(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fA(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,Cm=new WeakMap,GE=new WeakMap,dm=new WeakMap,up=new WeakMap;function dA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(rs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&FE.set(n,r)}).catch(()=>{}),up.set(e,r),e}function mA(r){if(Cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Cm.set(r,e)}let Nm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||GE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function pA(r){Nm=r(Nm)}function gA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return GE.set(s,e.sort?e.sort():[e]),rs(s)}:fA().includes(r)?function(...e){return r.apply(mm(this),e),rs(FE.get(this))}:function(...e){return rs(r.apply(mm(this),e))}}function yA(r){return typeof r=="function"?gA(r):(r instanceof IDBTransaction&&mA(r),cA(r,hA())?new Proxy(r,Nm):r)}function rs(r){if(r instanceof IDBRequest)return dA(r);if(dm.has(r))return dm.get(r);const e=yA(r);return e!==r&&(dm.set(r,e),up.set(e,r)),e}const mm=r=>up.get(r);function _A(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=rs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(rs(h.result),p.oldVersion,p.newVersion,rs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const vA=["get","getKey","getAll","getAllKeys","count"],EA=["put","add","delete","clear"],pm=new Map;function Qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=EA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vA.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return pm.set(e,u),u}pA(r=>({...r,get:(e,n,s)=>Qv(e,n)||r.get(e,n,s),has:(e,n)=>!!Qv(e,n)||r.has(e,n)}));class TA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bA(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",Yv="0.14.6";const hr=new lp("@firebase/app"),wA="@firebase/app-compat",SA="@firebase/analytics-compat",xA="@firebase/analytics",AA="@firebase/app-check-compat",RA="@firebase/app-check",CA="@firebase/auth",NA="@firebase/auth-compat",IA="@firebase/database",DA="@firebase/data-connect",OA="@firebase/database-compat",MA="@firebase/functions",VA="@firebase/functions-compat",kA="@firebase/installations",jA="@firebase/installations-compat",LA="@firebase/messaging",PA="@firebase/messaging-compat",UA="@firebase/performance",zA="@firebase/performance-compat",BA="@firebase/remote-config",qA="@firebase/remote-config-compat",HA="@firebase/storage",FA="@firebase/storage-compat",GA="@firebase/firestore",QA="@firebase/ai",YA="@firebase/firestore-compat",KA="firebase",XA="12.6.0";const Dm="[DEFAULT]",$A={[Im]:"fire-core",[wA]:"fire-core-compat",[xA]:"fire-analytics",[SA]:"fire-analytics-compat",[RA]:"fire-app-check",[AA]:"fire-app-check-compat",[CA]:"fire-auth",[NA]:"fire-auth-compat",[IA]:"fire-rtdb",[DA]:"fire-data-connect",[OA]:"fire-rtdb-compat",[MA]:"fire-fn",[VA]:"fire-fn-compat",[kA]:"fire-iid",[jA]:"fire-iid-compat",[LA]:"fire-fcm",[PA]:"fire-fcm-compat",[UA]:"fire-perf",[zA]:"fire-perf-compat",[BA]:"fire-rc",[qA]:"fire-rc-compat",[HA]:"fire-gcs",[FA]:"fire-gcs-compat",[GA]:"fire-fst",[YA]:"fire-fst-compat",[QA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};const Eh=new Map,JA=new Map,Om=new Map;function Kv(r,e){try{r.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function mo(r){const e=r.name;if(Om.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,r);for(const n of Eh.values())Kv(n,r);for(const n of JA.values())Kv(n,r);return!0}function cp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}const WA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new hu("app","Firebase",WA);class ZA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const xo=XA;function QE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Dm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=zE()),!n)throw ss.create("no-options");const u=Eh.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const h=new sA(o);for(const p of Om.values())h.addComponent(p);const m=new ZA(n,s,h);return Eh.set(o,m),m}function YE(r=Dm){const e=Eh.get(r);if(!e&&r===Dm&&zE())return QE();if(!e)throw ss.create("no-app",{appName:r});return e}function as(r,e,n){let s=$A[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(h.join(" "));return}mo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const eR="firebase-heartbeat-database",tR=1,Zl="firebase-heartbeat-store";let gm=null;function KE(){return gm||(gm=_A(eR,tR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),gm}async function nR(r){try{const n=(await KE()).transaction(Zl),s=await n.objectStore(Zl).get(XE(r));return await n.done,s}catch(e){if(e instanceof gr)hr.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function Xv(r,e){try{const s=(await KE()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,XE(r)),await s.done}catch(n){if(n instanceof gr)hr.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function XE(r){return`${r.name}!${r.options.appId}`}const iR=1024,rR=30;class sR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rR){const o=lR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$v(),{heartbeatsToSend:n,unsentEntries:s}=aR(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function $v(){return new Date().toISOString().substring(0,10)}function aR(r,e=iR){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Jv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Jv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yx()?Kx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jv(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function lR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function uR(r){mo(new Ws("platform-logger",e=>new TA(e),"PRIVATE")),mo(new Ws("heartbeat",e=>new sR(e),"PRIVATE")),as(Im,Yv,r),as(Im,Yv,"esm2020"),as("fire-js","")}uR("");var cR="firebase",hR="12.6.0";as(cR,hR,"app");function $E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fR=$E,JE=new hu("auth","Firebase",$E());const Th=new lp("@firebase/auth");function dR(r,...e){Th.logLevel<=Me.WARN&&Th.warn(`Auth (${xo}): ${r}`,...e)}function lh(r,...e){Th.logLevel<=Me.ERROR&&Th.error(`Auth (${xo}): ${r}`,...e)}function ai(r,...e){throw hp(r,...e)}function Di(r,...e){return hp(r,...e)}function WE(r,e,n){const s={...fR(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function lr(r){return WE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return JE.create(r,...e)}function ge(r,e,...n){if(!r)throw hp(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lh(e),new Error(e)}function fr(r,e){r||sr(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function mR(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function pR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mR()||Hx()||"connection"in navigator)?navigator.onLine:!0}function gR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=zx()||Fx()}get(){return pR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ZE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vR=new du(3e4,6e4);function gs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yr(r,e,n,s,o={}){return eT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=fu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return qx()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(y.credentials="include"),ZE.fetch()(await tT(r,r.config.apiHost,n,m),y)})}async function eT(r,e,n){r._canInitEmulator=!1;const s={...yR,...e};try{const o=new TR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw WE(r,b,y);ai(r,b)}}catch(o){if(o instanceof gr)throw o;ai(r,"network-request-failed",{message:String(o)})}}async function mu(r,e,n,s,o={}){const u=await yr(r,e,n,s,o);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?fp(r.config,o):`${r.config.apiScheme}://${o}`;return _R.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function ER(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),vR.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Di(r,e,s);return o.customData._tokenResponse=n,o}function Zv(r){return r!==void 0&&r.enterprise!==void 0}class bR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ER(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wR(r,e){return yr(r,"GET","/v2/recaptchaConfig",gs(r,e))}async function SR(r,e){return yr(r,"POST","/v1/accounts:delete",e)}async function bh(r,e){return yr(r,"POST","/v1/accounts:lookup",e)}function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xR(r,e=!1){const n=nn(r),s=await n.getIdToken(e),o=dp(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(ym(o.auth_time)),issuedAtTime:Yl(ym(o.iat)),expirationTime:Yl(ym(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function dp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PE(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function e0(r){const e=dp(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function po(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&AR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function AR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wh(r){const e=r.auth,n=await r.getIdToken(),s=await po(r,bh(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?nT(o.providerUserInfo):[],h=NR(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,y=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function CR(r){const e=nn(r);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function IR(r,e){const n=await eT(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await tT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),ZE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DR(r,e){return yr(r,"POST","/v2/accounts:revokeToken",gs(r,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=e0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await IR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new lo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Wr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new RR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await po(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xR(this,e)}reload(){return CR(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await po(this,SR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:I,providerData:H,stsTokenManager:X}=n;ge(T&&X,e,"internal-error");const G=lo.fromJSON(this.name,X);ge(typeof T=="string",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof I=="boolean",e,"internal-error"),Wr(u,e.name),Wr(h,e.name),Wr(m,e.name),Wr(p,e.name),Wr(y,e.name),Wr(b,e.name);const te=new ii({uid:T,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:b});return H&&Array.isArray(H)&&(te.providerData=H.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const t0=new Map;function ar(r){fr(r instanceof Function,"Expected a class definition");let e=t0.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,t0.set(r,e),e)}class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const n0=iT;function uh(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ar(n0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ar(n0);const h=uh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(h);if(b){let T;if(typeof b=="string"){const x=await bh(e,{idToken:b}).catch(()=>{});if(!x)break;T=await ii._fromGetAccountInfoResponse(e,x,b)}else T=ii._fromJSON(e,b);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new uo(u,e,s))}}function i0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function rT(r=tn()){return/firefox\//i.test(r)}function sT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(r=tn()){return/crios\//i.test(r)}function oT(r=tn()){return/iemobile/i.test(r)}function lT(r=tn()){return/android/i.test(r)}function uT(r=tn()){return/blackberry/i.test(r)}function cT(r=tn()){return/webos/i.test(r)}function mp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OR(r=tn()){return mp(r)&&!!window.navigator?.standalone}function MR(){return Gx()&&document.documentMode===10}function hT(r=tn()){return mp(r)||lT(r)||cT(r)||uT(r)||/windows phone/i.test(r)||oT(r)}function fT(r,e=[]){let n;switch(r){case"Browser":n=i0(tn());break;case"Worker":n=`${i0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class VR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function kR(r,e={}){return yr(r,"GET","/v2/passwordPolicy",gs(r,e))}const jR=6;class LR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class PR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new VR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(lr(this));const n=e?nn(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),n=new LR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sa(r){return nn(r)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zx(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UR(r){zh=r}function dT(r){return zh.loadJS(r)}function zR(){return zh.recaptchaEnterpriseScript}function BR(){return zh.gapiScript}function qR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HR{constructor(){this.enterprise=new FR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GR="recaptcha-enterprise",mT="NO_RECAPTCHA";class QR{constructor(e){this.type=GR,this.auth=sa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{wR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new bR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;Zv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(mT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&Zv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zR();p.length!==0&&(p+=m),dT(p).then(()=>{o(m,u,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function s0(r,e,n,s=!1,o=!1){const u=new QR(r);let h;if(o)h=mT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function km(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await s0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await s0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function YR(r,e){const n=cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;ai(o,"already-initialized")}return n.initialize({options:e})}function KR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function XR(r,e,n){const s=sa(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pT(e),{host:h,port:m}=$R(e),p=m===null?"":`:${m}`,y={url:`${u}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Js(y,s.config.emulator)&&Js(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,So(h)?(qE(`${u}//${h}${p}`),HE("Auth",!0)):JR()}function pT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $R(r){const e=pT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:a0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:a0(h)}}}function a0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function WR(r,e){return yr(r,"POST","/v1/accounts:signUp",e)}async function ZR(r,e){return mu(r,"POST","/v1/accounts:signInWithPassword",gs(r,e))}async function eC(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}async function tC(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}class eu extends pp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,n,"signInWithPassword",ZR);case"emailLink":return eC(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,s,"signUpPassword",WR);case"emailLink":return tC(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(r,e){return mu(r,"POST","/v1/accounts:signInWithIdp",gs(r,e))}const nC="http://localhost";class Zs extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Zs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:nC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function iC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rC(r){const e=zl(Bl(r)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||r}class gp{constructor(e){const n=zl(Bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=iC(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rC(e);try{return new gp(n)}catch{return null}}}class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=gp.parseLink(n);return ge(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends gT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends pu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class es extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ts extends pu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends pu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function sC(r,e){return mu(r,"POST","/v1/accounts:signUp",gs(r,e))}class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),h=o0(s);return new ea({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=o0(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Sh extends gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Sh(e,n,s,o)}}function yT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,e,s):u})}async function aC(r,e,n=!1){const s=await po(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}async function oC(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await po(r,yT(s,o,e,r),n);ge(u.idToken,s,"internal-error");const h=dp(u.idToken);ge(h,s,"internal-error");const{sub:m}=h;return ge(r.uid===m,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function _T(r,e,n=!1){if(zn(r.app))return Promise.reject(lr(r));const s="signIn",o=await yT(r,s,e),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function lC(r,e){return _T(sa(r),e)}async function vT(r){const e=sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uC(r,e,n){if(zn(r.app))return Promise.reject(lr(r));const s=sa(r),h=await km(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vT(r),p}),m=await ea._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function cC(r,e,n){return zn(r.app)?Promise.reject(lr(r)):lC(nn(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vT(r),s})}async function hC(r,e){return yr(r,"POST","/v1/accounts:update",e)}async function fC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=nn(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await po(s,hC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function dC(r,e,n,s){return nn(r).onIdTokenChanged(e,n,s)}function mC(r,e,n){return nn(r).beforeAuthStateChanged(e,n)}function ET(r,e,n,s){return nn(r).onAuthStateChanged(e,n,s)}function pC(r){return nn(r).signOut()}const xh="__sak";class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gC=1e3,yC=10;class bT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);MR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const _C=bT;class wT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wT.type="SESSION";const ST=wT;function vC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async y=>y(n.origin,u)),p=await vC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function yp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class EC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const y=yp("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Oi(){return window}function TC(r){Oi().location.href=r}function xT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function bC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wC(){return navigator?.serviceWorker?.controller||null}function SC(){return xT()?self:null}const AT="firebaseLocalStorageDb",xC=1,Ah="firebaseLocalStorage",RT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function AC(){const r=indexedDB.deleteDatabase(AT);return new gu(r).toPromise()}function jm(){const r=indexedDB.open(AT,xC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ah,{keyPath:RT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ah)?e(s):(s.close(),await AC(),e(await jm()))})})}async function l0(r,e,n){const s=qh(r,!0).put({[RT]:e,value:n});return new gu(s).toPromise()}async function RC(r,e){const n=qh(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function u0(r,e){const n=qh(r,!0).delete(e);return new gu(n).toPromise()}const CC=800,NC=3;class CT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>NC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(SC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bC(),!this.activeServiceWorker)return;this.sender=new EC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await l0(e,xh,"1"),await u0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>l0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>RC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>u0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CT.type="LOCAL";const IC=CT;new du(3e4,6e4);function DC(r,e){return e?ar(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class _p extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OC(r){return _T(r.auth,new _p(r),r.bypassAuthState)}function MC(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),oC(n,new _p(r),r.bypassAuthState)}async function VC(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),aC(n,new _p(r),r.bypassAuthState)}class NT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:ai(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kC=new du(2e3,1e4);class oo extends NT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kC.get())};e()}}oo.currentPopupAction=null;const jC="pendingRedirect",ch=new Map;class LC extends NT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await PC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PC(r,e){const n=BC(e),s=zC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function UC(r,e){ch.set(r._key(),e)}function zC(r){return ar(r._redirectPersistence)}function BC(r){return uh(jC,r.config.apiKey,r.name)}async function qC(r,e,n=!1){if(zn(r.app))return Promise.reject(lr(r));const s=sa(r),o=DC(s,e),h=await new LC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const HC=600*1e3;class FC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!IT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HC&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(e))}saveEventToCache(e){this.cachedEventUids.add(c0(e)),this.lastProcessedEventTime=Date.now()}}function c0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function IT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function GC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(r);default:return!1}}async function QC(r,e={}){return yr(r,"GET","/v1/projects",e)}const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KC=/^https?/;async function XC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QC(r);for(const n of e)try{if($C(n))return}catch{}ai(r,"unauthorized-domain")}function $C(r){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!KC.test(n))return!1;if(YC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const JC=new du(3e4,6e4);function h0(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function WC(r){return new Promise((e,n)=>{function s(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(Di(r,"network-request-failed"))},timeout:JC.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=qR("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(Di(r,"network-request-failed"))},dT(`${BR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function ZC(r){return hh=hh||WC(r),hh}const e2=new du(5e3,15e3),t2="__/auth/iframe",n2="emulator/auth/iframe",i2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s2(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?fp(e,n2):`https://${r.config.authDomain}/${t2}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=r2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function a2(r){const e=await ZC(r),n=Oi().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:s2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Di(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(h)},e2.get());function p(){Oi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const o2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l2=500,u2=600,c2="_blank",h2="http://localhost";class f0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f2(r,e,n,s=l2,o=u2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...o2,width:s.toString(),height:o.toString(),top:u,left:h},y=tn().toLowerCase();n&&(m=aT(y)?c2:n),rT(y)&&(e=e||h2,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[I,H])=>`${x}${I}=${H},`,"");if(OR(y)&&m!=="_self")return d2(e||"",m),new f0(null);const T=window.open(e||"",m,b);ge(T,r,"popup-blocked");try{T.focus()}catch{}return new f0(T)}function d2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const m2="__/auth/handler",p2="emulator/auth/handler",g2=encodeURIComponent("fac");async function d0(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof gT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Wx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof pu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),y=p?`#${g2}=${encodeURIComponent(p)}`:"";return`${y2(r)}?${fu(m).slice(1)}${y}`}function y2({config:r}){return r.emulator?fp(r,p2):`https://${r.authDomain}/${m2}`}const _m="webStorageSupport";class _2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=qC,this._overrideRedirectResult=UC}async _openPopup(e,n,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await d0(e,n,s,Mm(),o);return f2(e,u,yp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await d0(e,n,s,Mm(),o);return TC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await a2(e),s=new FC(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{const u=o?.[0]?.[_m];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||sT()||mp()}}const v2=_2;var m0="@firebase/auth",p0="1.11.1";class E2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function T2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b2(r){mo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(r)},y=new PR(s,o,u,p);return KR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mo(new Ws("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(s=>new E2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(m0,p0,T2(r)),as(m0,p0,"esm2020")}const w2=300,S2=BE("authIdTokenMaxAge")||w2;let g0=null;const x2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>S2)return;const o=n?.token;g0!==o&&(g0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function A2(r=YE()){const e=cp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=YR(r,{popupRedirectResolver:v2,persistence:[IC,_C,ST]}),s=BE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=x2(u.toString());mC(n,h,()=>h(n.currentUser)),dC(n,m=>h(m))}}const o=UE("auth");return o&&XR(n,`http://${o}`),n}function R2(){return document.getElementsByTagName("head")?.[0]??document}UR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",R2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b2("Browser");var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,DT;(function(){var r;function e(D,A){function R(){}R.prototype=A.prototype,D.F=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(k,O,L){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return A.prototype[O].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)k[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],O=D.g[2];let L=D.g[3],C;C=A+(L^R&(O^L))+k[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+k[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+k[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+k[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(O^L&(R^O))+k[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+k[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+k[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+k[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(R^O^L)+k[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+k[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+k[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+k[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(O^(R|~L))+k[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+k[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+k[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+k[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,A){A===void 0&&(A=D.length);const R=A-this.blockSize,k=this.C;let O=this.h,L=0;for(;L<A;){if(O==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<A;)if(k[O++]=D.charCodeAt(L++),O==this.blockSize){o(this,k),O=0;break}}else for(;L<A;)if(k[O++]=D[L++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)D[A++]=this.g[R]>>>k&255;return D};function u(D,A){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function h(D,A){this.h=A;const R=[];let k=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;k&&L==A||(R[O]=L,k=!1)}this.g=R}var m={};function p(D){return-128<=D&&D<128?u(D,function(A){return new h([A|0],A<0?-1:0)}):new h([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return G(y(-D));const A=[];let R=1;for(let k=0;D>=R;k++)A[k]=D/R|0,R*=4294967296;return new h(A,0)}function b(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return G(b(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let k=T;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const C=parseInt(D.substring(L,L+O),A);O<8?(O=y(Math.pow(A,O)),k=k.j(O).add(y(C))):(k=k.j(R),k=k.add(y(C)))}return k}var T=p(0),x=p(1),I=p(16777216);r=h.prototype,r.m=function(){if(X(this))return-G(this).m();let D=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);D+=(k>=0?k:4294967296+k)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(X(this))return"-"+G(this).toString(D);const A=y(Math.pow(D,6));var R=this;let k="";for(;;){const O=be(R,A).g;R=te(R,O.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=O,H(R))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function X(D){return D.h==-1}r.l=function(D){return D=te(this,D),X(D)?-1:H(D)?0:1};function G(D){const A=D.g.length,R=[];for(let k=0;k<A;k++)R[k]=~D.g[k];return new h(R,~D.h).add(x)}r.abs=function(){return X(this)?G(this):this},r.add=function(D){const A=Math.max(this.g.length,D.g.length),R=[];let k=0;for(let O=0;O<=A;O++){let L=k+(this.i(O)&65535)+(D.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);k=C>>>16,L&=65535,C&=65535,R[O]=C<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function te(D,A){return D.add(G(A))}r.j=function(D){if(H(this)||H(D))return T;if(X(this))return X(D)?G(this).j(G(D)):G(G(this).j(D));if(X(D))return G(this.j(G(D)));if(this.l(I)<0&&D.l(I)<0)return y(this.m()*D.m());const A=this.g.length+D.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<D.g.length;O++){const L=this.i(k)>>>16,C=this.i(k)&65535,rt=D.i(O)>>>16,Dt=D.i(O)&65535;R[2*k+2*O]+=C*Dt,ne(R,2*k+2*O),R[2*k+2*O+1]+=L*Dt,ne(R,2*k+2*O+1),R[2*k+2*O+1]+=C*rt,ne(R,2*k+2*O+1),R[2*k+2*O+2]+=L*rt,ne(R,2*k+2*O+2)}for(D=0;D<A;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=A;D<2*A;D++)R[D]=0;return new h(R,0)};function ne(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function re(D,A){this.g=D,this.h=A}function be(D,A){if(H(A))throw Error("division by zero");if(H(D))return new re(T,T);if(X(D))return A=be(G(D),A),new re(G(A.g),G(A.h));if(X(A))return A=be(D,G(A)),new re(G(A.g),A.h);if(D.g.length>30){if(X(D)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,k=A;k.l(D)<=0;)R=Ce(R),k=Ce(k);var O=Re(R,1),L=Re(k,1);for(k=Re(k,2),R=Re(R,2);!H(k);){var C=L.add(k);C.l(D)<=0&&(O=O.add(R),L=C),k=Re(k,1),R=Re(R,1)}return A=te(D,O.j(A)),new re(O,A)}for(O=T;D.l(A)>=0;){for(R=Math.max(1,Math.floor(D.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=y(R),C=L.j(A);X(C)||C.l(D)>0;)R-=k,L=y(R),C=L.j(A);H(L)&&(L=x),O=O.add(L),D=te(D,C)}return new re(O,D)}r.B=function(D){return be(this,D).h},r.and=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&D.i(k);return new h(R,this.h&D.h)},r.or=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|D.i(k);return new h(R,this.h|D.h)},r.xor=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^D.i(k);return new h(R,this.h^D.h)};function Ce(D){const A=D.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=D.i(k)<<1|D.i(k-1)>>>31;return new h(R,D.h)}function Re(D,A){const R=A>>5;A%=32;const k=D.g.length-R,O=[];for(let L=0;L<k;L++)O[L]=A>0?D.i(L+R)>>>A|D.i(L+R+1)<<32-A:D.i(L+R);return new h(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,DT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,os=h}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OT,ql,MT,fh,Lm,VT,kT,jT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in E))break e;E=E[U]}c=c[c.length-1],S=E[c],g=g(S),g!=S&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var E=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&E.push([S,g[S]]);return E}});var u=u||{},h=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,E){return c.call.apply(c.bind,arguments)}function y(c,g,E){return y=p,y.apply(null,arguments)}function b(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,g){function E(){}E.prototype=g.prototype,c.Z=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,U,F){for(var ie=Array(arguments.length-2),we=2;we<arguments.length;we++)ie[we-2]=arguments[we];return g.prototype[U].apply(S,ie)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const g=c.length;if(g>0){const E=Array(g);for(let S=0;S<g;S++)E[S]=c[S];return E}return[]}function H(c,g){for(let S=1;S<arguments.length;S++){const U=arguments[S];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=c.length||0;const F=U.length||0;c.length=E+F;for(let ie=0;ie<F;ie++)c[E+ie]=U[ie]}else c.push(U)}}class X{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){h.setTimeout(()=>{throw c},0)}function te(){var c=D;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ne{constructor(){this.h=this.g=null}add(g,E){const S=re.get();S.set(g,E),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new X(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Re=!1,D=new ne,A=()=>{const c=Promise.resolve(void 0);Ce=()=>{c.then(R)}};function R(){for(var c;c=te();){try{c.h.call(c.g)}catch(E){G(E)}var g=re;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Re=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,g),h.removeEventListener("test",E,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function rt(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(rt,O),rt.prototype.init=function(c,g){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(c,g,E,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,g,E){for(const S in c)g.call(E,c[S],S,c)}function Ge(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function V(c){const g={};for(const E in c)g[E]=c[E];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let E,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(E in S)c[E]=S[E];for(let F=0;F<Z.length;F++)E=Z[F],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,E,S,U){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const ie=xe(c,g,S,U);return ie>-1?(g=c[ie],E||(g.fa=!1)):(g=new se(g,this.src,F,!!S,U),g.fa=E,c.push(g)),g};function _e(c,g){const E=g.type;if(E in c.g){var S=c.g[E],U=Array.prototype.indexOf.call(S,g,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(me(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,g,E,S){for(let U=0;U<c.length;++U){const F=c[U];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==S)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,g,E,S,U){if(Array.isArray(g)){for(let F=0;F<g.length;F++)st(c,g[F],E,S,U);return null}return E=ko(E),c&&c[Dt]?c.J(g,E,m(S)?!!S.capture:!1,U):ys(c,g,E,!1,S,U)}function ys(c,g,E,S,U,F){if(!g)throw Error("Invalid event type");const ie=m(U)?!!U.capture:!!U;let we=_s(c);if(we||(c[Le]=we=new ue(c)),E=we.add(g,E,S,ie,F),E.proxy)return E;if(S=da(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)L||(U=ie),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(li(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function da(){function c(E){return g.call(c.src,c.listener,E)}const g=Mo;return c}function ma(c,g,E,S,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)ma(c,g[F],E,S,U);else S=m(S)?!!S.capture:!!S,E=ko(E),c&&c[Dt]?(c=c.i,F=String(g).toString(),F in c.g&&(g=c.g[F],E=xe(g,E,S,U),E>-1&&(me(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete c.g[F],c.h--)))):c&&(c=_s(c))&&(g=c.g[g.toString()],c=-1,g&&(c=xe(g,E,S,U)),(E=c>-1?g[c]:null)&&pa(E))}function pa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Dt])_e(g.i,c);else{var E=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(E,S,c.capture):g.detachEvent?g.detachEvent(li(E),S):g.addListener&&g.removeListener&&g.removeListener(S),(E=_s(g))?(_e(E,c),E.h==0&&(E.src=null,g[Le]=null)):me(c)}}}function li(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Mo(c,g){if(c.da)c=!0;else{g=new rt(g,this);const E=c.listener,S=c.ha||c.src;c.fa&&pa(c),c=E.call(S,g)}return c}function _s(c){return c=c[Le],c instanceof ue?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(g){return c.handleEvent(g)}),c[Vo])}function _t(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}T(_t,k),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(c,g,E,S){ma(this,c,g,E,S)};function Mt(c,g){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var U=g;g=new O(S,c),ae(g,U)}U=!0;let F,ie;if(E)for(ie=E.length-1;ie>=0;ie--)F=g.g=E[ie],U=vr(F,S,!0,g)&&U;if(F=g.g=c,U=vr(F,S,!0,g)&&U,U=vr(F,S,!1,g)&&U,E)for(ie=0;ie<E.length;ie++)F=g.g=E[ie],U=vr(F,S,!1,g)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const E=c.g[g];for(let S=0;S<E.length;S++)me(E[S]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,E,S){return this.i.add(String(c),g,!1,E,S)},_t.prototype.K=function(c,g,E,S){return this.i.add(String(c),g,!0,E,S)};function vr(c,g,E,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let F=0;F<g.length;++F){const ie=g[F];if(ie&&!ie.da&&ie.capture==E){const we=ie.listener,mt=ie.ha||ie.src;ie.fa&&_e(c.i,ie),U=we.call(mt,S)!==!1&&U}}return U&&!S.defaultPrevented}function af(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:h.setTimeout(c,g||0)}function bu(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends k{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){k.call(this),this.h=c,this.g={}}T(vs,k);var jo=[];function Lo(c){Ue(c.g,function(g,E){this.g.hasOwnProperty(E)&&pa(g)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Lo(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=h.JSON.stringify,of=h.JSON.parse,wu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Su(){}function xu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}T(Bt,O);function Rn(){O.call(this,"c")}T(Rn,O);var dt={},Au=null;function ga(){return Au=Au||new _t}dt.Ia="serverreachability";function Ru(c){O.call(this,dt.Ia,c)}T(Ru,O);function ui(c){const g=ga();Mt(g,new Ru(g))}dt.STAT_EVENT="statevent";function Es(c,g){O.call(this,dt.STAT_EVENT,c),this.stat=g}T(Es,O);function vt(c){const g=ga();Mt(g,new Es(g,c))}dt.Ja="timingevent";function ci(c,g){O.call(this,dt.Ja,c),this.size=g}T(ci,O);function hi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function lf(c,g,E,S,U,F){c.info(function(){if(c.g)if(F){var ie="",we=F.split("&");for(let qe=0;qe<we.length;qe++){var mt=we[qe].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const Dn=at.split("_");ie=Dn.length>=2&&Dn[1]=="type"?ie+(at+"="+mt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+E+`
`+ie})}function Cu(c,g,E,S,U,F,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+E+`
`+F+" "+ie})}function fi(c,g,E,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+uf(c,E)+(S?" "+S:"")})}function Ts(c,g){c.info(function(){return"TIMEOUT: "+g})}Qn.prototype.info=function(){};function uf(c,g){if(!c.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var E=F[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return Er(F)}catch{return g}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function ws(){}T(ws,Su),ws.prototype.g=function(){return new XMLHttpRequest},Uo=new ws;function zi(c){return encodeURIComponent(String(c))}function Nu(c){var g=1;c=c.split(":");const E=[];for(;g>0&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function Yn(c,g,E,S){this.j=c,this.i=g,this.l=E,this.S=S||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Et={},jt={};function di(c,g,E){c.M=1,c.A=Ss(bt(g)),c.u=E,c.R=!0,ya(c,null)}function ya(c,g){c.F=Date.now(),mi(c),c.B=bt(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ta(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Kn,c.g=Fu(c.j,E?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,E=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(jo[0]=U.toString()),U=jo);for(let F=0;F<U.length;F++){const ie=st(E,U[F],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ui(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Jn(c)==3?g.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Jn(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||we!=4||mt==7||(mt==8||qe<=0?ui(3):ui(2)),pi(this);var g=this.g.ca();this.X=g;var E=cf(this);if(this.o=g==200,Cu(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var F=S;break t}}F=null}if(c=F)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,vt(12),gn(this),Cn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<E.length;)if(at=Du(this,E),at==jt){we==4&&(this.m=4,vt(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),fi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,at,null),gi(this,at);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,E,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),el(ie),ie.P=!0,vt(11))}}else fi(this.i,this.l,E,null),gi(this,E);we==4&&gn(this),this.o&&!this.K&&(we==4?zu(this.j,this):(this.o=!1,mi(this)))}else qi(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),gn(this),Cn(this)}}}catch{}finally{}};function cf(c){if(!Iu(c))return c.g.la();const g=qt(c.g);if(g==="")return"";let E="";const S=g.length,U=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<S;F++)c.h.h=!0,E+=c.h.i.decode(g[F],{stream:!(U&&F==S-1)});return g.length=0,c.h.g+=E,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Du(c,g){var E=c.C,S=g.indexOf(`
`,E);return S==-1?jt:(E=Number(g.substring(E,S)),isNaN(E)?Et:(S+=1,S+E>g.length?jt:(g=g.slice(S,S+E),c.C=S+E,g)))}Yn.prototype.cancel=function(){this.K=!0,gn(this)};function mi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(y(c.aa,c),g)}function pi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(ui(),vt(17)),gn(this),this.m=2,Cn(this)):_a(this,this.T-c)};function Cn(c){c.j.I==0||c.K||zu(c.j,c)}function gn(c){pi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Lo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function gi(c,g){try{var E=c.j;if(E.I!=0&&(E.g==c||_i(E.h,c))){if(!c.L&&_i(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Aa(E),Cr(E);else break e;Ds(E),vt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=hi(y(E.Va,E),6e3));yi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Si(E,11)}else if((c.L||E.g==c)&&Aa(E),!C(g))for(U=E.Ba.g.parse(g),g=0;g<U.length;g++){let qe=U[g];const at=qe[0];if(!(at<=E.K))if(E.K=at,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Dn=qe[3];Dn!=null&&(E.ka=Dn,E.j.info("VER="+E.ka));const xi=qe[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const Wn=qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Zn=c.g;if(Zn){const Os=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var F=S.h;F.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(qo(F,F.h),F.h=null))}if(S.G){const Ra=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(S.wa=Ra,Qe(S.J,S.G,Ra))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ie=c;if(S.na=Hu(S,S.L?S.ba:null,S.W),ie.L){Ho(S.h,ie);var we=ie,mt=S.O;mt&&(we.H=mt),we.D&&(pi(we),mi(we)),S.g=ie}else Pu(S);E.i.length>0&&wi(E)}else qe[0]!="stop"&&qe[0]!="close"||Si(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Si(E,7):Wo(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}ui(4)}catch{}}var Tt=class{constructor(c,g){this.g=c,this.map=g}};function zo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function qo(c,g){c.g?c.g.add(g):c.h=g}function Ho(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}zo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.G);return g}return I(c.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,g){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let U,F=null;S>=0?(U=c[E].substring(0,S),F=c[E].substring(S+1)):U=c[E],g(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof yn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Go(this,ju(c.i)),this.m=c.m):c&&(g=String(c).match(Ou))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=vi(g[2]||""),this.g=vi(g[3]||"",!0),Tr(this,g[4]),this.h=vi(g[5]||"",!0),Go(this,g[6]||"",!0),this.m=vi(g[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}yn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(xs(g,Ea,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(xs(g,Ea,!0),"@"),c.push(zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(xs(E,E.charAt(0)=="/"?Qo:Mu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",xs(E,Vu)),c.join("")},yn.prototype.resolve=function(c){const g=bt(this);let E=!!c.j;E?Lt(g,c.j):E=!!c.o,E?g.o=c.o:E=!!c.g,E?g.g=c.g:E=c.u!=null;var S=c.h;if(E)Tr(g,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=g.h.lastIndexOf("/");U!=-1&&(S=g.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let ie=0;ie<U.length;){const we=U[ie++];we=="."?S&&ie==U.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&ie==U.length&&F.push("")):(F.push(we),S=!0)}S=F.join("/")}else S=U}return E?g.h=S:E=c.i.toString()!=="",E?Go(g,ju(c.i)):E=!!c.m,E&&(g.m=c.m),g};function bt(c){return new yn(c)}function Lt(c,g,E){c.j=E?vi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Go(c,g,E){g instanceof wr?(c.i=g,ba(c.i,c.l)):(E||(g=xs(g,br)),c.i=new wr(g,c.l))}function Qe(c,g,E){c.i.set(g,E)}function Ss(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,on),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Mu=/[#\?:]/g,Qo=/[#\?]/g,br=/[#\?@]/g,Vu=/#/g;function wr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}r=wr.prototype,r.add=function(c,g){ln(this),this.i=null,c=Sr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function ku(c,g){ln(c),g=Sr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Yo(c,g){return ln(c),g=Sr(c,g),c.g.has(g)}r.forEach=function(c,g){ln(this),this.g.forEach(function(E,S){E.forEach(function(U){c.call(g,U,S,this)},this)},this)};function Ko(c,g){ln(c);let E=[];if(typeof g=="string")Yo(c,g)&&(E=E.concat(c.g.get(Sr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)E=E.concat(c[g]);return E}r.set=function(c,g){return ln(this),this.i=null,c=Sr(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Ko(this,c),c.length>0?String(c[0]):g):g};function Ta(c,g,E){ku(c,g),E.length>0&&(c.i=null,c.g.set(Sr(c,g),I(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var E=g[S];const U=zi(E);E=Ko(this,E);for(let F=0;F<E.length;F++){let ie=U;E[F]!==""&&(ie+="="+zi(E[F])),c.push(ie)}}return this.i=c.join("&")};function ju(c){const g=new wr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Sr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ba(c,g){g&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(E,S){const U=S.toLowerCase();S!=U&&(ku(this,S),Ta(this,U,E))},c)),c.j=g}function Xn(c,g){const E=new Qn;if(h.Image){const S=new Image;S.onload=b(Nn,E,"TestLoadImage: loaded",!0,g,S),S.onerror=b(Nn,E,"TestLoadImage: error",!1,g,S),S.onabort=b(Nn,E,"TestLoadImage: abort",!1,g,S),S.ontimeout=b(Nn,E,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Xo(c,g){const E=new Qn,S=new AbortController,U=setTimeout(()=>{S.abort(),Nn(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?Nn(E,"TestPingServer: ok",!0,g):Nn(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Nn(E,"TestPingServer: error",!1,g)})}function Nn(c,g,E,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(E)}catch{}}function xr(){this.g=new wu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ei,Su),Ei.prototype.g=function(){return new As(this.i,this.h)};function As(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(As,_t),r=As.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||h).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ar(this):$n(this),this.readyState==3&&wa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return Ue(c,function(E,S){g+=S,g+=":",g+=E,g+=`\r
`}),g}function Rs(c,g,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=In(E),typeof c=="string"?E!=null&&zi(E):Qe(c,g,E))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,_t);var Ti=/^https?$/i,$o=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){Cs(this,F);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)E.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())E.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call($o,g,void 0)>=0)||S||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of E)this.g.setRequestHeader(F,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Cs(this,F)}};function Cs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Jo(c),Bi(c)}function Jo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var S;if(S=F===0){let ie=String(c.D).match(Ou)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),S=!Ti.test(ie?ie.toLowerCase():"")}E=S}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=Jn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Jo(c)}}finally{Bi(c)}}}}function Bi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,g||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),of(g)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const g={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var E=Nu(c[S]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[U]||[];g[U]=F,F.push(E)}Ge(g,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function Rr(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(c&&c.concurrentRequestLimit),this.Ba=new xr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,E,S){vt(0),this.W=c,this.H=g||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Hu(this,null,this.W),wi(this)};function Wo(c){if(Sa(c),c.I==3){var g=c.V++,E=bt(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",g),Qe(E,"TYPE","terminate"),Is(c,E),g=new Yn(c,c.j,g),g.M=2,g.A=Ss(bt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=g.A,E=!0),E||(g.g=Fu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),mi(g)}qu(c)}function Cr(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function Sa(c){Cr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wi(c){if(!Bo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Ce||A(),Re||(Ce(),Re=!0),D.add(g,c),c.D=0}}function xa(c,g){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(y(c.Ea,c,g),Bu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Yn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=V(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Lu(this,U,g),E=bt(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Is(this,E),F&&(this.R?g="headers="+zi(In(F))+"&"+g:this.u&&Rs(E,this.u,F)),qo(this.h,U),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",g),Qe(E,"SID","null"),U.U=!0,di(U,E,null)):di(U,E,g),this.I=2}}else this.I==3&&(c?Zo(this,c):this.i.length==0||Bo(this.h)||Zo(this))};function Zo(c,g){var E;g?E=g.l:E=c.V++;const S=bt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",E),Qe(S,"AID",c.K),Is(c,S),c.u&&c.o&&Rs(S,c.u,c.o),E=new Yn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Lu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,E),di(E,S,g)}function Is(c,g){c.H&&Ue(c.H,function(E,S){Qe(g,S,E)}),c.l&&Ue({},function(E,S){Qe(g,S,E)})}function Lu(c,g,E){E=Math.min(c.i.length,E);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let we=-1;for(;;){const mt=["count="+E];we==-1?E>0?(we=U[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let qe=!0;for(let at=0;at<E;at++){var F=U[at].g;const Dn=U[at].map;if(F-=we,F<0)we=Math.max(0,U[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var ie=Dn instanceof Map?Dn:Object.entries(Dn);for(const[xi,Wn]of ie){let Zn=Wn;m(Wn)&&(Zn=Er(Wn)),mt.push(F+xi+"="+encodeURIComponent(Zn))}}catch(xi){throw mt.push(F+"type="+encodeURIComponent("_badmap")),xi}}catch{S&&S(Dn)}}if(qe){ie=mt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),g.G=c,ie}function Pu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Ce||A(),Re||(Ce(),Re=!0),D.add(g,c),c.A=0}}function Ds(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(y(c.Da,c),Bu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Cr(this),Uu(this))};function el(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Qe(g,"RID","rpc"),Qe(g,"SID",c.M),Qe(g,"AID",c.K),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(g,"TO",c.ia),Qe(g,"TYPE","xmlhttp"),Is(c,g),c.u&&c.o&&Rs(g,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ss(bt(g)),E.u=null,E.R=!0,ya(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),Ds(this),vt(19))};function Aa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function zu(c,g){var E=null;if(c.g==g){Aa(c),el(c),c.g=null;var S=2}else if(_i(c.h,g))E=g.G,Ho(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var U=c.D;S=ga(),Mt(S,new ci(S,E)),wi(c)}else Pu(c);else if(U=g.m,U==3||U==0&&g.X>0||!(S==1&&xa(c,g)||S==2&&Ds(c)))switch(E&&E.length>0&&(g=c.h,g.i=g.i.concat(E)),U){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Bu(c,g){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*g}function Si(c,g){if(c.j.info("Error code "+g),g==2){var E=y(c.bb,c),S=c.Ua;const U=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(S,"https"),Ss(S),U?Xn(S.toString(),E):Xo(S.toString(),E)}else vt(2);c.I=0,c.l&&c.l.pa(g),qu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const g=Fo(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function Hu(c,g,E){var S=E instanceof yn?bt(E):new yn(E);if(S.g!="")g&&(S.g=g+"."+S.g),Tr(S,S.u);else{var U=h.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const F=new yn(null);S&&Lt(F,S),g&&(F.g=g),U&&Tr(F,U),E&&(F.h=E),S=F}return E=c.G,g=c.wa,E&&g&&Qe(S,E,g),Qe(S,"VER",c.ka),Is(c,S),S}function Fu(c,g,E){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Xe(new Ei({ab:E})):new Xe(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}r=Gu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Nr(){}Nr.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){_t.call(this),this.g=new Rr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hi(this)}T(sn,_t),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Wo(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Er(c),c=E);g.i.push(new Tt(g.Ya++,c)),g.I==3&&wi(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,sn.Z.N.call(this)};function Qu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Qu,Bt);function Yu(){Rn.call(this),this.status=1}T(Yu,Rn);function Hi(c){this.g=c}T(Hi,Gu),Hi.prototype.ra=function(){Mt(this.g,"a")},Hi.prototype.qa=function(c){Mt(this.g,new Qu(c))},Hi.prototype.pa=function(c){Mt(this.g,new Yu)},Hi.prototype.oa=function(){Mt(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,jT=function(){return new Nr},kT=function(){return ga()},VT=dt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,fh=bs,Po.COMPLETE="complete",MT=Po,xu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,ql=xu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,OT=Xe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",v0="4.9.2";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Ro="12.3.0";const ta=new lp("@firebase/firestore");function io(){return ta.logLevel}function le(r,...e){if(ta.logLevel<=Me.DEBUG){const n=e.map(vp);ta.debug(`Firestore (${Ro}): ${r}`,...n)}}function dr(r,...e){if(ta.logLevel<=Me.ERROR){const n=e.map(vp);ta.error(`Firestore (${Ro}): ${r}`,...n)}}function go(r,...e){if(ta.logLevel<=Me.WARN){const n=e.map(vp);ta.warn(`Firestore (${Ro}): ${r}`,...n)}}function vp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,LT(r,s,n)}function LT(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||LT(e,o,s)}function Te(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class PT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class I2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new PT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class D2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new D2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function V2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=V2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return vm(o)===vm(u)?Ve(o,u):vm(o)?1:-1}return Ve(r.length,e.length)}const k2=55296,j2=57343;function vm(r){const e=r.charCodeAt(0);return e>=k2&&e<=j2}function yo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const T0="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class et extends Ii{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const L2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ii{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return L2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new Kt([T0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function UT(r,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function P2(r,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function b0(r){if(!de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function w0(r){if(de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function mr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(r);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function yu(r,e){if(!zT(r))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const S0=-62135596800,x0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*x0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new it(0,0))}static max(){return new ve(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function U2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new us(o,de.empty(),e)}function z2(r){return new us(r.readTime,r.key,tu)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(ve.min(),de.empty(),tu)}static max(){return new us(ve.max(),de.empty(),tu)}}function B2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==q2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((b=>{h[y]=b,++m,m===u&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function F2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;const Tp=-1;function Gh(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function G2(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const BT="";function Q2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=A0(e)),e=Y2(r.get(n),e);return A0(e)}function Y2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case BT:n+="";break;default:n+=u}}return n}function A0(r){return r+BT+""}function R0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function aa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new ri([])}unionWith(e){let n=new kt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const K2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=K2.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const FT="server_timestamp",GT="__type__",QT="__previous_value__",YT="__local_write_time__";function bp(r){return(r?.mapValue?.fields||{})[GT]?.stringValue===FT}function Qh(r){const e=r.mapValue.fields[QT];return bp(e)?Qh(e):e}function nu(r){const e=cs(r.mapValue.fields[YT].timestampValue);return new it(e.seconds,e.nanos)}class X2{constructor(e,n,s,o,u,h,m,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const Ch="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const KT="__type__",$2="__max__",th={mapValue:{}},XT="__vector__",Nh="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bp(r)?4:W2(r)?9007199254740991:J2(r)?10:11:ye(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=cs(o.timestampValue),m=cs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Rh(h)===Rh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(R0(h)!==R0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Pi(h[p],m[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function _o(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return N0(r.timestampValue,e.timestampValue);case 4:return N0(nu(r),nu(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=hs(u),p=hs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const b=Ve(m[y],p[y]);if(b!==0)return b}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(yt(u.latitude),yt(h.latitude));return m!==0?m:Ve(yt(u.longitude),yt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return I0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},y=m[Nh]?.arrayValue,b=p[Nh]?.arrayValue,T=Ve(y?.values?.length||0,b?.values?.length||0);return T!==0?T:I0(y,b)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===th.mapValue&&h===th.mapValue)return 0;if(u===th.mapValue)return 1;if(h===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const x=Pm(p[T],b[T]);if(x!==0)return x;const I=_o(m[p[T]],y[b[T]]);if(I!==0)return I}return Ve(p.length,b.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function N0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=cs(r),s=cs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function I0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=_o(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function vo(r){return Um(r)}function Um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Um(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Um(n.fields[h])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function dh(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return aa(s.fields,((u,h)=>{o+=u.length+dh(h)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function D0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zm(r){return!!r&&"integerValue"in r}function wp(r){return!!r&&"arrayValue"in r}function O0(r){return!!r&&"nullValue"in r}function M0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function J2(r){return(r?.mapValue?.fields||{})[KT]?.stringValue===XT}function Kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return aa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Kl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return e}return{...r}}function W2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$2}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Kl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){aa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(Kl(this.value))}}function $T(r){const e=[];return aa(r.fields,((n,s)=>{const o=new Kt([n]);if(mh(s)){const u=$T(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ri(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,ve.min(),ve.min(),ve.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,ve.min(),ve.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ve.min(),ve.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function V0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=_o(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function k0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class JT{}class Ct extends JT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tN(e,n,s):n==="array-contains"?new rN(e,s):n==="in"?new sN(e,s):n==="not-in"?new aN(e,s):n==="array-contains-any"?new oN(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nN(e,s):new iN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends JT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return WT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WT(r){return r.op==="and"}function ZT(r){return eN(r)&&WT(r)}function eN(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function Bm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(ZT(r))return r.filters.map((e=>Bm(e))).join(",");{const e=r.filters.map((n=>Bm(n))).join(",");return`${r.op}(${e})`}}function eb(r,e){return r instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&eb(h,o.filters[m])),!0):!1})(r,e):void ye(19439)}function tb(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(tb).join(" ,")+"}"})(r):"Filter"}class tN extends Ct{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class nN extends Ct{constructor(e,n){super(e,"in",n),this.keys=nb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iN extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=nb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nb(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class rN extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&ru(n.arrayValue,this.value)}}class sN extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class aN extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class oN extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class lN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function j0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new lN(r,e,n,s,o,u,h)}function Sp(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Bm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>vo(s))).join(",")),e.Te=n}return e.Te}function xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Z2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!k0(r.startAt,e.startAt)&&k0(r.endAt,e.endAt)}function qm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Io{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uN(r,e,n,s,o,u,h,m){return new Io(r,e,n,s,o,u,h,m)}function Ap(r){return new Io(r)}function L0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ib(r){return r.collectionGroup!==null}function Xl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(Kt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new su(Kt.keyField(),s))}return e.Ie}function Mi(r){const e=Te(r);return e.Ee||(e.Ee=cN(e,Xl(r))),e.Ee}function cN(r,e){if(r.limitType==="F")return j0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=r.endAt?new Ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ih(r.startAt.position,r.startAt.inclusive):null;return j0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Hm(r,e){const n=r.filters.concat([e]);return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Fm(r,e,n){return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return xp(Mi(r),Mi(e))&&r.limitType===e.limitType}function rb(r){return`${Sp(Mi(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tb(o))).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function Kh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const y=V0(h,m,p);return h.inclusive?y<=0:y<0})(s.startAt,Xl(s),o)||s.endAt&&!(function(h,m,p){const y=V0(h,m,p);return h.inclusive?y>=0:y>0})(s.endAt,Xl(s),o))})(r,e)}function hN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sb(r){return(e,n)=>{let s=!1;for(const o of Xl(r)){const u=fN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fN(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?_o(p,y):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}const dN=new ut(de.comparator);function pr(){return dN}const ab=new ut(de.comparator);function Hl(...r){let e=ab;for(const n of r)e=e.insert(n.key,n);return e}function ob(r){let e=ab;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return $l()}function lb(){return $l()}function $l(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mN=new ut(de.comparator),pN=new kt(de.comparator);function ke(...r){let e=pN;for(const n of r)e=e.add(n);return e}const gN=new kt(Ve);function yN(){return gN}function Rp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function ub(r){return{integerValue:""+r}}function _N(r,e){return G2(e)?ub(e):Rp(r,e)}class Xh{constructor(){this._=void 0}}function vN(r,e,n){return r instanceof au?(function(o,u){const h={fields:{[GT]:{stringValue:FT},[YT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=Qh(u)),u&&(h.fields[QT]=u),{mapValue:h}})(n,e):r instanceof ou?hb(r,e):r instanceof lu?fb(r,e):(function(o,u){const h=cb(o,u),m=P0(h)+P0(o.Ae);return zm(h)&&zm(o.Ae)?ub(m):Rp(o.serializer,m)})(r,e)}function EN(r,e,n){return r instanceof ou?hb(r,e):r instanceof lu?fb(r,e):n}function cb(r,e){return r instanceof Dh?(function(s){return zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class au extends Xh{}class ou extends Xh{constructor(e){super(),this.elements=e}}function hb(r,e){const n=db(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends Xh{constructor(e){super(),this.elements=e}}function fb(r,e){let n=db(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class Dh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function P0(r){return yt(r.integerValue||r.doubleValue)}function db(r){return wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class TN{constructor(e,n){this.field=e,this.transform=n}}function bN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?yo(s.elements,o.elements,Pi):s instanceof Dh&&o instanceof Dh?Pi(s.Ae,o.Ae):s instanceof au&&o instanceof au})(r.transform,e.transform)}class wN{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function mb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cp(r.key,si.none()):new _u(r.key,r.data,si.none());{const n=r.data,s=Bn.empty();let o=new kt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new la(r.key,s,new ri(o.toArray()),si.none())}}function SN(r,e,n){r instanceof _u?(function(o,u,h){const m=o.value.clone(),p=z0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof la?(function(o,u,h){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=z0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(pb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof _u?(function(u,h,m,p){if(!ph(u.precondition,h))return m;const y=u.value.clone(),b=B0(u.fieldTransforms,p,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof la?(function(u,h,m,p){if(!ph(u.precondition,h))return m;const y=B0(u.fieldTransforms,p,h),b=h.data;return b.setAll(pb(u)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return ph(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function xN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=cb(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function U0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((u,h)=>bN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _u extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function z0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,EN(h,m,n[o]))}return s}function B0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,vN(u,h,e))}return s}class Cp extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AN extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=mb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>U0(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>U0(n,s)))}}class Np{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return mN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Np(e,n,s,o)}}class CN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Pe;function IN(r){switch(r){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function gb(r){if(r===void 0)return dr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Rt.OK:return J.OK;case Rt.CANCELLED:return J.CANCELLED;case Rt.UNKNOWN:return J.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return J.INTERNAL;case Rt.UNAVAILABLE:return J.UNAVAILABLE;case Rt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Rt.NOT_FOUND:return J.NOT_FOUND;case Rt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Rt.ABORTED:return J.ABORTED;case Rt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Rt.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:r})}}(Pe=Rt||(Rt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function DN(){return new TextEncoder}const ON=new os([4294967295,4294967295],0);function q0(r){const e=DN().encode(r),n=new DT;return n.update(e),new Uint8Array(n.digest())}function H0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Ip{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(ON)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=q0(e),[s,o]=H0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Ip(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=q0(e),[s,o]=H0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(ve.min(),o,new ut(Ve),pr(),ke())}}class vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vu(s,n,ke(),ke(),ke())}}class gh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class yb{constructor(e,n){this.targetId=e,this.Ce=n}}class _b{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class F0{constructor(){this.ve=0,this.Fe=G0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=G0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MN{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(qm(u))if(s===0){const h=new de(u.path);this.et(n,h,en.newNoDocument(h,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=hs(s).toUint8Array()}catch(p){if(p instanceof HT)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ip(h,o,u)}catch(p){return go(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&qm(m.target)){const p=new de(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Jh(e,n,this.Ye,this.je,s);return this.je=pr(),this.Je=nh(),this.He=nh(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new F0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ut(de.comparator)}function G0(){return new ut(de.comparator)}const VN={asc:"ASCENDING",desc:"DESCENDING"},kN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jN={and:"AND",or:"OR"};class LN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PN(r,e){return Oh(r,e.toTimestamp())}function Vi(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=cs(n);return new it(s.seconds,s.nanos)})(r))}function Dp(r,e){return Qm(r,e).canonicalString()}function Qm(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Eb(r){const e=et.fromString(r);return Fe(xb(e),10190,{key:e.toString()}),e}function Ym(r,e){return Dp(r.databaseId,e.path)}function Em(r,e){const n=Eb(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(bb(n))}function Tb(r,e){return Dp(r.databaseId,e)}function UN(r){const e=Eb(r);return e.length===4?et.emptyPath():bb(e)}function Km(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Q0(r,e,n){return{name:Ym(r,e),fields:n.value.mapValue.fields}}function zN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Fe(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Fe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(y){const b=y.code===void 0?J.UNKNOWN:gb(y.code);return new oe(b,y.message||"")})(h);n=new _b(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Em(r,s.document.name),u=Vi(s.document.updateTime),h=s.document.createTime?Vi(s.document.createTime):ve.min(),m=new Bn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),y=s.targetIds||[],b=s.removedTargetIds||[];n=new gh(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Em(r,s.document),u=s.readTime?Vi(s.readTime):ve.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Em(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new NN(o,u),m=s.targetId;n=new yb(m,h)}}return n}function BN(r,e){let n;if(e instanceof _u)n={update:Q0(r,e.key,e.value)};else if(e instanceof Cp)n={delete:Ym(r,e.key)};else if(e instanceof la)n={update:Q0(r,e.key,e.data),updateMask:$N(e.fieldMask)};else{if(!(e instanceof AN))return ye(16599,{Vt:e.type});n={verify:Ym(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:PN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function qN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(ve.min())&&(h=Vi(u)),new wN(h,o.transformResults||[])})(n,e)))):[]}function HN(r,e){return{documents:[Tb(r,e.path)]}}function FN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Tb(r,o);const u=(function(y){if(y.length!==0)return Sb(oi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((b=>(function(x){return{field:so(x.field),direction:YN(x.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Gm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function GN(r){let e=UN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const x=wb(T);return x instanceof oi&&ZT(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((x=>(function(H){return new su(ao(H.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let x;return x=typeof T=="object"?T.value:T,Gh(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(T){const x=!!T.before,I=T.values||[];return new Ih(I,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const x=!T.before,I=T.values||[];return new Ih(I,x)})(n.endAt)),uN(e,o,h,u,m,"F",p,y)}function QN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(n.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>wb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function YN(r){return VN[r]}function KN(r){return kN[r]}function XN(r){return jN[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Kt.fromServerFormat(r.fieldPath)}function Sb(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(M0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(O0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(O0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:KN(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((o=>Sb(o)));return s.length===1?s[0]:{compositeFilter:{op:XN(n.op),filters:s}}})(r):ye(54877,{filter:r})}function $N(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class is{constructor(e,n,s,o,u=ve.min(),h=ve.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JN{constructor(e){this.yt=e}}function WN(r){const e=GN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fm(e,e.limit,"L"):e}class ZN{constructor(){this.Cn=new eI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(us.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class eI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(et.comparator)).toArray()}}const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ab=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Ab,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const K0="LruGarbageCollector",tI=1048576;function X0([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class nI{constructor(e){this.Ir=e,this.buffer=new kt(X0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();X0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(K0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(K0,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class rI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Fh.ce);const s=new nI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Y0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),io()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function sI(r,e){return new rI(r,e)}class aI{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,ri.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Hl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=pr();const h=$l(),m=(function(){return $l()})();return n.forEach(((p,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof la)?u=u.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),Jl(b.mutation,y,b.mutation.getFieldMask(),it.now())):h.set(y.key,ri.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,b)=>h.set(y,b))),n.forEach(((y,b)=>m.set(y,new oI(b,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=$l();let o=new ut(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=s.get(p)||ri.empty();b=m.applyToLocalView(y,b),s.set(p,b);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,b=p.value,T=lb();b.forEach((x=>{if(!u.has(x)){const I=mb(n.get(x),s.get(x));I!==null&&T.set(x,I),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ib(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Xs());let m=tu,p=u;return h.next((y=>ee.forEach(y,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ee.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{p=p.insert(b,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,ke()))).next((b=>({batchId:m,changes:ob(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(T,x){return new Io(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((T,x)=>{h=h.insert(T,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,en.newInvalidDocument(b)))}));let m=Hl();return h.forEach(((p,y)=>{const b=u.get(p);b!==void 0&&Jl(b.mutation,y,ri.empty(),it.now()),Kh(n,y)&&(m=m.insert(p,y))})),m}))}}class uI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:WN(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),ee.resolve()}}class cI{constructor(){this.overlays=new ut(de.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,b)=>y-b));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Xs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new CN(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class hI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Op{constructor(){this.Qr=new kt(Ut.$r),this.Ur=new kt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new et([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new et([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class fI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ut.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Tp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ve);return n.forEach((o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new de(u),0);let m=new kt(Ve);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dI{constructor(e){this.ri=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||B2(z2(b),s)<=0||(o.has(b.key)||Kh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new mI(this)}getSize(e){return ee.resolve(this.size)}}class mI extends aI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class pI{constructor(e){this.persistence=e,this.si=new oa((n=>Sp(n)),xp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class Rb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fh(0),this.li=!1,this.li=!0,this.hi=new hI,this.referenceDelegate=e(this),this.Pi=new pI(this),this.indexManager=new ZN,this.remoteDocumentCache=(function(o){return new dI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new JN(n),this.Ii=new uI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new fI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new gI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class gI extends H2{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Mp(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.pi=new oa((s=>Q2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=sI(this,n)}static mi(e,n){return new Mh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(e,n.fromCache,s,o)}}class yI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Qx()?8:F2(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new yI;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(io()<=Me.DEBUG&&le("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ee.resolve())}ys(e,n){if(L0(n))return ee.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,h,p.readTime)?this.ys(e,Fm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return L0(n)||o.isEqual(ve.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ee.resolve(null):(io()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,h,n,U2(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new kt(sb(e));return n.forEach(((o,u)=>{Kh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,us.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const kp="LocalStore",vI=3e8;class EI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new oa((u=>Sp(u)),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TI(r,e,n,s){return new EI(r,e,n,s)}async function Cb(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const y of o){h.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function bI(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,b){const T=y.batch,x=T.keys();let I=ee.resolve();return x.forEach((H=>{I=I.next((()=>b.getEntry(p,H))).next((X=>{const G=y.docVersions.get(H);Fe(G!==null,48541),X.version.compareTo(G)<0&&(T.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),b.addEntry(X)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Nb(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wI(r,e){const n=Te(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const x=o.get(T);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let I=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(Xt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(b.resumeToken,s)),o=o.insert(T,I),(function(X,G,te){return X.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=vI?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(x,I,b)&&m.push(n.Pi.updateTargetData(u,I))}));let p=pr(),y=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(SI(u,h,e.documentUpdates).next((b=>{p=b.ks,y=b.qs}))),!s.isEqual(ve.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function SI(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=pr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(ve.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(kp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function xI(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Tp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function AI(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new is(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Xm(r,e,n){const s=Te(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!No(h))throw h;le(kp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function $0(r,e,n){const s=Te(r);let o=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,b){const T=Te(p),x=T.xs.get(b);return x!==void 0?ee.resolve(T.Ms.get(x)):T.Pi.getTargetData(y,b)})(s,h,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:ve.min(),n?u:ke()))).next((m=>(RI(s,hN(e),m),{documents:m,Qs:u})))))}function RI(r,e,n){let s=r.Os.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class J0{constructor(){this.activeTargetIds=yN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CI{constructor(){this.Mo=new J0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NI{Oo(e){}shutdown(){}}const W0="ConnectivityMonitor";class Z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(W0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(W0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function $m(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Tm="RestConnection",II={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=$m(),m=this.zo(e,n.toUriEncodedString());le(Tm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),b=So(y);return this.Jo(e,m,p,s,b).then((T=>(le(Tm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw go(Tm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=II[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class OI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class MI extends DI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=$m();return new Promise(((m,p)=>{const y=new OT;y.setWithCredentials(!0),y.listenOnce(MT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fh.NO_ERROR:const T=y.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case fh.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const x=y.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,x,"response text:",y.getResponseText()),x>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const H=I?.error;if(H&&H.status&&H.message){const X=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(H.status);p(new oe(X,H.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=$m(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=jT(),m=kT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=h.createWebChannel(b,p);this.I_(T);let x=!1,I=!1;const H=new OI({Yo:G=>{I?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(x||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),X=(G,te,ne)=>{G.listen(te,(re=>{try{ne(re)}catch(be){setTimeout((()=>{throw be}),0)}}))};return X(T,ql.EventType.OPEN,(()=>{I||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),X(T,ql.EventType.CLOSE,(()=>{I||(I=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(T))})),X(T,ql.EventType.ERROR,(G=>{I||(I=!0,go(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),H.a_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),X(T,ql.EventType.MESSAGE,(G=>{if(!I){const te=G.data[0];Fe(!!te,16349);const ne=te,re=ne?.error||ne[0]?.error;if(re){le(Jt,`RPC '${e}' stream ${o} received error:`,re);const be=re.status;let Ce=(function(A){const R=Rt[A];if(R!==void 0)return gb(R)})(be),Re=re.message;Ce===void 0&&(Ce=J.INTERNAL,Re="Unknown error status: "+be+" with message "+re.message),I=!0,H.a_(new oe(Ce,Re)),T.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,te),H.u_(te)}})),X(m,VT.STAT_EVENT,(G=>{G.stat===Lm.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Lm.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function bm(){return typeof document<"u"?document:null}function Wh(r){return new LN(r,!0)}class Ib{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const eE="PersistentStream";class Db{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ib(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(eE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(eE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VI extends Db{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ve.min():h.readTime?Vi(h.readTime):ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Km(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=qm(p)?{documents:HN(u,p)}:{query:FN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=vb(u,h.resumeToken);const y=Gm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(ve.min())>0){m.readTime=Oh(u,h.snapshotVersion.toTimestamp());const y=Gm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=QN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.q_(n)}}class kI extends Db{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qN(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Km(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>BN(this.serializer,s)))};this.q_(n)}}class jI{}class LI extends jI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Qm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Qm(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class UI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ua(this)&&(le(na,"Restarting streams for network reachability change."),await(async function(p){const y=Te(p);y.Ea.add(4),await Eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Zh(y)})(this))}))})),this.Ra=new PI(s,o)}}async function Zh(r){if(ua(r))for(const e of r.da)await e(!0)}async function Eu(r){for(const e of r.da)await e(!1)}function Ob(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?Pp(n):Do(n).O_()&&Lp(n,e))}function jp(r,e){const n=Te(r),s=Do(n);n.Ia.delete(e),s.O_()&&Mb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Lp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Y_(e)}function Mb(r,e){r.Va.Ue(e),Do(r).Z_(e)}function Pp(r){r.Va=new MN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Ra.ua()}function Up(r){return ua(r)&&!Do(r).x_()&&r.Ia.size>0}function ua(r){return Te(r).Ea.size===0}function Vb(r){r.Va=void 0}async function zI(r){r.Ra.set("Online")}async function BI(r){r.Ia.forEach(((e,n)=>{Lp(r,e)}))}async function qI(r,e){Vb(r),Up(r)?(r.Ra.ha(e),Pp(r)):r.Ra.set("Unknown")}async function HI(r,e,n){if(r.Ra.set("Online"),e instanceof _b&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(r,s)}else if(e instanceof gh?r.Va.Ze(e):e instanceof yb?r.Va.st(e):r.Va.tt(e),!n.isEqual(ve.min()))try{const s=await Nb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),Mb(u,p);const T=new is(b.target,p,y,b.sequenceNumber);Lp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(na,"Failed to raise snapshot:",s),await Vh(r,s)}}async function Vh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await Eu(r),r.Ra.set("Offline"),n||(n=()=>Nb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Zh(r)}))}function kb(r,e){return e().catch((n=>Vh(r,n,e)))}async function ef(r){const e=Te(r),n=ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tp;for(;FI(e);)try{const o=await xI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,GI(e,o)}catch(o){await Vh(e,o)}jb(e)&&Lb(e)}function FI(r){return ua(r)&&r.Ta.length<10}function GI(r,e){r.Ta.push(e);const n=ds(r);n.O_()&&n.X_&&n.ea(e.mutations)}function jb(r){return ua(r)&&!ds(r).x_()&&r.Ta.length>0}function Lb(r){ds(r).start()}async function QI(r){ds(r).ra()}async function YI(r){const e=ds(r);for(const n of r.Ta)e.ea(n.mutations)}async function KI(r,e,n){const s=r.Ta.shift(),o=Np.from(s,e,n);await kb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ef(r)}async function XI(r,e){e&&ds(r).X_&&await(async function(s,o){if((function(h){return IN(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();ds(s).B_(),await kb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(r,e),jb(r)&&Lb(r)}async function tE(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),le(na,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function $I(r,e){const n=Te(r);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Do(r){return r.ma||(r.ma=(function(n,s,o){const u=Te(n);return u.sa(),new VI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:zI.bind(null,r),t_:BI.bind(null,r),r_:qI.bind(null,r),H_:HI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Up(r)?Pp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Vb(r))}))),r.ma}function ds(r){return r.fa||(r.fa=(function(n,s,o){const u=Te(n);return u.sa(),new kI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QI.bind(null,r),r_:XI.bind(null,r),ta:YI.bind(null,r),na:KI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ef(r)):(await r.fa.stop(),r.Ta.length>0&&(le(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new zp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(dr("AsyncQueue",`${e}: ${r}`),No(r))return new oe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class nE{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class To{constructor(e,n,s,o,u,h,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new To(e,n,ho.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class JI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WI{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=iE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function iE(){return new oa((r=>rb(r)),Yh)}async function Pb(r,e){const n=Te(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new JI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Bp(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qp(n)}async function Ub(r,e){const n=Te(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZI(r,e){const n=Te(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&qp(n)}function eD(r,e,n){const s=Te(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function qp(r){r.Ca.forEach((e=>{e.next()}))}var Jm,rE;(rE=Jm||(Jm={})).Ma="default",rE.Cache="cache";class zb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jm.Cache}}class Bb{constructor(e){this.key=e}}class qb{constructor(e){this.key=e}}class tD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=sb(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new nE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const x=o.get(b),I=Kh(this.query,T)?T:null,H=!!x&&this.mutatedKeys.has(x.key),X=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let G=!1;x&&I?x.data.isEqual(I.data)?H!==X&&(s.track({type:3,doc:I}),G=!0):this.su(x,I)||(s.track({type:2,doc:I}),G=!0,(p&&this.eu(I,p)>0||y&&this.eu(I,y)<0)&&(m=!0)):!x&&I?(s.track({type:0,doc:I}),G=!0):x&&!I&&(s.track({type:1,doc:x}),G=!0,(p||y)&&(m=!0)),G&&(I?(h=h.add(I),u=X?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(I,H){const X=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:G})}};return X(I)-X(H)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new To(this.query,e.tu,u,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new qb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Bb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class nD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iD{constructor(e){this.key=e,this.hu=!1}}class rD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new oa((m=>rb(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(de.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sD(r,e,n=!0){const s=Kb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Hb(s,e,n,!0),o}async function aD(r,e){const n=Kb(r);await Hb(n,e,!0,!1)}async function Hb(r,e,n,s){const o=await AI(r.localStore,Mi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Ob(r.remoteStore,o),m}async function oD(r,e,n,s,o){r.pu=(T,x,I)=>(async function(X,G,te,ne){let re=G.view.ru(te);re.Cs&&(re=await $0(X.localStore,G.query,!1).then((({documents:D})=>G.view.ru(D,re))));const be=ne&&ne.targetChanges.get(G.targetId),Ce=ne&&ne.targetMismatches.get(G.targetId)!=null,Re=G.view.applyChanges(re,X.isPrimaryClient,be,Ce);return aE(X,G.targetId,Re.au),Re.snapshot})(r,T,x,I);const u=await $0(r.localStore,e,!0),h=new tD(e,u.Qs),m=h.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=h.applyChanges(m,r.isPrimaryClient,p);aE(r,n,y.au);const b=new nD(e,n,h);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function lD(r,e,n){const s=Te(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Yh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jp(s.remoteStore,o.targetId),Wm(s,o.targetId)})).catch(Co)):(Wm(s,o.targetId),await Xm(s.localStore,o.targetId,!0))}async function uD(r,e){const n=Te(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jp(n.remoteStore,s.targetId))}async function cD(r,e,n){const s=yD(r);try{const o=await(function(h,m){const p=Te(h),y=it.now(),b=m.reduce(((I,H)=>I.add(H.key)),ke());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let H=pr(),X=ke();return p.Ns.getEntries(I,b).next((G=>{H=G,H.forEach(((te,ne)=>{ne.isValidDocument()||(X=X.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,H))).next((G=>{T=G;const te=[];for(const ne of m){const re=xN(ne,T.get(ne.key).overlayedDocument);re!=null&&te.push(new la(ne.key,re,$T(re.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(I,y,te,m)})).next((G=>{x=G;const te=G.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(I,G.batchId,te)}))})).then((()=>({batchId:x.batchId,changes:ob(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(m,p),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,n),await Tu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function Fb(r,e){const n=Te(r);try{const s=await wI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Tu(n,s,e)}catch(s){await Co(s)}}function sE(r,e,n){const s=Te(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Te(h);p.onlineState=m;let y=!1;p.queries.forEach(((b,T)=>{for(const x of T.Sa)x.va(m)&&(y=!0)})),y&&qp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hD(r,e,n){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(de.comparator);h=h.insert(u,en.newNoDocument(u,ve.min()));const m=ke().add(u),p=new Jh(ve.min(),new Map,new ut(Ve),h,m);await Fb(s,p),s.du=s.du.remove(u),s.Au.delete(e),Fp(s)}else await Xm(s.localStore,e,!1).then((()=>Wm(s,e,n))).catch(Co)}async function fD(r,e){const n=Te(r),s=e.batch.batchId;try{const o=await bI(n.localStore,e);Qb(n,s,null),Gb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await Co(o)}}async function dD(r,e,n){const s=Te(r);try{const o=await(function(h,m){const p=Te(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Fe(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);Qb(s,e,n),Gb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await Co(o)}}function Gb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Qb(r,e,n){const s=Te(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Wm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Yb(r,s)}))}function Yb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(jp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Fp(r))}function aE(r,e,n){for(const s of n)s instanceof Bb?(r.Ru.addReference(s.key,e),mD(r,s)):s instanceof qb?(le(Hp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Yb(r,s.key)):ye(19791,{wu:s})}function mD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(Hp,"New document in limbo: "+n),r.Eu.add(s),Fp(r))}function Fp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new iD(n)),r.du=r.du.insert(n,s),Ob(r.remoteStore,new is(Mi(Ap(n.path)),s,"TargetPurposeLimboResolution",Fh.ce))}}async function Tu(r,e,n){const s=Te(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Vp.As(p.targetId,y);u.push(b)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,y){const b=Te(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(y,(x=>ee.forEach(x.Es,(I=>b.persistence.referenceDelegate.addReference(T,x.targetId,I))).next((()=>ee.forEach(x.ds,(I=>b.persistence.referenceDelegate.removeReference(T,x.targetId,I)))))))))}catch(T){if(!No(T))throw T;le(kp,"Failed to update sequence numbers: "+T)}for(const T of y){const x=T.targetId;if(!T.fromCache){const I=b.Ms.get(x),H=I.snapshotVersion,X=I.withLastLimboFreeSnapshotVersion(H);b.Ms=b.Ms.insert(x,X)}}})(s.localStore,u))}async function pD(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){le(Hp,"User change. New user:",e.toKey());const s=await Cb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function gD(r,e){const n=Te(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Kb(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hD.bind(null,e),e.Pu.H_=ZI.bind(null,e.eventManager),e.Pu.yu=eD.bind(null,e.eventManager),e}function yD(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TI(this.persistence,new _I,e.initialUser,this.serializer)}Cu(e){return new Rb(Mp.mi,this.serializer)}Du(e){return new CI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class _D extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Rb((s=>Mh.mi(s,n)),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pD.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WI})()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),s=(function(u){return new MI(u)})(e.databaseInfo);return(function(u,h,m,p){return new LI(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new UI(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>sE(this.syncEngine,n,0)),(function(){return Z0.v()?new Z0:new NI})())}createSyncEngine(e,n){return(function(o,u,h,m,p,y,b){const T=new rD(o,u,h,m,p,y);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);le(na,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};class Xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ms="FirestoreClient";class vD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wm(r,e){r.asyncQueue.verifyOperationInProgress(),le(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Cb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function oE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await ED(r);le(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>tE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>tE(e.remoteStore,o))),r._onlineComponents=e}async function ED(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ms,"Using user provided OfflineComponentProvider");try{await wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await wm(r,new kh)}}else le(ms,"Using default OfflineComponentProvider"),await wm(r,new _D(void 0));return r._offlineComponents}async function $b(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ms,"Using user provided OnlineComponentProvider"),await oE(r,r._uninitializedComponentsProvider._online)):(le(ms,"Using default OnlineComponentProvider"),await oE(r,new Zm))),r._onlineComponents}function TD(r){return $b(r).then((e=>e.syncEngine))}async function Jb(r){const e=await $b(r),n=e.eventManager;return n.onListen=sD.bind(null,e.syncEngine),n.onUnlisten=lD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uD.bind(null,e.syncEngine),n}function bD(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const b=new Xb({next:x=>{b.Nu(),h.enqueueAndForget((()=>Ub(u,T)));const I=x.docs.has(m);!I&&x.fromCache?y.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&x.fromCache&&p&&p.source==="server"?y.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new zb(Ap(m.path),b,{includeMetadataChanges:!0,qa:!0});return Pb(u,T)})(await Jb(r),r.asyncQueue,e,n,s))),s.promise}function wD(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const b=new Xb({next:x=>{b.Nu(),h.enqueueAndForget((()=>Ub(u,T))),x.fromCache&&p.source==="server"?y.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new zb(m,b,{includeMetadataChanges:!0,qa:!0});return Pb(u,T)})(await Jb(r),r.asyncQueue,e,n,s))),s.promise}function Wb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const lE=new Map;const Zb="firestore.googleapis.com",uE=!0;class cE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=uE}else this.host=e.host,this.ssl=e.ssl??uE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ab;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tI)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new C2;switch(s.type){case"firstParty":return new O2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lE.get(n);s&&(le("ComponentProvider","Removing Datastore"),lE.delete(n),s.terminate())})(this),Promise.resolve()}}function SD(r,e,n,s={}){r=mr(r,tf);const o=So(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(qE(`https://${m}`),HE("Firestore",!0)),u.host!==Zb&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(p,h)&&(r._setSettings(p),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=Wt.MOCK_USER;else{y=Lx(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(T)}r._authCredentials=new N2(new PT(y,b))}}class ca{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class It{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,It._jsonSchema))return new It(e,s||null,new de(et.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Nt("string",It._jsonSchemaVersion),referencePath:Nt("string")};class ls extends ca{constructor(e,n,s){super(e,n,Ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new de(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function pn(r,e,...n){if(r=nn(r),UT("collection","path",e),r instanceof tf){const s=et.fromString(e,...n);return w0(s),new ls(r,null,s)}{if(!(r instanceof It||r instanceof ls))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return w0(s),new ls(r.firestore,null,s)}}function _r(r,e,...n){if(r=nn(r),arguments.length===1&&(e=Ep.newId()),UT("doc","path",e),r instanceof tf){const s=et.fromString(e,...n);return b0(s),new It(r,null,new de(s))}{if(!(r instanceof It||r instanceof ls))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return b0(s),new It(r.firestore,r instanceof ls?r.converter:null,new de(s))}}const hE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ib(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&le(hE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;le(hE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",dE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=zp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:dE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Oo extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new fE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function xD(r,e){const n=typeof r=="object"?r:YE(),s=typeof r=="string"?r:Ch,o=cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kx("firestore");u&&SD(o,...u)}return o}function Gp(r){if(r._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AD(r),r._firestoreClient}function AD(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new X2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Wb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Xt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Nt("string",qn._jsonSchemaVersion),bytes:Nt("string")};class Qp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(yu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Nt("string",ki._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Nt("string",ji._jsonSchemaVersion),vectorValues:Nt("object")};const RD=/^__.*__$/;class CD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}function ew(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class Kp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ew(this.Ac)&&RD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ND{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wh(e)}Cc(e,n,s,o=!1){return new Kp({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xp(r){const e=r._freezeSettings(),n=Wh(r._databaseId);return new ND(r._databaseId,!!e.ignoreUndefinedProperties,n)}function tw(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);rw("Data must be an object, but it was:",h,s);const m=nw(s,h);let p,y;if(u.merge)p=new ri(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const x=DD(e,T,n);if(!h.contains(x))throw new oe(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);MD(b,x)||b.push(x)}p=new ri(b),y=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=h.fieldTransforms;return new CD(new Bn(m),p,y)}class $p extends Yp{_toFieldTransform(e){return new TN(e.path,new au)}isEqual(e){return e instanceof $p}}function ID(r,e,n,s=!1){return Jp(n,r.Cc(s?4:3,e))}function Jp(r,e){if(iw(r=nn(r)))return rw("Unsupported field value:",e,r),nw(r,e);if(r instanceof Yp)return(function(s,o){if(!ew(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Jp(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _N(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:vb(o.serializer,s._byteString)};if(s instanceof It){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(h,m){return{mapValue:{fields:{[KT]:{stringValue:XT},[Nh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Rp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Hh(s)}`)})(r,e)}function nw(r,e){const n={};return qT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(r,((s,o)=>{const u=Jp(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function iw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof ki||r instanceof qn||r instanceof It||r instanceof Yp||r instanceof ji)}function rw(r,e,n){if(!iw(n)||!zT(n)){const s=Hh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function DD(r,e,n){if((e=nn(e))instanceof Qp)return e._internalPath;if(typeof e=="string")return sw(r,e);throw jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const OD=new RegExp("[~\\*/\\[\\]]");function sw(r,e,n){if(e.search(OD)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qp(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+r+p)}function MD(r,e){return r.some((n=>n.isEqual(e)))}class aw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VD extends aw{data(){return super.data()}}function Wp(r,e){return typeof e=="string"?sw(r,e):e instanceof Qp?e._internalPath:e._delegate._internalPath}function kD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class ow extends Zp{}function ha(r,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof tg)).length,m=u.filter((p=>p instanceof eg)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class eg extends ow{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new eg(e,n,s)}_apply(e){const n=this._parse(e);return lw(e._query,n),new ca(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=Xp(e.firestore);return(function(u,h,m,p,y,b,T){let x;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){pE(T,b);const H=[];for(const X of T)H.push(mE(p,u,X));x={arrayValue:{values:H}}}else x=mE(p,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||pE(T,b),x=ID(m,h,T,b==="in"||b==="not-in");return Ct.create(y,b,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class tg extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)lw(h,p),h=Hm(h,p)})(e._query,n),new ca(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends ow{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ng(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,h)})(e._query,this._field,this._direction);return new ca(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Io(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function fa(r,e="asc"){const n=e,s=Wp("orderBy",r);return ng._create(s,n)}function mE(r,e,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ib(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return D0(r,new de(s))}if(n instanceof It)return D0(r,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function pE(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lw(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jD{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return aa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new ki(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(xb(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function uw(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends aw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Wp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Nt("string",$s._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class yh extends $s{data(e={}){return super.data(e)}}class fo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:LD(m.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}function ig(r){r=mr(r,It);const e=mr(r.firestore,Oo);return bD(Gp(e),r._key).then((n=>UD(e,r,n)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Nt("string",fo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class cw extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function Ui(r){r=mr(r,ca);const e=mr(r.firestore,Oo),n=Gp(e),s=new cw(e);return kD(r._query),wD(n,r._query).then((o=>new fo(e,s,r,o)))}function PD(r,e,n){r=mr(r,It);const s=mr(r.firestore,Oo),o=uw(r.converter,e);return rg(s,[tw(Xp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,si.none())])}function nf(r){return rg(mr(r.firestore,Oo),[new Cp(r._key,si.none())])}function rf(r,e){const n=mr(r.firestore,Oo),s=_r(r),o=uw(r.converter,e);return rg(n,[tw(Xp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then((()=>s))}function rg(r,e){return(function(s,o){const u=new ur;return s.asyncQueue.enqueueAndForget((async()=>cD(await TD(s),o,u))),u.promise})(Gp(r),e)}function UD(r,e,n){const s=n.docs.get(e._key),o=new cw(r);return new $s(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function sf(){return new $p("serverTimestamp")}(function(e,n=!0){(function(o){Ro=o})(xo),mo(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Oo(new I2(s.getProvider("auth-internal")),new M2(h,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(y.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),as(_0,v0,e),as(_0,v0,"esm2020")})();const zD={apiKey:"AIzaSyB3nTJlyM3K-XpvEUrXyk3leiVeMxzkTiU",authDomain:"forexvolcano-21180.firebaseapp.com",projectId:"forexvolcano-21180",storageBucket:"forexvolcano-21180.firebasestorage.app",messagingSenderId:"264687169302",appId:"1:264687169302:web:83322d7adc303b1f0c2a37",measurementId:"G-XTB0D1TPS6"},hw=QE(zD),Li=A2(hw),ft=xD(hw),BD=()=>{const[r,e]=P.useState(null),n=ra();P.useEffect(()=>{const o=ET(Li,u=>{e(u)});return()=>o()},[]);const s=async()=>{try{await pC(Li),n("/")}catch(o){console.error("Error logging out",o)}};return _.jsx("nav",{className:"bg-surface border-b border-gray-800 sticky top-0 z-50",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex items-center justify-between h-16",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx(Zt,{to:"/",className:"flex-shrink-0",children:_.jsxs("span",{className:"text-secondary text-2xl font-bold tracking-tighter",children:["Forex",_.jsx("span",{className:"text-accent",children:"Volcano"})]})}),_.jsx("div",{className:"hidden md:block",children:_.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[_.jsx(Zt,{to:"/analysis",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Analysis"}),_.jsx(Zt,{to:"/news",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"News"})]})})]}),_.jsx("div",{className:"hidden md:block",children:_.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:r?_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx(Zt,{to:"/dashboard",className:"text-primary hover:text-green-400 font-medium px-3 py-2",children:"Dashboard"}),_.jsx("button",{onClick:s,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]}):_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx(Zt,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),_.jsx(Zt,{to:"/register",className:"bg-primary hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Get Started"})]})})}),_.jsx("div",{className:"-mr-2 flex md:hidden",children:_.jsxs("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[_.jsx("span",{className:"sr-only",children:"Open main menu"}),_.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},qD=()=>_.jsx("footer",{className:"bg-[#05080f] border-t border-gray-800/50 py-12",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[_.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[_.jsxs(Zt,{to:"/",className:"text-2xl font-bold tracking-tighter text-secondary",children:["Forex",_.jsx("span",{className:"text-accent",children:"Volcano"})]}),_.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[" ",new Date().getFullYear()," ForexVolcano. All rights reserved."]})]}),_.jsxs("div",{className:"flex space-x-8",children:[_.jsx(Zt,{to:"/analysis",className:"text-gray-400 hover:text-white transition-colors",children:"Analysis"}),_.jsx(Zt,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"News"}),_.jsx(Zt,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})]})]})})}),gE={primary:"bg-primary hover:bg-green-500 text-white shadow-lg shadow-green-900/20",secondary:"bg-secondary hover:bg-red-500 text-white shadow-lg shadow-red-900/20",accent:"bg-accent hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",outline:"border-2 border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white bg-transparent",ghost:"text-slate-400 hover:text-white hover:bg-white/5"},yE={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base font-semibold",lg:"px-8 py-4 text-lg font-bold"},zt=({children:r,variant:e="primary",size:n="md",to:s=null,onClick:o,className:u="",...h})=>{const m="inline-flex items-center justify-center rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e17] focus:ring-slate-400",p=gE[e]||gE.primary,y=yE[n]||yE.md,b=`${m} ${p} ${y} ${u}`;return s?_.jsx(Zt,{to:s,className:b,...h,children:r}):_.jsx("button",{onClick:o,className:b,...h,children:r})},HD=()=>_.jsxs("div",{className:"relative overflow-hidden bg-background pt-16 pb-32 lg:pt-32 lg:pb-40",children:[_.jsxs("div",{className:"absolute top-0 left-1/2 w-full -translate-x-1/2 h-full z-0 pointer-events-none",children:[_.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px] animate-pulse"}),_.jsx("div",{className:"absolute top-[10%] right-[20%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[80px]"})]}),_.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[_.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-white mb-6",children:["Predict the ",_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent",children:"Eruption"})]}),_.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-400 mb-10",children:"Professional Forex education and institutional-grade analysis. Stop guessing. Start trading with the precision of a geologist."}),_.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[_.jsx(zt,{to:"/register",variant:"primary",size:"lg",children:"Start Learning Free"}),_.jsx(zt,{to:"/analysis",variant:"outline",size:"lg",children:"View Daily Analysis"})]}),_.jsxs("div",{className:"mt-16 relative",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent z-10 h-20 bottom-0 pointer-events-none"}),_.jsxs("div",{className:"inline-flex items-center gap-8 py-3 px-8 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm shadow-2xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-white",children:"EUR/USD"}),_.jsx("span",{className:"text-primary text-sm",children:" 1.0842"})]}),_.jsx("div",{className:"w-px h-4 bg-gray-700"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-white",children:"GBP/USD"}),_.jsx("span",{className:"text-secondary text-sm",children:" 1.2615"})]}),_.jsx("div",{className:"w-px h-4 bg-gray-700"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-white",children:"XAU/USD"}),_.jsx("span",{className:"text-accent text-sm",children:" 2045.50"})]})]})]})]})]}),FD=[{title:"Structured Learning Path",description:'From "What is a Pip?" to institutional order flow. Our curriculum guides you step-by-step through the chaos.',icon:_.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),borderColor:"border-primary/20",iconBg:"bg-primary/10"},{title:"Daily Market Analysis",description:`Don't trade alone. Get daily "Volcano Watch" reports identifying high-probability setups before they erupt.`,icon:_.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),borderColor:"border-secondary/20",iconBg:"bg-secondary/10"},{title:"Risk Management",description:"The volcano is dangerous. Learn how to survive. Our strict risk protocols are the core of our philosophy.",icon:_.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),borderColor:"border-accent/20",iconBg:"bg-accent/10"}],GD=()=>_.jsx("div",{className:"py-24 bg-surface",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("h2",{className:"text-base text-accent font-semibold tracking-wide uppercase",children:"Why Choose Us"}),_.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"A Better Way to Trade"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:FD.map((r,e)=>_.jsxs("div",{className:`p-8 bg-background/50 border ${r.borderColor} rounded-2xl hover:bg-background transition-all duration-300`,children:[_.jsx("div",{className:`w-12 h-12 ${r.iconBg} rounded-lg flex items-center justify-center mb-6`,children:r.icon}),_.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:r.title}),_.jsx("p",{className:"text-gray-400 leading-relaxed",children:r.description})]},e))})]})}),QD=()=>_.jsxs("div",{className:"flex flex-col min-h-screen",children:[_.jsx(HD,{}),_.jsx(GD,{})]}),fw=({title:r,subtitle:e,image:n,content:s,footer:o,badges:u=[],className:h=""})=>_.jsxs("div",{className:`group relative flex flex-col overflow-hidden rounded-2xl bg-surface border border-gray-800 transition-all duration-300 hover:border-gray-700 hover:shadow-2xl hover:shadow-primary/5 ${h}`,children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),n&&_.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-900",children:[_.jsx("img",{src:n,alt:r,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:m=>{m.target.style.display="none",m.target.parentElement.classList.add("flex","items-center","justify-center","bg-gray-800"),m.target.parentElement.innerHTML='<span class="text-4xl"></span>'}}),u.length>0&&_.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:u.map((m,p)=>_.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded uppercase tracking-wider ${m.color||"bg-gray-800 text-white"}`,children:m.text},p))})]}),_.jsxs("div",{className:"flex flex-1 flex-col p-6 z-10",children:[e&&_.jsx("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-400",children:e}),_.jsx("h3",{className:"mb-3 text-xl font-bold text-white group-hover:text-primary transition-colors",children:r}),_.jsx("p",{className:"flex-1 text-gray-400 line-clamp-3 mb-6",children:s}),o&&_.jsx("div",{className:"mt-auto border-t border-gray-800 pt-4",children:o})]})]}),_E=[{id:"1",pair:"EUR/USD",direction:"Bearish",title:"EUR/USD Forming Head and Shoulders on 4H",content:"Price has failed to break the 1.0900 resistance level multiple times. We are observing a clear H&S pattern formation. If the neckline at 1.0820 breaks, we expect a sharp decline towards the 1.0750 liquidity zone.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",pair:"XAU/USD",direction:"Bullish",title:"Gold Preparing for Eruption Above 2050",content:"Geopolitical tensions and a weakening dollar suggest Gold is accumulating for a massive leg up. Watch for a retest of 2035 as a potential entry point for long positions targeting new highs.",author:"Analyst Sarah",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"},{id:"3",pair:"GBP/JPY",direction:"Bullish",title:"The Dragon is Waking Up",content:"GJ is respecting the ascending trendline perfectly. The recent pullback to 182.00 was rejected strongly. We are looking for continuation towards 185.00 level.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"}],YD=()=>{const[r,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState("All");P.useEffect(()=>{(async()=>{try{const y=ha(pn(ft,"analysis"),fa("timestamp","desc")),T=(await Ui(y)).docs.map(x=>({id:x.id,...x.data()}));T.length>0?e(T):e(_E)}catch(y){console.error("Error fetching analysis:",y),e(_E)}finally{s(!1)}})()},[]);const h=o==="All"?r:r.filter(p=>p.pair===o),m=["All",...new Set(r.map(p=>p.pair))];return _.jsx("div",{className:"bg-background min-h-screen py-12",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",_.jsx("span",{className:"text-primary",children:"Analysis"})]}),_.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Daily technical breakdowns and trade setups from our experts."})]}),_.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:m.map(p=>_.jsx("button",{onClick:()=>u(p),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${o===p?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:p},p))}),n?_.jsx("div",{className:"text-center text-white py-20",children:"Loading Volcano Data..."}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(p=>{const y=p.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return _.jsx(fw,{title:p.title,image:p.image||p.chart_image_url,content:p.content,subtitle:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-gray-500 text-xs",children:p.timestamp||new Date().toLocaleDateString()}),_.jsx("span",{className:"text-gray-600",children:""}),_.jsxs("span",{className:"text-gray-500 text-xs text-accent",children:["By ",p.author||"Admin"]})]}),badges:[{text:p.pair,color:"bg-surface border border-gray-700 text-white"},{text:p.direction,color:y}],footer:_.jsxs(zt,{variant:"ghost",size:"sm",className:"w-full justify-between group-hover:text-white",children:["Read Full Breakdown",_.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})},p.id)})})]})})},vE=[{id:"1",title:"NFP Smashes Expectations: 350k Jobs Added",impact:"High",affectedCurrencies:["USD","XAU","JPY"],content:"The Non-Farm Payrolls report showed a surprise surge in job creation, sending the Dollar Index (DXY) rocketing past 104.50. Traders should watch for pullbacks on Gold.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",title:"ECB Signals Rate Cuts in June",impact:"Medium",affectedCurrencies:["EUR","GBP"],content:"Lagarde hinted that inflation is under control, opening the door for a 25bps cut. Euro is showing weakness against the Pound.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"},{id:"3",title:"BoJ Maintains Ultra-Loose Policy",impact:"Low",affectedCurrencies:["JPY"],content:"No surprises from the Bank of Japan. Yield Curve Control remains in place. USD/JPY is drifting sideways in a tight range.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"}],KD={High:"bg-red-500/20 text-red-500 border border-red-500/50",Medium:"bg-orange-500/20 text-orange-500 border border-orange-500/50",Low:"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50"},XD=()=>{const[r,e]=P.useState([]),[n,s]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{const u=ha(pn(ft,"news"),fa("timestamp","desc")),m=(await Ui(u)).docs.map(p=>({id:p.id,...p.data()}));m.length>0?e(m):e(vE)}catch(u){console.error("Error fetching news:",u),e(vE)}finally{s(!1)}})()},[]),_.jsx("div",{className:"bg-background min-h-screen py-12",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",_.jsx("span",{className:"text-accent",children:"News"})]}),_.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Stay ahead of the volatility with real-time economic updates."})]}),n?_.jsx("div",{className:"text-center text-white py-20",children:"Loading Earth-shaking Events..."}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(o=>_.jsx(fw,{title:o.title,image:o.image,content:o.content,subtitle:_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{className:"text-gray-500 text-xs",children:o.timestamp||new Date().toLocaleDateString()})}),badges:[{text:o.impact,color:KD[o.impact]||"bg-gray-800 text-white"},...(o.affectedCurrencies||[]).map(u=>({text:u,color:"bg-surface border border-gray-700 text-white"}))]},o.id))})]})})},$D=()=>{const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(!1),p=ra(),y=async b=>{b.preventDefault(),u(""),m(!0);try{await cC(Li,r,n),p("/dashboard")}catch(T){console.error(T),u("Failed to login. Please check your credentials.")}finally{m(!1)}};return _.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[_.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Sign in to ",_.jsx("span",{className:"text-secondary",children:"Volcano"})]}),_.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",_.jsx(Zt,{to:"/register",className:"font-medium text-primary hover:text-green-400",children:"start your 14-day free trial"})]})]}),_.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:_.jsxs("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:[_.jsxs("form",{className:"space-y-6",onSubmit:y,children:[o&&_.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:o}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:b=>e(b.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:b=>s(b.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsx("div",{children:_.jsx(zt,{type:"submit",variant:"primary",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:h,children:h?"Signing in...":"Sign in"})})]}),_.jsxs("div",{className:"mt-6",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center",children:_.jsx("div",{className:"w-full border-t border-gray-700"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),_.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:_.jsx("div",{children:_.jsxs("a",{href:"#",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700",children:[_.jsx("span",{className:"sr-only",children:"Sign in with Google"}),_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})})]})},JD=()=>{const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(""),[p,y]=P.useState(!1),b=ra(),T=async x=>{x.preventDefault(),m(""),y(!0);try{const H=(await uC(Li,n,o)).user;await fC(H,{displayName:r}),await PD(_r(ft,"users",H.uid),{uid:H.uid,username:r,email:n,role:"user",createdAt:new Date().toISOString(),avatar_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(r)}&background=random`}),b("/dashboard")}catch(I){console.error(I),I.code==="auth/email-already-in-use"?m("Email already in use."):m("Failed to create account. Please try again.")}finally{y(!1)}};return _.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[_.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Join the ",_.jsx("span",{className:"text-secondary",children:"Eruption"})]}),_.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Already have an account?"," ",_.jsx(Zt,{to:"/login",className:"font-medium text-primary hover:text-green-400",children:"Sign in"})]})]}),_.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:_.jsx("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:_.jsxs("form",{className:"space-y-6",onSubmit:T,children:[h&&_.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:h}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:r,onChange:x=>e(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>s(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:o,onChange:x=>u(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsx("div",{children:_.jsx(zt,{type:"submit",variant:"primary",className:"w-full justify-center",disabled:p,children:p?"Creating Account...":"Sign up"})})]})})})]})},WD=[{id:"c1",title:"Forex Foundations: The Bedrock",progress:100,totalLessons:12,completedLessons:12,image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"c2",title:"Price Action Mastery",progress:45,totalLessons:20,completedLessons:9,image:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?q=80&w=1000&auto=format&fit=crop"},{id:"c3",title:"Institutional Order Flow",progress:0,totalLessons:15,completedLessons:0,image:"https://images.unsplash.com/photo-1642543492481-44e81e3914a7?q=80&w=1000&auto=format&fit=crop"}],ZD=()=>{const[r,e]=P.useState(null),[n,s]=P.useState(!0);P.useEffect(()=>{(async()=>{if(Li.currentUser)try{const h=_r(ft,"users",Li.currentUser.uid),m=await ig(h);m.exists()&&e(m.data())}catch(h){console.error("Error fetching user data:",h)}finally{s(!1)}})()},[]);const o=r?.username||Li.currentUser?.displayName||"Trader";return _.jsxs("div",{className:"min-h-screen bg-background text-white",children:[_.jsx("div",{className:"bg-surface border-b border-gray-800",children:_.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:_.jsx("img",{src:r?.avatar_url||`https://ui-avatars.com/api/?name=${o}`,alt:"Profile",className:"h-full w-full rounded-full bg-background object-cover"})}),_.jsxs("div",{children:[_.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",_.jsx("span",{className:"text-primary",children:o})]}),_.jsx("p",{className:"mt-1 text-gray-400",children:"Ready to dominate the markets today?"})]})]})})}),_.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-12",children:[_.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:_.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[_.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Total Progress"}),_.jsx("dd",{className:"mt-1 text-3xl font-semibold text-white",children:"48%"})]})}),_.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:_.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[_.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Courses Completed"}),_.jsx("dd",{className:"mt-1 text-3xl font-semibold text-primary",children:"1"})]})}),_.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:_.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[_.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Quiz Score Avg"}),_.jsx("dd",{className:"mt-1 text-3xl font-semibold text-secondary",children:"92%"})]})})]}),_.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Courses"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:WD.map(u=>_.jsxs("div",{className:"bg-surface rounded-xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-colors group",children:[_.jsxs("div",{className:"h-48 overflow-hidden relative",children:[_.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),_.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(zt,{variant:"primary",size:"sm",children:"Continue Learning"})})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:u.title}),_.jsxs("div",{className:"mt-4",children:[_.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[_.jsx("span",{children:"Progress"}),_.jsxs("span",{children:[u.progress,"%"]})]}),_.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:_.jsx("div",{className:`h-2 rounded-full ${u.progress===100?"bg-primary":"bg-secondary"}`,style:{width:`${u.progress}%`}})})]}),_.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:[_.jsxs("span",{children:[u.completedLessons,"/",u.totalLessons," Lessons"]}),u.progress===100&&_.jsxs("span",{className:"text-primary flex items-center gap-1",children:[_.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]})]})]})]},u.id))})]})]})},e4=()=>{const[r,e]=P.useState(!1),[n,s]=P.useState(!0),o=ra();return P.useEffect(()=>{(async()=>{if(!Li.currentUser){o("/login");return}try{const h=await ig(_r(ft,"users",Li.currentUser.uid));h.exists()&&h.data().role==="admin"?e(!0):o("/dashboard")}catch(h){console.error("Admin check failed",h),o("/dashboard")}finally{s(!1)}})()},[o]),n?_.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),_.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):r?_.jsxs("div",{className:"min-h-screen bg-background flex",children:[_.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[_.jsx("div",{className:"p-6 border-b border-gray-800",children:_.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",_.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),_.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[_.jsx(rh,{to:"/admin",end:!0,children:"Dashboard"}),_.jsx(rh,{to:"/admin/news",children:"Manage News"}),_.jsx(rh,{to:"/admin/analysis",children:"Manage Analysis"}),_.jsx(rh,{to:"/admin/courses",children:"Manage Courses"})]}),_.jsxs("div",{className:"p-4 border-t border-gray-800",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),_.jsxs("div",{className:"text-sm",children:[_.jsx("div",{className:"text-white font-medium",children:"Administrator"}),_.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),_.jsx(zt,{variant:"outline",size:"sm",className:"w-full",onClick:()=>o("/"),children:"Exit to Site"})]})]}),_.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[_.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),_.jsx(zt,{size:"sm",onClick:()=>o("/"),children:"Exit"})]}),_.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:_.jsx(YS,{})})]}):null},rh=({to:r,children:e,end:n=!1})=>_.jsx(VE,{to:r,end:n,className:({isActive:s})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${s?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:e}),t4=()=>_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"System Overview"}),_.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[_.jsx(sh,{title:"Total Users",value:"1,234",change:"+12%",color:"primary"}),_.jsx(sh,{title:"Active Courses",value:"8",change:"0%",color:"white"}),_.jsx(sh,{title:"Analysis Posts",value:"156",change:"+5 this week",color:"secondary"}),_.jsx(sh,{title:"News Alerts",value:"892",change:"+24 today",color:"accent"})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),_.jsxs("div",{className:"space-y-3",children:[_.jsx(Sm,{label:"Post New Analysis",to:"/admin/analysis"}),_.jsx(Sm,{label:"Broadcast News Alert",to:"/admin/news"}),_.jsx(Sm,{label:"Review New User Signups",to:"#"})]})]}),_.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"System Status"}),_.jsxs("div",{className:"space-y-4",children:[_.jsx(xm,{label:"Database Connection",status:"Healthy"}),_.jsx(xm,{label:"Auth Service",status:"Healthy"}),_.jsx(xm,{label:"API Latency",status:"24ms"})]})]})]})]}),sh=({title:r,value:e,change:n,color:s})=>{const o={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white"};return _.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-gray-800",children:[_.jsx("p",{className:"text-sm font-medium text-gray-400",children:r}),_.jsxs("div",{className:"mt-2 flex items-baseline",children:[_.jsx("p",{className:`text-3xl font-semibold ${o[s]||"text-white"}`,children:e}),_.jsx("p",{className:"ml-2 text-sm text-gray-500",children:n})]})]})},Sm=({label:r})=>_.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:[_.jsx("span",{className:"text-gray-300",children:r}),_.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),xm=({label:r,status:e})=>_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-gray-400",children:r}),_.jsxs("span",{className:"flex items-center text-primary text-sm font-medium",children:[_.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mr-2"}),e]})]}),n4=()=>{const[r,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState(!1),[h,m]=P.useState({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""});P.useEffect(()=>{p()},[]);const p=async()=>{s(!0);try{const T=ha(pn(ft,"news"),fa("timestamp","desc")),I=(await Ui(T)).docs.map(H=>({id:H.id,...H.data()}));e(I)}catch(T){console.error("Error fetching news:",T)}finally{s(!1)}},y=async T=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await nf(_r(ft,"news",T)),p()}catch(x){console.error("Error deleting news:",x),alert("Failed to delete news item.")}},b=async T=>{T.preventDefault();try{const x=h.affectedCurrencies.split(",").map(I=>I.trim().toUpperCase()).filter(I=>I);await rf(pn(ft,"news"),{title:h.title,impact:h.impact,content:h.content,image:h.image,affectedCurrencies:x,timestamp:sf()}),u(!1),m({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}),p()}catch(x){console.error("Error adding news:",x),alert("Failed to add news item.")}};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage News"}),_.jsx(zt,{onClick:()=>u(!o),children:o?"Cancel":"Post New Alert"})]}),o&&_.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"New Market Update"}),_.jsxs("form",{onSubmit:b,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.title,onChange:T=>m({...h,title:T.target.value}),placeholder:"e.g., NFP Beats Expectations"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"}),_.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.impact,onChange:T=>m({...h,impact:T.target.value}),children:[_.jsx("option",{value:"Low",children:"Low (Yellow)"}),_.jsx("option",{value:"Medium",children:"Medium (Orange)"}),_.jsx("option",{value:"High",children:"High (Red)"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Content/Summary"}),_.jsx("textarea",{required:!0,rows:3,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.content,onChange:T=>m({...h,content:T.target.value}),placeholder:"Brief summary of the news event..."})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Optional)"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.image,onChange:T=>m({...h,image:T.target.value}),placeholder:"https://..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Affected Currencies (comma separated)"}),_.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.affectedCurrencies,onChange:T=>m({...h,affectedCurrencies:T.target.value}),placeholder:"USD, EUR, JPY"})]})]}),_.jsx("div",{className:"flex justify-end pt-4",children:_.jsx(zt,{type:"submit",variant:"primary",children:"Publish News"})})]})]}),_.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[_.jsx("thead",{className:"bg-gray-900/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Impact"}),_.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800",children:n?_.jsx("tr",{children:_.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):r.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No news posted yet."})}):r.map(T=>_.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.timestamp?.seconds?new Date(T.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:T.title}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${T.impact==="High"?"bg-red-500/20 text-red-400":T.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:T.impact})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:_.jsx("button",{onClick:()=>y(T.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})})]},T.id))})]})})})]})},i4=()=>{const[r,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState(!1),[h,m]=P.useState({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""});P.useEffect(()=>{p()},[]);const p=async()=>{s(!0);try{const T=ha(pn(ft,"analysis"),fa("timestamp","desc")),I=(await Ui(T)).docs.map(H=>({id:H.id,...H.data()}));e(I)}catch(T){console.error("Error fetching analysis:",T)}finally{s(!1)}},y=async T=>{if(window.confirm("Are you sure you want to delete this analysis?"))try{await nf(_r(ft,"analysis",T)),p()}catch(x){console.error("Error deleting post:",x),alert("Failed to delete post.")}},b=async T=>{T.preventDefault();try{await rf(pn(ft,"analysis"),{...h,timestamp:sf()}),u(!1),m({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""}),p()}catch(x){console.error("Error adding post:",x),alert("Failed to add analysis.")}};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Analysis"}),_.jsx(zt,{onClick:()=>u(!o),children:o?"Cancel":"New Analysis"})]}),o&&_.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Post Technical Breakdown"}),_.jsxs("form",{onSubmit:b,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Pair / Asset"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none uppercase",value:h.pair,onChange:T=>m({...h,pair:T.target.value}),placeholder:"e.g. GBP/JPY"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Direction"}),_.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.direction,onChange:T=>m({...h,direction:T.target.value}),children:[_.jsx("option",{value:"Neutral",children:"Neutral (Gray)"}),_.jsx("option",{value:"Bullish",children:"Bullish (Green)"}),_.jsx("option",{value:"Bearish",children:"Bearish (Red)"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Chart)"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.image,onChange:T=>m({...h,image:T.target.value}),placeholder:"https://..."})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.title,onChange:T=>m({...h,title:T.target.value}),placeholder:"e.g. Double Top formation on 4H"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Content"}),_.jsx("textarea",{required:!0,rows:5,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.content,onChange:T=>m({...h,content:T.target.value}),placeholder:"Detailed technical analysis..."})]}),_.jsx("div",{className:"flex justify-end pt-4",children:_.jsx(zt,{type:"submit",variant:"primary",children:"Post Analysis"})})]})]}),_.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[_.jsx("thead",{className:"bg-gray-900/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pair"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Direction"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),_.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800",children:n?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):r.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"No analysis posted yet."})}):r.map(T=>_.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.timestamp?.seconds?new Date(T.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-bold",children:T.pair}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${T.direction==="Bullish"?"bg-green-500/20 text-green-400":T.direction==="Bearish"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-300"}`,children:T.direction})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white max-w-xs truncate",children:T.title}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:_.jsx("button",{onClick:()=>y(T.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})})]},T.id))})]})})})]})},r4=()=>{const[r,e]=P.useState([]),[n,s]=P.useState(null),[o,u]=P.useState(!0),[h,m]=P.useState(!1),[p,y]=P.useState({title:"",description:"",image:"",level:"Beginner"});P.useEffect(()=>{b()},[]);const b=async()=>{u(!0);try{const I=ha(pn(ft,"courses"),fa("order","asc")),X=(await Ui(I)).docs.map(G=>({id:G.id,...G.data()}));e(X)}catch(I){console.error("Error fetching courses:",I);const H=await Ui(pn(ft,"courses"));e(H.docs.map(X=>({id:X.id,...X.data()})))}finally{u(!1)}},T=async I=>{I.preventDefault();try{await rf(pn(ft,"courses"),{...p,order:r.length+1,createdAt:sf()}),m(!1),y({title:"",description:"",image:"",level:"Beginner"}),b()}catch(H){console.error("Error adding course:",H),alert("Failed to add course")}},x=async I=>{if(window.confirm("Delete this course? All lessons inside it might become orphaned."))try{await nf(_r(ft,"courses",I)),b(),n?.id===I&&s(null)}catch(H){console.error("Error deleting course:",H),alert("Delete failed")}};return n?_.jsx(s4,{course:n,onBack:()=>s(null)}):_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Courses"}),_.jsx(zt,{onClick:()=>m(!h),children:h?"Cancel":"New Course"})]}),h&&_.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create New Course"}),_.jsxs("form",{onSubmit:T,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Course Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:p.title,onChange:I=>y({...p,title:I.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Level"}),_.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:p.level,onChange:I=>y({...p,level:I.target.value}),children:[_.jsx("option",{children:"Beginner"}),_.jsx("option",{children:"Intermediate"}),_.jsx("option",{children:"Advanced"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),_.jsx("textarea",{required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:p.description,onChange:I=>y({...p,description:I.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:p.image,onChange:I=>y({...p,image:I.target.value})})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx(zt,{type:"submit",variant:"primary",children:"Create Course"})})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o?_.jsx("div",{className:"text-gray-400",children:"Loading courses..."}):r.map(I=>_.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group hover:border-gray-600 transition-all",children:[_.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[I.image&&_.jsx("img",{src:I.image,alt:I.title,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:_.jsx("button",{onClick:H=>{H.stopPropagation(),x(I.id)},className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),_.jsxs("div",{className:"p-5",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:I.title}),_.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:I.description}),_.jsx(zt,{variant:"outline",size:"sm",className:"w-full",onClick:()=>s(I),children:"Manage Lessons"})]})]},I.id))})]})},s4=({course:r,onBack:e})=>{const[n,s]=P.useState([]),[o,u]=P.useState(!1),[h,m]=P.useState({title:"",videoUrl:"",content:"",duration:"10 min"}),[p,y]=P.useState(!0);P.useEffect(()=>{b()},[r]);const b=async()=>{y(!0);try{const I=ha(pn(ft,"courses",r.id,"lessons"),fa("order","asc")),H=await Ui(I);s(H.docs.map(X=>({id:X.id,...X.data()})))}catch(I){console.error("Error fetching lessons:",I);const H=await Ui(pn(ft,"courses",r.id,"lessons"));s(H.docs.map(X=>({id:X.id,...X.data()})))}finally{y(!1)}},T=async I=>{I.preventDefault();try{await rf(pn(ft,"courses",r.id,"lessons"),{...h,order:n.length+1,createdAt:sf()}),u(!1),m({title:"",videoUrl:"",content:"",duration:"10 min"}),b()}catch(H){console.error("Error adding lesson:",H),alert("Failed to add lesson")}},x=async I=>{if(window.confirm("Delete this lesson?"))try{await nf(_r(ft,"courses",r.id,"lessons",I)),b()}catch(H){console.error("Error deleting lesson:",H)}};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[_.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white flex items-center gap-1",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),_.jsxs("h1",{className:"text-2xl font-bold text-white",children:[_.jsx("span",{className:"text-gray-500 font-normal",children:"Edit Course:"})," ",r.title]})]}),_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-white",children:["Lessons (",n.length,")"]}),_.jsx(zt,{onClick:()=>u(!o),variant:"secondary",children:o?"Cancel":"Add Lesson"})]}),o&&_.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:_.jsxs("form",{onSubmit:T,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.title,onChange:I=>m({...h,title:I.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),_.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.duration,onChange:I=>m({...h,duration:I.target.value}),placeholder:"e.g. 15 min"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Video Embed URL (YouTube/Vimeo)"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.videoUrl,onChange:I=>m({...h,videoUrl:I.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Content / Notes"}),_.jsx("textarea",{rows:4,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:h.content,onChange:I=>m({...h,content:I.target.value})})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx(zt,{type:"submit",variant:"primary",children:"Save Lesson"})})]})}),_.jsxs("div",{className:"space-y-3",children:[p?_.jsx("div",{className:"text-gray-400",children:"Loading lessons..."}):n.map((I,H)=>_.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-gray-800 flex justify-between items-center group hover:border-gray-600",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-gray-400 font-bold text-sm",children:H+1}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-white",children:I.title}),_.jsx("div",{className:"text-xs text-gray-500",children:I.duration})]})]}),_.jsx("div",{className:"flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx("button",{onClick:()=>x(I.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})})]},I.id)),n.length===0&&!p&&_.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:"No lessons yet. Start teaching!"})]})]})},a4=()=>{const{courseId:r}=OS(),e=ra(),[n,s]=P.useState(null),[o,u]=P.useState([]),[h,m]=P.useState(null),[p,y]=P.useState(!0),[b,T]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{y(!0);const I=await ig(_r(ft,"courses",r));if(!I.exists()){alert("Course not found"),e("/dashboard");return}s({id:I.id,...I.data()});const H=ha(pn(ft,"courses",r,"lessons"),fa("order","asc")),X=await Ui(H);let G=[];X.empty?G=(await Ui(pn(ft,"courses",r,"lessons"))).docs.map(ne=>({id:ne.id,...ne.data()})):G=X.docs.map(te=>({id:te.id,...te.data()})),u(G),G.length>0&&m(G[0])}catch(I){console.error("Error loading course:",I)}finally{y(!1)}})()},[r,e]),p?_.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):n?_.jsxs("div",{className:"flex h-screen bg-background overflow-hidden animate-fade-in",children:[_.jsxs("div",{className:`${b?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[_.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[_.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:n.title}),_.jsx("button",{onClick:()=>T(!1),className:"md:hidden text-gray-400",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.map((x,I)=>_.jsxs("div",{onClick:()=>m(x),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${h?.id===x.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[_.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:I+1}),_.jsxs("div",{children:[_.jsx("h4",{className:`text-sm font-medium ${h?.id===x.id?"text-primary":"text-gray-300"}`,children:x.title}),_.jsx("span",{className:"text-xs text-gray-500",children:x.duration||"10 min"})]})]},x.id)),o.length===0&&_.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),_.jsx("div",{className:"p-4 border-t border-gray-800",children:_.jsx(Zt,{to:"/dashboard",children:_.jsx(zt,{variant:"outline",size:"sm",className:"w-full",children:"Back to Dashboard"})})})]}),_.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[_.jsx("div",{className:"absolute top-4 left-4 z-10",children:_.jsx("button",{onClick:()=>T(!b),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:b?_.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):_.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),h?_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[_.jsx("div",{className:"bg-black aspect-video w-full max-h-[70vh] flex items-center justify-center",children:h.videoUrl?_.jsx("iframe",{src:h.videoUrl,title:h.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):_.jsxs("div",{className:"text-gray-500 text-center",children:[_.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),_.jsx("p",{children:"No video content for this lesson."})]})}),_.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[_.jsx("div",{className:"flex justify-between items-start mb-6",children:_.jsx("h1",{className:"text-2xl font-bold text-white",children:h.title})}),_.jsx("div",{className:"prose prose-invert max-w-none",children:_.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:h.content})})]})]}):_.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a lesson from the sidebar to start."})]})]}):null},EE=({children:r,adminOnly:e=!1})=>{const[n,s]=P.useState(null),[o,u]=P.useState(!0);return P.useEffect(()=>{const h=ET(Li,m=>{s(m),u(!1)});return()=>h()},[]),o?_.jsx("div",{className:"text-center p-10 pt-32 text-white",children:"Loading..."}):n?r:_.jsx(QS,{to:"/login",replace:!0})};function o4(){return _.jsx(_x,{children:_.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[_.jsx(BD,{}),_.jsx("main",{className:"flex-grow",children:_.jsxs(XS,{children:[_.jsx(xn,{path:"/",element:_.jsx(QD,{})}),_.jsx(xn,{path:"/analysis",element:_.jsx(YD,{})}),_.jsx(xn,{path:"/news",element:_.jsx(XD,{})}),_.jsx(xn,{path:"/login",element:_.jsx($D,{})}),_.jsx(xn,{path:"/register",element:_.jsx(JD,{})}),_.jsx(xn,{path:"/dashboard",element:_.jsx(EE,{children:_.jsx(ZD,{})})}),_.jsx(xn,{path:"/dashboard/course/:courseId",element:_.jsx(EE,{children:_.jsx(a4,{})})}),_.jsxs(xn,{path:"/admin",element:_.jsx(e4,{}),children:[_.jsx(xn,{index:!0,element:_.jsx(t4,{})}),_.jsx(xn,{path:"news",element:_.jsx(n4,{})}),_.jsx(xn,{path:"analysis",element:_.jsx(i4,{})}),_.jsx(xn,{path:"courses",element:_.jsx(r4,{})})]})]})}),_.jsx(qD,{})]})})}W1.createRoot(document.getElementById("root")).render(_.jsx(P.StrictMode,{children:_.jsx(o4,{})}));
