import{r as l,f as m,h,j as e,B as o,O as u,b as f,e as b,d as j,a as g,N}from"./index-Do7GzjIo.js";const y=()=>{const[r,i]=l.useState(!1),[n,d]=l.useState(!0),s=m();return l.useEffect(()=>{const x=h(g,async c=>{if(c)try{const t=await f(b(j,"users",c.uid));t.exists()&&t.data().role==="admin"?i(!0):s("/dashboard")}catch(t){console.error("Admin check failed",t),s("/dashboard")}else s("/login");d(!1)});return()=>x()},[s]),n?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),e.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):r?e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",e.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[e.jsx(a,{to:"/admin",end:!0,children:"Dashboard"}),e.jsx(a,{to:"/admin/news",children:"Manage News"}),e.jsx(a,{to:"/admin/analysis",children:"Manage Analysis"}),e.jsx(a,{to:"/admin/courses",children:"Manage Courses"}),e.jsx(a,{to:"/admin/profile",children:"Analyst Profile"})]}),e.jsxs("div",{className:"p-4 border-t border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-white font-medium",children:"Administrator"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),e.jsx(o,{variant:"outline",size:"sm",className:"w-full",onClick:()=>s("/"),children:"Exit to Site"})]})]}),e.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[e.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),e.jsx(o,{size:"sm",onClick:()=>s("/"),children:"Exit"})]}),e.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:e.jsx(u,{})})]}):null},a=({to:r,children:i,end:n=!1})=>e.jsx(N,{to:r,end:n,className:({isActive:d})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${d?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:i});export{y as default};
