(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var _m={exports:{}},Gl={};var Tb;function j2(){if(Tb)return Gl;Tb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:a,type:i,key:c,ref:s!==void 0?s:null,props:l}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var wb;function V2(){return wb||(wb=1,_m.exports=j2()),_m.exports}var k=V2(),bm={exports:{}},He={};var Ab;function q2(){if(Ab)return He;Ab=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function E(V,z,G){this.props=V,this.context=z,this.refs=A,this.updater=G||S}E.prototype.isReactComponent={},E.prototype.setState=function(V,z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,z,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=E.prototype;function I(V,z,G){this.props=V,this.context=z,this.refs=A,this.updater=G||S}var x=I.prototype=new w;x.constructor=I,T(x,E.prototype),x.isPureReactComponent=!0;var j=Array.isArray;function B(){}var N={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function P(V,z,G){var J=G.ref;return{$$typeof:a,type:V,key:z,ref:J!==void 0?J:null,props:G}}function D(V,z){return P(V.type,z,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function M(V){var z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(G){return z[G]})}var L=/\/+/g;function Y(V,z){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):z.toString(36)}function W(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(B,B):(V.status="pending",V.then(function(z){V.status==="pending"&&(V.status="fulfilled",V.value=z)},function(z){V.status==="pending"&&(V.status="rejected",V.reason=z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,z,G,J,te){var F=typeof V;(F==="undefined"||F==="boolean")&&(V=null);var ee=!1;if(V===null)ee=!0;else switch(F){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(V.$$typeof){case a:case e:ee=!0;break;case _:return ee=V._init,Q(ee(V._payload),z,G,J,te)}}if(ee)return te=te(V),ee=J===""?"."+Y(V,0):J,j(te)?(G="",ee!=null&&(G=ee.replace(L,"$&/")+"/"),Q(te,z,G,"",function(Ee){return Ee})):te!=null&&(R(te)&&(te=D(te,G+(te.key==null||V&&V.key===te.key?"":(""+te.key).replace(L,"$&/")+"/")+ee)),z.push(te)),1;ee=0;var le=J===""?".":J+":";if(j(V))for(var se=0;se<V.length;se++)J=V[se],F=le+Y(J,se),ee+=Q(J,z,G,F,te);else if(se=v(V),typeof se=="function")for(V=se.call(V),se=0;!(J=V.next()).done;)J=J.value,F=le+Y(J,se++),ee+=Q(J,z,G,F,te);else if(F==="object"){if(typeof V.then=="function")return Q(W(V),z,G,J,te);throw z=String(V),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ee}function Z(V,z,G){if(V==null)return V;var J=[],te=0;return Q(V,J,"","",function(F){return z.call(G,F,te++)}),J}function he(V){if(V._status===-1){var z=V._result;z=z(),z.then(function(G){(V._status===0||V._status===-1)&&(V._status=1,V._result=G)},function(G){(V._status===0||V._status===-1)&&(V._status=2,V._result=G)}),V._status===-1&&(V._status=0,V._result=z)}if(V._status===1)return V._result.default;throw V._result}var ne=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},X={map:Z,forEach:function(V,z,G){Z(V,function(){z.apply(this,arguments)},G)},count:function(V){var z=0;return Z(V,function(){z++}),z},toArray:function(V){return Z(V,function(z){return z})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return He.Activity=m,He.Children=X,He.Component=E,He.Fragment=n,He.Profiler=s,He.PureComponent=I,He.StrictMode=i,He.Suspense=d,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,He.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},He.cache=function(V){return function(){return V.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(V,z,G){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=T({},V.props),te=V.key;if(z!=null)for(F in z.key!==void 0&&(te=""+z.key),z)!O.call(z,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&z.ref===void 0||(J[F]=z[F]);var F=arguments.length-2;if(F===1)J.children=G;else if(1<F){for(var ee=Array(F),le=0;le<F;le++)ee[le]=arguments[le+2];J.children=ee}return P(V.type,te,J)},He.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},He.createElement=function(V,z,G){var J,te={},F=null;if(z!=null)for(J in z.key!==void 0&&(F=""+z.key),z)O.call(z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(te[J]=z[J]);var ee=arguments.length-2;if(ee===1)te.children=G;else if(1<ee){for(var le=Array(ee),se=0;se<ee;se++)le[se]=arguments[se+2];te.children=le}if(V&&V.defaultProps)for(J in ee=V.defaultProps,ee)te[J]===void 0&&(te[J]=ee[J]);return P(V,F,te)},He.createRef=function(){return{current:null}},He.forwardRef=function(V){return{$$typeof:h,render:V}},He.isValidElement=R,He.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:he}},He.memo=function(V,z){return{$$typeof:p,type:V,compare:z===void 0?null:z}},He.startTransition=function(V){var z=N.T,G={};N.T=G;try{var J=V(),te=N.S;te!==null&&te(G,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(B,ne)}catch(F){ne(F)}finally{z!==null&&G.types!==null&&(z.types=G.types),N.T=z}},He.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},He.use=function(V){return N.H.use(V)},He.useActionState=function(V,z,G){return N.H.useActionState(V,z,G)},He.useCallback=function(V,z){return N.H.useCallback(V,z)},He.useContext=function(V){return N.H.useContext(V)},He.useDebugValue=function(){},He.useDeferredValue=function(V,z){return N.H.useDeferredValue(V,z)},He.useEffect=function(V,z){return N.H.useEffect(V,z)},He.useEffectEvent=function(V){return N.H.useEffectEvent(V)},He.useId=function(){return N.H.useId()},He.useImperativeHandle=function(V,z,G){return N.H.useImperativeHandle(V,z,G)},He.useInsertionEffect=function(V,z){return N.H.useInsertionEffect(V,z)},He.useLayoutEffect=function(V,z){return N.H.useLayoutEffect(V,z)},He.useMemo=function(V,z){return N.H.useMemo(V,z)},He.useOptimistic=function(V,z){return N.H.useOptimistic(V,z)},He.useReducer=function(V,z,G){return N.H.useReducer(V,z,G)},He.useRef=function(V){return N.H.useRef(V)},He.useState=function(V){return N.H.useState(V)},He.useSyncExternalStore=function(V,z,G){return N.H.useSyncExternalStore(V,z,G)},He.useTransition=function(){return N.H.useTransition()},He.version="19.2.1",He}var Sb;function Qf(){return Sb||(Sb=1,bm.exports=q2()),bm.exports}var ae=Qf(),Em={exports:{}},Kl={},Tm={exports:{}},wm={};var xb;function U2(){return xb||(xb=1,(function(a){function e(Q,Z){var he=Q.length;Q.push(Z);e:for(;0<he;){var ne=he-1>>>1,X=Q[ne];if(0<s(X,Z))Q[ne]=Z,Q[he]=X,he=ne;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var Z=Q[0],he=Q.pop();if(he!==Z){Q[0]=he;e:for(var ne=0,X=Q.length,V=X>>>1;ne<V;){var z=2*(ne+1)-1,G=Q[z],J=z+1,te=Q[J];if(0>s(G,he))J<X&&0>s(te,G)?(Q[ne]=te,Q[J]=he,ne=J):(Q[ne]=G,Q[z]=he,ne=z);else if(J<X&&0>s(te,he))Q[ne]=te,Q[J]=he,ne=J;else break e}}return Z}function s(Q,Z){var he=Q.sortIndex-Z.sortIndex;return he!==0?he:Q.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var d=[],p=[],_=1,m=null,y=3,v=!1,S=!1,T=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function x(Q){for(var Z=n(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=Q)i(p),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(p)}}function j(Q){if(T=!1,x(Q),!S)if(n(d)!==null)S=!0,B||(B=!0,M());else{var Z=n(p);Z!==null&&W(j,Z.startTime-Q)}}var B=!1,N=-1,O=5,P=-1;function D(){return A?!0:!(a.unstable_now()-P<O)}function R(){if(A=!1,B){var Q=a.unstable_now();P=Q;var Z=!0;try{e:{S=!1,T&&(T=!1,w(N),N=-1),v=!0;var he=y;try{t:{for(x(Q),m=n(d);m!==null&&!(m.expirationTime>Q&&D());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,y=m.priorityLevel;var X=ne(m.expirationTime<=Q);if(Q=a.unstable_now(),typeof X=="function"){m.callback=X,x(Q),Z=!0;break t}m===n(d)&&i(d),x(Q)}else i(d);m=n(d)}if(m!==null)Z=!0;else{var V=n(p);V!==null&&W(j,V.startTime-Q),Z=!1}}break e}finally{m=null,y=he,v=!1}Z=void 0}}finally{Z?M():B=!1}}}var M;if(typeof I=="function")M=function(){I(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Y=L.port2;L.port1.onmessage=R,M=function(){Y.postMessage(null)}}else M=function(){E(R,0)};function W(Q,Z){N=E(function(){Q(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var he=y;y=Z;try{return Q()}finally{y=he}},a.unstable_requestPaint=function(){A=!0},a.unstable_runWithPriority=function(Q,Z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=y;y=Q;try{return Z()}finally{y=he}},a.unstable_scheduleCallback=function(Q,Z,he){var ne=a.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ne+he:ne):he=ne,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=he+X,Q={id:_++,callback:Z,priorityLevel:Q,startTime:he,expirationTime:X,sortIndex:-1},he>ne?(Q.sortIndex=he,e(p,Q),n(d)===null&&Q===n(p)&&(T?(w(N),N=-1):T=!0,W(j,he-ne))):(Q.sortIndex=X,e(d,Q),S||v||(S=!0,B||(B=!0,M()))),Q},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(Q){var Z=y;return function(){var he=y;y=Z;try{return Q.apply(this,arguments)}finally{y=he}}}})(wm)),wm}var Rb;function B2(){return Rb||(Rb=1,Tm.exports=U2()),Tm.exports}var Am={exports:{}},pn={};var Nb;function z2(){if(Nb)return pn;Nb=1;var a=Qf();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,p,_){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:p,implementation:_}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(d,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,_)},pn.flushSync=function(d){var p=c.T,_=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=p,i.p=_,i.d.f()}},pn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},pn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},pn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var _=p.as,m=h(_,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:v}):_==="script"&&i.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},pn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,m=h(_,p.crossOrigin);i.d.L(d,_,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(d,p){if(typeof d=="string")if(p){var _=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},pn.requestFormReset=function(d){i.d.r(d)},pn.unstable_batchedUpdates=function(d,p){return d(p)},pn.useFormState=function(d,p,_){return c.H.useFormState(d,p,_)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.2.1",pn}var Ob;function nw(){if(Ob)return Am.exports;Ob=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Am.exports=z2(),Am.exports}var Cb;function H2(){if(Cb)return Kl;Cb=1;var a=B2(),e=Qf(),n=nw();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function h(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(l(t)!==t)throw Error(i(188))}function p(t){var r=t.alternate;if(!r){if(r=l(t),r===null)throw Error(i(188));return r!==t?null:t}for(var o=t,u=r;;){var g=o.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===o)return d(g),t;if(b===u)return d(g),r;b=b.sibling}throw Error(i(188))}if(o.return!==u.return)o=g,u=b;else{for(var q=!1,H=g.child;H;){if(H===o){q=!0,o=g,u=b;break}if(H===u){q=!0,u=g,o=b;break}H=H.sibling}if(!q){for(H=b.child;H;){if(H===o){q=!0,o=b,u=g;break}if(H===u){q=!0,u=b,o=g;break}H=H.sibling}if(!q)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function Y(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case B:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case I:return t.displayName||"Context";case w:return(t._context.displayName||"Context")+".Consumer";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Y(t.type)||"Memo";case O:r=t._payload,t=t._init;try{return Y(t(r))}catch{}}return null}var W=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ne=[],X=-1;function V(t){return{current:t}}function z(t){0>X||(t.current=ne[X],ne[X]=null,X--)}function G(t,r){X++,ne[X]=t.current,t.current=r}var J=V(null),te=V(null),F=V(null),ee=V(null);function le(t,r){switch(G(F,r),G(te,t),G(J,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?G0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=G0(r),t=K0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(J),G(J,t)}function se(){z(J),z(te),z(F)}function Ee(t){t.memoizedState!==null&&G(ee,t);var r=J.current,o=K0(r,t.type);r!==o&&(G(te,t),G(J,o))}function Re(t){te.current===t&&(z(J),z(te)),ee.current===t&&(z(ee),Bl._currentValue=he)}var Le,je;function Ue(t){if(Le===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Le=r&&r[1]||"",je=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+t+je}var nt=!1;function Ct(t,r){if(!t||nt)return"";nt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(me){var fe=me}Reflect.construct(t,[],be)}else{try{be.call()}catch(me){fe=me}t.call(be.prototype)}}else{try{throw Error()}catch(me){fe=me}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),q=b[0],H=b[1];if(q&&H){var $=q.split(`
`),ce=H.split(`
`);for(g=u=0;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;for(;g<ce.length&&!ce[g].includes("DetermineComponentFrameRoot");)g++;if(u===$.length||g===ce.length)for(u=$.length-1,g=ce.length-1;1<=u&&0<=g&&$[u]!==ce[g];)g--;for(;1<=u&&0<=g;u--,g--)if($[u]!==ce[g]){if(u!==1||g!==1)do if(u--,g--,0>g||$[u]!==ce[g]){var ye=`
`+$[u].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=u&&0<=g);break}}}finally{nt=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Ue(o):""}function bt(t,r){switch(t.tag){case 26:case 27:case 5:return Ue(t.type);case 16:return Ue("Lazy");case 13:return t.child!==r&&r!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return Ct(t.type,!1);case 11:return Ct(t.type.render,!1);case 1:return Ct(t.type,!0);case 31:return Ue("Activity");default:return""}}function ge(t){try{var r="",o=null;do r+=bt(t,o),o=t,t=t.return;while(t);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var pe=Object.prototype.hasOwnProperty,Ae=a.unstable_scheduleCallback,xe=a.unstable_cancelCallback,we=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Me=a.unstable_now,Be=a.unstable_getCurrentPriorityLevel,$t=a.unstable_ImmediatePriority,En=a.unstable_UserBlockingPriority,at=a.unstable_NormalPriority,Go=a.unstable_LowPriority,Et=a.unstable_IdlePriority,Mn=a.log,ku=a.unstable_setDisableYieldValue,hr=null,an=null;function Kn(t){if(typeof Mn=="function"&&ku(t),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(hr,t)}catch{}}var kt=Math.clz32?Math.clz32:Lu,Mu=Math.log,Ns=Math.LN2;function Lu(t){return t>>>=0,t===0?32:31-(Mu(t)/Ns|0)|0}var Cr=256,Pa=262144,Vt=4194304;function Ir(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dr(t,r,o){var u=t.pendingLanes;if(u===0)return 0;var g=0,b=t.suspendedLanes,q=t.pingedLanes;t=t.warmLanes;var H=u&134217727;return H!==0?(u=H&~b,u!==0?g=Ir(u):(q&=H,q!==0?g=Ir(q):o||(o=H&~t,o!==0&&(g=Ir(o))))):(H=u&~b,H!==0?g=Ir(H):q!==0?g=Ir(q):o||(o=u&~t,o!==0&&(g=Ir(o)))),g===0?0:r!==0&&r!==g&&(r&b)===0&&(b=g&-g,o=r&-r,b>=o||b===32&&(o&4194048)!==0)?r:g}function dr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wh(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function kr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function ja(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ah(t,r,o,u,g,b){var q=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var H=t.entanglements,$=t.expirationTimes,ce=t.hiddenUpdates;for(o=q&~o;0<o;){var ye=31-kt(o),be=1<<ye;H[ye]=0,$[ye]=-1;var fe=ce[ye];if(fe!==null)for(ce[ye]=null,ye=0;ye<fe.length;ye++){var me=fe[ye];me!==null&&(me.lane&=-536870913)}o&=~be}u!==0&&Va(t,u,0),b!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=b&~(q&~r))}function Va(t,r,o){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-kt(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function Ko(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-kt(o),g=1<<u;g&r|t[u]&r&&(t[u]|=r),o&=~g}}function Yo(t,r){var o=r&-r;return o=(o&42)!==0?1:qa(o),(o&(t.suspendedLanes|r))!==0?0:o}function qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function si(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ju(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:pb(t.type))}function mr(t,r){var o=Z.p;try{return Z.p=t,r()}finally{Z.p=o}}var pr=Math.random().toString(36).slice(2),qt="__reactFiber$"+pr,en="__reactProps$"+pr,Mr="__reactContainer$"+pr,Os="__reactEvents$"+pr,Sh="__reactListeners$"+pr,Vu="__reactHandles$"+pr,qu="__reactResources$"+pr,Lr="__reactMarker$"+pr;function Cs(t){delete t[qt],delete t[en],delete t[Os],delete t[Sh],delete t[Vu]}function Pr(t){var r=t[qt];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Mr]||o[qt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=$0(t);t!==null;){if(o=t[qt])return o;t=$0(t)}return r}t=o,o=t.parentNode}return null}function Yn(t){if(t=t[qt]||t[Mr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Ln(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function jr(t){var r=t[qu];return r||(r=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ut(t){t[Lr]=!0}var Qo=new Set,Xo={};function Vr(t,r){qr(t,r),qr(t+"Capture",r)}function qr(t,r){for(Xo[t]=r,t=0;t<r.length;t++)Qo.add(r[t])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Jo={};function Uu(t){return pe.call(Jo,t)?!0:pe.call(Zo,t)?!1:Wo.test(t)?Jo[t]=!0:(Zo[t]=!0,!1)}function Is(t,r,o){if(Uu(r))if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+o)}}function Pn(t,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+o)}}function Bt(t,r,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(r,o,""+u)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $o(t,r,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return g.call(this)},set:function(q){o=""+q,b.call(this,q)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(q){o=""+q},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ft(t){if(!t._valueTracker){var r=qi(t)?"checked":"value";t._valueTracker=$o(t,r,""+t[r])}}function Ua(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=qi(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ba=/[\n"\\]/g;function An(t){return t.replace(Ba,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ds(t,r,o,u,g,b,q,H){t.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?t.type=q:t.removeAttribute("type"),r!=null?q==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):q!=="submit"&&q!=="reset"||t.removeAttribute("value"),r!=null?el(t,q,tn(r)):o!=null?el(t,q,tn(o)):u!=null&&t.removeAttribute("value"),g==null&&b!=null&&(t.defaultChecked=!!b),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?t.name=""+tn(H):t.removeAttribute("name")}function Bu(t,r,o,u,g,b,q,H){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),r!=null||o!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){ft(t);return}o=o!=null?""+tn(o):"",r=r!=null?""+tn(r):o,H||r===t.value||(t.value=r),t.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=H?t.checked:!!u,t.defaultChecked=!!u,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(t.name=q),ft(t)}function el(t,r,o){r==="number"&&Ur(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Ui(t,r,o,u){if(t=t.options,r){r={};for(var g=0;g<o.length;g++)r["$"+o[g]]=!0;for(o=0;o<t.length;o++)g=r.hasOwnProperty("$"+t[o].value),t[o].selected!==g&&(t[o].selected=g),g&&u&&(t[o].defaultSelected=!0)}else{for(o=""+tn(o),r=null,g=0;g<t.length;g++){if(t[g].value===o){t[g].selected=!0,u&&(t[g].defaultSelected=!0);return}r!==null||t[g].disabled||(r=t[g])}r!==null&&(r.selected=!0)}}function zu(t,r,o){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),o==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=o!=null?""+tn(o):""}function Bi(t,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(W(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=tn(r),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),ft(t)}function Sn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,o):typeof o!="number"||o===0||Hu.has(r)?r==="float"?t.cssFloat=o:t[r]=(""+o).trim():t[r]=o+"px"}function nl(t,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&o[g]!==u&&tl(t,g,u)}else for(var b in r)r.hasOwnProperty(b)&&tl(t,b,r[b])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gr(){}var rl=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Br=null;function za(t){var r=Yn(t);if(r&&(t=r.stateNode)){var o=t[en]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ds(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var g=u[en]||null;if(!g)throw Error(i(90));Ds(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===t.form&&Ua(u)}break e;case"textarea":zu(t,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ui(t,!!o.multiple,r,!1)}}}var Ls=!1;function Fi(t,r,o){if(Ls)return t(r,o);Ls=!0;try{var u=t(r);return u}finally{if(Ls=!1,(Hi!==null||Br!==null)&&(jc(),Hi&&(r=Hi,t=Br,Br=Hi=null,za(r),t)))for(r=0;r<t.length;r++)za(t[r])}}function yr(t,r){var o=t.stateNode;if(o===null)return null;var u=o[en]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(Xn)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Ha=!1}var zr=null,il=null,Fa=null;function al(){if(Fa)return Fa;var t,r=il,o=r.length,u,g="value"in zr?zr.value:zr.textContent,b=g.length;for(t=0;t<o&&r[t]===g[t];t++);var q=o-t;for(u=1;u<=q&&r[o-u]===g[b-u];u++);return Fa=g.slice(t,1<u?1-u:void 0)}function Ga(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function vr(){return!1}function sn(t){function r(o,u,g,b,q){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=q,this.currentTarget=null;for(var H in t)t.hasOwnProperty(H)&&(o=t[H],this[H]=o?o(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?oi:vr,this.isPropagationStopped=vr,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=sn(li),Gi=m({},li,{view:0,detail:0}),sl=sn(Gi),Ki,Ps,Fr,js=m({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(Ki=t.screenX-Fr.screenX,Ps=t.screenY-Fr.screenY):Ps=Ki=0,Fr=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Ps}}),ol=sn(js),Ka=m({},js,{dataTransfer:0}),Gu=sn(Ka),Ku=m({},Gi,{relatedTarget:0}),Ya=sn(Ku),ll=m({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=sn(ll),Vs=m({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qu=sn(Vs),Xu=m({},li,{data:0}),Gr=sn(Xu),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ju[t])?!!r[t]:!1}function Yi(){return $u}var Tn=m({},Gi,{key:function(t){if(t.key){var r=Wu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(t){return t.type==="keypress"?Ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ec=sn(Tn),tc=m({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=sn(tc),f=m({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),C=sn(f),U=m({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),K=sn(U),oe=m({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),de=sn(oe),Se=m({},li,{newState:0,oldState:0}),Ke=sn(Se),Mt=[9,13,27,32],lt=Xn&&"CompositionEvent"in window,xt=null;Xn&&"documentMode"in document&&(xt=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!xt,Kr=Xn&&(!lt||xt&&8<xt&&11>=xt),_r=" ",br=!1;function Qa(t,r){switch(t){case"keyup":return Mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function sx(t,r){switch(t){case"compositionend":return qs(r);case"keypress":return r.which!==32?null:(br=!0,_r);case"textInput":return t=r.data,t===_r&&br?null:t;default:return null}}function ox(t,r){if(Us)return t==="compositionend"||!lt&&Qa(t,r)?(t=al(),Fa=il=zr=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Kr&&r.locale!=="ko"?null:r.data;default:return null}}var lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!lx[t.type]:r==="textarea"}function rv(t,r,o,u){Hi?Br?Br.push(u):Br=[u]:Hi=u,r=Fc(r,"onChange"),0<r.length&&(o=new Hr("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var ul=null,cl=null;function ux(t){q0(t,0)}function nc(t){var r=Ln(t);if(Ua(r))return t}function iv(t,r){if(t==="change")return r}var av=!1;if(Xn){var xh;if(Xn){var Rh="oninput"in document;if(!Rh){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),Rh=typeof sv.oninput=="function"}xh=Rh}else xh=!1;av=xh&&(!document.documentMode||9<document.documentMode)}function ov(){ul&&(ul.detachEvent("onpropertychange",lv),cl=ul=null)}function lv(t){if(t.propertyName==="value"&&nc(cl)){var r=[];rv(r,cl,t,Qn(t)),Fi(ux,r)}}function cx(t,r,o){t==="focusin"?(ov(),ul=r,cl=o,ul.attachEvent("onpropertychange",lv)):t==="focusout"&&ov()}function fx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(cl)}function hx(t,r){if(t==="click")return nc(r)}function dx(t,r){if(t==="input"||t==="change")return nc(r)}function mx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var jn=typeof Object.is=="function"?Object.is:mx;function fl(t,r){if(jn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!pe.call(r,g)||!jn(t[g],r[g]))return!1}return!0}function uv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cv(t,r){var o=uv(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uv(o)}}function fv(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?fv(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function hv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ur(t.document);r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ur(t.document)}return r}function Nh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var px=Xn&&"documentMode"in document&&11>=document.documentMode,Bs=null,Oh=null,hl=null,Ch=!1;function dv(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ch||Bs==null||Bs!==Ur(u)||(u=Bs,"selectionStart"in u&&Nh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hl&&fl(hl,u)||(hl=u,u=Fc(Oh,"onSelect"),0<u.length&&(r=new Hr("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Bs)))}function Xa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var zs={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Ih={},mv={};Xn&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Wa(t){if(Ih[t])return Ih[t];if(!zs[t])return t;var r=zs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in mv)return Ih[t]=r[o];return t}var pv=Wa("animationend"),gv=Wa("animationiteration"),yv=Wa("animationstart"),gx=Wa("transitionrun"),yx=Wa("transitionstart"),vx=Wa("transitioncancel"),vv=Wa("transitionend"),_v=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Er(t,r){_v.set(t,r),Vr(r,[t])}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Hs=0,kh=0;function ic(){for(var t=Hs,r=kh=Hs=0;r<t;){var o=Zn[r];Zn[r++]=null;var u=Zn[r];Zn[r++]=null;var g=Zn[r];Zn[r++]=null;var b=Zn[r];if(Zn[r++]=null,u!==null&&g!==null){var q=u.pending;q===null?g.next=g:(g.next=q.next,q.next=g),u.pending=g}b!==0&&bv(o,g,b)}}function ac(t,r,o,u){Zn[Hs++]=t,Zn[Hs++]=r,Zn[Hs++]=o,Zn[Hs++]=u,kh|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Mh(t,r,o,u){return ac(t,r,o,u),sc(t)}function Za(t,r){return ac(t,null,null,r),sc(t)}function bv(t,r,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var g=!1,b=t.return;b!==null;)b.childLanes|=o,u=b.alternate,u!==null&&(u.childLanes|=o),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(g=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,g&&r!==null&&(g=31-kt(o),t=b.hiddenUpdates,u=t[g],u===null?t[g]=[r]:u.push(r),r.lane=o|536870912),b):null}function sc(t){if(50<Ml)throw Ml=0,Hd=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Fs={};function _x(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,r,o,u){return new _x(t,r,o,u)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,r){var o=t.alternate;return o===null?(o=Vn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Ev(t,r){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,r=o.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function oc(t,r,o,u,g,b){var q=0;if(u=t,typeof t=="function")Lh(t)&&(q=1);else if(typeof t=="string")q=A2(t,o,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=Vn(31,o,r,g),t.elementType=P,t.lanes=b,t;case T:return Ja(o.children,g,b,r);case A:q=8,g|=24;break;case E:return t=Vn(12,o,r,g|2),t.elementType=E,t.lanes=b,t;case j:return t=Vn(13,o,r,g),t.elementType=j,t.lanes=b,t;case B:return t=Vn(19,o,r,g),t.elementType=B,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:q=10;break e;case w:q=9;break e;case x:q=11;break e;case N:q=14;break e;case O:q=16,u=null;break e}q=29,o=Error(i(130,t===null?"null":typeof t,"")),u=null}return r=Vn(q,o,r,g),r.elementType=t,r.type=u,r.lanes=b,r}function Ja(t,r,o,u){return t=Vn(7,t,u,r),t.lanes=o,t}function Ph(t,r,o){return t=Vn(6,t,null,r),t.lanes=o,t}function Tv(t){var r=Vn(18,null,null,0);return r.stateNode=t,r}function jh(t,r,o){return r=Vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var wv=new WeakMap;function Jn(t,r){if(typeof t=="object"&&t!==null){var o=wv.get(t);return o!==void 0?o:(r={value:t,source:r,stack:ge(r)},wv.set(t,r),r)}return{value:t,source:r,stack:ge(r)}}var Gs=[],Ks=0,lc=null,dl=0,$n=[],er=0,Qi=null,Yr=1,Qr="";function fi(t,r){Gs[Ks++]=dl,Gs[Ks++]=lc,lc=t,dl=r}function Av(t,r,o){$n[er++]=Yr,$n[er++]=Qr,$n[er++]=Qi,Qi=t;var u=Yr;t=Qr;var g=32-kt(u)-1;u&=~(1<<g),o+=1;var b=32-kt(r)+g;if(30<b){var q=g-g%5;b=(u&(1<<q)-1).toString(32),u>>=q,g-=q,Yr=1<<32-kt(r)+g|o<<g|u,Qr=b+t}else Yr=1<<b|o<<g|u,Qr=t}function Vh(t){t.return!==null&&(fi(t,1),Av(t,1,0))}function qh(t){for(;t===lc;)lc=Gs[--Ks],Gs[Ks]=null,dl=Gs[--Ks],Gs[Ks]=null;for(;t===Qi;)Qi=$n[--er],$n[er]=null,Qr=$n[--er],$n[er]=null,Yr=$n[--er],$n[er]=null}function Sv(t,r){$n[er++]=Yr,$n[er++]=Qr,$n[er++]=Qi,Yr=r.id,Qr=r.overflow,Qi=t}var on=null,Tt=null,rt=!1,Xi=null,tr=!1,Uh=Error(i(519));function Wi(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Jn(r,t)),Uh}function xv(t){var r=t.stateNode,o=t.type,u=t.memoizedProps;switch(r[qt]=t,r[en]=u,o){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(o=0;o<Pl.length;o++)We(Pl[o],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":We("invalid",r),Bu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":We("invalid",r);break;case"textarea":We("invalid",r),Bi(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||H0(r.textContent,o)?(u.popover!=null&&(We("beforetoggle",r),We("toggle",r)),u.onScroll!=null&&We("scroll",r),u.onScrollEnd!=null&&We("scrollend",r),u.onClick!=null&&(r.onclick=gr),r=!0):r=!1,r||Wi(t,!0)}function Rv(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:on=on.return}}function Ys(t){if(t!==on)return!1;if(!rt)return Rv(t),rt=!0,!1;var r=t.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||im(t.type,t.memoizedProps)),o=!o),o&&Tt&&Wi(t),Rv(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=J0(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Tt=J0(t)}else r===27?(r=Tt,ca(t.type)?(t=um,um=null,Tt=t):Tt=r):Tt=on?rr(t.stateNode.nextSibling):null;return!0}function $a(){Tt=on=null,rt=!1}function Bh(){var t=Xi;return t!==null&&(On===null?On=t:On.push.apply(On,t),Xi=null),t}function ml(t){Xi===null?Xi=[t]:Xi.push(t)}var zh=V(null),es=null,hi=null;function Zi(t,r,o){G(zh,r._currentValue),r._currentValue=o}function di(t){t._currentValue=zh.current,z(zh)}function Hh(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Fh(t,r,o,u){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var b=g.dependencies;if(b!==null){var q=g.child;b=b.firstContext;e:for(;b!==null;){var H=b;b=g;for(var $=0;$<r.length;$++)if(H.context===r[$]){b.lanes|=o,H=b.alternate,H!==null&&(H.lanes|=o),Hh(b.return,o,t),u||(q=null);break e}b=H.next}}else if(g.tag===18){if(q=g.return,q===null)throw Error(i(341));q.lanes|=o,b=q.alternate,b!==null&&(b.lanes|=o),Hh(q,o,t),q=null}else q=g.child;if(q!==null)q.return=g;else for(q=g;q!==null;){if(q===t){q=null;break}if(g=q.sibling,g!==null){g.return=q.return,q=g;break}q=q.return}g=q}}function Qs(t,r,o,u){t=null;for(var g=r,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var q=g.alternate;if(q===null)throw Error(i(387));if(q=q.memoizedProps,q!==null){var H=g.type;jn(g.pendingProps.value,q.value)||(t!==null?t.push(H):t=[H])}}else if(g===ee.current){if(q=g.alternate,q===null)throw Error(i(387));q.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}g=g.return}t!==null&&Fh(r,t,o,u),r.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){es=t,hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Nv(es,t)}function cc(t,r){return es===null&&ts(t),Nv(t,r)}function Nv(t,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},hi===null){if(t===null)throw Error(i(308));hi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else hi=hi.next=r;return o}var bx=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(o){return o()})}},Ex=a.unstable_scheduleCallback,Tx=a.unstable_NormalPriority,zt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new bx,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&Ex(Tx,function(){t.controller.abort()})}var gl=null,Kh=0,Xs=0,Ws=null;function wx(t,r){if(gl===null){var o=gl=[];Kh=0,Xs=Xd(),Ws={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Kh++,r.then(Ov,Ov),r}function Ov(){if(--Kh===0&&gl!==null){Ws!==null&&(Ws.status="fulfilled");var t=gl;gl=null,Xs=0,Ws=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Ax(t,r){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<o.length;g++)(0,o[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var Cv=Q.S;Q.S=function(t,r){d0=Me(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&wx(t,r),Cv!==null&&Cv(t,r)};var ns=V(null);function Yh(){var t=ns.current;return t!==null?t:vt.pooledCache}function fc(t,r){r===null?G(ns,ns.current):G(ns,r.pool)}function Iv(){var t=Yh();return t===null?null:{parent:zt._currentValue,pool:t}}var Zs=Error(i(460)),Qh=Error(i(474)),hc=Error(i(542)),dc={then:function(){}};function Dv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kv(t,r,o){switch(o=t[o],o===void 0?t.push(r):o!==r&&(r.then(gr,gr),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Lv(t),t;default:if(typeof r.status=="string")r.then(gr,gr);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Lv(t),t}throw is=r,Zs}}function rs(t){try{var r=t._init;return r(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(is=o,Zs):o}}var is=null;function Mv(){if(is===null)throw Error(i(459));var t=is;return is=null,t}function Lv(t){if(t===Zs||t===hc)throw Error(i(483))}var Js=null,yl=0;function mc(t){var r=yl;return yl+=1,Js===null&&(Js=[]),kv(Js,t,r)}function vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function pc(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Pv(t){function r(ie,re){if(t){var ue=ie.deletions;ue===null?(ie.deletions=[re],ie.flags|=16):ue.push(re)}}function o(ie,re){if(!t)return null;for(;re!==null;)r(ie,re),re=re.sibling;return null}function u(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function g(ie,re){return ie=ci(ie,re),ie.index=0,ie.sibling=null,ie}function b(ie,re,ue){return ie.index=ue,t?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<re?(ie.flags|=67108866,re):ue):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function q(ie){return t&&ie.alternate===null&&(ie.flags|=67108866),ie}function H(ie,re,ue,ve){return re===null||re.tag!==6?(re=Ph(ue,ie.mode,ve),re.return=ie,re):(re=g(re,ue),re.return=ie,re)}function $(ie,re,ue,ve){var De=ue.type;return De===T?ye(ie,re,ue.props.children,ve,ue.key):re!==null&&(re.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===O&&rs(De)===re.type)?(re=g(re,ue.props),vl(re,ue),re.return=ie,re):(re=oc(ue.type,ue.key,ue.props,null,ie.mode,ve),vl(re,ue),re.return=ie,re)}function ce(ie,re,ue,ve){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=jh(ue,ie.mode,ve),re.return=ie,re):(re=g(re,ue.children||[]),re.return=ie,re)}function ye(ie,re,ue,ve,De){return re===null||re.tag!==7?(re=Ja(ue,ie.mode,ve,De),re.return=ie,re):(re=g(re,ue),re.return=ie,re)}function be(ie,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Ph(""+re,ie.mode,ue),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return ue=oc(re.type,re.key,re.props,null,ie.mode,ue),vl(ue,re),ue.return=ie,ue;case S:return re=jh(re,ie.mode,ue),re.return=ie,re;case O:return re=rs(re),be(ie,re,ue)}if(W(re)||M(re))return re=Ja(re,ie.mode,ue,null),re.return=ie,re;if(typeof re.then=="function")return be(ie,mc(re),ue);if(re.$$typeof===I)return be(ie,cc(ie,re),ue);pc(ie,re)}return null}function fe(ie,re,ue,ve){var De=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return De!==null?null:H(ie,re,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return ue.key===De?$(ie,re,ue,ve):null;case S:return ue.key===De?ce(ie,re,ue,ve):null;case O:return ue=rs(ue),fe(ie,re,ue,ve)}if(W(ue)||M(ue))return De!==null?null:ye(ie,re,ue,ve,null);if(typeof ue.then=="function")return fe(ie,re,mc(ue),ve);if(ue.$$typeof===I)return fe(ie,re,cc(ie,ue),ve);pc(ie,ue)}return null}function me(ie,re,ue,ve,De){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ie=ie.get(ue)||null,H(re,ie,""+ve,De);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case v:return ie=ie.get(ve.key===null?ue:ve.key)||null,$(re,ie,ve,De);case S:return ie=ie.get(ve.key===null?ue:ve.key)||null,ce(re,ie,ve,De);case O:return ve=rs(ve),me(ie,re,ue,ve,De)}if(W(ve)||M(ve))return ie=ie.get(ue)||null,ye(re,ie,ve,De,null);if(typeof ve.then=="function")return me(ie,re,ue,mc(ve),De);if(ve.$$typeof===I)return me(ie,re,ue,cc(re,ve),De);pc(re,ve)}return null}function Ce(ie,re,ue,ve){for(var De=null,st=null,Ie=re,Qe=re=0,Je=null;Ie!==null&&Qe<ue.length;Qe++){Ie.index>Qe?(Je=Ie,Ie=null):Je=Ie.sibling;var ot=fe(ie,Ie,ue[Qe],ve);if(ot===null){Ie===null&&(Ie=Je);break}t&&Ie&&ot.alternate===null&&r(ie,Ie),re=b(ot,re,Qe),st===null?De=ot:st.sibling=ot,st=ot,Ie=Je}if(Qe===ue.length)return o(ie,Ie),rt&&fi(ie,Qe),De;if(Ie===null){for(;Qe<ue.length;Qe++)Ie=be(ie,ue[Qe],ve),Ie!==null&&(re=b(Ie,re,Qe),st===null?De=Ie:st.sibling=Ie,st=Ie);return rt&&fi(ie,Qe),De}for(Ie=u(Ie);Qe<ue.length;Qe++)Je=me(Ie,ie,Qe,ue[Qe],ve),Je!==null&&(t&&Je.alternate!==null&&Ie.delete(Je.key===null?Qe:Je.key),re=b(Je,re,Qe),st===null?De=Je:st.sibling=Je,st=Je);return t&&Ie.forEach(function(pa){return r(ie,pa)}),rt&&fi(ie,Qe),De}function Pe(ie,re,ue,ve){if(ue==null)throw Error(i(151));for(var De=null,st=null,Ie=re,Qe=re=0,Je=null,ot=ue.next();Ie!==null&&!ot.done;Qe++,ot=ue.next()){Ie.index>Qe?(Je=Ie,Ie=null):Je=Ie.sibling;var pa=fe(ie,Ie,ot.value,ve);if(pa===null){Ie===null&&(Ie=Je);break}t&&Ie&&pa.alternate===null&&r(ie,Ie),re=b(pa,re,Qe),st===null?De=pa:st.sibling=pa,st=pa,Ie=Je}if(ot.done)return o(ie,Ie),rt&&fi(ie,Qe),De;if(Ie===null){for(;!ot.done;Qe++,ot=ue.next())ot=be(ie,ot.value,ve),ot!==null&&(re=b(ot,re,Qe),st===null?De=ot:st.sibling=ot,st=ot);return rt&&fi(ie,Qe),De}for(Ie=u(Ie);!ot.done;Qe++,ot=ue.next())ot=me(Ie,ie,Qe,ot.value,ve),ot!==null&&(t&&ot.alternate!==null&&Ie.delete(ot.key===null?Qe:ot.key),re=b(ot,re,Qe),st===null?De=ot:st.sibling=ot,st=ot);return t&&Ie.forEach(function(L2){return r(ie,L2)}),rt&&fi(ie,Qe),De}function yt(ie,re,ue,ve){if(typeof ue=="object"&&ue!==null&&ue.type===T&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:e:{for(var De=ue.key;re!==null;){if(re.key===De){if(De=ue.type,De===T){if(re.tag===7){o(ie,re.sibling),ve=g(re,ue.props.children),ve.return=ie,ie=ve;break e}}else if(re.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===O&&rs(De)===re.type){o(ie,re.sibling),ve=g(re,ue.props),vl(ve,ue),ve.return=ie,ie=ve;break e}o(ie,re);break}else r(ie,re);re=re.sibling}ue.type===T?(ve=Ja(ue.props.children,ie.mode,ve,ue.key),ve.return=ie,ie=ve):(ve=oc(ue.type,ue.key,ue.props,null,ie.mode,ve),vl(ve,ue),ve.return=ie,ie=ve)}return q(ie);case S:e:{for(De=ue.key;re!==null;){if(re.key===De)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){o(ie,re.sibling),ve=g(re,ue.children||[]),ve.return=ie,ie=ve;break e}else{o(ie,re);break}else r(ie,re);re=re.sibling}ve=jh(ue,ie.mode,ve),ve.return=ie,ie=ve}return q(ie);case O:return ue=rs(ue),yt(ie,re,ue,ve)}if(W(ue))return Ce(ie,re,ue,ve);if(M(ue)){if(De=M(ue),typeof De!="function")throw Error(i(150));return ue=De.call(ue),Pe(ie,re,ue,ve)}if(typeof ue.then=="function")return yt(ie,re,mc(ue),ve);if(ue.$$typeof===I)return yt(ie,re,cc(ie,ue),ve);pc(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(o(ie,re.sibling),ve=g(re,ue),ve.return=ie,ie=ve):(o(ie,re),ve=Ph(ue,ie.mode,ve),ve.return=ie,ie=ve),q(ie)):o(ie,re)}return function(ie,re,ue,ve){try{yl=0;var De=yt(ie,re,ue,ve);return Js=null,De}catch(Ie){if(Ie===Zs||Ie===hc)throw Ie;var st=Vn(29,Ie,null,ie.mode);return st.lanes=ve,st.return=ie,st}finally{}}}var as=Pv(!0),jv=Pv(!1),Ji=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ea(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ut&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=sc(t),bv(t,null,o),r}return ac(t,u,r,o),sc(t)}function _l(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ko(t,o)}}function Zh(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var q={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};b===null?g=b=q:b=b.next=q,o=o.next}while(o!==null);b===null?g=b=r:b=b.next=r}else g=b=r;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}var Jh=!1;function bl(){if(Jh){var t=Ws;if(t!==null)throw t}}function El(t,r,o,u){Jh=!1;var g=t.updateQueue;Ji=!1;var b=g.firstBaseUpdate,q=g.lastBaseUpdate,H=g.shared.pending;if(H!==null){g.shared.pending=null;var $=H,ce=$.next;$.next=null,q===null?b=ce:q.next=ce,q=$;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,H=ye.lastBaseUpdate,H!==q&&(H===null?ye.firstBaseUpdate=ce:H.next=ce,ye.lastBaseUpdate=$))}if(b!==null){var be=g.baseState;q=0,ye=ce=$=null,H=b;do{var fe=H.lane&-536870913,me=fe!==H.lane;if(me?(Ze&fe)===fe:(u&fe)===fe){fe!==0&&fe===Xs&&(Jh=!0),ye!==null&&(ye=ye.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Ce=t,Pe=H;fe=r;var yt=o;switch(Pe.tag){case 1:if(Ce=Pe.payload,typeof Ce=="function"){be=Ce.call(yt,be,fe);break e}be=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Pe.payload,fe=typeof Ce=="function"?Ce.call(yt,be,fe):Ce,fe==null)break e;be=m({},be,fe);break e;case 2:Ji=!0}}fe=H.callback,fe!==null&&(t.flags|=64,me&&(t.flags|=8192),me=g.callbacks,me===null?g.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ye===null?(ce=ye=me,$=be):ye=ye.next=me,q|=fe;if(H=H.next,H===null){if(H=g.shared.pending,H===null)break;me=H,H=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);ye===null&&($=be),g.baseState=$,g.firstBaseUpdate=ce,g.lastBaseUpdate=ye,b===null&&(g.shared.lanes=0),aa|=q,t.lanes=q,t.memoizedState=be}}function Vv(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function qv(t,r){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Vv(o[t],r)}var $s=V(null),gc=V(0);function Uv(t,r){t=Ti,G(gc,t),G($s,r),Ti=t|r.baseLanes}function $h(){G(gc,Ti),G($s,$s.current)}function ed(){Ti=gc.current,z($s),z(gc)}var qn=V(null),nr=null;function ta(t){var r=t.alternate;G(Lt,Lt.current&1),G(qn,t),nr===null&&(r===null||$s.current!==null||r.memoizedState!==null)&&(nr=t)}function td(t){G(Lt,Lt.current),G(qn,t),nr===null&&(nr=t)}function Bv(t){t.tag===22?(G(Lt,Lt.current),G(qn,t),nr===null&&(nr=t)):na()}function na(){G(Lt,Lt.current),G(qn,qn.current)}function Un(t){z(qn),nr===t&&(nr=null),z(Lt)}var Lt=V(0);function yc(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||om(o)||lm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var mi=0,Ye=null,pt=null,Ht=null,vc=!1,eo=!1,ss=!1,_c=0,Tl=0,to=null,Sx=0;function It(){throw Error(i(321))}function nd(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!jn(t[o],r[o]))return!1;return!0}function rd(t,r,o,u,g,b){return mi=b,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?A_:vd,ss=!1,b=o(u,g),ss=!1,eo&&(b=Hv(r,o,u,g)),zv(t),b}function zv(t){Q.H=Sl;var r=pt!==null&&pt.next!==null;if(mi=0,Ht=pt=Ye=null,vc=!1,Tl=0,to=null,r)throw Error(i(300));t===null||Ft||(t=t.dependencies,t!==null&&uc(t)&&(Ft=!0))}function Hv(t,r,o,u){Ye=t;var g=0;do{if(eo&&(to=null),Tl=0,eo=!1,25<=g)throw Error(i(301));if(g+=1,Ht=pt=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Q.H=S_,b=r(o,u)}while(eo);return b}function xx(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?wl(r):r,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Ye.flags|=1024),r}function id(){var t=_c!==0;return _c=0,t}function ad(t,r,o){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~o}function sd(t){if(vc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}vc=!1}mi=0,Ht=pt=Ye=null,eo=!1,Tl=_c=0,to=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ye.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Pt(){if(pt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=Ht===null?Ye.memoizedState:Ht.next;if(r!==null)Ht=r,pt=t;else{if(t===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ht===null?Ye.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var r=Tl;return Tl+=1,to===null&&(to=[]),t=kv(to,t,r),r=Ye,(Ht===null?r.memoizedState:Ht.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?A_:vd),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===I)return ln(t)}throw Error(i(438,String(t)))}function od(t){var r=null,o=Ye.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bc(),Ye.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(t),u=0;u<t;u++)o[u]=D;return r.index++,o}function pi(t,r){return typeof r=="function"?r(t):r}function Tc(t){var r=Pt();return ld(r,pt,t)}function ld(t,r,o){var u=t.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var g=t.baseQueue,b=u.pending;if(b!==null){if(g!==null){var q=g.next;g.next=b.next,b.next=q}r.baseQueue=g=b,u.pending=null}if(b=t.baseState,g===null)t.memoizedState=b;else{r=g.next;var H=q=null,$=null,ce=r,ye=!1;do{var be=ce.lane&-536870913;if(be!==ce.lane?(Ze&be)===be:(mi&be)===be){var fe=ce.revertLane;if(fe===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),be===Xs&&(ye=!0);else if((mi&fe)===fe){ce=ce.next,fe===Xs&&(ye=!0);continue}else be={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},$===null?(H=$=be,q=b):$=$.next=be,Ye.lanes|=fe,aa|=fe;be=ce.action,ss&&o(b,be),b=ce.hasEagerState?ce.eagerState:o(b,be)}else fe={lane:be,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},$===null?(H=$=fe,q=b):$=$.next=fe,Ye.lanes|=be,aa|=be;ce=ce.next}while(ce!==null&&ce!==r);if($===null?q=b:$.next=H,!jn(b,t.memoizedState)&&(Ft=!0,ye&&(o=Ws,o!==null)))throw o;t.memoizedState=b,t.baseState=q,t.baseQueue=$,u.lastRenderedState=b}return g===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function ud(t){var r=Pt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var u=o.dispatch,g=o.pending,b=r.memoizedState;if(g!==null){o.pending=null;var q=g=g.next;do b=t(b,q.action),q=q.next;while(q!==g);jn(b,r.memoizedState)||(Ft=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),o.lastRenderedState=b}return[b,u]}function Fv(t,r,o){var u=Ye,g=Pt(),b=rt;if(b){if(o===void 0)throw Error(i(407));o=o()}else o=r();var q=!jn((pt||g).memoizedState,o);if(q&&(g.memoizedState=o,Ft=!0),g=g.queue,hd(Yv.bind(null,u,g,t),[t]),g.getSnapshot!==r||q||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,no(9,{destroy:void 0},Kv.bind(null,u,g,o,r),null),vt===null)throw Error(i(349));b||(mi&127)!==0||Gv(u,r,o)}return o}function Gv(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r=bc(),Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Kv(t,r,o,u){r.value=o,r.getSnapshot=u,Qv(r)&&Xv(t)}function Yv(t,r,o){return o(function(){Qv(r)&&Xv(t)})}function Qv(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!jn(t,o)}catch{return!0}}function Xv(t){var r=Za(t,2);r!==null&&Cn(r,t,2)}function cd(t){var r=wn();if(typeof t=="function"){var o=t;if(t=o(),ss){Kn(!0);try{o()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:t},r}function Wv(t,r,o,u){return t.baseState=o,ld(t,pt,typeof u=="function"?u:pi)}function Rx(t,r,o,u,g){if(Sc(t))throw Error(i(485));if(t=r.action,t!==null){var b={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){b.listeners.push(q)}};Q.T!==null?o(!0):b.isTransition=!1,u(b),o=r.pending,o===null?(b.next=r.pending=b,Zv(r,b)):(b.next=o.next,r.pending=o.next=b)}}function Zv(t,r){var o=r.action,u=r.payload,g=t.state;if(r.isTransition){var b=Q.T,q={};Q.T=q;try{var H=o(g,u),$=Q.S;$!==null&&$(q,H),Jv(t,r,H)}catch(ce){fd(t,r,ce)}finally{b!==null&&q.types!==null&&(b.types=q.types),Q.T=b}}else try{b=o(g,u),Jv(t,r,b)}catch(ce){fd(t,r,ce)}}function Jv(t,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$v(t,r,u)},function(u){return fd(t,r,u)}):$v(t,r,o)}function $v(t,r,o){r.status="fulfilled",r.value=o,e_(r),t.state=o,r=t.pending,r!==null&&(o=r.next,o===r?t.pending=null:(o=o.next,r.next=o,Zv(t,o)))}function fd(t,r,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,e_(r),r=r.next;while(r!==u)}t.action=null}function e_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function t_(t,r){return r}function n_(t,r){if(rt){var o=vt.formState;if(o!==null){e:{var u=Ye;if(rt){if(Tt){t:{for(var g=Tt,b=tr;g.nodeType!==8;){if(!b){g=null;break t}if(g=rr(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Tt=rr(g.nextSibling),u=g.data==="F!";break e}}Wi(u)}u=!1}u&&(r=o[0])}}return o=wn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:r},o.queue=u,o=E_.bind(null,Ye,u),u.dispatch=o,u=cd(!1),b=yd.bind(null,Ye,!1,u.queue),u=wn(),g={state:r,dispatch:null,action:t,pending:null},u.queue=g,o=Rx.bind(null,Ye,g,b,o),g.dispatch=o,u.memoizedState=t,[r,o,!1]}function r_(t){var r=Pt();return i_(r,pt,t)}function i_(t,r,o){if(r=ld(t,r,t_)[0],t=Tc(pi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=wl(r)}catch(q){throw q===Zs?hc:q}else u=r;r=Pt();var g=r.queue,b=g.dispatch;return o!==r.memoizedState&&(Ye.flags|=2048,no(9,{destroy:void 0},Nx.bind(null,g,o),null)),[u,b,t]}function Nx(t,r){t.action=r}function a_(t){var r=Pt(),o=pt;if(o!==null)return i_(r,o,t);Pt(),r=r.memoizedState,o=Pt();var u=o.queue.dispatch;return o.memoizedState=t,[r,u,!1]}function no(t,r,o,u){return t={tag:t,create:o,deps:u,inst:r,next:null},r=Ye.updateQueue,r===null&&(r=bc(),Ye.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t),t}function s_(){return Pt().memoizedState}function wc(t,r,o,u){var g=wn();Ye.flags|=t,g.memoizedState=no(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ac(t,r,o,u){var g=Pt();u=u===void 0?null:u;var b=g.memoizedState.inst;pt!==null&&u!==null&&nd(u,pt.memoizedState.deps)?g.memoizedState=no(r,b,o,u):(Ye.flags|=t,g.memoizedState=no(1|r,b,o,u))}function o_(t,r){wc(8390656,8,t,r)}function hd(t,r){Ac(2048,8,t,r)}function Ox(t){Ye.flags|=4;var r=Ye.updateQueue;if(r===null)r=bc(),Ye.updateQueue=r,r.events=[t];else{var o=r.events;o===null?r.events=[t]:o.push(t)}}function l_(t){var r=Pt().memoizedState;return Ox({ref:r,nextImpl:t}),function(){if((ut&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function u_(t,r){return Ac(4,2,t,r)}function c_(t,r){return Ac(4,4,t,r)}function f_(t,r){if(typeof r=="function"){t=t();var o=r(t);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function h_(t,r,o){o=o!=null?o.concat([t]):null,Ac(4,4,f_.bind(null,r,t),o)}function dd(){}function d_(t,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&nd(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function m_(t,r){var o=Pt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&nd(r,u[1]))return u[0];if(u=t(),ss){Kn(!0);try{t()}finally{Kn(!1)}}return o.memoizedState=[u,r],u}function md(t,r,o){return o===void 0||(mi&1073741824)!==0&&(Ze&261930)===0?t.memoizedState=r:(t.memoizedState=o,t=p0(),Ye.lanes|=t,aa|=t,o)}function p_(t,r,o,u){return jn(o,r)?o:$s.current!==null?(t=md(t,o,u),jn(t,r)||(Ft=!0),t):(mi&42)===0||(mi&1073741824)!==0&&(Ze&261930)===0?(Ft=!0,t.memoizedState=o):(t=p0(),Ye.lanes|=t,aa|=t,r)}function g_(t,r,o,u,g){var b=Z.p;Z.p=b!==0&&8>b?b:8;var q=Q.T,H={};Q.T=H,yd(t,!1,r,o);try{var $=g(),ce=Q.S;if(ce!==null&&ce(H,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ye=Ax($,u);Al(t,r,ye,Hn(t))}else Al(t,r,u,Hn(t))}catch(be){Al(t,r,{then:function(){},status:"rejected",reason:be},Hn())}finally{Z.p=b,q!==null&&H.types!==null&&(q.types=H.types),Q.T=q}}function Cx(){}function pd(t,r,o,u){if(t.tag!==5)throw Error(i(476));var g=y_(t).queue;g_(t,g,r,he,o===null?Cx:function(){return v_(t),o(u)})}function y_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:o},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function v_(t){var r=y_(t);r.next===null&&(r=t.alternate.memoizedState),Al(t,r.next.queue,{},Hn())}function gd(){return ln(Bl)}function __(){return Pt().memoizedState}function b_(){return Pt().memoizedState}function Ix(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();t=$i(o);var u=ea(r,t,o);u!==null&&(Cn(u,r,o),_l(u,r,o)),r={cache:Gh()},t.payload=r;return}r=r.return}}function Dx(t,r,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sc(t)?T_(r,o):(o=Mh(t,r,o,u),o!==null&&(Cn(o,t,u),w_(o,r,u)))}function E_(t,r,o){var u=Hn();Al(t,r,o,u)}function Al(t,r,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))T_(r,g);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var q=r.lastRenderedState,H=b(q,o);if(g.hasEagerState=!0,g.eagerState=H,jn(H,q))return ac(t,r,g,0),vt===null&&ic(),!1}catch{}finally{}if(o=Mh(t,r,g,u),o!==null)return Cn(o,t,u),w_(o,r,u),!0}return!1}function yd(t,r,o,u){if(u={lane:2,revertLane:Xd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(r)throw Error(i(479))}else r=Mh(t,o,u,2),r!==null&&Cn(r,t,2)}function Sc(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function T_(t,r){eo=vc=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function w_(t,r,o){if((o&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ko(t,o)}}var Sl={readContext:ln,use:Ec,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Sl.useEffectEvent=It;var A_={readContext:ln,use:Ec,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:ln,useEffect:o_,useImperativeHandle:function(t,r,o){o=o!=null?o.concat([t]):null,wc(4194308,4,f_.bind(null,r,t),o)},useLayoutEffect:function(t,r){return wc(4194308,4,t,r)},useInsertionEffect:function(t,r){wc(4,2,t,r)},useMemo:function(t,r){var o=wn();r=r===void 0?null:r;var u=t();if(ss){Kn(!0);try{t()}finally{Kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(t,r,o){var u=wn();if(o!==void 0){var g=o(r);if(ss){Kn(!0);try{o(r)}finally{Kn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},u.queue=t,t=t.dispatch=Dx.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:function(t){t=cd(t);var r=t.queue,o=E_.bind(null,Ye,r);return r.dispatch=o,[t.memoizedState,o]},useDebugValue:dd,useDeferredValue:function(t,r){var o=wn();return md(o,t,r)},useTransition:function(){var t=cd(!1);return t=g_.bind(null,Ye,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,o){var u=Ye,g=wn();if(rt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),vt===null)throw Error(i(349));(Ze&127)!==0||Gv(u,r,o)}g.memoizedState=o;var b={value:o,getSnapshot:r};return g.queue=b,o_(Yv.bind(null,u,b,t),[t]),u.flags|=2048,no(9,{destroy:void 0},Kv.bind(null,u,b,o,r),null),o},useId:function(){var t=wn(),r=vt.identifierPrefix;if(rt){var o=Qr,u=Yr;o=(u&~(1<<32-kt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=_c++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Sx++,r="_"+r+"r_"+o.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:gd,useFormState:n_,useActionState:n_,useOptimistic:function(t){var r=wn();r.memoizedState=r.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=yd.bind(null,Ye,!0,o),o.dispatch=r,[t,r]},useMemoCache:od,useCacheRefresh:function(){return wn().memoizedState=Ix.bind(null,Ye)},useEffectEvent:function(t){var r=wn(),o={impl:t};return r.memoizedState=o,function(){if((ut&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},vd={readContext:ln,use:Ec,useCallback:d_,useContext:ln,useEffect:hd,useImperativeHandle:h_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:Tc,useRef:s_,useState:function(){return Tc(pi)},useDebugValue:dd,useDeferredValue:function(t,r){var o=Pt();return p_(o,pt.memoizedState,t,r)},useTransition:function(){var t=Tc(pi)[0],r=Pt().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:Fv,useId:__,useHostTransitionStatus:gd,useFormState:r_,useActionState:r_,useOptimistic:function(t,r){var o=Pt();return Wv(o,pt,t,r)},useMemoCache:od,useCacheRefresh:b_};vd.useEffectEvent=l_;var S_={readContext:ln,use:Ec,useCallback:d_,useContext:ln,useEffect:hd,useImperativeHandle:h_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:ud,useRef:s_,useState:function(){return ud(pi)},useDebugValue:dd,useDeferredValue:function(t,r){var o=Pt();return pt===null?md(o,t,r):p_(o,pt.memoizedState,t,r)},useTransition:function(){var t=ud(pi)[0],r=Pt().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:Fv,useId:__,useHostTransitionStatus:gd,useFormState:a_,useActionState:a_,useOptimistic:function(t,r){var o=Pt();return pt!==null?Wv(o,pt,t,r):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:od,useCacheRefresh:b_};S_.useEffectEvent=l_;function _d(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:m({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var bd={enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Hn(),g=$i(u);g.payload=r,o!=null&&(g.callback=o),r=ea(t,g,u),r!==null&&(Cn(r,t,u),_l(r,t,u))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Hn(),g=$i(u);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=ea(t,g,u),r!==null&&(Cn(r,t,u),_l(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Hn(),u=$i(o);u.tag=2,r!=null&&(u.callback=r),r=ea(t,u,o),r!==null&&(Cn(r,t,o),_l(r,t,o))}};function x_(t,r,o,u,g,b,q){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,b,q):r.prototype&&r.prototype.isPureReactComponent?!fl(o,u)||!fl(g,b):!0}function R_(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&bd.enqueueReplaceState(r,r.state,null)}function os(t,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(t=t.defaultProps){o===r&&(o=m({},o));for(var g in t)o[g]===void 0&&(o[g]=t[g])}return o}function N_(t){rc(t)}function O_(t){console.error(t)}function C_(t){rc(t)}function xc(t,r){try{var o=t.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function I_(t,r,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ed(t,r,o){return o=$i(o),o.tag=3,o.payload={element:null},o.callback=function(){xc(t,r)},o}function D_(t){return t=$i(t),t.tag=3,t}function k_(t,r,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;t.payload=function(){return g(b)},t.callback=function(){I_(r,o,u)}}var q=o.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(t.callback=function(){I_(r,o,u),typeof g!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})})}function kx(t,r,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Qs(r,o,g,!0),o=qn.current,o!==null){switch(o.tag){case 31:case 13:return nr===null?Vc():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===dc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Kd(t,u,g)),!1;case 22:return o.flags|=65536,u===dc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Kd(t,u,g)),!1}throw Error(i(435,o.tag))}return Kd(t,u,g),Vc(),!1}if(rt)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==Uh&&(t=Error(i(422),{cause:u}),ml(Jn(t,o)))):(u!==Uh&&(r=Error(i(423),{cause:u}),ml(Jn(r,o))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,u=Jn(u,o),g=Ed(t.stateNode,u,g),Zh(t,g),Dt!==4&&(Dt=2)),!1;var b=Error(i(520),{cause:u});if(b=Jn(b,o),kl===null?kl=[b]:kl.push(b),Dt!==4&&(Dt=2),r===null)return!0;u=Jn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,t=g&-g,o.lanes|=t,t=Ed(o.stateNode,u,t),Zh(o,t),!1;case 1:if(r=o.type,b=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(sa===null||!sa.has(b))))return o.flags|=65536,g&=-g,o.lanes|=g,g=D_(g),k_(g,t,o,u),Zh(o,g),!1}o=o.return}while(o!==null);return!1}var Td=Error(i(461)),Ft=!1;function un(t,r,o,u){r.child=t===null?jv(r,null,o,u):as(r,t.child,o,u)}function M_(t,r,o,u,g){o=o.render;var b=r.ref;if("ref"in u){var q={};for(var H in u)H!=="ref"&&(q[H]=u[H])}else q=u;return ts(r),u=rd(t,r,o,q,b,g),H=id(),t!==null&&!Ft?(ad(t,r,g),gi(t,r,g)):(rt&&H&&Vh(r),r.flags|=1,un(t,r,u,g),r.child)}function L_(t,r,o,u,g){if(t===null){var b=o.type;return typeof b=="function"&&!Lh(b)&&b.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=b,P_(t,r,b,u,g)):(t=oc(o.type,null,u,r,r.mode,g),t.ref=r.ref,t.return=r,r.child=t)}if(b=t.child,!Cd(t,g)){var q=b.memoizedProps;if(o=o.compare,o=o!==null?o:fl,o(q,u)&&t.ref===r.ref)return gi(t,r,g)}return r.flags|=1,t=ci(b,u),t.ref=r.ref,t.return=r,r.child=t}function P_(t,r,o,u,g){if(t!==null){var b=t.memoizedProps;if(fl(b,u)&&t.ref===r.ref)if(Ft=!1,r.pendingProps=u=b,Cd(t,g))(t.flags&131072)!==0&&(Ft=!0);else return r.lanes=t.lanes,gi(t,r,g)}return wd(t,r,o,u,g)}function j_(t,r,o,u){var g=u.children,b=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|o:o,t!==null){for(u=r.child=t.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~b}else u=0,r.child=null;return V_(t,r,b,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(r,b!==null?b.cachePool:null),b!==null?Uv(r,b):$h(),Bv(r);else return u=r.lanes=536870912,V_(t,r,b!==null?b.baseLanes|o:o,o,u)}else b!==null?(fc(r,b.cachePool),Uv(r,b),na(),r.memoizedState=null):(t!==null&&fc(r,null),$h(),na());return un(t,r,g,o),r.child}function xl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function V_(t,r,o,u,g){var b=Yh();return b=b===null?null:{parent:zt._currentValue,pool:b},r.memoizedState={baseLanes:o,cachePool:b},t!==null&&fc(r,null),$h(),Bv(r),t!==null&&Qs(t,r,u,!0),r.childLanes=g,null}function Rc(t,r){return r=Oc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function q_(t,r,o){return as(r,t.child,null,o),t=Rc(r,r.pendingProps),t.flags|=2,Un(r),r.memoizedState=null,t}function Mx(t,r,o){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(rt){if(u.mode==="hidden")return t=Rc(r,u),r.lanes=536870912,xl(null,t);if(td(r),(t=Tt)?(t=Z0(t,tr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qi!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},o=Tv(t),o.return=r,r.child=o,on=r,Tt=null)):t=null,t===null)throw Wi(r);return r.lanes=536870912,null}return Rc(r,u)}var b=t.memoizedState;if(b!==null){var q=b.dehydrated;if(td(r),g)if(r.flags&256)r.flags&=-257,r=q_(t,r,o);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ft||Qs(t,r,o,!1),g=(o&t.childLanes)!==0,Ft||g){if(u=vt,u!==null&&(q=Yo(u,o),q!==0&&q!==b.retryLane))throw b.retryLane=q,Za(t,q),Cn(u,t,q),Td;Vc(),r=q_(t,r,o)}else t=b.treeContext,Tt=rr(q.nextSibling),on=r,rt=!0,Xi=null,tr=!1,t!==null&&Sv(r,t),r=Rc(r,u),r.flags|=4096;return r}return t=ci(t.child,{mode:u.mode,children:u.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Nc(t,r){var o=r.ref;if(o===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(t===null||t.ref!==o)&&(r.flags|=4194816)}}function wd(t,r,o,u,g){return ts(r),o=rd(t,r,o,u,void 0,g),u=id(),t!==null&&!Ft?(ad(t,r,g),gi(t,r,g)):(rt&&u&&Vh(r),r.flags|=1,un(t,r,o,g),r.child)}function U_(t,r,o,u,g,b){return ts(r),r.updateQueue=null,o=Hv(r,u,o,g),zv(t),u=id(),t!==null&&!Ft?(ad(t,r,b),gi(t,r,b)):(rt&&u&&Vh(r),r.flags|=1,un(t,r,o,b),r.child)}function B_(t,r,o,u,g){if(ts(r),r.stateNode===null){var b=Fs,q=o.contextType;typeof q=="object"&&q!==null&&(b=ln(q)),b=new o(u,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=bd,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=u,b.state=r.memoizedState,b.refs={},Xh(r),q=o.contextType,b.context=typeof q=="object"&&q!==null?ln(q):Fs,b.state=r.memoizedState,q=o.getDerivedStateFromProps,typeof q=="function"&&(_d(r,o,q,u),b.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(q=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),q!==b.state&&bd.enqueueReplaceState(b,b.state,null),El(r,u,b,g),bl(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(t===null){b=r.stateNode;var H=r.memoizedProps,$=os(o,H);b.props=$;var ce=b.context,ye=o.contextType;q=Fs,typeof ye=="object"&&ye!==null&&(q=ln(ye));var be=o.getDerivedStateFromProps;ye=typeof be=="function"||typeof b.getSnapshotBeforeUpdate=="function",H=r.pendingProps!==H,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(H||ce!==q)&&R_(r,b,u,q),Ji=!1;var fe=r.memoizedState;b.state=fe,El(r,u,b,g),bl(),ce=r.memoizedState,H||fe!==ce||Ji?(typeof be=="function"&&(_d(r,o,be,u),ce=r.memoizedState),($=Ji||x_(r,o,$,u,fe,ce,q))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=ce),b.props=u,b.state=ce,b.context=q,u=$):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{b=r.stateNode,Wh(t,r),q=r.memoizedProps,ye=os(o,q),b.props=ye,be=r.pendingProps,fe=b.context,ce=o.contextType,$=Fs,typeof ce=="object"&&ce!==null&&($=ln(ce)),H=o.getDerivedStateFromProps,(ce=typeof H=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q!==be||fe!==$)&&R_(r,b,u,$),Ji=!1,fe=r.memoizedState,b.state=fe,El(r,u,b,g),bl();var me=r.memoizedState;q!==be||fe!==me||Ji||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof H=="function"&&(_d(r,o,H,u),me=r.memoizedState),(ye=Ji||x_(r,o,ye,u,fe,me,$)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,me,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,me,$)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||q===t.memoizedProps&&fe===t.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||q===t.memoizedProps&&fe===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=me),b.props=u,b.state=me,b.context=$,u=ye):(typeof b.componentDidUpdate!="function"||q===t.memoizedProps&&fe===t.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||q===t.memoizedProps&&fe===t.memoizedState||(r.flags|=1024),u=!1)}return b=u,Nc(t,r),u=(r.flags&128)!==0,b||u?(b=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,t!==null&&u?(r.child=as(r,t.child,null,g),r.child=as(r,null,o,g)):un(t,r,o,g),r.memoizedState=b.state,t=r.child):t=gi(t,r,g),t}function z_(t,r,o,u){return $a(),r.flags|=256,un(t,r,o,u),r.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:Iv()}}function xd(t,r,o){return t=t!==null?t.childLanes&~o:0,r&&(t|=zn),t}function H_(t,r,o){var u=r.pendingProps,g=!1,b=(r.flags&128)!==0,q;if((q=b)||(q=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),q&&(g=!0,r.flags&=-129),q=(r.flags&32)!==0,r.flags&=-33,t===null){if(rt){if(g?ta(r):na(),(t=Tt)?(t=Z0(t,tr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qi!==null?{id:Yr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},o=Tv(t),o.return=r,r.child=o,on=r,Tt=null)):t=null,t===null)throw Wi(r);return lm(t)?r.lanes=32:r.lanes=536870912,null}var H=u.children;return u=u.fallback,g?(na(),g=r.mode,H=Oc({mode:"hidden",children:H},g),u=Ja(u,g,o,null),H.return=r,u.return=r,H.sibling=u,r.child=H,u=r.child,u.memoizedState=Sd(o),u.childLanes=xd(t,q,o),r.memoizedState=Ad,xl(null,u)):(ta(r),Rd(r,H))}var $=t.memoizedState;if($!==null&&(H=$.dehydrated,H!==null)){if(b)r.flags&256?(ta(r),r.flags&=-257,r=Nd(t,r,o)):r.memoizedState!==null?(na(),r.child=t.child,r.flags|=128,r=null):(na(),H=u.fallback,g=r.mode,u=Oc({mode:"visible",children:u.children},g),H=Ja(H,g,o,null),H.flags|=2,u.return=r,H.return=r,u.sibling=H,r.child=u,as(r,t.child,null,o),u=r.child,u.memoizedState=Sd(o),u.childLanes=xd(t,q,o),r.memoizedState=Ad,r=xl(null,u));else if(ta(r),lm(H)){if(q=H.nextSibling&&H.nextSibling.dataset,q)var ce=q.dgst;q=ce,u=Error(i(419)),u.stack="",u.digest=q,ml({value:u,source:null,stack:null}),r=Nd(t,r,o)}else if(Ft||Qs(t,r,o,!1),q=(o&t.childLanes)!==0,Ft||q){if(q=vt,q!==null&&(u=Yo(q,o),u!==0&&u!==$.retryLane))throw $.retryLane=u,Za(t,u),Cn(q,t,u),Td;om(H)||Vc(),r=Nd(t,r,o)}else om(H)?(r.flags|=192,r.child=t.child,r=null):(t=$.treeContext,Tt=rr(H.nextSibling),on=r,rt=!0,Xi=null,tr=!1,t!==null&&Sv(r,t),r=Rd(r,u.children),r.flags|=4096);return r}return g?(na(),H=u.fallback,g=r.mode,$=t.child,ce=$.sibling,u=ci($,{mode:"hidden",children:u.children}),u.subtreeFlags=$.subtreeFlags&65011712,ce!==null?H=ci(ce,H):(H=Ja(H,g,o,null),H.flags|=2),H.return=r,u.return=r,u.sibling=H,r.child=u,xl(null,u),u=r.child,H=t.child.memoizedState,H===null?H=Sd(o):(g=H.cachePool,g!==null?($=zt._currentValue,g=g.parent!==$?{parent:$,pool:$}:g):g=Iv(),H={baseLanes:H.baseLanes|o,cachePool:g}),u.memoizedState=H,u.childLanes=xd(t,q,o),r.memoizedState=Ad,xl(t.child,u)):(ta(r),o=t.child,t=o.sibling,o=ci(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,t!==null&&(q=r.deletions,q===null?(r.deletions=[t],r.flags|=16):q.push(t)),r.child=o,r.memoizedState=null,o)}function Rd(t,r){return r=Oc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Oc(t,r){return t=Vn(22,t,null,r),t.lanes=0,t}function Nd(t,r,o){return as(r,t.child,null,o),t=Rd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function F_(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Hh(t.return,r,o)}function Od(t,r,o,u,g,b){var q=t.memoizedState;q===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:b}:(q.isBackwards=r,q.rendering=null,q.renderingStartTime=0,q.last=u,q.tail=o,q.tailMode=g,q.treeForkCount=b)}function G_(t,r,o){var u=r.pendingProps,g=u.revealOrder,b=u.tail;u=u.children;var q=Lt.current,H=(q&2)!==0;if(H?(q=q&1|2,r.flags|=128):q&=1,G(Lt,q),un(t,r,u,o),u=rt?dl:0,!H&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F_(t,o,r);else if(t.tag===19)F_(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(o=r.child,g=null;o!==null;)t=o.alternate,t!==null&&yc(t)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),Od(r,!1,g,o,b,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(t=g.alternate,t!==null&&yc(t)===null){r.child=g;break}t=g.sibling,g.sibling=o,o=g,g=t}Od(r,!0,o,null,b,u);break;case"together":Od(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function gi(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),aa|=r.lanes,(o&r.childLanes)===0)if(t!==null){if(Qs(t,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,o=ci(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ci(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Cd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function Lx(t,r,o){switch(r.tag){case 3:le(r,r.stateNode.containerInfo),Zi(r,zt,t.memoizedState.cache),$a();break;case 27:case 5:Ee(r);break;case 4:le(r,r.stateNode.containerInfo);break;case 10:Zi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,td(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ta(r),r.flags|=128,null):(o&r.child.childLanes)!==0?H_(t,r,o):(ta(r),t=gi(t,r,o),t!==null?t.sibling:null);ta(r);break;case 19:var g=(t.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Qs(t,r,o,!1),u=(o&r.childLanes)!==0),g){if(u)return G_(t,r,o);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(Lt,Lt.current),u)break;return null;case 22:return r.lanes=0,j_(t,r,o,r.pendingProps);case 24:Zi(r,zt,t.memoizedState.cache)}return gi(t,r,o)}function K_(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ft=!0;else{if(!Cd(t,o)&&(r.flags&128)===0)return Ft=!1,Lx(t,r,o);Ft=(t.flags&131072)!==0}else Ft=!1,rt&&(r.flags&1048576)!==0&&Av(r,dl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(t=rs(r.elementType),r.type=t,typeof t=="function")Lh(t)?(u=os(t,u),r.tag=1,r=B_(null,r,t,u,o)):(r.tag=0,r=wd(null,r,t,u,o));else{if(t!=null){var g=t.$$typeof;if(g===x){r.tag=11,r=M_(null,r,t,u,o);break e}else if(g===N){r.tag=14,r=L_(null,r,t,u,o);break e}}throw r=Y(t)||t,Error(i(306,r,""))}}return r;case 0:return wd(t,r,r.type,r.pendingProps,o);case 1:return u=r.type,g=os(u,r.pendingProps),B_(t,r,u,g,o);case 3:e:{if(le(r,r.stateNode.containerInfo),t===null)throw Error(i(387));u=r.pendingProps;var b=r.memoizedState;g=b.element,Wh(t,r),El(r,u,null,o);var q=r.memoizedState;if(u=q.cache,Zi(r,zt,u),u!==b.cache&&Fh(r,[zt],o,!0),bl(),u=q.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:q.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=z_(t,r,u,o);break e}else if(u!==g){g=Jn(Error(i(424)),r),ml(g),r=z_(t,r,u,o);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=rr(t.firstChild),on=r,rt=!0,Xi=null,tr=!0,o=jv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($a(),u===g){r=gi(t,r,o);break e}un(t,r,u,o)}r=r.child}return r;case 26:return Nc(t,r),t===null?(o=rb(r.type,null,r.pendingProps,null))?r.memoizedState=o:rt||(o=r.type,t=r.pendingProps,u=Gc(F.current).createElement(o),u[qt]=r,u[en]=t,cn(u,o,t),Ut(u),r.stateNode=u):r.memoizedState=rb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ee(r),t===null&&rt&&(u=r.stateNode=eb(r.type,r.pendingProps,F.current),on=r,tr=!0,g=Tt,ca(r.type)?(um=g,Tt=rr(u.firstChild)):Tt=g),un(t,r,r.pendingProps.children,o),Nc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&rt&&((g=u=Tt)&&(u=f2(u,r.type,r.pendingProps,tr),u!==null?(r.stateNode=u,on=r,Tt=rr(u.firstChild),tr=!1,g=!0):g=!1),g||Wi(r)),Ee(r),g=r.type,b=r.pendingProps,q=t!==null?t.memoizedProps:null,u=b.children,im(g,b)?u=null:q!==null&&im(g,q)&&(r.flags|=32),r.memoizedState!==null&&(g=rd(t,r,xx,null,null,o),Bl._currentValue=g),Nc(t,r),un(t,r,u,o),r.child;case 6:return t===null&&rt&&((t=o=Tt)&&(o=h2(o,r.pendingProps,tr),o!==null?(r.stateNode=o,on=r,Tt=null,t=!0):t=!1),t||Wi(r)),null;case 13:return H_(t,r,o);case 4:return le(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=as(r,null,u,o):un(t,r,u,o),r.child;case 11:return M_(t,r,r.type,r.pendingProps,o);case 7:return un(t,r,r.pendingProps,o),r.child;case 8:return un(t,r,r.pendingProps.children,o),r.child;case 12:return un(t,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Zi(r,r.type,u.value),un(t,r,u.children,o),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,ts(r),g=ln(g),u=u(g),r.flags|=1,un(t,r,u,o),r.child;case 14:return L_(t,r,r.type,r.pendingProps,o);case 15:return P_(t,r,r.type,r.pendingProps,o);case 19:return G_(t,r,o);case 31:return Mx(t,r,o);case 22:return j_(t,r,o,r.pendingProps);case 24:return ts(r),u=ln(zt),t===null?(g=Yh(),g===null&&(g=vt,b=Gh(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=o),g=b),r.memoizedState={parent:u,cache:g},Xh(r),Zi(r,zt,g)):((t.lanes&o)!==0&&(Wh(t,r),El(r,null,null,o),bl()),g=t.memoizedState,b=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Zi(r,zt,u)):(u=b.cache,Zi(r,zt,u),u!==g.cache&&Fh(r,[zt],o,!0))),un(t,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function yi(t){t.flags|=4}function Id(t,r,o,u,g){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(_0())t.flags|=8192;else throw is=dc,Qh}else t.flags&=-16777217}function Y_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lb(r))if(_0())t.flags|=8192;else throw is=dc,Qh}function Cc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Pu():536870912,t.lanes|=r,so|=r)}function Rl(t,r){if(!rt)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function wt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var g=t.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Px(t,r,o){var u=r.pendingProps;switch(qh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(r),null;case 1:return wt(r),null;case 3:return o=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),di(zt),se(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Ys(r)?yi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bh())),wt(r),null;case 26:var g=r.type,b=r.memoizedState;return t===null?(yi(r),b!==null?(wt(r),Y_(r,b)):(wt(r),Id(r,g,null,u,o))):b?b!==t.memoizedState?(yi(r),wt(r),Y_(r,b)):(wt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==u&&yi(r),wt(r),Id(r,g,t,u,o)),null;case 27:if(Re(r),o=F.current,g=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&yi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return wt(r),null}t=J.current,Ys(r)?xv(r):(t=eb(g,u,o),r.stateNode=t,yi(r))}return wt(r),null;case 5:if(Re(r),g=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&yi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return wt(r),null}if(b=J.current,Ys(r))xv(r);else{var q=Gc(F.current);switch(b){case 1:b=q.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=q.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=q.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=q.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=q.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?q.createElement("select",{is:u.is}):q.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?q.createElement(g,{is:u.is}):q.createElement(g)}}b[qt]=r,b[en]=u;e:for(q=r.child;q!==null;){if(q.tag===5||q.tag===6)b.appendChild(q.stateNode);else if(q.tag!==4&&q.tag!==27&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===r)break e;for(;q.sibling===null;){if(q.return===null||q.return===r)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}r.stateNode=b;e:switch(cn(b,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&yi(r)}}return wt(r),Id(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,o),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&yi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(t=F.current,Ys(r)){if(t=r.stateNode,o=r.memoizedProps,u=null,g=on,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}t[qt]=r,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||H0(t.nodeValue,o)),t||Wi(r,!0)}else t=Gc(t).createTextNode(u),t[qt]=r,r.stateNode=t}return wt(r),null;case 31:if(o=r.memoizedState,t===null||t.memoizedState!==null){if(u=Ys(r),o!==null){if(t===null){if(!u)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[qt]=r}else $a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;wt(r),t=!1}else o=Bh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return r.flags&256?(Un(r),r):(Un(r),null);if((r.flags&128)!==0)throw Error(i(558))}return wt(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=Ys(r),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[qt]=r}else $a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;wt(r),g=!1}else g=Bh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Un(r),r):(Un(r),null)}return Un(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)),o!==t&&o&&(r.child.flags|=8192),Cc(r,r.updateQueue),wt(r),null);case 4:return se(),t===null&&$d(r.stateNode.containerInfo),wt(r),null;case 10:return di(r.type),wt(r),null;case 19:if(z(Lt),u=r.memoizedState,u===null)return wt(r),null;if(g=(r.flags&128)!==0,b=u.rendering,b===null)if(g)Rl(u,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(b=yc(t),b!==null){for(r.flags|=128,Rl(u,!1),t=b.updateQueue,r.updateQueue=t,Cc(r,t),r.subtreeFlags=0,t=o,o=r.child;o!==null;)Ev(o,t),o=o.sibling;return G(Lt,Lt.current&1|2),rt&&fi(r,u.treeForkCount),r.child}t=t.sibling}u.tail!==null&&Me()>Lc&&(r.flags|=128,g=!0,Rl(u,!1),r.lanes=4194304)}else{if(!g)if(t=yc(b),t!==null){if(r.flags|=128,g=!0,t=t.updateQueue,r.updateQueue=t,Cc(r,t),Rl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!rt)return wt(r),null}else 2*Me()-u.renderingStartTime>Lc&&o!==536870912&&(r.flags|=128,g=!0,Rl(u,!1),r.lanes=4194304);u.isBackwards?(b.sibling=r.child,r.child=b):(t=u.last,t!==null?t.sibling=b:r.child=b,u.last=b)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Me(),t.sibling=null,o=Lt.current,G(Lt,g?o&1|2:o&1),rt&&fi(r,u.treeForkCount),t):(wt(r),null);case 22:case 23:return Un(r),ed(),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(wt(r),r.subtreeFlags&6&&(r.flags|=8192)):wt(r),o=r.updateQueue,o!==null&&Cc(r,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),t!==null&&z(ns),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),di(zt),wt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function jx(t,r){switch(qh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return di(zt),se(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Re(r),null;case 31:if(r.memoizedState!==null){if(Un(r),r.alternate===null)throw Error(i(340));$a()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Un(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));$a()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return z(Lt),null;case 4:return se(),null;case 10:return di(r.type),null;case 22:case 23:return Un(r),ed(),t!==null&&z(ns),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return di(zt),null;case 25:return null;default:return null}}function Q_(t,r){switch(qh(r),r.tag){case 3:di(zt),se();break;case 26:case 27:case 5:Re(r);break;case 4:se();break;case 31:r.memoizedState!==null&&Un(r);break;case 13:Un(r);break;case 19:z(Lt);break;case 10:di(r.type);break;case 22:case 23:Un(r),ed(),t!==null&&z(ns);break;case 24:di(zt)}}function Nl(t,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&t)===t){u=void 0;var b=o.create,q=o.inst;u=b(),q.destroy=u}o=o.next}while(o!==g)}}catch(H){dt(r,r.return,H)}}function ra(t,r,o){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&t)===t){var q=u.inst,H=q.destroy;if(H!==void 0){q.destroy=void 0,g=r;var $=o,ce=H;try{ce()}catch(ye){dt(g,$,ye)}}}u=u.next}while(u!==b)}}catch(ye){dt(r,r.return,ye)}}function X_(t){var r=t.updateQueue;if(r!==null){var o=t.stateNode;try{qv(r,o)}catch(u){dt(t,t.return,u)}}}function W_(t,r,o){o.props=os(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){dt(t,r,u)}}function Ol(t,r){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(g){dt(t,r,g)}}function Xr(t,r){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){dt(t,r,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){dt(t,r,g)}else o.current=null}function Z_(t){var r=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){dt(t,t.return,g)}}function Dd(t,r,o){try{var u=t.stateNode;a2(u,t.type,o,r),u[en]=r}catch(g){dt(t,t.return,g)}}function J_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ca(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(t),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gr));else if(u!==4&&(u===27&&ca(t.type)&&(o=t.stateNode,r=null),t=t.child,t!==null))for(Md(t,r,o),t=t.sibling;t!==null;)Md(t,r,o),t=t.sibling}function Ic(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(u===27&&ca(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Ic(t,r,o),t=t.sibling;t!==null;)Ic(t,r,o),t=t.sibling}function $_(t){var r=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);cn(r,u,o),r[qt]=t,r[en]=o}catch(b){dt(t,t.return,b)}}var vi=!1,Gt=!1,Ld=!1,e0=typeof WeakSet=="function"?WeakSet:Set,nn=null;function Vx(t,r){if(t=t.containerInfo,nm=Jc,t=hv(t),Nh(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break e}var q=0,H=-1,$=-1,ce=0,ye=0,be=t,fe=null;t:for(;;){for(var me;be!==o||g!==0&&be.nodeType!==3||(H=q+g),be!==b||u!==0&&be.nodeType!==3||($=q+u),be.nodeType===3&&(q+=be.nodeValue.length),(me=be.firstChild)!==null;)fe=be,be=me;for(;;){if(be===t)break t;if(fe===o&&++ce===g&&(H=q),fe===b&&++ye===u&&($=q),(me=be.nextSibling)!==null)break;be=fe,fe=be.parentNode}be=me}o=H===-1||$===-1?null:{start:H,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(rm={focusedElem:t,selectionRange:o},Jc=!1,nn=r;nn!==null;)if(r=nn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,nn=t;else for(;nn!==null;){switch(r=nn,b=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)g=t[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,o=r,g=b.memoizedProps,b=b.memoizedState,u=o.stateNode;try{var Ce=os(o.type,g);t=u.getSnapshotBeforeUpdate(Ce,b),u.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){dt(o,o.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,o=t.nodeType,o===9)sm(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,nn=t;break}nn=r.return}}function t0(t,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bi(t,o),u&4&&Nl(5,o);break;case 1:if(bi(t,o),u&4)if(t=o.stateNode,r===null)try{t.componentDidMount()}catch(q){dt(o,o.return,q)}else{var g=os(o.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(g,r,t.__reactInternalSnapshotBeforeUpdate)}catch(q){dt(o,o.return,q)}}u&64&&X_(o),u&512&&Ol(o,o.return);break;case 3:if(bi(t,o),u&64&&(t=o.updateQueue,t!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{qv(t,r)}catch(q){dt(o,o.return,q)}}break;case 27:r===null&&u&4&&$_(o);case 26:case 5:bi(t,o),r===null&&u&4&&Z_(o),u&512&&Ol(o,o.return);break;case 12:bi(t,o);break;case 31:bi(t,o),u&4&&i0(t,o);break;case 13:bi(t,o),u&4&&a0(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Yx.bind(null,o),d2(t,o))));break;case 22:if(u=o.memoizedState!==null||vi,!u){r=r!==null&&r.memoizedState!==null||Gt,g=vi;var b=Gt;vi=u,(Gt=r)&&!b?Ei(t,o,(o.subtreeFlags&8772)!==0):bi(t,o),vi=g,Gt=b}break;case 30:break;default:bi(t,o)}}function n0(t){var r=t.alternate;r!==null&&(t.alternate=null,n0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Cs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,xn=!1;function _i(t,r,o){for(o=o.child;o!==null;)r0(t,r,o),o=o.sibling}function r0(t,r,o){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(hr,o)}catch{}switch(o.tag){case 26:Gt||Xr(o,r),_i(t,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Gt||Xr(o,r);var u=Rt,g=xn;ca(o.type)&&(Rt=o.stateNode,xn=!1),_i(t,r,o),Vl(o.stateNode),Rt=u,xn=g;break;case 5:Gt||Xr(o,r);case 6:if(u=Rt,g=xn,Rt=null,_i(t,r,o),Rt=u,xn=g,Rt!==null)if(xn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(b){dt(o,r,b)}else try{Rt.removeChild(o.stateNode)}catch(b){dt(o,r,b)}break;case 18:Rt!==null&&(xn?(t=Rt,X0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),po(t)):X0(Rt,o.stateNode));break;case 4:u=Rt,g=xn,Rt=o.stateNode.containerInfo,xn=!0,_i(t,r,o),Rt=u,xn=g;break;case 0:case 11:case 14:case 15:ra(2,o,r),Gt||ra(4,o,r),_i(t,r,o);break;case 1:Gt||(Xr(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&W_(o,r,u)),_i(t,r,o);break;case 21:_i(t,r,o);break;case 22:Gt=(u=Gt)||o.memoizedState!==null,_i(t,r,o),Gt=u;break;default:_i(t,r,o)}}function i0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(o){dt(r,r.return,o)}}}function a0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(o){dt(r,r.return,o)}}function qx(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new e0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new e0),r;default:throw Error(i(435,t.tag))}}function Dc(t,r){var o=qx(t);r.forEach(function(u){if(!o.has(u)){o.add(u);var g=Qx.bind(null,t,u);u.then(g,g)}})}function Rn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],b=t,q=r,H=q;e:for(;H!==null;){switch(H.tag){case 27:if(ca(H.type)){Rt=H.stateNode,xn=!1;break e}break;case 5:Rt=H.stateNode,xn=!1;break e;case 3:case 4:Rt=H.stateNode.containerInfo,xn=!0;break e}H=H.return}if(Rt===null)throw Error(i(160));r0(b,q,g),Rt=null,xn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)s0(r,t),r=r.sibling}var Tr=null;function s0(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(r,t),Nn(t),u&4&&(ra(3,t,t.return),Nl(3,t),ra(5,t,t.return));break;case 1:Rn(r,t),Nn(t),u&512&&(Gt||o===null||Xr(o,o.return)),u&64&&vi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=Tr;if(Rn(r,t),Nn(t),u&512&&(Gt||o===null||Xr(o,o.return)),u&4){var b=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Lr]||b[qt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),cn(b,u,o),b[qt]=t,Ut(b),u=b;break e;case"link":var q=sb("link","href",g).get(u+(o.href||""));if(q){for(var H=0;H<q.length;H++)if(b=q[H],b.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&b.getAttribute("rel")===(o.rel==null?null:o.rel)&&b.getAttribute("title")===(o.title==null?null:o.title)&&b.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){q.splice(H,1);break t}}b=g.createElement(u),cn(b,u,o),g.head.appendChild(b);break;case"meta":if(q=sb("meta","content",g).get(u+(o.content||""))){for(H=0;H<q.length;H++)if(b=q[H],b.getAttribute("content")===(o.content==null?null:""+o.content)&&b.getAttribute("name")===(o.name==null?null:o.name)&&b.getAttribute("property")===(o.property==null?null:o.property)&&b.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&b.getAttribute("charset")===(o.charSet==null?null:o.charSet)){q.splice(H,1);break t}}b=g.createElement(u),cn(b,u,o),g.head.appendChild(b);break;default:throw Error(i(468,u))}b[qt]=t,Ut(b),u=b}t.stateNode=u}else ob(g,t.type,t.stateNode);else t.stateNode=ab(g,u,t.memoizedProps);else b!==u?(b===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):b.count--,u===null?ob(g,t.type,t.stateNode):ab(g,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,o.memoizedProps)}break;case 27:Rn(r,t),Nn(t),u&512&&(Gt||o===null||Xr(o,o.return)),o!==null&&u&4&&Dd(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Rn(r,t),Nn(t),u&512&&(Gt||o===null||Xr(o,o.return)),t.flags&32){g=t.stateNode;try{Sn(g,"")}catch(Ce){dt(t,t.return,Ce)}}u&4&&t.stateNode!=null&&(g=t.memoizedProps,Dd(t,g,o!==null?o.memoizedProps:g)),u&1024&&(Ld=!0);break;case 6:if(Rn(r,t),Nn(t),u&4){if(t.stateNode===null)throw Error(i(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(Ce){dt(t,t.return,Ce)}}break;case 3:if(Qc=null,g=Tr,Tr=Kc(r.containerInfo),Rn(r,t),Tr=g,Nn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{po(r.containerInfo)}catch(Ce){dt(t,t.return,Ce)}Ld&&(Ld=!1,o0(t));break;case 4:u=Tr,Tr=Kc(t.stateNode.containerInfo),Rn(r,t),Nn(t),Tr=u;break;case 12:Rn(r,t),Nn(t);break;case 31:Rn(r,t),Nn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Dc(t,u)));break;case 13:Rn(r,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mc=Me()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Dc(t,u)));break;case 22:g=t.memoizedState!==null;var $=o!==null&&o.memoizedState!==null,ce=vi,ye=Gt;if(vi=ce||g,Gt=ye||$,Rn(r,t),Gt=ye,vi=ce,Nn(t),u&8192)e:for(r=t.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(o===null||$||vi||Gt||ls(t)),o=null,r=t;;){if(r.tag===5||r.tag===26){if(o===null){$=o=r;try{if(b=$.stateNode,g)q=b.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{H=$.stateNode;var be=$.memoizedProps.style,fe=be!=null&&be.hasOwnProperty("display")?be.display:null;H.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ce){dt($,$.return,Ce)}}}else if(r.tag===6){if(o===null){$=r;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(Ce){dt($,$.return,Ce)}}}else if(r.tag===18){if(o===null){$=r;try{var me=$.stateNode;g?W0(me,!0):W0($.stateNode,!1)}catch(Ce){dt($,$.return,Ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Dc(t,o))));break;case 19:Rn(r,t),Nn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Dc(t,u)));break;case 30:break;case 21:break;default:Rn(r,t),Nn(t)}}function Nn(t){var r=t.flags;if(r&2){try{for(var o,u=t.return;u!==null;){if(J_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var g=o.stateNode,b=kd(t);Ic(t,b,g);break;case 5:var q=o.stateNode;o.flags&32&&(Sn(q,""),o.flags&=-33);var H=kd(t);Ic(t,H,q);break;case 3:case 4:var $=o.stateNode.containerInfo,ce=kd(t);Md(t,ce,$);break;default:throw Error(i(161))}}catch(ye){dt(t,t.return,ye)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function o0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;o0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function bi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)t0(t,r.alternate,r),r=r.sibling}function ls(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ra(4,r,r.return),ls(r);break;case 1:Xr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&W_(r,r.return,o),ls(r);break;case 27:Vl(r.stateNode);case 26:case 5:Xr(r,r.return),ls(r);break;case 22:r.memoizedState===null&&ls(r);break;case 30:ls(r);break;default:ls(r)}t=t.sibling}}function Ei(t,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=t,b=r,q=b.flags;switch(b.tag){case 0:case 11:case 15:Ei(g,b,o),Nl(4,b);break;case 1:if(Ei(g,b,o),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ce){dt(u,u.return,ce)}if(u=b,g=u.updateQueue,g!==null){var H=u.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)Vv($[g],H)}catch(ce){dt(u,u.return,ce)}}o&&q&64&&X_(b),Ol(b,b.return);break;case 27:$_(b);case 26:case 5:Ei(g,b,o),o&&u===null&&q&4&&Z_(b),Ol(b,b.return);break;case 12:Ei(g,b,o);break;case 31:Ei(g,b,o),o&&q&4&&i0(g,b);break;case 13:Ei(g,b,o),o&&q&4&&a0(g,b);break;case 22:b.memoizedState===null&&Ei(g,b,o),Ol(b,b.return);break;case 30:break;default:Ei(g,b,o)}r=r.sibling}}function Pd(t,r){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&pl(o))}function jd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pl(t))}function wr(t,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l0(t,r,o,u),r=r.sibling}function l0(t,r,o,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:wr(t,r,o,u),g&2048&&Nl(9,r);break;case 1:wr(t,r,o,u);break;case 3:wr(t,r,o,u),g&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pl(t)));break;case 12:if(g&2048){wr(t,r,o,u),t=r.stateNode;try{var b=r.memoizedProps,q=b.id,H=b.onPostCommit;typeof H=="function"&&H(q,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch($){dt(r,r.return,$)}}else wr(t,r,o,u);break;case 31:wr(t,r,o,u);break;case 13:wr(t,r,o,u);break;case 23:break;case 22:b=r.stateNode,q=r.alternate,r.memoizedState!==null?b._visibility&2?wr(t,r,o,u):Cl(t,r):b._visibility&2?wr(t,r,o,u):(b._visibility|=2,ro(t,r,o,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Pd(q,r);break;case 24:wr(t,r,o,u),g&2048&&jd(r.alternate,r);break;default:wr(t,r,o,u)}}function ro(t,r,o,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=t,q=r,H=o,$=u,ce=q.flags;switch(q.tag){case 0:case 11:case 15:ro(b,q,H,$,g),Nl(8,q);break;case 23:break;case 22:var ye=q.stateNode;q.memoizedState!==null?ye._visibility&2?ro(b,q,H,$,g):Cl(b,q):(ye._visibility|=2,ro(b,q,H,$,g)),g&&ce&2048&&Pd(q.alternate,q);break;case 24:ro(b,q,H,$,g),g&&ce&2048&&jd(q.alternate,q);break;default:ro(b,q,H,$,g)}r=r.sibling}}function Cl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=t,u=r,g=u.flags;switch(u.tag){case 22:Cl(o,u),g&2048&&Pd(u.alternate,u);break;case 24:Cl(o,u),g&2048&&jd(u.alternate,u);break;default:Cl(o,u)}r=r.sibling}}var Il=8192;function io(t,r,o){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)u0(t,r,o),t=t.sibling}function u0(t,r,o){switch(t.tag){case 26:io(t,r,o),t.flags&Il&&t.memoizedState!==null&&S2(o,Tr,t.memoizedState,t.memoizedProps);break;case 5:io(t,r,o);break;case 3:case 4:var u=Tr;Tr=Kc(t.stateNode.containerInfo),io(t,r,o),Tr=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Il,Il=16777216,io(t,r,o),Il=u):io(t,r,o));break;default:io(t,r,o)}}function c0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Dl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];nn=u,h0(u,t)}c0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f0(t),t=t.sibling}function f0(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&ra(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,kc(t)):Dl(t);break;default:Dl(t)}}function kc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];nn=u,h0(u,t)}c0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ra(8,r,r.return),kc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,kc(r));break;default:kc(r)}t=t.sibling}}function h0(t,r){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ra(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=t;nn!==null;){u=nn;var g=u.sibling,b=u.return;if(n0(u),u===o){nn=null;break e}if(g!==null){g.return=b,nn=g;break e}nn=b}}}var Ux={getCacheForType:function(t){var r=ln(zt),o=r.data.get(t);return o===void 0&&(o=t(),r.data.set(t,o)),o},cacheSignal:function(){return ln(zt).controller.signal}},Bx=typeof WeakMap=="function"?WeakMap:Map,ut=0,vt=null,Xe=null,Ze=0,ht=0,Bn=null,ia=!1,ao=!1,Vd=!1,Ti=0,Dt=0,aa=0,us=0,qd=0,zn=0,so=0,kl=null,On=null,Ud=!1,Mc=0,d0=0,Lc=1/0,Pc=null,sa=null,Wt=0,oa=null,oo=null,wi=0,Bd=0,zd=null,m0=null,Ml=0,Hd=null;function Hn(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:Q.T!==null?Xd():ju()}function p0(){if(zn===0)if((Ze&536870912)===0||rt){var t=Pa;Pa<<=1,(Pa&3932160)===0&&(Pa=262144),zn=t}else zn=536870912;return t=qn.current,t!==null&&(t.flags|=32),zn}function Cn(t,r,o){(t===vt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(lo(t,0),la(t,Ze,zn,!1)),ja(t,o),((ut&2)===0||t!==vt)&&(t===vt&&((ut&2)===0&&(us|=o),Dt===4&&la(t,Ze,zn,!1)),Wr(t))}function g0(t,r,o){if((ut&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&t.expiredLanes)===0||dr(t,r),g=u?Fx(t,r):Gd(t,r,!0),b=u;do{if(g===0){ao&&!u&&la(t,r,0,!1);break}else{if(o=t.current.alternate,b&&!zx(o)){g=Gd(t,r,!1),b=!1;continue}if(g===2){if(b=r,t.errorRecoveryDisabledLanes&b)var q=0;else q=t.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){r=q;e:{var H=t;g=kl;var $=H.current.memoizedState.isDehydrated;if($&&(lo(H,q).flags|=256),q=Gd(H,q,!1),q!==2){if(Vd&&!$){H.errorRecoveryDisabledLanes|=b,us|=b,g=4;break e}b=On,On=g,b!==null&&(On===null?On=b:On.push.apply(On,b))}g=q}if(b=!1,g!==2)continue}}if(g===1){lo(t,0),la(t,r,0,!0);break}e:{switch(u=t,b=g,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:la(u,r,zn,!ia);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Mc+300-Me(),10<g)){if(la(u,r,zn,!ia),Dr(u,0,!0)!==0)break e;wi=r,u.timeoutHandle=Y0(y0.bind(null,u,o,On,Pc,Ud,r,zn,us,so,ia,b,"Throttled",-0,0),g);break e}y0(u,o,On,Pc,Ud,r,zn,us,so,ia,b,null,-0,0)}}break}while(!0);Wr(t)}function y0(t,r,o,u,g,b,q,H,$,ce,ye,be,fe,me){if(t.timeoutHandle=-1,be=r.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},u0(r,b,be);var Ce=(b&62914560)===b?Mc-Me():(b&4194048)===b?d0-Me():0;if(Ce=x2(be,Ce),Ce!==null){wi=b,t.cancelPendingCommit=Ce(S0.bind(null,t,r,b,o,u,g,q,H,$,ye,be,null,fe,me)),la(t,b,q,!ce);return}}S0(t,r,b,o,u,g,q,H,$)}function zx(t){for(var r=t;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],b=g.getSnapshot;g=g.value;try{if(!jn(b(),g))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function la(t,r,o,u){r&=~qd,r&=~us,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var g=r;0<g;){var b=31-kt(g),q=1<<b;u[b]=-1,g&=~q}o!==0&&Va(t,o,r)}function jc(){return(ut&6)===0?(Ll(0),!1):!0}function Fd(){if(Xe!==null){if(ht===0)var t=Xe.return;else t=Xe,hi=es=null,sd(t),Js=null,yl=0,t=Xe;for(;t!==null;)Q_(t.alternate,t),t=t.return;Xe=null}}function lo(t,r){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,l2(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),wi=0,Fd(),vt=t,Xe=o=ci(t.current,null),Ze=r,ht=0,Bn=null,ia=!1,ao=dr(t,r),Vd=!1,so=zn=qd=us=aa=Dt=0,On=kl=null,Ud=!1,(r&8)!==0&&(r|=r&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=r;0<u;){var g=31-kt(u),b=1<<g;r|=t[g],u&=~b}return Ti=r,ic(),o}function v0(t,r){Ye=null,Q.H=Sl,r===Zs||r===hc?(r=Mv(),ht=3):r===Qh?(r=Mv(),ht=4):ht=r===Td?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Xe===null&&(Dt=1,xc(t,Jn(r,t.current)))}function _0(){var t=qn.current;return t===null?!0:(Ze&4194048)===Ze?nr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?t===nr:!1}function b0(){var t=Q.H;return Q.H=Sl,t===null?Sl:t}function E0(){var t=Q.A;return Q.A=Ux,t}function Vc(){Dt=4,ia||(Ze&4194048)!==Ze&&qn.current!==null||(ao=!0),(aa&134217727)===0&&(us&134217727)===0||vt===null||la(vt,Ze,zn,!1)}function Gd(t,r,o){var u=ut;ut|=2;var g=b0(),b=E0();(vt!==t||Ze!==r)&&(Pc=null,lo(t,r)),r=!1;var q=Dt;e:do try{if(ht!==0&&Xe!==null){var H=Xe,$=Bn;switch(ht){case 8:Fd(),q=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var ce=ht;if(ht=0,Bn=null,uo(t,H,$,ce),o&&ao){q=0;break e}break;default:ce=ht,ht=0,Bn=null,uo(t,H,$,ce)}}Hx(),q=Dt;break}catch(ye){v0(t,ye)}while(!0);return r&&t.shellSuspendCounter++,hi=es=null,ut=u,Q.H=g,Q.A=b,Xe===null&&(vt=null,Ze=0,ic()),q}function Hx(){for(;Xe!==null;)T0(Xe)}function Fx(t,r){var o=ut;ut|=2;var u=b0(),g=E0();vt!==t||Ze!==r?(Pc=null,Lc=Me()+500,lo(t,r)):ao=dr(t,r);e:do try{if(ht!==0&&Xe!==null){r=Xe;var b=Bn;t:switch(ht){case 1:ht=0,Bn=null,uo(t,r,b,1);break;case 2:case 9:if(Dv(b)){ht=0,Bn=null,w0(r);break}r=function(){ht!==2&&ht!==9||vt!==t||(ht=7),Wr(t)},b.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Dv(b)?(ht=0,Bn=null,w0(r)):(ht=0,Bn=null,uo(t,r,b,7));break;case 5:var q=null;switch(Xe.tag){case 26:q=Xe.memoizedState;case 5:case 27:var H=Xe;if(q?lb(q):H.stateNode.complete){ht=0,Bn=null;var $=H.sibling;if($!==null)Xe=$;else{var ce=H.return;ce!==null?(Xe=ce,qc(ce)):Xe=null}break t}}ht=0,Bn=null,uo(t,r,b,5);break;case 6:ht=0,Bn=null,uo(t,r,b,6);break;case 8:Fd(),Dt=6;break e;default:throw Error(i(462))}}Gx();break}catch(ye){v0(t,ye)}while(!0);return hi=es=null,Q.H=u,Q.A=g,ut=o,Xe!==null?0:(vt=null,Ze=0,ic(),Dt)}function Gx(){for(;Xe!==null&&!we();)T0(Xe)}function T0(t){var r=K_(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,r===null?qc(t):Xe=r}function w0(t){var r=t,o=r.alternate;switch(r.tag){case 15:case 0:r=U_(o,r,r.pendingProps,r.type,void 0,Ze);break;case 11:r=U_(o,r,r.pendingProps,r.type.render,r.ref,Ze);break;case 5:sd(r);default:Q_(o,r),r=Xe=Ev(r,Ti),r=K_(o,r,Ti)}t.memoizedProps=t.pendingProps,r===null?qc(t):Xe=r}function uo(t,r,o,u){hi=es=null,sd(r),Js=null,yl=0;var g=r.return;try{if(kx(t,g,r,o,Ze)){Dt=1,xc(t,Jn(o,t.current)),Xe=null;return}}catch(b){if(g!==null)throw Xe=g,b;Dt=1,xc(t,Jn(o,t.current)),Xe=null;return}r.flags&32768?(rt||u===1?t=!0:ao||(Ze&536870912)!==0?t=!1:(ia=t=!0,(u===2||u===9||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),A0(r,t)):qc(r)}function qc(t){var r=t;do{if((r.flags&32768)!==0){A0(r,ia);return}t=r.return;var o=Px(r.alternate,r,Ti);if(o!==null){Xe=o;return}if(r=r.sibling,r!==null){Xe=r;return}Xe=r=t}while(r!==null);Dt===0&&(Dt=5)}function A0(t,r){do{var o=jx(t.alternate,t);if(o!==null){o.flags&=32767,Xe=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=o}while(t!==null);Dt=6,Xe=null}function S0(t,r,o,u,g,b,q,H,$){t.cancelPendingCommit=null;do Uc();while(Wt!==0);if((ut&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=kh,Ah(t,o,b,q,H,$),t===vt&&(Xe=vt=null,Ze=0),oo=r,oa=t,wi=o,Bd=b,zd=g,m0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Xx(at,function(){return C0(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=Z.p,Z.p=2,q=ut,ut|=4;try{Vx(t,r,o)}finally{ut=q,Z.p=g,Q.T=u}}Wt=1,x0(),R0(),N0()}}function x0(){if(Wt===1){Wt=0;var t=oa,r=oo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=Z.p;Z.p=2;var g=ut;ut|=4;try{s0(r,t);var b=rm,q=hv(t.containerInfo),H=b.focusedElem,$=b.selectionRange;if(q!==H&&H&&H.ownerDocument&&fv(H.ownerDocument.documentElement,H)){if($!==null&&Nh(H)){var ce=$.start,ye=$.end;if(ye===void 0&&(ye=ce),"selectionStart"in H)H.selectionStart=ce,H.selectionEnd=Math.min(ye,H.value.length);else{var be=H.ownerDocument||document,fe=be&&be.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Ce=H.textContent.length,Pe=Math.min($.start,Ce),yt=$.end===void 0?Pe:Math.min($.end,Ce);!me.extend&&Pe>yt&&(q=yt,yt=Pe,Pe=q);var ie=cv(H,Pe),re=cv(H,yt);if(ie&&re&&(me.rangeCount!==1||me.anchorNode!==ie.node||me.anchorOffset!==ie.offset||me.focusNode!==re.node||me.focusOffset!==re.offset)){var ue=be.createRange();ue.setStart(ie.node,ie.offset),me.removeAllRanges(),Pe>yt?(me.addRange(ue),me.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),me.addRange(ue))}}}}for(be=[],me=H;me=me.parentNode;)me.nodeType===1&&be.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<be.length;H++){var ve=be[H];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Jc=!!nm,rm=nm=null}finally{ut=g,Z.p=u,Q.T=o}}t.current=r,Wt=2}}function R0(){if(Wt===2){Wt=0;var t=oa,r=oo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=Z.p;Z.p=2;var g=ut;ut|=4;try{t0(t,r.alternate,r)}finally{ut=g,Z.p=u,Q.T=o}}Wt=3}}function N0(){if(Wt===4||Wt===3){Wt=0,Ge();var t=oa,r=oo,o=wi,u=m0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,oo=oa=null,O0(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(sa=null),si(o),r=r.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(hr,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,g=Z.p,Z.p=2,Q.T=null;try{for(var b=t.onRecoverableError,q=0;q<u.length;q++){var H=u[q];b(H.value,{componentStack:H.stack})}}finally{Q.T=r,Z.p=g}}(wi&3)!==0&&Uc(),Wr(t),g=t.pendingLanes,(o&261930)!==0&&(g&42)!==0?t===Hd?Ml++:(Ml=0,Hd=t):Ml=0,Ll(0)}}function O0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,pl(r)))}function Uc(){return x0(),R0(),N0(),C0()}function C0(){if(Wt!==5)return!1;var t=oa,r=Bd;Bd=0;var o=si(wi),u=Q.T,g=Z.p;try{Z.p=32>o?32:o,Q.T=null,o=zd,zd=null;var b=oa,q=wi;if(Wt=0,oo=oa=null,wi=0,(ut&6)!==0)throw Error(i(331));var H=ut;if(ut|=4,f0(b.current),l0(b,b.current,q,o),ut=H,Ll(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(hr,b)}catch{}return!0}finally{Z.p=g,Q.T=u,O0(t,r)}}function I0(t,r,o){r=Jn(o,r),r=Ed(t.stateNode,r,2),t=ea(t,r,2),t!==null&&(ja(t,2),Wr(t))}function dt(t,r,o){if(t.tag===3)I0(t,t,o);else for(;r!==null;){if(r.tag===3){I0(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sa===null||!sa.has(u))){t=Jn(o,t),o=D_(2),u=ea(r,o,2),u!==null&&(k_(o,u,r,t),ja(u,2),Wr(u));break}}r=r.return}}function Kd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Bx;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(o)||(Vd=!0,g.add(o),t=Kx.bind(null,t,r,o),r.then(t,t))}function Kx(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,vt===t&&(Ze&o)===o&&(Dt===4||Dt===3&&(Ze&62914560)===Ze&&300>Me()-Mc?(ut&2)===0&&lo(t,0):qd|=o,so===Ze&&(so=0)),Wr(t)}function D0(t,r){r===0&&(r=Pu()),t=Za(t,r),t!==null&&(ja(t,r),Wr(t))}function Yx(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),D0(t,o)}function Qx(t,r){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,g=t.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),D0(t,o)}function Xx(t,r){return Ae(t,r)}var Bc=null,co=null,Yd=!1,zc=!1,Qd=!1,ua=0;function Wr(t){t!==co&&t.next===null&&(co===null?Bc=co=t:co=co.next=t),zc=!0,Yd||(Yd=!0,Zx())}function Ll(t,r){if(!Qd&&zc){Qd=!0;do for(var o=!1,u=Bc;u!==null;){if(t!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var q=u.suspendedLanes,H=u.pingedLanes;b=(1<<31-kt(42|t)+1)-1,b&=g&~(q&~H),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(o=!0,P0(u,b))}else b=Ze,b=Dr(u,u===vt?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||dr(u,b)||(o=!0,P0(u,b));u=u.next}while(o);Qd=!1}}function Wx(){k0()}function k0(){zc=Yd=!1;var t=0;ua!==0&&o2()&&(t=ua);for(var r=Me(),o=null,u=Bc;u!==null;){var g=u.next,b=M0(u,r);b===0?(u.next=null,o===null?Bc=g:o.next=g,g===null&&(co=o)):(o=u,(t!==0||(b&3)!==0)&&(zc=!0)),u=g}Wt!==0&&Wt!==5||Ll(t),ua!==0&&(ua=0)}function M0(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,g=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var q=31-kt(b),H=1<<q,$=g[q];$===-1?((H&o)===0||(H&u)!==0)&&(g[q]=wh(H,r)):$<=r&&(t.expiredLanes|=H),b&=~H}if(r=vt,o=Ze,o=Dr(t,t===r?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===r&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&xe(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||dr(t,o)){if(r=o&-o,r===t.callbackPriority)return r;switch(u!==null&&xe(u),si(o)){case 2:case 8:o=En;break;case 32:o=at;break;case 268435456:o=Et;break;default:o=at}return u=L0.bind(null,t),o=Ae(o,u),t.callbackPriority=r,t.callbackNode=o,r}return u!==null&&u!==null&&xe(u),t.callbackPriority=2,t.callbackNode=null,2}function L0(t,r){if(Wt!==0&&Wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Uc()&&t.callbackNode!==o)return null;var u=Ze;return u=Dr(t,t===vt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(g0(t,u,r),M0(t,Me()),t.callbackNode!=null&&t.callbackNode===o?L0.bind(null,t):null)}function P0(t,r){if(Uc())return null;g0(t,r,!0)}function Zx(){u2(function(){(ut&6)!==0?Ae($t,Wx):k0()})}function Xd(){if(ua===0){var t=Xs;t===0&&(t=Cr,Cr<<=1,(Cr&261888)===0&&(Cr=256)),ua=t}return ua}function j0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function V0(t,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,t.id&&o.setAttribute("form",t.id),r.parentNode.insertBefore(o,r),t=new FormData(t),o.parentNode.removeChild(o),t}function Jx(t,r,o,u,g){if(r==="submit"&&o&&o.stateNode===g){var b=j0((g[en]||null).action),q=u.submitter;q&&(r=(r=q[en]||null)?j0(r.formAction):q.getAttribute("formAction"),r!==null&&(b=r,q=null));var H=new Hr("action","action",null,u,g);t.push({event:H,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ua!==0){var $=q?V0(g,q):new FormData(g);pd(o,{pending:!0,data:$,method:g.method,action:b},null,$)}}else typeof b=="function"&&(H.preventDefault(),$=q?V0(g,q):new FormData(g),pd(o,{pending:!0,data:$,method:g.method,action:b},b,$))},currentTarget:g}]})}}for(var Wd=0;Wd<Dh.length;Wd++){var Zd=Dh[Wd],$x=Zd.toLowerCase(),e2=Zd[0].toUpperCase()+Zd.slice(1);Er($x,"on"+e2)}Er(pv,"onAnimationEnd"),Er(gv,"onAnimationIteration"),Er(yv,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(gx,"onTransitionRun"),Er(yx,"onTransitionStart"),Er(vx,"onTransitionCancel"),Er(vv,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function q0(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],g=u.event;u=u.listeners;e:{var b=void 0;if(r)for(var q=u.length-1;0<=q;q--){var H=u[q],$=H.instance,ce=H.currentTarget;if(H=H.listener,$!==b&&g.isPropagationStopped())break e;b=H,g.currentTarget=ce;try{b(g)}catch(ye){rc(ye)}g.currentTarget=null,b=$}else for(q=0;q<u.length;q++){if(H=u[q],$=H.instance,ce=H.currentTarget,H=H.listener,$!==b&&g.isPropagationStopped())break e;b=H,g.currentTarget=ce;try{b(g)}catch(ye){rc(ye)}g.currentTarget=null,b=$}}}}function We(t,r){var o=r[Os];o===void 0&&(o=r[Os]=new Set);var u=t+"__bubble";o.has(u)||(U0(r,t,2,!1),o.add(u))}function Jd(t,r,o){var u=0;r&&(u|=4),U0(o,t,u,r)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Hc]){t[Hc]=!0,Qo.forEach(function(o){o!=="selectionchange"&&(t2.has(o)||Jd(o,!1,t),Jd(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Hc]||(r[Hc]=!0,Jd("selectionchange",!1,r))}}function U0(t,r,o,u){switch(pb(r)){case 2:var g=O2;break;case 8:g=C2;break;default:g=mm}o=g.bind(null,r,o,t),g=void 0,!Ha||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?t.addEventListener(r,o,{capture:!0,passive:g}):t.addEventListener(r,o,!0):g!==void 0?t.addEventListener(r,o,{passive:g}):t.addEventListener(r,o,!1)}function em(t,r,o,u,g){var b=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var q=u.tag;if(q===3||q===4){var H=u.stateNode.containerInfo;if(H===g)break;if(q===4)for(q=u.return;q!==null;){var $=q.tag;if(($===3||$===4)&&q.stateNode.containerInfo===g)return;q=q.return}for(;H!==null;){if(q=Pr(H),q===null)return;if($=q.tag,$===5||$===6||$===26||$===27){u=b=q;continue e}H=H.parentNode}}u=u.return}Fi(function(){var ce=b,ye=Qn(o),be=[];e:{var fe=_v.get(t);if(fe!==void 0){var me=Hr,Ce=t;switch(t){case"keypress":if(Ga(o)===0)break e;case"keydown":case"keyup":me=ec;break;case"focusin":Ce="focus",me=Ya;break;case"focusout":Ce="blur",me=Ya;break;case"beforeblur":case"afterblur":me=Ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=C;break;case pv:case gv:case yv:me=Yu;break;case vv:me=K;break;case"scroll":case"scrollend":me=sl;break;case"wheel":me=de;break;case"copy":case"cut":case"paste":me=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ui;break;case"toggle":case"beforetoggle":me=Ke}var Pe=(r&4)!==0,yt=!Pe&&(t==="scroll"||t==="scrollend"),ie=Pe?fe!==null?fe+"Capture":null:fe;Pe=[];for(var re=ce,ue;re!==null;){var ve=re;if(ue=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ue===null||ie===null||(ve=yr(re,ie),ve!=null&&Pe.push(jl(re,ve,ue))),yt)break;re=re.return}0<Pe.length&&(fe=new me(fe,Ce,null,o,ye),be.push({event:fe,listeners:Pe}))}}if((r&7)===0){e:{if(fe=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",fe&&o!==rl&&(Ce=o.relatedTarget||o.fromElement)&&(Pr(Ce)||Ce[Mr]))break e;if((me||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Ce=o.relatedTarget||o.toElement,me=ce,Ce=Ce?Pr(Ce):null,Ce!==null&&(yt=l(Ce),Pe=Ce.tag,Ce!==yt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ce=null)):(me=null,Ce=ce),me!==Ce)){if(Pe=ol,ve="onMouseLeave",ie="onMouseEnter",re="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=ui,ve="onPointerLeave",ie="onPointerEnter",re="pointer"),yt=me==null?fe:Ln(me),ue=Ce==null?fe:Ln(Ce),fe=new Pe(ve,re+"leave",me,o,ye),fe.target=yt,fe.relatedTarget=ue,ve=null,Pr(ye)===ce&&(Pe=new Pe(ie,re+"enter",Ce,o,ye),Pe.target=ue,Pe.relatedTarget=yt,ve=Pe),yt=ve,me&&Ce)t:{for(Pe=n2,ie=me,re=Ce,ue=0,ve=ie;ve;ve=Pe(ve))ue++;ve=0;for(var De=re;De;De=Pe(De))ve++;for(;0<ue-ve;)ie=Pe(ie),ue--;for(;0<ve-ue;)re=Pe(re),ve--;for(;ue--;){if(ie===re||re!==null&&ie===re.alternate){Pe=ie;break t}ie=Pe(ie),re=Pe(re)}Pe=null}else Pe=null;me!==null&&B0(be,fe,me,Pe,!1),Ce!==null&&yt!==null&&B0(be,yt,Ce,Pe,!0)}}e:{if(fe=ce?Ln(ce):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var st=iv;else if(nv(fe))if(av)st=dx;else{st=fx;var Ie=cx}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&ks(ce.elementType)&&(st=iv):st=hx;if(st&&(st=st(t,ce))){rv(be,st,o,ye);break e}Ie&&Ie(t,fe,ce),t==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&el(fe,"number",fe.value)}switch(Ie=ce?Ln(ce):window,t){case"focusin":(nv(Ie)||Ie.contentEditable==="true")&&(Bs=Ie,Oh=ce,hl=null);break;case"focusout":hl=Oh=Bs=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,dv(be,o,ye);break;case"selectionchange":if(px)break;case"keydown":case"keyup":dv(be,o,ye)}var Qe;if(lt)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Us?Qa(t,o)&&(Je="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Je="onCompositionStart");Je&&(Kr&&o.locale!=="ko"&&(Us||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Us&&(Qe=al()):(zr=ye,il="value"in zr?zr.value:zr.textContent,Us=!0)),Ie=Fc(ce,Je),0<Ie.length&&(Je=new Gr(Je,t,null,o,ye),be.push({event:Je,listeners:Ie}),Qe?Je.data=Qe:(Qe=qs(o),Qe!==null&&(Je.data=Qe)))),(Qe=Wn?sx(t,o):ox(t,o))&&(Je=Fc(ce,"onBeforeInput"),0<Je.length&&(Ie=new Gr("onBeforeInput","beforeinput",null,o,ye),be.push({event:Ie,listeners:Je}),Ie.data=Qe)),Jx(be,t,ce,o,ye)}q0(be,r)})}function jl(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Fc(t,r){for(var o=r+"Capture",u=[];t!==null;){var g=t,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=yr(t,o),g!=null&&u.unshift(jl(t,g,b)),g=yr(t,r),g!=null&&u.push(jl(t,g,b))),t.tag===3)return u;t=t.return}return[]}function n2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B0(t,r,o,u,g){for(var b=r._reactName,q=[];o!==null&&o!==u;){var H=o,$=H.alternate,ce=H.stateNode;if(H=H.tag,$!==null&&$===u)break;H!==5&&H!==26&&H!==27||ce===null||($=ce,g?(ce=yr(o,b),ce!=null&&q.unshift(jl(o,ce,$))):g||(ce=yr(o,b),ce!=null&&q.push(jl(o,ce,$)))),o=o.return}q.length!==0&&t.push({event:r,listeners:q})}var r2=/\r\n?/g,i2=/\u0000|\uFFFD/g;function z0(t){return(typeof t=="string"?t:""+t).replace(r2,`
`).replace(i2,"")}function H0(t,r){return r=z0(r),z0(t)===r}function gt(t,r,o,u,g,b){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(t,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(t,""+u);break;case"className":Pn(t,"class",u);break;case"tabIndex":Pn(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,o,u);break;case"style":nl(t,u,b);break;case"data":if(r!=="object"){Pn(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Ms(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(o==="formAction"?(r!=="input"&&gt(t,r,"name",g.name,g,null),gt(t,r,"formEncType",g.formEncType,g,null),gt(t,r,"formMethod",g.formMethod,g,null),gt(t,r,"formTarget",g.formTarget,g,null)):(gt(t,r,"encType",g.encType,g,null),gt(t,r,"method",g.method,g,null),gt(t,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Ms(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=gr);break;case"onScroll":u!=null&&We("scroll",t);break;case"onScrollEnd":u!=null&&We("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Ms(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":We("beforetoggle",t),We("toggle",t),Is(t,"popover",u);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Is(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fu.get(o)||o,Is(t,o,u))}}function tm(t,r,o,u,g,b){switch(o){case"style":nl(t,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Sn(t,u):(typeof u=="number"||typeof u=="bigint")&&Sn(t,""+u);break;case"onScroll":u!=null&&We("scroll",t);break;case"onScrollEnd":u!=null&&We("scrollend",t);break;case"onClick":u!=null&&(t.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),r=o.slice(2,g?o.length-7:void 0),b=t[en]||null,b=b!=null?b[o]:null,typeof b=="function"&&t.removeEventListener(r,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(r,u,g);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Is(t,o,u)}}}function cn(t,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",t),We("load",t);var u=!1,g=!1,b;for(b in o)if(o.hasOwnProperty(b)){var q=o[b];if(q!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(t,r,b,q,o,null)}}g&&gt(t,r,"srcSet",o.srcSet,o,null),u&&gt(t,r,"src",o.src,o,null);return;case"input":We("invalid",t);var H=b=q=g=null,$=null,ce=null;for(u in o)if(o.hasOwnProperty(u)){var ye=o[u];if(ye!=null)switch(u){case"name":g=ye;break;case"type":q=ye;break;case"checked":$=ye;break;case"defaultChecked":ce=ye;break;case"value":b=ye;break;case"defaultValue":H=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,r));break;default:gt(t,r,u,ye,o,null)}}Bu(t,b,H,$,ce,q,g,!1);return;case"select":We("invalid",t),u=q=b=null;for(g in o)if(o.hasOwnProperty(g)&&(H=o[g],H!=null))switch(g){case"value":b=H;break;case"defaultValue":q=H;break;case"multiple":u=H;default:gt(t,r,g,H,o,null)}r=b,o=q,t.multiple=!!u,r!=null?Ui(t,!!u,r,!1):o!=null&&Ui(t,!!u,o,!0);return;case"textarea":We("invalid",t),b=g=u=null;for(q in o)if(o.hasOwnProperty(q)&&(H=o[q],H!=null))switch(q){case"value":u=H;break;case"defaultValue":g=H;break;case"children":b=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(91));break;default:gt(t,r,q,H,o,null)}Bi(t,u,g,b);return;case"option":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:gt(t,r,$,u,o,null)}return;case"dialog":We("beforetoggle",t),We("toggle",t),We("cancel",t),We("close",t);break;case"iframe":case"object":We("load",t);break;case"video":case"audio":for(u=0;u<Pl.length;u++)We(Pl[u],t);break;case"image":We("error",t),We("load",t);break;case"details":We("toggle",t);break;case"embed":case"source":case"link":We("error",t),We("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in o)if(o.hasOwnProperty(ce)&&(u=o[ce],u!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:gt(t,r,ce,u,o,null)}return;default:if(ks(r)){for(ye in o)o.hasOwnProperty(ye)&&(u=o[ye],u!==void 0&&tm(t,r,ye,u,o,void 0));return}}for(H in o)o.hasOwnProperty(H)&&(u=o[H],u!=null&&gt(t,r,H,u,o,null))}function a2(t,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,q=null,H=null,$=null,ce=null,ye=null;for(me in o){var be=o[me];if(o.hasOwnProperty(me)&&be!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":$=be;default:u.hasOwnProperty(me)||gt(t,r,me,null,u,be)}}for(var fe in u){var me=u[fe];if(be=o[fe],u.hasOwnProperty(fe)&&(me!=null||be!=null))switch(fe){case"type":b=me;break;case"name":g=me;break;case"checked":ce=me;break;case"defaultChecked":ye=me;break;case"value":q=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,r));break;default:me!==be&&gt(t,r,fe,me,u,be)}}Ds(t,q,H,$,ce,ye,b,g);return;case"select":me=q=H=fe=null;for(b in o)if($=o[b],o.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":me=$;default:u.hasOwnProperty(b)||gt(t,r,b,null,u,$)}for(g in u)if(b=u[g],$=o[g],u.hasOwnProperty(g)&&(b!=null||$!=null))switch(g){case"value":fe=b;break;case"defaultValue":H=b;break;case"multiple":q=b;default:b!==$&&gt(t,r,g,b,u,$)}r=H,o=q,u=me,fe!=null?Ui(t,!!o,fe,!1):!!u!=!!o&&(r!=null?Ui(t,!!o,r,!0):Ui(t,!!o,o?[]:"",!1));return;case"textarea":me=fe=null;for(H in o)if(g=o[H],o.hasOwnProperty(H)&&g!=null&&!u.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:gt(t,r,H,null,u,g)}for(q in u)if(g=u[q],b=o[q],u.hasOwnProperty(q)&&(g!=null||b!=null))switch(q){case"value":fe=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==b&&gt(t,r,q,g,u,b)}zu(t,fe,me);return;case"option":for(var Ce in o)if(fe=o[Ce],o.hasOwnProperty(Ce)&&fe!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":t.selected=!1;break;default:gt(t,r,Ce,null,u,fe)}for($ in u)if(fe=u[$],me=o[$],u.hasOwnProperty($)&&fe!==me&&(fe!=null||me!=null))switch($){case"selected":t.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:gt(t,r,$,fe,u,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)fe=o[Pe],o.hasOwnProperty(Pe)&&fe!=null&&!u.hasOwnProperty(Pe)&&gt(t,r,Pe,null,u,fe);for(ce in u)if(fe=u[ce],me=o[ce],u.hasOwnProperty(ce)&&fe!==me&&(fe!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,r));break;default:gt(t,r,ce,fe,u,me)}return;default:if(ks(r)){for(var yt in o)fe=o[yt],o.hasOwnProperty(yt)&&fe!==void 0&&!u.hasOwnProperty(yt)&&tm(t,r,yt,void 0,u,fe);for(ye in u)fe=u[ye],me=o[ye],!u.hasOwnProperty(ye)||fe===me||fe===void 0&&me===void 0||tm(t,r,ye,fe,u,me);return}}for(var ie in o)fe=o[ie],o.hasOwnProperty(ie)&&fe!=null&&!u.hasOwnProperty(ie)&&gt(t,r,ie,null,u,fe);for(be in u)fe=u[be],me=o[be],!u.hasOwnProperty(be)||fe===me||fe==null&&me==null||gt(t,r,be,fe,u,me)}function F0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],b=g.transferSize,q=g.initiatorType,H=g.duration;if(b&&H&&F0(q)){for(q=0,H=g.responseEnd,u+=1;u<o.length;u++){var $=o[u],ce=$.startTime;if(ce>H)break;var ye=$.transferSize,be=$.initiatorType;ye&&F0(be)&&($=$.responseEnd,q+=ye*($<H?1:(H-ce)/($-ce)))}if(--u,r+=8*(b+q)/(g.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,rm=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function G0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function im(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var am=null;function o2(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(t){return Q0.resolve(null).then(t).catch(c2)}:Y0;function c2(t){setTimeout(function(){throw t})}function ca(t){return t==="head"}function X0(t,r){var o=r,u=0;do{var g=o.nextSibling;if(t.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(g),po(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Vl(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Vl(o);for(var b=o.firstChild;b;){var q=b.nextSibling,H=b.nodeName;b[Lr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=q}}else o==="body"&&Vl(t.ownerDocument.body);o=g}while(o);po(r)}function W0(t,r){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sm(o),Cs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function f2(t,r,o,u){for(;t.nodeType===1;){var g=o;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Lr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=rr(t.nextSibling),t===null)break}return null}function h2(t,r,o){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=rr(t.nextSibling),t===null))return null;return t}function Z0(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=rr(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$?"||t.data==="$~"}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function d2(t,r){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function rr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var um=null;function J0(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(r===0)return rr(t.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}t=t.nextSibling}return null}function $0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return t;r--}else o!=="/$"&&o!=="/&"||r++}t=t.previousSibling}return null}function eb(t,r,o){switch(r=Gc(o),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Cs(t)}var ir=new Map,tb=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ai=Z.d;Z.d={f:m2,r:p2,D:g2,C:y2,L:v2,m:_2,X:E2,S:b2,M:T2};function m2(){var t=Ai.f(),r=jc();return t||r}function p2(t){var r=Yn(t);r!==null&&r.tag===5&&r.type==="form"?v_(r):Ai.r(t)}var fo=typeof document>"u"?null:document;function nb(t,r,o){var u=fo;if(u&&typeof r=="string"&&r){var g=An(r);g='link[rel="'+t+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),tb.has(g)||(tb.add(g),t={rel:t,crossOrigin:o,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),cn(r,"link",t),Ut(r),u.head.appendChild(r)))}}function g2(t){Ai.D(t),nb("dns-prefetch",t,null)}function y2(t,r){Ai.C(t,r),nb("preconnect",t,r)}function v2(t,r,o){Ai.L(t,r,o);var u=fo;if(u&&t&&r){var g='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+An(o.imageSizes)+'"]')):g+='[href="'+An(t)+'"]';var b=g;switch(r){case"style":b=ho(t);break;case"script":b=mo(t)}ir.has(b)||(t=m({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:t,as:r},o),ir.set(b,t),u.querySelector(g)!==null||r==="style"&&u.querySelector(ql(b))||r==="script"&&u.querySelector(Ul(b))||(r=u.createElement("link"),cn(r,"link",t),Ut(r),u.head.appendChild(r)))}}function _2(t,r){Ai.m(t,r);var o=fo;if(o&&t){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(t)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=mo(t)}if(!ir.has(b)&&(t=m({rel:"modulepreload",href:t},r),ir.set(b,t),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ul(b)))return}u=o.createElement("link"),cn(u,"link",t),Ut(u),o.head.appendChild(u)}}}function b2(t,r,o){Ai.S(t,r,o);var u=fo;if(u&&t){var g=jr(u).hoistableStyles,b=ho(t);r=r||"default";var q=g.get(b);if(!q){var H={loading:0,preload:null};if(q=u.querySelector(ql(b)))H.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":r},o),(o=ir.get(b))&&cm(t,o);var $=q=u.createElement("link");Ut($),cn($,"link",t),$._p=new Promise(function(ce,ye){$.onload=ce,$.onerror=ye}),$.addEventListener("load",function(){H.loading|=1}),$.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Yc(q,r,u)}q={type:"stylesheet",instance:q,count:1,state:H},g.set(b,q)}}}function E2(t,r){Ai.X(t,r);var o=fo;if(o&&t){var u=jr(o).hoistableScripts,g=mo(t),b=u.get(g);b||(b=o.querySelector(Ul(g)),b||(t=m({src:t,async:!0},r),(r=ir.get(g))&&fm(t,r),b=o.createElement("script"),Ut(b),cn(b,"link",t),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function T2(t,r){Ai.M(t,r);var o=fo;if(o&&t){var u=jr(o).hoistableScripts,g=mo(t),b=u.get(g);b||(b=o.querySelector(Ul(g)),b||(t=m({src:t,async:!0,type:"module"},r),(r=ir.get(g))&&fm(t,r),b=o.createElement("script"),Ut(b),cn(b,"link",t),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function rb(t,r,o,u){var g=(g=F.current)?Kc(g):null;if(!g)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ho(o.href),o=jr(g).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ho(o.href);var b=jr(g).hoistableStyles,q=b.get(t);if(q||(g=g.ownerDocument||g,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,q),(b=g.querySelector(ql(t)))&&!b._p&&(q.instance=b,q.state.loading=5),ir.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ir.set(t,o),b||w2(g,t,o,q.state))),r&&u===null)throw Error(i(528,""));return q}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(o),o=jr(g).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ho(t){return'href="'+An(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function ib(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function w2(t,r,o,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),cn(r,"link",o),Ut(r),t.head.appendChild(r))}function mo(t){return'[src="'+An(t)+'"]'}function Ul(t){return"script[async]"+t}function ab(t,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return r.instance=u,Ut(u),u;var g=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ut(u),cn(u,"style",g),Yc(u,o.precedence,t),r.instance=u;case"stylesheet":g=ho(o.href);var b=t.querySelector(ql(g));if(b)return r.state.loading|=4,r.instance=b,Ut(b),b;u=ib(o),(g=ir.get(g))&&cm(u,g),b=(t.ownerDocument||t).createElement("link"),Ut(b);var q=b;return q._p=new Promise(function(H,$){q.onload=H,q.onerror=$}),cn(b,"link",u),r.state.loading|=4,Yc(b,o.precedence,t),r.instance=b;case"script":return b=mo(o.src),(g=t.querySelector(Ul(b)))?(r.instance=g,Ut(g),g):(u=o,(g=ir.get(b))&&(u=m({},o),fm(u,g)),t=t.ownerDocument||t,g=t.createElement("script"),Ut(g),cn(g,"link",u),t.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Yc(u,o.precedence,t));return r.instance}function Yc(t,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,q=0;q<u.length;q++){var H=u[q];if(H.dataset.precedence===r)b=H;else if(b!==g)break}b?b.parentNode.insertBefore(t,b.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(t,r.firstChild))}function cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function fm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Qc=null;function sb(t,r,o){if(Qc===null){var u=new Map,g=Qc=new Map;g.set(o,u)}else g=Qc,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),g=0;g<o.length;g++){var b=o[g];if(!(b[Lr]||b[qt]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var q=b.getAttribute(r)||"";q=t+q;var H=u.get(q);H?H.push(b):u.set(q,[b])}}return u}function ob(t,r,o){t=t.ownerDocument||t,t.head.insertBefore(o,r==="title"?t.querySelector("head > title"):null)}function A2(t,r,o){if(o===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function S2(t,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=ho(u.href),b=r.querySelector(ql(g));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Xc.bind(t),r.then(t,t)),o.state.loading|=4,o.instance=b,Ut(b);return}b=r.ownerDocument||r,u=ib(u),(g=ir.get(g))&&cm(u,g),b=b.createElement("link"),Ut(b);var q=b;q._p=new Promise(function(H,$){q.onload=H,q.onerror=$}),cn(b,"link",u),o.instance=b}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Xc.bind(t),r.addEventListener("load",o),r.addEventListener("error",o))}}var hm=0;function x2(t,r){return t.stylesheets&&t.count===0&&Zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend){var b=t.unsuspend;t.unsuspend=null,b()}},6e4+r);0<t.imgBytes&&hm===0&&(hm=62500*s2());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend)){var b=t.unsuspend;t.unsuspend=null,b()}},(t.imgBytes>hm?50:800)+r);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function Zc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,r.forEach(R2,t),Wc=null,Xc.call(t))}function R2(t,r){if(!(r.state.loading&4)){var o=Wc.get(t);if(o)var u=o.get(null);else{o=new Map,Wc.set(t,o);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var q=g[b];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(o.set(q.dataset.precedence,q),u=q)}u&&o.set(null,u)}g=r.instance,q=g.getAttribute("data-precedence"),b=o.get(q)||u,b===u&&o.set(null,g),o.set(q,g),this.count++,u=Xc.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),r.state.loading|=4}}var Bl={$$typeof:I,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function N2(t,r,o,u,g,b,q,H,$){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function ub(t,r,o,u,g,b,q,H,$,ce,ye,be){return t=new N2(t,r,o,q,$,ce,ye,be,H),r=1,b===!0&&(r|=24),b=Vn(3,null,null,r),t.current=b,b.stateNode=t,r=Gh(),r.refCount++,t.pooledCache=r,r.refCount++,b.memoizedState={element:u,isDehydrated:o,cache:r},Xh(b),t}function cb(t){return t?(t=Fs,t):Fs}function fb(t,r,o,u,g,b){g=cb(g),u.context===null?u.context=g:u.pendingContext=g,u=$i(r),u.payload={element:o},b=b===void 0?null:b,b!==null&&(u.callback=b),o=ea(t,u,r),o!==null&&(Cn(o,t,r),_l(o,t,r))}function hb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function dm(t,r){hb(t,r),(t=t.alternate)&&hb(t,r)}function db(t){if(t.tag===13||t.tag===31){var r=Za(t,67108864);r!==null&&Cn(r,t,67108864),dm(t,67108864)}}function mb(t){if(t.tag===13||t.tag===31){var r=Hn();r=qa(r);var o=Za(t,r);o!==null&&Cn(o,t,r),dm(t,r)}}var Jc=!0;function O2(t,r,o,u){var g=Q.T;Q.T=null;var b=Z.p;try{Z.p=2,mm(t,r,o,u)}finally{Z.p=b,Q.T=g}}function C2(t,r,o,u){var g=Q.T;Q.T=null;var b=Z.p;try{Z.p=8,mm(t,r,o,u)}finally{Z.p=b,Q.T=g}}function mm(t,r,o,u){if(Jc){var g=pm(u);if(g===null)em(t,r,u,$c,o),gb(t,u);else if(D2(g,t,r,o,u))u.stopPropagation();else if(gb(t,u),r&4&&-1<I2.indexOf(t)){for(;g!==null;){var b=Yn(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var q=Ir(b.pendingLanes);if(q!==0){var H=b;for(H.pendingLanes|=2,H.entangledLanes|=2;q;){var $=1<<31-kt(q);H.entanglements[1]|=$,q&=~$}Wr(b),(ut&6)===0&&(Lc=Me()+500,Ll(0))}}break;case 31:case 13:H=Za(b,2),H!==null&&Cn(H,b,2),jc(),dm(b,2)}if(b=pm(u),b===null&&em(t,r,u,$c,o),b===g)break;g=b}g!==null&&u.stopPropagation()}else em(t,r,u,null,o)}}function pm(t){return t=Qn(t),gm(t)}var $c=null;function gm(t){if($c=null,t=Pr(t),t!==null){var r=l(t);if(r===null)t=null;else{var o=r.tag;if(o===13){if(t=c(r),t!==null)return t;t=null}else if(o===31){if(t=h(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return $c=t,null}function pb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case $t:return 2;case En:return 8;case at:case Go:return 32;case Et:return 268435456;default:return 32}default:return 32}}var ym=!1,fa=null,ha=null,da=null,zl=new Map,Hl=new Map,ma=[],I2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gb(t,r){switch(t){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function Fl(t,r,o,u,g,b){return t===null||t.nativeEvent!==b?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},r!==null&&(r=Yn(r),r!==null&&db(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),t)}function D2(t,r,o,u,g){switch(r){case"focusin":return fa=Fl(fa,t,r,o,u,g),!0;case"dragenter":return ha=Fl(ha,t,r,o,u,g),!0;case"mouseover":return da=Fl(da,t,r,o,u,g),!0;case"pointerover":var b=g.pointerId;return zl.set(b,Fl(zl.get(b)||null,t,r,o,u,g)),!0;case"gotpointercapture":return b=g.pointerId,Hl.set(b,Fl(Hl.get(b)||null,t,r,o,u,g)),!0}return!1}function yb(t){var r=Pr(t.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){t.blockedOn=r,mr(t.priority,function(){mb(o)});return}}else if(r===31){if(r=h(o),r!==null){t.blockedOn=r,mr(t.priority,function(){mb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ef(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=pm(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);rl=u,o.target.dispatchEvent(u),rl=null}else return r=Yn(o),r!==null&&db(r),t.blockedOn=o,!1;r.shift()}return!0}function vb(t,r,o){ef(t)&&o.delete(r)}function k2(){ym=!1,fa!==null&&ef(fa)&&(fa=null),ha!==null&&ef(ha)&&(ha=null),da!==null&&ef(da)&&(da=null),zl.forEach(vb),Hl.forEach(vb)}function tf(t,r){t.blockedOn===r&&(t.blockedOn=null,ym||(ym=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,k2)))}var nf=null;function _b(t){nf!==t&&(nf=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){nf===t&&(nf=null);for(var r=0;r<t.length;r+=3){var o=t[r],u=t[r+1],g=t[r+2];if(typeof u!="function"){if(gm(u||o)===null)continue;break}var b=Yn(o);b!==null&&(t.splice(r,3),r-=3,pd(b,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function po(t){function r($){return tf($,t)}fa!==null&&tf(fa,t),ha!==null&&tf(ha,t),da!==null&&tf(da,t),zl.forEach(r),Hl.forEach(r);for(var o=0;o<ma.length;o++){var u=ma[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ma.length&&(o=ma[0],o.blockedOn===null);)yb(o),o.blockedOn===null&&ma.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],b=o[u+1],q=g[en]||null;if(typeof b=="function")q||_b(o);else if(q){var H=null;if(b&&b.hasAttribute("formAction")){if(g=b,q=b[en]||null)H=q.formAction;else if(gm(g)!==null)continue}else H=q.action;typeof H=="function"?o[u+1]=H:(o.splice(u,3),u-=3),_b(o)}}}function bb(){function t(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(q){return g=q})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function vm(t){this._internalRoot=t}rf.prototype.render=vm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Hn();fb(o,u,t,r,null,null)},rf.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;fb(t.current,2,null,t,null,null),jc(),r[Mr]=null}};function rf(t){this._internalRoot=t}rf.prototype.unstable_scheduleHydration=function(t){if(t){var r=ju();t={blockedOn:null,target:t,priority:r};for(var o=0;o<ma.length&&r!==0&&r<ma[o].priority;o++);ma.splice(o,0,t),o===0&&yb(t)}};var Eb=e.version;if(Eb!=="19.2.1")throw Error(i(527,Eb,"19.2.1"));Z.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var M2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{hr=af.inject(M2),an=af}catch{}}return Kl.createRoot=function(t,r){if(!s(t))throw Error(i(299));var o=!1,u="",g=N_,b=O_,q=C_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(q=r.onRecoverableError)),r=ub(t,1,!1,null,null,o,u,null,g,b,q,bb),t[Mr]=r.current,$d(t),new vm(r)},Kl.hydrateRoot=function(t,r,o){if(!s(t))throw Error(i(299));var u=!1,g="",b=N_,q=O_,H=C_,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(q=o.onCaughtError),o.onRecoverableError!==void 0&&(H=o.onRecoverableError),o.formState!==void 0&&($=o.formState)),r=ub(t,1,!0,r,o??null,u,g,$,b,q,H,bb),r.context=cb(null),o=r.current,u=Hn(),u=qa(u),g=$i(u),g.callback=null,ea(o,g,u),o=u,r.current.lanes=o,ja(r,o),Wr(r),t[Mr]=r.current,$d(t),new rf(r)},Kl.version="19.2.1",Kl}var Ib;function F2(){if(Ib)return Em.exports;Ib=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Em.exports=H2(),Em.exports}var G2=F2();var Db="popstate";function K2(a={}){function e(s,l){let{pathname:c="/",search:h="",hash:d=""}=bs(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),bg("",{pathname:c,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){let c=s.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:lu(l))}function i(s,l){Gn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Q2(e,n,i,a)}function Nt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Gn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y2(){return Math.random().toString(36).substring(2,10)}function kb(a,e){return{usr:a.state,key:a.key,idx:e}}function bg(a,e,n=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?bs(e):e,state:n,key:e&&e.key||i||Y2()}}function lu({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function bs(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function Q2(a,e,n,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,h="POP",d=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function m(){h="POP";let A=_(),E=A==null?null:A-p;p=A,d&&d({action:h,location:T.location,delta:E})}function y(A,E){h="PUSH";let w=bg(T.location,A,E);n&&n(w,A),p=_()+1;let I=kb(w,p),x=T.createHref(w);try{c.pushState(I,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(x)}l&&d&&d({action:h,location:T.location,delta:1})}function v(A,E){h="REPLACE";let w=bg(T.location,A,E);n&&n(w,A),p=_();let I=kb(w,p),x=T.createHref(w);c.replaceState(I,"",x),l&&d&&d({action:h,location:T.location,delta:0})}function S(A){return X2(A)}let T={get action(){return h},get location(){return a(s,c)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Db,m),d=A,()=>{s.removeEventListener(Db,m),d=null}},createHref(A){return e(s,A)},createURL:S,encodeLocation(A){let E=S(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:v,go(A){return c.go(A)}};return T}function X2(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:lu(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function rw(a,e,n="/"){return W2(a,e,n,!1)}function W2(a,e,n,i){let s=typeof e=="string"?bs(e):e,l=Ci(s.pathname||"/",n);if(l==null)return null;let c=iw(a);Z2(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=lR(l);h=sR(c[d],p,i)}return h}function iw(a,e=[],n=[],i="",s=!1){let l=(c,h,d=s,p)=>{let _={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&d)return;Nt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let m=Ri([i,_.relativePath]),y=n.concat(_);c.children&&c.children.length>0&&(Nt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),iw(c.children,e,y,m,d)),!(c.path==null&&!c.index)&&e.push({path:m,score:iR(m,c.index),routesMeta:y})};return a.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of aw(c.path))l(c,h,!0,d)}),e}function aw(a){let e=a.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=aw(i.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),s&&h.push(...c),h.map(d=>a.startsWith("/")&&d===""?"/":d)}function Z2(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:aR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var J2=/^:[\w-]+$/,$2=3,eR=2,tR=1,nR=10,rR=-2,Mb=a=>a==="*";function iR(a,e){let n=a.split("/"),i=n.length;return n.some(Mb)&&(i+=rR),e&&(i+=eR),n.filter(s=>!Mb(s)).reduce((s,l)=>s+(J2.test(l)?$2:l===""?tR:nR),i)}function aR(a,e){return a.length===e.length&&a.slice(0,-1).every((i,s)=>i===e[s])?a[a.length-1]-e[e.length-1]:0}function sR(a,e,n=!1){let{routesMeta:i}=a,s={},l="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",m=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),y=d.route;if(!m&&p&&n&&!i[i.length-1].route.index&&(m=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!m)return null;Object.assign(s,m.params),c.push({params:s,pathname:Ri([l,m.pathname]),pathnameBase:dR(Ri([l,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(l=Ri([l,m.pathnameBase]))}return c}function Of(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,i]=oR(a.path,a.caseSensitive,a.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:m},y)=>{if(_==="*"){let S=h[y]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const v=h[y];return m&&!v?p[_]=void 0:p[_]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:a}}function oR(a,e=!1,n=!0){Gn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],s="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),s+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":a!==""&&a!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function lR(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Ci(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=a.charAt(n);return i&&i!=="/"?null:a.slice(n)||"/"}var uR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cR=a=>uR.test(a);function fR(a,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof a=="string"?bs(a):a,l;if(n)if(cR(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Lb(n.substring(1),"/"):l=Lb(n,e)}else l=e;return{pathname:l,search:mR(i),hash:pR(s)}}function Lb(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sm(a,e,n,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hR(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qg(a){let e=hR(a);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Xg(a,e,n,i=!1){let s;typeof a=="string"?s=bs(a):(s={...a},Nt(!s.pathname||!s.pathname.includes("?"),Sm("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),Sm("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),Sm("#","search","hash",s)));let l=a===""||s.pathname==="",c=l?"/":s.pathname,h;if(c==null)h=n;else{let m=e.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}h=m>=0?e[m]:"/"}let d=fR(s,h),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}var Ri=a=>a.join("/").replace(/\/\/+/g,"/"),dR=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),mR=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,pR=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function gR(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function yR(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sw=["POST","PUT","PATCH","DELETE"];new Set(sw);var vR=["GET",...sw];new Set(vR);var ko=ae.createContext(null);ko.displayName="DataRouter";var Xf=ae.createContext(null);Xf.displayName="DataRouterState";ae.createContext(!1);var ow=ae.createContext({isTransitioning:!1});ow.displayName="ViewTransition";var _R=ae.createContext(new Map);_R.displayName="Fetchers";var bR=ae.createContext(null);bR.displayName="Await";var cr=ae.createContext(null);cr.displayName="Navigation";var _u=ae.createContext(null);_u.displayName="Location";var fr=ae.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var Wg=ae.createContext(null);Wg.displayName="RouteError";function ER(a,{relative:e}={}){Nt(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=ae.useContext(cr),{hash:s,pathname:l,search:c}=bu(a,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ri([n,l])),i.createHref({pathname:h,search:c,hash:s})}function Mo(){return ae.useContext(_u)!=null}function Da(){return Nt(Mo(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(_u).location}var lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uw(a){ae.useContext(cr).static||ae.useLayoutEffect(a)}function ka(){let{isDataRoute:a}=ae.useContext(fr);return a?PR():TR()}function TR(){Nt(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let a=ae.useContext(ko),{basename:e,navigator:n}=ae.useContext(cr),{matches:i}=ae.useContext(fr),{pathname:s}=Da(),l=JSON.stringify(Qg(i)),c=ae.useRef(!1);return uw(()=>{c.current=!0}),ae.useCallback((d,p={})=>{if(Gn(c.current,lw),!c.current)return;if(typeof d=="number"){n.go(d);return}let _=Xg(d,JSON.parse(l),s,p.relative==="path");a==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ri([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,l,s,a])}var wR=ae.createContext(null);function AR(a){let e=ae.useContext(fr).outlet;return ae.useMemo(()=>e&&ae.createElement(wR.Provider,{value:a},e),[e,a])}function cw(){let{matches:a}=ae.useContext(fr),e=a[a.length-1];return e?e.params:{}}function bu(a,{relative:e}={}){let{matches:n}=ae.useContext(fr),{pathname:i}=Da(),s=JSON.stringify(Qg(n));return ae.useMemo(()=>Xg(a,JSON.parse(s),i,e==="path"),[a,s,i,e])}function SR(a,e){return fw(a,e)}function fw(a,e,n,i,s){Nt(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=ae.useContext(cr),{matches:c}=ae.useContext(fr),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",_=h?h.pathnameBase:"/",m=h&&h.route;{let w=m&&m.path||"";hw(p,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=Da(),v;if(e){let w=typeof e=="string"?bs(e):e;Nt(_==="/"||w.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=y;let S=v.pathname||"/",T=S;if(_!=="/"){let w=_.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(w.length).join("/")}let A=rw(a,{pathname:T});Gn(m||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Gn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=CR(A&&A.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Ri([_,l.encodeLocation?l.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?_:Ri([_,l.encodeLocation?l.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),c,n,i,s);return e&&E?ae.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function xR(){let a=LR(),e=gR(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:l},"ErrorBoundary")," or"," ",ae.createElement("code",{style:l},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?ae.createElement("pre",{style:s},n):null,c)}var RR=ae.createElement(xR,null),NR=class extends ae.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?ae.createElement(fr.Provider,{value:this.props.routeContext},ae.createElement(Wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OR({routeContext:a,match:e,children:n}){let i=ae.useContext(ko);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(fr.Provider,{value:a},n)}function CR(a,e=[],n=null,i=null,s=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let l=a,c=n?.errors;if(c!=null){let _=l.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Nt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let h=!1,d=-1;if(n)for(let _=0;_<l.length;_++){let m=l[_];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=_),m.route.id){let{loaderData:y,errors:v}=n,S=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&i?(_,m)=>{i(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:yR(n.matches),errorInfo:m})}:void 0;return l.reduceRight((_,m,y)=>{let v,S=!1,T=null,A=null;n&&(v=c&&m.route.id?c[m.route.id]:void 0,T=m.route.errorElement||RR,h&&(d<0&&y===0?(hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):d===y&&(S=!0,A=m.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,y+1)),w=()=>{let I;return v?I=T:S?I=A:m.route.Component?I=ae.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=_,ae.createElement(OR,{match:m,routeContext:{outlet:_,matches:E,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?ae.createElement(NR,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:p}):w()},null)}function Zg(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IR(a){let e=ae.useContext(ko);return Nt(e,Zg(a)),e}function DR(a){let e=ae.useContext(Xf);return Nt(e,Zg(a)),e}function kR(a){let e=ae.useContext(fr);return Nt(e,Zg(a)),e}function Jg(a){let e=kR(a),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function MR(){return Jg("useRouteId")}function LR(){let a=ae.useContext(Wg),e=DR("useRouteError"),n=Jg("useRouteError");return a!==void 0?a:e.errors?.[n]}function PR(){let{router:a}=IR("useNavigate"),e=Jg("useNavigate"),n=ae.useRef(!1);return uw(()=>{n.current=!0}),ae.useCallback(async(s,l={})=>{Gn(n.current,lw),n.current&&(typeof s=="number"?await a.navigate(s):await a.navigate(s,{fromRouteId:e,...l}))},[a,e])}var Pb={};function hw(a,e,n){!e&&!Pb[a]&&(Pb[a]=!0,Gn(!1,n))}ae.memo(jR);function jR({routes:a,future:e,state:n,unstable_onError:i}){return fw(a,void 0,n,i,e)}function VR({to:a,replace:e,state:n,relative:i}){Nt(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=ae.useContext(cr);Gn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=ae.useContext(fr),{pathname:c}=Da(),h=ka(),d=Xg(a,Qg(l),c,i==="path"),p=JSON.stringify(d);return ae.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function qR(a){return AR(a.context)}function In(a){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UR({basename:a="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){Nt(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),d=ae.useMemo(()=>({basename:h,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[h,s,l,c]);typeof n=="string"&&(n=bs(n));let{pathname:p="/",search:_="",hash:m="",state:y=null,key:v="default"}=n,S=ae.useMemo(()=>{let T=Ci(p,h);return T==null?null:{location:{pathname:T,search:_,hash:m,state:y,key:v},navigationType:i}},[h,p,_,m,y,v,i]);return Gn(S!=null,`<Router basename="${h}"> is not able to match the URL "${p}${_}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:ae.createElement(cr.Provider,{value:d},ae.createElement(_u.Provider,{children:e,value:S}))}function BR({children:a,location:e}){return SR(Eg(a),e)}function Eg(a,e=[]){let n=[];return ae.Children.forEach(a,(i,s)=>{if(!ae.isValidElement(i))return;let l=[...e,s];if(i.type===ae.Fragment){n.push.apply(n,Eg(i.props.children,l));return}Nt(i.type===In,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Eg(i.props.children,l)),n.push(c)}),n}var gf="get",yf="application/x-www-form-urlencoded";function Wf(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function zR(a){return Wf(a)&&a.tagName.toLowerCase()==="button"}function HR(a){return Wf(a)&&a.tagName.toLowerCase()==="form"}function FR(a){return Wf(a)&&a.tagName.toLowerCase()==="input"}function GR(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function KR(a,e){return a.button===0&&(!e||e==="_self")&&!GR(a)}var of=null;function YR(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var QR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(a){return a!=null&&!QR.has(a)?(Gn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):a}function XR(a,e){let n,i,s,l,c;if(HR(a)){let h=a.getAttribute("action");i=h?Ci(h,e):null,n=a.getAttribute("method")||gf,s=xm(a.getAttribute("enctype"))||yf,l=new FormData(a)}else if(zR(a)||FR(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||h.getAttribute("action");if(i=d?Ci(d,e):null,n=a.getAttribute("formmethod")||h.getAttribute("method")||gf,s=xm(a.getAttribute("formenctype"))||xm(h.getAttribute("enctype"))||yf,l=new FormData(h,a),!YR()){let{name:p,type:_,value:m}=a;if(_==="image"){let y=p?`${p}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else p&&l.append(p,m)}}else{if(Wf(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,i=null,s=yf,c=a}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function WR(a,e,n){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Ci(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function ZR(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JR(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function $R(a,e,n){let i=await Promise.all(a.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await ZR(l,n);return c.links?c.links():[]}return[]}));return rN(i.flat(1).filter(JR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function jb(a,e,n,i,s,l){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let _=i.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function eN(a,e,{includeHydrateFallback:n}={}){return tN(a.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function tN(a){return[...new Set(a)]}function nN(a){let e={},n=Object.keys(a).sort();for(let i of n)e[i]=a[i];return e}function rN(a,e){let n=new Set;return new Set(e),a.reduce((i,s)=>{let l=JSON.stringify(nN(s));return n.has(l)||(n.add(l),i.push({key:l,link:s})),i},[])}function dw(){let a=ae.useContext(ko);return $g(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function iN(){let a=ae.useContext(Xf);return $g(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var ey=ae.createContext(void 0);ey.displayName="FrameworkContext";function mw(){let a=ae.useContext(ey);return $g(a,"You must render this element inside a <HydratedRouter> element"),a}function aN(a,e){let n=ae.useContext(ey),[i,s]=ae.useState(!1),[l,c]=ae.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:_,onTouchStart:m}=e,y=ae.useRef(null);ae.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let T=E=>{E.forEach(w=>{c(w.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[a]),ae.useEffect(()=>{if(i){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[i]);let v=()=>{s(!0)},S=()=>{s(!1),c(!1)};return n?a!=="intent"?[l,y,{}]:[l,y,{onFocus:Yl(h,v),onBlur:Yl(d,S),onMouseEnter:Yl(p,v),onMouseLeave:Yl(_,S),onTouchStart:Yl(m,v)}]:[!1,y,{}]}function Yl(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function sN({page:a,...e}){let{router:n}=dw(),i=ae.useMemo(()=>rw(n.routes,a,n.basename),[n.routes,a,n.basename]);return i?ae.createElement(lN,{page:a,matches:i,...e}):null}function oN(a){let{manifest:e,routeModules:n}=mw(),[i,s]=ae.useState([]);return ae.useEffect(()=>{let l=!1;return $R(a,e,n).then(c=>{l||s(c)}),()=>{l=!0}},[a,e,n]),i}function lN({page:a,matches:e,...n}){let i=Da(),{manifest:s,routeModules:l}=mw(),{basename:c}=dw(),{loaderData:h,matches:d}=iN(),p=ae.useMemo(()=>jb(a,e,d,s,i,"data"),[a,e,d,s,i]),_=ae.useMemo(()=>jb(a,e,d,s,i,"assets"),[a,e,d,s,i]),m=ae.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let S=new Set,T=!1;if(e.forEach(E=>{let w=s.routes[E.route.id];!w||!w.hasLoader||(!p.some(I=>I.route.id===E.route.id)&&E.route.id in h&&l[E.route.id]?.shouldRevalidate||w.hasClientLoader?T=!0:S.add(E.route.id))}),S.size===0)return[];let A=WR(a,c,"data");return T&&S.size>0&&A.searchParams.set("_routes",e.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[A.pathname+A.search]},[c,h,i,s,p,e,a,l]),y=ae.useMemo(()=>eN(_,s),[_,s]),v=oN(_);return ae.createElement(ae.Fragment,null,m.map(S=>ae.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>ae.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:T})=>ae.createElement("link",{key:S,nonce:n.nonce,...T})))}function uN(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pw&&(window.__reactRouterVersion="7.10.1")}catch{}function cN({basename:a,children:e,unstable_useTransitions:n,window:i}){let s=ae.useRef();s.current==null&&(s.current=K2({window:i,v5Compat:!0}));let l=s.current,[c,h]=ae.useState({action:l.action,location:l.location}),d=ae.useCallback(p=>{n===!1?h(p):ae.startTransition(()=>h(p))},[n]);return ae.useLayoutEffect(()=>l.listen(d),[l,d]),ae.createElement(UR,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n===!0})}var gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=ae.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:h,target:d,to:p,preventScrollReset:_,viewTransition:m,...y},v){let{basename:S,unstable_useTransitions:T}=ae.useContext(cr),A=typeof p=="string"&&gw.test(p),E,w=!1;if(typeof p=="string"&&A&&(E=p,pw))try{let D=new URL(window.location.href),R=p.startsWith("//")?new URL(D.protocol+p):new URL(p),M=Ci(R.pathname,S);R.origin===D.origin&&M!=null?p=M+R.search+R.hash:w=!0}catch{Gn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=ER(p,{relative:s}),[x,j,B]=aN(i,y),N=dN(p,{replace:c,state:h,target:d,preventScrollReset:_,relative:s,viewTransition:m,unstable_useTransitions:T});function O(D){e&&e(D),D.defaultPrevented||N(D)}let P=ae.createElement("a",{...y,...B,href:E||I,onClick:w||l?e:O,ref:uN(v,j),target:d,"data-discover":!A&&n==="render"?"true":void 0});return x&&!A?ae.createElement(ae.Fragment,null,P,ae.createElement(sN,{page:I})):P});hn.displayName="Link";var yw=ae.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:h,children:d,...p},_){let m=bu(c,{relative:p.relative}),y=Da(),v=ae.useContext(Xf),{navigator:S,basename:T}=ae.useContext(cr),A=v!=null&&vN(m)&&h===!0,E=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,w=y.pathname,I=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(w=w.toLowerCase(),I=I?I.toLowerCase():null,E=E.toLowerCase()),I&&T&&(I=Ci(I,T)||I);const x=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let j=w===E||!s&&w.startsWith(E)&&w.charAt(x)==="/",B=I!=null&&(I===E||!s&&I.startsWith(E)&&I.charAt(E.length)==="/"),N={isActive:j,isPending:B,isTransitioning:A},O=j?e:void 0,P;typeof i=="function"?P=i(N):P=[i,j?"active":null,B?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(N):l;return ae.createElement(hn,{...p,"aria-current":O,className:P,ref:_,style:D,to:c,viewTransition:h},typeof d=="function"?d(N):d)});yw.displayName="NavLink";var fN=ae.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:l,method:c=gf,action:h,onSubmit:d,relative:p,preventScrollReset:_,viewTransition:m,...y},v)=>{let{unstable_useTransitions:S}=ae.useContext(cr),T=gN(),A=yN(h,{relative:p}),E=c.toLowerCase()==="get"?"get":"post",w=typeof h=="string"&&gw.test(h),I=x=>{if(d&&d(x),x.defaultPrevented)return;x.preventDefault();let j=x.nativeEvent.submitter,B=j?.getAttribute("formmethod")||c,N=()=>T(j||x.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:l,relative:p,preventScrollReset:_,viewTransition:m});S&&n!==!1?ae.startTransition(()=>N()):N()};return ae.createElement("form",{ref:v,method:E,action:A,onSubmit:i?d:I,...y,"data-discover":!w&&a==="render"?"true":void 0})});fN.displayName="Form";function hN(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vw(a){let e=ae.useContext(ko);return Nt(e,hN(a)),e}function dN(a,{target:e,replace:n,state:i,preventScrollReset:s,relative:l,viewTransition:c,unstable_useTransitions:h}={}){let d=ka(),p=Da(),_=bu(a,{relative:l});return ae.useCallback(m=>{if(KR(m,e)){m.preventDefault();let y=n!==void 0?n:lu(p)===lu(_),v=()=>d(a,{replace:y,state:i,preventScrollReset:s,relative:l,viewTransition:c});h?ae.startTransition(()=>v()):v()}},[p,d,_,n,i,e,a,s,l,c,h])}var mN=0,pN=()=>`__${String(++mN)}__`;function gN(){let{router:a}=vw("useSubmit"),{basename:e}=ae.useContext(cr),n=MR(),i=a.fetch,s=a.navigate;return ae.useCallback(async(l,c={})=>{let{action:h,method:d,encType:p,formData:_,body:m}=XR(l,e);if(c.navigate===!1){let y=c.fetcherKey||pN();await i(y,n,c.action||h,{preventScrollReset:c.preventScrollReset,formData:_,body:m,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await s(c.action||h,{preventScrollReset:c.preventScrollReset,formData:_,body:m,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,n])}function yN(a,{relative:e}={}){let{basename:n}=ae.useContext(cr),i=ae.useContext(fr);Nt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...bu(a||".",{relative:e})},c=Da();if(a==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(m=>m).forEach(m=>h.append("index",m));let _=h.toString();l.search=_?`?${_}`:""}}return(!a||a===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ri([n,l.pathname])),lu(l)}function vN(a,{relative:e}={}){let n=ae.useContext(ow);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vw("useViewTransitionState"),s=bu(a,{relative:e});if(!n.isTransitioning)return!1;let l=Ci(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ci(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Of(s.pathname,c)!=null||Of(s.pathname,l)!=null}const _N=()=>{};var Vb={};const _w=function(a){const e=[];let n=0;for(let i=0;i<a.length;i++){let s=a.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(a.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bN=function(a){const e=[];let n=0,i=0;for(;n<a.length;){const s=a[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=a[n++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=a[n++],c=a[n++],h=a[n++],d=((s&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=a[n++],c=a[n++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<a.length;s+=3){const l=a[s],c=s+1<a.length,h=c?a[s+1]:0,d=s+2<a.length,p=d?a[s+2]:0,_=l>>2,m=(l&3)<<4|h>>4;let y=(h&15)<<2|p>>6,v=p&63;d||(v=64,c||(y=64)),i.push(n[_],n[m],n[y],n[v])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(_w(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):bN(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<a.length;){const l=n[a.charAt(s++)],h=s<a.length?n[a.charAt(s)]:0;++s;const p=s<a.length?n[a.charAt(s)]:64;++s;const m=s<a.length?n[a.charAt(s)]:64;if(++s,l==null||h==null||p==null||m==null)throw new EN;const y=l<<2|h>>4;if(i.push(y),p!==64){const v=h<<4&240|p>>2;if(i.push(v),m!==64){const S=p<<6&192|m;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class EN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(a){const e=_w(a);return bw.encodeByteArray(e,!0)},Cf=function(a){return TN(a).replace(/\./g,"")},Ew=function(a){try{return bw.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AN=()=>wN().__FIREBASE_DEFAULTS__,SN=()=>{if(typeof process>"u"||typeof Vb>"u")return;const a=Vb.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},xN=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Ew(a[1]);return e&&JSON.parse(e)},Zf=()=>{try{return _N()||AN()||SN()||xN()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Tw=a=>Zf()?.emulatorHosts?.[a],RN=a=>{const e=Tw(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ww=()=>Zf()?.config,Aw=a=>Zf()?.[`_${a}`];class NN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Lo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sw(a){return(await fetch(a,{credentials:"include"})).ok}function ON(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=a.iat||0,l=a.sub||a.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Cf(JSON.stringify(n)),Cf(JSON.stringify(c)),""].join(".")}const nu={};function CN(){const a={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?a.emulator.push(e):a.prod.push(e);return a}function IN(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let qb=!1;function xw(a,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||nu[a]===e||nu[a]||qb)return;nu[a]=e;function n(y){return`__firebase__banner__${y}`}const i="__firebase__banner",l=CN().prod.length>0;function c(){const y=document.getElementById(i);y&&y.remove()}function h(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{qb=!0,c()},y}function _(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=IN(i),v=n("text"),S=document.getElementById(v)||document.createElement("span"),T=n("learnmore"),A=document.getElementById(T)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const I=y.element;h(I),_(A,T);const x=p();d(w,E),I.append(w,S,A,x),document.body.appendChild(I)}l?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function kN(){const a=Zf()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LN(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jN(){const a=_n();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function VN(){return!kN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qN(){try{return typeof indexedDB=="object"}catch{return!1}}function UN(){return new Promise((a,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const BN="FirebaseError";class Pi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=BN,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?zN(l,i):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new Pi(s,h,i)}}function zN(a,e){return a.replace(HN,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const HN=/\{\$([^}]+)}/g;function FN(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function ms(a,e){if(a===e)return!0;const n=Object.keys(a),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const l=a[s],c=e[s];if(Ub(l)&&Ub(c)){if(!ms(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Ub(a){return a!==null&&typeof a=="object"}function Tu(a){const e=[];for(const[n,i]of Object.entries(a))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ql(a){const e={};return a.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Xl(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function GN(a,e){const n=new KN(a,e);return n.subscribe.bind(n)}class KN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");YN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Rm),s.error===void 0&&(s.error=Rm),s.complete===void 0&&(s.complete=Rm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YN(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function Rm(){}function bn(a){return a&&a._delegate?a._delegate:a}class ps{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cs="[DEFAULT]";class QN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new NN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WN(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XN(a){return a===cs?void 0:a}function WN(a){return a.instantiationMode==="EAGER"}class ZN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})($e||($e={}));const JN={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},$N=$e.INFO,eO={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},tO=(a,e,...n)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),s=eO[e];if(s)console[s](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=$N,this._logHandler=tO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const nO=(a,e)=>e.some(n=>a instanceof n);let Bb,zb;function rO(){return Bb||(Bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rw=new WeakMap,Tg=new WeakMap,Nw=new WeakMap,Nm=new WeakMap,ny=new WeakMap;function aO(a){const e=new Promise((n,i)=>{const s=()=>{a.removeEventListener("success",l),a.removeEventListener("error",c)},l=()=>{n(Ea(a.result)),s()},c=()=>{i(a.error),s()};a.addEventListener("success",l),a.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Rw.set(n,a)}).catch(()=>{}),ny.set(e,a),e}function sO(a){if(Tg.has(a))return;const e=new Promise((n,i)=>{const s=()=>{a.removeEventListener("complete",l),a.removeEventListener("error",c),a.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{i(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",l),a.addEventListener("error",c),a.addEventListener("abort",c)});Tg.set(a,e)}let wg={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Tg.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Nw.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ea(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function oO(a){wg=a(wg)}function lO(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=a.call(Om(this),e,...n);return Nw.set(i,e.sort?e.sort():[e]),Ea(i)}:iO().includes(a)?function(...e){return a.apply(Om(this),e),Ea(Rw.get(this))}:function(...e){return Ea(a.apply(Om(this),e))}}function uO(a){return typeof a=="function"?lO(a):(a instanceof IDBTransaction&&sO(a),nO(a,rO())?new Proxy(a,wg):a)}function Ea(a){if(a instanceof IDBRequest)return aO(a);if(Nm.has(a))return Nm.get(a);const e=uO(a);return e!==a&&(Nm.set(a,e),ny.set(e,a)),e}const Om=a=>ny.get(a);function cO(a,e,{blocked:n,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(a,e),h=Ea(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ea(c.result),d.oldVersion,d.newVersion,Ea(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const fO=["get","getKey","getAll","getAllKeys","count"],hO=["put","add","delete","clear"],Cm=new Map;function Hb(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=hO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||fO.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,s?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return Cm.set(e,l),l}oO(a=>({...a,get:(e,n,i)=>Hb(e,n)||a.get(e,n,i),has:(e,n)=>!!Hb(e,n)||a.has(e,n)}));class dO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mO(a){return a.getComponent()?.type==="VERSION"}const Ag="@firebase/app",Fb="0.14.6";const Ii=new ty("@firebase/app"),pO="@firebase/app-compat",gO="@firebase/analytics-compat",yO="@firebase/analytics",vO="@firebase/app-check-compat",_O="@firebase/app-check",bO="@firebase/auth",EO="@firebase/auth-compat",TO="@firebase/database",wO="@firebase/data-connect",AO="@firebase/database-compat",SO="@firebase/functions",xO="@firebase/functions-compat",RO="@firebase/installations",NO="@firebase/installations-compat",OO="@firebase/messaging",CO="@firebase/messaging-compat",IO="@firebase/performance",DO="@firebase/performance-compat",kO="@firebase/remote-config",MO="@firebase/remote-config-compat",LO="@firebase/storage",PO="@firebase/storage-compat",jO="@firebase/firestore",VO="@firebase/ai",qO="@firebase/firestore-compat",UO="firebase",BO="12.6.0";const Sg="[DEFAULT]",zO={[Ag]:"fire-core",[pO]:"fire-core-compat",[yO]:"fire-analytics",[gO]:"fire-analytics-compat",[_O]:"fire-app-check",[vO]:"fire-app-check-compat",[bO]:"fire-auth",[EO]:"fire-auth-compat",[TO]:"fire-rtdb",[wO]:"fire-data-connect",[AO]:"fire-rtdb-compat",[SO]:"fire-fn",[xO]:"fire-fn-compat",[RO]:"fire-iid",[NO]:"fire-iid-compat",[OO]:"fire-fcm",[CO]:"fire-fcm-compat",[IO]:"fire-perf",[DO]:"fire-perf-compat",[kO]:"fire-rc",[MO]:"fire-rc-compat",[LO]:"fire-gcs",[PO]:"fire-gcs-compat",[jO]:"fire-fst",[qO]:"fire-fst-compat",[VO]:"fire-vertex","fire-js":"fire-js",[UO]:"fire-js-all"};const If=new Map,HO=new Map,xg=new Map;function Gb(a,e){try{a.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function So(a){const e=a.name;if(xg.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;xg.set(e,a);for(const n of If.values())Gb(n,a);for(const n of HO.values())Gb(n,a);return!0}function ry(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Fn(a){return a==null?!1:a.settings!==void 0}const FO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new Eu("app","Firebase",FO);class GO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}const Po=BO;function Ow(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const i={name:Sg,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Ta.create("bad-app-name",{appName:String(s)});if(n||(n=ww()),!n)throw Ta.create("no-options");const l=If.get(s);if(l){if(ms(n,l.options)&&ms(i,l.config))return l;throw Ta.create("duplicate-app",{appName:s})}const c=new ZN(s);for(const d of xg.values())c.addComponent(d);const h=new GO(n,i,c);return If.set(s,h),h}function Cw(a=Sg){const e=If.get(a);if(!e&&a===Sg&&ww())return Ow();if(!e)throw Ta.create("no-app",{appName:a});return e}function wa(a,e,n){let i=zO[a]??a;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(c.join(" "));return}So(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const KO="firebase-heartbeat-database",YO=1,uu="firebase-heartbeat-store";let Im=null;function Iw(){return Im||(Im=cO(KO,YO,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(a=>{throw Ta.create("idb-open",{originalErrorMessage:a.message})})),Im}async function QO(a){try{const n=(await Iw()).transaction(uu),i=await n.objectStore(uu).get(Dw(a));return await n.done,i}catch(e){if(e instanceof Pi)Ii.warn(e.message);else{const n=Ta.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(n.message)}}}async function Kb(a,e){try{const i=(await Iw()).transaction(uu,"readwrite");await i.objectStore(uu).put(e,Dw(a)),await i.done}catch(n){if(n instanceof Pi)Ii.warn(n.message);else{const i=Ta.create("idb-set",{originalErrorMessage:n?.message});Ii.warn(i.message)}}}function Dw(a){return`${a.name}!${a.options.appId}`}const XO=1024,WO=30;class ZO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $O(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>WO){const s=eC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yb(),{heartbeatsToSend:n,unsentEntries:i}=JO(this._heartbeatsCache.heartbeats),s=Cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ii.warn(e),""}}}function Yb(){return new Date().toISOString().substring(0,10)}function JO(a,e=XO){const n=[];let i=a.slice();for(const s of a){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Qb(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class $O{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qN()?UN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qb(a){return Cf(JSON.stringify({version:2,heartbeats:a})).length}function eC(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,e=i);return e}function tC(a){So(new ps("platform-logger",e=>new dO(e),"PRIVATE")),So(new ps("heartbeat",e=>new ZO(e),"PRIVATE")),wa(Ag,Fb,a),wa(Ag,Fb,"esm2020"),wa("fire-js","")}tC("");var nC="firebase",rC="12.6.0";wa(nC,rC,"app");function kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iC=kw,Mw=new Eu("auth","Firebase",kw());const Df=new ty("@firebase/auth");function aC(a,...e){Df.logLevel<=$e.WARN&&Df.warn(`Auth (${Po}): ${a}`,...e)}function vf(a,...e){Df.logLevel<=$e.ERROR&&Df.error(`Auth (${Po}): ${a}`,...e)}function lr(a,...e){throw ay(a,...e)}function Rr(a,...e){return ay(a,...e)}function iy(a,e,n){const i={...iC(),[e]:n};return new Eu("auth","Firebase",i).create(e,{appName:a.name})}function Ni(a){return iy(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sC(a,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&lr(a,"argument-error"),iy(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ay(a,...e){if(typeof a!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=a.name),a._errorFactory.create(n,...i)}return Mw.create(a,...e)}function Ve(a,e,...n){if(!a)throw ay(e,...n)}function Si(a){const e="INTERNAL ASSERTION FAILED: "+a;throw vf(e),new Error(e)}function Di(a,e){a||Si(e)}function Rg(){return typeof self<"u"&&self.location?.href||""}function oC(){return Xb()==="http:"||Xb()==="https:"}function Xb(){return typeof self<"u"&&self.location?.protocol||null}function lC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oC()||LN()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=DN()||PN()}get(){return lC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sy(a,e){Di(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Lw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hC=new wu(3e4,6e4);function Ma(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function ji(a,e,n,i,s={}){return Pw(a,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Tu({key:a.config.apiKey,...c}).slice(1),d=await a._getAdditionalHeaders();d["Content-Type"]="application/json",a.languageCode&&(d["X-Firebase-Locale"]=a.languageCode);const p={method:e,headers:d,...l};return MN()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&Lo(a.emulatorConfig.host)&&(p.credentials="include"),Lw.fetch()(await jw(a,a.config.apiHost,n,h),p)})}async function Pw(a,e,n){a._canInitEmulator=!1;const i={...cC,...e};try{const s=new mC(a),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw lf(a,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(a,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw lf(a,"email-already-in-use",c);if(d==="USER_DISABLED")throw lf(a,"user-disabled",c);const _=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw iy(a,_,p);lr(a,_)}}catch(s){if(s instanceof Pi)throw s;lr(a,"network-request-failed",{message:String(s)})}}async function Au(a,e,n,i,s={}){const l=await ji(a,e,n,i,s);return"mfaPendingCredential"in l&&lr(a,"multi-factor-auth-required",{_serverResponse:l}),l}async function jw(a,e,n,i){const s=`${e}${n}?${i}`,l=a,c=l.config.emulator?sy(a.config,s):`${a.config.apiScheme}://${s}`;return fC.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function dC(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Rr(this.auth,"network-request-failed")),hC.get())})}}function lf(a,e,n){const i={appName:a.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Rr(a,e,i);return s.customData._tokenResponse=n,s}function Wb(a){return a!==void 0&&a.enterprise!==void 0}class pC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gC(a,e){return ji(a,"GET","/v2/recaptchaConfig",Ma(a,e))}async function yC(a,e){return ji(a,"POST","/v1/accounts:delete",e)}async function kf(a,e){return ji(a,"POST","/v1/accounts:lookup",e)}function ru(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vC(a,e=!1){const n=bn(a),i=await n.getIdToken(e),s=oy(i);Ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:ru(Dm(s.auth_time)),issuedAtTime:ru(Dm(s.iat)),expirationTime:ru(Dm(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Dm(a){return Number(a)*1e3}function oy(a){const[e,n,i]=a.split(".");if(e===void 0||n===void 0||i===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ew(n);return s?JSON.parse(s):(vf("Failed to decode base64 JWT payload"),null)}catch(s){return vf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Zb(a){const e=oy(a);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xo(a,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Pi&&_C(i)&&a.auth.currentUser===a&&await a.auth.signOut(),i}}function _C({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class bC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mf(a){const e=a.auth,n=await a.getIdToken(),i=await xo(a,kf(e,{idToken:n}));Ve(i?.users.length,e,"internal-error");const s=i.users[0];a._notifyReloadListener(s);const l=s.providerUserInfo?.length?Vw(s.providerUserInfo):[],c=TC(a.providerData,l),h=a.isAnonymous,d=!(a.email&&s.passwordHash)&&!c?.length,p=h?d:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ng(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(a,_)}async function EC(a){const e=bn(a);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TC(a,e){return[...a.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Vw(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wC(a,e){const n=await Pw(a,{},async()=>{const i=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=a.config,c=await jw(a,s,"/v1/token",`key=${l}`),h=await a._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return a.emulatorConfig&&Lo(a.emulatorConfig.host)&&(d.credentials="include"),Lw.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AC(a,e){return ji(a,"POST","/v2/accounts:revokeToken",Ma(a,e))}class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=Zb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:l}=await wC(e,n);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:l}=n,c=new bo;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ve(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Si("not implemented")}}function ga(a,e){Ve(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new bC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ng(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vC(this,e)}reload(){return EC(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await xo(this,yC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:v,providerData:S,stsTokenManager:T}=n;Ve(m&&T,e,"internal-error");const A=bo.fromJSON(this.name,T);Ve(typeof m=="string",e,"internal-error"),ga(i,e.name),ga(s,e.name),Ve(typeof y=="boolean",e,"internal-error"),Ve(typeof v=="boolean",e,"internal-error"),ga(l,e.name),ga(c,e.name),ga(h,e.name),ga(d,e.name),ga(p,e.name),ga(_,e.name);const E=new Sr({uid:m,auth:e,email:s,emailVerified:y,displayName:i,isAnonymous:v,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:A,createdAt:p,lastLoginAt:_});return S&&Array.isArray(S)&&(E.providerData=S.map(w=>({...w}))),d&&(E._redirectEventId=d),E}static async _fromIdTokenResponse(e,n,i=!1){const s=new bo;s.updateFromServerResponse(n);const l=new Sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Mf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Ve(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Vw(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,h=new bo;h.updateFromIdToken(i);const d=new Sr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ng(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const Jb=new Map;function xi(a){Di(a instanceof Function,"Expected a class definition");let e=Jb.get(a);return e?(Di(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Jb.set(a,e),e)}class qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qw.type="NONE";const $b=qw;function _f(a,e,n){return`firebase:${a}:${e}:${n}`}class Eo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=_f(this.userKey,s.apiKey,l),this.fullPersistenceKey=_f("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kf(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Eo(xi($b),e,i);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||xi($b);const c=_f(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const _=await p._get(c);if(_){let m;if(typeof _=="string"){const y=await kf(e,{idToken:_}).catch(()=>{});if(!y)break;m=await Sr._fromGetAccountInfoResponse(e,y,_)}else m=Sr._fromJSON(e,_);p!==l&&(h=m),l=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Eo(l,e,i):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Eo(l,e,i))}}function e1(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gw(e))return"Blackberry";if(Kw(e))return"Webos";if(Bw(e))return"Safari";if((e.includes("chrome/")||zw(e))&&!e.includes("edge/"))return"Chrome";if(Fw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=a.match(n);if(i?.length===2)return i[1]}return"Other"}function Uw(a=_n()){return/firefox\//i.test(a)}function Bw(a=_n()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zw(a=_n()){return/crios\//i.test(a)}function Hw(a=_n()){return/iemobile/i.test(a)}function Fw(a=_n()){return/android/i.test(a)}function Gw(a=_n()){return/blackberry/i.test(a)}function Kw(a=_n()){return/webos/i.test(a)}function ly(a=_n()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function SC(a=_n()){return ly(a)&&!!window.navigator?.standalone}function xC(){return jN()&&document.documentMode===10}function Yw(a=_n()){return ly(a)||Fw(a)||Kw(a)||Gw(a)||/windows phone/i.test(a)||Hw(a)}function Qw(a,e=[]){let n;switch(a){case"Browser":n=e1(_n());break;case"Worker":n=`${e1(_n())}-${a}`;break;default:n=a}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${i}`}class RC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function NC(a,e={}){return ji(a,"GET","/v2/passwordPolicy",Ma(a,e))}const OC=6;class CC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class IC{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t1(this),this.idTokenSubscription=new t1(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kf(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Ni(this));const n=e?bn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NC(this),n=new CC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await AC(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,s);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function La(a){return bn(a)}class t1{constructor(e){this.auth=e,this.observer=null,this.addObserver=GN(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(a){Jf=a}function Xw(a){return Jf.loadJS(a)}function kC(){return Jf.recaptchaEnterpriseScript}function MC(){return Jf.gapiScript}function LC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class PC{constructor(){this.enterprise=new jC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VC="recaptcha-enterprise",Ww="NO_RECAPTCHA";class qC{constructor(e){this.type=VC,this.auth=La(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{gC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new pC(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function s(l,c,h){const d=window.grecaptcha;Wb(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Ww)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!n&&Wb(window.grecaptcha))s(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=kC();d.length!==0&&(d+=h),Xw(d).then(()=>{s(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function n1(a,e,n,i=!1,s=!1){const l=new qC(a);let c;if(s)c=Ww;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Og(a,e,n,i,s){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await n1(a,e,n,n==="getOobCode");return i(a,l)}else return i(a,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await n1(a,e,n,n==="getOobCode");return i(a,c)}else return Promise.reject(l)})}function UC(a,e){const n=ry(a,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(ms(l,e??{}))return s;lr(s,"already-initialized")}return n.initialize({options:e})}function BC(a,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(xi);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(i,e?.popupRedirectResolver)}function zC(a,e,n){const i=La(a);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Zw(e),{host:c,port:h}=HC(e),d=h===null?"":`:${h}`,p={url:`${l}//${c}${d}/`},_=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(ms(p,i.config.emulator)&&ms(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Lo(c)?(Sw(`${l}//${c}${d}`),xw("Auth",!0)):FC()}function Zw(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function HC(a){const e=Zw(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:r1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:r1(c)}}}function r1(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function FC(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class uy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function GC(a,e){return ji(a,"POST","/v1/accounts:signUp",e)}async function KC(a,e){return Au(a,"POST","/v1/accounts:signInWithPassword",Ma(a,e))}async function YC(a,e){return Au(a,"POST","/v1/accounts:signInWithEmailLink",Ma(a,e))}async function QC(a,e){return Au(a,"POST","/v1/accounts:signInWithEmailLink",Ma(a,e))}class cu extends uy{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new cu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,n,"signInWithPassword",KC);case"emailLink":return YC(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,i,"signUpPassword",GC);case"emailLink":return QC(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function To(a,e){return Au(a,"POST","/v1/accounts:signInWithIdp",Ma(a,e))}const XC="http://localhost";class gs extends uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...l}=n;if(!i||!s)return null;const c=new gs(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,To(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:XC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}function WC(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZC(a){const e=Ql(Xl(a)).link,n=e?Ql(Xl(e)).deep_link_id:null,i=Ql(Xl(a)).deep_link_id;return(i?Ql(Xl(i)).link:null)||i||n||e||a}class cy{constructor(e){const n=Ql(Xl(e)),i=n.apiKey??null,s=n.oobCode??null,l=WC(n.mode??null);Ve(i&&s&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZC(e);try{return new cy(n)}catch{return null}}}class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=cy.parseLink(n);return Ve(i,"argument-error"),cu._fromEmailAndCode(e,i.code,i.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Su extends fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ya extends Su{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";class Jr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Jr.credential(n,i)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";class va extends Su{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";class _a extends Su{constructor(){super("twitter.com")}static credential(e,n){return gs._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return _a.credential(n,i)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";async function JC(a,e){return Au(a,"POST","/v1/accounts:signUp",Ma(a,e))}class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const l=await Sr._fromIdTokenResponse(e,i,s),c=i1(i);return new ys({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=i1(i);return new ys({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function i1(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Lf extends Pi{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Lf(e,n,i,s)}}function Jw(a,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(a,l,e,i):l})}async function $C(a,e,n=!1){const i=await xo(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return ys._forOperation(a,"link",i)}async function eI(a,e,n=!1){const{auth:i}=a;if(Fn(i.app))return Promise.reject(Ni(i));const s="reauthenticate";try{const l=await xo(a,Jw(i,s,e,a),n);Ve(l.idToken,i,"internal-error");const c=oy(l.idToken);Ve(c,i,"internal-error");const{sub:h}=c;return Ve(a.uid===h,i,"user-mismatch"),ys._forOperation(a,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&lr(i,"user-mismatch"),l}}async function $w(a,e,n=!1){if(Fn(a.app))return Promise.reject(Ni(a));const i="signIn",s=await Jw(a,i,e),l=await ys._fromIdTokenResponse(a,i,s);return n||await a._updateCurrentUser(l.user),l}async function tI(a,e){return $w(La(a),e)}async function eA(a){const e=La(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nI(a,e,n){if(Fn(a.app))return Promise.reject(Ni(a));const i=La(a),c=await Og(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JC).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&eA(a),d}),h=await ys._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function rI(a,e,n){return Fn(a.app)?Promise.reject(Ni(a)):tI(bn(a),jo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&eA(a),i})}async function iI(a,e){return ji(a,"POST","/v1/accounts:update",e)}async function aI(a,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=bn(a),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await xo(i,iI(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function sI(a,e,n,i){return bn(a).onIdTokenChanged(e,n,i)}function oI(a,e,n){return bn(a).beforeAuthStateChanged(e,n)}function tA(a,e,n,i){return bn(a).onAuthStateChanged(e,n,i)}function lI(a){return bn(a).signOut()}const Pf="__sak";class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uI=1e3,cI=10;class rA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);xC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cI):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const fI=rA;class iA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iA.type="SESSION";const aA=iA;function hI(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new $f(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(c).map(async p=>p(n.origin,l)),d=await hI(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];function hy(a="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return a+n}class dI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const p=hy("",20);s.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(y.data.response);break;default:clearTimeout(_),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function $r(){return window}function mI(a){$r().location.href=a}function sA(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function pI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gI(){return navigator?.serviceWorker?.controller||null}function yI(){return sA()?self:null}const oA="firebaseLocalStorageDb",vI=1,jf="firebaseLocalStorage",lA="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eh(a,e){return a.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function _I(){const a=indexedDB.deleteDatabase(oA);return new xu(a).toPromise()}function Cg(){const a=indexedDB.open(oA,vI);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const i=a.result;try{i.createObjectStore(jf,{keyPath:lA})}catch(s){n(s)}}),a.addEventListener("success",async()=>{const i=a.result;i.objectStoreNames.contains(jf)?e(i):(i.close(),await _I(),e(await Cg()))})})}async function a1(a,e,n){const i=eh(a,!0).put({[lA]:e,value:n});return new xu(i).toPromise()}async function bI(a,e){const n=eh(a,!1).get(e),i=await new xu(n).toPromise();return i===void 0?null:i.value}function s1(a,e){const n=eh(a,!0).delete(e);return new xu(n).toPromise()}const EI=800,TI=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>TI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(yI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new dI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cg();return await a1(e,Pf,"1"),await s1(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>a1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=eh(s,!1).getAll();return new xu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const wI=uA;new wu(3e4,6e4);function cA(a,e){return e?xi(e):(Ve(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class dy extends uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AI(a){return $w(a.auth,new dy(a),a.bypassAuthState)}function SI(a){const{auth:e,user:n}=a;return Ve(n,e,"internal-error"),eI(n,new dy(a),a.bypassAuthState)}async function xI(a){const{auth:e,user:n}=a;return Ve(n,e,"internal-error"),$C(n,new dy(a),a.bypassAuthState)}class fA{constructor(e,n,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return xI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:lr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RI=new wu(2e3,1e4);async function hA(a,e,n){if(Fn(a.app))return Promise.reject(Rr(a,"operation-not-supported-in-this-environment"));const i=La(a);sC(a,e,fy);const s=cA(i,n);return new fs(i,"signInViaPopup",e,s).executeNotNull()}class fs extends fA{constructor(e,n,i,s,l){super(e,n,s,l),this.provider=i,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RI.get())};e()}}fs.currentPopupAction=null;const NI="pendingRedirect",bf=new Map;class OI extends fA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const i=await CI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CI(a,e){const n=kI(e),i=DI(a);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function II(a,e){bf.set(a._key(),e)}function DI(a){return xi(a._redirectPersistence)}function kI(a){return _f(NI,a.config.apiKey,a.name)}async function MI(a,e,n=!1){if(Fn(a.app))return Promise.reject(Ni(a));const i=La(a),s=cA(i,e),c=await new OI(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const LI=600*1e3;class PI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LI&&this.cachedEventUids.clear(),this.cachedEventUids.has(o1(e))}saveEventToCache(e){this.cachedEventUids.add(o1(e)),this.lastProcessedEventTime=Date.now()}}function o1(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function dA({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function jI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(a);default:return!1}}async function VI(a,e={}){return ji(a,"GET","/v1/projects",e)}const qI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function BI(a){if(a.config.emulator)return;const{authorizedDomains:e}=await VI(a);for(const n of e)try{if(zI(n))return}catch{}lr(a,"unauthorized-domain")}function zI(a){const e=Rg(),{protocol:n,hostname:i}=new URL(e);if(a.startsWith("chrome-extension://")){const c=new URL(a);return c.hostname===""&&i===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!UI.test(n))return!1;if(qI.test(a))return i===a;const s=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const HI=new wu(3e4,6e4);function l1(){const a=$r().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function FI(a){return new Promise((e,n)=>{function i(){l1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l1(),n(Rr(a,"network-request-failed"))},timeout:HI.get()})}if($r().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($r().gapi?.load)i();else{const s=LC("iframefcb");return $r()[s]=()=>{gapi.load?i():n(Rr(a,"network-request-failed"))},Xw(`${MC()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function GI(a){return Ef=Ef||FI(a),Ef}const KI=new wu(5e3,15e3),YI="__/auth/iframe",QI="emulator/auth/iframe",XI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZI(a){const e=a.config;Ve(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?sy(e,QI):`https://${a.config.authDomain}/${YI}`,i={apiKey:e.apiKey,appName:a.name,v:Po},s=WI.get(a.config.apiHost);s&&(i.eid=s);const l=a._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Tu(i).slice(1)}`}async function JI(a){const e=await GI(a),n=$r().gapi;return Ve(n,a,"internal-error"),e.open({where:document.body,url:ZI(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XI,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Rr(a,"network-request-failed"),h=$r().setTimeout(()=>{l(c)},KI.get());function d(){$r().clearTimeout(h),s(i)}i.ping(d).then(d,()=>{l(c)})}))}const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost";class u1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i4(a,e,n,i=e4,s=t4){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...$I,width:i.toString(),height:s.toString(),top:l,left:c},p=_n().toLowerCase();n&&(h=zw(p)?n4:n),Uw(p)&&(e=e||r4,d.scrollbars="yes");const _=Object.entries(d).reduce((y,[v,S])=>`${y}${v}=${S},`,"");if(SC(p)&&h!=="_self")return a4(e||"",h),new u1(null);const m=window.open(e||"",h,_);Ve(m,a,"popup-blocked");try{m.focus()}catch{}return new u1(m)}function a4(a,e){const n=document.createElement("a");n.href=a,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const s4="__/auth/handler",o4="emulator/auth/handler",l4=encodeURIComponent("fac");async function c1(a,e,n,i,s,l){Ve(a.config.authDomain,a,"auth-domain-config-required"),Ve(a.config.apiKey,a,"invalid-api-key");const c={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:i,v:Po,eventId:s};if(e instanceof fy){e.setDefaultLanguage(a.languageCode),c.providerId=e.providerId||"",FN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,m]of Object.entries({}))c[_]=m}if(e instanceof Su){const _=e.getScopes().filter(m=>m!=="");_.length>0&&(c.scopes=_.join(","))}a.tenantId&&(c.tid=a.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await a._getAppCheckToken(),p=d?`#${l4}=${encodeURIComponent(d)}`:"";return`${u4(a)}?${Tu(h).slice(1)}${p}`}function u4({config:a}){return a.emulator?sy(a,o4):`https://${a.authDomain}/${s4}`}const km="webStorageSupport";class c4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aA,this._completeRedirectFn=MI,this._overrideRedirectResult=II}async _openPopup(e,n,i,s){Di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await c1(e,n,i,Rg(),s);return i4(e,l,hy())}async _openRedirect(e,n,i,s){await this._originValidation(e);const l=await c1(e,n,i,Rg(),s);return mI(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(Di(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await JI(e),i=new PI(e);return n.register("authEvent",s=>(Ve(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},s=>{const l=s?.[0]?.[km];l!==void 0&&n(!!l),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yw()||Bw()||ly()}}const f4=c4;var f1="@firebase/auth",h1="1.11.1";class h4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function d4(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m4(a){So(new ps("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qw(a)},p=new IC(i,s,l,d);return BC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),So(new ps("auth-internal",e=>{const n=La(e.getProvider("auth").getImmediate());return(i=>new h4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wa(f1,h1,d4(a)),wa(f1,h1,"esm2020")}const p4=300,g4=Aw("authIdTokenMaxAge")||p4;let d1=null;const y4=a=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>g4)return;const s=n?.token;d1!==s&&(d1=s,await fetch(a,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function v4(a=Cw()){const e=ry(a,"auth");if(e.isInitialized())return e.getImmediate();const n=UC(a,{popupRedirectResolver:f4,persistence:[wI,fI,aA]}),i=Aw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=y4(l.toString());oI(n,c,()=>c(n.currentUser)),sI(n,h=>c(h))}}const s=Tw("auth");return s&&zC(n,`http://${s}`),n}function _4(){return document.getElementsByTagName("head")?.[0]??document}DC({loadJS(a){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",a),i.onload=e,i.onerror=s=>{const l=Rr("internal-error");l.customData=s,n(l)},i.type="text/javascript",i.charset="UTF-8",_4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m4("Browser");var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Aa,mA;(function(){var a;function e(N,O){function P(){}P.prototype=O.prototype,N.F=O.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(D,R,M){for(var L=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)L[Y-2]=arguments[Y];return O.prototype[R].apply(D,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,O,P){P||(P=0);const D=Array(16);if(typeof O=="string")for(var R=0;R<16;++R)D[R]=O.charCodeAt(P++)|O.charCodeAt(P++)<<8|O.charCodeAt(P++)<<16|O.charCodeAt(P++)<<24;else for(R=0;R<16;++R)D[R]=O[P++]|O[P++]<<8|O[P++]<<16|O[P++]<<24;O=N.g[0],P=N.g[1],R=N.g[2];let M=N.g[3],L;L=O+(M^P&(R^M))+D[0]+3614090360&4294967295,O=P+(L<<7&4294967295|L>>>25),L=M+(R^O&(P^R))+D[1]+3905402710&4294967295,M=O+(L<<12&4294967295|L>>>20),L=R+(P^M&(O^P))+D[2]+606105819&4294967295,R=M+(L<<17&4294967295|L>>>15),L=P+(O^R&(M^O))+D[3]+3250441966&4294967295,P=R+(L<<22&4294967295|L>>>10),L=O+(M^P&(R^M))+D[4]+4118548399&4294967295,O=P+(L<<7&4294967295|L>>>25),L=M+(R^O&(P^R))+D[5]+1200080426&4294967295,M=O+(L<<12&4294967295|L>>>20),L=R+(P^M&(O^P))+D[6]+2821735955&4294967295,R=M+(L<<17&4294967295|L>>>15),L=P+(O^R&(M^O))+D[7]+4249261313&4294967295,P=R+(L<<22&4294967295|L>>>10),L=O+(M^P&(R^M))+D[8]+1770035416&4294967295,O=P+(L<<7&4294967295|L>>>25),L=M+(R^O&(P^R))+D[9]+2336552879&4294967295,M=O+(L<<12&4294967295|L>>>20),L=R+(P^M&(O^P))+D[10]+4294925233&4294967295,R=M+(L<<17&4294967295|L>>>15),L=P+(O^R&(M^O))+D[11]+2304563134&4294967295,P=R+(L<<22&4294967295|L>>>10),L=O+(M^P&(R^M))+D[12]+1804603682&4294967295,O=P+(L<<7&4294967295|L>>>25),L=M+(R^O&(P^R))+D[13]+4254626195&4294967295,M=O+(L<<12&4294967295|L>>>20),L=R+(P^M&(O^P))+D[14]+2792965006&4294967295,R=M+(L<<17&4294967295|L>>>15),L=P+(O^R&(M^O))+D[15]+1236535329&4294967295,P=R+(L<<22&4294967295|L>>>10),L=O+(R^M&(P^R))+D[1]+4129170786&4294967295,O=P+(L<<5&4294967295|L>>>27),L=M+(P^R&(O^P))+D[6]+3225465664&4294967295,M=O+(L<<9&4294967295|L>>>23),L=R+(O^P&(M^O))+D[11]+643717713&4294967295,R=M+(L<<14&4294967295|L>>>18),L=P+(M^O&(R^M))+D[0]+3921069994&4294967295,P=R+(L<<20&4294967295|L>>>12),L=O+(R^M&(P^R))+D[5]+3593408605&4294967295,O=P+(L<<5&4294967295|L>>>27),L=M+(P^R&(O^P))+D[10]+38016083&4294967295,M=O+(L<<9&4294967295|L>>>23),L=R+(O^P&(M^O))+D[15]+3634488961&4294967295,R=M+(L<<14&4294967295|L>>>18),L=P+(M^O&(R^M))+D[4]+3889429448&4294967295,P=R+(L<<20&4294967295|L>>>12),L=O+(R^M&(P^R))+D[9]+568446438&4294967295,O=P+(L<<5&4294967295|L>>>27),L=M+(P^R&(O^P))+D[14]+3275163606&4294967295,M=O+(L<<9&4294967295|L>>>23),L=R+(O^P&(M^O))+D[3]+4107603335&4294967295,R=M+(L<<14&4294967295|L>>>18),L=P+(M^O&(R^M))+D[8]+1163531501&4294967295,P=R+(L<<20&4294967295|L>>>12),L=O+(R^M&(P^R))+D[13]+2850285829&4294967295,O=P+(L<<5&4294967295|L>>>27),L=M+(P^R&(O^P))+D[2]+4243563512&4294967295,M=O+(L<<9&4294967295|L>>>23),L=R+(O^P&(M^O))+D[7]+1735328473&4294967295,R=M+(L<<14&4294967295|L>>>18),L=P+(M^O&(R^M))+D[12]+2368359562&4294967295,P=R+(L<<20&4294967295|L>>>12),L=O+(P^R^M)+D[5]+4294588738&4294967295,O=P+(L<<4&4294967295|L>>>28),L=M+(O^P^R)+D[8]+2272392833&4294967295,M=O+(L<<11&4294967295|L>>>21),L=R+(M^O^P)+D[11]+1839030562&4294967295,R=M+(L<<16&4294967295|L>>>16),L=P+(R^M^O)+D[14]+4259657740&4294967295,P=R+(L<<23&4294967295|L>>>9),L=O+(P^R^M)+D[1]+2763975236&4294967295,O=P+(L<<4&4294967295|L>>>28),L=M+(O^P^R)+D[4]+1272893353&4294967295,M=O+(L<<11&4294967295|L>>>21),L=R+(M^O^P)+D[7]+4139469664&4294967295,R=M+(L<<16&4294967295|L>>>16),L=P+(R^M^O)+D[10]+3200236656&4294967295,P=R+(L<<23&4294967295|L>>>9),L=O+(P^R^M)+D[13]+681279174&4294967295,O=P+(L<<4&4294967295|L>>>28),L=M+(O^P^R)+D[0]+3936430074&4294967295,M=O+(L<<11&4294967295|L>>>21),L=R+(M^O^P)+D[3]+3572445317&4294967295,R=M+(L<<16&4294967295|L>>>16),L=P+(R^M^O)+D[6]+76029189&4294967295,P=R+(L<<23&4294967295|L>>>9),L=O+(P^R^M)+D[9]+3654602809&4294967295,O=P+(L<<4&4294967295|L>>>28),L=M+(O^P^R)+D[12]+3873151461&4294967295,M=O+(L<<11&4294967295|L>>>21),L=R+(M^O^P)+D[15]+530742520&4294967295,R=M+(L<<16&4294967295|L>>>16),L=P+(R^M^O)+D[2]+3299628645&4294967295,P=R+(L<<23&4294967295|L>>>9),L=O+(R^(P|~M))+D[0]+4096336452&4294967295,O=P+(L<<6&4294967295|L>>>26),L=M+(P^(O|~R))+D[7]+1126891415&4294967295,M=O+(L<<10&4294967295|L>>>22),L=R+(O^(M|~P))+D[14]+2878612391&4294967295,R=M+(L<<15&4294967295|L>>>17),L=P+(M^(R|~O))+D[5]+4237533241&4294967295,P=R+(L<<21&4294967295|L>>>11),L=O+(R^(P|~M))+D[12]+1700485571&4294967295,O=P+(L<<6&4294967295|L>>>26),L=M+(P^(O|~R))+D[3]+2399980690&4294967295,M=O+(L<<10&4294967295|L>>>22),L=R+(O^(M|~P))+D[10]+4293915773&4294967295,R=M+(L<<15&4294967295|L>>>17),L=P+(M^(R|~O))+D[1]+2240044497&4294967295,P=R+(L<<21&4294967295|L>>>11),L=O+(R^(P|~M))+D[8]+1873313359&4294967295,O=P+(L<<6&4294967295|L>>>26),L=M+(P^(O|~R))+D[15]+4264355552&4294967295,M=O+(L<<10&4294967295|L>>>22),L=R+(O^(M|~P))+D[6]+2734768916&4294967295,R=M+(L<<15&4294967295|L>>>17),L=P+(M^(R|~O))+D[13]+1309151649&4294967295,P=R+(L<<21&4294967295|L>>>11),L=O+(R^(P|~M))+D[4]+4149444226&4294967295,O=P+(L<<6&4294967295|L>>>26),L=M+(P^(O|~R))+D[11]+3174756917&4294967295,M=O+(L<<10&4294967295|L>>>22),L=R+(O^(M|~P))+D[2]+718787259&4294967295,R=M+(L<<15&4294967295|L>>>17),L=P+(M^(R|~O))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+O&4294967295,N.g[1]=N.g[1]+(R+(L<<21&4294967295|L>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+M&4294967295}i.prototype.v=function(N,O){O===void 0&&(O=N.length);const P=O-this.blockSize,D=this.C;let R=this.h,M=0;for(;M<O;){if(R==0)for(;M<=P;)s(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<O;)if(D[R++]=N.charCodeAt(M++),R==this.blockSize){s(this,D),R=0;break}}else for(;M<O;)if(D[R++]=N[M++],R==this.blockSize){s(this,D),R=0;break}}this.h=R,this.o+=O},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var O=1;O<N.length-8;++O)N[O]=0;O=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=O&255,O/=256;for(this.v(N),N=Array(16),O=0,P=0;P<4;++P)for(let D=0;D<32;D+=8)N[O++]=this.g[P]>>>D&255;return N};function l(N,O){var P=h;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=O(N)}function c(N,O){this.h=O;const P=[];let D=!0;for(let R=N.length-1;R>=0;R--){const M=N[R]|0;D&&M==O||(P[R]=M,D=!1)}this.g=P}var h={};function d(N){return-128<=N&&N<128?l(N,function(O){return new c([O|0],O<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return m;if(N<0)return A(p(-N));const O=[];let P=1;for(let D=0;N>=P;D++)O[D]=N/P|0,P*=4294967296;return new c(O,0)}function _(N,O){if(N.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(N.charAt(0)=="-")return A(_(N.substring(1),O));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(O,8));let D=m;for(let M=0;M<N.length;M+=8){var R=Math.min(8,N.length-M);const L=parseInt(N.substring(M,M+R),O);R<8?(R=p(Math.pow(O,R)),D=D.j(R).add(p(L))):(D=D.j(P),D=D.add(p(L)))}return D}var m=d(0),y=d(1),v=d(16777216);a=c.prototype,a.m=function(){if(T(this))return-A(this).m();let N=0,O=1;for(let P=0;P<this.g.length;P++){const D=this.i(P);N+=(D>=0?D:4294967296+D)*O,O*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(T(this))return"-"+A(this).toString(N);const O=p(Math.pow(N,6));var P=this;let D="";for(;;){const R=x(P,O).g;P=E(P,R.j(O));let M=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=R,S(P))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let O=0;O<N.g.length;O++)if(N.g[O]!=0)return!1;return!0}function T(N){return N.h==-1}a.l=function(N){return N=E(this,N),T(N)?-1:S(N)?0:1};function A(N){const O=N.g.length,P=[];for(let D=0;D<O;D++)P[D]=~N.g[D];return new c(P,~N.h).add(y)}a.abs=function(){return T(this)?A(this):this},a.add=function(N){const O=Math.max(this.g.length,N.g.length),P=[];let D=0;for(let R=0;R<=O;R++){let M=D+(this.i(R)&65535)+(N.i(R)&65535),L=(M>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);D=L>>>16,M&=65535,L&=65535,P[R]=L<<16|M}return new c(P,P[P.length-1]&-2147483648?-1:0)};function E(N,O){return N.add(A(O))}a.j=function(N){if(S(this)||S(N))return m;if(T(this))return T(N)?A(this).j(A(N)):A(A(this).j(N));if(T(N))return A(this.j(A(N)));if(this.l(v)<0&&N.l(v)<0)return p(this.m()*N.m());const O=this.g.length+N.g.length,P=[];for(var D=0;D<2*O;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<N.g.length;R++){const M=this.i(D)>>>16,L=this.i(D)&65535,Y=N.i(R)>>>16,W=N.i(R)&65535;P[2*D+2*R]+=L*W,w(P,2*D+2*R),P[2*D+2*R+1]+=M*W,w(P,2*D+2*R+1),P[2*D+2*R+1]+=L*Y,w(P,2*D+2*R+1),P[2*D+2*R+2]+=M*Y,w(P,2*D+2*R+2)}for(N=0;N<O;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=O;N<2*O;N++)P[N]=0;return new c(P,0)};function w(N,O){for(;(N[O]&65535)!=N[O];)N[O+1]+=N[O]>>>16,N[O]&=65535,O++}function I(N,O){this.g=N,this.h=O}function x(N,O){if(S(O))throw Error("division by zero");if(S(N))return new I(m,m);if(T(N))return O=x(A(N),O),new I(A(O.g),A(O.h));if(T(O))return O=x(N,A(O)),new I(A(O.g),O.h);if(N.g.length>30){if(T(N)||T(O))throw Error("slowDivide_ only works with positive integers.");for(var P=y,D=O;D.l(N)<=0;)P=j(P),D=j(D);var R=B(P,1),M=B(D,1);for(D=B(D,2),P=B(P,2);!S(D);){var L=M.add(D);L.l(N)<=0&&(R=R.add(P),M=L),D=B(D,1),P=B(P,1)}return O=E(N,R.j(O)),new I(R,O)}for(R=m;N.l(O)>=0;){for(P=Math.max(1,Math.floor(N.m()/O.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=p(P),L=M.j(O);T(L)||L.l(N)>0;)P-=D,M=p(P),L=M.j(O);S(M)&&(M=y),R=R.add(M),N=E(N,L)}return new I(R,N)}a.B=function(N){return x(this,N).h},a.and=function(N){const O=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<O;D++)P[D]=this.i(D)&N.i(D);return new c(P,this.h&N.h)},a.or=function(N){const O=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<O;D++)P[D]=this.i(D)|N.i(D);return new c(P,this.h|N.h)},a.xor=function(N){const O=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<O;D++)P[D]=this.i(D)^N.i(D);return new c(P,this.h^N.h)};function j(N){const O=N.g.length+1,P=[];for(let D=0;D<O;D++)P[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(P,N.h)}function B(N,O){const P=O>>5;O%=32;const D=N.g.length-P,R=[];for(let M=0;M<D;M++)R[M]=O>0?N.i(M+P)>>>O|N.i(M+P+1)<<32-O:N.i(M+P);return new c(R,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,mA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,Aa=c}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pA,Wl,gA,Tf,Ig,yA,vA,_A;(function(){var a,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var C=0;C<f.length;++C){var U=f[C];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var i=n(this);function s(f,C){if(C)e:{var U=i;f=f.split(".");for(var K=0;K<f.length-1;K++){var oe=f[K];if(!(oe in U))break e;U=U[oe]}f=f[f.length-1],K=U[f],C=C(K),C!=K&&C!=null&&e(U,f,{configurable:!0,writable:!0,value:C})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(C){var U=[],K;for(K in C)Object.prototype.hasOwnProperty.call(C,K)&&U.push([K,C[K]]);return U}});var l=l||{},c=this||self;function h(f){var C=typeof f;return C=="object"&&f!=null||C=="function"}function d(f,C,U){return f.call.apply(f.bind,arguments)}function p(f,C,U){return p=d,p.apply(null,arguments)}function _(f,C){var U=Array.prototype.slice.call(arguments,1);return function(){var K=U.slice();return K.push.apply(K,arguments),f.apply(this,K)}}function m(f,C){function U(){}U.prototype=C.prototype,f.Z=C.prototype,f.prototype=new U,f.prototype.constructor=f,f.Ob=function(K,oe,de){for(var Se=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)Se[Ke-2]=arguments[Ke];return C.prototype[oe].apply(K,Se)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function v(f){const C=f.length;if(C>0){const U=Array(C);for(let K=0;K<C;K++)U[K]=f[K];return U}return[]}function S(f,C){for(let K=1;K<arguments.length;K++){const oe=arguments[K];var U=typeof oe;if(U=U!="object"?U:oe?Array.isArray(oe)?"array":U:"null",U=="array"||U=="object"&&typeof oe.length=="number"){U=f.length||0;const de=oe.length||0;f.length=U+de;for(let Se=0;Se<de;Se++)f[U+Se]=oe[Se]}else f.push(oe)}}class T{constructor(C,U){this.i=C,this.j=U,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function A(f){c.setTimeout(()=>{throw f},0)}function E(){var f=N;let C=null;return f.g&&(C=f.g,f.g=f.g.next,f.g||(f.h=null),C.next=null),C}class w{constructor(){this.h=this.g=null}add(C,U){const K=I.get();K.set(C,U),this.h?this.h.next=K:this.g=K,this.h=K}}var I=new T(()=>new x,f=>f.reset());class x{constructor(){this.next=this.g=this.h=null}set(C,U){this.h=C,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let j,B=!1,N=new w,O=()=>{const f=Promise.resolve(void 0);j=()=>{f.then(P)}};function P(){for(var f;f=E();){try{f.h.call(f.g)}catch(U){A(U)}var C=I;C.j(f),C.h<100&&(C.h++,f.next=C.g,C.g=f)}B=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(f,C){this.type=f,this.g=this.target=C,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,C=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const U=()=>{};c.addEventListener("test",U,C),c.removeEventListener("test",U,C)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function Y(f,C){R.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,C)}m(Y,R),Y.prototype.init=function(f,C){const U=this.type=f.type,K=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=C,C=f.relatedTarget,C||(U=="mouseover"?C=f.fromElement:U=="mouseout"&&(C=f.toElement)),this.relatedTarget=C,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),Q=0;function Z(f,C,U,K,oe){this.listener=f,this.proxy=null,this.src=C,this.type=U,this.capture=!!K,this.ha=oe,this.key=++Q,this.da=this.fa=!1}function he(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,C,U){for(const K in f)C.call(U,f[K],K,f)}function X(f,C){for(const U in f)C.call(void 0,f[U],U,f)}function V(f){const C={};for(const U in f)C[U]=f[U];return C}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(f,C){let U,K;for(let oe=1;oe<arguments.length;oe++){K=arguments[oe];for(U in K)f[U]=K[U];for(let de=0;de<z.length;de++)U=z[de],Object.prototype.hasOwnProperty.call(K,U)&&(f[U]=K[U])}}function J(f){this.src=f,this.g={},this.h=0}J.prototype.add=function(f,C,U,K,oe){const de=f.toString();f=this.g[de],f||(f=this.g[de]=[],this.h++);const Se=F(f,C,K,oe);return Se>-1?(C=f[Se],U||(C.fa=!1)):(C=new Z(C,this.src,de,!!K,oe),C.fa=U,f.push(C)),C};function te(f,C){const U=C.type;if(U in f.g){var K=f.g[U],oe=Array.prototype.indexOf.call(K,C,void 0),de;(de=oe>=0)&&Array.prototype.splice.call(K,oe,1),de&&(he(C),f.g[U].length==0&&(delete f.g[U],f.h--))}}function F(f,C,U,K){for(let oe=0;oe<f.length;++oe){const de=f[oe];if(!de.da&&de.listener==C&&de.capture==!!U&&de.ha==K)return oe}return-1}var ee="closure_lm_"+(Math.random()*1e6|0),le={};function se(f,C,U,K,oe){if(Array.isArray(C)){for(let de=0;de<C.length;de++)se(f,C[de],U,K,oe);return null}return U=ge(U),f&&f[W]?f.J(C,U,h(K)?!!K.capture:!1,oe):Ee(f,C,U,!1,K,oe)}function Ee(f,C,U,K,oe,de){if(!C)throw Error("Invalid event type");const Se=h(oe)?!!oe.capture:!!oe;let Ke=Ct(f);if(Ke||(f[ee]=Ke=new J(f)),U=Ke.add(C,U,K,Se,de),U.proxy)return U;if(K=Re(),U.proxy=K,K.src=f,K.listener=U,f.addEventListener)M||(oe=Se),oe===void 0&&(oe=!1),f.addEventListener(C.toString(),K,oe);else if(f.attachEvent)f.attachEvent(Ue(C.toString()),K);else if(f.addListener&&f.removeListener)f.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Re(){function f(U){return C.call(f.src,f.listener,U)}const C=nt;return f}function Le(f,C,U,K,oe){if(Array.isArray(C))for(var de=0;de<C.length;de++)Le(f,C[de],U,K,oe);else K=h(K)?!!K.capture:!!K,U=ge(U),f&&f[W]?(f=f.i,de=String(C).toString(),de in f.g&&(C=f.g[de],U=F(C,U,K,oe),U>-1&&(he(C[U]),Array.prototype.splice.call(C,U,1),C.length==0&&(delete f.g[de],f.h--)))):f&&(f=Ct(f))&&(C=f.g[C.toString()],f=-1,C&&(f=F(C,U,K,oe)),(U=f>-1?C[f]:null)&&je(U))}function je(f){if(typeof f!="number"&&f&&!f.da){var C=f.src;if(C&&C[W])te(C.i,f);else{var U=f.type,K=f.proxy;C.removeEventListener?C.removeEventListener(U,K,f.capture):C.detachEvent?C.detachEvent(Ue(U),K):C.addListener&&C.removeListener&&C.removeListener(K),(U=Ct(C))?(te(U,f),U.h==0&&(U.src=null,C[ee]=null)):he(f)}}}function Ue(f){return f in le?le[f]:le[f]="on"+f}function nt(f,C){if(f.da)f=!0;else{C=new Y(C,this);const U=f.listener,K=f.ha||f.src;f.fa&&je(f),f=U.call(K,C)}return f}function Ct(f){return f=f[ee],f instanceof J?f:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ge(f){return typeof f=="function"?f:(f[bt]||(f[bt]=function(C){return f.handleEvent(C)}),f[bt])}function pe(){D.call(this),this.i=new J(this),this.M=this,this.G=null}m(pe,D),pe.prototype[W]=!0,pe.prototype.removeEventListener=function(f,C,U,K){Le(this,f,C,U,K)};function Ae(f,C){var U,K=f.G;if(K)for(U=[];K;K=K.G)U.push(K);if(f=f.M,K=C.type||C,typeof C=="string")C=new R(C,f);else if(C instanceof R)C.target=C.target||f;else{var oe=C;C=new R(K,f),G(C,oe)}oe=!0;let de,Se;if(U)for(Se=U.length-1;Se>=0;Se--)de=C.g=U[Se],oe=xe(de,K,!0,C)&&oe;if(de=C.g=f,oe=xe(de,K,!0,C)&&oe,oe=xe(de,K,!1,C)&&oe,U)for(Se=0;Se<U.length;Se++)de=C.g=U[Se],oe=xe(de,K,!1,C)&&oe}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var f=this.i;for(const C in f.g){const U=f.g[C];for(let K=0;K<U.length;K++)he(U[K]);delete f.g[C],f.h--}}this.G=null},pe.prototype.J=function(f,C,U,K){return this.i.add(String(f),C,!1,U,K)},pe.prototype.K=function(f,C,U,K){return this.i.add(String(f),C,!0,U,K)};function xe(f,C,U,K){if(C=f.i.g[String(C)],!C)return!0;C=C.concat();let oe=!0;for(let de=0;de<C.length;++de){const Se=C[de];if(Se&&!Se.da&&Se.capture==U){const Ke=Se.listener,Mt=Se.ha||Se.src;Se.fa&&te(f.i,Se),oe=Ke.call(Mt,K)!==!1&&oe}}return oe&&!K.defaultPrevented}function we(f,C){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:c.setTimeout(f,C||0)}function Ge(f){f.g=we(()=>{f.g=null,f.i&&(f.i=!1,Ge(f))},f.l);const C=f.h;f.h=null,f.m.apply(null,C)}class Me extends D{constructor(C,U){super(),this.m=C,this.l=U,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(f){D.call(this),this.h=f,this.g={}}m(Be,D);var $t=[];function En(f){ne(f.g,function(C,U){this.g.hasOwnProperty(U)&&je(C)},f),f.g={}}Be.prototype.N=function(){Be.Z.N.call(this),En(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var at=c.JSON.stringify,Go=c.JSON.parse,Et=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Mn(){}function ku(){}var hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function an(){R.call(this,"d")}m(an,R);function Kn(){R.call(this,"c")}m(Kn,R);var kt={},Mu=null;function Ns(){return Mu=Mu||new pe}kt.Ia="serverreachability";function Lu(f){R.call(this,kt.Ia,f)}m(Lu,R);function Cr(f){const C=Ns();Ae(C,new Lu(C))}kt.STAT_EVENT="statevent";function Pa(f,C){R.call(this,kt.STAT_EVENT,f),this.stat=C}m(Pa,R);function Vt(f){const C=Ns();Ae(C,new Pa(C,f))}kt.Ja="timingevent";function Ir(f,C){R.call(this,kt.Ja,f),this.size=C}m(Ir,R);function Dr(f,C){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},C)}function dr(){this.g=!0}dr.prototype.ua=function(){this.g=!1};function wh(f,C,U,K,oe,de){f.info(function(){if(f.g)if(de){var Se="",Ke=de.split("&");for(let lt=0;lt<Ke.length;lt++){var Mt=Ke[lt].split("=");if(Mt.length>1){const xt=Mt[0];Mt=Mt[1];const Wn=xt.split("_");Se=Wn.length>=2&&Wn[1]=="type"?Se+(xt+"="+Mt+"&"):Se+(xt+"=redacted&")}}}else Se=null;else Se=de;return"XMLHTTP REQ ("+K+") [attempt "+oe+"]: "+C+`
`+U+`
`+Se})}function Pu(f,C,U,K,oe,de,Se){f.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+oe+"]: "+C+`
`+U+`
`+de+" "+Se})}function kr(f,C,U,K){f.info(function(){return"XMLHTTP TEXT ("+C+"): "+Ah(f,U)+(K?" "+K:"")})}function ja(f,C){f.info(function(){return"TIMEOUT: "+C})}dr.prototype.info=function(){};function Ah(f,C){if(!f.g)return C;if(!C)return null;try{const de=JSON.parse(C);if(de){for(f=0;f<de.length;f++)if(Array.isArray(de[f])){var U=de[f];if(!(U.length<2)){var K=U[1];if(Array.isArray(K)&&!(K.length<1)){var oe=K[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Se=1;Se<K.length;Se++)K[Se]=""}}}}return at(de)}catch{return C}}var Va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function qa(){}m(qa,Mn),qa.prototype.g=function(){return new XMLHttpRequest},Yo=new qa;function si(f){return encodeURIComponent(String(f))}function ju(f){var C=1;f=f.split(":");const U=[];for(;C>0&&f.length;)U.push(f.shift()),C--;return f.length&&U.push(f.join(":")),U}function mr(f,C,U,K){this.j=f,this.i=C,this.l=U,this.S=K||1,this.V=new Be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var qt={},en={};function Mr(f,C,U){f.M=1,f.A=Ua(Bt(C)),f.u=U,f.R=!0,Os(f,null)}function Os(f,C){f.F=Date.now(),Lr(f),f.B=Bt(f.A);var U=f.B,K=f.S;Array.isArray(K)||(K=[String(K)]),ks(U.i,"t",K),f.C=0,U=f.j.L,f.h=new pr,f.g=Ju(f.j,U?C:null,!f.u),f.P>0&&(f.O=new Me(p(f.Y,f,f.g),f.P)),C=f.V,U=f.g,K=f.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&($t[0]=oe.toString()),oe=$t);for(let de=0;de<oe.length;de++){const Se=se(U,oe[de],K||C.handleEvent,!1,C.h||C);if(!Se)break;C.g[Se.key]=Se}C=f.J?V(f.J):{},f.u?(f.v||(f.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,C)):(f.v="GET",f.g.ea(f.B,f.v,null,C)),Cr(),wh(f.i,f.v,f.B,f.l,f.S,f.u)}mr.prototype.ba=function(f){f=f.target;const C=this.O;C&&vr(f)==3?C.j():this.Y(f)},mr.prototype.Y=function(f){try{if(f==this.g)e:{const Ke=vr(this.g),Mt=this.g.ya(),lt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ke!=4||Mt==7||(Mt==8||lt<=0?Cr(3):Cr(2)),Pr(this);var C=this.g.ca();this.X=C;var U=Sh(this);if(this.o=C==200,Pu(this.i,this.v,this.B,this.l,this.S,Ke,C),this.o){if(this.U&&!this.L){t:{if(this.g){var K,oe=this.g;if((K=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(K)){var de=K;break t}}de=null}if(f=de)kr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jr(this,f);else{this.o=!1,this.m=3,Vt(12),Ln(this),Yn(this);break e}}if(this.R){f=!0;let xt;for(;!this.K&&this.C<U.length;)if(xt=qu(this,U),xt==en){Ke==4&&(this.m=4,Vt(14),f=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==qt){this.m=4,Vt(15),kr(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else kr(this.i,this.l,xt,null),jr(this,xt);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||U.length!=0||this.h.h||(this.m=1,Vt(16),f=!1),this.o=this.o&&f,!f)kr(this.i,this.l,U,"[Invalid Chunked Response]"),Ln(this),Yn(this);else if(U.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ll(Se),Se.P=!0,Vt(11))}}else kr(this.i,this.l,U,null),jr(this,U);Ke==4&&Ln(this),this.o&&!this.K&&(Ke==4?Qu(this.j,this):(this.o=!1,Lr(this)))}else li(this.g),C==400&&U.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Ln(this),Yn(this)}}}catch{}finally{}};function Sh(f){if(!Vu(f))return f.g.la();const C=sn(f.g);if(C==="")return"";let U="";const K=C.length,oe=vr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ln(f),Yn(f),"";f.h.i=new c.TextDecoder}for(let de=0;de<K;de++)f.h.h=!0,U+=f.h.i.decode(C[de],{stream:!(oe&&de==K-1)});return C.length=0,f.h.g+=U,f.C=0,f.h.g}function Vu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function qu(f,C){var U=f.C,K=C.indexOf(`
`,U);return K==-1?en:(U=Number(C.substring(U,K)),isNaN(U)?qt:(K+=1,K+U>C.length?en:(C=C.slice(K,K+U),f.C=K+U,C)))}mr.prototype.cancel=function(){this.K=!0,Ln(this)};function Lr(f){f.T=Date.now()+f.H,Cs(f,f.H)}function Cs(f,C){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Dr(p(f.aa,f),C)}function Pr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}mr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ja(this.i,this.B),this.M!=2&&(Cr(),Vt(17)),Ln(this),this.m=2,Yn(this)):Cs(this,this.T-f)};function Yn(f){f.j.I==0||f.K||Qu(f.j,f)}function Ln(f){Pr(f);var C=f.O;C&&typeof C.dispose=="function"&&C.dispose(),f.O=null,En(f.V),f.g&&(C=f.g,f.g=null,C.abort(),C.dispose())}function jr(f,C){try{var U=f.j;if(U.I!=0&&(U.g==f||qr(U.h,f))){if(!f.L&&qr(U.h,f)&&U.I==3){try{var K=U.Ba.g.parse(C)}catch{K=null}if(Array.isArray(K)&&K.length==3){var oe=K;if(oe[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<f.F)Vs(U),Ki(U);else break e;Ya(U),Vt(18)}}else U.xa=oe[1],0<U.xa-U.K&&oe[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=Dr(p(U.Va,U),6e3));Vr(U.h)<=1&&U.ta&&(U.ta=void 0)}else Gr(U,11)}else if((f.L||U.g==f)&&Vs(U),!L(C))for(oe=U.Ba.g.parse(C),C=0;C<oe.length;C++){let lt=oe[C];const xt=lt[0];if(!(xt<=U.K))if(U.K=xt,lt=lt[1],U.I==2)if(lt[0]=="c"){U.M=lt[1],U.ba=lt[2];const Wn=lt[3];Wn!=null&&(U.ka=Wn,U.j.info("VER="+U.ka));const Kr=lt[4];Kr!=null&&(U.za=Kr,U.j.info("SVER="+U.za));const _r=lt[5];_r!=null&&typeof _r=="number"&&_r>0&&(K=1.5*_r,U.O=K,U.j.info("backChannelRequestTimeoutMs_="+K)),K=U;const br=f.g;if(br){const Qa=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qa){var de=K.h;de.g||Qa.indexOf("spdy")==-1&&Qa.indexOf("quic")==-1&&Qa.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Wo(de,de.h),de.h=null))}if(K.G){const qs=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(K.wa=qs,ft(K.J,K.G,qs))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-f.F,U.j.info("Handshake RTT: "+U.T+"ms")),K=U;var Se=f;if(K.na=Zu(K,K.L?K.ba:null,K.W),Se.L){Zo(K.h,Se);var Ke=Se,Mt=K.O;Mt&&(Ke.H=Mt),Ke.D&&(Pr(Ke),Lr(Ke)),K.g=Se}else Ku(K);U.i.length>0&&Fr(U)}else lt[0]!="stop"&&lt[0]!="close"||Gr(U,7);else U.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Gr(U,7):sl(U):lt[0]!="noop"&&U.l&&U.l.qa(lt),U.A=0)}}Cr(4)}catch{}}var Ut=class{constructor(f,C){this.g=f,this.map=C}};function Qo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Vr(f){return f.h?1:f.g?f.g.size:0}function qr(f,C){return f.h?f.h==C:f.g?f.g.has(C):!1}function Wo(f,C){f.g?f.g.add(C):f.h=C}function Zo(f,C){f.h&&f.h==C?f.h=null:f.g&&f.g.has(C)&&f.g.delete(C)}Qo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Jo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let C=f.i;for(const U of f.g.values())C=C.concat(U.G);return C}return v(f.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Is(f,C){if(f){f=f.split("&");for(let U=0;U<f.length;U++){const K=f[U].indexOf("=");let oe,de=null;K>=0?(oe=f[U].substring(0,K),de=f[U].substring(K+1)):oe=f[U],C(oe,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Pn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;f instanceof Pn?(this.l=f.l,tn(this,f.j),this.o=f.o,this.g=f.g,qi(this,f.u),this.h=f.h,$o(this,Fu(f.i)),this.m=f.m):f&&(C=String(f).match(Uu))?(this.l=!1,tn(this,C[1]||"",!0),this.o=Ur(C[2]||""),this.g=Ur(C[3]||"",!0),qi(this,C[4]),this.h=Ur(C[5]||"",!0),$o(this,C[6]||"",!0),this.m=Ur(C[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}Pn.prototype.toString=function(){const f=[];var C=this.j;C&&f.push(Ba(C,Ds,!0),":");var U=this.g;return(U||C=="file")&&(f.push("//"),(C=this.o)&&f.push(Ba(C,Ds,!0),"@"),f.push(si(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&f.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&f.push("/"),f.push(Ba(U,U.charAt(0)=="/"?el:Bu,!0))),(U=this.i.toString())&&f.push("?",U),(U=this.m)&&f.push("#",Ba(U,zu)),f.join("")},Pn.prototype.resolve=function(f){const C=Bt(this);let U=!!f.j;U?tn(C,f.j):U=!!f.o,U?C.o=f.o:U=!!f.g,U?C.g=f.g:U=f.u!=null;var K=f.h;if(U)qi(C,f.u);else if(U=!!f.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var oe=C.h.lastIndexOf("/");oe!=-1&&(K=C.h.slice(0,oe+1)+K)}if(oe=K,oe==".."||oe==".")K="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){K=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const de=[];for(let Se=0;Se<oe.length;){const Ke=oe[Se++];Ke=="."?K&&Se==oe.length&&de.push(""):Ke==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),K&&Se==oe.length&&de.push("")):(de.push(Ke),K=!0)}K=de.join("/")}else K=oe}return U?C.h=K:U=f.i.toString()!=="",U?$o(C,Fu(f.i)):U=!!f.m,U&&(C.m=f.m),C};function Bt(f){return new Pn(f)}function tn(f,C,U){f.j=U?Ur(C,!0):C,f.j&&(f.j=f.j.replace(/:$/,""))}function qi(f,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);f.u=C}else f.u=null}function $o(f,C,U){C instanceof Bi?(f.i=C,Ms(f.i,f.l)):(U||(C=Ba(C,Ui)),f.i=new Bi(C,f.l))}function ft(f,C,U){f.i.set(C,U)}function Ua(f){return ft(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ur(f,C){return f?C?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ba(f,C,U){return typeof f=="string"?(f=encodeURI(f).replace(C,An),U&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function An(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ds=/[#\/\?@]/g,Bu=/[#\?:]/g,el=/[#\?]/g,Ui=/[#\?@]/g,zu=/#/g;function Bi(f,C){this.h=this.g=null,this.i=f||null,this.j=!!C}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&Is(f.i,function(C,U){f.add(decodeURIComponent(C.replace(/\+/g," ")),U)}))}a=Bi.prototype,a.add=function(f,C){Sn(this),this.i=null,f=zi(this,f);let U=this.g.get(f);return U||this.g.set(f,U=[]),U.push(C),this.h+=1,this};function Hu(f,C){Sn(f),C=zi(f,C),f.g.has(C)&&(f.i=null,f.h-=f.g.get(C).length,f.g.delete(C))}function tl(f,C){return Sn(f),C=zi(f,C),f.g.has(C)}a.forEach=function(f,C){Sn(this),this.g.forEach(function(U,K){U.forEach(function(oe){f.call(C,oe,K,this)},this)},this)};function nl(f,C){Sn(f);let U=[];if(typeof C=="string")tl(f,C)&&(U=U.concat(f.g.get(zi(f,C))));else for(f=Array.from(f.g.values()),C=0;C<f.length;C++)U=U.concat(f[C]);return U}a.set=function(f,C){return Sn(this),this.i=null,f=zi(this,f),tl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[C]),this.h+=1,this},a.get=function(f,C){return f?(f=nl(this,f),f.length>0?String(f[0]):C):C};function ks(f,C,U){Hu(f,C),U.length>0&&(f.i=null,f.g.set(zi(f,C),v(U)),f.h+=U.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],C=Array.from(this.g.keys());for(let K=0;K<C.length;K++){var U=C[K];const oe=si(U);U=nl(this,U);for(let de=0;de<U.length;de++){let Se=oe;U[de]!==""&&(Se+="="+si(U[de])),f.push(Se)}}return this.i=f.join("&")};function Fu(f){const C=new Bi;return C.i=f.i,f.g&&(C.g=new Map(f.g),C.h=f.h),C}function zi(f,C){return C=String(C),f.j&&(C=C.toLowerCase()),C}function Ms(f,C){C&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(U,K){const oe=K.toLowerCase();K!=oe&&(Hu(this,K),ks(this,oe,U))},f)),f.j=C}function gr(f,C){const U=new dr;if(c.Image){const K=new Image;K.onload=_(Qn,U,"TestLoadImage: loaded",!0,C,K),K.onerror=_(Qn,U,"TestLoadImage: error",!1,C,K),K.onabort=_(Qn,U,"TestLoadImage: abort",!1,C,K),K.ontimeout=_(Qn,U,"TestLoadImage: timeout",!1,C,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=f}else C(!1)}function rl(f,C){const U=new dr,K=new AbortController,oe=setTimeout(()=>{K.abort(),Qn(U,"TestPingServer: timeout",!1,C)},1e4);fetch(f,{signal:K.signal}).then(de=>{clearTimeout(oe),de.ok?Qn(U,"TestPingServer: ok",!0,C):Qn(U,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(oe),Qn(U,"TestPingServer: error",!1,C)})}function Qn(f,C,U,K,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),K(U)}catch{}}function Hi(){this.g=new Et}function Br(f){this.i=f.Sb||null,this.h=f.ab||!1}m(Br,Mn),Br.prototype.g=function(){return new za(this.i,this.h)};function za(f,C){pe.call(this),this.H=f,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(za,pe),a=za.prototype,a.open=function(f,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=C,this.readyState=1,yr(this)},a.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(C.body=f),(this.H||c).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},a.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ls(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ls(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}a.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var C=f.value?f.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!f.done}))&&(this.response=this.responseText+=C)}f.done?Fi(this):yr(this),this.readyState==3&&Ls(this)}},a.Oa=function(f){this.g&&(this.response=this.responseText=f,Fi(this))},a.Na=function(f){this.g&&(this.response=f,Fi(this))},a.ga=function(){this.g&&Fi(this)};function Fi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,yr(f)}a.setRequestHeader=function(f,C){this.A.append(f,C)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],C=this.h.entries();for(var U=C.next();!U.done;)U=U.value,f.push(U[0]+": "+U[1]),U=C.next();return f.join(`\r
`)};function yr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xn(f){let C="";return ne(f,function(U,K){C+=K,C+=":",C+=U,C+=`\r
`}),C}function Ha(f,C,U){e:{for(K in U){var K=!1;break e}K=!0}K||(U=Xn(U),typeof f=="string"?U!=null&&si(U):ft(f,C,U))}function mt(f){pe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(mt,pe);var zr=/^https?$/i,il=["POST","PUT"];a=mt.prototype,a.Fa=function(f){this.H=f},a.ea=function(f,C,U,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);C=C?C.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=y(p(this.Ca,this));try{this.B=!0,this.g.open(C,String(f),!0),this.B=!1}catch(de){Fa(this,de);return}if(f=U||"",U=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var oe in K)U.set(oe,K[oe]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const de of K.keys())U.set(de,K.get(de));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(U.keys()).find(de=>de.toLowerCase()=="content-type"),oe=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(il,C,void 0)>=0)||K||oe||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Se]of U)this.g.setRequestHeader(de,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(de){Fa(this,de)}};function Fa(f,C){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=C,f.o=5,al(f),oi(f)}function al(f){f.A||(f.A=!0,Ae(f,"complete"),Ae(f,"error"))}a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ae(this,"complete"),Ae(this,"abort"),oi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),mt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ga(this):this.Xa())},a.Xa=function(){Ga(this)};function Ga(f){if(f.h&&typeof l<"u"){if(f.v&&vr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ae(f,"readystatechange"),vr(f)==4){f.h=!1;try{const de=f.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var U;if(!(U=C)){var K;if(K=de===0){let Se=String(f.D).match(Uu)[1]||null;!Se&&c.self&&c.self.location&&(Se=c.self.location.protocol.slice(0,-1)),K=!zr.test(Se?Se.toLowerCase():"")}U=K}if(U)Ae(f,"complete"),Ae(f,"success");else{f.o=6;try{var oe=vr(f)>2?f.g.statusText:""}catch{oe=""}f.l=oe+" ["+f.ca()+"]",al(f)}}finally{oi(f)}}}}function oi(f,C){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const U=f.g;f.g=null,C||Ae(f,"ready");try{U.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function vr(f){return f.g?f.g.readyState:0}a.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(f){if(this.g){var C=this.g.responseText;return f&&C.indexOf(f)==0&&(C=C.substring(f.length)),Go(C)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function li(f){const C={};f=(f.g&&vr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<f.length;K++){if(L(f[K]))continue;var U=ju(f[K]);const oe=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const de=C[oe]||[];C[oe]=de,de.push(U)}X(C,function(K){return K.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(f,C,U){return U&&U.internalChannelParams&&U.internalChannelParams[f]||C}function Gi(f){this.za=0,this.i=[],this.j=new dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,f),this.Za=Hr("retryDelaySeedMs",1e4,f),this.Ta=Hr("forwardChannelMaxRetries",2,f),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(f&&f.concurrentRequestLimit),this.Ba=new Hi,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Gi.prototype,a.ka=8,a.I=1,a.connect=function(f,C,U,K){Vt(0),this.W=f,this.H=C||{},U&&K!==void 0&&(this.H.OSID=U,this.H.OAID=K),this.F=this.X,this.J=Zu(this,null,this.W),Fr(this)};function sl(f){if(Ps(f),f.I==3){var C=f.V++,U=Bt(f.J);if(ft(U,"SID",f.M),ft(U,"RID",C),ft(U,"TYPE","terminate"),Ka(f,U),C=new mr(f,f.j,C),C.M=2,C.A=Ua(Bt(U)),U=!1,c.navigator&&c.navigator.sendBeacon)try{U=c.navigator.sendBeacon(C.A.toString(),"")}catch{}!U&&c.Image&&(new Image().src=C.A,U=!0),U||(C.g=Ju(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Lr(C)}Wu(f)}function Ki(f){f.g&&(ll(f),f.g.cancel(),f.g=null)}function Ps(f){Ki(f),f.v&&(c.clearTimeout(f.v),f.v=null),Vs(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Fr(f){if(!Xo(f.h)&&!f.m){f.m=!0;var C=f.Ea;j||O(),B||(j(),B=!0),N.add(C,f),f.D=0}}function js(f,C){return Vr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=C.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Dr(p(f.Ea,f,C),Xu(f,f.D)),f.D++,!0)}a.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const oe=new mr(this,this.j,f);let de=this.o;if(this.U&&(de?(de=V(de),G(de,this.U)):de=this.U),this.u!==null||this.R||(oe.J=de,de=null),this.S)e:{for(var C=0,U=0;U<this.i.length;U++){t:{var K=this.i[U];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(C+=K,C>4096){C=U;break e}if(C===4096||U===this.i.length-1){C=U+1;break e}}C=1e3}else C=1e3;C=Gu(this,oe,C),U=Bt(this.J),ft(U,"RID",f),ft(U,"CVER",22),this.G&&ft(U,"X-HTTP-Session-Id",this.G),Ka(this,U),de&&(this.R?C="headers="+si(Xn(de))+"&"+C:this.u&&Ha(U,this.u,de)),Wo(this.h,oe),this.Ra&&ft(U,"TYPE","init"),this.S?(ft(U,"$req",C),ft(U,"SID","null"),oe.U=!0,Mr(oe,U,null)):Mr(oe,U,C),this.I=2}}else this.I==3&&(f?ol(this,f):this.i.length==0||Xo(this.h)||ol(this))};function ol(f,C){var U;C?U=C.l:U=f.V++;const K=Bt(f.J);ft(K,"SID",f.M),ft(K,"RID",U),ft(K,"AID",f.K),Ka(f,K),f.u&&f.o&&Ha(K,f.u,f.o),U=new mr(f,f.j,U,f.D+1),f.u===null&&(U.J=f.o),C&&(f.i=C.G.concat(f.i)),C=Gu(f,U,1e3),U.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Wo(f.h,U),Mr(U,K,C)}function Ka(f,C){f.H&&ne(f.H,function(U,K){ft(C,K,U)}),f.l&&ne({},function(U,K){ft(C,K,U)})}function Gu(f,C,U){U=Math.min(f.i.length,U);const K=f.l?p(f.l.Ka,f.l,f):null;e:{var oe=f.i;let Ke=-1;for(;;){const Mt=["count="+U];Ke==-1?U>0?(Ke=oe[0].g,Mt.push("ofs="+Ke)):Ke=0:Mt.push("ofs="+Ke);let lt=!0;for(let xt=0;xt<U;xt++){var de=oe[xt].g;const Wn=oe[xt].map;if(de-=Ke,de<0)Ke=Math.max(0,oe[xt].g-100),lt=!1;else try{de="req"+de+"_"||"";try{var Se=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Kr,_r]of Se){let br=_r;h(_r)&&(br=at(_r)),Mt.push(de+Kr+"="+encodeURIComponent(br))}}catch(Kr){throw Mt.push(de+"type="+encodeURIComponent("_badmap")),Kr}}catch{K&&K(Wn)}}if(lt){Se=Mt.join("&");break e}}Se=void 0}return f=f.i.splice(0,U),C.G=f,Se}function Ku(f){if(!f.g&&!f.v){f.Y=1;var C=f.Da;j||O(),B||(j(),B=!0),N.add(C,f),f.A=0}}function Ya(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Dr(p(f.Da,f),Xu(f,f.A)),f.A++,!0)}a.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Dr(p(this.Wa,this),f)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Ki(this),Yu(this))};function ll(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Yu(f){f.g=new mr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var C=Bt(f.na);ft(C,"RID","rpc"),ft(C,"SID",f.M),ft(C,"AID",f.K),ft(C,"CI",f.F?"0":"1"),!f.F&&f.ia&&ft(C,"TO",f.ia),ft(C,"TYPE","xmlhttp"),Ka(f,C),f.u&&f.o&&Ha(C,f.u,f.o),f.O&&(f.g.H=f.O);var U=f.g;f=f.ba,U.M=1,U.A=Ua(Bt(C)),U.u=null,U.R=!0,Os(U,f)}a.Va=function(){this.C!=null&&(this.C=null,Ki(this),Ya(this),Vt(19))};function Vs(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Qu(f,C){var U=null;if(f.g==C){Vs(f),ll(f),f.g=null;var K=2}else if(qr(f.h,C))U=C.G,Zo(f.h,C),K=1;else return;if(f.I!=0){if(C.o)if(K==1){U=C.u?C.u.length:0,C=Date.now()-C.F;var oe=f.D;K=Ns(),Ae(K,new Ir(K,U)),Fr(f)}else Ku(f);else if(oe=C.m,oe==3||oe==0&&C.X>0||!(K==1&&js(f,C)||K==2&&Ya(f)))switch(U&&U.length>0&&(C=f.h,C.i=C.i.concat(U)),oe){case 1:Gr(f,5);break;case 4:Gr(f,10);break;case 3:Gr(f,6);break;default:Gr(f,2)}}}function Xu(f,C){let U=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(U*=2),U*C}function Gr(f,C){if(f.j.info("Error code "+C),C==2){var U=p(f.bb,f),K=f.Ua;const oe=!K;K=new Pn(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(K,"https"),Ua(K),oe?gr(K.toString(),U):rl(K.toString(),U)}else Vt(2);f.I=0,f.l&&f.l.pa(C),Wu(f),Ps(f)}a.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Wu(f){if(f.I=0,f.ja=[],f.l){const C=Jo(f.h);(C.length!=0||f.i.length!=0)&&(S(f.ja,C),S(f.ja,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.oa()}}function Zu(f,C,U){var K=U instanceof Pn?Bt(U):new Pn(U);if(K.g!="")C&&(K.g=C+"."+K.g),qi(K,K.u);else{var oe=c.location;K=oe.protocol,C=C?C+"."+oe.hostname:oe.hostname,oe=+oe.port;const de=new Pn(null);K&&tn(de,K),C&&(de.g=C),oe&&qi(de,oe),U&&(de.h=U),K=de}return U=f.G,C=f.wa,U&&C&&ft(K,U,C),ft(K,"VER",f.ka),Ka(f,K),K}function Ju(f,C,U){if(C&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=f.Aa&&!f.ma?new mt(new Br({ab:U})):new mt(f.ma),C.Fa(f.L),C}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}a=$u.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Yi(){}Yi.prototype.g=function(f,C){return new Tn(f,C)};function Tn(f,C){pe.call(this),this.g=new Gi(C),this.l=f,this.h=C&&C.messageUrlParams||null,f=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(f?f["X-WebChannel-Content-Type"]=C.messageContentType:f={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(f?f["X-WebChannel-Client-Profile"]=C.sa:f={"X-WebChannel-Client-Profile":C.sa}),this.g.U=f,(f=C&&C.Qb)&&!L(f)&&(this.g.u=f),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!L(C)&&(this.g.G=C,f=this.h,f!==null&&C in f&&(f=this.h,C in f&&delete f[C])),this.j=new ui(this)}m(Tn,pe),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){sl(this.g)},Tn.prototype.o=function(f){var C=this.g;if(typeof f=="string"){var U={};U.__data__=f,f=U}else this.v&&(U={},U.__data__=at(f),f=U);C.i.push(new Ut(C.Ya++,f)),C.I==3&&Fr(C)},Tn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Tn.Z.N.call(this)};function ec(f){an.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var C=f.__sm__;if(C){e:{for(const U in C){f=U;break e}f=void 0}(this.i=f)&&(f=this.i,C=C!==null&&f in C?C[f]:void 0),this.data=C}else this.data=f}m(ec,an);function tc(){Kn.call(this),this.status=1}m(tc,Kn);function ui(f){this.g=f}m(ui,$u),ui.prototype.ra=function(){Ae(this.g,"a")},ui.prototype.qa=function(f){Ae(this.g,new ec(f))},ui.prototype.pa=function(f){Ae(this.g,new tc)},ui.prototype.oa=function(){Ae(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,_A=function(){return new Yi},vA=function(){return Ns()},yA=kt,Ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,Tf=Va,Ko.COMPLETE="complete",gA=Ko,ku.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Wl=ku,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,pA=mt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const p1="@firebase/firestore",g1="4.9.2";class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Vo="12.3.0";const vs=new ty("@firebase/firestore");function go(){return vs.logLevel}function Oe(a,...e){if(vs.logLevel<=$e.DEBUG){const n=e.map(my);vs.debug(`Firestore (${Vo}): ${a}`,...n)}}function ki(a,...e){if(vs.logLevel<=$e.ERROR){const n=e.map(my);vs.error(`Firestore (${Vo}): ${a}`,...n)}}function Ro(a,...e){if(vs.logLevel<=$e.WARN){const n=e.map(my);vs.warn(`Firestore (${Vo}): ${a}`,...n)}}function my(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function qe(a,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,bA(a,i,n)}function bA(a,e,n){let i=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ki(i),new Error(i)}function ct(a,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,a||bA(e,s,i)}function Fe(a,e){return a}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class EA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class E4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class T4{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Oi,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Oi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new EA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class w4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new w4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const i=l=>{l.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const s=l=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x4(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}class py{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=x4(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<n&&(i+=e.charAt(s[l]%62))}return i}}function et(a,e){return a<e?-1:a>e?1:0}function Dg(a,e){const n=Math.min(a.length,e.length);for(let i=0;i<n;i++){const s=a.charAt(i),l=e.charAt(i);if(s!==l)return Mm(s)===Mm(l)?et(s,l):Mm(s)?1:-1}return et(a.length,e.length)}const R4=55296,N4=57343;function Mm(a){const e=a.charCodeAt(0);return e>=R4&&e<=N4}function No(a,e,n){return a.length===e.length&&a.every(((i,s)=>n(i,e[s])))}const v1="__name__";class Zr{constructor(e,n,i){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&qe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const l=Zr.compareSegments(e.get(s),n.get(s));if(l!==0)return l}return et(e.length,n.length)}static compareSegments(e,n){const i=Zr.isNumericId(e),s=Zr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Zr.extractNumericId(e).compare(Zr.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Aa.fromString(e.substring(4,e.length-2))}}class _t extends Zr{construct(e,n,i){return new _t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const O4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Zr{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return O4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v1}static keyField(){return new dn([v1])}static fromServerFormat(e){const n=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Ne(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ne(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(l(),s++)}if(l(),c)throw new Ne(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(_t.fromString(e))}static fromName(e){return new ke(_t.fromString(e).popFirst(5))}static empty(){return new ke(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new _t(e.slice()))}}function TA(a,e,n){if(!n)throw new Ne(_e.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function C4(a,e,n,i){if(e===!0&&i===!0)throw new Ne(_e.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function _1(a){if(!ke.isDocumentKey(a))throw new Ne(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function b1(a){if(ke.isDocumentKey(a))throw new Ne(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function wA(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function th(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":qe(12329,{type:typeof a})}function Mi(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Ne(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=th(a);throw new Ne(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}function Qt(a,e){const n={typeString:a};return e&&(n.value=e),n}function Ru(a,e){if(!wA(a))throw new Ne(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in a)){n=`JSON missing required field: '${i}'`;break}const c=a[i];if(s&&typeof c!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Ne(_e.INVALID_ARGUMENT,n);return!0}const E1=-62135596800,T1=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*T1);return new At(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E1)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T1}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Qt("string",At._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new At(0,0))}static max(){return new ze(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fu=-1;function I4(a,e){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new xa(s,ke.empty(),e)}function D4(a){return new xa(a.readTime,a.key,fu)}class xa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new xa(ze.min(),ke.empty(),fu)}static max(){return new xa(ze.max(),ke.empty(),fu)}}function k4(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(a.documentKey,e.documentKey),n!==0?n:et(a.largestBatchId,e.largestBatchId))}const M4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qo(a){if(a.code!==_e.FAILED_PRECONDITION||a.message!==M4)throw a;Oe("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Te(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.reject(n)}static resolve(e){return new Te(((n,i)=>{n(e)}))}static reject(e){return new Te(((n,i)=>{i(e)}))}static waitFor(e){return new Te(((n,i)=>{let s=0,l=0,c=!1;e.forEach((h=>{++s,h.next((()=>{++l,c&&l===s&&n()}),(d=>i(d)))})),c=!0,l===s&&n()}))}static or(e){let n=Te.resolve(!1);for(const i of e)n=n.next((s=>s?Te.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,l)=>{i.push(n.call(this,s,l))})),this.waitFor(i)}static mapArray(e,n){return new Te(((i,s)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((_=>{c[p]=_,++h,h===l&&i(c)}),(_=>s(_)))}}))}static doWhile(e,n){return new Te(((i,s)=>{const l=()=>{e()===!0?n().next((()=>{l()}),s):i()};l()}))}}function P4(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(a){return a.name==="IndexedDbTransactionError"}class nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nh.ce=-1;const gy=-1;function rh(a){return a==null}function Vf(a){return a===0&&1/a==-1/0}function j4(a){return typeof a=="number"&&Number.isInteger(a)&&!Vf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const AA="";function V4(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=w1(e)),e=q4(a.get(n),e);return w1(e)}function q4(a,e){let n=e;const i=a.length;for(let s=0;s<i;s++){const l=a.charAt(s);switch(l){case"\0":n+="";break;case AA:n+="";break;default:n+=l}}return n}function w1(a){return a+AA+""}function A1(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Es(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function SA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Ot{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,i,s,l){this.key=e,this.value=n,this.color=i??fn.RED,this.left=s??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,l){return new fn(e??this.key,n??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,i),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,i,s,l){return this}insert(e,n,i){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S1(this.data.getIterator())}getIteratorFrom(e){return new S1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class S1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new xr([])}unionWith(e){let n=new Zt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class xA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new xA("Invalid base64 string: "+l):l}})(e);return new mn(n)}static fromUint8Array(e){const n=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const U4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(a){if(ct(!!a,39018),typeof a=="string"){let e=0;const n=U4.exec(a);if(ct(!!n,46558,{timestamp:a}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(a.seconds),nanos:jt(a.nanos)}}function jt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Na(a){return typeof a=="string"?mn.fromBase64String(a):mn.fromUint8Array(a)}const RA="server_timestamp",NA="__type__",OA="__previous_value__",CA="__local_write_time__";function yy(a){return(a?.mapValue?.fields||{})[NA]?.stringValue===RA}function ih(a){const e=a.mapValue.fields[OA];return yy(e)?ih(e):e}function hu(a){const e=Ra(a.mapValue.fields[CA].timestampValue);return new At(e.seconds,e.nanos)}class B4{constructor(e,n,i,s,l,c,h,d,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=_}}const qf="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||qf}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===qf}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}const IA="__type__",z4="__max__",ff={mapValue:{}},DA="__vector__",Uf="value";function Oa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?yy(a)?4:F4(a)?9007199254740991:H4(a)?10:11:qe(28295,{value:a})}function ii(a,e){if(a===e)return!0;const n=Oa(a);if(n!==Oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return hu(a).isEqual(hu(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ra(s.timestampValue),h=Ra(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(s,l){return Na(s.bytesValue).isEqual(Na(l.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(s,l){return jt(s.geoPointValue.latitude)===jt(l.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(l.geoPointValue.longitude)})(a,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return jt(s.integerValue)===jt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=jt(s.doubleValue),h=jt(l.doubleValue);return c===h?Vf(c)===Vf(h):isNaN(c)&&isNaN(h)}return!1})(a,e);case 9:return No(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},h=l.mapValue.fields||{};if(A1(c)!==A1(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ii(c[d],h[d])))return!1;return!0})(a,e);default:return qe(52216,{left:a})}}function mu(a,e){return(a.values||[]).find((n=>ii(n,e)))!==void 0}function Oo(a,e){if(a===e)return 0;const n=Oa(a),i=Oa(e);if(n!==i)return et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(a.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=jt(l.integerValue||l.doubleValue),d=jt(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(a,e);case 3:return x1(a.timestampValue,e.timestampValue);case 4:return x1(hu(a),hu(e));case 5:return Dg(a.stringValue,e.stringValue);case 6:return(function(l,c){const h=Na(l),d=Na(c);return h.compareTo(d)})(a.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const _=et(h[p],d[p]);if(_!==0)return _}return et(h.length,d.length)})(a.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=et(jt(l.latitude),jt(c.latitude));return h!==0?h:et(jt(l.longitude),jt(c.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return R1(a.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},p=h[Uf]?.arrayValue,_=d[Uf]?.arrayValue,m=et(p?.values?.length||0,_?.values?.length||0);return m!==0?m:R1(p,_)})(a.mapValue,e.mapValue);case 11:return(function(l,c){if(l===ff.mapValue&&c===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(c===ff.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=c.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let m=0;m<d.length&&m<_.length;++m){const y=Dg(d[m],_[m]);if(y!==0)return y;const v=Oo(h[d[m]],p[_[m]]);if(v!==0)return v}return et(d.length,_.length)})(a.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function x1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return et(a,e);const n=Ra(a),i=Ra(e),s=et(n.seconds,i.seconds);return s!==0?s:et(n.nanos,i.nanos)}function R1(a,e){const n=a.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const l=Oo(n[s],i[s]);if(l)return l}return et(n.length,i.length)}function Co(a){return kg(a)}function kg(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const i=Ra(n);return`time(${i.seconds},${i.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Na(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return ke.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let i="[",s=!0;for(const l of n.values||[])s?s=!1:i+=",",i+=kg(l);return i+"]"})(a.arrayValue):"mapValue"in a?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${kg(n.fields[c])}`;return s+"}"})(a.mapValue):qe(61005,{value:a})}function wf(a){switch(Oa(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(a);return e?16+wf(e):16;case 5:return 2*a.stringValue.length;case 6:return Na(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+wf(l)),0)})(a.arrayValue);case 10:case 11:return(function(i){let s=0;return Es(i.fields,((l,c)=>{s+=l.length+wf(c)})),s})(a.mapValue);default:throw qe(13486,{value:a})}}function N1(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Mg(a){return!!a&&"integerValue"in a}function vy(a){return!!a&&"arrayValue"in a}function O1(a){return!!a&&"nullValue"in a}function C1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Af(a){return!!a&&"mapValue"in a}function H4(a){return(a?.mapValue?.fields||{})[IA]?.stringValue===DA}function iu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Es(a.mapValue.fields,((n,i)=>e.mapValue.fields[n]=iu(i))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(a.arrayValue.values[n]);return e}return{...a}}function F4(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===z4}class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=dn.emptyPath(),i={},s=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=h.popLast()}c?i[h.lastSegment()]=iu(c):s.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,s)}delete(e){const n=this.field(e.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Af(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Es(n,((s,l)=>e[s]=l));for(const s of i)delete e[s]}clone(){return new ar(iu(this.value))}}function kA(a){const e=[];return Es(a.fields,((n,i)=>{const s=new dn([n]);if(Af(i)){const l=kA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new xr(e)}class vn{constructor(e,n,i,s,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new vn(e,0,ze.min(),ze.min(),ze.min(),ar.empty(),0)}static newFoundDocument(e,n,i,s){return new vn(e,1,n,ze.min(),i,s,0)}static newNoDocument(e,n){return new vn(e,2,n,ze.min(),ze.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,ze.min(),ze.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bf{constructor(e,n){this.position=e,this.inclusive=n}}function I1(a,e,n){let i=0;for(let s=0;s<a.position.length;s++){const l=e[s],c=a.position[s];if(l.field.isKeyField()?i=ke.comparator(ke.fromName(c.referenceValue),n.key):i=Oo(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function D1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ii(a.position[n],e.position[n]))return!1;return!0}class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function G4(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class MA{}class Yt extends MA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Y4(e,n,i):n==="array-contains"?new W4(e,i):n==="in"?new Z4(e,i):n==="not-in"?new J4(e,i):n==="array-contains-any"?new $4(e,i):new Yt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Q4(e,i):new X4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&Oa(this.value)===Oa(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends MA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Or(e,n)}matches(e){return LA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LA(a){return a.op==="and"}function PA(a){return K4(a)&&LA(a)}function K4(a){for(const e of a.filters)if(e instanceof Or)return!1;return!0}function Lg(a){if(a instanceof Yt)return a.field.canonicalString()+a.op.toString()+Co(a.value);if(PA(a))return a.filters.map((e=>Lg(e))).join(",");{const e=a.filters.map((n=>Lg(n))).join(",");return`${a.op}(${e})`}}function jA(a,e){return a instanceof Yt?(function(i,s){return s instanceof Yt&&i.op===s.op&&i.field.isEqual(s.field)&&ii(i.value,s.value)})(a,e):a instanceof Or?(function(i,s){return s instanceof Or&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,h)=>l&&jA(c,s.filters[h])),!0):!1})(a,e):void qe(19439)}function VA(a){return a instanceof Yt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`})(a):a instanceof Or?(function(n){return n.op.toString()+" {"+n.getFilters().map(VA).join(" ,")+"}"})(a):"Filter"}class Y4 extends Yt{constructor(e,n,i){super(e,n,i),this.key=ke.fromName(i.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q4 extends Yt{constructor(e,n){super(e,"in",n),this.keys=qA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class X4 extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=qA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qA(a,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class W4 extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vy(n)&&mu(n.arrayValue,this.value)}}class Z4 extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class J4 extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class $4 extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>mu(this.value.arrayValue,i)))}}class eD{constructor(e,n=null,i=[],s=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function k1(a,e=null,n=[],i=[],s=null,l=null,c=null){return new eD(a,e,n,i,s,l,c)}function _y(a){const e=Fe(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Lg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Co(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Co(i))).join(",")),e.Te=n}return e.Te}function by(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!G4(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!jA(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!D1(a.startAt,e.startAt)&&D1(a.endAt,e.endAt)}function Pg(a){return ke.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Bo{constructor(e,n=null,i=[],s=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tD(a,e,n,i,s,l,c,h){return new Bo(a,e,n,i,s,l,c,h)}function Ey(a){return new Bo(a)}function M1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function UA(a){return a.collectionGroup!==null}function au(a){const e=Fe(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Zt(dn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new pu(l,i))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new pu(dn.keyField(),i))}return e.Ie}function ei(a){const e=Fe(a);return e.Ee||(e.Ee=nD(e,au(a))),e.Ee}function nD(a,e){if(a.limitType==="F")return k1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new pu(s.field,l)}));const n=a.endAt?new Bf(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new Bf(a.startAt.position,a.startAt.inclusive):null;return k1(a.path,a.collectionGroup,e,a.filters,a.limit,n,i)}}function jg(a,e){const n=a.filters.concat([e]);return new Bo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function Vg(a,e,n){return new Bo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function ah(a,e){return by(ei(a),ei(e))&&a.limitType===e.limitType}function BA(a){return`${_y(ei(a))}|lt:${a.limitType}`}function yo(a){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>VA(s))).join(", ")}]`),rh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>Co(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>Co(s))).join(",")),`Target(${i})`})(ei(a))}; limitType=${a.limitType})`}function sh(a,e){return e.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ke.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(a,e)&&(function(i,s){for(const l of au(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(a,e)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(a,e)&&(function(i,s){return!(i.startAt&&!(function(c,h,d){const p=I1(c,h,d);return c.inclusive?p<=0:p<0})(i.startAt,au(i),s)||i.endAt&&!(function(c,h,d){const p=I1(c,h,d);return c.inclusive?p>=0:p>0})(i.endAt,au(i),s))})(a,e)}function rD(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function zA(a){return(e,n)=>{let i=!1;for(const s of au(a)){const l=iD(s,e,n);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function iD(a,e,n){const i=a.field.isKeyField()?ke.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Oo(d,p):qe(42886)})(a.field,e,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return qe(19790,{direction:a.dir})}}class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((n,i)=>{for(const[s,l]of i)e(s,l)}))}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}const aD=new Ot(ke.comparator);function Li(){return aD}const HA=new Ot(ke.comparator);function Zl(...a){let e=HA;for(const n of a)e=e.insert(n.key,n);return e}function FA(a){let e=HA;return a.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function hs(){return su()}function GA(){return su()}function su(){return new Ts((a=>a.toString()),((a,e)=>a.isEqual(e)))}const sD=new Ot(ke.comparator),oD=new Zt(ke.comparator);function tt(...a){let e=oD;for(const n of a)e=e.add(n);return e}const lD=new Zt(et);function uD(){return lD}function Ty(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function KA(a){return{integerValue:""+a}}function cD(a,e){return j4(e)?KA(e):Ty(a,e)}class oh{constructor(){this._=void 0}}function fD(a,e,n){return a instanceof gu?(function(s,l){const c={fields:{[NA]:{stringValue:RA},[CA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&yy(l)&&(l=ih(l)),l&&(c.fields[OA]=l),{mapValue:c}})(n,e):a instanceof yu?QA(a,e):a instanceof vu?XA(a,e):(function(s,l){const c=YA(s,l),h=L1(c)+L1(s.Ae);return Mg(c)&&Mg(s.Ae)?KA(h):Ty(s.serializer,h)})(a,e)}function hD(a,e,n){return a instanceof yu?QA(a,e):a instanceof vu?XA(a,e):n}function YA(a,e){return a instanceof zf?(function(i){return Mg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class gu extends oh{}class yu extends oh{constructor(e){super(),this.elements=e}}function QA(a,e){const n=WA(e);for(const i of a.elements)n.some((s=>ii(s,i)))||n.push(i);return{arrayValue:{values:n}}}class vu extends oh{constructor(e){super(),this.elements=e}}function XA(a,e){let n=WA(e);for(const i of a.elements)n=n.filter((s=>!ii(s,i)));return{arrayValue:{values:n}}}class zf extends oh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L1(a){return jt(a.integerValue||a.doubleValue)}function WA(a){return vy(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class dD{constructor(e,n){this.field=e,this.transform=n}}function mD(a,e){return a.field.isEqual(e.field)&&(function(i,s){return i instanceof yu&&s instanceof yu||i instanceof vu&&s instanceof vu?No(i.elements,s.elements,ii):i instanceof zf&&s instanceof zf?ii(i.Ae,s.Ae):i instanceof gu&&s instanceof gu})(a.transform,e.transform)}class pD{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class lh{}function ZA(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new wy(a.key,Nr.none()):new Nu(a.key,a.data,Nr.none());{const n=a.data,i=ar.empty();let s=new Zt(dn.comparator);for(let l of e.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new ws(a.key,i,new xr(s.toArray()),Nr.none())}}function gD(a,e,n){a instanceof Nu?(function(s,l,c){const h=s.value.clone(),d=j1(s.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(a,e,n):a instanceof ws?(function(s,l,c){if(!Sf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const h=j1(s.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(JA(s)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(a,e,n):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ou(a,e,n,i){return a instanceof Nu?(function(l,c,h,d){if(!Sf(l.precondition,c))return h;const p=l.value.clone(),_=V1(l.fieldTransforms,d,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(a,e,n,i):a instanceof ws?(function(l,c,h,d){if(!Sf(l.precondition,c))return h;const p=V1(l.fieldTransforms,d,c),_=c.data;return _.setAll(JA(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((m=>m.field)))})(a,e,n,i):(function(l,c,h){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(a,e,n)}function yD(a,e){let n=null;for(const i of a.fieldTransforms){const s=e.data.field(i.field),l=YA(i.transform,s||null);l!=null&&(n===null&&(n=ar.empty()),n.set(i.field,l))}return n||null}function P1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&No(i,s,((l,c)=>mD(l,c)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Nu extends lh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ws extends lh{constructor(e,n,i,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JA(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=a.data.field(n);e.set(n,i)}})),e}function j1(a,e,n){const i=new Map;ct(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let s=0;s<n.length;s++){const l=a[s],c=l.transform,h=e.data.field(l.field);i.set(l.field,hD(c,h,n[s]))}return i}function V1(a,e,n){const i=new Map;for(const s of a){const l=s.transform,c=n.data.field(s.field);i.set(s.field,fD(l,c,e))}return i}class wy extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _D{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&gD(l,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ou(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ou(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=GA();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(s.key)?null:h;const d=ZA(c,h);d!==null&&i.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(ze.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((n,i)=>P1(n,i)))&&No(this.baseMutations,e.baseMutations,((n,i)=>P1(n,i)))}}class Ay{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return sD})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new Ay(e,n,i,s)}}class bD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ED{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,it;function TD(a){switch(a){case _e.OK:return qe(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return qe(15467,{code:a})}}function $A(a){if(a===void 0)return ki("GRPC error has no .code"),_e.UNKNOWN;switch(a){case Kt.OK:return _e.OK;case Kt.CANCELLED:return _e.CANCELLED;case Kt.UNKNOWN:return _e.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return _e.INTERNAL;case Kt.UNAVAILABLE:return _e.UNAVAILABLE;case Kt.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Kt.NOT_FOUND:return _e.NOT_FOUND;case Kt.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Kt.ABORTED:return _e.ABORTED;case Kt.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Kt.DATA_LOSS:return _e.DATA_LOSS;default:return qe(39323,{code:a})}}(it=Kt||(Kt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function wD(){return new TextEncoder}const AD=new Aa([4294967295,4294967295],0);function q1(a){const e=wD().encode(a),n=new mA;return n.update(e),new Uint8Array(n.digest())}function U1(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Aa([n,i],0),new Aa([s,l],0)]}class Sy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(i<0)throw new Jl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Aa.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(Aa.fromNumber(i)));return s.compare(AD)===1&&(s=new Aa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=q1(e),[i,s]=U1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Sy(l,s,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=q1(e),[i,s]=U1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uh{constructor(e,n,i,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new uh(ze.min(),s,new Ot(et),Li(),tt())}}class Ou{constructor(e,n,i,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ou(i,n,tt(),tt(),tt())}}class xf{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class eS{constructor(e,n){this.targetId=e,this.Ce=n}}class tS{constructor(e,n,i=mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class B1{constructor(){this.ve=0,this.Fe=z1(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),i=tt();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:qe(38017,{changeType:l})}})),new Ou(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=z1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Li(),this.Je=hf(),this.He=hf(),this.Ye=new Ot(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const l=s.target;if(Pg(l))if(i===0){const c=new ke(l.path);this.et(n,c,vn.newNoDocument(c,ze.min()))}else ct(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=n;let c,h;try{c=Na(i).toUint8Array()}catch(d){if(d instanceof xA)return Ro("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Sy(c,s,l)}catch(d){return Ro(d instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Pg(h.target)){const d=new ke(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,vn.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=tt();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new uh(e,n,this.Ye,this.je,i);return this.je=Li(),this.Je=hf(),this.He=hf(),this.Ye=new Ot(et),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new B1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zt(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zt(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hf(){return new Ot(ke.comparator)}function z1(){return new Ot(ke.comparator)}const xD={asc:"ASCENDING",desc:"DESCENDING"},RD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ND={and:"AND",or:"OR"};class OD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(a,e){return a.useProto3Json||rh(e)?e:{value:e}}function Hf(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function CD(a,e){return Hf(a,e.toTimestamp())}function ti(a){return ct(!!a,49232),ze.fromTimestamp((function(n){const i=Ra(n);return new At(i.seconds,i.nanos)})(a))}function xy(a,e){return Ug(a,e).canonicalString()}function Ug(a,e){const n=(function(s){return new _t(["projects",s.projectId,"databases",s.database])})(a).child("documents");return e===void 0?n:n.child(e)}function rS(a){const e=_t.fromString(a);return ct(lS(e),10190,{key:e.toString()}),e}function Bg(a,e){return xy(a.databaseId,e.path)}function Lm(a,e){const n=rS(e);if(n.get(1)!==a.databaseId.projectId)throw new Ne(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new Ne(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new ke(aS(n))}function iS(a,e){return xy(a.databaseId,e)}function ID(a){const e=rS(a);return e.length===4?_t.emptyPath():aS(e)}function zg(a){return new _t(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function aS(a){return ct(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function H1(a,e,n){return{name:Bg(a,e),fields:n.value.mapValue.fields}}function DD(a,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:qe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(ct(_===void 0||typeof _=="string",58123),mn.fromBase64String(_||"")):(ct(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),mn.fromUint8Array(_||new Uint8Array))})(a,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const _=p.code===void 0?_e.UNKNOWN:$A(p.code);return new Ne(_,p.message||"")})(c);n=new tS(i,s,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Lm(a,i.document.name),l=ti(i.document.updateTime),c=i.document.createTime?ti(i.document.createTime):ze.min(),h=new ar({mapValue:{fields:i.document.fields}}),d=vn.newFoundDocument(s,l,c,h),p=i.targetIds||[],_=i.removedTargetIds||[];n=new xf(p,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Lm(a,i.document),l=i.readTime?ti(i.readTime):ze.min(),c=vn.newNoDocument(s,l),h=i.removedTargetIds||[];n=new xf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Lm(a,i.document),l=i.removedTargetIds||[];n=new xf([],l,s,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new ED(s,l),h=i.targetId;n=new eS(h,c)}}return n}function kD(a,e){let n;if(e instanceof Nu)n={update:H1(a,e.key,e.value)};else if(e instanceof wy)n={delete:Bg(a,e.key)};else if(e instanceof ws)n={update:H1(a,e.key,e.data),updateMask:zD(e.fieldMask)};else{if(!(e instanceof vD))return qe(16599,{Vt:e.type});n={verify:Bg(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof gu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw qe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:CD(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:qe(27497)})(a,e.precondition)),n}function MD(a,e){return a&&a.length>0?(ct(e!==void 0,14353),a.map((n=>(function(s,l){let c=s.updateTime?ti(s.updateTime):ti(l);return c.isEqual(ze.min())&&(c=ti(l)),new pD(c,s.transformResults||[])})(n,e)))):[]}function LD(a,e){return{documents:[iS(a,e.path)]}}function PD(a,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=iS(a,s);const l=(function(p){if(p.length!==0)return oS(Or.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((_=>(function(y){return{field:vo(y.field),direction:qD(y.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=qg(a,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function jD(a){let e=ID(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ct(i===1,65062);const _=n.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(m){const y=sS(m);return y instanceof Or&&PA(y)?y.getFilters():[y]})(n.where));let c=[];n.orderBy&&(c=(function(m){return m.map((y=>(function(S){return new pu(_o(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let h=null;n.limit&&(h=(function(m){let y;return y=typeof m=="object"?m.value:m,rh(y)?null:y})(n.limit));let d=null;n.startAt&&(d=(function(m){const y=!!m.before,v=m.values||[];return new Bf(v,y)})(n.startAt));let p=null;return n.endAt&&(p=(function(m){const y=!m.before,v=m.values||[];return new Bf(v,y)})(n.endAt)),tD(e,s,c,l,h,"F",d,p)}function VD(a,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=_o(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=_o(n.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(n.unaryFilter.field);return Yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_o(n.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Yt.create(_o(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return Or.create(n.compositeFilter.filters.map((i=>sS(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(a):qe(30097,{filter:a})}function qD(a){return xD[a]}function UD(a){return RD[a]}function BD(a){return ND[a]}function vo(a){return{fieldPath:a.canonicalString()}}function _o(a){return dn.fromServerFormat(a.fieldPath)}function oS(a){return a instanceof Yt?(function(n){if(n.op==="=="){if(C1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(O1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(O1(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:UD(n.op),value:n.value}}})(a):a instanceof Or?(function(n){const i=n.getFilters().map((s=>oS(s)));return i.length===1?i[0]:{compositeFilter:{op:BD(n.op),filters:i}}})(a):qe(54877,{filter:a})}function zD(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lS(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ba{constructor(e,n,i,s,l=ze.min(),c=ze.min(),h=mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HD{constructor(e){this.yt=e}}function FD(a){const e=jD({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Vg(e,e.limit,"L"):e}class GD{constructor(){this.Cn=new KD}addToCollectionParentIndex(e,n){return this.Cn.add(n),Te.resolve()}getCollectionParents(e,n){return Te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Te.resolve()}deleteFieldIndex(e,n){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,n){return Te.resolve()}getDocumentsMatchingTarget(e,n){return Te.resolve(null)}getIndexType(e,n){return Te.resolve(0)}getFieldIndexes(e,n){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,n){return Te.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,n){return Te.resolve(xa.min())}updateCollectionGroup(e,n,i){return Te.resolve()}updateIndexEntries(e,n){return Te.resolve()}}class KD{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Zt(_t.comparator),l=!s.has(i);return this.index[n]=s.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Zt(_t.comparator)).toArray()}}const F1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(uS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const G1="LruGarbageCollector",YD=1048576;function K1([a,e],[n,i]){const s=et(a,n);return s===0?et(e,i):s}class QD{constructor(e){this.Ir=e,this.buffer=new Zt(K1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();K1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XD{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Oe(G1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?Oe(G1,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.Vr(3e5)}))}}class WD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return Te.resolve(nh.ce);const i=new QD(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(F1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,l,c,h,d,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,c=Date.now(),this.nthSequenceNumber(e,s)))).next((m=>(i=m,h=Date.now(),this.removeTargets(e,i,n)))).next((m=>(l=m,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((m=>(p=Date.now(),go()<=$e.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${m} documents in `+(p-d)+`ms
Total Duration: ${p-_}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:m}))))}}function ZD(a,e){return new WD(a,e)}class JD{constructor(){this.changes=new Ts((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ek{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&ou(i.mutation,s,xr.empty(),At.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,tt()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=tt()){const s=hs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((l=>{let c=Zl();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=hs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,tt())))}populateOverlays(e,n,i){const s=[];return i.forEach((l=>{n.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,s){let l=Li();const c=su(),h=(function(){return su()})();return n.forEach(((d,p)=>{const _=i.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof ws)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),ou(_.mutation,p,_.mutation.getFieldMask(),At.now())):c.set(p.key,xr.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,_)=>c.set(p,_))),n.forEach(((p,_)=>h.set(p,new $D(_,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=su();let s=new Ot(((c,h)=>c-h)),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let _=i.get(d)||xr.empty();_=h.applyToLocalView(p,_),i.set(d,_);const m=(s.get(h.batchId)||tt()).add(d);s=s.insert(h.batchId,m)}))})).next((()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,_=d.value,m=GA();_.forEach((y=>{if(!l.has(y)){const v=ZA(n.get(y),i.get(y));v!==null&&m.set(y,v),l=l.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,m))}return Te.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-l.size):Te.resolve(hs());let h=fu,d=l;return c.next((p=>Te.forEach(p,((_,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),l.get(_)?Te.resolve():this.remoteDocumentCache.getEntry(e,_).next((y=>{d=d.insert(_,y)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,tt()))).next((_=>({batchId:h,changes:FA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((i=>{let s=Zl();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const l=n.collectionGroup;let c=Zl();return this.indexManager.getCollectionParents(e,l).next((h=>Te.forEach(h,(d=>{const p=(function(m,y){return new Bo(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next((_=>{_.forEach(((m,y)=>{c=c.insert(m,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,s)))).next((c=>{l.forEach(((d,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,vn.newInvalidDocument(_)))}));let h=Zl();return c.forEach(((d,p)=>{const _=l.get(d);_!==void 0&&ou(_.mutation,p,xr.empty(),At.now()),sh(n,p)&&(h=h.insert(d,p))})),h}))}}class tk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ti(s.createTime)}})(n)),Te.resolve()}getNamedQuery(e,n){return Te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:FD(s.bundledQuery),readTime:ti(s.readTime)}})(n)),Te.resolve()}}class nk{constructor(){this.overlays=new Ot(ke.comparator),this.qr=new Map}getOverlay(e,n){return Te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=hs();return Te.forEach(n,(s=>this.getOverlay(e,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,l)=>{this.St(e,n,l)})),Te.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),Te.resolve()}getOverlaysForCollection(e,n,i){const s=hs(),l=n.length+1,c=new ke(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&s.set(d.getKey(),d)}return Te.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let l=new Ot(((p,_)=>p-_));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let _=l.get(p.largestBatchId);_===null&&(_=hs(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=hs(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,_)=>h.set(p,_))),!(h.size()>=s)););return Te.resolve(h)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new bD(n,i));let l=this.qr.get(n);l===void 0&&(l=tt(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class rk{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Te.resolve()}}class Ry{constructor(){this.Qr=new Zt(rn.$r),this.Ur=new Zt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new rn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new rn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new ke(new _t([])),i=new rn(n,e),s=new rn(n,e+1),l=[];return this.Ur.forEachInRange([i,s],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new _t([])),i=new rn(n,e),s=new rn(n,e+1);let l=tt();return this.Ur.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new rn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}class ik{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(rn.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _D(l,n,i,s);this.mutationQueue.push(c);for(const h of s)this.Zr=this.Zr.add(new rn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,n){return Te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),l=s<0?0:s;return Te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?gy:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new rn(n,0),s=new rn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,s],(c=>{const h=this.Xr(c.Yr);l.push(h)})),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Zt(et);return n.forEach((s=>{const l=new rn(s,0),c=new rn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{i=i.add(h.Yr)}))})),Te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let l=i;ke.isDocumentKey(l)||(l=l.child(""));const c=new rn(new ke(l),0);let h=new Zt(et);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.Yr)),!0)}),c),Te.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Te.forEach(n.mutations,(s=>{const l=new rn(s.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new rn(n,0),s=this.Zr.firstAfterOrEqual(i);return Te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ak{constructor(e){this.ri=e,this.docs=(function(){return new Ot(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),l=s?s.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Te.resolve(i?i.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let i=Li();return n.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():vn.newInvalidDocument(s))})),Te.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let l=Li();const c=n.path,h=new ke(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||k4(D4(_),i)<=0||(s.has(_.key)||sh(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Te.resolve(l)}getAllFromCollectionGroup(e,n,i,s){qe(9500)}ii(e,n){return Te.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new sk(this)}getSize(e){return Te.resolve(this.size)}}class sk extends JD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),Te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class ok{constructor(e){this.persistence=e,this.si=new Ts((n=>_y(n)),by),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Ry,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Te.resolve()}updateTargetData(e,n){return this.Pr(n),Te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,n,i){let s=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),Te.waitFor(l).next((()=>s))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return Te.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),Te.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),Te.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Te.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return Te.resolve(i)}containsKey(e,n){return Te.resolve(this._i.containsKey(n))}}class cS{constructor(e,n){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new rk,this.referenceDelegate=e(this),this.Pi=new ok(this),this.indexManager=new GD,this.remoteDocumentCache=(function(s){return new ak(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new HD(n),this.Ii=new tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new ik(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Oe("MemoryPersistence","Starting transaction:",e);const s=new lk(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ai(e,n){return Te.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class lk extends L4{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.Ri=new Ry,this.Vi=null}static mi(e){return new Ny(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(i=>{const s=ke.fromPath(i);return this.gi(e,s).next((l=>{l||n.removeEntry(s,ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Te.or([()=>Te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ff{constructor(e,n){this.persistence=e,this.pi=new Ts((i=>V4(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=ZD(this,n)}static mi(e,n){return new Ff(e,n)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return Te.forEach(this.pi,((i,s)=>this.br(e,i,s).next((l=>l?Te.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,n).next((h=>{h||(i++,l.removeEntry(c,ze.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Te.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wf(e.data.value)),n}br(e,n,i){return Te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Te.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Oy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=tt(),s=tt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Oy(e,n.fromCache,i,s)}}class uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ck{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VN()?8:P4(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new uk;return this.Ss(e,n,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>l.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(go()<=$e.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(go()<=$e.DEBUG&&Oe("QueryEngine","Query:",yo(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(go()<=$e.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):Te.resolve())}ys(e,n){if(M1(n))return Te.resolve(null);let i=ei(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Vg(n,null,"F"),i=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=tt(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,c,d.readTime)?this.ys(e,Vg(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,i,s){return M1(n)||s.isEqual(ze.min())?Te.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,s)?Te.resolve(null):(go()<=$e.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yo(n)),this.vs(e,c,n,I4(s,fu)).next((h=>h)))}))}Ds(e,n){let i=new Zt(zA(e));return n.forEach(((s,l)=>{sh(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,n,i){return go()<=$e.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,xa.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Cy="LocalStore",fk=3e8;class hk{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ot(et),this.xs=new Ts((l=>_y(l)),by),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ek(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dk(a,e,n,i){return new hk(a,e,n,i)}async function fS(a,e){const n=Fe(a);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let d=tt();for(const p of s){c.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}for(const p of l){h.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}return n.localDocuments.getDocuments(i,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function mk(a,e){const n=Fe(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,_){const m=p.batch,y=m.keys();let v=Te.resolve();return y.forEach((S=>{v=v.next((()=>_.getEntry(d,S))).next((T=>{const A=p.docVersions.get(S);ct(A!==null,48541),T.version.compareTo(A)<0&&(m.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),_.addEntry(T)))}))})),v.next((()=>h.mutationQueue.removeMutationBatch(d,m)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=tt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function hS(a){const e=Fe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pk(a,e){const n=Fe(a),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach(((_,m)=>{const y=s.get(m);if(!y)return;h.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(l,_.addedDocuments,m))));let v=y.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(mn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(_.resumeToken,i)),s=s.insert(m,v),(function(T,A,E){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=fk?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(y,v,_)&&h.push(n.Pi.updateTargetData(l,v))}));let d=Li(),p=tt();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),h.push(gk(l,c,e.documentUpdates).next((_=>{d=_.ks,p=_.qs}))),!i.isEqual(ze.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next((m=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(_)}return Te.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=s,l)))}function gk(a,e,n){let i=tt(),s=tt();return n.forEach((l=>i=i.add(l))),e.getEntries(a,i).next((l=>{let c=Li();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Oe(Cy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:s}}))}function yk(a,e){const n=Fe(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=gy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function vk(a,e){const n=Fe(a);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((l=>l?(s=l,Te.resolve(s)):n.Pi.allocateTargetId(i).next((c=>(s=new ba(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Hg(a,e,n){const i=Fe(a),s=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Uo(c))throw c;Oe(Cy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function Y1(a,e,n){const i=Fe(a);let s=ze.min(),l=tt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,_){const m=Fe(d),y=m.xs.get(_);return y!==void 0?Te.resolve(m.Ms.get(y)):m.Pi.getTargetData(p,_)})(i,c,ei(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?s:ze.min(),n?l:tt()))).next((h=>(_k(i,rD(e),h),{documents:h,Qs:l})))))}function _k(a,e,n){let i=a.Os.get(e)||ze.min();n.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),a.Os.set(e,i)}class Q1{constructor(){this.activeTargetIds=uD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bk{constructor(){this.Mo=new Q1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ek{Oo(e){}shutdown(){}}const X1="ConnectivityMonitor";class W1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Oe(X1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Oe(X1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function Fg(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const Pm="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===qf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,l){const c=Fg(),h=this.zo(e,n.toUriEncodedString());Oe(Pm,`Sending RPC '${e}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,l);const{host:p}=new URL(h),_=Lo(p);return this.Jo(e,h,d,i,_).then((m=>(Oe(Pm,`Received RPC '${e}' ${c}: `,m),m)),(m=>{throw Ro(Pm,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",i),m}))}Ho(e,n,i,s,l,c){return this.Go(e,n,i,s,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>e[l]=s)),i&&i.headers.forEach(((s,l)=>e[l]=s))}zo(e,n){const i=Tk[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class Ak{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gn="WebChannelConnection";class Sk extends wk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,l){const c=Fg();return new Promise(((h,d)=>{const p=new pA;p.setWithCredentials(!0),p.listenOnce(gA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Tf.NO_ERROR:const m=p.getResponseJson();Oe(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(m)),h(m);break;case Tf.TIMEOUT:Oe(gn,`RPC '${e}' ${c} timed out`),d(new Ne(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const y=p.getStatus();if(Oe(gn,`RPC '${e}' ${c} failed with status:`,y,"response text:",p.getResponseText()),y>0){let v=p.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v?.error;if(S&&S.status&&S.message){const T=(function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(w)>=0?w:_e.UNKNOWN})(S.status);d(new Ne(T,S.message))}else d(new Ne(_e.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ne(_e.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Oe(gn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(s);Oe(gn,`RPC '${e}' ${c} sending request:`,s),p.send(n,"POST",_,i,15)}))}T_(e,n,i){const s=Fg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=_A(),h=vA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const _=l.join("");Oe(gn,`Creating RPC '${e}' stream ${s}: ${_}`,d);const m=c.createWebChannel(_,d);this.I_(m);let y=!1,v=!1;const S=new Ak({Yo:A=>{v?Oe(gn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(y||(Oe(gn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),y=!0),Oe(gn,`RPC '${e}' stream ${s} sending:`,A),m.send(A))},Zo:()=>m.close()}),T=(A,E,w)=>{A.listen(E,(I=>{try{w(I)}catch(x){setTimeout((()=>{throw x}),0)}}))};return T(m,Wl.EventType.OPEN,(()=>{v||(Oe(gn,`RPC '${e}' stream ${s} transport opened.`),S.o_())})),T(m,Wl.EventType.CLOSE,(()=>{v||(v=!0,Oe(gn,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(m))})),T(m,Wl.EventType.ERROR,(A=>{v||(v=!0,Ro(gn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Ne(_e.UNAVAILABLE,"The operation could not be completed")))})),T(m,Wl.EventType.MESSAGE,(A=>{if(!v){const E=A.data[0];ct(!!E,16349);const w=E,I=w?.error||w[0]?.error;if(I){Oe(gn,`RPC '${e}' stream ${s} received error:`,I);const x=I.status;let j=(function(O){const P=Kt[O];if(P!==void 0)return $A(P)})(x),B=I.message;j===void 0&&(j=_e.INTERNAL,B="Unknown error status: "+x+" with message "+I.message),v=!0,S.a_(new Ne(j,B)),m.close()}else Oe(gn,`RPC '${e}' stream ${s} received:`,E),S.u_(E)}})),T(h,yA.STAT_EVENT,(A=>{A.stat===Ig.PROXY?Oe(gn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Ig.NOPROXY&&Oe(gn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jm(){return typeof document<"u"?document:null}function ch(a){return new OD(a,!0)}class dS{constructor(e,n,i=1e3,s=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Z1="PersistentStream";class mS{constructor(e,n,i,s,l,c,h,d){this.Mi=e,this.S_=i,this.b_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new Ne(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(Z1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Oe(Z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xk extends mS{constructor(e,n,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DD(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?ti(c.readTime):ze.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=zg(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=Pg(d)?{documents:LD(l,d)}:{query:PD(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=nS(l,c.resumeToken);const p=qg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Hf(l,c.snapshotVersion.toTimestamp());const p=qg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=VD(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=zg(this.serializer),n.removeTarget=e,this.q_(n)}}class Rk extends mS{constructor(e,n,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MD(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=zg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>kD(this.serializer,i)))};this.q_(n)}}class Nk{}class Ok extends Nk{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ne(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Ug(n,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(_e.UNKNOWN,l.toString())}))}Ho(e,n,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Ug(n,i),s,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ne(_e.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ck{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(n),this.aa=!1):Oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _s="RemoteStore";class Ik{constructor(e,n,i,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{As(this)&&(Oe(_s,"Restarting streams for network reachability change."),await(async function(d){const p=Fe(d);p.Ea.add(4),await Cu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await fh(p)})(this))}))})),this.Ra=new Ck(i,s)}}async function fh(a){if(As(a))for(const e of a.da)await e(!0)}async function Cu(a){for(const e of a.da)await e(!1)}function pS(a,e){const n=Fe(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),My(n)?ky(n):zo(n).O_()&&Dy(n,e))}function Iy(a,e){const n=Fe(a),i=zo(n);n.Ia.delete(e),i.O_()&&gS(n,e),n.Ia.size===0&&(i.O_()?i.L_():As(n)&&n.Ra.set("Unknown"))}function Dy(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(a).Y_(e)}function gS(a,e){a.Va.Ue(e),zo(a).Z_(e)}function ky(a){a.Va=new SD({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),zo(a).start(),a.Ra.ua()}function My(a){return As(a)&&!zo(a).x_()&&a.Ia.size>0}function As(a){return Fe(a).Ea.size===0}function yS(a){a.Va=void 0}async function Dk(a){a.Ra.set("Online")}async function kk(a){a.Ia.forEach(((e,n)=>{Dy(a,e)}))}async function Mk(a,e){yS(a),My(a)?(a.Ra.ha(e),ky(a)):a.Ra.set("Unknown")}async function Lk(a,e,n){if(a.Ra.set("Online"),e instanceof tS&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const h of l.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.Ia.delete(h),s.Va.removeTarget(h))})(a,e)}catch(i){Oe(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Gf(a,i)}else if(e instanceof xf?a.Va.Ze(e):e instanceof eS?a.Va.st(e):a.Va.tt(e),!n.isEqual(ze.min()))try{const i=await hS(a.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const _=l.Ia.get(d);if(!_)return;l.Ia.set(d,_.withResumeToken(mn.EMPTY_BYTE_STRING,_.snapshotVersion)),gS(l,d);const m=new ba(_.target,d,p,_.sequenceNumber);Dy(l,m)})),l.remoteSyncer.applyRemoteEvent(h)})(a,n)}catch(i){Oe(_s,"Failed to raise snapshot:",i),await Gf(a,i)}}async function Gf(a,e,n){if(!Uo(e))throw e;a.Ea.add(1),await Cu(a),a.Ra.set("Offline"),n||(n=()=>hS(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Oe(_s,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await fh(a)}))}function vS(a,e){return e().catch((n=>Gf(a,n,e)))}async function hh(a){const e=Fe(a),n=Ca(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gy;for(;Pk(e);)try{const s=await yk(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,jk(e,s)}catch(s){await Gf(e,s)}_S(e)&&bS(e)}function Pk(a){return As(a)&&a.Ta.length<10}function jk(a,e){a.Ta.push(e);const n=Ca(a);n.O_()&&n.X_&&n.ea(e.mutations)}function _S(a){return As(a)&&!Ca(a).x_()&&a.Ta.length>0}function bS(a){Ca(a).start()}async function Vk(a){Ca(a).ra()}async function qk(a){const e=Ca(a);for(const n of a.Ta)e.ea(n.mutations)}async function Uk(a,e,n){const i=a.Ta.shift(),s=Ay.from(i,e,n);await vS(a,(()=>a.remoteSyncer.applySuccessfulWrite(s))),await hh(a)}async function Bk(a,e){e&&Ca(a).X_&&await(async function(i,s){if((function(c){return TD(c)&&c!==_e.ABORTED})(s.code)){const l=i.Ta.shift();Ca(i).B_(),await vS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await hh(i)}})(a,e),_S(a)&&bS(a)}async function J1(a,e){const n=Fe(a);n.asyncQueue.verifyOperationInProgress(),Oe(_s,"RemoteStore received new credentials");const i=As(n);n.Ea.add(3),await Cu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fh(n)}async function zk(a,e){const n=Fe(a);e?(n.Ea.delete(2),await fh(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function zo(a){return a.ma||(a.ma=(function(n,i,s){const l=Fe(n);return l.sa(),new xk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Xo:Dk.bind(null,a),t_:kk.bind(null,a),r_:Mk.bind(null,a),H_:Lk.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),My(a)?ky(a):a.Ra.set("Unknown")):(await a.ma.stop(),yS(a))}))),a.ma}function Ca(a){return a.fa||(a.fa=(function(n,i,s){const l=Fe(n);return l.sa(),new Rk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vk.bind(null,a),r_:Bk.bind(null,a),ta:qk.bind(null,a),na:Uk.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await hh(a)):(await a.fa.stop(),a.Ta.length>0&&(Oe(_s,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Ly{constructor(e,n,i,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,l){const c=Date.now()+i,h=new Ly(e,n,c,s,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Py(a,e){if(ki("AsyncQueue",`${e}: ${a}`),Uo(a))return new Ne(_e.UNAVAILABLE,`${e}: ${a}`);throw a}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ke.comparator(n.key,i.key):(n,i)=>ke.comparator(n.key,i.key),this.keyedMap=Zl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class $1{constructor(){this.ga=new Ot(ke.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Do{constructor(e,n,i,s,l,c,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,s,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Do(e,n,wo.emptySet(n),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}class Hk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Fk{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Fe(n),l=s.queries;s.queries=eE(),l.forEach(((c,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new Ne(_e.ABORTED,"Firestore shutting down"))}}function eE(){return new Ts((a=>BA(a)),ah)}async function ES(a,e){const n=Fe(a);let i=3;const s=e.query;let l=n.queries.get(s);l?!l.ba()&&e.Da()&&(i=2):(l=new Hk,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(s,!0);break;case 1:l.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const h=Py(c,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&jy(n)}async function TS(a,e){const n=Fe(a),i=e.query;let s=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.Da()?0:1:!l.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Gk(a,e){const n=Fe(a);let i=!1;for(const s of e){const l=s.query,c=n.queries.get(l);if(c){for(const h of c.Sa)h.Fa(s)&&(i=!0);c.wa=s}}i&&jy(n)}function Kk(a,e,n){const i=Fe(a),s=i.queries.get(e);if(s)for(const l of s.Sa)l.onError(n);i.queries.delete(e)}function jy(a){a.Ca.forEach((e=>{e.next()}))}var Gg,tE;(tE=Gg||(Gg={})).Ma="default",tE.Cache="cache";class wS{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Do(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}class AS{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class Yk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=zA(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new $1,s=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((_,m)=>{const y=s.get(_),v=sh(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;y&&v?y.data.isEqual(v.data)?S!==T&&(i.track({type:3,doc:v}),A=!0):this.su(y,v)||(i.track({type:2,doc:v}),A=!0,(d&&this.eu(v,d)>0||p&&this.eu(v,p)<0)&&(h=!0)):!y&&v?(i.track({type:0,doc:v}),A=!0):y&&!v&&(i.track({type:1,doc:y}),A=!0,(d||p)&&(h=!0)),A&&(v?(c=c.add(v),l=T?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,m)=>(function(v,S){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:A})}};return T(v)-T(S)})(_.type,m.type)||this.eu(_.doc,m.doc))),this.ou(i),s=s??!1;const h=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new Do(this.query,e.tu,l,c,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new SS(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new AS(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vy="SyncEngine";class Qk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Xk{constructor(e){this.key=e,this.hu=!1}}class Wk{constructor(e,n,i,s,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ts((h=>BA(h)),ah),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(ke.comparator),this.Au=new Map,this.Ru=new Ry,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zk(a,e,n=!0){const i=IS(a);let s;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await xS(i,e,n,!0),s}async function Jk(a,e){const n=IS(a);await xS(n,e,!0,!1)}async function xS(a,e,n,i){const s=await vk(a.localStore,ei(e)),l=s.targetId,c=a.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await $k(a,e,l,c==="current",s.resumeToken)),a.isPrimaryClient&&n&&pS(a.remoteStore,s),h}async function $k(a,e,n,i,s){a.pu=(m,y,v)=>(async function(T,A,E,w){let I=A.view.ru(E);I.Cs&&(I=await Y1(T.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,I))));const x=w&&w.targetChanges.get(A.targetId),j=w&&w.targetMismatches.get(A.targetId)!=null,B=A.view.applyChanges(I,T.isPrimaryClient,x,j);return rE(T,A.targetId,B.au),B.snapshot})(a,m,y,v);const l=await Y1(a.localStore,e,!0),c=new Yk(e,l.Qs),h=c.ru(l.documents),d=Ou.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",s),p=c.applyChanges(h,a.isPrimaryClient,d);rE(a,n,p.au);const _=new Qk(e,n,c);return a.Tu.set(e,_),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),p.snapshot}async function e3(a,e,n){const i=Fe(a),s=i.Tu.get(e),l=i.Iu.get(s.targetId);if(l.length>1)return i.Iu.set(s.targetId,l.filter((c=>!ah(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Iy(i.remoteStore,s.targetId),Kg(i,s.targetId)})).catch(qo)):(Kg(i,s.targetId),await Hg(i.localStore,s.targetId,!0))}async function t3(a,e){const n=Fe(a),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Iy(n.remoteStore,i.targetId))}async function n3(a,e,n){const i=u3(a);try{const s=await(function(c,h){const d=Fe(c),p=At.now(),_=h.reduce(((v,S)=>v.add(S.key)),tt());let m,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=Li(),T=tt();return d.Ns.getEntries(v,_).next((A=>{S=A,S.forEach(((E,w)=>{w.isValidDocument()||(T=T.add(E))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,S))).next((A=>{m=A;const E=[];for(const w of h){const I=yD(w,m.get(w.key).overlayedDocument);I!=null&&E.push(new ws(w.key,I,kA(I.value.mapValue),Nr.exists(!0)))}return d.mutationQueue.addMutationBatch(v,p,E,h)})).next((A=>{y=A;const E=A.applyToLocalDocumentSet(m,T);return d.documentOverlayCache.saveOverlays(v,A.batchId,E)}))})).then((()=>({batchId:y.batchId,changes:FA(m)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(c,h,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new Ot(et)),p=p.insert(h,d),c.Vu[c.currentUser.toKey()]=p})(i,s.batchId,n),await Iu(i,s.changes),await hh(i.remoteStore)}catch(s){const l=Py(s,"Failed to persist write");n.reject(l)}}async function RS(a,e){const n=Fe(a);try{const i=await pk(n.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=n.Au.get(l);c&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?ct(c.hu,14607):s.removedDocuments.size>0&&(ct(c.hu,42227),c.hu=!1))})),await Iu(n,i,e)}catch(i){await qo(i)}}function nE(a,e,n){const i=Fe(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(c,h){const d=Fe(c);d.onlineState=h;let p=!1;d.queries.forEach(((_,m)=>{for(const y of m.Sa)y.va(h)&&(p=!0)})),p&&jy(d)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function r3(a,e,n){const i=Fe(a);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),l=s&&s.key;if(l){let c=new Ot(ke.comparator);c=c.insert(l,vn.newNoDocument(l,ze.min()));const h=tt().add(l),d=new uh(ze.min(),new Map,new Ot(et),c,h);await RS(i,d),i.du=i.du.remove(l),i.Au.delete(e),qy(i)}else await Hg(i.localStore,e,!1).then((()=>Kg(i,e,n))).catch(qo)}async function i3(a,e){const n=Fe(a),i=e.batch.batchId;try{const s=await mk(n.localStore,e);OS(n,i,null),NS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Iu(n,s)}catch(s){await qo(s)}}async function a3(a,e,n){const i=Fe(a);try{const s=await(function(c,h){const d=Fe(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return d.mutationQueue.lookupMutationBatch(p,h).next((m=>(ct(m!==null,37113),_=m.keys(),d.mutationQueue.removeMutationBatch(p,m)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>d.localDocuments.getDocuments(p,_)))}))})(i.localStore,e);OS(i,e,n),NS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Iu(i,s)}catch(s){await qo(s)}}function NS(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function OS(a,e,n){const i=Fe(a);let s=i.Vu[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Kg(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.Iu.get(e))a.Tu.delete(i),n&&a.Pu.yu(i,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((i=>{a.Ru.containsKey(i)||CS(a,i)}))}function CS(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(Iy(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),qy(a))}function rE(a,e,n){for(const i of n)i instanceof AS?(a.Ru.addReference(i.key,e),s3(a,i)):i instanceof SS?(Oe(Vy,"Document no longer in limbo: "+i.key),a.Ru.removeReference(i.key,e),a.Ru.containsKey(i.key)||CS(a,i.key)):qe(19791,{wu:i})}function s3(a,e){const n=e.key,i=n.path.canonicalString();a.du.get(n)||a.Eu.has(i)||(Oe(Vy,"New document in limbo: "+n),a.Eu.add(i),qy(a))}function qy(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new ke(_t.fromString(e)),i=a.fu.next();a.Au.set(i,new Xk(n)),a.du=a.du.insert(n,i),pS(a.remoteStore,new ba(ei(Ey(n.path)),i,"TargetPurposeLimboResolution",nh.ce))}}async function Iu(a,e,n){const i=Fe(a),s=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const _=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){s.push(p);const _=Oy.As(d.targetId,p);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(s),await(async function(d,p){const _=Fe(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Te.forEach(p,(y=>Te.forEach(y.Es,(v=>_.persistence.referenceDelegate.addReference(m,y.targetId,v))).next((()=>Te.forEach(y.ds,(v=>_.persistence.referenceDelegate.removeReference(m,y.targetId,v)))))))))}catch(m){if(!Uo(m))throw m;Oe(Cy,"Failed to update sequence numbers: "+m)}for(const m of p){const y=m.targetId;if(!m.fromCache){const v=_.Ms.get(y),S=v.snapshotVersion,T=v.withLastLimboFreeSnapshotVersion(S);_.Ms=_.Ms.insert(y,T)}}})(i.localStore,l))}async function o3(a,e){const n=Fe(a);if(!n.currentUser.isEqual(e)){Oe(Vy,"User change. New user:",e.toKey());const i=await fS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new Ne(_e.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Iu(n,i.Ls)}}function l3(a,e){const n=Fe(a),i=n.Au.get(e);if(i&&i.hu)return tt().add(i.key);{let s=tt();const l=n.Iu.get(e);if(!l)return s;for(const c of l){const h=n.Tu.get(c);s=s.unionWith(h.view.nu)}return s}}function IS(a){const e=Fe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r3.bind(null,e),e.Pu.H_=Gk.bind(null,e.eventManager),e.Pu.yu=Kk.bind(null,e.eventManager),e}function u3(a){const e=Fe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a3.bind(null,e),e}class Kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dk(this.persistence,new ck,e.initialUser,this.serializer)}Cu(e){return new cS(Ny.mi,this.serializer)}Du(e){return new bk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kf.provider={build:()=>new Kf};class c3 extends Kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Ff,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XD(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new cS((i=>Ff.mi(i,n)),this.serializer)}}class Yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=o3.bind(null,this.syncEngine),await zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Fk})()}createDatastore(e){const n=ch(e.databaseInfo.databaseId),i=(function(l){return new Sk(l)})(e.databaseInfo);return(function(l,c,h,d){return new Ok(l,c,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,l,c,h){return new Ik(i,s,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>nE(this.syncEngine,n,0)),(function(){return W1.v()?new W1:new Ek})())}createSyncEngine(e,n){return(function(s,l,c,h,d,p,_){const m=new Wk(s,l,c,h,d,p);return _&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Fe(n);Oe(_s,"RemoteStore shutting down."),i.Ea.add(5),await Cu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yg.provider={build:()=>new Yg};class DS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ia="FirestoreClient";class f3{constructor(e,n,i,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=py.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Oe(Ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Oe(Ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Py(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Vm(a,e){a.asyncQueue.verifyOperationInProgress(),Oe(Ia,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let i=n.initialUser;a.setCredentialChangeListener((async s=>{i.isEqual(s)||(await fS(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function iE(a,e){a.asyncQueue.verifyOperationInProgress();const n=await h3(a);Oe(Ia,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((i=>J1(e.remoteStore,i))),a.setAppCheckTokenChangeListener(((i,s)=>J1(e.remoteStore,s))),a._onlineComponents=e}async function h3(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Oe(Ia,"Using user provided OfflineComponentProvider");try{await Vm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===_e.FAILED_PRECONDITION||s.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Vm(a,new Kf)}}else Oe(Ia,"Using default OfflineComponentProvider"),await Vm(a,new c3(void 0));return a._offlineComponents}async function kS(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Oe(Ia,"Using user provided OnlineComponentProvider"),await iE(a,a._uninitializedComponentsProvider._online)):(Oe(Ia,"Using default OnlineComponentProvider"),await iE(a,new Yg))),a._onlineComponents}function d3(a){return kS(a).then((e=>e.syncEngine))}async function MS(a){const e=await kS(a),n=e.eventManager;return n.onListen=Zk.bind(null,e.syncEngine),n.onUnlisten=e3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t3.bind(null,e.syncEngine),n}function m3(a,e,n={}){const i=new Oi;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,p){const _=new DS({next:y=>{_.Nu(),c.enqueueAndForget((()=>TS(l,m)));const v=y.docs.has(h);!v&&y.fromCache?p.reject(new Ne(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?p.reject(new Ne(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:y=>p.reject(y)}),m=new wS(Ey(h.path),_,{includeMetadataChanges:!0,qa:!0});return ES(l,m)})(await MS(a),a.asyncQueue,e,n,i))),i.promise}function p3(a,e,n={}){const i=new Oi;return a.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,p){const _=new DS({next:y=>{_.Nu(),c.enqueueAndForget((()=>TS(l,m))),y.fromCache&&d.source==="server"?p.reject(new Ne(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:y=>p.reject(y)}),m=new wS(h,_,{includeMetadataChanges:!0,qa:!0});return ES(l,m)})(await MS(a),a.asyncQueue,e,n,i))),i.promise}function LS(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const aE=new Map;const PS="firestore.googleapis.com",sE=!0;class oE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=sE}else this.host=e.host,this.ssl=e.ssl??sE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YD)throw new Ne(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new b4;switch(i.type){case"firstParty":return new A4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=aE.get(n);i&&(Oe("ComponentProvider","Removing Datastore"),aE.delete(n),i.terminate())})(this),Promise.resolve()}}function g3(a,e,n,i={}){a=Mi(a,dh);const s=Lo(e),l=a._getSettings(),c={...l,emulatorOptions:a._getEmulatorOptions()},h=`${e}:${n}`;s&&(Sw(`https://${h}`),xw("Firestore",!0)),l.host!==PS&&l.host!==h&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:s,emulatorOptions:i};if(!ms(d,c)&&(a._setSettings(d),i.mockUserToken)){let p,_;if(typeof i.mockUserToken=="string")p=i.mockUserToken,_=yn.MOCK_USER;else{p=ON(i.mockUserToken,a._app?.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ne(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new yn(m)}a._authCredentials=new E4(new EA(p,_))}}class Ss{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class Xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ru(n,Xt._jsonSchema))return new Xt(e,i||null,new ke(_t.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Qt("string",Xt._jsonSchemaVersion),referencePath:Qt("string")};class Sa extends Ss{constructor(e,n,i){super(e,n,Ey(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ke(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function kn(a,e,...n){if(a=bn(a),TA("collection","path",e),a instanceof dh){const i=_t.fromString(e,...n);return b1(i),new Sa(a,null,i)}{if(!(a instanceof Xt||a instanceof Sa))throw new Ne(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(_t.fromString(e,...n));return b1(i),new Sa(a.firestore,null,i)}}function ur(a,e,...n){if(a=bn(a),arguments.length===1&&(e=py.newId()),TA("doc","path",e),a instanceof dh){const i=_t.fromString(e,...n);return _1(i),new Xt(a,null,new ke(i))}{if(!(a instanceof Xt||a instanceof Sa))throw new Ne(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(_t.fromString(e,...n));return _1(i),new Xt(a.firestore,a instanceof Sa?a.converter:null,new ke(i))}}const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dS(this,"async_queue_retry"),this._c=()=>{const i=jm();i&&Oe(lE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Oi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;Oe(lE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",cE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ly.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&qe(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cE(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Ho extends dh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new uE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function y3(a,e){const n=typeof a=="object"?a:Cw(),i=typeof a=="string"?a:qf,s=ry(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=RN("firestore");l&&g3(s,...l)}return s}function Uy(a){if(a._terminated)throw new Ne(_e.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||v3(a),a._firestoreClient}function v3(a){const e=a._freezeSettings(),n=(function(s,l,c,h){return new B4(s,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new f3(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(a._componentsProvider))}class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(mn.fromBase64String(e))}catch(n){throw new Ne(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:Qt("string",sr._jsonSchemaVersion),bytes:Qt("string")};class By{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zy{constructor(e){this._methodName=e}}class ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:Qt("string",ni._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class ri{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ri(e.vectorValues);throw new Ne(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Qt("string",ri._jsonSchemaVersion),vectorValues:Qt("object")};const _3=/^__.*__$/;class b3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function jS(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:a})}}class Hy{constructor(e,n,i,s,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jS(this.Ac)&&_3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class E3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ch(e)}Cc(e,n,i,s=!1){return new Hy({Ac:e,methodName:n,Dc:i,path:dn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fy(a){const e=a._freezeSettings(),n=ch(a._databaseId);return new E3(a._databaseId,!!e.ignoreUndefinedProperties,n)}function VS(a,e,n,i,s,l={}){const c=a.Cc(l.merge||l.mergeFields?2:0,e,n,s);BS("Data must be an object, but it was:",c,i);const h=qS(i,c);let d,p;if(l.merge)d=new xr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const m of l.mergeFields){const y=w3(e,m,n);if(!c.contains(y))throw new Ne(_e.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);S3(_,y)||_.push(y)}d=new xr(_),p=c.fieldTransforms.filter((m=>d.covers(m.field)))}else d=null,p=c.fieldTransforms;return new b3(new ar(h),d,p)}class Gy extends zy{_toFieldTransform(e){return new dD(e.path,new gu)}isEqual(e){return e instanceof Gy}}function T3(a,e,n,i=!1){return Ky(n,a.Cc(i?4:3,e))}function Ky(a,e){if(US(a=bn(a)))return BS("Unsupported field value:",e,a),qS(a,e);if(a instanceof zy)return(function(i,s){if(!jS(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const h of i){let d=Ky(h,s.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(a,e)}return(function(i,s){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cD(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:Hf(s.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hf(s.serializer,l)}}if(i instanceof ni)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sr)return{bytesValue:nS(s.serializer,i._byteString)};if(i instanceof Xt){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ri)return(function(c,h){return{mapValue:{fields:{[IA]:{stringValue:DA},[Uf]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ty(h.serializer,p)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${th(i)}`)})(a,e)}function qS(a,e){const n={};return SA(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(a,((i,s)=>{const l=Ky(s,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function US(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof At||a instanceof ni||a instanceof sr||a instanceof Xt||a instanceof zy||a instanceof ri)}function BS(a,e,n){if(!US(n)||!wA(n)){const i=th(n);throw i==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+i)}}function w3(a,e,n){if((e=bn(e))instanceof By)return e._internalPath;if(typeof e=="string")return zS(a,e);throw Yf("Field path arguments must be of type string or ",a,!1,void 0,n)}const A3=new RegExp("[~\\*/\\[\\]]");function zS(a,e,n){if(e.search(A3)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new By(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Yf(a,e,n,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${i}`),c&&(d+=` in document ${s}`),d+=")"),new Ne(_e.INVALID_ARGUMENT,h+a+d)}function S3(a,e){return a.some((n=>n.isEqual(e)))}class HS{constructor(e,n,i,s,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x3 extends HS{data(){return super.data()}}function Yy(a,e){return typeof e=="string"?zS(a,e):e instanceof By?e._internalPath:e._delegate._internalPath}function R3(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Ne(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qy{}class FS extends Qy{}function xs(a,e,...n){let i=[];e instanceof Qy&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((d=>d instanceof Wy)).length,h=l.filter((d=>d instanceof Xy)).length;if(c>1||c>0&&h>0)throw new Ne(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)a=s._apply(a);return a}class Xy extends FS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Xy(e,n,i)}_apply(e){const n=this._parse(e);return GS(e._query,n),new Ss(e.firestore,e.converter,jg(e._query,n))}_parse(e){const n=Fy(e.firestore);return(function(l,c,h,d,p,_,m){let y;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ne(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){hE(m,_);const S=[];for(const T of m)S.push(fE(d,l,T));y={arrayValue:{values:S}}}else y=fE(d,l,m)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||hE(m,_),y=T3(h,c,m,_==="in"||_==="not-in");return Yt.create(p,_,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wy extends Qy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wy(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,l){let c=s;const h=l.getFlattenedFilters();for(const d of h)GS(c,d),c=jg(c,d)})(e._query,n),new Ss(e.firestore,e.converter,jg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zy extends FS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zy(e,n)}_apply(e){const n=(function(s,l,c){if(s.startAt!==null)throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pu(l,c)})(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,(function(s,l){const c=s.explicitOrderBy.concat([l]);return new Bo(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Rs(a,e="asc"){const n=e,i=Yy("orderBy",a);return Zy._create(i,n)}function fE(a,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UA(e)&&n.indexOf("/")!==-1)throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(_t.fromString(n));if(!ke.isDocumentKey(i))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return N1(a,new ke(i))}if(n instanceof Xt)return N1(a,n._key);throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(n)}.`)}function hE(a,e){if(!Array.isArray(a)||a.length===0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(a,e){const n=(function(s,l){for(const c of s)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(a.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N3{convertValue(e,n="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Es(e,((s,l)=>{i[s]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[Uf].arrayValue?.values?.map((i=>jt(i.doubleValue)));return new ri(n)}convertGeoPoint(e){return new ni(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ih(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=Ra(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=_t.fromString(e);ct(lS(i),9688,{name:e});const s=new du(i.get(1),i.get(3)),l=new ke(i.popFirst(5));return s.isEqual(n)||ki(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function KS(a,e,n){let i;return i=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,i}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ds extends HS{constructor(e,n,i,s,l,c){super(e,n,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Yy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:Qt("string",ds._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Rf extends ds{data(e={}){return super.data(e)}}class Ao{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $l(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Rf(this._firestore,this._userDataWriter,i.key,i,new $l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((h=>{const d=new Rf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new $l(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Rf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new $l(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:O3(h.type),doc:d,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=py.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O3(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:a})}}function Du(a){a=Mi(a,Xt);const e=Mi(a.firestore,Ho);return m3(Uy(e),a._key).then((n=>C3(e,a,n)))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Qt("string",Ao._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class YS extends N3{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function ai(a){a=Mi(a,Ss);const e=Mi(a.firestore,Ho),n=Uy(e),i=new YS(e);return R3(a._query),p3(n,a._query).then((s=>new Ao(e,i,a,s)))}function dE(a,e,n){a=Mi(a,Xt);const i=Mi(a.firestore,Ho),s=KS(a.converter,e,n);return Jy(i,[VS(Fy(i),"setDoc",a._key,s,a.converter!==null,n).toMutation(a._key,Nr.none())])}function mh(a){return Jy(Mi(a.firestore,Ho),[new wy(a._key,Nr.none())])}function ph(a,e){const n=Mi(a.firestore,Ho),i=ur(a),s=KS(a.converter,e);return Jy(n,[VS(Fy(a.firestore),"addDoc",i._key,s,a.converter!==null,{}).toMutation(i._key,Nr.exists(!1))]).then((()=>i))}function Jy(a,e){return(function(i,s){const l=new Oi;return i.asyncQueue.enqueueAndForget((async()=>n3(await d3(i),s,l))),l.promise})(Uy(a),e)}function C3(a,e,n){const i=n.docs.get(e._key),s=new YS(a);return new ds(a,s,e._key,i,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function gh(){return new Gy("serverTimestamp")}(function(e,n=!0){(function(s){Vo=s})(Po),So(new ps("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Ho(new T4(i.getProvider("auth-internal")),new S4(c,i.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ne(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(p.options.projectId,_)})(c,s),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),wa(p1,g1,e),wa(p1,g1,"esm2020")})();const I3={apiKey:"AIzaSyB3nTJlyM3K-XpvEUrXyk3leiVeMxzkTiU",authDomain:"forexvolcano-21180.firebaseapp.com",projectId:"forexvolcano-21180",storageBucket:"forexvolcano-21180.firebasestorage.app",messagingSenderId:"264687169302",appId:"1:264687169302:web:83322d7adc303b1f0c2a37",measurementId:"G-XTB0D1TPS6"},QS=Ow(I3),or=v4(QS),St=y3(QS),D3=()=>{const[a,e]=ae.useState(null),n=ka();ae.useEffect(()=>{const s=tA(or,l=>{e(l)});return()=>s()},[]);const i=async()=>{try{await lI(or),n("/")}catch(s){console.error("Error logging out",s)}};return k.jsx("nav",{className:"bg-surface border-b border-gray-800 sticky top-0 z-50",children:k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex items-center justify-between h-16",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(hn,{to:"/",className:"flex-shrink-0",children:k.jsxs("span",{className:"text-secondary text-2xl font-bold tracking-tighter",children:["Forex",k.jsx("span",{className:"text-accent",children:"Volcano"})]})}),k.jsx("div",{className:"hidden md:block",children:k.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[k.jsx(hn,{to:"/analysis",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Analysis"}),k.jsx(hn,{to:"/news",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"News"})]})})]}),k.jsx("div",{className:"hidden md:block",children:k.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:a?k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(hn,{to:"/dashboard",className:"text-primary hover:text-green-400 font-medium px-3 py-2",children:"Dashboard"}),k.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]}):k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx(hn,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),k.jsx(hn,{to:"/register",className:"bg-primary hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Get Started"})]})})}),k.jsx("div",{className:"-mr-2 flex md:hidden",children:k.jsxs("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[k.jsx("span",{className:"sr-only",children:"Open main menu"}),k.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},k3=()=>k.jsx("footer",{className:"bg-[#05080f] border-t border-gray-800/50 py-12",children:k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[k.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[k.jsxs(hn,{to:"/",className:"text-2xl font-bold tracking-tighter text-secondary",children:["Forex",k.jsx("span",{className:"text-accent",children:"Volcano"})]}),k.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[" ",new Date().getFullYear()," ForexVolcano. All rights reserved."]})]}),k.jsxs("div",{className:"flex space-x-8",children:[k.jsx(hn,{to:"/analysis",className:"text-gray-400 hover:text-white transition-colors",children:"Analysis"}),k.jsx(hn,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"News"}),k.jsx(hn,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})]})]})})}),mE={primary:"bg-primary hover:bg-green-500 text-white shadow-lg shadow-green-900/20",secondary:"bg-secondary hover:bg-red-500 text-white shadow-lg shadow-red-900/20",accent:"bg-accent hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",outline:"border-2 border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white bg-transparent",ghost:"text-slate-400 hover:text-white hover:bg-white/5"},pE={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base font-semibold",lg:"px-8 py-4 text-lg font-bold"},Jt=({children:a,variant:e="primary",size:n="md",to:i=null,onClick:s,className:l="",...c})=>{const h="inline-flex items-center justify-center rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e17] focus:ring-slate-400",d=mE[e]||mE.primary,p=pE[n]||pE.md,_=`${h} ${d} ${p} ${l}`;return i?k.jsx(hn,{to:i,className:_,...c,children:a}):k.jsx("button",{onClick:s,className:_,...c,children:a})},M3=()=>k.jsxs("div",{className:"relative overflow-hidden bg-background pt-16 pb-32 lg:pt-32 lg:pb-40",children:[k.jsxs("div",{className:"absolute top-0 left-1/2 w-full -translate-x-1/2 h-full z-0 pointer-events-none",children:[k.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px] animate-pulse"}),k.jsx("div",{className:"absolute top-[10%] right-[20%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[80px]"})]}),k.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[k.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-white mb-6",children:["Predict the ",k.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent",children:"Eruption"})]}),k.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-400 mb-10",children:"Professional Forex education and institutional-grade analysis. Stop guessing. Start trading with the precision of a geologist."}),k.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[k.jsx(Jt,{to:"/register",variant:"primary",size:"lg",children:"Start Learning Free"}),k.jsx(Jt,{to:"/analysis",variant:"outline",size:"lg",children:"View Daily Analysis"})]}),k.jsxs("div",{className:"mt-16 relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent z-10 h-20 bottom-0 pointer-events-none"}),k.jsxs("div",{className:"inline-flex items-center gap-8 py-3 px-8 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm shadow-2xl",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"font-bold text-white",children:"EUR/USD"}),k.jsx("span",{className:"text-primary text-sm",children:" 1.0842"})]}),k.jsx("div",{className:"w-px h-4 bg-gray-700"}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"font-bold text-white",children:"GBP/USD"}),k.jsx("span",{className:"text-secondary text-sm",children:" 1.2615"})]}),k.jsx("div",{className:"w-px h-4 bg-gray-700"}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"font-bold text-white",children:"XAU/USD"}),k.jsx("span",{className:"text-accent text-sm",children:" 2045.50"})]})]})]})]})]}),L3=[{title:"Structured Learning Path",description:'From "What is a Pip?" to institutional order flow. Our curriculum guides you step-by-step through the chaos.',icon:k.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),borderColor:"border-primary/20",iconBg:"bg-primary/10"},{title:"Daily Market Analysis",description:`Don't trade alone. Get daily "Volcano Watch" reports identifying high-probability setups before they erupt.`,icon:k.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),borderColor:"border-secondary/20",iconBg:"bg-secondary/10"},{title:"Risk Management",description:"The volcano is dangerous. Learn how to survive. Our strict risk protocols are the core of our philosophy.",icon:k.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),borderColor:"border-accent/20",iconBg:"bg-accent/10"}],P3=()=>k.jsx("div",{className:"py-24 bg-surface",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"text-center mb-16",children:[k.jsx("h2",{className:"text-base text-accent font-semibold tracking-wide uppercase",children:"Why Choose Us"}),k.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"A Better Way to Trade"})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:L3.map((a,e)=>k.jsxs("div",{className:`p-8 bg-background/50 border ${a.borderColor} rounded-2xl hover:bg-background transition-all duration-300`,children:[k.jsx("div",{className:`w-12 h-12 ${a.iconBg} rounded-lg flex items-center justify-center mb-6`,children:a.icon}),k.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:a.title}),k.jsx("p",{className:"text-gray-400 leading-relaxed",children:a.description})]},e))})]})}),j3=()=>k.jsxs("div",{className:"flex flex-col min-h-screen",children:[k.jsx(M3,{}),k.jsx(P3,{})]}),XS=({title:a,subtitle:e,image:n,content:i,footer:s,badges:l=[],className:c=""})=>k.jsxs("div",{className:`group relative flex flex-col overflow-hidden rounded-2xl bg-surface border border-gray-800 transition-all duration-300 hover:border-gray-700 hover:shadow-2xl hover:shadow-primary/5 ${c}`,children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),n&&k.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-900",children:[k.jsx("img",{src:n,alt:a,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:h=>{h.target.style.display="none",h.target.parentElement.classList.add("flex","items-center","justify-center","bg-gray-800"),h.target.parentElement.innerHTML='<span class="text-4xl"></span>'}}),l.length>0&&k.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:l.map((h,d)=>k.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded uppercase tracking-wider ${h.color||"bg-gray-800 text-white"}`,children:h.text},d))})]}),k.jsxs("div",{className:"flex flex-1 flex-col p-6 z-10",children:[e&&k.jsx("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-400",children:e}),k.jsx("h3",{className:"mb-3 text-xl font-bold text-white group-hover:text-primary transition-colors",children:a}),k.jsx("p",{className:"flex-1 text-gray-400 line-clamp-3 mb-6",children:i}),s&&k.jsx("div",{className:"mt-auto border-t border-gray-800 pt-4",children:s})]})]}),gE=[{id:"1",pair:"EUR/USD",direction:"Bearish",title:"EUR/USD Forming Head and Shoulders on 4H",content:"Price has failed to break the 1.0900 resistance level multiple times. We are observing a clear H&S pattern formation. If the neckline at 1.0820 breaks, we expect a sharp decline towards the 1.0750 liquidity zone.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",pair:"XAU/USD",direction:"Bullish",title:"Gold Preparing for Eruption Above 2050",content:"Geopolitical tensions and a weakening dollar suggest Gold is accumulating for a massive leg up. Watch for a retest of 2035 as a potential entry point for long positions targeting new highs.",author:"Analyst Sarah",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"},{id:"3",pair:"GBP/JPY",direction:"Bullish",title:"The Dragon is Waking Up",content:"GJ is respecting the ascending trendline perfectly. The recent pullback to 182.00 was rejected strongly. We are looking for continuation towards 185.00 level.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"}],V3=()=>{const[a,e]=ae.useState([]),[n,i]=ae.useState(!0),[s,l]=ae.useState("All");ae.useEffect(()=>{(async()=>{try{const p=xs(kn(St,"analysis"),Rs("timestamp","desc")),m=(await ai(p)).docs.map(y=>({id:y.id,...y.data()}));m.length>0?e(m):e(gE)}catch(p){console.error("Error fetching analysis:",p),e(gE)}finally{i(!1)}})()},[]);const c=s==="All"?a:a.filter(d=>d.pair===s),h=["All",...new Set(a.map(d=>d.pair))];return k.jsx("div",{className:"bg-background min-h-screen py-12",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",k.jsx("span",{className:"text-primary",children:"Analysis"})]}),k.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Daily technical breakdowns and trade setups from our experts."})]}),k.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:h.map(d=>k.jsx("button",{onClick:()=>l(d),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${s===d?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:d},d))}),n?k.jsx("div",{className:"text-center text-white py-20",children:"Loading Volcano Data..."}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(d=>{const p=d.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return k.jsx(XS,{title:d.title,image:d.image||d.chart_image_url,content:d.content,subtitle:k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("span",{className:"text-gray-500 text-xs",children:d.timestamp?.seconds?new Date(d.timestamp.seconds*1e3).toLocaleDateString():d.timestamp||new Date().toLocaleDateString()}),k.jsx("span",{className:"text-gray-600",children:""}),k.jsxs("span",{className:"text-gray-500 text-xs text-accent",children:["By ",d.author||"Admin"]})]}),badges:[{text:d.pair,color:"bg-surface border border-gray-700 text-white"},{text:d.direction,color:p}],footer:k.jsxs(Jt,{variant:"ghost",size:"sm",className:"w-full justify-between group-hover:text-white",children:["Read Full Breakdown",k.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})},d.id)})})]})})},yE=[{id:"1",title:"NFP Smashes Expectations: 350k Jobs Added",impact:"High",affectedCurrencies:["USD","XAU","JPY"],content:"The Non-Farm Payrolls report showed a surprise surge in job creation, sending the Dollar Index (DXY) rocketing past 104.50. Traders should watch for pullbacks on Gold.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",title:"ECB Signals Rate Cuts in June",impact:"Medium",affectedCurrencies:["EUR","GBP"],content:"Lagarde hinted that inflation is under control, opening the door for a 25bps cut. Euro is showing weakness against the Pound.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"},{id:"3",title:"BoJ Maintains Ultra-Loose Policy",impact:"Low",affectedCurrencies:["JPY"],content:"No surprises from the Bank of Japan. Yield Curve Control remains in place. USD/JPY is drifting sideways in a tight range.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"}],q3={High:"bg-red-500/20 text-red-500 border border-red-500/50",Medium:"bg-orange-500/20 text-orange-500 border border-orange-500/50",Low:"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50"},U3=()=>{const[a,e]=ae.useState([]),[n,i]=ae.useState(!0);return ae.useEffect(()=>{(async()=>{try{const l=xs(kn(St,"news"),Rs("timestamp","desc")),h=(await ai(l)).docs.map(d=>({id:d.id,...d.data()}));h.length>0?e(h):e(yE)}catch(l){console.error("Error fetching news:",l),e(yE)}finally{i(!1)}})()},[]),k.jsx("div",{className:"bg-background min-h-screen py-12",children:k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",k.jsx("span",{className:"text-accent",children:"News"})]}),k.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Stay ahead of the volatility with real-time economic updates."})]}),n?k.jsx("div",{className:"text-center text-white py-20",children:"Loading Earth-shaking Events..."}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(s=>k.jsx(hn,{to:`/news/${s.id}`,className:"block group",children:k.jsx(XS,{title:s.title,image:s.image,content:s.content,subtitle:k.jsx("div",{className:"flex items-center gap-2",children:k.jsx("span",{className:"text-gray-500 text-xs",children:s.timestamp?.seconds?new Date(s.timestamp.seconds*1e3).toLocaleDateString():s.timestamp||new Date().toLocaleDateString()})}),badges:[{text:s.impact,color:q3[s.impact]||"bg-gray-800 text-white"},...(s.affectedCurrencies||[]).map(l=>({text:l,color:"bg-surface border border-gray-700 text-white"}))]})},s.id))})]})})},B3=()=>{const{id:a}=cw(),e=ka(),[n,i]=ae.useState(null),[s,l]=ae.useState(!0);if(ae.useEffect(()=>{(async()=>{try{const d=ur(St,"news",a),p=await Du(d);p.exists()?i({id:p.id,...p.data()}):(console.log("No such document!"),e("/news"))}catch(d){console.error("Error fetching news detail:",d)}finally{l(!1)}})()},[a,e]),s)return k.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!n)return null;const c=n.timestamp?.seconds?new Date(n.timestamp.seconds*1e3).toLocaleDateString():n.timestamp||new Date().toLocaleDateString();return k.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-4xl mx-auto",children:[k.jsx(Jt,{variant:"ghost",onClick:()=>e("/news"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to News"}),k.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[n.image&&k.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[k.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),k.jsxs("div",{className:"p-8 sm:p-12",children:[k.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[k.jsx("span",{className:"text-gray-400 text-sm",children:c}),k.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                                ${n.impact==="High"?"bg-red-500/20 text-red-400":n.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:[n.impact," Impact"]}),n.affectedCurrencies&&n.affectedCurrencies.map&&n.affectedCurrencies.map(h=>k.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300 border border-gray-700",children:h},h))]}),k.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:n.title}),k.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:n.content}})]})]})]})})},z3=()=>{const[a,e]=ae.useState(""),[n,i]=ae.useState(""),[s,l]=ae.useState(""),[c,h]=ae.useState(!1),d=ka(),p=async y=>{try{const v=await Du(ur(St,"users",y));v.exists()&&v.data().role==="admin"?d("/admin"):d("/dashboard")}catch(v){console.error("Error checking role:",v),d("/dashboard")}},_=async y=>{y.preventDefault(),l(""),h(!0);try{const v=await rI(or,a,n);await p(v.user.uid)}catch(v){console.error(v),l("Failed to login. Please check your credentials.")}finally{h(!1)}},m=async()=>{try{const y=new Jr,v=await hA(or,y);await p(v.user.uid)}catch(y){console.error(y),l("Failed to sign in with Google")}};return k.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[k.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Sign in to ",k.jsx("span",{className:"text-secondary",children:"Volcano"})]}),k.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",k.jsx(hn,{to:"/register",className:"font-medium text-primary hover:text-green-400",children:"start your 14-day free trial"})]})]}),k.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:k.jsxs("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:[k.jsxs("form",{className:"space-y-6",onSubmit:_,children:[s&&k.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:s}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:y=>e(y.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:y=>i(y.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),k.jsx("div",{children:k.jsx(Jt,{type:"submit",variant:"primary",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:c,children:c?"Signing in...":"Sign in"})})]}),k.jsxs("div",{className:"mt-6",children:[k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-gray-700"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),k.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:k.jsx("div",{children:k.jsxs("button",{type:"button",onClick:m,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[k.jsx("span",{className:"sr-only",children:"Sign in with Google"}),k.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:k.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})})]})},H3=()=>{const[a,e]=ae.useState(""),[n,i]=ae.useState(""),[s,l]=ae.useState(""),[c,h]=ae.useState(""),[d,p]=ae.useState(!1),_=ka(),m=async v=>{v.preventDefault(),h(""),p(!0);try{const T=(await nI(or,n,s)).user;await aI(T,{displayName:a}),await dE(ur(St,"users",T.uid),{uid:T.uid,username:a,email:n,role:"user",createdAt:new Date().toISOString(),avatar_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(a)}&background=random`}),_("/dashboard")}catch(S){console.error(S),S.code==="auth/email-already-in-use"?h("Email already in use."):h("Failed to create account. Please try again.")}finally{p(!1)}},y=async()=>{try{const v=new Jr,T=(await hA(or,v)).user;await dE(ur(St,"users",T.uid),{uid:T.uid,username:T.displayName,email:T.email,role:"user",createdAt:new Date().toISOString(),avatar_url:T.photoURL},{merge:!0}),_("/dashboard")}catch(v){console.error(v),h("Failed to sign up with Google")}};return k.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[k.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Join the ",k.jsx("span",{className:"text-secondary",children:"Eruption"})]}),k.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Already have an account?"," ",k.jsx(hn,{to:"/login",className:"font-medium text-primary hover:text-green-400",children:"Sign in"})]})]}),k.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[k.jsx("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:k.jsxs("form",{className:"space-y-6",onSubmit:m,children:[c&&k.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:c}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:a,onChange:v=>e(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:v=>i(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),k.jsx("div",{className:"mt-1",children:k.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:s,onChange:v=>l(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),k.jsx("div",{children:k.jsx(Jt,{type:"submit",variant:"primary",className:"w-full justify-center",disabled:d,children:d?"Creating Account...":"Sign up"})})]})}),k.jsxs("div",{className:"mt-6",children:[k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-gray-700"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),k.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:k.jsx("div",{children:k.jsxs("button",{type:"button",onClick:y,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[k.jsx("span",{className:"sr-only",children:"Sign up with Google"}),k.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:k.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})]})},F3=[{id:"c1",title:"Forex Foundations: The Bedrock",progress:100,totalLessons:12,completedLessons:12,image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"c2",title:"Price Action Mastery",progress:45,totalLessons:20,completedLessons:9,image:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?q=80&w=1000&auto=format&fit=crop"},{id:"c3",title:"Institutional Order Flow",progress:0,totalLessons:15,completedLessons:0,image:"https://images.unsplash.com/photo-1642543492481-44e81e3914a7?q=80&w=1000&auto=format&fit=crop"}],G3=()=>{const[a,e]=ae.useState(null),[n,i]=ae.useState(!0);ae.useEffect(()=>{(async()=>{if(or.currentUser)try{const c=ur(St,"users",or.currentUser.uid),h=await Du(c);h.exists()&&e(h.data())}catch(c){console.error("Error fetching user data:",c)}finally{i(!1)}})()},[]);const s=a?.username||or.currentUser?.displayName||"Trader";return k.jsxs("div",{className:"min-h-screen bg-background text-white",children:[k.jsx("div",{className:"bg-surface border-b border-gray-800",children:k.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex items-center gap-6",children:[k.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:k.jsx("img",{src:a?.avatar_url||`https://ui-avatars.com/api/?name=${s}`,alt:"Profile",className:"h-full w-full rounded-full bg-background object-cover"})}),k.jsxs("div",{children:[k.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",k.jsx("span",{className:"text-primary",children:s})]}),k.jsx("p",{className:"mt-1 text-gray-400",children:"Ready to dominate the markets today?"})]})]})})}),k.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[k.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-12",children:[k.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:k.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[k.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Total Progress"}),k.jsx("dd",{className:"mt-1 text-3xl font-semibold text-white",children:"48%"})]})}),k.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:k.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[k.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Courses Completed"}),k.jsx("dd",{className:"mt-1 text-3xl font-semibold text-primary",children:"1"})]})}),k.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:k.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[k.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Quiz Score Avg"}),k.jsx("dd",{className:"mt-1 text-3xl font-semibold text-secondary",children:"92%"})]})})]}),k.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Courses"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:F3.map(l=>k.jsxs("div",{className:"bg-surface rounded-xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-colors group",children:[k.jsxs("div",{className:"h-48 overflow-hidden relative",children:[k.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),k.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:k.jsx(Jt,{variant:"primary",size:"sm",children:"Continue Learning"})})]}),k.jsxs("div",{className:"p-6",children:[k.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:l.title}),k.jsxs("div",{className:"mt-4",children:[k.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[k.jsx("span",{children:"Progress"}),k.jsxs("span",{children:[l.progress,"%"]})]}),k.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:k.jsx("div",{className:`h-2 rounded-full ${l.progress===100?"bg-primary":"bg-secondary"}`,style:{width:`${l.progress}%`}})})]}),k.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:[k.jsxs("span",{children:[l.completedLessons,"/",l.totalLessons," Lessons"]}),l.progress===100&&k.jsxs("span",{className:"text-primary flex items-center gap-1",children:[k.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]})]})]})]},l.id))})]})]})},K3=()=>{const[a,e]=ae.useState(!1),[n,i]=ae.useState(!0),s=ka();return ae.useEffect(()=>{(async()=>{if(!or.currentUser){s("/login");return}try{const c=await Du(ur(St,"users",or.currentUser.uid));c.exists()&&c.data().role==="admin"?e(!0):s("/dashboard")}catch(c){console.error("Admin check failed",c),s("/dashboard")}finally{i(!1)}})()},[s]),n?k.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),k.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):a?k.jsxs("div",{className:"min-h-screen bg-background flex",children:[k.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[k.jsx("div",{className:"p-6 border-b border-gray-800",children:k.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",k.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),k.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[k.jsx(mf,{to:"/admin",end:!0,children:"Dashboard"}),k.jsx(mf,{to:"/admin/news",children:"Manage News"}),k.jsx(mf,{to:"/admin/analysis",children:"Manage Analysis"}),k.jsx(mf,{to:"/admin/courses",children:"Manage Courses"})]}),k.jsxs("div",{className:"p-4 border-t border-gray-800",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),k.jsxs("div",{className:"text-sm",children:[k.jsx("div",{className:"text-white font-medium",children:"Administrator"}),k.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),k.jsx(Jt,{variant:"outline",size:"sm",className:"w-full",onClick:()=>s("/"),children:"Exit to Site"})]})]}),k.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[k.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),k.jsx(Jt,{size:"sm",onClick:()=>s("/"),children:"Exit"})]}),k.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:k.jsx(qR,{})})]}):null},mf=({to:a,children:e,end:n=!1})=>k.jsx(yw,{to:a,end:n,className:({isActive:i})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${i?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:e}),Y3=()=>k.jsxs("div",{children:[k.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"System Overview"}),k.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[k.jsx(pf,{title:"Total Users",value:"1,234",change:"+12%",color:"primary"}),k.jsx(pf,{title:"Active Courses",value:"8",change:"0%",color:"white"}),k.jsx(pf,{title:"Analysis Posts",value:"156",change:"+5 this week",color:"secondary"}),k.jsx(pf,{title:"News Alerts",value:"892",change:"+24 today",color:"accent"})]}),k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[k.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[k.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),k.jsxs("div",{className:"space-y-3",children:[k.jsx(qm,{label:"Post New Analysis",to:"/admin/analysis"}),k.jsx(qm,{label:"Broadcast News Alert",to:"/admin/news"}),k.jsx(qm,{label:"Review New User Signups",to:"#"})]})]}),k.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[k.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"System Status"}),k.jsxs("div",{className:"space-y-4",children:[k.jsx(Um,{label:"Database Connection",status:"Healthy"}),k.jsx(Um,{label:"Auth Service",status:"Healthy"}),k.jsx(Um,{label:"API Latency",status:"24ms"})]})]})]})]}),pf=({title:a,value:e,change:n,color:i})=>{const s={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white"};return k.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-gray-800",children:[k.jsx("p",{className:"text-sm font-medium text-gray-400",children:a}),k.jsxs("div",{className:"mt-2 flex items-baseline",children:[k.jsx("p",{className:`text-3xl font-semibold ${s[i]||"text-white"}`,children:e}),k.jsx("p",{className:"ml-2 text-sm text-gray-500",children:n})]})]})},qm=({label:a})=>k.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:[k.jsx("span",{className:"text-gray-300",children:a}),k.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),Um=({label:a,status:e})=>k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("span",{className:"text-gray-400",children:a}),k.jsxs("span",{className:"flex items-center text-primary text-sm font-medium",children:[k.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mr-2"}),e]})]});var Bm,vE;function Q3(){if(vE)return Bm;vE=1;function a(){this.__data__=[],this.size=0}return Bm=a,Bm}var zm,_E;function WS(){if(_E)return zm;_E=1;function a(e,n){return e===n||e!==e&&n!==n}return zm=a,zm}var Hm,bE;function yh(){if(bE)return Hm;bE=1;var a=WS();function e(n,i){for(var s=n.length;s--;)if(a(n[s][0],i))return s;return-1}return Hm=e,Hm}var Fm,EE;function X3(){if(EE)return Fm;EE=1;var a=yh(),e=Array.prototype,n=e.splice;function i(s){var l=this.__data__,c=a(l,s);if(c<0)return!1;var h=l.length-1;return c==h?l.pop():n.call(l,c,1),--this.size,!0}return Fm=i,Fm}var Gm,TE;function W3(){if(TE)return Gm;TE=1;var a=yh();function e(n){var i=this.__data__,s=a(i,n);return s<0?void 0:i[s][1]}return Gm=e,Gm}var Km,wE;function Z3(){if(wE)return Km;wE=1;var a=yh();function e(n){return a(this.__data__,n)>-1}return Km=e,Km}var Ym,AE;function J3(){if(AE)return Ym;AE=1;var a=yh();function e(n,i){var s=this.__data__,l=a(s,n);return l<0?(++this.size,s.push([n,i])):s[l][1]=i,this}return Ym=e,Ym}var Qm,SE;function vh(){if(SE)return Qm;SE=1;var a=Q3(),e=X3(),n=W3(),i=Z3(),s=J3();function l(c){var h=-1,d=c==null?0:c.length;for(this.clear();++h<d;){var p=c[h];this.set(p[0],p[1])}}return l.prototype.clear=a,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=i,l.prototype.set=s,Qm=l,Qm}var Xm,xE;function $3(){if(xE)return Xm;xE=1;var a=vh();function e(){this.__data__=new a,this.size=0}return Xm=e,Xm}var Wm,RE;function eM(){if(RE)return Wm;RE=1;function a(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return Wm=a,Wm}var Zm,NE;function tM(){if(NE)return Zm;NE=1;function a(e){return this.__data__.get(e)}return Zm=a,Zm}var Jm,OE;function nM(){if(OE)return Jm;OE=1;function a(e){return this.__data__.has(e)}return Jm=a,Jm}var $m,CE;function ZS(){if(CE)return $m;CE=1;var a=typeof sf=="object"&&sf&&sf.Object===Object&&sf;return $m=a,$m}var ep,IE;function Vi(){if(IE)return ep;IE=1;var a=ZS(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=a||e||Function("return this")();return ep=n,ep}var tp,DE;function $y(){if(DE)return tp;DE=1;var a=Vi(),e=a.Symbol;return tp=e,tp}var np,kE;function rM(){if(kE)return np;kE=1;var a=$y(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,s=a?a.toStringTag:void 0;function l(c){var h=n.call(c,s),d=c[s];try{c[s]=void 0;var p=!0}catch{}var _=i.call(c);return p&&(h?c[s]=d:delete c[s]),_}return np=l,np}var rp,ME;function iM(){if(ME)return rp;ME=1;var a=Object.prototype,e=a.toString;function n(i){return e.call(i)}return rp=n,rp}var ip,LE;function _h(){if(LE)return ip;LE=1;var a=$y(),e=rM(),n=iM(),i="[object Null]",s="[object Undefined]",l=a?a.toStringTag:void 0;function c(h){return h==null?h===void 0?s:i:l&&l in Object(h)?e(h):n(h)}return ip=c,ip}var ap,PE;function JS(){if(PE)return ap;PE=1;function a(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return ap=a,ap}var sp,jE;function $S(){if(jE)return sp;jE=1;var a=_h(),e=JS(),n="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function c(h){if(!e(h))return!1;var d=a(h);return d==i||d==s||d==n||d==l}return sp=c,sp}var op,VE;function aM(){if(VE)return op;VE=1;var a=Vi(),e=a["__core-js_shared__"];return op=e,op}var lp,qE;function sM(){if(qE)return lp;qE=1;var a=aM(),e=(function(){var i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function n(i){return!!e&&e in i}return lp=n,lp}var up,UE;function ex(){if(UE)return up;UE=1;var a=Function.prototype,e=a.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return up=n,up}var cp,BE;function oM(){if(BE)return cp;BE=1;var a=$S(),e=sM(),n=JS(),i=ex(),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,h=Object.prototype,d=c.toString,p=h.hasOwnProperty,_=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!n(y)||e(y))return!1;var v=a(y)?_:l;return v.test(i(y))}return cp=m,cp}var fp,zE;function lM(){if(zE)return fp;zE=1;function a(e,n){return e?.[n]}return fp=a,fp}var hp,HE;function Fo(){if(HE)return hp;HE=1;var a=oM(),e=lM();function n(i,s){var l=e(i,s);return a(l)?l:void 0}return hp=n,hp}var dp,FE;function ev(){if(FE)return dp;FE=1;var a=Fo(),e=Vi(),n=a(e,"Map");return dp=n,dp}var mp,GE;function bh(){if(GE)return mp;GE=1;var a=Fo(),e=a(Object,"create");return mp=e,mp}var pp,KE;function uM(){if(KE)return pp;KE=1;var a=bh();function e(){this.__data__=a?a(null):{},this.size=0}return pp=e,pp}var gp,YE;function cM(){if(YE)return gp;YE=1;function a(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return gp=a,gp}var yp,QE;function fM(){if(QE)return yp;QE=1;var a=bh(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function s(l){var c=this.__data__;if(a){var h=c[l];return h===e?void 0:h}return i.call(c,l)?c[l]:void 0}return yp=s,yp}var vp,XE;function hM(){if(XE)return vp;XE=1;var a=bh(),e=Object.prototype,n=e.hasOwnProperty;function i(s){var l=this.__data__;return a?l[s]!==void 0:n.call(l,s)}return vp=i,vp}var _p,WE;function dM(){if(WE)return _p;WE=1;var a=bh(),e="__lodash_hash_undefined__";function n(i,s){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=a&&s===void 0?e:s,this}return _p=n,_p}var bp,ZE;function mM(){if(ZE)return bp;ZE=1;var a=uM(),e=cM(),n=fM(),i=hM(),s=dM();function l(c){var h=-1,d=c==null?0:c.length;for(this.clear();++h<d;){var p=c[h];this.set(p[0],p[1])}}return l.prototype.clear=a,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=i,l.prototype.set=s,bp=l,bp}var Ep,JE;function pM(){if(JE)return Ep;JE=1;var a=mM(),e=vh(),n=ev();function i(){this.size=0,this.__data__={hash:new a,map:new(n||e),string:new a}}return Ep=i,Ep}var Tp,$E;function gM(){if($E)return Tp;$E=1;function a(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Tp=a,Tp}var wp,eT;function Eh(){if(eT)return wp;eT=1;var a=gM();function e(n,i){var s=n.__data__;return a(i)?s[typeof i=="string"?"string":"hash"]:s.map}return wp=e,wp}var Ap,tT;function yM(){if(tT)return Ap;tT=1;var a=Eh();function e(n){var i=a(this,n).delete(n);return this.size-=i?1:0,i}return Ap=e,Ap}var Sp,nT;function vM(){if(nT)return Sp;nT=1;var a=Eh();function e(n){return a(this,n).get(n)}return Sp=e,Sp}var xp,rT;function _M(){if(rT)return xp;rT=1;var a=Eh();function e(n){return a(this,n).has(n)}return xp=e,xp}var Rp,iT;function bM(){if(iT)return Rp;iT=1;var a=Eh();function e(n,i){var s=a(this,n),l=s.size;return s.set(n,i),this.size+=s.size==l?0:1,this}return Rp=e,Rp}var Np,aT;function tx(){if(aT)return Np;aT=1;var a=pM(),e=yM(),n=vM(),i=_M(),s=bM();function l(c){var h=-1,d=c==null?0:c.length;for(this.clear();++h<d;){var p=c[h];this.set(p[0],p[1])}}return l.prototype.clear=a,l.prototype.delete=e,l.prototype.get=n,l.prototype.has=i,l.prototype.set=s,Np=l,Np}var Op,sT;function EM(){if(sT)return Op;sT=1;var a=vh(),e=ev(),n=tx(),i=200;function s(l,c){var h=this.__data__;if(h instanceof a){var d=h.__data__;if(!e||d.length<i-1)return d.push([l,c]),this.size=++h.size,this;h=this.__data__=new n(d)}return h.set(l,c),this.size=h.size,this}return Op=s,Op}var Cp,oT;function TM(){if(oT)return Cp;oT=1;var a=vh(),e=$3(),n=eM(),i=tM(),s=nM(),l=EM();function c(h){var d=this.__data__=new a(h);this.size=d.size}return c.prototype.clear=e,c.prototype.delete=n,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,Cp=c,Cp}var Ip,lT;function wM(){if(lT)return Ip;lT=1;var a="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,a),this}return Ip=e,Ip}var Dp,uT;function AM(){if(uT)return Dp;uT=1;function a(e){return this.__data__.has(e)}return Dp=a,Dp}var kp,cT;function SM(){if(cT)return kp;cT=1;var a=tx(),e=wM(),n=AM();function i(s){var l=-1,c=s==null?0:s.length;for(this.__data__=new a;++l<c;)this.add(s[l])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,kp=i,kp}var Mp,fT;function xM(){if(fT)return Mp;fT=1;function a(e,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(e[i],i,e))return!0;return!1}return Mp=a,Mp}var Lp,hT;function RM(){if(hT)return Lp;hT=1;function a(e,n){return e.has(n)}return Lp=a,Lp}var Pp,dT;function nx(){if(dT)return Pp;dT=1;var a=SM(),e=xM(),n=RM(),i=1,s=2;function l(c,h,d,p,_,m){var y=d&i,v=c.length,S=h.length;if(v!=S&&!(y&&S>v))return!1;var T=m.get(c),A=m.get(h);if(T&&A)return T==h&&A==c;var E=-1,w=!0,I=d&s?new a:void 0;for(m.set(c,h),m.set(h,c);++E<v;){var x=c[E],j=h[E];if(p)var B=y?p(j,x,E,h,c,m):p(x,j,E,c,h,m);if(B!==void 0){if(B)continue;w=!1;break}if(I){if(!e(h,function(N,O){if(!n(I,O)&&(x===N||_(x,N,d,p,m)))return I.push(O)})){w=!1;break}}else if(!(x===j||_(x,j,d,p,m))){w=!1;break}}return m.delete(c),m.delete(h),w}return Pp=l,Pp}var jp,mT;function NM(){if(mT)return jp;mT=1;var a=Vi(),e=a.Uint8Array;return jp=e,jp}var Vp,pT;function OM(){if(pT)return Vp;pT=1;function a(e){var n=-1,i=Array(e.size);return e.forEach(function(s,l){i[++n]=[l,s]}),i}return Vp=a,Vp}var qp,gT;function CM(){if(gT)return qp;gT=1;function a(e){var n=-1,i=Array(e.size);return e.forEach(function(s){i[++n]=s}),i}return qp=a,qp}var Up,yT;function IM(){if(yT)return Up;yT=1;var a=$y(),e=NM(),n=WS(),i=nx(),s=OM(),l=CM(),c=1,h=2,d="[object Boolean]",p="[object Date]",_="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",S="[object Set]",T="[object String]",A="[object Symbol]",E="[object ArrayBuffer]",w="[object DataView]",I=a?a.prototype:void 0,x=I?I.valueOf:void 0;function j(B,N,O,P,D,R,M){switch(O){case w:if(B.byteLength!=N.byteLength||B.byteOffset!=N.byteOffset)return!1;B=B.buffer,N=N.buffer;case E:return!(B.byteLength!=N.byteLength||!R(new e(B),new e(N)));case d:case p:case y:return n(+B,+N);case _:return B.name==N.name&&B.message==N.message;case v:case T:return B==N+"";case m:var L=s;case S:var Y=P&c;if(L||(L=l),B.size!=N.size&&!Y)return!1;var W=M.get(B);if(W)return W==N;P|=h,M.set(B,N);var Q=i(L(B),L(N),P,D,R,M);return M.delete(B),Q;case A:if(x)return x.call(B)==x.call(N)}return!1}return Up=j,Up}var Bp,vT;function DM(){if(vT)return Bp;vT=1;function a(e,n){for(var i=-1,s=n.length,l=e.length;++i<s;)e[l+i]=n[i];return e}return Bp=a,Bp}var zp,_T;function tv(){if(_T)return zp;_T=1;var a=Array.isArray;return zp=a,zp}var Hp,bT;function kM(){if(bT)return Hp;bT=1;var a=DM(),e=tv();function n(i,s,l){var c=s(i);return e(i)?c:a(c,l(i))}return Hp=n,Hp}var Fp,ET;function MM(){if(ET)return Fp;ET=1;function a(e,n){for(var i=-1,s=e==null?0:e.length,l=0,c=[];++i<s;){var h=e[i];n(h,i,e)&&(c[l++]=h)}return c}return Fp=a,Fp}var Gp,TT;function LM(){if(TT)return Gp;TT=1;function a(){return[]}return Gp=a,Gp}var Kp,wT;function PM(){if(wT)return Kp;wT=1;var a=MM(),e=LM(),n=Object.prototype,i=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(c){return c==null?[]:(c=Object(c),a(s(c),function(h){return i.call(c,h)}))}:e;return Kp=l,Kp}var Yp,AT;function jM(){if(AT)return Yp;AT=1;function a(e,n){for(var i=-1,s=Array(e);++i<e;)s[i]=n(i);return s}return Yp=a,Yp}var Qp,ST;function Th(){if(ST)return Qp;ST=1;function a(e){return e!=null&&typeof e=="object"}return Qp=a,Qp}var Xp,xT;function VM(){if(xT)return Xp;xT=1;var a=_h(),e=Th(),n="[object Arguments]";function i(s){return e(s)&&a(s)==n}return Xp=i,Xp}var Wp,RT;function qM(){if(RT)return Wp;RT=1;var a=VM(),e=Th(),n=Object.prototype,i=n.hasOwnProperty,s=n.propertyIsEnumerable,l=a((function(){return arguments})())?a:function(c){return e(c)&&i.call(c,"callee")&&!s.call(c,"callee")};return Wp=l,Wp}var eu={exports:{}},Zp,NT;function UM(){if(NT)return Zp;NT=1;function a(){return!1}return Zp=a,Zp}eu.exports;var OT;function rx(){return OT||(OT=1,(function(a,e){var n=Vi(),i=UM(),s=e&&!e.nodeType&&e,l=s&&!0&&a&&!a.nodeType&&a,c=l&&l.exports===s,h=c?n.Buffer:void 0,d=h?h.isBuffer:void 0,p=d||i;a.exports=p})(eu,eu.exports)),eu.exports}var Jp,CT;function BM(){if(CT)return Jp;CT=1;var a=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,s){var l=typeof i;return s=s??a,!!s&&(l=="number"||l!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<s}return Jp=n,Jp}var $p,IT;function ix(){if(IT)return $p;IT=1;var a=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=a}return $p=e,$p}var eg,DT;function zM(){if(DT)return eg;DT=1;var a=_h(),e=ix(),n=Th(),i="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Function]",p="[object Map]",_="[object Number]",m="[object Object]",y="[object RegExp]",v="[object Set]",S="[object String]",T="[object WeakMap]",A="[object ArrayBuffer]",E="[object DataView]",w="[object Float32Array]",I="[object Float64Array]",x="[object Int8Array]",j="[object Int16Array]",B="[object Int32Array]",N="[object Uint8Array]",O="[object Uint8ClampedArray]",P="[object Uint16Array]",D="[object Uint32Array]",R={};R[w]=R[I]=R[x]=R[j]=R[B]=R[N]=R[O]=R[P]=R[D]=!0,R[i]=R[s]=R[A]=R[l]=R[E]=R[c]=R[h]=R[d]=R[p]=R[_]=R[m]=R[y]=R[v]=R[S]=R[T]=!1;function M(L){return n(L)&&e(L.length)&&!!R[a(L)]}return eg=M,eg}var tg,kT;function HM(){if(kT)return tg;kT=1;function a(e){return function(n){return e(n)}}return tg=a,tg}var tu={exports:{}};tu.exports;var MT;function FM(){return MT||(MT=1,(function(a,e){var n=ZS(),i=e&&!e.nodeType&&e,s=i&&!0&&a&&!a.nodeType&&a,l=s&&s.exports===i,c=l&&n.process,h=(function(){try{var d=s&&s.require&&s.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();a.exports=h})(tu,tu.exports)),tu.exports}var ng,LT;function ax(){if(LT)return ng;LT=1;var a=zM(),e=HM(),n=FM(),i=n&&n.isTypedArray,s=i?e(i):a;return ng=s,ng}var rg,PT;function GM(){if(PT)return rg;PT=1;var a=jM(),e=qM(),n=tv(),i=rx(),s=BM(),l=ax(),c=Object.prototype,h=c.hasOwnProperty;function d(p,_){var m=n(p),y=!m&&e(p),v=!m&&!y&&i(p),S=!m&&!y&&!v&&l(p),T=m||y||v||S,A=T?a(p.length,String):[],E=A.length;for(var w in p)(_||h.call(p,w))&&!(T&&(w=="length"||v&&(w=="offset"||w=="parent")||S&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||s(w,E)))&&A.push(w);return A}return rg=d,rg}var ig,jT;function KM(){if(jT)return ig;jT=1;var a=Object.prototype;function e(n){var i=n&&n.constructor,s=typeof i=="function"&&i.prototype||a;return n===s}return ig=e,ig}var ag,VT;function YM(){if(VT)return ag;VT=1;function a(e,n){return function(i){return e(n(i))}}return ag=a,ag}var sg,qT;function QM(){if(qT)return sg;qT=1;var a=YM(),e=a(Object.keys,Object);return sg=e,sg}var og,UT;function XM(){if(UT)return og;UT=1;var a=KM(),e=QM(),n=Object.prototype,i=n.hasOwnProperty;function s(l){if(!a(l))return e(l);var c=[];for(var h in Object(l))i.call(l,h)&&h!="constructor"&&c.push(h);return c}return og=s,og}var lg,BT;function WM(){if(BT)return lg;BT=1;var a=$S(),e=ix();function n(i){return i!=null&&e(i.length)&&!a(i)}return lg=n,lg}var ug,zT;function ZM(){if(zT)return ug;zT=1;var a=GM(),e=XM(),n=WM();function i(s){return n(s)?a(s):e(s)}return ug=i,ug}var cg,HT;function JM(){if(HT)return cg;HT=1;var a=kM(),e=PM(),n=ZM();function i(s){return a(s,n,e)}return cg=i,cg}var fg,FT;function $M(){if(FT)return fg;FT=1;var a=JM(),e=1,n=Object.prototype,i=n.hasOwnProperty;function s(l,c,h,d,p,_){var m=h&e,y=a(l),v=y.length,S=a(c),T=S.length;if(v!=T&&!m)return!1;for(var A=v;A--;){var E=y[A];if(!(m?E in c:i.call(c,E)))return!1}var w=_.get(l),I=_.get(c);if(w&&I)return w==c&&I==l;var x=!0;_.set(l,c),_.set(c,l);for(var j=m;++A<v;){E=y[A];var B=l[E],N=c[E];if(d)var O=m?d(N,B,E,c,l,_):d(B,N,E,l,c,_);if(!(O===void 0?B===N||p(B,N,h,d,_):O)){x=!1;break}j||(j=E=="constructor")}if(x&&!j){var P=l.constructor,D=c.constructor;P!=D&&"constructor"in l&&"constructor"in c&&!(typeof P=="function"&&P instanceof P&&typeof D=="function"&&D instanceof D)&&(x=!1)}return _.delete(l),_.delete(c),x}return fg=s,fg}var hg,GT;function eL(){if(GT)return hg;GT=1;var a=Fo(),e=Vi(),n=a(e,"DataView");return hg=n,hg}var dg,KT;function tL(){if(KT)return dg;KT=1;var a=Fo(),e=Vi(),n=a(e,"Promise");return dg=n,dg}var mg,YT;function nL(){if(YT)return mg;YT=1;var a=Fo(),e=Vi(),n=a(e,"Set");return mg=n,mg}var pg,QT;function rL(){if(QT)return pg;QT=1;var a=Fo(),e=Vi(),n=a(e,"WeakMap");return pg=n,pg}var gg,XT;function iL(){if(XT)return gg;XT=1;var a=eL(),e=ev(),n=tL(),i=nL(),s=rL(),l=_h(),c=ex(),h="[object Map]",d="[object Object]",p="[object Promise]",_="[object Set]",m="[object WeakMap]",y="[object DataView]",v=c(a),S=c(e),T=c(n),A=c(i),E=c(s),w=l;return(a&&w(new a(new ArrayBuffer(1)))!=y||e&&w(new e)!=h||n&&w(n.resolve())!=p||i&&w(new i)!=_||s&&w(new s)!=m)&&(w=function(I){var x=l(I),j=x==d?I.constructor:void 0,B=j?c(j):"";if(B)switch(B){case v:return y;case S:return h;case T:return p;case A:return _;case E:return m}return x}),gg=w,gg}var yg,WT;function aL(){if(WT)return yg;WT=1;var a=TM(),e=nx(),n=IM(),i=$M(),s=iL(),l=tv(),c=rx(),h=ax(),d=1,p="[object Arguments]",_="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;function S(T,A,E,w,I,x){var j=l(T),B=l(A),N=j?_:s(T),O=B?_:s(A);N=N==p?m:N,O=O==p?m:O;var P=N==m,D=O==m,R=N==O;if(R&&c(T)){if(!c(A))return!1;j=!0,P=!1}if(R&&!P)return x||(x=new a),j||h(T)?e(T,A,E,w,I,x):n(T,A,N,E,w,I,x);if(!(E&d)){var M=P&&v.call(T,"__wrapped__"),L=D&&v.call(A,"__wrapped__");if(M||L){var Y=M?T.value():T,W=L?A.value():A;return x||(x=new a),I(Y,W,E,w,x)}}return R?(x||(x=new a),i(T,A,E,w,I,x)):!1}return yg=S,yg}var vg,ZT;function sL(){if(ZT)return vg;ZT=1;var a=aL(),e=Th();function n(i,s,l,c,h){return i===s?!0:i==null||s==null||!e(i)&&!e(s)?i!==i&&s!==s:a(i,s,l,c,n,h)}return vg=n,vg}var _g,JT;function oL(){if(JT)return _g;JT=1;var a=sL();function e(n,i){return a(n,i)}return _g=e,_g}var Nf={exports:{}};var lL=Nf.exports,$T;function uL(){return $T||($T=1,(function(a,e){(function(i,s){a.exports=s()})(typeof self<"u"?self:lL,function(){return(function(n){var i={};function s(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return n[l].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=n,s.c=i,s.d=function(l,c,h){s.o(l,c)||Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:h})},s.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(c,"a",c),c},s.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},s.p="",s(s.s=109)})([(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(17),c=s(18),h=s(19),d=s(45),p=s(46),_=s(47),m=s(48),y=s(49),v=s(12),S=s(32),T=s(33),A=s(31),E=s(1),w={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:l.default,Format:c.default,Leaf:h.default,Embed:m.default,Scroll:d.default,Block:_.default,Inline:p.default,Text:y.default,Attributor:{Attribute:v.default,Class:S.default,Style:T.default,Store:A.default}};i.default=w}),(function(n,i,s){var l=this&&this.__extends||(function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,w){E.__proto__=w}||function(E,w){for(var I in w)w.hasOwnProperty(I)&&(E[I]=w[I])};return function(E,w){A(E,w);function I(){this.constructor=E}E.prototype=w===null?Object.create(w):(I.prototype=w.prototype,new I)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=(function(A){l(E,A);function E(w){var I=this;return w="[Parchment] "+w,I=A.call(this,w)||this,I.message=w,I.name=I.constructor.name,I}return E})(Error);i.ParchmentError=c;var h={},d={},p={},_={};i.DATA_KEY="__blot";var m;(function(A){A[A.TYPE=3]="TYPE",A[A.LEVEL=12]="LEVEL",A[A.ATTRIBUTE=13]="ATTRIBUTE",A[A.BLOT=14]="BLOT",A[A.INLINE=7]="INLINE",A[A.BLOCK=11]="BLOCK",A[A.BLOCK_BLOT=10]="BLOCK_BLOT",A[A.INLINE_BLOT=6]="INLINE_BLOT",A[A.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",A[A.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",A[A.ANY=15]="ANY"})(m=i.Scope||(i.Scope={}));function y(A,E){var w=S(A);if(w==null)throw new c("Unable to create "+A+" blot");var I=w,x=A instanceof Node||A.nodeType===Node.TEXT_NODE?A:I.create(E);return new I(x,E)}i.create=y;function v(A,E){return E===void 0&&(E=!1),A==null?null:A[i.DATA_KEY]!=null?A[i.DATA_KEY].blot:E?v(A.parentNode,E):null}i.find=v;function S(A,E){E===void 0&&(E=m.ANY);var w;if(typeof A=="string")w=_[A]||h[A];else if(A instanceof Text||A.nodeType===Node.TEXT_NODE)w=_.text;else if(typeof A=="number")A&m.LEVEL&m.BLOCK?w=_.block:A&m.LEVEL&m.INLINE&&(w=_.inline);else if(A instanceof HTMLElement){var I=(A.getAttribute("class")||"").split(/\s+/);for(var x in I)if(w=d[I[x]],w)break;w=w||p[A.tagName]}return w==null?null:E&m.LEVEL&w.scope&&E&m.TYPE&w.scope?w:null}i.query=S;function T(){for(var A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];if(A.length>1)return A.map(function(x){return T(x)});var w=A[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new c("Invalid definition");if(w.blotName==="abstract")throw new c("Cannot register abstract class");if(_[w.blotName||w.attrName]=w,typeof w.keyName=="string")h[w.keyName]=w;else if(w.className!=null&&(d[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(x){return x.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var I=Array.isArray(w.tagName)?w.tagName:[w.tagName];I.forEach(function(x){(p[x]==null||w.className==null)&&(p[x]=w)})}return w}i.register=T}),(function(n,i,s){var l=s(51),c=s(11),h=s(3),d=s(20),p="\0",_=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};_.prototype.insert=function(m,y){var v={};return m.length===0?this:(v.insert=m,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(v.attributes=y),this.push(v))},_.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},_.prototype.retain=function(m,y){if(m<=0)return this;var v={retain:m};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(v.attributes=y),this.push(v)},_.prototype.push=function(m){var y=this.ops.length,v=this.ops[y-1];if(m=h(!0,{},m),typeof v=="object"){if(typeof m.delete=="number"&&typeof v.delete=="number")return this.ops[y-1]={delete:v.delete+m.delete},this;if(typeof v.delete=="number"&&m.insert!=null&&(y-=1,v=this.ops[y-1],typeof v!="object"))return this.ops.unshift(m),this;if(c(m.attributes,v.attributes)){if(typeof m.insert=="string"&&typeof v.insert=="string")return this.ops[y-1]={insert:v.insert+m.insert},typeof m.attributes=="object"&&(this.ops[y-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof v.retain=="number")return this.ops[y-1]={retain:v.retain+m.retain},typeof m.attributes=="object"&&(this.ops[y-1].attributes=m.attributes),this}}return y===this.ops.length?this.ops.push(m):this.ops.splice(y,0,m),this},_.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},_.prototype.filter=function(m){return this.ops.filter(m)},_.prototype.forEach=function(m){this.ops.forEach(m)},_.prototype.map=function(m){return this.ops.map(m)},_.prototype.partition=function(m){var y=[],v=[];return this.forEach(function(S){var T=m(S)?y:v;T.push(S)}),[y,v]},_.prototype.reduce=function(m,y){return this.ops.reduce(m,y)},_.prototype.changeLength=function(){return this.reduce(function(m,y){return y.insert?m+d.length(y):y.delete?m-y.delete:m},0)},_.prototype.length=function(){return this.reduce(function(m,y){return m+d.length(y)},0)},_.prototype.slice=function(m,y){m=m||0,typeof y!="number"&&(y=1/0);for(var v=[],S=d.iterator(this.ops),T=0;T<y&&S.hasNext();){var A;T<m?A=S.next(m-T):(A=S.next(y-T),v.push(A)),T+=d.length(A)}return new _(v)},_.prototype.compose=function(m){var y=d.iterator(this.ops),v=d.iterator(m.ops),S=[],T=v.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){for(var A=T.retain;y.peekType()==="insert"&&y.peekLength()<=A;)A-=y.peekLength(),S.push(y.next());T.retain-A>0&&v.next(T.retain-A)}for(var E=new _(S);y.hasNext()||v.hasNext();)if(v.peekType()==="insert")E.push(v.next());else if(y.peekType()==="delete")E.push(y.next());else{var w=Math.min(y.peekLength(),v.peekLength()),I=y.next(w),x=v.next(w);if(typeof x.retain=="number"){var j={};typeof I.retain=="number"?j.retain=w:j.insert=I.insert;var B=d.attributes.compose(I.attributes,x.attributes,typeof I.retain=="number");if(B&&(j.attributes=B),E.push(j),!v.hasNext()&&c(E.ops[E.ops.length-1],j)){var N=new _(y.rest());return E.concat(N).chop()}}else typeof x.delete=="number"&&typeof I.retain=="number"&&E.push(x)}return E.chop()},_.prototype.concat=function(m){var y=new _(this.ops.slice());return m.ops.length>0&&(y.push(m.ops[0]),y.ops=y.ops.concat(m.ops.slice(1))),y},_.prototype.diff=function(m,y){if(this.ops===m.ops)return new _;var v=[this,m].map(function(w){return w.map(function(I){if(I.insert!=null)return typeof I.insert=="string"?I.insert:p;var x=w===m?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),S=new _,T=l(v[0],v[1],y),A=d.iterator(this.ops),E=d.iterator(m.ops);return T.forEach(function(w){for(var I=w[1].length;I>0;){var x=0;switch(w[0]){case l.INSERT:x=Math.min(E.peekLength(),I),S.push(E.next(x));break;case l.DELETE:x=Math.min(I,A.peekLength()),A.next(x),S.delete(x);break;case l.EQUAL:x=Math.min(A.peekLength(),E.peekLength(),I);var j=A.next(x),B=E.next(x);c(j.insert,B.insert)?S.retain(x,d.attributes.diff(j.attributes,B.attributes)):S.push(B).delete(x);break}I-=x}}),S.chop()},_.prototype.eachLine=function(m,y){y=y||`
`;for(var v=d.iterator(this.ops),S=new _,T=0;v.hasNext();){if(v.peekType()!=="insert")return;var A=v.peek(),E=d.length(A)-v.peekLength(),w=typeof A.insert=="string"?A.insert.indexOf(y,E)-E:-1;if(w<0)S.push(v.next());else if(w>0)S.push(v.next(w));else{if(m(S,v.next(1).attributes||{},T)===!1)return;T+=1,S=new _}}S.length()>0&&m(S,{},T)},_.prototype.transform=function(m,y){if(y=!!y,typeof m=="number")return this.transformPosition(m,y);for(var v=d.iterator(this.ops),S=d.iterator(m.ops),T=new _;v.hasNext()||S.hasNext();)if(v.peekType()==="insert"&&(y||S.peekType()!=="insert"))T.retain(d.length(v.next()));else if(S.peekType()==="insert")T.push(S.next());else{var A=Math.min(v.peekLength(),S.peekLength()),E=v.next(A),w=S.next(A);if(E.delete)continue;w.delete?T.push(w):T.retain(A,d.attributes.transform(E.attributes,w.attributes,y))}return T.chop()},_.prototype.transformPosition=function(m,y){y=!!y;for(var v=d.iterator(this.ops),S=0;v.hasNext()&&S<=m;){var T=v.peekLength(),A=v.peekType();if(v.next(),A==="delete"){m-=Math.min(T,m-S);continue}else A==="insert"&&(S<m||!y)&&(m+=T);S+=T}return m},n.exports=_}),(function(n,i){var s=Object.prototype.hasOwnProperty,l=Object.prototype.toString,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d=function(v){return typeof Array.isArray=="function"?Array.isArray(v):l.call(v)==="[object Array]"},p=function(v){if(!v||l.call(v)!=="[object Object]")return!1;var S=s.call(v,"constructor"),T=v.constructor&&v.constructor.prototype&&s.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!S&&!T)return!1;var A;for(A in v);return typeof A>"u"||s.call(v,A)},_=function(v,S){c&&S.name==="__proto__"?c(v,S.name,{enumerable:!0,configurable:!0,value:S.newValue,writable:!0}):v[S.name]=S.newValue},m=function(v,S){if(S==="__proto__")if(s.call(v,S)){if(h)return h(v,S).value}else return;return v[S]};n.exports=function y(){var v,S,T,A,E,w,I=arguments[0],x=1,j=arguments.length,B=!1;for(typeof I=="boolean"&&(B=I,I=arguments[1]||{},x=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});x<j;++x)if(v=arguments[x],v!=null)for(S in v)T=m(I,S),A=m(v,S),I!==A&&(B&&A&&(p(A)||(E=d(A)))?(E?(E=!1,w=T&&d(T)?T:[]):w=T&&p(T)?T:{},_(I,{name:S,newValue:y(B,w,A)})):typeof A<"u"&&_(I,{name:S,newValue:A}));return I}}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var l=(function(){function R(M,L){for(var Y=0;Y<L.length;Y++){var W=L[Y];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,L,Y){return L&&R(M.prototype,L),Y&&R(M,Y),M}})(),c=function R(M,L,Y){M===null&&(M=Function.prototype);var W=Object.getOwnPropertyDescriptor(M,L);if(W===void 0){var Q=Object.getPrototypeOf(M);return Q===null?void 0:R(Q,L,Y)}else{if("value"in W)return W.value;var Z=W.get;return Z===void 0?void 0:Z.call(Y)}},h=s(3),d=I(h),p=s(2),_=I(p),m=s(0),y=I(m),v=s(16),S=I(v),T=s(6),A=I(T),E=s(7),w=I(E);function I(R){return R&&R.__esModule?R:{default:R}}function x(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function j(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function B(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var N=1,O=(function(R){B(M,R);function M(){return x(this,M),j(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return l(M,[{key:"attach",value:function(){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"attach",this).call(this),this.attributes=new y.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new _.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Y,W){var Q=y.default.query(Y,y.default.Scope.BLOCK_ATTRIBUTE);Q!=null&&this.attributes.attribute(Q,W)}},{key:"formatAt",value:function(Y,W,Q,Z){this.format(Q,Z)}},{key:"insertAt",value:function(Y,W,Q){if(typeof W=="string"&&W.endsWith(`
`)){var Z=y.default.create(P.blotName);this.parent.insertBefore(Z,Y===0?this:this.next),Z.insertAt(0,W.slice(0,-1))}else c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,Y,W,Q)}}]),M})(y.default.Embed);O.scope=y.default.Scope.BLOCK_BLOT;var P=(function(R){B(M,R);function M(L){x(this,M);var Y=j(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L));return Y.cache={},Y}return l(M,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(y.default.Leaf).reduce(function(Y,W){return W.length()===0?Y:Y.insert(W.value(),D(W))},new _.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function(Y,W){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"deleteAt",this).call(this,Y,W),this.cache={}}},{key:"formatAt",value:function(Y,W,Q,Z){W<=0||(y.default.query(Q,y.default.Scope.BLOCK)?Y+W===this.length()&&this.format(Q,Z):c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,Y,Math.min(W,this.length()-Y-1),Q,Z),this.cache={})}},{key:"insertAt",value:function(Y,W,Q){if(Q!=null)return c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,Y,W,Q);if(W.length!==0){var Z=W.split(`
`),he=Z.shift();he.length>0&&(Y<this.length()-1||this.children.tail==null?c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,Math.min(Y,this.length()-1),he):this.children.tail.insertAt(this.children.tail.length(),he),this.cache={});var ne=this;Z.reduce(function(X,V){return ne=ne.split(X,!0),ne.insertAt(0,V),V.length},Y+he.length)}}},{key:"insertBefore",value:function(Y,W){var Q=this.children.head;c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,Y,W),Q instanceof S.default&&Q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(Y,W){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"moveChildren",this).call(this,Y,W),this.cache={}}},{key:"optimize",value:function(Y){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,Y),this.cache={}}},{key:"path",value:function(Y){return c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"path",this).call(this,Y,!0)}},{key:"removeChild",value:function(Y){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"removeChild",this).call(this,Y),this.cache={}}},{key:"split",value:function(Y){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(W&&(Y===0||Y>=this.length()-N)){var Q=this.clone();return Y===0?(this.parent.insertBefore(Q,this),this):(this.parent.insertBefore(Q,this.next),Q)}else{var Z=c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"split",this).call(this,Y,W);return this.cache={},Z}}}]),M})(y.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[A.default,y.default.Embed,w.default];function D(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R==null||(typeof R.formats=="function"&&(M=(0,d.default)(M,R.formats())),R.parent==null||R.parent.blotName=="scroll"||R.parent.statics.scope!==R.statics.scope)?M:D(R.parent,M)}i.bubbleFormats=D,i.BlockEmbed=O,i.default=P}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},c=(function(){function ne(X,V){var z=[],G=!0,J=!1,te=void 0;try{for(var F=X[Symbol.iterator](),ee;!(G=(ee=F.next()).done)&&(z.push(ee.value),!(V&&z.length===V));G=!0);}catch(le){J=!0,te=le}finally{try{!G&&F.return&&F.return()}finally{if(J)throw te}}return z}return function(X,V){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return ne(X,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),h=(function(){function ne(X,V){for(var z=0;z<V.length;z++){var G=V[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(X,G.key,G)}}return function(X,V,z){return V&&ne(X.prototype,V),z&&ne(X,z),X}})();s(50);var d=s(2),p=D(d),_=s(14),m=D(_),y=s(8),v=D(y),S=s(9),T=D(S),A=s(0),E=D(A),w=s(15),I=D(w),x=s(3),j=D(x),B=s(10),N=D(B),O=s(34),P=D(O);function D(ne){return ne&&ne.__esModule?ne:{default:ne}}function R(ne,X,V){return X in ne?Object.defineProperty(ne,X,{value:V,enumerable:!0,configurable:!0,writable:!0}):ne[X]=V,ne}function M(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")}var L=(0,N.default)("quill"),Y=(function(){h(ne,null,[{key:"debug",value:function(V){V===!0&&(V="log"),N.default.level(V)}},{key:"find",value:function(V){return V.__quill||E.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&L.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,z){var G=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof V!="string"){var te=V.attrName||V.blotName;typeof te=="string"?this.register("formats/"+te,V,z):Object.keys(V).forEach(function(F){G.register(F,V[F],z)})}else this.imports[V]!=null&&!J&&L.warn("Overwriting "+V+" with",z),this.imports[V]=z,(V.startsWith("blots/")||V.startsWith("formats/"))&&z.blotName!=="abstract"?E.default.register(z):V.startsWith("modules")&&typeof z.register=="function"&&z.register()}}]);function ne(X){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M(this,ne),this.options=W(X,z),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",X);this.options.debug&&ne.debug(this.options.debug);var G=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new v.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new I.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(v.default.events.EDITOR_CHANGE,function(te){te===v.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(v.default.events.SCROLL_UPDATE,function(te,F){var ee=V.selection.lastRange,le=ee&&ee.length===0?ee.index:void 0;Q.call(V,function(){return V.editor.update(null,F,le)},te)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+G+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return h(ne,[{key:"addContainer",value:function(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var G=V;V=document.createElement("div"),V.classList.add(G)}return this.container.insertBefore(V,z),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,z,G){var J=this,te=Z(V,z,G),F=c(te,4);return V=F[0],z=F[1],G=F[3],Q.call(this,function(){return J.editor.deleteText(V,z)},G,V,-1*z)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,z){var G=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;return Q.call(this,function(){var te=G.getSelection(!0),F=new p.default;if(te==null)return F;if(E.default.query(V,E.default.Scope.BLOCK))F=G.editor.formatLine(te.index,te.length,R({},V,z));else{if(te.length===0)return G.selection.format(V,z),F;F=G.editor.formatText(te.index,te.length,R({},V,z))}return G.setSelection(te,v.default.sources.SILENT),F},J)}},{key:"formatLine",value:function(V,z,G,J,te){var F=this,ee=void 0,le=Z(V,z,G,J,te),se=c(le,4);return V=se[0],z=se[1],ee=se[2],te=se[3],Q.call(this,function(){return F.editor.formatLine(V,z,ee)},te,V,0)}},{key:"formatText",value:function(V,z,G,J,te){var F=this,ee=void 0,le=Z(V,z,G,J,te),se=c(le,4);return V=se[0],z=se[1],ee=se[2],te=se[3],Q.call(this,function(){return F.editor.formatText(V,z,ee)},te,V,0)}},{key:"getBounds",value:function(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=void 0;typeof V=="number"?G=this.selection.getBounds(V,z):G=this.selection.getBounds(V.index,V.length);var J=this.container.getBoundingClientRect();return{bottom:G.bottom-J.top,height:G.height,left:G.left-J.left,right:G.right-J.left,top:G.top-J.top,width:G.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,G=Z(V,z),J=c(G,2);return V=J[0],z=J[1],this.editor.getContents(V,z)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,z):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,z)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,G=Z(V,z),J=c(G,2);return V=J[0],z=J[1],this.editor.getText(V,z)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,z,G){var J=this,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ne.sources.API;return Q.call(this,function(){return J.editor.insertEmbed(V,z,G)},te,V)}},{key:"insertText",value:function(V,z,G,J,te){var F=this,ee=void 0,le=Z(V,0,G,J,te),se=c(le,4);return V=se[0],ee=se[2],te=se[3],Q.call(this,function(){return F.editor.insertText(V,z,ee)},te,V,z.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,z,G){this.clipboard.dangerouslyPasteHTML(V,z,G)}},{key:"removeFormat",value:function(V,z,G){var J=this,te=Z(V,z,G),F=c(te,4);return V=F[0],z=F[1],G=F[3],Q.call(this,function(){return J.editor.removeFormat(V,z)},G,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var z=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return Q.call(this,function(){V=new p.default(V);var J=z.getLength(),te=z.editor.deleteText(0,J),F=z.editor.applyDelta(V),ee=F.ops[F.ops.length-1];ee!=null&&typeof ee.insert=="string"&&ee.insert[ee.insert.length-1]===`
`&&(z.editor.deleteText(z.getLength()-1,1),F.delete(1));var le=te.compose(F);return le},G)}},{key:"setSelection",value:function(V,z,G){if(V==null)this.selection.setRange(null,z||ne.sources.API);else{var J=Z(V,z,G),te=c(J,4);V=te[0],z=te[1],G=te[3],this.selection.setRange(new w.Range(V,z),G),G!==v.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API,G=new p.default().insert(V);return this.setContents(G,z)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,z=this.scroll.update(V);return this.selection.update(V),z}},{key:"updateContents",value:function(V){var z=this,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return Q.call(this,function(){return V=new p.default(V),z.editor.applyDelta(V,G)},G,!0)}}]),ne})();Y.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},Y.events=v.default.events,Y.sources=v.default.sources,Y.version="1.3.7",Y.imports={delta:p.default,parchment:E.default,"core/module":T.default,"core/theme":P.default};function W(ne,X){if(X=(0,j.default)(!0,{container:ne,modules:{clipboard:!0,keyboard:!0,history:!0}},X),!X.theme||X.theme===Y.DEFAULTS.theme)X.theme=P.default;else if(X.theme=Y.import("themes/"+X.theme),X.theme==null)throw new Error("Invalid theme "+X.theme+". Did you register it?");var V=(0,j.default)(!0,{},X.theme.DEFAULTS);[V,X].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(te){J.modules[te]===!0&&(J.modules[te]={})})});var z=Object.keys(V.modules).concat(Object.keys(X.modules)),G=z.reduce(function(J,te){var F=Y.import("modules/"+te);return F==null?L.error("Cannot load "+te+" module. Are you sure you registered it?"):J[te]=F.DEFAULTS||{},J},{});return X.modules!=null&&X.modules.toolbar&&X.modules.toolbar.constructor!==Object&&(X.modules.toolbar={container:X.modules.toolbar}),X=(0,j.default)(!0,{},Y.DEFAULTS,{modules:G},V,X),["bounds","container","scrollingContainer"].forEach(function(J){typeof X[J]=="string"&&(X[J]=document.querySelector(X[J]))}),X.modules=Object.keys(X.modules).reduce(function(J,te){return X.modules[te]&&(J[te]=X.modules[te]),J},{}),X}function Q(ne,X,V,z){if(this.options.strict&&!this.isEnabled()&&X===v.default.sources.USER)return new p.default;var G=V==null?null:this.getSelection(),J=this.editor.delta,te=ne();if(G!=null&&(V===!0&&(V=G.index),z==null?G=he(G,te,X):z!==0&&(G=he(G,V,z,X)),this.setSelection(G,v.default.sources.SILENT)),te.length()>0){var F,ee=[v.default.events.TEXT_CHANGE,te,J,X];if((F=this.emitter).emit.apply(F,[v.default.events.EDITOR_CHANGE].concat(ee)),X!==v.default.sources.SILENT){var le;(le=this.emitter).emit.apply(le,ee)}}return te}function Z(ne,X,V,z,G){var J={};return typeof ne.index=="number"&&typeof ne.length=="number"?typeof X!="number"?(G=z,z=V,V=X,X=ne.length,ne=ne.index):(X=ne.length,ne=ne.index):typeof X!="number"&&(G=z,z=V,V=X,X=0),(typeof V>"u"?"undefined":l(V))==="object"?(J=V,G=z):typeof V=="string"&&(z!=null?J[V]=z:G=V),G=G||v.default.sources.API,[ne,X,J,G]}function he(ne,X,V,z){if(ne==null)return null;var G=void 0,J=void 0;if(X instanceof p.default){var te=[ne.index,ne.index+ne.length].map(function(se){return X.transformPosition(se,z!==v.default.sources.USER)}),F=c(te,2);G=F[0],J=F[1]}else{var ee=[ne.index,ne.index+ne.length].map(function(se){return se<X||se===X&&z===v.default.sources.USER?se:V>=0?se+V:Math.max(X,se+V)}),le=c(ee,2);G=le[0],J=le[1]}return new w.Range(G,J-G)}i.expandConfig=W,i.overload=Z,i.default=Y}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function A(E,w){for(var I=0;I<w.length;I++){var x=w[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,w,I){return w&&A(E.prototype,w),I&&A(E,I),E}})(),c=function A(E,w,I){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,w);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:A(j,w,I)}else{if("value"in x)return x.value;var B=x.get;return B===void 0?void 0:B.call(I)}},h=s(7),d=m(h),p=s(0),_=m(p);function m(A){return A&&A.__esModule?A:{default:A}}function y(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function v(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function S(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var T=(function(A){S(E,A);function E(){return y(this,E),v(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return l(E,[{key:"formatAt",value:function(I,x,j,B){if(E.compare(this.statics.blotName,j)<0&&_.default.query(j,_.default.Scope.BLOT)){var N=this.isolate(I,x);B&&N.wrap(j,B)}else c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,I,x,j,B)}},{key:"optimize",value:function(I){if(c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,I),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(I,x){var j=E.order.indexOf(I),B=E.order.indexOf(x);return j>=0||B>=0?j-B:I===x?0:I<x?-1:1}}]),E})(_.default.Inline);T.allowedChildren=[T,_.default.Embed,d.default],T.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=T}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(0),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function _(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=(function(y){_(v,y);function v(){return d(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v})(c.default.Text);i.default=m}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function w(I,x){for(var j=0;j<x.length;j++){var B=x[j];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,x,j){return x&&w(I.prototype,x),j&&w(I,j),I}})(),c=function w(I,x,j){I===null&&(I=Function.prototype);var B=Object.getOwnPropertyDescriptor(I,x);if(B===void 0){var N=Object.getPrototypeOf(I);return N===null?void 0:w(N,x,j)}else{if("value"in B)return B.value;var O=B.get;return O===void 0?void 0:O.call(j)}},h=s(54),d=m(h),p=s(10),_=m(p);function m(w){return w&&w.__esModule?w:{default:w}}function y(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function v(w,I){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:w}function S(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}var T=(0,_.default)("quill:events"),A=["selectionchange","mousedown","mouseup","click"];A.forEach(function(w){document.addEventListener(w,function(){for(var I=arguments.length,x=Array(I),j=0;j<I;j++)x[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(B){if(B.__quill&&B.__quill.emitter){var N;(N=B.__quill.emitter).handleDOM.apply(N,x)}})})});var E=(function(w){S(I,w);function I(){y(this,I);var x=v(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return x.listeners={},x.on("error",T.error),x}return l(I,[{key:"emit",value:function(){T.log.apply(T,arguments),c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var B=arguments.length,N=Array(B>1?B-1:0),O=1;O<B;O++)N[O-1]=arguments[O];(this.listeners[j.type]||[]).forEach(function(P){var D=P.node,R=P.handler;(j.target===D||D.contains(j.target))&&R.apply(void 0,[j].concat(N))})}},{key:"listenDOM",value:function(j,B,N){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:B,handler:N})}}]),I})(d.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},i.default=E}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function h(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(this,h),this.quill=d,this.options=p};c.DEFAULTS={},i.default=c}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=["error","warn","log","info"],c="warn";function h(p){if(l.indexOf(p)<=l.indexOf(c)){for(var _,m=arguments.length,y=Array(m>1?m-1:0),v=1;v<m;v++)y[v-1]=arguments[v];(_=console)[p].apply(_,y)}}function d(p){return l.reduce(function(_,m){return _[m]=h.bind(console,m,p),_},{})}h.level=d.level=function(p){c=p},i.default=d}),(function(n,i,s){var l=Array.prototype.slice,c=s(52),h=s(53),d=n.exports=function(y,v,S){return S||(S={}),y===v?!0:y instanceof Date&&v instanceof Date?y.getTime()===v.getTime():!y||!v||typeof y!="object"&&typeof v!="object"?S.strict?y===v:y==v:m(y,v,S)};function p(y){return y==null}function _(y){return!(!y||typeof y!="object"||typeof y.length!="number"||typeof y.copy!="function"||typeof y.slice!="function"||y.length>0&&typeof y[0]!="number")}function m(y,v,S){var T,A;if(p(y)||p(v)||y.prototype!==v.prototype)return!1;if(h(y))return h(v)?(y=l.call(y),v=l.call(v),d(y,v,S)):!1;if(_(y)){if(!_(v)||y.length!==v.length)return!1;for(T=0;T<y.length;T++)if(y[T]!==v[T])return!1;return!0}try{var E=c(y),w=c(v)}catch{return!1}if(E.length!=w.length)return!1;for(E.sort(),w.sort(),T=E.length-1;T>=0;T--)if(E[T]!=w[T])return!1;for(T=E.length-1;T>=0;T--)if(A=E[T],!d(y[A],v[A],S))return!1;return typeof y==typeof v}}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(1),c=(function(){function h(d,p,_){_===void 0&&(_={}),this.attrName=d,this.keyName=p;var m=l.Scope.TYPE&l.Scope.ATTRIBUTE;_.scope!=null?this.scope=_.scope&l.Scope.LEVEL|m:this.scope=l.Scope.ATTRIBUTE,_.whitelist!=null&&(this.whitelist=_.whitelist)}return h.keys=function(d){return[].map.call(d.attributes,function(p){return p.name})},h.prototype.add=function(d,p){return this.canAdd(d,p)?(d.setAttribute(this.keyName,p),!0):!1},h.prototype.canAdd=function(d,p){var _=l.query(d,l.Scope.BLOT&(this.scope|l.Scope.TYPE));return _==null?!1:this.whitelist==null?!0:typeof p=="string"?this.whitelist.indexOf(p.replace(/["']/g,""))>-1:this.whitelist.indexOf(p)>-1},h.prototype.remove=function(d){d.removeAttribute(this.keyName)},h.prototype.value=function(d){var p=d.getAttribute(this.keyName);return this.canAdd(d,p)&&p?p:""},h})();i.default=c}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var l=(function(){function O(P,D){var R=[],M=!0,L=!1,Y=void 0;try{for(var W=P[Symbol.iterator](),Q;!(M=(Q=W.next()).done)&&(R.push(Q.value),!(D&&R.length===D));M=!0);}catch(Z){L=!0,Y=Z}finally{try{!M&&W.return&&W.return()}finally{if(L)throw Y}}return R}return function(P,D){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return O(P,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function O(P,D){for(var R=0;R<D.length;R++){var M=D[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,D,R){return D&&O(P.prototype,D),R&&O(P,R),P}})(),h=function O(P,D,R){P===null&&(P=Function.prototype);var M=Object.getOwnPropertyDescriptor(P,D);if(M===void 0){var L=Object.getPrototypeOf(P);return L===null?void 0:O(L,D,R)}else{if("value"in M)return M.value;var Y=M.get;return Y===void 0?void 0:Y.call(R)}},d=s(2),p=w(d),_=s(0),m=w(_),y=s(4),v=w(y),S=s(6),T=w(S),A=s(7),E=w(A);function w(O){return O&&O.__esModule?O:{default:O}}function I(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function x(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function j(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var B=(function(O){j(P,O);function P(){return I(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P})(T.default);B.blotName="code",B.tagName="CODE";var N=(function(O){j(P,O);function P(){return I(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return c(P,[{key:"delta",value:function(){var R=this,M=this.domNode.textContent;return M.endsWith(`
`)&&(M=M.slice(0,-1)),M.split(`
`).reduce(function(L,Y){return L.insert(Y).insert(`
`,R.formats())},new p.default)}},{key:"format",value:function(R,M){if(!(R===this.statics.blotName&&M)){var L=this.descendant(E.default,this.length()-1),Y=l(L,1),W=Y[0];W?.deleteAt(W.length()-1,1),h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,R,M)}}},{key:"formatAt",value:function(R,M,L,Y){if(M!==0&&!(m.default.query(L,m.default.Scope.BLOCK)==null||L===this.statics.blotName&&Y===this.statics.formats(this.domNode))){var W=this.newlineIndex(R);if(!(W<0||W>=R+M)){var Q=this.newlineIndex(R,!0)+1,Z=W-Q+1,he=this.isolate(Q,Z),ne=he.next;he.format(L,Y),ne instanceof P&&ne.formatAt(0,R-Q+M-Z,L,Y)}}}},{key:"insertAt",value:function(R,M,L){if(L==null){var Y=this.descendant(E.default,R),W=l(Y,2),Q=W[0],Z=W[1];Q.insertAt(Z,M)}}},{key:"length",value:function(){var R=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?R:R+1}},{key:"newlineIndex",value:function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M)return this.domNode.textContent.slice(0,R).lastIndexOf(`
`);var L=this.domNode.textContent.slice(R).indexOf(`
`);return L>-1?R+L:-1}},{key:"optimize",value:function(R){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,R);var M=this.next;M!=null&&M.prev===this&&M.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===M.statics.formats(M.domNode)&&(M.optimize(R),M.moveChildren(this),M.remove())}},{key:"replace",value:function(R){h(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,R),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(M){var L=m.default.find(M);L==null?M.parentNode.removeChild(M):L instanceof m.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(R){var M=h(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,R);return M.setAttribute("spellcheck",!1),M}},{key:"formats",value:function(){return!0}}]),P})(v.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",i.Code=B,i.default=N}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},c=(function(){function ne(X,V){var z=[],G=!0,J=!1,te=void 0;try{for(var F=X[Symbol.iterator](),ee;!(G=(ee=F.next()).done)&&(z.push(ee.value),!(V&&z.length===V));G=!0);}catch(le){J=!0,te=le}finally{try{!G&&F.return&&F.return()}finally{if(J)throw te}}return z}return function(X,V){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return ne(X,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),h=(function(){function ne(X,V){for(var z=0;z<V.length;z++){var G=V[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(X,G.key,G)}}return function(X,V,z){return V&&ne(X.prototype,V),z&&ne(X,z),X}})(),d=s(2),p=M(d),_=s(20),m=M(_),y=s(0),v=M(y),S=s(13),T=M(S),A=s(24),E=M(A),w=s(4),I=M(w),x=s(16),j=M(x),B=s(21),N=M(B),O=s(11),P=M(O),D=s(3),R=M(D);function M(ne){return ne&&ne.__esModule?ne:{default:ne}}function L(ne,X,V){return X in ne?Object.defineProperty(ne,X,{value:V,enumerable:!0,configurable:!0,writable:!0}):ne[X]=V,ne}function Y(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")}var W=/^[ -~]*$/,Q=(function(){function ne(X){Y(this,ne),this.scroll=X,this.delta=this.getDelta()}return h(ne,[{key:"applyDelta",value:function(V){var z=this,G=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),V=he(V),V.reduce(function(te,F){var ee=F.retain||F.delete||F.insert.length||1,le=F.attributes||{};if(F.insert!=null){if(typeof F.insert=="string"){var se=F.insert;se.endsWith(`
`)&&G&&(G=!1,se=se.slice(0,-1)),te>=J&&!se.endsWith(`
`)&&(G=!0),z.scroll.insertAt(te,se);var Ee=z.scroll.line(te),Re=c(Ee,2),Le=Re[0],je=Re[1],Ue=(0,R.default)({},(0,w.bubbleFormats)(Le));if(Le instanceof I.default){var nt=Le.descendant(v.default.Leaf,je),Ct=c(nt,1),bt=Ct[0];Ue=(0,R.default)(Ue,(0,w.bubbleFormats)(bt))}le=m.default.attributes.diff(Ue,le)||{}}else if(l(F.insert)==="object"){var ge=Object.keys(F.insert)[0];if(ge==null)return te;z.scroll.insertAt(te,ge,F.insert[ge])}J+=ee}return Object.keys(le).forEach(function(pe){z.scroll.formatAt(te,ee,pe,le[pe])}),te+ee},0),V.reduce(function(te,F){return typeof F.delete=="number"?(z.scroll.deleteAt(te,F.delete),te):te+(F.retain||F.insert.length||1)},0),this.scroll.batchEnd(),this.update(V)}},{key:"deleteText",value:function(V,z){return this.scroll.deleteAt(V,z),this.update(new p.default().retain(V).delete(z))}},{key:"formatLine",value:function(V,z){var G=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(te){if(!(G.scroll.whitelist!=null&&!G.scroll.whitelist[te])){var F=G.scroll.lines(V,Math.max(z,1)),ee=z;F.forEach(function(le){var se=le.length();if(!(le instanceof T.default))le.format(te,J[te]);else{var Ee=V-le.offset(G.scroll),Re=le.newlineIndex(Ee+ee)-Ee+1;le.formatAt(Ee,Re,te,J[te])}ee-=se})}}),this.scroll.optimize(),this.update(new p.default().retain(V).retain(z,(0,N.default)(J)))}},{key:"formatText",value:function(V,z){var G=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(te){G.scroll.formatAt(V,z,te,J[te])}),this.update(new p.default().retain(V).retain(z,(0,N.default)(J)))}},{key:"getContents",value:function(V,z){return this.delta.slice(V,V+z)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(V,z){return V.concat(z.delta())},new p.default)}},{key:"getFormat",value:function(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=[],J=[];z===0?this.scroll.path(V).forEach(function(F){var ee=c(F,1),le=ee[0];le instanceof I.default?G.push(le):le instanceof v.default.Leaf&&J.push(le)}):(G=this.scroll.lines(V,z),J=this.scroll.descendants(v.default.Leaf,V,z));var te=[G,J].map(function(F){if(F.length===0)return{};for(var ee=(0,w.bubbleFormats)(F.shift());Object.keys(ee).length>0;){var le=F.shift();if(le==null)return ee;ee=Z((0,w.bubbleFormats)(le),ee)}return ee});return R.default.apply(R.default,te)}},{key:"getText",value:function(V,z){return this.getContents(V,z).filter(function(G){return typeof G.insert=="string"}).map(function(G){return G.insert}).join("")}},{key:"insertEmbed",value:function(V,z,G){return this.scroll.insertAt(V,z,G),this.update(new p.default().retain(V).insert(L({},z,G)))}},{key:"insertText",value:function(V,z){var G=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z=z.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(V,z),Object.keys(J).forEach(function(te){G.scroll.formatAt(V,z.length,te,J[te])}),this.update(new p.default().retain(V).insert(z,(0,N.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var V=this.scroll.children.head;return V.statics.blotName!==I.default.blotName||V.children.length>1?!1:V.children.head instanceof j.default}},{key:"removeFormat",value:function(V,z){var G=this.getText(V,z),J=this.scroll.line(V+z),te=c(J,2),F=te[0],ee=te[1],le=0,se=new p.default;F!=null&&(F instanceof T.default?le=F.newlineIndex(ee)-ee+1:le=F.length()-ee,se=F.delta().slice(ee,ee+le-1).insert(`
`));var Ee=this.getContents(V,z+le),Re=Ee.diff(new p.default().insert(G).concat(se)),Le=new p.default().retain(V).concat(Re);return this.applyDelta(Le)}},{key:"update",value:function(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(z.length===1&&z[0].type==="characterData"&&z[0].target.data.match(W)&&v.default.find(z[0].target)){var te=v.default.find(z[0].target),F=(0,w.bubbleFormats)(te),ee=te.offset(this.scroll),le=z[0].oldValue.replace(E.default.CONTENTS,""),se=new p.default().insert(le),Ee=new p.default().insert(te.value()),Re=new p.default().retain(ee).concat(se.diff(Ee,G));V=Re.reduce(function(Le,je){return je.insert?Le.insert(je.insert,F):Le.push(je)},new p.default),this.delta=J.compose(V)}else this.delta=this.getDelta(),(!V||!(0,P.default)(J.compose(V),this.delta))&&(V=J.diff(this.delta,G));return V}}]),ne})();function Z(ne,X){return Object.keys(X).reduce(function(V,z){return ne[z]==null||(X[z]===ne[z]?V[z]=X[z]:Array.isArray(X[z])?X[z].indexOf(ne[z])<0&&(V[z]=X[z].concat([ne[z]])):V[z]=[X[z],ne[z]]),V},{})}function he(ne){return ne.reduce(function(X,V){if(V.insert===1){var z=(0,N.default)(V.attributes);return delete z.image,X.insert({image:V.attributes.image},z)}if(V.attributes!=null&&(V.attributes.list===!0||V.attributes.bullet===!0)&&(V=(0,N.default)(V),V.attributes.list?V.attributes.list="ordered":(V.attributes.list="bullet",delete V.attributes.bullet)),typeof V.insert=="string"){var G=V.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return X.insert(G,V.attributes)}return X.push(V)},new p.default)}i.default=Q}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var l=(function(){function O(P,D){var R=[],M=!0,L=!1,Y=void 0;try{for(var W=P[Symbol.iterator](),Q;!(M=(Q=W.next()).done)&&(R.push(Q.value),!(D&&R.length===D));M=!0);}catch(Z){L=!0,Y=Z}finally{try{!M&&W.return&&W.return()}finally{if(L)throw Y}}return R}return function(P,D){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return O(P,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function O(P,D){for(var R=0;R<D.length;R++){var M=D[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,D,R){return D&&O(P.prototype,D),R&&O(P,R),P}})(),h=s(0),d=E(h),p=s(21),_=E(p),m=s(11),y=E(m),v=s(8),S=E(v),T=s(10),A=E(T);function E(O){return O&&O.__esModule?O:{default:O}}function w(O){if(Array.isArray(O)){for(var P=0,D=Array(O.length);P<O.length;P++)D[P]=O[P];return D}else return Array.from(O)}function I(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}var x=(0,A.default)("quill:selection"),j=function O(P){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;I(this,O),this.index=P,this.length=D},B=(function(){function O(P,D){var R=this;I(this,O),this.emitter=D,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){R.mouseDown||setTimeout(R.update.bind(R,S.default.sources.USER),1)}),this.emitter.on(S.default.events.EDITOR_CHANGE,function(M,L){M===S.default.events.TEXT_CHANGE&&L.length()>0&&R.update(S.default.sources.SILENT)}),this.emitter.on(S.default.events.SCROLL_BEFORE_UPDATE,function(){if(R.hasFocus()){var M=R.getNativeRange();M!=null&&M.start.node!==R.cursor.textNode&&R.emitter.once(S.default.events.SCROLL_UPDATE,function(){try{R.setNativeRange(M.start.node,M.start.offset,M.end.node,M.end.offset)}catch{}})}}),this.emitter.on(S.default.events.SCROLL_OPTIMIZE,function(M,L){if(L.range){var Y=L.range,W=Y.startNode,Q=Y.startOffset,Z=Y.endNode,he=Y.endOffset;R.setNativeRange(W,Q,Z,he)}}),this.update(S.default.sources.SILENT)}return c(O,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var R=D.cursor.restore();if(!R)return;setTimeout(function(){D.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(S.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,R){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var M=this.getNativeRange();if(!(M==null||!M.native.collapsed||d.default.query(D,d.default.Scope.BLOCK))){if(M.start.node!==this.cursor.textNode){var L=d.default.find(M.start.node,!1);if(L==null)return;if(L instanceof d.default.Leaf){var Y=L.split(M.start.offset);L.parent.insertBefore(this.cursor,Y)}else L.insertBefore(this.cursor,M.start.node);this.cursor.attach()}this.cursor.format(D,R),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=this.scroll.length();D=Math.min(D,M-1),R=Math.min(D+R,M-1)-D;var L=void 0,Y=this.scroll.leaf(D),W=l(Y,2),Q=W[0],Z=W[1];if(Q==null)return null;var he=Q.position(Z,!0),ne=l(he,2);L=ne[0],Z=ne[1];var X=document.createRange();if(R>0){X.setStart(L,Z);var V=this.scroll.leaf(D+R),z=l(V,2);if(Q=z[0],Z=z[1],Q==null)return null;var G=Q.position(Z,!0),J=l(G,2);return L=J[0],Z=J[1],X.setEnd(L,Z),X.getBoundingClientRect()}else{var te="left",F=void 0;return L instanceof Text?(Z<L.data.length?(X.setStart(L,Z),X.setEnd(L,Z+1)):(X.setStart(L,Z-1),X.setEnd(L,Z),te="right"),F=X.getBoundingClientRect()):(F=Q.domNode.getBoundingClientRect(),Z>0&&(te="right")),{bottom:F.top+F.height,height:F.height,left:F[te],right:F[te],top:F.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var R=D.getRangeAt(0);if(R==null)return null;var M=this.normalizeNative(R);return x.info("getNativeRange",M),M}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var R=this.normalizedToRange(D);return[R,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var R=this,M=[[D.start.node,D.start.offset]];D.native.collapsed||M.push([D.end.node,D.end.offset]);var L=M.map(function(Q){var Z=l(Q,2),he=Z[0],ne=Z[1],X=d.default.find(he,!0),V=X.offset(R.scroll);return ne===0?V:X instanceof d.default.Container?V+X.length():V+X.index(he,ne)}),Y=Math.min(Math.max.apply(Math,w(L)),this.scroll.length()-1),W=Math.min.apply(Math,[Y].concat(w(L)));return new j(W,Y-W)}},{key:"normalizeNative",value:function(D){if(!N(this.root,D.startContainer)||!D.collapsed&&!N(this.root,D.endContainer))return null;var R={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[R.start,R.end].forEach(function(M){for(var L=M.node,Y=M.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>Y)L=L.childNodes[Y],Y=0;else if(L.childNodes.length===Y)L=L.lastChild,Y=L instanceof Text?L.data.length:L.childNodes.length+1;else break;M.node=L,M.offset=Y}),R}},{key:"rangeToNative",value:function(D){var R=this,M=D.collapsed?[D.index]:[D.index,D.index+D.length],L=[],Y=this.scroll.length();return M.forEach(function(W,Q){W=Math.min(Y-1,W);var Z=void 0,he=R.scroll.leaf(W),ne=l(he,2),X=ne[0],V=ne[1],z=X.position(V,Q!==0),G=l(z,2);Z=G[0],V=G[1],L.push(Z,V)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(D){var R=this.lastRange;if(R!=null){var M=this.getBounds(R.index,R.length);if(M!=null){var L=this.scroll.length()-1,Y=this.scroll.line(Math.min(R.index,L)),W=l(Y,1),Q=W[0],Z=Q;if(R.length>0){var he=this.scroll.line(Math.min(R.index+R.length,L)),ne=l(he,1);Z=ne[0]}if(!(Q==null||Z==null)){var X=D.getBoundingClientRect();M.top<X.top?D.scrollTop-=X.top-M.top:M.bottom>X.bottom&&(D.scrollTop+=M.bottom-X.bottom)}}}}},{key:"setNativeRange",value:function(D,R){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",D,R,M,L),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||M.parentNode==null))){var W=document.getSelection();if(W!=null)if(D!=null){this.hasFocus()||this.root.focus();var Q=(this.getNativeRange()||{}).native;if(Q==null||Y||D!==Q.startContainer||R!==Q.startOffset||M!==Q.endContainer||L!==Q.endOffset){D.tagName=="BR"&&(R=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),M.tagName=="BR"&&(L=[].indexOf.call(M.parentNode.childNodes,M),M=M.parentNode);var Z=document.createRange();Z.setStart(D,R),Z.setEnd(M,L),W.removeAllRanges(),W.addRange(Z)}}else W.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof R=="string"&&(M=R,R=!1),x.info("setRange",D),D!=null){var L=this.rangeToNative(D);this.setNativeRange.apply(this,w(L).concat([R]))}else this.setNativeRange(null);this.update(M)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.default.sources.USER,R=this.lastRange,M=this.getRange(),L=l(M,2),Y=L[0],W=L[1];if(this.lastRange=Y,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,y.default)(R,this.lastRange)){var Q;!this.composing&&W!=null&&W.native.collapsed&&W.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[S.default.events.SELECTION_CHANGE,(0,_.default)(this.lastRange),(0,_.default)(R),D];if((Q=this.emitter).emit.apply(Q,[S.default.events.EDITOR_CHANGE].concat(Z)),D!==S.default.sources.SILENT){var he;(he=this.emitter).emit.apply(he,Z)}}}}]),O})();function N(O,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),O.contains(P)}i.Range=j,i.default=B}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function S(T,A){for(var E=0;E<A.length;E++){var w=A[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,A,E){return A&&S(T.prototype,A),E&&S(T,E),T}})(),c=function S(T,A,E){T===null&&(T=Function.prototype);var w=Object.getOwnPropertyDescriptor(T,A);if(w===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:S(I,A,E)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(E)}},h=s(0),d=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function _(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function y(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var v=(function(S){y(T,S);function T(){return _(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return l(T,[{key:"insertInto",value:function(E,w){E.children.length===0?c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertInto",this).call(this,E,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T})(d.default.Embed);v.blotName="break",v.tagName="BR",i.default=v}),(function(n,i,s){var l=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var S in v)v.hasOwnProperty(S)&&(y[S]=v[S])};return function(y,v){m(y,v);function S(){this.constructor=y}y.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(44),h=s(30),d=s(1),p=(function(m){l(y,m);function y(v){var S=m.call(this,v)||this;return S.build(),S}return y.prototype.appendChild=function(v){this.insertBefore(v)},y.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(v){v.attach()})},y.prototype.build=function(){var v=this;this.children=new c.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(S){try{var T=_(S);v.insertBefore(T,v.children.head||void 0)}catch(A){if(A instanceof d.ParchmentError)return;throw A}})},y.prototype.deleteAt=function(v,S){if(v===0&&S===this.length())return this.remove();this.children.forEachAt(v,S,function(T,A,E){T.deleteAt(A,E)})},y.prototype.descendant=function(v,S){var T=this.children.find(S),A=T[0],E=T[1];return v.blotName==null&&v(A)||v.blotName!=null&&A instanceof v?[A,E]:A instanceof y?A.descendant(v,E):[null,-1]},y.prototype.descendants=function(v,S,T){S===void 0&&(S=0),T===void 0&&(T=Number.MAX_VALUE);var A=[],E=T;return this.children.forEachAt(S,T,function(w,I,x){(v.blotName==null&&v(w)||v.blotName!=null&&w instanceof v)&&A.push(w),w instanceof y&&(A=A.concat(w.descendants(v,I,E))),E-=x}),A},y.prototype.detach=function(){this.children.forEach(function(v){v.detach()}),m.prototype.detach.call(this)},y.prototype.formatAt=function(v,S,T,A){this.children.forEachAt(v,S,function(E,w,I){E.formatAt(w,I,T,A)})},y.prototype.insertAt=function(v,S,T){var A=this.children.find(v),E=A[0],w=A[1];if(E)E.insertAt(w,S,T);else{var I=T==null?d.create("text",S):d.create(S,T);this.appendChild(I)}},y.prototype.insertBefore=function(v,S){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(T){return v instanceof T}))throw new d.ParchmentError("Cannot insert "+v.statics.blotName+" into "+this.statics.blotName);v.insertInto(this,S)},y.prototype.length=function(){return this.children.reduce(function(v,S){return v+S.length()},0)},y.prototype.moveChildren=function(v,S){this.children.forEach(function(T){v.insertBefore(T,S)})},y.prototype.optimize=function(v){if(m.prototype.optimize.call(this,v),this.children.length===0)if(this.statics.defaultChild!=null){var S=d.create(this.statics.defaultChild);this.appendChild(S),S.optimize(v)}else this.remove()},y.prototype.path=function(v,S){S===void 0&&(S=!1);var T=this.children.find(v,S),A=T[0],E=T[1],w=[[this,v]];return A instanceof y?w.concat(A.path(E,S)):(A!=null&&w.push([A,E]),w)},y.prototype.removeChild=function(v){this.children.remove(v)},y.prototype.replace=function(v){v instanceof y&&v.moveChildren(this),m.prototype.replace.call(this,v)},y.prototype.split=function(v,S){if(S===void 0&&(S=!1),!S){if(v===0)return this;if(v===this.length())return this.next}var T=this.clone();return this.parent.insertBefore(T,this.next),this.children.forEachAt(v,this.length(),function(A,E,w){A=A.split(E,S),T.appendChild(A)}),T},y.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},y.prototype.update=function(v,S){var T=this,A=[],E=[];v.forEach(function(w){w.target===T.domNode&&w.type==="childList"&&(A.push.apply(A,w.addedNodes),E.push.apply(E,w.removedNodes))}),E.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var I=d.find(w);I!=null&&(I.domNode.parentNode==null||I.domNode.parentNode===T.domNode)&&I.detach()}}),A.filter(function(w){return w.parentNode==T.domNode}).sort(function(w,I){return w===I?0:w.compareDocumentPosition(I)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var I=null;w.nextSibling!=null&&(I=d.find(w.nextSibling));var x=_(w);(x.next!=I||x.next==null)&&(x.parent!=null&&x.parent.removeChild(T),T.insertBefore(x,I||void 0))})},y})(h.default);function _(m){var y=d.find(m);if(y==null)try{y=d.create(m)}catch{y=d.create(d.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(S){y.domNode.appendChild(S)}),m.parentNode&&m.parentNode.replaceChild(y.domNode,m),y.attach()}return y}i.default=p}),(function(n,i,s){var l=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var S in v)v.hasOwnProperty(S)&&(y[S]=v[S])};return function(y,v){m(y,v);function S(){this.constructor=y}y.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(12),h=s(31),d=s(17),p=s(1),_=(function(m){l(y,m);function y(v){var S=m.call(this,v)||this;return S.attributes=new h.default(S.domNode),S}return y.formats=function(v){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return v.tagName.toLowerCase()},y.prototype.format=function(v,S){var T=p.query(v);T instanceof c.default?this.attributes.attribute(T,S):S&&T!=null&&(v!==this.statics.blotName||this.formats()[v]!==S)&&this.replaceWith(v,S)},y.prototype.formats=function(){var v=this.attributes.values(),S=this.statics.formats(this.domNode);return S!=null&&(v[this.statics.blotName]=S),v},y.prototype.replaceWith=function(v,S){var T=m.prototype.replaceWith.call(this,v,S);return this.attributes.copy(T),T},y.prototype.update=function(v,S){var T=this;m.prototype.update.call(this,v,S),v.some(function(A){return A.target===T.domNode&&A.type==="attributes"})&&this.attributes.build()},y.prototype.wrap=function(v,S){var T=m.prototype.wrap.call(this,v,S);return T instanceof y&&T.statics.scope===this.statics.scope&&this.attributes.move(T),T},y})(d.default);i.default=_}),(function(n,i,s){var l=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,m){_.__proto__=m}||function(_,m){for(var y in m)m.hasOwnProperty(y)&&(_[y]=m[y])};return function(_,m){p(_,m);function y(){this.constructor=_}_.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(30),h=s(1),d=(function(p){l(_,p);function _(){return p!==null&&p.apply(this,arguments)||this}return _.value=function(m){return!0},_.prototype.index=function(m,y){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(y,1):-1},_.prototype.position=function(m,y){var v=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(v+=1),[this.parent.domNode,v]},_.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},_.scope=h.Scope.INLINE_BLOT,_})(c.default);i.default=d}),(function(n,i,s){var l=s(11),c=s(3),h={attributes:{compose:function(p,_,m){typeof p!="object"&&(p={}),typeof _!="object"&&(_={});var y=c(!0,{},_);m||(y=Object.keys(y).reduce(function(S,T){return y[T]!=null&&(S[T]=y[T]),S},{}));for(var v in p)p[v]!==void 0&&_[v]===void 0&&(y[v]=p[v]);return Object.keys(y).length>0?y:void 0},diff:function(p,_){typeof p!="object"&&(p={}),typeof _!="object"&&(_={});var m=Object.keys(p).concat(Object.keys(_)).reduce(function(y,v){return l(p[v],_[v])||(y[v]=_[v]===void 0?null:_[v]),y},{});return Object.keys(m).length>0?m:void 0},transform:function(p,_,m){if(typeof p!="object")return _;if(typeof _=="object"){if(!m)return _;var y=Object.keys(_).reduce(function(v,S){return p[S]===void 0&&(v[S]=_[S]),v},{});return Object.keys(y).length>0?y:void 0}}},iterator:function(p){return new d(p)},length:function(p){return typeof p.delete=="number"?p.delete:typeof p.retain=="number"?p.retain:typeof p.insert=="string"?p.insert.length:1}};function d(p){this.ops=p,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(p){p||(p=1/0);var _=this.ops[this.index];if(_){var m=this.offset,y=h.length(_);if(p>=y-m?(p=y-m,this.index+=1,this.offset=0):this.offset+=p,typeof _.delete=="number")return{delete:p};var v={};return _.attributes&&(v.attributes=_.attributes),typeof _.retain=="number"?v.retain=p:typeof _.insert=="string"?v.insert=_.insert.substr(m,p):v.insert=_.insert,v}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?h.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var p=this.offset,_=this.index,m=this.next(),y=this.ops.slice(this.index);return this.offset=p,this.index=_,[m].concat(y)}else return[]},n.exports=h}),(function(n,i){var s=(function(){function l(T,A){return A!=null&&T instanceof A}var c;try{c=Map}catch{c=function(){}}var h;try{h=Set}catch{h=function(){}}var d;try{d=Promise}catch{d=function(){}}function p(T,A,E,w,I){typeof A=="object"&&(E=A.depth,w=A.prototype,I=A.includeNonEnumerable,A=A.circular);var x=[],j=[],B=typeof Buffer<"u";typeof A>"u"&&(A=!0),typeof E>"u"&&(E=1/0);function N(O,P){if(O===null)return null;if(P===0)return O;var D,R;if(typeof O!="object")return O;if(l(O,c))D=new c;else if(l(O,h))D=new h;else if(l(O,d))D=new d(function(X,V){O.then(function(z){X(N(z,P-1))},function(z){V(N(z,P-1))})});else if(p.__isArray(O))D=[];else if(p.__isRegExp(O))D=new RegExp(O.source,S(O)),O.lastIndex&&(D.lastIndex=O.lastIndex);else if(p.__isDate(O))D=new Date(O.getTime());else{if(B&&Buffer.isBuffer(O))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(O.length):D=new Buffer(O.length),O.copy(D),D;l(O,Error)?D=Object.create(O):typeof w>"u"?(R=Object.getPrototypeOf(O),D=Object.create(R)):(D=Object.create(w),R=w)}if(A){var M=x.indexOf(O);if(M!=-1)return j[M];x.push(O),j.push(D)}l(O,c)&&O.forEach(function(X,V){var z=N(V,P-1),G=N(X,P-1);D.set(z,G)}),l(O,h)&&O.forEach(function(X){var V=N(X,P-1);D.add(V)});for(var L in O){var Y;R&&(Y=Object.getOwnPropertyDescriptor(R,L)),!(Y&&Y.set==null)&&(D[L]=N(O[L],P-1))}if(Object.getOwnPropertySymbols)for(var W=Object.getOwnPropertySymbols(O),L=0;L<W.length;L++){var Q=W[L],Z=Object.getOwnPropertyDescriptor(O,Q);Z&&!Z.enumerable&&!I||(D[Q]=N(O[Q],P-1),Z.enumerable||Object.defineProperty(D,Q,{enumerable:!1}))}if(I)for(var he=Object.getOwnPropertyNames(O),L=0;L<he.length;L++){var ne=he[L],Z=Object.getOwnPropertyDescriptor(O,ne);Z&&Z.enumerable||(D[ne]=N(O[ne],P-1),Object.defineProperty(D,ne,{enumerable:!1}))}return D}return N(T,E)}p.clonePrototype=function(A){if(A===null)return null;var E=function(){};return E.prototype=A,new E};function _(T){return Object.prototype.toString.call(T)}p.__objToStr=_;function m(T){return typeof T=="object"&&_(T)==="[object Date]"}p.__isDate=m;function y(T){return typeof T=="object"&&_(T)==="[object Array]"}p.__isArray=y;function v(T){return typeof T=="object"&&_(T)==="[object RegExp]"}p.__isRegExp=v;function S(T){var A="";return T.global&&(A+="g"),T.ignoreCase&&(A+="i"),T.multiline&&(A+="m"),A}return p.__getRegExpFlags=S,p})();typeof n=="object"&&n.exports&&(n.exports=s)}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function D(R,M){var L=[],Y=!0,W=!1,Q=void 0;try{for(var Z=R[Symbol.iterator](),he;!(Y=(he=Z.next()).done)&&(L.push(he.value),!(M&&L.length===M));Y=!0);}catch(ne){W=!0,Q=ne}finally{try{!Y&&Z.return&&Z.return()}finally{if(W)throw Q}}return L}return function(R,M){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return D(R,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function D(R,M){for(var L=0;L<M.length;L++){var Y=M[L];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(R,Y.key,Y)}}return function(R,M,L){return M&&D(R.prototype,M),L&&D(R,L),R}})(),h=function D(R,M,L){R===null&&(R=Function.prototype);var Y=Object.getOwnPropertyDescriptor(R,M);if(Y===void 0){var W=Object.getPrototypeOf(R);return W===null?void 0:D(W,M,L)}else{if("value"in Y)return Y.value;var Q=Y.get;return Q===void 0?void 0:Q.call(L)}},d=s(0),p=x(d),_=s(8),m=x(_),y=s(4),v=x(y),S=s(16),T=x(S),A=s(13),E=x(A),w=s(25),I=x(w);function x(D){return D&&D.__esModule?D:{default:D}}function j(D,R){if(!(D instanceof R))throw new TypeError("Cannot call a class as a function")}function B(D,R){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:D}function N(D,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);D.prototype=Object.create(R&&R.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(D,R):D.__proto__=R)}function O(D){return D instanceof v.default||D instanceof y.BlockEmbed}var P=(function(D){N(R,D);function R(M,L){j(this,R);var Y=B(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M));return Y.emitter=L.emitter,Array.isArray(L.whitelist)&&(Y.whitelist=L.whitelist.reduce(function(W,Q){return W[Q]=!0,W},{})),Y.domNode.addEventListener("DOMNodeInserted",function(){}),Y.optimize(),Y.enable(),Y}return c(R,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,Y){var W=this.line(L),Q=l(W,2),Z=Q[0],he=Q[1],ne=this.line(L+Y),X=l(ne,1),V=X[0];if(h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,Y),V!=null&&Z!==V&&he>0){if(Z instanceof y.BlockEmbed||V instanceof y.BlockEmbed){this.optimize();return}if(Z instanceof E.default){var z=Z.newlineIndex(Z.length(),!0);if(z>-1&&(Z=Z.split(z+1),Z===V)){this.optimize();return}}else if(V instanceof E.default){var G=V.newlineIndex(0);G>-1&&V.split(G+1)}var J=V.children.head instanceof T.default?null:V.children.head;Z.moveChildren(V,J),Z.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,Y,W,Q){this.whitelist!=null&&!this.whitelist[W]||(h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Y,W,Q),this.optimize())}},{key:"insertAt",value:function(L,Y,W){if(!(W!=null&&this.whitelist!=null&&!this.whitelist[Y])){if(L>=this.length())if(W==null||p.default.query(Y,p.default.Scope.BLOCK)==null){var Q=p.default.create(this.statics.defaultChild);this.appendChild(Q),W==null&&Y.endsWith(`
`)&&(Y=Y.slice(0,-1)),Q.insertAt(0,Y,W)}else{var Z=p.default.create(Y,W);this.appendChild(Z)}else h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,Y,W);this.optimize()}}},{key:"insertBefore",value:function(L,Y){if(L.statics.scope===p.default.Scope.INLINE_BLOT){var W=p.default.create(this.statics.defaultChild);W.appendChild(L),L=W}h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,Y)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(O,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,W=function Q(Z,he,ne){var X=[],V=ne;return Z.children.forEachAt(he,ne,function(z,G,J){O(z)?X.push(z):z instanceof p.default.Container&&(X=X.concat(Q(z,G,V))),V-=J}),X};return W(this,L,Y)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L,Y),L.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,L,Y))}},{key:"path",value:function(L){return h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var Y=m.default.sources.USER;typeof L=="string"&&(Y=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,Y,L),h(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,Y,L)}}}]),R})(p.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[v.default,y.BlockEmbed,I.default],i.default=P}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},c=(function(){function F(ee,le){var se=[],Ee=!0,Re=!1,Le=void 0;try{for(var je=ee[Symbol.iterator](),Ue;!(Ee=(Ue=je.next()).done)&&(se.push(Ue.value),!(le&&se.length===le));Ee=!0);}catch(nt){Re=!0,Le=nt}finally{try{!Ee&&je.return&&je.return()}finally{if(Re)throw Le}}return se}return function(ee,le){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return F(ee,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),h=(function(){function F(ee,le){for(var se=0;se<le.length;se++){var Ee=le[se];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ee,Ee.key,Ee)}}return function(ee,le,se){return le&&F(ee.prototype,le),se&&F(ee,se),ee}})(),d=s(21),p=D(d),_=s(11),m=D(_),y=s(3),v=D(y),S=s(2),T=D(S),A=s(20),E=D(A),w=s(0),I=D(w),x=s(5),j=D(x),B=s(10),N=D(B),O=s(9),P=D(O);function D(F){return F&&F.__esModule?F:{default:F}}function R(F,ee,le){return ee in F?Object.defineProperty(F,ee,{value:le,enumerable:!0,configurable:!0,writable:!0}):F[ee]=le,F}function M(F,ee){if(!(F instanceof ee))throw new TypeError("Cannot call a class as a function")}function L(F,ee){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:F}function Y(F,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);F.prototype=Object.create(ee&&ee.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(F,ee):F.__proto__=ee)}var W=(0,N.default)("quill:keyboard"),Q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=(function(F){Y(ee,F),h(ee,null,[{key:"match",value:function(se,Ee){return Ee=te(Ee),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Re){return!!Ee[Re]!==se[Re]&&Ee[Re]!==null})?!1:Ee.key===(se.which||se.keyCode)}}]);function ee(le,se){M(this,ee);var Ee=L(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,le,se));return Ee.bindings={},Object.keys(Ee.options.bindings).forEach(function(Re){Re==="list autofill"&&le.scroll.whitelist!=null&&!le.scroll.whitelist.list||Ee.options.bindings[Re]&&Ee.addBinding(Ee.options.bindings[Re])}),Ee.addBinding({key:ee.keys.ENTER,shiftKey:null},z),Ee.addBinding({key:ee.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Ee.addBinding({key:ee.keys.BACKSPACE},{collapsed:!0},ne),Ee.addBinding({key:ee.keys.DELETE},{collapsed:!0},X)):(Ee.addBinding({key:ee.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ne),Ee.addBinding({key:ee.keys.DELETE},{collapsed:!0,suffix:/^.?$/},X)),Ee.addBinding({key:ee.keys.BACKSPACE},{collapsed:!1},V),Ee.addBinding({key:ee.keys.DELETE},{collapsed:!1},V),Ee.addBinding({key:ee.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ne),Ee.listen(),Ee}return h(ee,[{key:"addBinding",value:function(se){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Le=te(se);if(Le==null||Le.key==null)return W.warn("Attempted to add invalid keyboard binding",Le);typeof Ee=="function"&&(Ee={handler:Ee}),typeof Re=="function"&&(Re={handler:Re}),Le=(0,v.default)(Le,Ee,Re),this.bindings[Le.key]=this.bindings[Le.key]||[],this.bindings[Le.key].push(Le)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(Ee){if(!Ee.defaultPrevented){var Re=Ee.which||Ee.keyCode,Le=(se.bindings[Re]||[]).filter(function(Et){return ee.match(Ee,Et)});if(Le.length!==0){var je=se.quill.getSelection();if(!(je==null||!se.quill.hasFocus())){var Ue=se.quill.getLine(je.index),nt=c(Ue,2),Ct=nt[0],bt=nt[1],ge=se.quill.getLeaf(je.index),pe=c(ge,2),Ae=pe[0],xe=pe[1],we=je.length===0?[Ae,xe]:se.quill.getLeaf(je.index+je.length),Ge=c(we,2),Me=Ge[0],Be=Ge[1],$t=Ae instanceof I.default.Text?Ae.value().slice(0,xe):"",En=Me instanceof I.default.Text?Me.value().slice(Be):"",at={collapsed:je.length===0,empty:je.length===0&&Ct.length()<=1,format:se.quill.getFormat(je),offset:bt,prefix:$t,suffix:En},Go=Le.some(function(Et){if(Et.collapsed!=null&&Et.collapsed!==at.collapsed||Et.empty!=null&&Et.empty!==at.empty||Et.offset!=null&&Et.offset!==at.offset)return!1;if(Array.isArray(Et.format)){if(Et.format.every(function(Mn){return at.format[Mn]==null}))return!1}else if(l(Et.format)==="object"&&!Object.keys(Et.format).every(function(Mn){return Et.format[Mn]===!0?at.format[Mn]!=null:Et.format[Mn]===!1?at.format[Mn]==null:(0,m.default)(Et.format[Mn],at.format[Mn])}))return!1;return Et.prefix!=null&&!Et.prefix.test(at.prefix)||Et.suffix!=null&&!Et.suffix.test(at.suffix)?!1:Et.handler.call(se,je,at)!==!0});Go&&Ee.preventDefault()}}}})}}]),ee})(P.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(ee,le){if(le.collapsed&&le.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(ee,le){if(le.collapsed&&le.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(ee,le){le.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):le.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":G(!0),"outdent code-block":G(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(ee){this.quill.deleteText(ee.index-1,1,j.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(ee){this.quill.history.cutoff();var le=new T.default().retain(ee.index).delete(ee.length).insert("	");this.quill.updateContents(le,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ee.index+1,j.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(ee,le){this.quill.format("list",!1,j.default.sources.USER),le.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(ee){var le=this.quill.getLine(ee.index),se=c(le,2),Ee=se[0],Re=se[1],Le=(0,v.default)({},Ee.formats(),{list:"checked"}),je=new T.default().retain(ee.index).insert(`
`,Le).retain(Ee.length()-Re-1).retain(1,{list:"unchecked"});this.quill.updateContents(je,j.default.sources.USER),this.quill.setSelection(ee.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(ee,le){var se=this.quill.getLine(ee.index),Ee=c(se,2),Re=Ee[0],Le=Ee[1],je=new T.default().retain(ee.index).insert(`
`,le.format).retain(Re.length()-Le-1).retain(1,{header:null});this.quill.updateContents(je,j.default.sources.USER),this.quill.setSelection(ee.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(ee,le){var se=le.prefix.length,Ee=this.quill.getLine(ee.index),Re=c(Ee,2),Le=Re[0],je=Re[1];if(je>se)return!0;var Ue=void 0;switch(le.prefix.trim()){case"[]":case"[ ]":Ue="unchecked";break;case"[x]":Ue="checked";break;case"-":case"*":Ue="bullet";break;default:Ue="ordered"}this.quill.insertText(ee.index," ",j.default.sources.USER),this.quill.history.cutoff();var nt=new T.default().retain(ee.index-je).delete(se+1).retain(Le.length()-2-je).retain(1,{list:Ue});this.quill.updateContents(nt,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(ee.index-se,j.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(ee){var le=this.quill.getLine(ee.index),se=c(le,2),Ee=se[0],Re=se[1],Le=new T.default().retain(ee.index+Ee.length()-Re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Le,j.default.sources.USER)}},"embed left":he(Z.keys.LEFT,!1),"embed left shift":he(Z.keys.LEFT,!0),"embed right":he(Z.keys.RIGHT,!1),"embed right shift":he(Z.keys.RIGHT,!0)}};function he(F,ee){var le,se=F===Z.keys.LEFT?"prefix":"suffix";return le={key:F,shiftKey:ee,altKey:null},R(le,se,/^$/),R(le,"handler",function(Re){var Le=Re.index;F===Z.keys.RIGHT&&(Le+=Re.length+1);var je=this.quill.getLeaf(Le),Ue=c(je,1),nt=Ue[0];return nt instanceof I.default.Embed?(F===Z.keys.LEFT?ee?this.quill.setSelection(Re.index-1,Re.length+1,j.default.sources.USER):this.quill.setSelection(Re.index-1,j.default.sources.USER):ee?this.quill.setSelection(Re.index,Re.length+1,j.default.sources.USER):this.quill.setSelection(Re.index+Re.length+1,j.default.sources.USER),!1):!0}),le}function ne(F,ee){if(!(F.index===0||this.quill.getLength()<=1)){var le=this.quill.getLine(F.index),se=c(le,1),Ee=se[0],Re={};if(ee.offset===0){var Le=this.quill.getLine(F.index-1),je=c(Le,1),Ue=je[0];if(Ue!=null&&Ue.length()>1){var nt=Ee.formats(),Ct=this.quill.getFormat(F.index-1,1);Re=E.default.attributes.diff(nt,Ct)||{}}}var bt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ee.prefix)?2:1;this.quill.deleteText(F.index-bt,bt,j.default.sources.USER),Object.keys(Re).length>0&&this.quill.formatLine(F.index-bt,bt,Re,j.default.sources.USER),this.quill.focus()}}function X(F,ee){var le=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ee.suffix)?2:1;if(!(F.index>=this.quill.getLength()-le)){var se={},Ee=0,Re=this.quill.getLine(F.index),Le=c(Re,1),je=Le[0];if(ee.offset>=je.length()-1){var Ue=this.quill.getLine(F.index+1),nt=c(Ue,1),Ct=nt[0];if(Ct){var bt=je.formats(),ge=this.quill.getFormat(F.index,1);se=E.default.attributes.diff(bt,ge)||{},Ee=Ct.length()}}this.quill.deleteText(F.index,le,j.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(F.index+Ee-1,le,se,j.default.sources.USER)}}function V(F){var ee=this.quill.getLines(F),le={};if(ee.length>1){var se=ee[0].formats(),Ee=ee[ee.length-1].formats();le=E.default.attributes.diff(Ee,se)||{}}this.quill.deleteText(F,j.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(F.index,1,le,j.default.sources.USER),this.quill.setSelection(F.index,j.default.sources.SILENT),this.quill.focus()}function z(F,ee){var le=this;F.length>0&&this.quill.scroll.deleteAt(F.index,F.length);var se=Object.keys(ee.format).reduce(function(Ee,Re){return I.default.query(Re,I.default.Scope.BLOCK)&&!Array.isArray(ee.format[Re])&&(Ee[Re]=ee.format[Re]),Ee},{});this.quill.insertText(F.index,`
`,se,j.default.sources.USER),this.quill.setSelection(F.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(ee.format).forEach(function(Ee){se[Ee]==null&&(Array.isArray(ee.format[Ee])||Ee!=="link"&&le.quill.format(Ee,ee.format[Ee],j.default.sources.USER))})}function G(F){return{key:Z.keys.TAB,shiftKey:!F,format:{"code-block":!0},handler:function(le){var se=I.default.query("code-block"),Ee=le.index,Re=le.length,Le=this.quill.scroll.descendant(se,Ee),je=c(Le,2),Ue=je[0],nt=je[1];if(Ue!=null){var Ct=this.quill.getIndex(Ue),bt=Ue.newlineIndex(nt,!0)+1,ge=Ue.newlineIndex(Ct+nt+Re),pe=Ue.domNode.textContent.slice(bt,ge).split(`
`);nt=0,pe.forEach(function(Ae,xe){F?(Ue.insertAt(bt+nt,se.TAB),nt+=se.TAB.length,xe===0?Ee+=se.TAB.length:Re+=se.TAB.length):Ae.startsWith(se.TAB)&&(Ue.deleteAt(bt+nt,se.TAB.length),nt-=se.TAB.length,xe===0?Ee-=se.TAB.length:Re-=se.TAB.length),nt+=Ae.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(Ee,Re,j.default.sources.SILENT)}}}}function J(F){return{key:F[0].toUpperCase(),shortKey:!0,handler:function(le,se){this.quill.format(F,!se.format[F],j.default.sources.USER)}}}function te(F){if(typeof F=="string"||typeof F=="number")return te({key:F});if((typeof F>"u"?"undefined":l(F))==="object"&&(F=(0,p.default)(F,!1)),typeof F.key=="string")if(Z.keys[F.key.toUpperCase()]!=null)F.key=Z.keys[F.key.toUpperCase()];else if(F.key.length===1)F.key=F.key.toUpperCase().charCodeAt(0);else return null;return F.shortKey&&(F[Q]=F.shortKey,delete F.shortKey),F}i.default=Z,i.SHORTKEY=Q}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function E(w,I){var x=[],j=!0,B=!1,N=void 0;try{for(var O=w[Symbol.iterator](),P;!(j=(P=O.next()).done)&&(x.push(P.value),!(I&&x.length===I));j=!0);}catch(D){B=!0,N=D}finally{try{!j&&O.return&&O.return()}finally{if(B)throw N}}return x}return function(w,I){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return E(w,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=function E(w,I,x){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,I);if(j===void 0){var B=Object.getPrototypeOf(w);return B===null?void 0:E(B,I,x)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(x)}},h=(function(){function E(w,I){for(var x=0;x<I.length;x++){var j=I[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,I,x){return I&&E(w.prototype,I),x&&E(w,x),w}})(),d=s(0),p=y(d),_=s(7),m=y(_);function y(E){return E&&E.__esModule?E:{default:E}}function v(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function S(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function T(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var A=(function(E){T(w,E),h(w,null,[{key:"value",value:function(){}}]);function w(I,x){v(this,w);var j=S(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I));return j.selection=x,j.textNode=document.createTextNode(w.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return h(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,j){if(this._length!==0)return c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,x,j);for(var B=this,N=0;B!=null&&B.statics.scope!==p.default.Scope.BLOCK_BLOT;)N+=B.offset(B.parent),B=B.parent;B!=null&&(this._length=w.CONTENTS.length,B.optimize(),B.formatAt(N,w.CONTENTS.length,x,j),this._length=0)}},{key:"index",value:function(x,j){return x===this.textNode?0:c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,x,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,j=this.selection.getNativeRange(),B=void 0,N=void 0,O=void 0;if(j!=null&&j.start.node===x&&j.end.node===x){var P=[x,j.start.offset,j.end.offset];B=P[0],N=P[1],O=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var D=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof m.default?(B=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=w.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(p.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var R=[N,O].map(function(L){return Math.max(0,Math.min(B.data.length,L-1))}),M=l(R,2);return N=M[0],O=M[1],{startNode:B,startOffset:N,endNode:B,endOffset:O}}}}},{key:"update",value:function(x,j){var B=this;if(x.some(function(O){return O.type==="characterData"&&O.target===B.textNode})){var N=this.restore();N&&(j.range=N)}}},{key:"value",value:function(){return""}}]),w})(p.default.Embed);A.blotName="cursor",A.className="ql-cursor",A.tagName="span",A.CONTENTS="\uFEFF",i.default=A}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(0),c=p(l),h=s(4),d=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function _(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function y(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var v=(function(S){y(T,S);function T(){return _(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T})(c.default.Container);v.allowedChildren=[d.default,h.BlockEmbed,v],i.default=v}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var l=(function(){function A(E,w){for(var I=0;I<w.length;I++){var x=w[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,w,I){return w&&A(E.prototype,w),I&&A(E,I),E}})(),c=function A(E,w,I){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,w);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:A(j,w,I)}else{if("value"in x)return x.value;var B=x.get;return B===void 0?void 0:B.call(I)}},h=s(0),d=p(h);function p(A){return A&&A.__esModule?A:{default:A}}function _(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function m(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function y(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var v=(function(A){y(E,A);function E(){return _(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return l(E,[{key:"value",value:function(I){var x=c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,I);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):x}}]),E})(d.default.Attributor.Style),S=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),T=new v("color","color",{scope:d.default.Scope.INLINE});i.ColorAttributor=v,i.ColorClass=S,i.ColorStyle=T}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var l=(function(){function T(A,E){for(var w=0;w<E.length;w++){var I=E[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,E,w){return E&&T(A.prototype,E),w&&T(A,w),A}})(),c=function T(A,E,w){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,E);if(I===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:T(x,E,w)}else{if("value"in I)return I.value;var j=I.get;return j===void 0?void 0:j.call(w)}},h=s(6),d=p(h);function p(T){return T&&T.__esModule?T:{default:T}}function _(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function m(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function y(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var v=(function(T){y(A,T);function A(){return _(this,A),m(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return l(A,[{key:"format",value:function(w,I){if(w!==this.statics.blotName||!I)return c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,w,I);I=this.constructor.sanitize(I),this.domNode.setAttribute("href",I)}}],[{key:"create",value:function(w){var I=c(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,w);return w=this.sanitize(w),I.setAttribute("href",w),I.setAttribute("rel","noopener noreferrer"),I.setAttribute("target","_blank"),I}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return S(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),A})(d.default);v.blotName="link",v.tagName="A",v.SANITIZED_URL="about:blank",v.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function S(T,A){var E=document.createElement("a");E.href=T;var w=E.href.slice(0,E.href.indexOf(":"));return A.indexOf(w)>-1}i.default=v,i.sanitize=S}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},c=(function(){function A(E,w){for(var I=0;I<w.length;I++){var x=w[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,w,I){return w&&A(E.prototype,w),I&&A(E,I),E}})(),h=s(23),d=m(h),p=s(107),_=m(p);function m(A){return A&&A.__esModule?A:{default:A}}function y(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}var v=0;function S(A,E){A.setAttribute(E,A.getAttribute(E)!=="true")}var T=(function(){function A(E){var w=this;y(this,A),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(I){switch(I.keyCode){case d.default.keys.ENTER:w.togglePicker();break;case d.default.keys.ESCAPE:w.escape(),I.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return c(A,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),S(this.label,"aria-expanded"),S(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var I=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),w.hasAttribute("value")&&x.setAttribute("data-value",w.getAttribute("value")),w.textContent&&x.setAttribute("data-label",w.textContent),x.addEventListener("click",function(){I.selectItem(x,!0)}),x.addEventListener("keydown",function(j){switch(j.keyCode){case d.default.keys.ENTER:I.selectItem(x,!0),j.preventDefault();break;case d.default.keys.ESCAPE:I.escape(),j.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=_.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,I=document.createElement("span");I.classList.add("ql-picker-options"),I.setAttribute("aria-hidden","true"),I.tabIndex="-1",I.id="ql-picker-options-"+v,v+=1,this.label.setAttribute("aria-controls",I.id),this.options=I,[].slice.call(this.select.options).forEach(function(x){var j=w.buildItem(x);I.appendChild(j),x.selected===!0&&w.selectItem(j)}),this.container.appendChild(I)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(I){w.container.setAttribute(I.name,I.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(w!==x&&(x?.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),I))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":l(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var I=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(I)}else this.selectItem(null);var x=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),A})();i.default=T}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(0),c=W(l),h=s(5),d=W(h),p=s(4),_=W(p),m=s(16),y=W(m),v=s(25),S=W(v),T=s(24),A=W(T),E=s(35),w=W(E),I=s(6),x=W(I),j=s(22),B=W(j),N=s(7),O=W(N),P=s(55),D=W(P),R=s(42),M=W(R),L=s(23),Y=W(L);function W(Q){return Q&&Q.__esModule?Q:{default:Q}}d.default.register({"blots/block":_.default,"blots/block/embed":p.BlockEmbed,"blots/break":y.default,"blots/container":S.default,"blots/cursor":A.default,"blots/embed":w.default,"blots/inline":x.default,"blots/scroll":B.default,"blots/text":O.default,"modules/clipboard":D.default,"modules/history":M.default,"modules/keyboard":Y.default}),c.default.register(_.default,y.default,A.default,x.default,B.default,O.default),i.default=d.default}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(1),c=(function(){function h(d){this.domNode=d,this.domNode[l.DATA_KEY]={blot:this}}return Object.defineProperty(h.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),h.create=function(d){if(this.tagName==null)throw new l.ParchmentError("Blot definition missing tagName");var p;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?p=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?p=document.createElement(d):p=document.createElement(this.tagName[0])):p=document.createElement(this.tagName),this.className&&p.classList.add(this.className),p},h.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},h.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return l.create(d)},h.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[l.DATA_KEY]},h.prototype.deleteAt=function(d,p){var _=this.isolate(d,p);_.remove()},h.prototype.formatAt=function(d,p,_,m){var y=this.isolate(d,p);if(l.query(_,l.Scope.BLOT)!=null&&m)y.wrap(_,m);else if(l.query(_,l.Scope.ATTRIBUTE)!=null){var v=l.create(this.statics.scope);y.wrap(v),v.format(_,m)}},h.prototype.insertAt=function(d,p,_){var m=_==null?l.create("text",p):l.create(p,_),y=this.split(d);this.parent.insertBefore(m,y)},h.prototype.insertInto=function(d,p){p===void 0&&(p=null),this.parent!=null&&this.parent.children.remove(this);var _=null;d.children.insertBefore(this,p),p!=null&&(_=p.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=_)&&d.domNode.insertBefore(this.domNode,_),this.parent=d,this.attach()},h.prototype.isolate=function(d,p){var _=this.split(d);return _.split(p),_},h.prototype.length=function(){return 1},h.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},h.prototype.optimize=function(d){this.domNode[l.DATA_KEY]!=null&&delete this.domNode[l.DATA_KEY].mutations},h.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},h.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},h.prototype.replaceWith=function(d,p){var _=typeof d=="string"?l.create(d,p):d;return _.replace(this),_},h.prototype.split=function(d,p){return d===0?this:this.next},h.prototype.update=function(d,p){},h.prototype.wrap=function(d,p){var _=typeof d=="string"?l.create(d,p):d;return this.parent!=null&&this.parent.insertBefore(_,this.next),_.appendChild(this),_},h.blotName="abstract",h})();i.default=c}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(12),c=s(32),h=s(33),d=s(1),p=(function(){function _(m){this.attributes={},this.domNode=m,this.build()}return _.prototype.attribute=function(m,y){y?m.add(this.domNode,y)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},_.prototype.build=function(){var m=this;this.attributes={};var y=l.default.keys(this.domNode),v=c.default.keys(this.domNode),S=h.default.keys(this.domNode);y.concat(v).concat(S).forEach(function(T){var A=d.query(T,d.Scope.ATTRIBUTE);A instanceof l.default&&(m.attributes[A.attrName]=A)})},_.prototype.copy=function(m){var y=this;Object.keys(this.attributes).forEach(function(v){var S=y.attributes[v].value(y.domNode);m.format(v,S)})},_.prototype.move=function(m){var y=this;this.copy(m),Object.keys(this.attributes).forEach(function(v){y.attributes[v].remove(y.domNode)}),this.attributes={}},_.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(y,v){return y[v]=m.attributes[v].value(m.domNode),y},{})},_})();i.default=p}),(function(n,i,s){var l=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,m){_.__proto__=m}||function(_,m){for(var y in m)m.hasOwnProperty(y)&&(_[y]=m[y])};return function(_,m){p(_,m);function y(){this.constructor=_}_.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(12);function h(p,_){var m=p.getAttribute("class")||"";return m.split(/\s+/).filter(function(y){return y.indexOf(_+"-")===0})}var d=(function(p){l(_,p);function _(){return p!==null&&p.apply(this,arguments)||this}return _.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(y){return y.split("-").slice(0,-1).join("-")})},_.prototype.add=function(m,y){return this.canAdd(m,y)?(this.remove(m),m.classList.add(this.keyName+"-"+y),!0):!1},_.prototype.remove=function(m){var y=h(m,this.keyName);y.forEach(function(v){m.classList.remove(v)}),m.classList.length===0&&m.removeAttribute("class")},_.prototype.value=function(m){var y=h(m,this.keyName)[0]||"",v=y.slice(this.keyName.length+1);return this.canAdd(m,v)?v:""},_})(c.default);i.default=d}),(function(n,i,s){var l=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,m){_.__proto__=m}||function(_,m){for(var y in m)m.hasOwnProperty(y)&&(_[y]=m[y])};return function(_,m){p(_,m);function y(){this.constructor=_}_.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(12);function h(p){var _=p.split("-"),m=_.slice(1).map(function(y){return y[0].toUpperCase()+y.slice(1)}).join("");return _[0]+m}var d=(function(p){l(_,p);function _(){return p!==null&&p.apply(this,arguments)||this}return _.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(y){var v=y.split(":");return v[0].trim()})},_.prototype.add=function(m,y){return this.canAdd(m,y)?(m.style[h(this.keyName)]=y,!0):!1},_.prototype.remove=function(m){m.style[h(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},_.prototype.value=function(m){var y=m.style[h(this.keyName)];return this.canAdd(m,y)?y:""},_})(c.default);i.default=d}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function d(p,_){for(var m=0;m<_.length;m++){var y=_[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,_,m){return _&&d(p.prototype,_),m&&d(p,m),p}})();function c(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var h=(function(){function d(p,_){c(this,d),this.quill=p,this.options=_,this.modules={}}return l(d,[{key:"init",value:function(){var _=this;Object.keys(this.options.modules).forEach(function(m){_.modules[m]==null&&_.addModule(m)})}},{key:"addModule",value:function(_){var m=this.quill.constructor.import("modules/"+_);return this.modules[_]=new m(this.quill,this.options.modules[_]||{}),this.modules[_]}}]),d})();h.DEFAULTS={modules:{}},h.themes={default:h},i.default=h}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function E(w,I){for(var x=0;x<I.length;x++){var j=I[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,I,x){return I&&E(w.prototype,I),x&&E(w,x),w}})(),c=function E(w,I,x){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,I);if(j===void 0){var B=Object.getPrototypeOf(w);return B===null?void 0:E(B,I,x)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(x)}},h=s(0),d=m(h),p=s(7),_=m(p);function m(E){return E&&E.__esModule?E:{default:E}}function y(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function v(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function S(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var T="\uFEFF",A=(function(E){S(w,E);function w(I){y(this,w);var x=v(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(j){x.contentNode.appendChild(j)}),x.leftGuard=document.createTextNode(T),x.rightGuard=document.createTextNode(T),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return l(w,[{key:"index",value:function(x,j){return x===this.leftGuard?0:x===this.rightGuard?1:c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,x,j)}},{key:"restore",value:function(x){var j=void 0,B=void 0,N=x.data.split(T).join("");if(x===this.leftGuard)if(this.prev instanceof _.default){var O=this.prev.length();this.prev.insertAt(O,N),j={startNode:this.prev.domNode,startOffset:O+N.length}}else B=document.createTextNode(N),this.parent.insertBefore(d.default.create(B),this),j={startNode:B,startOffset:N.length};else x===this.rightGuard&&(this.next instanceof _.default?(this.next.insertAt(0,N),j={startNode:this.next.domNode,startOffset:N.length}):(B=document.createTextNode(N),this.parent.insertBefore(d.default.create(B),this.next),j={startNode:B,startOffset:N.length}));return x.data=T,j}},{key:"update",value:function(x,j){var B=this;x.forEach(function(N){if(N.type==="characterData"&&(N.target===B.leftGuard||N.target===B.rightGuard)){var O=B.restore(N.target);O&&(j.range=O)}})}}]),w})(d.default.Embed);i.default=A}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var l=s(0),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}var d={scope:c.default.Scope.BLOCK,whitelist:["right","center","justify"]},p=new c.default.Attributor.Attribute("align","align",d),_=new c.default.Attributor.Class("align","ql-align",d),m=new c.default.Attributor.Style("align","text-align",d);i.AlignAttribute=p,i.AlignClass=_,i.AlignStyle=m}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var l=s(0),c=d(l),h=s(26);function d(m){return m&&m.__esModule?m:{default:m}}var p=new c.default.Attributor.Class("background","ql-bg",{scope:c.default.Scope.INLINE}),_=new h.ColorAttributor("background","background-color",{scope:c.default.Scope.INLINE});i.BackgroundClass=p,i.BackgroundStyle=_}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var l=s(0),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}var d={scope:c.default.Scope.BLOCK,whitelist:["rtl"]},p=new c.default.Attributor.Attribute("direction","dir",d),_=new c.default.Attributor.Class("direction","ql-direction",d),m=new c.default.Attributor.Style("direction","direction",d);i.DirectionAttribute=p,i.DirectionClass=_,i.DirectionStyle=m}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var l=(function(){function E(w,I){for(var x=0;x<I.length;x++){var j=I[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,I,x){return I&&E(w.prototype,I),x&&E(w,x),w}})(),c=function E(w,I,x){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,I);if(j===void 0){var B=Object.getPrototypeOf(w);return B===null?void 0:E(B,I,x)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(x)}},h=s(0),d=p(h);function p(E){return E&&E.__esModule?E:{default:E}}function _(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function m(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function y(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var v={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},S=new d.default.Attributor.Class("font","ql-font",v),T=(function(E){y(w,E);function w(){return _(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return l(w,[{key:"value",value:function(x){return c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),w})(d.default.Attributor.Style),A=new T("font","font-family",v);i.FontStyle=A,i.FontClass=S}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var l=s(0),c=h(l);function h(_){return _&&_.__esModule?_:{default:_}}var d=new c.default.Attributor.Class("size","ql-size",{scope:c.default.Scope.INLINE,whitelist:["small","large","huge"]}),p=new c.default.Attributor.Style("size","font-size",{scope:c.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=d,i.SizeStyle=p}),(function(n,i,s){n.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var l=(function(){function I(x,j){for(var B=0;B<j.length;B++){var N=j[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,j,B){return j&&I(x.prototype,j),B&&I(x,B),x}})(),c=s(0),h=y(c),d=s(5),p=y(d),_=s(9),m=y(_);function y(I){return I&&I.__esModule?I:{default:I}}function v(I,x){if(!(I instanceof x))throw new TypeError("Cannot call a class as a function")}function S(I,x){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:I}function T(I,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);I.prototype=Object.create(x&&x.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(I,x):I.__proto__=x)}var A=(function(I){T(x,I);function x(j,B){v(this,x);var N=S(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,j,B));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(p.default.events.EDITOR_CHANGE,function(O,P,D,R){O!==p.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||R===p.default.sources.USER?N.record(P,D):N.transform(P))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return l(x,[{key:"change",value:function(B,N){if(this.stack[B].length!==0){var O=this.stack[B].pop();this.stack[N].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[B],p.default.sources.USER),this.ignoreChange=!1;var P=w(O[B]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(B,N){if(B.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(N),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var D=this.stack.undo.pop();O=O.compose(D.undo),B=D.redo.compose(B)}else this.lastRecorded=P;this.stack.undo.push({redo:B,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(B){this.stack.undo.forEach(function(N){N.undo=B.transform(N.undo,!0),N.redo=B.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=B.transform(N.undo,!0),N.redo=B.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x})(m.default);A.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(I){var x=I.ops[I.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(j){return h.default.query(j,h.default.Scope.BLOCK)!=null}):!1}function w(I){var x=I.reduce(function(B,N){return B+=N.delete||0,B},0),j=I.length()-x;return E(I)&&(j-=1),j}i.default=A,i.getLastChangeIndex=w}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var l=(function(){function z(G,J){for(var te=0;te<J.length;te++){var F=J[te];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(G,F.key,F)}}return function(G,J,te){return J&&z(G.prototype,J),te&&z(G,te),G}})(),c=function z(G,J,te){G===null&&(G=Function.prototype);var F=Object.getOwnPropertyDescriptor(G,J);if(F===void 0){var ee=Object.getPrototypeOf(G);return ee===null?void 0:z(ee,J,te)}else{if("value"in F)return F.value;var le=F.get;return le===void 0?void 0:le.call(te)}},h=s(3),d=P(h),p=s(2),_=P(p),m=s(8),y=P(m),v=s(23),S=P(v),T=s(34),A=P(T),E=s(59),w=P(E),I=s(60),x=P(I),j=s(28),B=P(j),N=s(61),O=P(N);function P(z){return z&&z.__esModule?z:{default:z}}function D(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function R(z,G){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:z}function M(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(z,G):z.__proto__=G)}var L=[!1,"center","right","justify"],Y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],W=[!1,"serif","monospace"],Q=["1","2","3",!1],Z=["small",!1,"large","huge"],he=(function(z){M(G,z);function G(J,te){D(this,G);var F=R(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,J,te)),ee=function le(se){if(!document.body.contains(J.root))return document.body.removeEventListener("click",le);F.tooltip!=null&&!F.tooltip.root.contains(se.target)&&document.activeElement!==F.tooltip.textbox&&!F.quill.hasFocus()&&F.tooltip.hide(),F.pickers!=null&&F.pickers.forEach(function(Ee){Ee.container.contains(se.target)||Ee.close()})};return J.emitter.listenDOM("click",document.body,ee),F}return l(G,[{key:"addModule",value:function(te){var F=c(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"addModule",this).call(this,te);return te==="toolbar"&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(te,F){te.forEach(function(ee){var le=ee.getAttribute("class")||"";le.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),F[se]!=null))if(se==="direction")ee.innerHTML=F[se][""]+F[se].rtl;else if(typeof F[se]=="string")ee.innerHTML=F[se];else{var Ee=ee.value||"";Ee!=null&&F[se][Ee]&&(ee.innerHTML=F[se][Ee])}})})}},{key:"buildPickers",value:function(te,F){var ee=this;this.pickers=te.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&V(se,L),new x.default(se,F.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var Ee=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&V(se,Y,Ee==="background"?"#ffffff":"#000000"),new w.default(se,F[Ee])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?V(se,W):se.classList.contains("ql-header")?V(se,Q):se.classList.contains("ql-size")&&V(se,Z)),new B.default(se)});var le=function(){ee.pickers.forEach(function(Ee){Ee.update()})};this.quill.on(y.default.events.EDITOR_CHANGE,le)}}]),G})(A.default);he.DEFAULTS=(0,d.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var G=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var te=new FileReader;te.onload=function(F){var ee=G.quill.getSelection(!0);G.quill.updateContents(new _.default().retain(ee.index).delete(ee.length).insert({image:F.target.result}),y.default.sources.USER),G.quill.setSelection(ee.index+1,y.default.sources.SILENT),J.value=""},te.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ne=(function(z){M(G,z);function G(J,te){D(this,G);var F=R(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,J,te));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return l(G,[{key:"listen",value:function(){var te=this;this.textbox.addEventListener("keydown",function(F){S.default.match(F,"enter")?(te.save(),F.preventDefault()):S.default.match(F,"escape")&&(te.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),F!=null?this.textbox.value=F:te!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+te)||""),this.root.setAttribute("data-mode",te)}},{key:"restoreFocus",value:function(){var te=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=te}},{key:"save",value:function(){var te=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var F=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",te,y.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",te,y.default.sources.USER)),this.quill.root.scrollTop=F;break}case"video":te=X(te);case"formula":{if(!te)break;var ee=this.quill.getSelection(!0);if(ee!=null){var le=ee.index+ee.length;this.quill.insertEmbed(le,this.root.getAttribute("data-mode"),te,y.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(le+1," ",y.default.sources.USER),this.quill.setSelection(le+2,y.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),G})(O.default);function X(z){var G=z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return G?(G[1]||"https")+"://www.youtube.com/embed/"+G[2]+"?showinfo=0":(G=z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(G[1]||"https")+"://player.vimeo.com/video/"+G[2]+"/":z}function V(z,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;G.forEach(function(te){var F=document.createElement("option");te===J?F.setAttribute("selected","selected"):F.setAttribute("value",te),z.appendChild(F)})}i.BaseTooltip=ne,i.default=he}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function c(){this.head=this.tail=null,this.length=0}return c.prototype.append=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];this.insertBefore(h[0],null),h.length>1&&this.append.apply(this,h.slice(1))},c.prototype.contains=function(h){for(var d,p=this.iterator();d=p();)if(d===h)return!0;return!1},c.prototype.insertBefore=function(h,d){h&&(h.next=d,d!=null?(h.prev=d.prev,d.prev!=null&&(d.prev.next=h),d.prev=h,d===this.head&&(this.head=h)):this.tail!=null?(this.tail.next=h,h.prev=this.tail,this.tail=h):(h.prev=null,this.head=this.tail=h),this.length+=1)},c.prototype.offset=function(h){for(var d=0,p=this.head;p!=null;){if(p===h)return d;d+=p.length(),p=p.next}return-1},c.prototype.remove=function(h){this.contains(h)&&(h.prev!=null&&(h.prev.next=h.next),h.next!=null&&(h.next.prev=h.prev),h===this.head&&(this.head=h.next),h===this.tail&&(this.tail=h.prev),this.length-=1)},c.prototype.iterator=function(h){return h===void 0&&(h=this.head),function(){var d=h;return h!=null&&(h=h.next),d}},c.prototype.find=function(h,d){d===void 0&&(d=!1);for(var p,_=this.iterator();p=_();){var m=p.length();if(h<m||d&&h===m&&(p.next==null||p.next.length()!==0))return[p,h];h-=m}return[null,0]},c.prototype.forEach=function(h){for(var d,p=this.iterator();d=p();)h(d)},c.prototype.forEachAt=function(h,d,p){if(!(d<=0))for(var _=this.find(h),m=_[0],y=_[1],v,S=h-y,T=this.iterator(m);(v=T())&&S<h+d;){var A=v.length();h>S?p(v,h-S,Math.min(d,S+A-h)):p(v,0,Math.min(A,h+d-S)),S+=A}},c.prototype.map=function(h){return this.reduce(function(d,p){return d.push(h(p)),d},[])},c.prototype.reduce=function(h,d){for(var p,_=this.iterator();p=_();)d=h(d,p);return d},c})();i.default=l}),(function(n,i,s){var l=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var S in v)v.hasOwnProperty(S)&&(y[S]=v[S])};return function(y,v){m(y,v);function S(){this.constructor=y}y.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(17),h=s(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},p=100,_=(function(m){l(y,m);function y(v){var S=m.call(this,v)||this;return S.scroll=S,S.observer=new MutationObserver(function(T){S.update(T)}),S.observer.observe(S.domNode,d),S.attach(),S}return y.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},y.prototype.deleteAt=function(v,S){this.update(),v===0&&S===this.length()?this.children.forEach(function(T){T.remove()}):m.prototype.deleteAt.call(this,v,S)},y.prototype.formatAt=function(v,S,T,A){this.update(),m.prototype.formatAt.call(this,v,S,T,A)},y.prototype.insertAt=function(v,S,T){this.update(),m.prototype.insertAt.call(this,v,S,T)},y.prototype.optimize=function(v,S){var T=this;v===void 0&&(v=[]),S===void 0&&(S={}),m.prototype.optimize.call(this,S);for(var A=[].slice.call(this.observer.takeRecords());A.length>0;)v.push(A.pop());for(var E=function(j,B){B===void 0&&(B=!0),!(j==null||j===T)&&j.domNode.parentNode!=null&&(j.domNode[h.DATA_KEY].mutations==null&&(j.domNode[h.DATA_KEY].mutations=[]),B&&E(j.parent))},w=function(j){j.domNode[h.DATA_KEY]==null||j.domNode[h.DATA_KEY].mutations==null||(j instanceof c.default&&j.children.forEach(w),j.optimize(S))},I=v,x=0;I.length>0;x+=1){if(x>=p)throw new Error("[Parchment] Maximum optimize iterations reached");for(I.forEach(function(j){var B=h.find(j.target,!0);B!=null&&(B.domNode===j.target&&(j.type==="childList"?(E(h.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(N){var O=h.find(N,!1);E(O,!1),O instanceof c.default&&O.children.forEach(function(P){E(P,!1)})})):j.type==="attributes"&&E(B.prev)),E(B))}),this.children.forEach(w),I=[].slice.call(this.observer.takeRecords()),A=I.slice();A.length>0;)v.push(A.pop())}},y.prototype.update=function(v,S){var T=this;S===void 0&&(S={}),v=v||this.observer.takeRecords(),v.map(function(A){var E=h.find(A.target,!0);return E==null?null:E.domNode[h.DATA_KEY].mutations==null?(E.domNode[h.DATA_KEY].mutations=[A],E):(E.domNode[h.DATA_KEY].mutations.push(A),null)}).forEach(function(A){A==null||A===T||A.domNode[h.DATA_KEY]==null||A.update(A.domNode[h.DATA_KEY].mutations||[],S)}),this.domNode[h.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[h.DATA_KEY].mutations,S),this.optimize(v,S)},y.blotName="scroll",y.defaultChild="block",y.scope=h.Scope.BLOCK_BLOT,y.tagName="DIV",y})(c.default);i.default=_}),(function(n,i,s){var l=this&&this.__extends||(function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var v in y)y.hasOwnProperty(v)&&(m[v]=y[v])};return function(m,y){_(m,y);function v(){this.constructor=m}m.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(18),h=s(1);function d(_,m){if(Object.keys(_).length!==Object.keys(m).length)return!1;for(var y in _)if(_[y]!==m[y])return!1;return!0}var p=(function(_){l(m,_);function m(){return _!==null&&_.apply(this,arguments)||this}return m.formats=function(y){if(y.tagName!==m.tagName)return _.formats.call(this,y)},m.prototype.format=function(y,v){var S=this;y===this.statics.blotName&&!v?(this.children.forEach(function(T){T instanceof c.default||(T=T.wrap(m.blotName,!0)),S.attributes.copy(T)}),this.unwrap()):_.prototype.format.call(this,y,v)},m.prototype.formatAt=function(y,v,S,T){if(this.formats()[S]!=null||h.query(S,h.Scope.ATTRIBUTE)){var A=this.isolate(y,v);A.format(S,T)}else _.prototype.formatAt.call(this,y,v,S,T)},m.prototype.optimize=function(y){_.prototype.optimize.call(this,y);var v=this.formats();if(Object.keys(v).length===0)return this.unwrap();var S=this.next;S instanceof m&&S.prev===this&&d(v,S.formats())&&(S.moveChildren(this),S.remove())},m.blotName="inline",m.scope=h.Scope.INLINE_BLOT,m.tagName="SPAN",m})(c.default);i.default=p}),(function(n,i,s){var l=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,m){_.__proto__=m}||function(_,m){for(var y in m)m.hasOwnProperty(y)&&(_[y]=m[y])};return function(_,m){p(_,m);function y(){this.constructor=_}_.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(18),h=s(1),d=(function(p){l(_,p);function _(){return p!==null&&p.apply(this,arguments)||this}return _.formats=function(m){var y=h.query(_.blotName).tagName;if(m.tagName!==y)return p.formats.call(this,m)},_.prototype.format=function(m,y){h.query(m,h.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!y?this.replaceWith(_.blotName):p.prototype.format.call(this,m,y))},_.prototype.formatAt=function(m,y,v,S){h.query(v,h.Scope.BLOCK)!=null?this.format(v,S):p.prototype.formatAt.call(this,m,y,v,S)},_.prototype.insertAt=function(m,y,v){if(v==null||h.query(y,h.Scope.INLINE)!=null)p.prototype.insertAt.call(this,m,y,v);else{var S=this.split(m),T=h.create(y,v);S.parent.insertBefore(T,S)}},_.prototype.update=function(m,y){navigator.userAgent.match(/Trident/)?this.build():p.prototype.update.call(this,m,y)},_.blotName="block",_.scope=h.Scope.BLOCK_BLOT,_.tagName="P",_})(c.default);i.default=d}),(function(n,i,s){var l=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,_){p.__proto__=_}||function(p,_){for(var m in _)_.hasOwnProperty(m)&&(p[m]=_[m])};return function(p,_){d(p,_);function m(){this.constructor=p}p.prototype=_===null?Object.create(_):(m.prototype=_.prototype,new m)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(19),h=(function(d){l(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.formats=function(_){},p.prototype.format=function(_,m){d.prototype.formatAt.call(this,0,this.length(),_,m)},p.prototype.formatAt=function(_,m,y,v){_===0&&m===this.length()?this.format(y,v):d.prototype.formatAt.call(this,_,m,y,v)},p.prototype.formats=function(){return this.statics.formats(this.domNode)},p})(c.default);i.default=h}),(function(n,i,s){var l=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,m){_.__proto__=m}||function(_,m){for(var y in m)m.hasOwnProperty(y)&&(_[y]=m[y])};return function(_,m){p(_,m);function y(){this.constructor=_}_.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})();Object.defineProperty(i,"__esModule",{value:!0});var c=s(19),h=s(1),d=(function(p){l(_,p);function _(m){var y=p.call(this,m)||this;return y.text=y.statics.value(y.domNode),y}return _.create=function(m){return document.createTextNode(m)},_.value=function(m){var y=m.data;return y.normalize&&(y=y.normalize()),y},_.prototype.deleteAt=function(m,y){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+y)},_.prototype.index=function(m,y){return this.domNode===m?y:-1},_.prototype.insertAt=function(m,y,v){v==null?(this.text=this.text.slice(0,m)+y+this.text.slice(m),this.domNode.data=this.text):p.prototype.insertAt.call(this,m,y,v)},_.prototype.length=function(){return this.text.length},_.prototype.optimize=function(m){p.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof _&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},_.prototype.position=function(m,y){return[this.domNode,m]},_.prototype.split=function(m,y){if(y===void 0&&(y=!1),!y){if(m===0)return this;if(m===this.length())return this.next}var v=h.create(this.domNode.splitText(m));return this.parent.insertBefore(v,this.next),this.text=this.statics.value(this.domNode),v},_.prototype.update=function(m,y){var v=this;m.some(function(S){return S.type==="characterData"&&S.target===v.domNode})&&(this.text=this.statics.value(this.domNode))},_.prototype.value=function(){return this.text},_.blotName="text",_.scope=h.Scope.INLINE_BLOT,_})(c.default);i.default=d}),(function(n,i,s){var l=document.createElement("div");if(l.classList.toggle("test-class",!1),l.classList.contains("test-class")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(h,d){return arguments.length>1&&!this.contains(h)==!d?d:c.call(this,h)}}String.prototype.startsWith||(String.prototype.startsWith=function(h,d){return d=d||0,this.substr(d,h.length)===h}),String.prototype.endsWith||(String.prototype.endsWith=function(h,d){var p=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>p.length)&&(d=p.length),d-=h.length;var _=p.indexOf(h,d);return _!==-1&&_===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var p=Object(this),_=p.length>>>0,m=arguments[1],y,v=0;v<_;v++)if(y=p[v],d.call(m,y,v,p))return y}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,i){var s=-1,l=1,c=0;function h(x,j,B){if(x==j)return x?[[c,x]]:[];(B<0||x.length<B)&&(B=null);var N=m(x,j),O=x.substring(0,N);x=x.substring(N),j=j.substring(N),N=y(x,j);var P=x.substring(x.length-N);x=x.substring(0,x.length-N),j=j.substring(0,j.length-N);var D=d(x,j);return O&&D.unshift([c,O]),P&&D.push([c,P]),S(D),B!=null&&(D=E(D,B)),D=w(D),D}function d(x,j){var B;if(!x)return[[l,j]];if(!j)return[[s,x]];var N=x.length>j.length?x:j,O=x.length>j.length?j:x,P=N.indexOf(O);if(P!=-1)return B=[[l,N.substring(0,P)],[c,O],[l,N.substring(P+O.length)]],x.length>j.length&&(B[0][0]=B[2][0]=s),B;if(O.length==1)return[[s,x],[l,j]];var D=v(x,j);if(D){var R=D[0],M=D[1],L=D[2],Y=D[3],W=D[4],Q=h(R,L),Z=h(M,Y);return Q.concat([[c,W]],Z)}return p(x,j)}function p(x,j){for(var B=x.length,N=j.length,O=Math.ceil((B+N)/2),P=O,D=2*O,R=new Array(D),M=new Array(D),L=0;L<D;L++)R[L]=-1,M[L]=-1;R[P+1]=0,M[P+1]=0;for(var Y=B-N,W=Y%2!=0,Q=0,Z=0,he=0,ne=0,X=0;X<O;X++){for(var V=-X+Q;V<=X-Z;V+=2){var z=P+V,G;V==-X||V!=X&&R[z-1]<R[z+1]?G=R[z+1]:G=R[z-1]+1;for(var J=G-V;G<B&&J<N&&x.charAt(G)==j.charAt(J);)G++,J++;if(R[z]=G,G>B)Z+=2;else if(J>N)Q+=2;else if(W){var te=P+Y-V;if(te>=0&&te<D&&M[te]!=-1){var F=B-M[te];if(G>=F)return _(x,j,G,J)}}}for(var ee=-X+he;ee<=X-ne;ee+=2){var te=P+ee,F;ee==-X||ee!=X&&M[te-1]<M[te+1]?F=M[te+1]:F=M[te-1]+1;for(var le=F-ee;F<B&&le<N&&x.charAt(B-F-1)==j.charAt(N-le-1);)F++,le++;if(M[te]=F,F>B)ne+=2;else if(le>N)he+=2;else if(!W){var z=P+Y-ee;if(z>=0&&z<D&&R[z]!=-1){var G=R[z],J=P+G-z;if(F=B-F,G>=F)return _(x,j,G,J)}}}}return[[s,x],[l,j]]}function _(x,j,B,N){var O=x.substring(0,B),P=j.substring(0,N),D=x.substring(B),R=j.substring(N),M=h(O,P),L=h(D,R);return M.concat(L)}function m(x,j){if(!x||!j||x.charAt(0)!=j.charAt(0))return 0;for(var B=0,N=Math.min(x.length,j.length),O=N,P=0;B<O;)x.substring(P,O)==j.substring(P,O)?(B=O,P=B):N=O,O=Math.floor((N-B)/2+B);return O}function y(x,j){if(!x||!j||x.charAt(x.length-1)!=j.charAt(j.length-1))return 0;for(var B=0,N=Math.min(x.length,j.length),O=N,P=0;B<O;)x.substring(x.length-O,x.length-P)==j.substring(j.length-O,j.length-P)?(B=O,P=B):N=O,O=Math.floor((N-B)/2+B);return O}function v(x,j){var B=x.length>j.length?x:j,N=x.length>j.length?j:x;if(B.length<4||N.length*2<B.length)return null;function O(Z,he,ne){for(var X=Z.substring(ne,ne+Math.floor(Z.length/4)),V=-1,z="",G,J,te,F;(V=he.indexOf(X,V+1))!=-1;){var ee=m(Z.substring(ne),he.substring(V)),le=y(Z.substring(0,ne),he.substring(0,V));z.length<le+ee&&(z=he.substring(V-le,V)+he.substring(V,V+ee),G=Z.substring(0,ne-le),J=Z.substring(ne+ee),te=he.substring(0,V-le),F=he.substring(V+ee))}return z.length*2>=Z.length?[G,J,te,F,z]:null}var P=O(B,N,Math.ceil(B.length/4)),D=O(B,N,Math.ceil(B.length/2)),R;if(!P&&!D)return null;D?P?R=P[4].length>D[4].length?P:D:R=D:R=P;var M,L,Y,W;x.length>j.length?(M=R[0],L=R[1],Y=R[2],W=R[3]):(Y=R[0],W=R[1],M=R[2],L=R[3]);var Q=R[4];return[M,L,Y,W,Q]}function S(x){x.push([c,""]);for(var j=0,B=0,N=0,O="",P="",D;j<x.length;)switch(x[j][0]){case l:N++,P+=x[j][1],j++;break;case s:B++,O+=x[j][1],j++;break;case c:B+N>1?(B!==0&&N!==0&&(D=m(P,O),D!==0&&(j-B-N>0&&x[j-B-N-1][0]==c?x[j-B-N-1][1]+=P.substring(0,D):(x.splice(0,0,[c,P.substring(0,D)]),j++),P=P.substring(D),O=O.substring(D)),D=y(P,O),D!==0&&(x[j][1]=P.substring(P.length-D)+x[j][1],P=P.substring(0,P.length-D),O=O.substring(0,O.length-D))),B===0?x.splice(j-N,B+N,[l,P]):N===0?x.splice(j-B,B+N,[s,O]):x.splice(j-B-N,B+N,[s,O],[l,P]),j=j-B-N+(B?1:0)+(N?1:0)+1):j!==0&&x[j-1][0]==c?(x[j-1][1]+=x[j][1],x.splice(j,1)):j++,N=0,B=0,O="",P="";break}x[x.length-1][1]===""&&x.pop();var R=!1;for(j=1;j<x.length-1;)x[j-1][0]==c&&x[j+1][0]==c&&(x[j][1].substring(x[j][1].length-x[j-1][1].length)==x[j-1][1]?(x[j][1]=x[j-1][1]+x[j][1].substring(0,x[j][1].length-x[j-1][1].length),x[j+1][1]=x[j-1][1]+x[j+1][1],x.splice(j-1,1),R=!0):x[j][1].substring(0,x[j+1][1].length)==x[j+1][1]&&(x[j-1][1]+=x[j+1][1],x[j][1]=x[j][1].substring(x[j+1][1].length)+x[j+1][1],x.splice(j+1,1),R=!0)),j++;R&&S(x)}var T=h;T.INSERT=l,T.DELETE=s,T.EQUAL=c,n.exports=T;function A(x,j){if(j===0)return[c,x];for(var B=0,N=0;N<x.length;N++){var O=x[N];if(O[0]===s||O[0]===c){var P=B+O[1].length;if(j===P)return[N+1,x];if(j<P){x=x.slice();var D=j-B,R=[O[0],O[1].slice(0,D)],M=[O[0],O[1].slice(D)];return x.splice(N,1,R,M),[N+1,x]}else B=P}}throw new Error("cursor_pos is out of bounds!")}function E(x,j){var B=A(x,j),N=B[1],O=B[0],P=N[O],D=N[O+1];if(P==null)return x;if(P[0]!==c)return x;if(D!=null&&P[1]+D[1]===D[1]+P[1])return N.splice(O,2,D,P),I(N,O,2);if(D!=null&&D[1].indexOf(P[1])===0){N.splice(O,2,[D[0],P[1]],[0,P[1]]);var R=D[1].slice(P[1].length);return R.length>0&&N.splice(O+2,0,[D[0],R]),I(N,O,3)}else return x}function w(x){for(var j=!1,B=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},N=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},O=2;O<x.length;O+=1)x[O-2][0]===c&&N(x[O-2][1])&&x[O-1][0]===s&&B(x[O-1][1])&&x[O][0]===l&&B(x[O][1])&&(j=!0,x[O-1][1]=x[O-2][1].slice(-1)+x[O-1][1],x[O][1]=x[O-2][1].slice(-1)+x[O][1],x[O-2][1]=x[O-2][1].slice(0,-1));if(!j)return x;for(var P=[],O=0;O<x.length;O+=1)x[O][1].length>0&&P.push(x[O]);return P}function I(x,j,B){for(var N=j+B-1;N>=0&&N>=j-1;N--)if(N+1<x.length){var O=x[N],P=x[N+1];O[0]===P[1]&&x.splice(N,2,[O[0],O[1]+P[1]])}return x}}),(function(n,i){i=n.exports=typeof Object.keys=="function"?Object.keys:s,i.shim=s;function s(l){var c=[];for(var h in l)c.push(h);return c}}),(function(n,i){var s=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";i=n.exports=s?l:c,i.supported=l;function l(h){return Object.prototype.toString.call(h)=="[object Arguments]"}i.unsupported=c;function c(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}}),(function(n,i){var s=Object.prototype.hasOwnProperty,l="~";function c(){}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(l=!1));function h(p,_,m){this.fn=p,this.context=_,this.once=m||!1}function d(){this._events=new c,this._eventsCount=0}d.prototype.eventNames=function(){var _=[],m,y;if(this._eventsCount===0)return _;for(y in m=this._events)s.call(m,y)&&_.push(l?y.slice(1):y);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(m)):_},d.prototype.listeners=function(_,m){var y=l?l+_:_,v=this._events[y];if(m)return!!v;if(!v)return[];if(v.fn)return[v.fn];for(var S=0,T=v.length,A=new Array(T);S<T;S++)A[S]=v[S].fn;return A},d.prototype.emit=function(_,m,y,v,S,T){var A=l?l+_:_;if(!this._events[A])return!1;var E=this._events[A],w=arguments.length,I,x;if(E.fn){switch(E.once&&this.removeListener(_,E.fn,void 0,!0),w){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,y),!0;case 4:return E.fn.call(E.context,m,y,v),!0;case 5:return E.fn.call(E.context,m,y,v,S),!0;case 6:return E.fn.call(E.context,m,y,v,S,T),!0}for(x=1,I=new Array(w-1);x<w;x++)I[x-1]=arguments[x];E.fn.apply(E.context,I)}else{var j=E.length,B;for(x=0;x<j;x++)switch(E[x].once&&this.removeListener(_,E[x].fn,void 0,!0),w){case 1:E[x].fn.call(E[x].context);break;case 2:E[x].fn.call(E[x].context,m);break;case 3:E[x].fn.call(E[x].context,m,y);break;case 4:E[x].fn.call(E[x].context,m,y,v);break;default:if(!I)for(B=1,I=new Array(w-1);B<w;B++)I[B-1]=arguments[B];E[x].fn.apply(E[x].context,I)}}return!0},d.prototype.on=function(_,m,y){var v=new h(m,y||this),S=l?l+_:_;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],v]:this._events[S].push(v):(this._events[S]=v,this._eventsCount++),this},d.prototype.once=function(_,m,y){var v=new h(m,y||this,!0),S=l?l+_:_;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],v]:this._events[S].push(v):(this._events[S]=v,this._eventsCount++),this},d.prototype.removeListener=function(_,m,y,v){var S=l?l+_:_;if(!this._events[S])return this;if(!m)return--this._eventsCount===0?this._events=new c:delete this._events[S],this;var T=this._events[S];if(T.fn)T.fn===m&&(!v||T.once)&&(!y||T.context===y)&&(--this._eventsCount===0?this._events=new c:delete this._events[S]);else{for(var A=0,E=[],w=T.length;A<w;A++)(T[A].fn!==m||v&&!T[A].once||y&&T[A].context!==y)&&E.push(T[A]);E.length?this._events[S]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new c:delete this._events[S]}return this},d.prototype.removeAllListeners=function(_){var m;return _?(m=l?l+_:_,this._events[m]&&(--this._eventsCount===0?this._events=new c:delete this._events[m])):(this._events=new c,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=l,d.EventEmitter=d,typeof n<"u"&&(n.exports=d)}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},c=(function(){function ge(pe,Ae){var xe=[],we=!0,Ge=!1,Me=void 0;try{for(var Be=pe[Symbol.iterator](),$t;!(we=($t=Be.next()).done)&&(xe.push($t.value),!(Ae&&xe.length===Ae));we=!0);}catch(En){Ge=!0,Me=En}finally{try{!we&&Be.return&&Be.return()}finally{if(Ge)throw Me}}return xe}return function(pe,Ae){if(Array.isArray(pe))return pe;if(Symbol.iterator in Object(pe))return ge(pe,Ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),h=(function(){function ge(pe,Ae){for(var xe=0;xe<Ae.length;xe++){var we=Ae[xe];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(pe,we.key,we)}}return function(pe,Ae,xe){return Ae&&ge(pe.prototype,Ae),xe&&ge(pe,xe),pe}})(),d=s(3),p=M(d),_=s(2),m=M(_),y=s(0),v=M(y),S=s(5),T=M(S),A=s(10),E=M(A),w=s(9),I=M(w),x=s(36),j=s(37),B=s(13),N=M(B),O=s(26),P=s(38),D=s(39),R=s(40);function M(ge){return ge&&ge.__esModule?ge:{default:ge}}function L(ge,pe,Ae){return pe in ge?Object.defineProperty(ge,pe,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):ge[pe]=Ae,ge}function Y(ge,pe){if(!(ge instanceof pe))throw new TypeError("Cannot call a class as a function")}function W(ge,pe){if(!ge)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:ge}function Q(ge,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);ge.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(ge,pe):ge.__proto__=pe)}var Z=(0,E.default)("quill:clipboard"),he="__ql-matcher",ne=[[Node.TEXT_NODE,bt],[Node.TEXT_NODE,Ue],["br",Re],[Node.ELEMENT_NODE,Ue],[Node.ELEMENT_NODE,Ee],[Node.ELEMENT_NODE,nt],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Ct],["li",je],["b",le.bind(le,"bold")],["i",le.bind(le,"italic")],["style",Le]],X=[x.AlignAttribute,P.DirectionAttribute].reduce(function(ge,pe){return ge[pe.keyName]=pe,ge},{}),V=[x.AlignStyle,j.BackgroundStyle,O.ColorStyle,P.DirectionStyle,D.FontStyle,R.SizeStyle].reduce(function(ge,pe){return ge[pe.keyName]=pe,ge},{}),z=(function(ge){Q(pe,ge);function pe(Ae,xe){Y(this,pe);var we=W(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,Ae,xe));return we.quill.root.addEventListener("paste",we.onPaste.bind(we)),we.container=we.quill.addContainer("ql-clipboard"),we.container.setAttribute("contenteditable",!0),we.container.setAttribute("tabindex",-1),we.matchers=[],ne.concat(we.options.matchers).forEach(function(Ge){var Me=c(Ge,2),Be=Me[0],$t=Me[1];!xe.matchVisual&&$t===nt||we.addMatcher(Be,$t)}),we}return h(pe,[{key:"addMatcher",value:function(xe,we){this.matchers.push([xe,we])}},{key:"convert",value:function(xe){if(typeof xe=="string")return this.container.innerHTML=xe.replace(/\>\r?\n +\</g,"><"),this.convert();var we=this.quill.getFormat(this.quill.selection.savedRange.index);if(we[N.default.blotName]){var Ge=this.container.innerText;return this.container.innerHTML="",new m.default().insert(Ge,L({},N.default.blotName,we[N.default.blotName]))}var Me=this.prepareMatching(),Be=c(Me,2),$t=Be[0],En=Be[1],at=ee(this.container,$t,En);return te(at,`
`)&&at.ops[at.ops.length-1].attributes==null&&(at=at.compose(new m.default().retain(at.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,at),this.container.innerHTML="",at}},{key:"dangerouslyPasteHTML",value:function(xe,we){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof xe=="string")this.quill.setContents(this.convert(xe),we),this.quill.setSelection(0,T.default.sources.SILENT);else{var Me=this.convert(we);this.quill.updateContents(new m.default().retain(xe).concat(Me),Ge),this.quill.setSelection(xe+Me.length(),T.default.sources.SILENT)}}},{key:"onPaste",value:function(xe){var we=this;if(!(xe.defaultPrevented||!this.quill.isEnabled())){var Ge=this.quill.getSelection(),Me=new m.default().retain(Ge.index),Be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(T.default.sources.SILENT),setTimeout(function(){Me=Me.concat(we.convert()).delete(Ge.length),we.quill.updateContents(Me,T.default.sources.USER),we.quill.setSelection(Me.length()-Ge.length,T.default.sources.SILENT),we.quill.scrollingContainer.scrollTop=Be,we.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var xe=this,we=[],Ge=[];return this.matchers.forEach(function(Me){var Be=c(Me,2),$t=Be[0],En=Be[1];switch($t){case Node.TEXT_NODE:Ge.push(En);break;case Node.ELEMENT_NODE:we.push(En);break;default:[].forEach.call(xe.container.querySelectorAll($t),function(at){at[he]=at[he]||[],at[he].push(En)});break}}),[we,Ge]}}]),pe})(I.default);z.DEFAULTS={matchers:[],matchVisual:!0};function G(ge,pe,Ae){return(typeof pe>"u"?"undefined":l(pe))==="object"?Object.keys(pe).reduce(function(xe,we){return G(xe,we,pe[we])},ge):ge.reduce(function(xe,we){return we.attributes&&we.attributes[pe]?xe.push(we):xe.insert(we.insert,(0,p.default)({},L({},pe,Ae),we.attributes))},new m.default)}function J(ge){if(ge.nodeType!==Node.ELEMENT_NODE)return{};var pe="__ql-computed-style";return ge[pe]||(ge[pe]=window.getComputedStyle(ge))}function te(ge,pe){for(var Ae="",xe=ge.ops.length-1;xe>=0&&Ae.length<pe.length;--xe){var we=ge.ops[xe];if(typeof we.insert!="string")break;Ae=we.insert+Ae}return Ae.slice(-1*pe.length)===pe}function F(ge){if(ge.childNodes.length===0)return!1;var pe=J(ge);return["block","list-item"].indexOf(pe.display)>-1}function ee(ge,pe,Ae){return ge.nodeType===ge.TEXT_NODE?Ae.reduce(function(xe,we){return we(ge,xe)},new m.default):ge.nodeType===ge.ELEMENT_NODE?[].reduce.call(ge.childNodes||[],function(xe,we){var Ge=ee(we,pe,Ae);return we.nodeType===ge.ELEMENT_NODE&&(Ge=pe.reduce(function(Me,Be){return Be(we,Me)},Ge),Ge=(we[he]||[]).reduce(function(Me,Be){return Be(we,Me)},Ge)),xe.concat(Ge)},new m.default):new m.default}function le(ge,pe,Ae){return G(Ae,ge,!0)}function se(ge,pe){var Ae=v.default.Attributor.Attribute.keys(ge),xe=v.default.Attributor.Class.keys(ge),we=v.default.Attributor.Style.keys(ge),Ge={};return Ae.concat(xe).concat(we).forEach(function(Me){var Be=v.default.query(Me,v.default.Scope.ATTRIBUTE);Be!=null&&(Ge[Be.attrName]=Be.value(ge),Ge[Be.attrName])||(Be=X[Me],Be!=null&&(Be.attrName===Me||Be.keyName===Me)&&(Ge[Be.attrName]=Be.value(ge)||void 0),Be=V[Me],Be!=null&&(Be.attrName===Me||Be.keyName===Me)&&(Be=V[Me],Ge[Be.attrName]=Be.value(ge)||void 0))}),Object.keys(Ge).length>0&&(pe=G(pe,Ge)),pe}function Ee(ge,pe){var Ae=v.default.query(ge);if(Ae==null)return pe;if(Ae.prototype instanceof v.default.Embed){var xe={},we=Ae.value(ge);we!=null&&(xe[Ae.blotName]=we,pe=new m.default().insert(xe,Ae.formats(ge)))}else typeof Ae.formats=="function"&&(pe=G(pe,Ae.blotName,Ae.formats(ge)));return pe}function Re(ge,pe){return te(pe,`
`)||pe.insert(`
`),pe}function Le(){return new m.default}function je(ge,pe){var Ae=v.default.query(ge);if(Ae==null||Ae.blotName!=="list-item"||!te(pe,`
`))return pe;for(var xe=-1,we=ge.parentNode;!we.classList.contains("ql-clipboard");)(v.default.query(we)||{}).blotName==="list"&&(xe+=1),we=we.parentNode;return xe<=0?pe:pe.compose(new m.default().retain(pe.length()-1).retain(1,{indent:xe}))}function Ue(ge,pe){return te(pe,`
`)||(F(ge)||pe.length()>0&&ge.nextSibling&&F(ge.nextSibling))&&pe.insert(`
`),pe}function nt(ge,pe){if(F(ge)&&ge.nextElementSibling!=null&&!te(pe,`

`)){var Ae=ge.offsetHeight+parseFloat(J(ge).marginTop)+parseFloat(J(ge).marginBottom);ge.nextElementSibling.offsetTop>ge.offsetTop+Ae*1.5&&pe.insert(`
`)}return pe}function Ct(ge,pe){var Ae={},xe=ge.style||{};return xe.fontStyle&&J(ge).fontStyle==="italic"&&(Ae.italic=!0),xe.fontWeight&&(J(ge).fontWeight.startsWith("bold")||parseInt(J(ge).fontWeight)>=700)&&(Ae.bold=!0),Object.keys(Ae).length>0&&(pe=G(pe,Ae)),parseFloat(xe.textIndent||0)>0&&(pe=new m.default().insert("	").concat(pe)),pe}function bt(ge,pe){var Ae=ge.data;if(ge.parentNode.tagName==="O:P")return pe.insert(Ae.trim());if(Ae.trim().length===0&&ge.parentNode.classList.contains("ql-clipboard"))return pe;if(!J(ge.parentNode).whiteSpace.startsWith("pre")){var xe=function(Ge,Me){return Me=Me.replace(/[^\u00a0]/g,""),Me.length<1&&Ge?" ":Me};Ae=Ae.replace(/\r\n/g," ").replace(/\n/g," "),Ae=Ae.replace(/\s\s+/g,xe.bind(xe,!0)),(ge.previousSibling==null&&F(ge.parentNode)||ge.previousSibling!=null&&F(ge.previousSibling))&&(Ae=Ae.replace(/^\s+/,xe.bind(xe,!1))),(ge.nextSibling==null&&F(ge.parentNode)||ge.nextSibling!=null&&F(ge.nextSibling))&&(Ae=Ae.replace(/\s+$/,xe.bind(xe,!1)))}return pe.insert(Ae)}i.default=z,i.matchAttributor=se,i.matchBlot=Ee,i.matchNewline=Ue,i.matchSpacing=nt,i.matchText=bt}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function S(T,A){for(var E=0;E<A.length;E++){var w=A[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,A,E){return A&&S(T.prototype,A),E&&S(T,E),T}})(),c=function S(T,A,E){T===null&&(T=Function.prototype);var w=Object.getOwnPropertyDescriptor(T,A);if(w===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:S(I,A,E)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(E)}},h=s(6),d=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function _(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function y(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var v=(function(S){y(T,S);function T(){return _(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return l(T,[{key:"optimize",value:function(E){c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return c(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),T})(d.default);v.blotName="bold",v.tagName=["STRONG","B"],i.default=v}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var l=(function(){function R(M,L){var Y=[],W=!0,Q=!1,Z=void 0;try{for(var he=M[Symbol.iterator](),ne;!(W=(ne=he.next()).done)&&(Y.push(ne.value),!(L&&Y.length===L));W=!0);}catch(X){Q=!0,Z=X}finally{try{!W&&he.return&&he.return()}finally{if(Q)throw Z}}return Y}return function(M,L){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function R(M,L){for(var Y=0;Y<L.length;Y++){var W=L[Y];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,L,Y){return L&&R(M.prototype,L),Y&&R(M,Y),M}})(),h=s(2),d=E(h),p=s(0),_=E(p),m=s(5),y=E(m),v=s(10),S=E(v),T=s(9),A=E(T);function E(R){return R&&R.__esModule?R:{default:R}}function w(R,M,L){return M in R?Object.defineProperty(R,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):R[M]=L,R}function I(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function x(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function j(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var B=(0,S.default)("quill:toolbar"),N=(function(R){j(M,R);function M(L,Y){I(this,M);var W=x(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L,Y));if(Array.isArray(W.options.container)){var Q=document.createElement("div");P(Q,W.options.container),L.container.parentNode.insertBefore(Q,L.container),W.container=Q}else typeof W.options.container=="string"?W.container=document.querySelector(W.options.container):W.container=W.options.container;if(!(W.container instanceof HTMLElement)){var Z;return Z=B.error("Container required for toolbar",W.options),x(W,Z)}return W.container.classList.add("ql-toolbar"),W.controls=[],W.handlers={},Object.keys(W.options.handlers).forEach(function(he){W.addHandler(he,W.options.handlers[he])}),[].forEach.call(W.container.querySelectorAll("button, select"),function(he){W.attach(he)}),W.quill.on(y.default.events.EDITOR_CHANGE,function(he,ne){he===y.default.events.SELECTION_CHANGE&&W.update(ne)}),W.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){var he=W.quill.selection.getRange(),ne=l(he,1),X=ne[0];W.update(X)}),W}return c(M,[{key:"addHandler",value:function(Y,W){this.handlers[Y]=W}},{key:"attach",value:function(Y){var W=this,Q=[].find.call(Y.classList,function(he){return he.indexOf("ql-")===0});if(Q){if(Q=Q.slice(3),Y.tagName==="BUTTON"&&Y.setAttribute("type","button"),this.handlers[Q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Q]==null){B.warn("ignoring attaching to disabled format",Q,Y);return}if(_.default.query(Q)==null){B.warn("ignoring attaching to nonexistent format",Q,Y);return}}var Z=Y.tagName==="SELECT"?"change":"click";Y.addEventListener(Z,function(he){var ne=void 0;if(Y.tagName==="SELECT"){if(Y.selectedIndex<0)return;var X=Y.options[Y.selectedIndex];X.hasAttribute("selected")?ne=!1:ne=X.value||!1}else Y.classList.contains("ql-active")?ne=!1:ne=Y.value||!Y.hasAttribute("value"),he.preventDefault();W.quill.focus();var V=W.quill.selection.getRange(),z=l(V,1),G=z[0];if(W.handlers[Q]!=null)W.handlers[Q].call(W,ne);else if(_.default.query(Q).prototype instanceof _.default.Embed){if(ne=prompt("Enter "+Q),!ne)return;W.quill.updateContents(new d.default().retain(G.index).delete(G.length).insert(w({},Q,ne)),y.default.sources.USER)}else W.quill.format(Q,ne,y.default.sources.USER);W.update(G)}),this.controls.push([Q,Y])}}},{key:"update",value:function(Y){var W=Y==null?{}:this.quill.getFormat(Y);this.controls.forEach(function(Q){var Z=l(Q,2),he=Z[0],ne=Z[1];if(ne.tagName==="SELECT"){var X=void 0;if(Y==null)X=null;else if(W[he]==null)X=ne.querySelector("option[selected]");else if(!Array.isArray(W[he])){var V=W[he];typeof V=="string"&&(V=V.replace(/\"/g,'\\"')),X=ne.querySelector('option[value="'+V+'"]')}X==null?(ne.value="",ne.selectedIndex=-1):X.selected=!0}else if(Y==null)ne.classList.remove("ql-active");else if(ne.hasAttribute("value")){var z=W[he]===ne.getAttribute("value")||W[he]!=null&&W[he].toString()===ne.getAttribute("value")||W[he]==null&&!ne.getAttribute("value");ne.classList.toggle("ql-active",z)}else ne.classList.toggle("ql-active",W[he]!=null)})}}]),M})(A.default);N.DEFAULTS={};function O(R,M,L){var Y=document.createElement("button");Y.setAttribute("type","button"),Y.classList.add("ql-"+M),L!=null&&(Y.value=L),R.appendChild(Y)}function P(R,M){Array.isArray(M[0])||(M=[M]),M.forEach(function(L){var Y=document.createElement("span");Y.classList.add("ql-formats"),L.forEach(function(W){if(typeof W=="string")O(Y,W);else{var Q=Object.keys(W)[0],Z=W[Q];Array.isArray(Z)?D(Y,Q,Z):O(Y,Q,Z)}}),R.appendChild(Y)})}function D(R,M,L){var Y=document.createElement("select");Y.classList.add("ql-"+M),L.forEach(function(W){var Q=document.createElement("option");W!==!1?Q.setAttribute("value",W):Q.setAttribute("selected","selected"),Y.appendChild(Q)}),R.appendChild(Y)}N.DEFAULTS={container:null,handlers:{clean:function(){var M=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var Y=this.quill.getFormat();Object.keys(Y).forEach(function(W){_.default.query(W,_.default.Scope.INLINE)!=null&&M.quill.format(W,!1)})}else this.quill.removeFormat(L,y.default.sources.USER)},direction:function(M){var L=this.quill.getFormat().align;M==="rtl"&&L==null?this.quill.format("align","right",y.default.sources.USER):!M&&L==="right"&&this.quill.format("align",!1,y.default.sources.USER),this.quill.format("direction",M,y.default.sources.USER)},indent:function(M){var L=this.quill.getSelection(),Y=this.quill.getFormat(L),W=parseInt(Y.indent||0);if(M==="+1"||M==="-1"){var Q=M==="+1"?1:-1;Y.direction==="rtl"&&(Q*=-1),this.quill.format("indent",W+Q,y.default.sources.USER)}},link:function(M){M===!0&&(M=prompt("Enter link URL:")),this.quill.format("link",M,y.default.sources.USER)},list:function(M){var L=this.quill.getSelection(),Y=this.quill.getFormat(L);M==="check"?Y.list==="checked"||Y.list==="unchecked"?this.quill.format("list",!1,y.default.sources.USER):this.quill.format("list","unchecked",y.default.sources.USER):this.quill.format("list",M,y.default.sources.USER)}}},i.default=N,i.addControls=P}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function S(T,A){for(var E=0;E<A.length;E++){var w=A[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,A,E){return A&&S(T.prototype,A),E&&S(T,E),T}})(),c=function S(T,A,E){T===null&&(T=Function.prototype);var w=Object.getOwnPropertyDescriptor(T,A);if(w===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:S(I,A,E)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(E)}},h=s(28),d=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function _(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function y(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var v=(function(S){y(T,S);function T(A,E){_(this,T);var w=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A));return w.label.innerHTML=E,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(I){I.classList.add("ql-primary")}),w}return l(T,[{key:"buildItem",value:function(E){var w=c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"buildItem",this).call(this,E);return w.style.backgroundColor=E.getAttribute("value")||"",w}},{key:"selectItem",value:function(E,w){c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,E,w);var I=this.label.querySelector(".ql-color-label"),x=E&&E.getAttribute("data-value")||"";I&&(I.tagName==="line"?I.style.stroke=x:I.style.fill=x)}}]),T})(d.default);i.default=v}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function S(T,A){for(var E=0;E<A.length;E++){var w=A[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,A,E){return A&&S(T.prototype,A),E&&S(T,E),T}})(),c=function S(T,A,E){T===null&&(T=Function.prototype);var w=Object.getOwnPropertyDescriptor(T,A);if(w===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:S(I,A,E)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(E)}},h=s(28),d=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function _(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function y(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var v=(function(S){y(T,S);function T(A,E){_(this,T);var w=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(I){I.innerHTML=E[I.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return l(T,[{key:"selectItem",value:function(E,w){c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,E,w),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),T})(d.default);i.default=v}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function d(p,_){for(var m=0;m<_.length;m++){var y=_[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,_,m){return _&&d(p.prototype,_),m&&d(p,m),p}})();function c(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var h=(function(){function d(p,_){var m=this;c(this,d),this.quill=p,this.boundsContainer=_||document.body,this.root=p.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return l(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(_){var m=_.left+_.width/2-this.root.offsetWidth/2,y=_.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=y+"px",this.root.classList.remove("ql-flip");var v=this.boundsContainer.getBoundingClientRect(),S=this.root.getBoundingClientRect(),T=0;if(S.right>v.right&&(T=v.right-S.right,this.root.style.left=m+T+"px"),S.left<v.left&&(T=v.left-S.left,this.root.style.left=m+T+"px"),S.bottom>v.bottom){var A=S.bottom-S.top,E=_.bottom-_.top+A;this.root.style.top=y-E+"px",this.root.classList.add("ql-flip")}return T}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d})();i.default=h}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function D(R,M){var L=[],Y=!0,W=!1,Q=void 0;try{for(var Z=R[Symbol.iterator](),he;!(Y=(he=Z.next()).done)&&(L.push(he.value),!(M&&L.length===M));Y=!0);}catch(ne){W=!0,Q=ne}finally{try{!Y&&Z.return&&Z.return()}finally{if(W)throw Q}}return L}return function(R,M){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return D(R,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=function D(R,M,L){R===null&&(R=Function.prototype);var Y=Object.getOwnPropertyDescriptor(R,M);if(Y===void 0){var W=Object.getPrototypeOf(R);return W===null?void 0:D(W,M,L)}else{if("value"in Y)return Y.value;var Q=Y.get;return Q===void 0?void 0:Q.call(L)}},h=(function(){function D(R,M){for(var L=0;L<M.length;L++){var Y=M[L];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(R,Y.key,Y)}}return function(R,M,L){return M&&D(R.prototype,M),L&&D(R,L),R}})(),d=s(3),p=I(d),_=s(8),m=I(_),y=s(43),v=I(y),S=s(27),T=I(S),A=s(15),E=s(41),w=I(E);function I(D){return D&&D.__esModule?D:{default:D}}function x(D,R){if(!(D instanceof R))throw new TypeError("Cannot call a class as a function")}function j(D,R){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:D}function B(D,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);D.prototype=Object.create(R&&R.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(D,R):D.__proto__=R)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=(function(D){B(R,D);function R(M,L){x(this,R),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=N);var Y=j(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,L));return Y.quill.container.classList.add("ql-snow"),Y}return h(R,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),w.default),this.tooltip=new P(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Y,W){L.handlers.link.call(L,!W.format.link)})}}]),R})(v.default);O.DEFAULTS=(0,p.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){if(R){var M=this.quill.getSelection();if(M==null||M.length==0)return;var L=this.quill.getText(M);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var Y=this.quill.theme.tooltip;Y.edit("link",L)}else this.quill.format("link",!1)}}}}});var P=(function(D){B(R,D);function R(M,L){x(this,R);var Y=j(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,L));return Y.preview=Y.root.querySelector("a.ql-preview"),Y}return h(R,[{key:"listen",value:function(){var L=this;c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Y){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),Y.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Y){if(L.linkRange!=null){var W=L.linkRange;L.restoreFocus(),L.quill.formatText(W,"link",!1,m.default.sources.USER),delete L.linkRange}Y.preventDefault(),L.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(Y,W,Q){if(Y!=null){if(Y.length===0&&Q===m.default.sources.USER){var Z=L.quill.scroll.descendant(T.default,Y.index),he=l(Z,2),ne=he[0],X=he[1];if(ne!=null){L.linkRange=new A.Range(Y.index-X,ne.length());var V=T.default.formats(ne.domNode);L.preview.textContent=V,L.preview.setAttribute("href",V),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),R})(y.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=O}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(29),c=we(l),h=s(36),d=s(38),p=s(64),_=s(65),m=we(_),y=s(66),v=we(y),S=s(67),T=we(S),A=s(37),E=s(26),w=s(39),I=s(40),x=s(56),j=we(x),B=s(68),N=we(B),O=s(27),P=we(O),D=s(69),R=we(D),M=s(70),L=we(M),Y=s(71),W=we(Y),Q=s(72),Z=we(Q),he=s(73),ne=we(he),X=s(13),V=we(X),z=s(74),G=we(z),J=s(75),te=we(J),F=s(57),ee=we(F),le=s(41),se=we(le),Ee=s(28),Re=we(Ee),Le=s(59),je=we(Le),Ue=s(60),nt=we(Ue),Ct=s(61),bt=we(Ct),ge=s(108),pe=we(ge),Ae=s(62),xe=we(Ae);function we(Ge){return Ge&&Ge.__esModule?Ge:{default:Ge}}c.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":h.AlignClass,"attributors/class/background":A.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":I.SizeClass,"attributors/style/align":h.AlignStyle,"attributors/style/background":A.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":I.SizeStyle},!0),c.default.register({"formats/align":h.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":p.IndentClass,"formats/background":A.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":w.FontClass,"formats/size":I.SizeClass,"formats/blockquote":m.default,"formats/code-block":V.default,"formats/header":v.default,"formats/list":T.default,"formats/bold":j.default,"formats/code":X.Code,"formats/italic":N.default,"formats/link":P.default,"formats/script":R.default,"formats/strike":L.default,"formats/underline":W.default,"formats/image":Z.default,"formats/video":ne.default,"formats/list/item":S.ListItem,"modules/formula":G.default,"modules/syntax":te.default,"modules/toolbar":ee.default,"themes/bubble":pe.default,"themes/snow":xe.default,"ui/icons":se.default,"ui/picker":Re.default,"ui/icon-picker":nt.default,"ui/color-picker":je.default,"ui/tooltip":bt.default},!0),i.default=c.default}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var l=(function(){function T(A,E){for(var w=0;w<E.length;w++){var I=E[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,E,w){return E&&T(A.prototype,E),w&&T(A,w),A}})(),c=function T(A,E,w){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,E);if(I===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:T(x,E,w)}else{if("value"in I)return I.value;var j=I.get;return j===void 0?void 0:j.call(w)}},h=s(0),d=p(h);function p(T){return T&&T.__esModule?T:{default:T}}function _(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function m(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function y(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var v=(function(T){y(A,T);function A(){return _(this,A),m(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return l(A,[{key:"add",value:function(w,I){if(I==="+1"||I==="-1"){var x=this.value(w)||0;I=I==="+1"?x+1:x-1}return I===0?(this.remove(w),!0):c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"add",this).call(this,w,I)}},{key:"canAdd",value:function(w,I){return c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,w,I)||c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,w,parseInt(I))}},{key:"value",value:function(w){return parseInt(c(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"value",this).call(this,w))||void 0}}]),A})(d.default.Attributor.Class),S=new v("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=S}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(4),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function _(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=(function(y){_(v,y);function v(){return d(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v})(c.default);m.blotName="blockquote",m.tagName="blockquote",i.default=m}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function v(S,T){for(var A=0;A<T.length;A++){var E=T[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,T,A){return T&&v(S.prototype,T),A&&v(S,A),S}})(),c=s(4),h=d(c);function d(v){return v&&v.__esModule?v:{default:v}}function p(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}function _(v,S){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:v}function m(v,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);v.prototype=Object.create(S&&S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(v,S):v.__proto__=S)}var y=(function(v){m(S,v);function S(){return p(this,S),_(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return l(S,null,[{key:"formats",value:function(A){return this.tagName.indexOf(A.tagName)+1}}]),S})(h.default);y.blotName="header",y.tagName=["H1","H2","H3","H4","H5","H6"],i.default=y}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var l=(function(){function x(j,B){for(var N=0;N<B.length;N++){var O=B[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(j,O.key,O)}}return function(j,B,N){return B&&x(j.prototype,B),N&&x(j,N),j}})(),c=function x(j,B,N){j===null&&(j=Function.prototype);var O=Object.getOwnPropertyDescriptor(j,B);if(O===void 0){var P=Object.getPrototypeOf(j);return P===null?void 0:x(P,B,N)}else{if("value"in O)return O.value;var D=O.get;return D===void 0?void 0:D.call(N)}},h=s(0),d=v(h),p=s(4),_=v(p),m=s(25),y=v(m);function v(x){return x&&x.__esModule?x:{default:x}}function S(x,j,B){return j in x?Object.defineProperty(x,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):x[j]=B,x}function T(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")}function A(x,j){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:x}function E(x,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);x.prototype=Object.create(j&&j.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(x,j):x.__proto__=j)}var w=(function(x){E(j,x);function j(){return T(this,j),A(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return l(j,[{key:"format",value:function(N,O){N===I.blotName&&!O?this.replaceWith(d.default.create(this.statics.scope)):c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,O){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,O),this):(this.parent.unwrap(),c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,N,O))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:c(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,N)}}]),j})(_.default);w.blotName="list-item",w.tagName="LI";var I=(function(x){E(j,x),l(j,null,[{key:"create",value:function(N){var O=N==="ordered"?"OL":"UL",P=c(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,O);return(N==="checked"||N==="unchecked")&&P.setAttribute("data-checked",N==="checked"),P}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(B){T(this,j);var N=A(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,B)),O=function(D){if(D.target.parentNode===B){var R=N.statics.formats(B),M=d.default.find(D.target);R==="checked"?M.format("list","unchecked"):R==="unchecked"&&M.format("list","checked")}};return B.addEventListener("touchstart",O),B.addEventListener("mousedown",O),N}return l(j,[{key:"format",value:function(N,O){this.children.length>0&&this.children.tail.format(N,O)}},{key:"formats",value:function(){return S({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,O){if(N instanceof w)c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,N,O);else{var P=O==null?this.length():O.offset(this),D=this.split(P);D.parent.insertBefore(N,D)}}},{key:"optimize",value:function(N){c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,N);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var O=d.default.create(this.statics.defaultChild);N.moveChildren(O),this.appendChild(O)}c(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,N)}}]),j})(y.default);I.blotName="list",I.scope=d.default.Scope.BLOCK_BLOT,I.tagName=["OL","UL"],I.defaultChild="list-item",I.allowedChildren=[w],i.ListItem=w,i.default=I}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(56),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function _(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=(function(y){_(v,y);function v(){return d(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v})(c.default);m.blotName="italic",m.tagName=["EM","I"],i.default=m}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function S(T,A){for(var E=0;E<A.length;E++){var w=A[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,A,E){return A&&S(T.prototype,A),E&&S(T,E),T}})(),c=function S(T,A,E){T===null&&(T=Function.prototype);var w=Object.getOwnPropertyDescriptor(T,A);if(w===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:S(I,A,E)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(E)}},h=s(6),d=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function _(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function m(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function y(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var v=(function(S){y(T,S);function T(){return _(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return l(T,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):c(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),T})(d.default);v.blotName="script",v.tagName=["SUB","SUP"],i.default=v}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(6),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function _(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=(function(y){_(v,y);function v(){return d(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v})(c.default);m.blotName="strike",m.tagName="S",i.default=m}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=s(6),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function p(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function _(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=(function(y){_(v,y);function v(){return d(this,v),p(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v})(c.default);m.blotName="underline",m.tagName="U",i.default=m}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function A(E,w){for(var I=0;I<w.length;I++){var x=w[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,w,I){return w&&A(E.prototype,w),I&&A(E,I),E}})(),c=function A(E,w,I){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,w);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:A(j,w,I)}else{if("value"in x)return x.value;var B=x.get;return B===void 0?void 0:B.call(I)}},h=s(0),d=_(h),p=s(27);function _(A){return A&&A.__esModule?A:{default:A}}function m(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function y(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function v(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var S=["alt","height","width"],T=(function(A){v(E,A);function E(){return m(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return l(E,[{key:"format",value:function(I,x){S.indexOf(I)>-1?x?this.domNode.setAttribute(I,x):this.domNode.removeAttribute(I):c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,I,x)}}],[{key:"create",value:function(I){var x=c(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,I);return typeof I=="string"&&x.setAttribute("src",this.sanitize(I)),x}},{key:"formats",value:function(I){return S.reduce(function(x,j){return I.hasAttribute(j)&&(x[j]=I.getAttribute(j)),x},{})}},{key:"match",value:function(I){return/\.(jpe?g|gif|png)$/.test(I)||/^data:image\/.+;base64/.test(I)}},{key:"sanitize",value:function(I){return(0,p.sanitize)(I,["http","https","data"])?I:"//:0"}},{key:"value",value:function(I){return I.getAttribute("src")}}]),E})(d.default.Embed);T.blotName="image",T.tagName="IMG",i.default=T}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function A(E,w){for(var I=0;I<w.length;I++){var x=w[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,w,I){return w&&A(E.prototype,w),I&&A(E,I),E}})(),c=function A(E,w,I){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,w);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:A(j,w,I)}else{if("value"in x)return x.value;var B=x.get;return B===void 0?void 0:B.call(I)}},h=s(4),d=s(27),p=_(d);function _(A){return A&&A.__esModule?A:{default:A}}function m(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function y(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function v(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var S=["height","width"],T=(function(A){v(E,A);function E(){return m(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return l(E,[{key:"format",value:function(I,x){S.indexOf(I)>-1?x?this.domNode.setAttribute(I,x):this.domNode.removeAttribute(I):c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,I,x)}}],[{key:"create",value:function(I){var x=c(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,I);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(I)),x}},{key:"formats",value:function(I){return S.reduce(function(x,j){return I.hasAttribute(j)&&(x[j]=I.getAttribute(j)),x},{})}},{key:"sanitize",value:function(I){return p.default.sanitize(I)}},{key:"value",value:function(I){return I.getAttribute("src")}}]),E})(h.BlockEmbed);T.blotName="video",T.className="ql-video",T.tagName="IFRAME",i.default=T}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var l=(function(){function I(x,j){for(var B=0;B<j.length;B++){var N=j[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,j,B){return j&&I(x.prototype,j),B&&I(x,B),x}})(),c=function I(x,j,B){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,j);if(N===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:I(O,j,B)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(B)}},h=s(35),d=v(h),p=s(5),_=v(p),m=s(9),y=v(m);function v(I){return I&&I.__esModule?I:{default:I}}function S(I,x){if(!(I instanceof x))throw new TypeError("Cannot call a class as a function")}function T(I,x){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:I}function A(I,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);I.prototype=Object.create(x&&x.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(I,x):I.__proto__=x)}var E=(function(I){A(x,I);function x(){return S(this,x),T(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,null,[{key:"create",value:function(B){var N=c(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,B);return typeof B=="string"&&(window.katex.render(B,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",B)),N}},{key:"value",value:function(B){return B.getAttribute("data-value")}}]),x})(d.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var w=(function(I){A(x,I),l(x,null,[{key:"register",value:function(){_.default.register(E,!0)}}]);function x(){S(this,x);var j=T(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return x})(y.default);i.FormulaBlot=E,i.default=w}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var l=(function(){function B(N,O){for(var P=0;P<O.length;P++){var D=O[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,O,P){return O&&B(N.prototype,O),P&&B(N,P),N}})(),c=function B(N,O,P){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,O);if(D===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:B(R,O,P)}else{if("value"in D)return D.value;var M=D.get;return M===void 0?void 0:M.call(P)}},h=s(0),d=T(h),p=s(5),_=T(p),m=s(9),y=T(m),v=s(13),S=T(v);function T(B){return B&&B.__esModule?B:{default:B}}function A(B,N){if(!(B instanceof N))throw new TypeError("Cannot call a class as a function")}function E(B,N){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:B}function w(B,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);B.prototype=Object.create(N&&N.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(B,N):B.__proto__=N)}var I=(function(B){w(N,B);function N(){return A(this,N),E(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return l(N,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),N})(S.default);I.className="ql-syntax";var x=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),j=(function(B){w(N,B),l(N,null,[{key:"register",value:function(){_.default.register(x,!0),_.default.register(I,!0)}}]);function N(O,P){A(this,N);var D=E(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,O,P));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var R=null;return D.quill.on(_.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(R),R=setTimeout(function(){D.highlight(),R=null},D.options.interval)}),D.highlight(),D}return l(N,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(_.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(I).forEach(function(R){R.highlight(P.options.highlight)}),this.quill.update(_.default.sources.SILENT),D!=null&&this.quill.setSelection(D,_.default.sources.SILENT)}}}]),N})(y.default);j.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(B){var N=window.hljs.highlightAuto(B);return N.value}})(),interval:1e3},i.CodeBlock=I,i.CodeToken=x,i.default=j}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var l=function N(O,P,D){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,P);if(R===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:N(M,P,D)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(D)}},c=(function(){function N(O,P){for(var D=0;D<P.length;D++){var R=P[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,P,D){return P&&N(O.prototype,P),D&&N(O,D),O}})(),h=s(3),d=A(h),p=s(8),_=A(p),m=s(43),y=A(m),v=s(15),S=s(41),T=A(S);function A(N){return N&&N.__esModule?N:{default:N}}function E(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function w(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function I(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=(function(N){I(O,N);function O(P,D){E(this,O),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=x);var R=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,D));return R.quill.container.classList.add("ql-bubble"),R}return c(O,[{key:"extendToolbar",value:function(D){this.tooltip=new B(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),T.default)}}]),O})(y.default);j.DEFAULTS=(0,d.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var B=(function(N){I(O,N);function O(P,D){E(this,O);var R=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,D));return R.quill.on(_.default.events.EDITOR_CHANGE,function(M,L,Y,W){if(M===_.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&W===_.default.sources.USER){R.show(),R.root.style.left="0px",R.root.style.width="",R.root.style.width=R.root.offsetWidth+"px";var Q=R.quill.getLines(L.index,L.length);if(Q.length===1)R.position(R.quill.getBounds(L));else{var Z=Q[Q.length-1],he=R.quill.getIndex(Z),ne=Math.min(Z.length()-1,L.index+L.length-he),X=R.quill.getBounds(new v.Range(he,ne));R.position(X)}}else document.activeElement!==R.textbox&&R.quill.hasFocus()&&R.hide()}),R}return c(O,[{key:"listen",value:function(){var D=this;l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(_.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var R=D.quill.getSelection();R!=null&&D.position(D.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var R=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,D),M=this.root.querySelector(".ql-tooltip-arrow");if(M.style.marginLeft="",R===0)return R;M.style.marginLeft=-1*R-M.offsetWidth/2+"px"}}]),O})(m.BaseTooltip);B.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=B,i.default=j}),(function(n,i,s){n.exports=s(63)})]).default})})(Nf)),Nf.exports}var Ar,ew;function cL(){if(ew)return Ar;ew=1;var a=Ar&&Ar.__extends||(function(){var _=function(m,y){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var T in S)S.hasOwnProperty(T)&&(v[T]=S[T])},_(m,y)};return function(m,y){_(m,y);function v(){this.constructor=m}m.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}})(),e=Ar&&Ar.__assign||function(){return e=Object.assign||function(_){for(var m,y=1,v=arguments.length;y<v;y++){m=arguments[y];for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(_[S]=m[S])}return _},e.apply(this,arguments)},n=Ar&&Ar.__spreadArrays||function(){for(var _=0,m=0,y=arguments.length;m<y;m++)_+=arguments[m].length;for(var v=Array(_),S=0,m=0;m<y;m++)for(var T=arguments[m],A=0,E=T.length;A<E;A++,S++)v[S]=T[A];return v},i=Ar&&Ar.__importDefault||function(_){return _&&_.__esModule?_:{default:_}},s=i(Qf()),l=i(nw()),c=i(oL()),h=i(uL()),d=(function(_){a(m,_);function m(y){var v=_.call(this,y)||this;v.dirtyProps=["modules","formats","bounds","theme","children"],v.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],v.state={generation:0},v.selection=null,v.onEditorChange=function(T,A,E,w){var I,x,j,B;T==="text-change"?(x=(I=v).onEditorChangeText)===null||x===void 0||x.call(I,v.editor.root.innerHTML,A,w,v.unprivilegedEditor):T==="selection-change"&&((B=(j=v).onEditorChangeSelection)===null||B===void 0||B.call(j,A,w,v.unprivilegedEditor))};var S=v.isControlled()?y.value:y.defaultValue;return v.value=S??"",v}return m.prototype.validateProps=function(y){var v;if(s.default.Children.count(y.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(s.default.Children.count(y.children)){var S=s.default.Children.only(y.children);if(((v=S)===null||v===void 0?void 0:v.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&y.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},m.prototype.shouldComponentUpdate=function(y,v){var S=this,T;if(this.validateProps(y),!this.editor||this.state.generation!==v.generation)return!0;if("value"in y){var A=this.getEditorContents(),E=(T=y.value,T??"");this.isEqualValue(E,A)||this.setEditorContents(this.editor,E)}return y.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,y.readOnly),n(this.cleanProps,this.dirtyProps).some(function(w){return!c.default(y[w],S.props[w])})},m.prototype.shouldComponentRegenerate=function(y){var v=this;return this.dirtyProps.some(function(S){return!c.default(y[S],v.props[S])})},m.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},m.prototype.componentWillUnmount=function(){this.destroyEditor()},m.prototype.componentDidUpdate=function(y,v){var S=this;if(this.editor&&this.shouldComponentRegenerate(y)){var T=this.editor.getContents(),A=this.editor.getSelection();this.regenerationSnapshot={delta:T,selection:A},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==v.generation){var E=this.regenerationSnapshot,T=E.delta,w=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var I=this.editor;I.setContents(T),p(function(){return S.setEditorSelection(I,w)})}},m.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},m.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},m.prototype.isControlled=function(){return"value"in this.props},m.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},m.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},m.prototype.createEditor=function(y,v){var S=new h.default(y,v);return v.tabIndex!=null&&this.setEditorTabIndex(S,v.tabIndex),this.hookEditor(S),S},m.prototype.hookEditor=function(y){this.unprivilegedEditor=this.makeUnprivilegedEditor(y),y.on("editor-change",this.onEditorChange)},m.prototype.unhookEditor=function(y){y.off("editor-change",this.onEditorChange)},m.prototype.getEditorContents=function(){return this.value},m.prototype.getEditorSelection=function(){return this.selection},m.prototype.isDelta=function(y){return y&&y.ops},m.prototype.isEqualValue=function(y,v){return this.isDelta(y)&&this.isDelta(v)?c.default(y.ops,v.ops):c.default(y,v)},m.prototype.setEditorContents=function(y,v){var S=this;this.value=v;var T=this.getEditorSelection();typeof v=="string"?y.setContents(y.clipboard.convert(v)):y.setContents(v),p(function(){return S.setEditorSelection(y,T)})},m.prototype.setEditorSelection=function(y,v){if(this.selection=v,v){var S=y.getLength();v.index=Math.max(0,Math.min(v.index,S-1)),v.length=Math.max(0,Math.min(v.length,S-1-v.index)),y.setSelection(v)}},m.prototype.setEditorTabIndex=function(y,v){var S,T;!((T=(S=y)===null||S===void 0?void 0:S.scroll)===null||T===void 0)&&T.domNode&&(y.scroll.domNode.tabIndex=v)},m.prototype.setEditorReadOnly=function(y,v){v?y.disable():y.enable()},m.prototype.makeUnprivilegedEditor=function(y){var v=y;return{getHTML:function(){return v.root.innerHTML},getLength:v.getLength.bind(v),getText:v.getText.bind(v),getContents:v.getContents.bind(v),getSelection:v.getSelection.bind(v),getBounds:v.getBounds.bind(v)}},m.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var y=l.default.findDOMNode(this.editingArea);if(!y)throw new Error("Cannot find element for editing area");if(y.nodeType===3)throw new Error("Editing area cannot be a text node");return y},m.prototype.renderEditingArea=function(){var y=this,v=this.props,S=v.children,T=v.preserveWhitespace,A=this.state.generation,E={key:A,ref:function(w){y.editingArea=w}};return s.default.Children.count(S)?s.default.cloneElement(s.default.Children.only(S),E):T?s.default.createElement("pre",e({},E)):s.default.createElement("div",e({},E))},m.prototype.render=function(){var y;return s.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(y=this.props.className,y??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},m.prototype.onEditorChangeText=function(y,v,S,T){var A,E;if(this.editor){var w=this.isDelta(this.value)?T.getContents():T.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=v,this.value=w,(E=(A=this.props).onChange)===null||E===void 0||E.call(A,y,v,S,T))}},m.prototype.onEditorChangeSelection=function(y,v,S){var T,A,E,w,I,x;if(this.editor){var j=this.getEditorSelection(),B=!j&&y,N=j&&!y;c.default(y,j)||(this.selection=y,(A=(T=this.props).onChangeSelection)===null||A===void 0||A.call(T,y,v,S),B?(w=(E=this.props).onFocus)===null||w===void 0||w.call(E,y,v,S):N&&((x=(I=this.props).onBlur)===null||x===void 0||x.call(I,j,v,S)))}},m.prototype.focus=function(){this.editor&&this.editor.focus()},m.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},m.displayName="React Quill",m.Quill=h.default,m.defaultProps={theme:"snow",modules:{},readOnly:!1},m})(s.default.Component);function p(_){Promise.resolve().then(_)}return Ar=d,Ar}var fL=cL();const hL=P2(fL),dL=()=>{const[a,e]=ae.useState([]),[n,i]=ae.useState(!0),[s,l]=ae.useState(!1),[c,h]=ae.useState({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""});ae.useEffect(()=>{d()},[]);const d=async()=>{i(!0);try{const m=xs(kn(St,"news"),Rs("timestamp","desc")),v=(await ai(m)).docs.map(S=>({id:S.id,...S.data()}));e(v)}catch(m){console.error("Error fetching news:",m)}finally{i(!1)}},p=async m=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await mh(ur(St,"news",m)),d()}catch(y){console.error("Error deleting news:",y),alert("Failed to delete news item.")}},_=async m=>{m.preventDefault();try{const y=c.affectedCurrencies.split(",").map(v=>v.trim().toUpperCase()).filter(v=>v);await ph(kn(St,"news"),{title:c.title,impact:c.impact,content:c.content,image:c.image,affectedCurrencies:y,timestamp:gh()}),l(!1),h({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}),d()}catch(y){console.error("Error adding news:",y),alert("Failed to add news item.")}};return k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between items-center mb-8",children:[k.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage News"}),k.jsx(Jt,{onClick:()=>l(!s),children:s?"Cancel":"Post New Alert"})]}),s&&k.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[k.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"New Market Update"}),k.jsxs("form",{onSubmit:_,className:"space-y-4",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),k.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.title,onChange:m=>h({...c,title:m.target.value}),placeholder:"e.g., NFP Beats Expectations"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"}),k.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.impact,onChange:m=>h({...c,impact:m.target.value}),children:[k.jsx("option",{value:"Low",children:"Low (Yellow)"}),k.jsx("option",{value:"Medium",children:"Medium (Orange)"}),k.jsx("option",{value:"High",children:"High (Red)"})]})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Content/Summary"}),k.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:k.jsx(hL,{theme:"snow",value:c.content,onChange:m=>h({...c,content:m}),className:"h-64 mb-12"})})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Optional)"}),k.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.image,onChange:m=>h({...c,image:m.target.value}),placeholder:"https://..."})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Affected Currencies (comma separated)"}),k.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.affectedCurrencies,onChange:m=>h({...c,affectedCurrencies:m.target.value}),placeholder:"USD, EUR, JPY"})]})]}),k.jsx("div",{className:"flex justify-end pt-4",children:k.jsx(Jt,{type:"submit",variant:"primary",children:"Publish News"})})]})]}),k.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[k.jsx("thead",{className:"bg-gray-900/50",children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),k.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),k.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Impact"}),k.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),k.jsx("tbody",{className:"divide-y divide-gray-800",children:n?k.jsx("tr",{children:k.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):a.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No news posted yet."})}):a.map(m=>k.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.timestamp?.seconds?new Date(m.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:m.title}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${m.impact==="High"?"bg-red-500/20 text-red-400":m.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:m.impact})}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:k.jsx("button",{onClick:()=>p(m.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})})]},m.id))})]})})})]})},mL=()=>{const[a,e]=ae.useState([]),[n,i]=ae.useState(!0),[s,l]=ae.useState(!1),[c,h]=ae.useState({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""});ae.useEffect(()=>{d()},[]);const d=async()=>{i(!0);try{const m=xs(kn(St,"analysis"),Rs("timestamp","desc")),v=(await ai(m)).docs.map(S=>({id:S.id,...S.data()}));e(v)}catch(m){console.error("Error fetching analysis:",m)}finally{i(!1)}},p=async m=>{if(window.confirm("Are you sure you want to delete this analysis?"))try{await mh(ur(St,"analysis",m)),d()}catch(y){console.error("Error deleting post:",y),alert("Failed to delete post.")}},_=async m=>{m.preventDefault();try{await ph(kn(St,"analysis"),{...c,timestamp:gh()}),l(!1),h({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""}),d()}catch(y){console.error("Error adding post:",y),alert("Failed to add analysis.")}};return k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between items-center mb-8",children:[k.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Analysis"}),k.jsx(Jt,{onClick:()=>l(!s),children:s?"Cancel":"New Analysis"})]}),s&&k.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[k.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Post Technical Breakdown"}),k.jsxs("form",{onSubmit:_,className:"space-y-4",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Pair / Asset"}),k.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none uppercase",value:c.pair,onChange:m=>h({...c,pair:m.target.value}),placeholder:"e.g. GBP/JPY"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Direction"}),k.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.direction,onChange:m=>h({...c,direction:m.target.value}),children:[k.jsx("option",{value:"Neutral",children:"Neutral (Gray)"}),k.jsx("option",{value:"Bullish",children:"Bullish (Green)"}),k.jsx("option",{value:"Bearish",children:"Bearish (Red)"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Chart)"}),k.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.image,onChange:m=>h({...c,image:m.target.value}),placeholder:"https://..."})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),k.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.title,onChange:m=>h({...c,title:m.target.value}),placeholder:"e.g. Double Top formation on 4H"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Content"}),k.jsx("textarea",{required:!0,rows:5,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.content,onChange:m=>h({...c,content:m.target.value}),placeholder:"Detailed technical analysis..."})]}),k.jsx("div",{className:"flex justify-end pt-4",children:k.jsx(Jt,{type:"submit",variant:"primary",children:"Post Analysis"})})]})]}),k.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[k.jsx("thead",{className:"bg-gray-900/50",children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),k.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pair"}),k.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Direction"}),k.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),k.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),k.jsx("tbody",{className:"divide-y divide-gray-800",children:n?k.jsx("tr",{children:k.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):a.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"No analysis posted yet."})}):a.map(m=>k.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.timestamp?.seconds?new Date(m.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-bold",children:m.pair}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${m.direction==="Bullish"?"bg-green-500/20 text-green-400":m.direction==="Bearish"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-300"}`,children:m.direction})}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white max-w-xs truncate",children:m.title}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:k.jsx("button",{onClick:()=>p(m.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})})]},m.id))})]})})})]})},pL=()=>{const[a,e]=ae.useState([]),[n,i]=ae.useState(null),[s,l]=ae.useState(!0),[c,h]=ae.useState(!1),[d,p]=ae.useState({title:"",description:"",image:"",level:"Beginner"});ae.useEffect(()=>{_()},[]);const _=async()=>{l(!0);try{const v=xs(kn(St,"courses"),Rs("order","asc")),T=(await ai(v)).docs.map(A=>({id:A.id,...A.data()}));e(T)}catch(v){console.error("Error fetching courses:",v);const S=await ai(kn(St,"courses"));e(S.docs.map(T=>({id:T.id,...T.data()})))}finally{l(!1)}},m=async v=>{v.preventDefault();try{await ph(kn(St,"courses"),{...d,order:a.length+1,createdAt:gh()}),h(!1),p({title:"",description:"",image:"",level:"Beginner"}),_()}catch(S){console.error("Error adding course:",S),alert("Failed to add course")}},y=async v=>{if(window.confirm("Delete this course? All lessons inside it might become orphaned."))try{await mh(ur(St,"courses",v)),_(),n?.id===v&&i(null)}catch(S){console.error("Error deleting course:",S),alert("Delete failed")}};return n?k.jsx(gL,{course:n,onBack:()=>i(null)}):k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between items-center mb-8",children:[k.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Courses"}),k.jsx(Jt,{onClick:()=>h(!c),children:c?"Cancel":"New Course"})]}),c&&k.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[k.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create New Course"}),k.jsxs("form",{onSubmit:m,className:"space-y-4",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Course Title"}),k.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:d.title,onChange:v=>p({...d,title:v.target.value})})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Level"}),k.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:d.level,onChange:v=>p({...d,level:v.target.value}),children:[k.jsx("option",{children:"Beginner"}),k.jsx("option",{children:"Intermediate"}),k.jsx("option",{children:"Advanced"})]})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),k.jsx("textarea",{required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:d.description,onChange:v=>p({...d,description:v.target.value})})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),k.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:d.image,onChange:v=>p({...d,image:v.target.value})})]}),k.jsx("div",{className:"flex justify-end",children:k.jsx(Jt,{type:"submit",variant:"primary",children:"Create Course"})})]})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?k.jsx("div",{className:"text-gray-400",children:"Loading courses..."}):a.map(v=>k.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group hover:border-gray-600 transition-all",children:[k.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[v.image&&k.jsx("img",{src:v.image,alt:v.title,className:"w-full h-full object-cover"}),k.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:k.jsx("button",{onClick:S=>{S.stopPropagation(),y(v.id)},className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:k.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),k.jsxs("div",{className:"p-5",children:[k.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:v.title}),k.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:v.description}),k.jsx(Jt,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i(v),children:"Manage Lessons"})]})]},v.id))})]})},gL=({course:a,onBack:e})=>{const[n,i]=ae.useState([]),[s,l]=ae.useState(!1),[c,h]=ae.useState({title:"",videoUrl:"",content:"",duration:"10 min"}),[d,p]=ae.useState(!0);ae.useEffect(()=>{_()},[a]);const _=async()=>{p(!0);try{const v=xs(kn(St,"courses",a.id,"lessons"),Rs("order","asc")),S=await ai(v);i(S.docs.map(T=>({id:T.id,...T.data()})))}catch(v){console.error("Error fetching lessons:",v);const S=await ai(kn(St,"courses",a.id,"lessons"));i(S.docs.map(T=>({id:T.id,...T.data()})))}finally{p(!1)}},m=async v=>{v.preventDefault();try{await ph(kn(St,"courses",a.id,"lessons"),{...c,order:n.length+1,createdAt:gh()}),l(!1),h({title:"",videoUrl:"",content:"",duration:"10 min"}),_()}catch(S){console.error("Error adding lesson:",S),alert("Failed to add lesson")}},y=async v=>{if(window.confirm("Delete this lesson?"))try{await mh(ur(St,"courses",a.id,"lessons",v)),_()}catch(S){console.error("Error deleting lesson:",S)}};return k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[k.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white flex items-center gap-1",children:[k.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),k.jsxs("h1",{className:"text-2xl font-bold text-white",children:[k.jsx("span",{className:"text-gray-500 font-normal",children:"Edit Course:"})," ",a.title]})]}),k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("h2",{className:"text-xl font-bold text-white",children:["Lessons (",n.length,")"]}),k.jsx(Jt,{onClick:()=>l(!s),variant:"secondary",children:s?"Cancel":"Add Lesson"})]}),s&&k.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:k.jsxs("form",{onSubmit:m,className:"space-y-4",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Title"}),k.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.title,onChange:v=>h({...c,title:v.target.value})})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),k.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.duration,onChange:v=>h({...c,duration:v.target.value}),placeholder:"e.g. 15 min"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Video Embed URL (YouTube/Vimeo)"}),k.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.videoUrl,onChange:v=>h({...c,videoUrl:v.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Content / Notes"}),k.jsx("textarea",{rows:4,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.content,onChange:v=>h({...c,content:v.target.value})})]}),k.jsx("div",{className:"flex justify-end",children:k.jsx(Jt,{type:"submit",variant:"primary",children:"Save Lesson"})})]})}),k.jsxs("div",{className:"space-y-3",children:[d?k.jsx("div",{className:"text-gray-400",children:"Loading lessons..."}):n.map((v,S)=>k.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-gray-800 flex justify-between items-center group hover:border-gray-600",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-gray-400 font-bold text-sm",children:S+1}),k.jsxs("div",{children:[k.jsx("h3",{className:"font-medium text-white",children:v.title}),k.jsx("div",{className:"text-xs text-gray-500",children:v.duration})]})]}),k.jsx("div",{className:"flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:k.jsx("button",{onClick:()=>y(v.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})})]},v.id)),n.length===0&&!d&&k.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:"No lessons yet. Start teaching!"})]})]})},yL=()=>{const{courseId:a}=cw(),e=ka(),[n,i]=ae.useState(null),[s,l]=ae.useState([]),[c,h]=ae.useState(null),[d,p]=ae.useState(!0),[_,m]=ae.useState(!0);return ae.useEffect(()=>{(async()=>{try{p(!0);const v=await Du(ur(St,"courses",a));if(!v.exists()){alert("Course not found"),e("/dashboard");return}i({id:v.id,...v.data()});const S=xs(kn(St,"courses",a,"lessons"),Rs("order","asc")),T=await ai(S);let A=[];T.empty?A=(await ai(kn(St,"courses",a,"lessons"))).docs.map(w=>({id:w.id,...w.data()})):A=T.docs.map(E=>({id:E.id,...E.data()})),l(A),A.length>0&&h(A[0])}catch(v){console.error("Error loading course:",v)}finally{p(!1)}})()},[a,e]),d?k.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):n?k.jsxs("div",{className:"flex h-screen bg-background overflow-hidden animate-fade-in",children:[k.jsxs("div",{className:`${_?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[k.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[k.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:n.title}),k.jsx("button",{onClick:()=>m(!1),className:"md:hidden text-gray-400",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.map((y,v)=>k.jsxs("div",{onClick:()=>h(y),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${c?.id===y.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[k.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:v+1}),k.jsxs("div",{children:[k.jsx("h4",{className:`text-sm font-medium ${c?.id===y.id?"text-primary":"text-gray-300"}`,children:y.title}),k.jsx("span",{className:"text-xs text-gray-500",children:y.duration||"10 min"})]})]},y.id)),s.length===0&&k.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),k.jsx("div",{className:"p-4 border-t border-gray-800",children:k.jsx(hn,{to:"/dashboard",children:k.jsx(Jt,{variant:"outline",size:"sm",className:"w-full",children:"Back to Dashboard"})})})]}),k.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[k.jsx("div",{className:"absolute top-4 left-4 z-10",children:k.jsx("button",{onClick:()=>m(!_),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:_?k.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):k.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),c?k.jsxs("div",{className:"flex-1 overflow-y-auto",children:[k.jsx("div",{className:"bg-black aspect-video w-full max-h-[70vh] flex items-center justify-center",children:c.videoUrl?k.jsx("iframe",{src:c.videoUrl,title:c.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):k.jsxs("div",{className:"text-gray-500 text-center",children:[k.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),k.jsx("p",{children:"No video content for this lesson."})]})}),k.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[k.jsx("div",{className:"flex justify-between items-start mb-6",children:k.jsx("h1",{className:"text-2xl font-bold text-white",children:c.title})}),k.jsx("div",{className:"prose prose-invert max-w-none",children:k.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:c.content})})]})]}):k.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a lesson from the sidebar to start."})]})]}):null},tw=({children:a,adminOnly:e=!1})=>{const[n,i]=ae.useState(null),[s,l]=ae.useState(!0);return ae.useEffect(()=>{const c=tA(or,h=>{i(h),l(!1)});return()=>c()},[]),s?k.jsx("div",{className:"text-center p-10 pt-32 text-white",children:"Loading..."}):n?a:k.jsx(VR,{to:"/login",replace:!0})};function vL(){return k.jsx(cN,{children:k.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[k.jsx(D3,{}),k.jsx("main",{className:"flex-grow",children:k.jsxs(BR,{children:[k.jsx(In,{path:"/",element:k.jsx(j3,{})}),k.jsx(In,{path:"/analysis",element:k.jsx(V3,{})}),k.jsx(In,{path:"/news",element:k.jsx(U3,{})}),k.jsx(In,{path:"/news/:id",element:k.jsx(B3,{})}),k.jsx(In,{path:"/login",element:k.jsx(z3,{})}),k.jsx(In,{path:"/register",element:k.jsx(H3,{})}),k.jsx(In,{path:"/dashboard",element:k.jsx(tw,{children:k.jsx(G3,{})})}),k.jsx(In,{path:"/dashboard/course/:courseId",element:k.jsx(tw,{children:k.jsx(yL,{})})}),k.jsxs(In,{path:"/admin",element:k.jsx(K3,{}),children:[k.jsx(In,{index:!0,element:k.jsx(Y3,{})}),k.jsx(In,{path:"news",element:k.jsx(dL,{})}),k.jsx(In,{path:"analysis",element:k.jsx(mL,{})}),k.jsx(In,{path:"courses",element:k.jsx(pL,{})})]})]})}),k.jsx(k3,{})]})})}G2.createRoot(document.getElementById("root")).render(k.jsx(ae.StrictMode,{children:k.jsx(vL,{})}));
