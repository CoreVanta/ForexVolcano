import{r as o,h as f,j as e,B as j,e as m,d as u,b as v,a as N,s as w}from"./index-Do7GzjIo.js";const S=()=>{const[g,x]=o.useState(!0),[b,i]=o.useState(!1),[d,h]=o.useState(null),[t,r]=o.useState({analystName:"",analystImage:"",analystBio:"",twitter:"",linkedin:"",telegram:""});o.useEffect(()=>{const a=f(N,async l=>{if(l){h(l);try{const n=m(u,"users",l.uid),c=await v(n);if(c.exists()){const s=c.data();r(y=>({...y,analystName:s.analystName||"",analystImage:s.analystImage||"",analystBio:s.analystBio||"",twitter:s.twitter||"",linkedin:s.linkedin||"",telegram:s.telegram||""}))}}catch(n){console.error("Error fetching profile:",n)}}x(!1)});return()=>a()},[]);const p=async a=>{if(a.preventDefault(),!!d){i(!0);try{await w(m(u,"users",d.uid),t,{merge:!0}),alert("Profile updated successfully!")}catch(l){console.error("Error saving profile:",l),alert("Failed to save profile.")}finally{i(!1)}}};return g?e.jsx("div",{className:"text-white",children:"Loading Profile..."}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Analyst Profile Settings"}),e.jsx("div",{className:"bg-surface p-8 rounded-xl border border-gray-800",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Personal Details"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analyst Name"}),e.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:t.analystName,onChange:a=>r({...t,analystName:a.target.value}),placeholder:"e.g. John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Profile Image URL"}),e.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:t.analystImage,onChange:a=>r({...t,analystImage:a.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Bio"}),e.jsx("textarea",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none h-32 resize-none",value:t.analystBio,onChange:a=>r({...t,analystBio:a.target.value}),placeholder:"Tell us about yourself..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-6",children:[e.jsx("div",{className:"md:col-span-3",children:e.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Social Connections"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Twitter (X) URL"}),e.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:t.twitter,onChange:a=>r({...t,twitter:a.target.value}),placeholder:"https://twitter.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"LinkedIn URL"}),e.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:t.linkedin,onChange:a=>r({...t,linkedin:a.target.value}),placeholder:"https://linkedin.com/in/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telegram URL"}),e.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:t.telegram,onChange:a=>r({...t,telegram:a.target.value}),placeholder:"https://t.me/..."})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-800",children:e.jsx(j,{type:"submit",variant:"primary",contentClassName:"px-8",children:b?"Saving...":"Save Profile"})})]})})]})};export{S as default};
