var oC=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var GP=oC((ns,rs)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $y(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vg={exports:{}},Eu={};var M_;function lC(){if(M_)return Eu;M_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Eu.Fragment=e,Eu.jsx=t,Eu.jsxs=t,Eu}var P_;function cC(){return P_||(P_=1,vg.exports=lC()),vg.exports}var y=cC(),bg={exports:{}},ze={};var V_;function uC(){if(V_)return ze;V_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),x=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,O={};function z(V,Y,ue){this.props=V,this.context=Y,this.refs=O,this.updater=ue||I}z.prototype.isReactComponent={},z.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=z.prototype;function W(V,Y,ue){this.props=V,this.context=Y,this.refs=O,this.updater=ue||I}var ye=W.prototype=new H;ye.constructor=W,j(ye,z.prototype),ye.isPureReactComponent=!0;var ve=Array.isArray;function Ee(){}var M={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function P(V,Y,ue){var fe=ue.ref;return{$$typeof:n,type:V,key:Y,ref:fe!==void 0?fe:null,props:ue}}function G(V,Y){return P(V.type,Y,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return Y[ue]})}var N=/\/+/g;function me(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ee,Ee):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,Y,ue,fe,pe){var we=typeof V;(we==="undefined"||we==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(we){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case n:case e:De=!0;break;case v:return De=V._init,B(De(V._payload),Y,ue,fe,pe)}}if(De)return pe=pe(V),De=fe===""?"."+me(V,0):fe,ve(pe)?(ue="",De!=null&&(ue=De.replace(N,"$&/")+"/"),B(pe,Y,ue,"",function(Qe){return Qe})):pe!=null&&(A(pe)&&(pe=G(pe,ue+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(N,"$&/")+"/")+De)),Y.push(pe)),1;De=0;var Ie=fe===""?".":fe+":";if(ve(V))for(var Le=0;Le<V.length;Le++)fe=V[Le],we=Ie+me(fe,Le),De+=B(fe,Y,ue,we,pe);else if(Le=S(V),typeof Le=="function")for(V=Le.call(V),Le=0;!(fe=V.next()).done;)fe=fe.value,we=Ie+me(fe,Le++),De+=B(fe,Y,ue,we,pe);else if(we==="object"){if(typeof V.then=="function")return B(de(V),Y,ue,fe,pe);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function J(V,Y,ue){if(V==null)return V;var fe=[],pe=0;return B(V,fe,"","",function(we){return Y.call(ue,we,pe++)}),fe}function le(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var be=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ge={map:J,forEach:function(V,Y,ue){J(V,function(){Y.apply(this,arguments)},ue)},count:function(V){var Y=0;return J(V,function(){Y++}),Y},toArray:function(V){return J(V,function(Y){return Y})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ze.Activity=E,ze.Children=ge,ze.Component=z,ze.Fragment=t,ze.Profiler=a,ze.PureComponent=W,ze.StrictMode=r,ze.Suspense=m,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ze.__COMPILER_RUNTIME={__proto__:null,c:function(V){return M.H.useMemoCache(V)}},ze.cache=function(V){return function(){return V.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(V,Y,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=j({},V.props),pe=V.key;if(Y!=null)for(we in Y.key!==void 0&&(pe=""+Y.key),Y)!k.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(fe[we]=Y[we]);var we=arguments.length-2;if(we===1)fe.children=ue;else if(1<we){for(var De=Array(we),Ie=0;Ie<we;Ie++)De[Ie]=arguments[Ie+2];fe.children=De}return P(V.type,pe,fe)},ze.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ze.createElement=function(V,Y,ue){var fe,pe={},we=null;if(Y!=null)for(fe in Y.key!==void 0&&(we=""+Y.key),Y)k.call(Y,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=Y[fe]);var De=arguments.length-2;if(De===1)pe.children=ue;else if(1<De){for(var Ie=Array(De),Le=0;Le<De;Le++)Ie[Le]=arguments[Le+2];pe.children=Ie}if(V&&V.defaultProps)for(fe in De=V.defaultProps,De)pe[fe]===void 0&&(pe[fe]=De[fe]);return P(V,we,pe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(V){return{$$typeof:f,render:V}},ze.isValidElement=A,ze.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:le}},ze.memo=function(V,Y){return{$$typeof:p,type:V,compare:Y===void 0?null:Y}},ze.startTransition=function(V){var Y=M.T,ue={};M.T=ue;try{var fe=V(),pe=M.S;pe!==null&&pe(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Ee,be)}catch(we){be(we)}finally{Y!==null&&ue.types!==null&&(Y.types=ue.types),M.T=Y}},ze.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ze.use=function(V){return M.H.use(V)},ze.useActionState=function(V,Y,ue){return M.H.useActionState(V,Y,ue)},ze.useCallback=function(V,Y){return M.H.useCallback(V,Y)},ze.useContext=function(V){return M.H.useContext(V)},ze.useDebugValue=function(){},ze.useDeferredValue=function(V,Y){return M.H.useDeferredValue(V,Y)},ze.useEffect=function(V,Y){return M.H.useEffect(V,Y)},ze.useEffectEvent=function(V){return M.H.useEffectEvent(V)},ze.useId=function(){return M.H.useId()},ze.useImperativeHandle=function(V,Y,ue){return M.H.useImperativeHandle(V,Y,ue)},ze.useInsertionEffect=function(V,Y){return M.H.useInsertionEffect(V,Y)},ze.useLayoutEffect=function(V,Y){return M.H.useLayoutEffect(V,Y)},ze.useMemo=function(V,Y){return M.H.useMemo(V,Y)},ze.useOptimistic=function(V,Y){return M.H.useOptimistic(V,Y)},ze.useReducer=function(V,Y,ue){return M.H.useReducer(V,Y,ue)},ze.useRef=function(V){return M.H.useRef(V)},ze.useState=function(V){return M.H.useState(V)},ze.useSyncExternalStore=function(V,Y,ue){return M.H.useSyncExternalStore(V,Y,ue)},ze.useTransition=function(){return M.H.useTransition()},ze.version="19.2.1",ze}var U_;function Ky(){return U_||(U_=1,bg.exports=uC()),bg.exports}var F=Ky();const vi=$y(F);var _g={exports:{}},xu={},Eg={exports:{}},xg={};var q_;function hC(){return q_||(q_=1,(function(n){function e(B,J){var le=B.length;B.push(J);e:for(;0<le;){var be=le-1>>>1,ge=B[be];if(0<a(ge,J))B[be]=J,B[le]=ge,le=be;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],le=B.pop();if(le!==J){B[0]=le;e:for(var be=0,ge=B.length,V=ge>>>1;be<V;){var Y=2*(be+1)-1,ue=B[Y],fe=Y+1,pe=B[fe];if(0>a(ue,le))fe<ge&&0>a(pe,ue)?(B[be]=pe,B[fe]=le,be=fe):(B[be]=ue,B[Y]=le,be=Y);else if(fe<ge&&0>a(pe,le))B[be]=pe,B[fe]=le,be=fe;else break e}}return J}function a(B,J){var le=B.sortIndex-J.sortIndex;return le!==0?le:B.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,E=null,x=3,S=!1,I=!1,j=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ye(B){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=B)r(p),J.sortIndex=J.expirationTime,e(m,J);else break;J=t(p)}}function ve(B){if(j=!1,ye(B),!I)if(t(m)!==null)I=!0,Ee||(Ee=!0,L());else{var J=t(p);J!==null&&de(ve,J.startTime-B)}}var Ee=!1,M=-1,k=5,P=-1;function G(){return O?!0:!(n.unstable_now()-P<k)}function A(){if(O=!1,Ee){var B=n.unstable_now();P=B;var J=!0;try{e:{I=!1,j&&(j=!1,H(M),M=-1),S=!0;var le=x;try{t:{for(ye(B),E=t(m);E!==null&&!(E.expirationTime>B&&G());){var be=E.callback;if(typeof be=="function"){E.callback=null,x=E.priorityLevel;var ge=be(E.expirationTime<=B);if(B=n.unstable_now(),typeof ge=="function"){E.callback=ge,ye(B),J=!0;break t}E===t(m)&&r(m),ye(B)}else r(m);E=t(m)}if(E!==null)J=!0;else{var V=t(p);V!==null&&de(ve,V.startTime-B),J=!1}}break e}finally{E=null,x=le,S=!1}J=void 0}}finally{J?L():Ee=!1}}}var L;if(typeof W=="function")L=function(){W(A)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,me=N.port2;N.port1.onmessage=A,L=function(){me.postMessage(null)}}else L=function(){z(A,0)};function de(B,J){M=z(function(){B(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(B){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var le=x;x=J;try{return B()}finally{x=le}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=x;x=B;try{return J()}finally{x=le}},n.unstable_scheduleCallback=function(B,J,le){var be=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?be+le:be):le=be,B){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=le+ge,B={id:v++,callback:J,priorityLevel:B,startTime:le,expirationTime:ge,sortIndex:-1},le>be?(B.sortIndex=le,e(p,B),t(m)===null&&B===t(p)&&(j?(H(M),M=-1):j=!0,de(ve,le-be))):(B.sortIndex=ge,e(m,B),I||S||(I=!0,Ee||(Ee=!0,L()))),B},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(B){var J=x;return function(){var le=x;x=J;try{return B.apply(this,arguments)}finally{x=le}}}})(xg)),xg}var B_;function fC(){return B_||(B_=1,Eg.exports=hC()),Eg.exports}var Tg={exports:{}},rr={};var z_;function dC(){if(z_)return rr;z_=1;var n=Ky();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rr.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},rr.flushSync=function(m){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=v,r.d.f()}},rr.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},rr.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},rr.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:S}):v==="script"&&r.d.X(m,{crossOrigin:E,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rr.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},rr.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rr.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},rr.requestFormReset=function(m){r.d.r(m)},rr.unstable_batchedUpdates=function(m,p){return m(p)},rr.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},rr.useFormStatus=function(){return u.H.useHostTransitionStatus()},rr.version="19.2.1",rr}var H_;function mC(){if(H_)return Tg.exports;H_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=dC(),Tg.exports}var F_;function pC(){if(F_)return xu;F_=1;var n=fC(),e=Ky(),t=mC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function f(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(r(188))}function p(s){var i=s.alternate;if(!i){if(i=l(s),i===null)throw Error(r(188));return i!==s?null:s}for(var o=s,c=i;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),s;if(g===c)return m(d),i;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,C=d.child;C;){if(C===o){T=!0,o=d,c=g;break}if(C===c){T=!0,c=d,o=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===o){T=!0,o=g,c=d;break}if(C===c){T=!0,c=g,o=d;break}C=C.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var E=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=A&&s[A]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function me(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case z:return"Profiler";case O:return"StrictMode";case ve:return"Suspense";case Ee:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case W:return s.displayName||"Context";case H:return(s._context.displayName||"Context")+".Consumer";case ye:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return i=s.displayName||null,i!==null?i:me(s.type)||"Memo";case k:i=s._payload,s=s._init;try{return me(s(i))}catch{}}return null}var de=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},be=[],ge=-1;function V(s){return{current:s}}function Y(s){0>ge||(s.current=be[ge],be[ge]=null,ge--)}function ue(s,i){ge++,be[ge]=s.current,s.current=i}var fe=V(null),pe=V(null),we=V(null),De=V(null);function Ie(s,i){switch(ue(we,i),ue(pe,s),ue(fe,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?i_(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=i_(i),s=a_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(fe),ue(fe,s)}function Le(){Y(fe),Y(pe),Y(we)}function Qe(s){s.memoizedState!==null&&ue(De,s);var i=fe.current,o=a_(i,s.type);i!==o&&(ue(pe,s),ue(fe,o))}function We(s){pe.current===s&&(Y(fe),Y(pe)),De.current===s&&(Y(De),yu._currentValue=le)}var tt,ot;function dt(s){if(tt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);tt=i&&i[1]||"",ot=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+s+ot}var Wt=!1;function Pr(s,i){if(!s||Wt)return"";Wt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var ee=re}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(re){ee=re}s.call(ce.prototype)}}else{try{throw Error()}catch(re){ee=re}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var q=T.split(`
`),Z=C.split(`
`);for(d=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;if(c===q.length||d===Z.length)for(c=q.length-1,d=Z.length-1;1<=c&&0<=d&&q[c]!==Z[d];)d--;for(;1<=c&&0<=d;c--,d--)if(q[c]!==Z[d]){if(c!==1||d!==1)do if(c--,d--,0>d||q[c]!==Z[d]){var se=`
`+q[c].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=c&&0<=d);break}}}finally{Wt=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?dt(o):""}function si(s,i){switch(s.tag){case 26:case 27:case 5:return dt(s.type);case 16:return dt("Lazy");case 13:return s.child!==i&&i!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Pr(s.type,!1);case 11:return Pr(s.type.render,!1);case 1:return Pr(s.type,!0);case 31:return dt("Activity");default:return""}}function ki(s){try{var i="",o=null;do i+=si(s,o),o=s,s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ut=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,_r=n.unstable_cancelCallback,Ra=n.unstable_shouldYield,ji=n.unstable_requestPaint,Nt=n.unstable_now,Er=n.unstable_getCurrentPriorityLevel,Mi=n.unstable_ImmediatePriority,Vr=n.unstable_UserBlockingPriority,cr=n.unstable_NormalPriority,Pi=n.unstable_LowPriority,Ln=n.unstable_IdlePriority,Vi=n.log,Ui=n.unstable_setDisableYieldValue,ur=null,Qt=null;function xn(s){if(typeof Vi=="function"&&Ui(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ur,s)}catch{}}var Ct=Math.clz32?Math.clz32:Xn,js=Math.log,xr=Math.LN2;function Xn(s){return s>>>=0,s===0?32:31-(js(s)/xr|0)|0}var kn=256,Ur=262144,_t=4194304;function Wn(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Cn(s,i,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?d=Wn(c):(T&=C,T!==0?d=Wn(T):o||(o=C&~s,o!==0&&(d=Wn(o))))):(C=c&~g,C!==0?d=Wn(C):T!==0?d=Wn(T):o||(o=c&~s,o!==0&&(d=Wn(o)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:d}function jn(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function qi(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(){var s=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),s}function Tn(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function os(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function qr(s,i,o,c,d,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var C=s.entanglements,q=s.expirationTimes,Z=s.hiddenUpdates;for(o=T&~o;0<o;){var se=31-Ct(o),ce=1<<se;C[se]=0,q[se]=-1;var ee=Z[se];if(ee!==null)for(Z[se]=null,se=0;se<ee.length;se++){var re=ee[se];re!==null&&(re.lane&=-536870913)}o&=~ce}c!==0&&Ms(s,c,0),g!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~i))}function Ms(s,i,o){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-Ct(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function Bi(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var c=31-Ct(o),d=1<<c;d&i|s[c]&i&&(s[c]|=i),o&=~d}}function zi(s,i){var o=i&-i;return o=(o&42)!==0?1:ls(o),(o&(s.suspendedLanes|i))!==0?0:o}function ls(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function hr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zt(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:R_(s.type))}function fr(s,i){var o=J.p;try{return J.p=s,i()}finally{J.p=o}}var dr=Math.random().toString(36).slice(2),qt="__reactFiber$"+dr,Jt="__reactProps$"+dr,Tr="__reactContainer$"+dr,Yt="__reactEvents$"+dr,Mo="__reactListeners$"+dr,Ia="__reactHandles$"+dr,Oa="__reactResources$"+dr,wr="__reactMarker$"+dr;function ai(s){delete s[qt],delete s[Jt],delete s[Yt],delete s[Mo],delete s[Ia]}function Ot(s){var i=s[qt];if(i)return i;for(var o=s.parentNode;o;){if(i=o[Tr]||o[qt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=d_(s);s!==null;){if(o=s[qt])return o;s=d_(s)}return i}s=o,o=s.parentNode}return null}function Zn(s){if(s=s[qt]||s[Tr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Mn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Ar(s){var i=s[Oa];return i||(i=s[Oa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Bt(s){s[wr]=!0}var Hi=new Set,cs={};function mr(s,i){Pn(s,i),Pn(s+"Capture",i)}function Pn(s,i){for(cs[s]=i,s=0;s<i.length;s++)Hi.add(i[s])}var Jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ps={},Fi={};function Da(s){return Ut.call(Fi,s)?!0:Ut.call(Ps,s)?!1:Jn.test(s)?Fi[s]=!0:(Ps[s]=!0,!1)}function oi(s,i,o){if(Da(i))if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+o)}}function Vn(s,i,o){if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+o)}}function zt(s,i,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(i,o,""+c)}}function Dt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Sr(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Br(s,i,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function ct(s){if(!s._valueTracker){var i=Sr(s)?"checked":"value";s._valueTracker=Br(s,i,""+s[i])}}function us(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return s&&(c=Sr(s)?s.checked?"true":"false":s.value),s=c,s!==o?(i.setValue(s),!0):!1}function Nr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Vs=/[\n"\\]/g;function Rn(s){return s.replace(Vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function li(s,i,o,c,d,g,T,C){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),i!=null?T==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dt(i)):s.value!==""+Dt(i)&&(s.value=""+Dt(i)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),i!=null?Gi(s,T,Dt(i)):o!=null?Gi(s,T,Dt(o)):c!=null&&s.removeAttribute("value"),d==null&&g!=null&&(s.defaultChecked=!!g),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Dt(C):s.removeAttribute("name")}function ci(s,i,o,c,d,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){ct(s);return}o=o!=null?""+Dt(o):"",i=i!=null?""+Dt(i):o,C||i===s.value||(s.value=i),s.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=C?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),ct(s)}function Gi(s,i,o){i==="number"&&Nr(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function hs(s,i,o,c){if(s=s.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=i.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Dt(o),i=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,c&&(s[d].defaultSelected=!0);return}i!==null||s[d].disabled||(i=s[d])}i!==null&&(i.selected=!0)}}function fs(s,i,o){if(i!=null&&(i=""+Dt(i),i!==s.value&&(s.value=i),o==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=o!=null?""+Dt(o):""}function mn(s,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(de(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Dt(i),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),ct(s)}function Ht(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $i(s,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,o):typeof o!="number"||o===0||Cr.has(i)?i==="float"?s.cssFloat=o:s[i]=(""+o).trim():s[i]=o+"px"}function er(s,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&$i(s,d,c)}else for(var g in i)i.hasOwnProperty(g)&&$i(s,g,i[g])}function ui(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(s){return ds.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function tr(){}var on=null;function Un(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zr=null,qn=null;function Hr(s){var i=Zn(s);if(i&&(s=i.stateNode)){var o=s[Jt]||null;e:switch(s=i.stateNode,i.type){case"input":if(li(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==s&&c.form===s.form){var d=c[Jt]||null;if(!d)throw Error(r(90));li(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===s.form&&us(c)}break e;case"textarea":fs(s,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&hs(s,!!o.multiple,i,!1)}}}var Fr=!1;function ms(s,i,o){if(Fr)return s(i,o);Fr=!0;try{var c=s(i);return c}finally{if(Fr=!1,(zr!==null||qn!==null)&&(vf(),zr&&(i=zr,s=qn,qn=zr=null,Hr(i),s)))for(i=0;i<s.length;i++)Hr(s[i])}}function nr(s,i){var o=s.stateNode;if(o===null)return null;var c=o[Jt]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(In)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{ps=!1}var pr=null,Us=null,qs=null;function Ki(){if(qs)return qs;var s,i=Us,o=i.length,c,d="value"in pr?pr.value:pr.textContent,g=d.length;for(s=0;s<o&&i[s]===d[s];s++);var T=o-s;for(c=1;c<=T&&i[o-c]===d[g-c];c++);return qs=d.slice(s,1<c?1-c:void 0)}function _(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function R(){return!0}function U(){return!1}function te(s){function i(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(o=s[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?R:U,this.isPropagationStopped=U,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=R)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=R)},persist:function(){},isPersistent:R}),i}var Me={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ae=te(Me),$e=E({},Me,{view:0,detail:0}),Xe=te($e),yt,Ze,wt,ln=E({},$e,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wt&&(wt&&s.type==="mousemove"?(yt=s.screenX-wt.screenX,Ze=s.screenY-wt.screenY):Ze=yt=0,wt=s),yt)},movementY:function(s){return"movementY"in s?s.movementY:Ze}}),Lt=te(ln),Ft=E({},ln,{dataTransfer:0}),en=te(Ft),Gr=E({},$e,{relatedTarget:0}),Bn=te(Gr),$r=E({},Me,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=te($r),Bs=E({},Me,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qi=te(Bs),Rh=E({},Me,{data:0}),fi=te(Rh),Ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Dh[s])?!!i[s]:!1}function ka(){return Lh}var gr=E({},$e,{key:function(s){if(s.key){var i=Ih[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=_(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Oh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(s){return s.type==="keypress"?_(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),kh=te(gr),jh=E({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=te(jh),h=E({},$e,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),b=te(h),w=E({},Me,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=te(w),Q=E({},ln,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=te(Q),_e=E({},Me,{newState:0,oldState:0}),Fe=te(_e),cn=[9,13,27,32],mt=In&&"CompositionEvent"in window,Gt=null;In&&"documentMode"in document&&(Gt=document.documentMode);var gs=In&&"TextEvent"in window&&!Gt,di=In&&(!mt||Gt&&8<Gt&&11>=Gt),zs=" ",Hs=!1;function Vo(s,i){switch(s){case"keyup":return cn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Sl=!1;function O2(s,i){switch(s){case"compositionend":return Al(i);case"keypress":return i.which!==32?null:(Hs=!0,zs);case"textInput":return s=i.data,s===zs&&Hs?null:s;default:return null}}function D2(s,i){if(Sl)return s==="compositionend"||!mt&&Vo(s,i)?(s=Ki(),qs=Us=pr=null,Sl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return di&&i.locale!=="ko"?null:i.data;default:return null}}var L2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!L2[s.type]:i==="textarea"}function yv(s,i,o,c){zr?qn?qn.push(c):qn=[c]:zr=c,i=Af(i,"onChange"),0<i.length&&(o=new Ae("onChange","change",null,o,c),s.push({event:o,listeners:i}))}var Uc=null,qc=null;function k2(s){Jb(s,0)}function Mh(s){var i=Mn(s);if(us(i))return s}function vv(s,i){if(s==="change")return i}var bv=!1;if(In){var Am;if(In){var Sm="oninput"in document;if(!Sm){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Sm=typeof _v.oninput=="function"}Am=Sm}else Am=!1;bv=Am&&(!document.documentMode||9<document.documentMode)}function Ev(){Uc&&(Uc.detachEvent("onpropertychange",xv),qc=Uc=null)}function xv(s){if(s.propertyName==="value"&&Mh(qc)){var i=[];yv(i,qc,s,Un(s)),ms(k2,i)}}function j2(s,i,o){s==="focusin"?(Ev(),Uc=i,qc=o,Uc.attachEvent("onpropertychange",xv)):s==="focusout"&&Ev()}function M2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mh(qc)}function P2(s,i){if(s==="click")return Mh(i)}function V2(s,i){if(s==="input"||s==="change")return Mh(i)}function U2(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Kr=typeof Object.is=="function"?Object.is:U2;function Bc(s,i){if(Kr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Ut.call(i,d)||!Kr(s[d],i[d]))return!1}return!0}function Tv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wv(s,i){var o=Tv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=i&&c>=i)return{node:o,offset:i-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tv(o)}}function Av(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Av(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Sv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Nr(s.document);i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Nr(s.document)}return i}function Nm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var q2=In&&"documentMode"in document&&11>=document.documentMode,Nl=null,Cm=null,zc=null,Rm=!1;function Nv(s,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rm||Nl==null||Nl!==Nr(c)||(c=Nl,"selectionStart"in c&&Nm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zc&&Bc(zc,c)||(zc=c,c=Af(Cm,"onSelect"),0<c.length&&(i=new Ae("onSelect","select",null,i,o),s.push({event:i,listeners:c}),i.target=Nl)))}function Uo(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Cl={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},Im={},Cv={};In&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function qo(s){if(Im[s])return Im[s];if(!Cl[s])return s;var i=Cl[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in Cv)return Im[s]=i[o];return s}var Rv=qo("animationend"),Iv=qo("animationiteration"),Ov=qo("animationstart"),B2=qo("transitionrun"),z2=qo("transitionstart"),H2=qo("transitioncancel"),Dv=qo("transitionend"),Lv=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function Fs(s,i){Lv.set(s,i),mr(i,[s])}var Ph=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ys=[],Rl=0,Dm=0;function Vh(){for(var s=Rl,i=Dm=Rl=0;i<s;){var o=ys[i];ys[i++]=null;var c=ys[i];ys[i++]=null;var d=ys[i];ys[i++]=null;var g=ys[i];if(ys[i++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&kv(o,d,g)}}function Uh(s,i,o,c){ys[Rl++]=s,ys[Rl++]=i,ys[Rl++]=o,ys[Rl++]=c,Dm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Lm(s,i,o,c){return Uh(s,i,o,c),qh(s)}function Bo(s,i){return Uh(s,null,null,i),qh(s)}function kv(s,i,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(d=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,d&&i!==null&&(d=31-Ct(o),s=g.hiddenUpdates,c=s[d],c===null?s[d]=[i]:c.push(i),i.lane=o|536870912),g):null}function qh(s){if(50<uu)throw uu=0,zp=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Il={};function F2(s,i,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(s,i,o,c){return new F2(s,i,o,c)}function km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,i){var o=s.alternate;return o===null?(o=Qr(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function jv(s,i){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Bh(s,i,o,c,d,g){var T=0;if(c=s,typeof s=="function")km(s)&&(T=1);else if(typeof s=="string")T=YN(s,o,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=Qr(31,o,i,d),s.elementType=P,s.lanes=g,s;case j:return zo(o.children,d,g,i);case O:T=8,d|=24;break;case z:return s=Qr(12,o,i,d|2),s.elementType=z,s.lanes=g,s;case ve:return s=Qr(13,o,i,d),s.elementType=ve,s.lanes=g,s;case Ee:return s=Qr(19,o,i,d),s.elementType=Ee,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case W:T=10;break e;case H:T=9;break e;case ye:T=11;break e;case M:T=14;break e;case k:T=16,c=null;break e}T=29,o=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Qr(T,o,i,d),i.elementType=s,i.type=c,i.lanes=g,i}function zo(s,i,o,c){return s=Qr(7,s,c,i),s.lanes=o,s}function jm(s,i,o){return s=Qr(6,s,null,i),s.lanes=o,s}function Mv(s){var i=Qr(18,null,null,0);return i.stateNode=s,i}function Mm(s,i,o){return i=Qr(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Pv=new WeakMap;function vs(s,i){if(typeof s=="object"&&s!==null){var o=Pv.get(s);return o!==void 0?o:(i={value:s,source:i,stack:ki(i)},Pv.set(s,i),i)}return{value:s,source:i,stack:ki(i)}}var Ol=[],Dl=0,zh=null,Hc=0,bs=[],_s=0,ja=null,mi=1,pi="";function Wi(s,i){Ol[Dl++]=Hc,Ol[Dl++]=zh,zh=s,Hc=i}function Vv(s,i,o){bs[_s++]=mi,bs[_s++]=pi,bs[_s++]=ja,ja=s;var c=mi;s=pi;var d=32-Ct(c)-1;c&=~(1<<d),o+=1;var g=32-Ct(i)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,mi=1<<32-Ct(i)+d|o<<d|c,pi=g+s}else mi=1<<g|o<<d|c,pi=s}function Pm(s){s.return!==null&&(Wi(s,1),Vv(s,1,0))}function Vm(s){for(;s===zh;)zh=Ol[--Dl],Ol[Dl]=null,Hc=Ol[--Dl],Ol[Dl]=null;for(;s===ja;)ja=bs[--_s],bs[_s]=null,pi=bs[--_s],bs[_s]=null,mi=bs[--_s],bs[_s]=null}function Uv(s,i){bs[_s++]=mi,bs[_s++]=pi,bs[_s++]=ja,mi=i.id,pi=i.overflow,ja=s}var zn=null,kt=null,lt=!1,Ma=null,Es=!1,Um=Error(r(519));function Pa(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fc(vs(i,s)),Um}function qv(s){var i=s.stateNode,o=s.type,c=s.memoizedProps;switch(i[qt]=s,i[Jt]=c,o){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(o=0;o<fu.length;o++)et(fu[o],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":et("invalid",i),ci(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",i);break;case"textarea":et("invalid",i),mn(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||r_(i.textContent,o)?(c.popover!=null&&(et("beforetoggle",i),et("toggle",i)),c.onScroll!=null&&et("scroll",i),c.onScrollEnd!=null&&et("scrollend",i),c.onClick!=null&&(i.onclick=tr),i=!0):i=!1,i||Pa(s,!0)}function Bv(s){for(zn=s.return;zn;)switch(zn.tag){case 5:case 31:case 13:Es=!1;return;case 27:case 3:Es=!0;return;default:zn=zn.return}}function Ll(s){if(s!==zn)return!1;if(!lt)return Bv(s),lt=!0,!1;var i=s.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||rg(s.type,s.memoizedProps)),o=!o),o&&kt&&Pa(s),Bv(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));kt=f_(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));kt=f_(s)}else i===27?(i=kt,Wa(s.type)?(s=lg,lg=null,kt=s):kt=i):kt=zn?Ts(s.stateNode.nextSibling):null;return!0}function Ho(){kt=zn=null,lt=!1}function qm(){var s=Ma;return s!==null&&(Dr===null?Dr=s:Dr.push.apply(Dr,s),Ma=null),s}function Fc(s){Ma===null?Ma=[s]:Ma.push(s)}var Bm=V(null),Fo=null,Zi=null;function Va(s,i,o){ue(Bm,i._currentValue),i._currentValue=o}function Ji(s){s._currentValue=Bm.current,Y(Bm)}function zm(s,i,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===o)break;s=s.return}}function Hm(s,i,o,c){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=d;for(var q=0;q<i.length;q++)if(C.context===i[q]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),zm(g.return,o,s),c||(T=null);break e}g=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),zm(T,o,s),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===s){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function kl(s,i,o,c){s=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var C=d.type;Kr(d.pendingProps.value,T.value)||(s!==null?s.push(C):s=[C])}}else if(d===De.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(yu):s=[yu])}d=d.return}s!==null&&Hm(i,s,o,c),i.flags|=262144}function Hh(s){for(s=s.firstContext;s!==null;){if(!Kr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Go(s){Fo=s,Zi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Hn(s){return zv(Fo,s)}function Fh(s,i){return Fo===null&&Go(s),zv(s,i)}function zv(s,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Zi===null){if(s===null)throw Error(r(308));Zi=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Zi=Zi.next=i;return o}var G2=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(o){return o()})}},$2=n.unstable_scheduleCallback,K2=n.unstable_NormalPriority,pn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new G2,data:new Map,refCount:0}}function Gc(s){s.refCount--,s.refCount===0&&$2(K2,function(){s.controller.abort()})}var $c=null,Gm=0,jl=0,Ml=null;function Q2(s,i){if($c===null){var o=$c=[];Gm=0,jl=Qp(),Ml={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Gm++,i.then(Hv,Hv),i}function Hv(){if(--Gm===0&&$c!==null){Ml!==null&&(Ml.status="fulfilled");var s=$c;$c=null,jl=0,Ml=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function Y2(s,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Fv=B.S;B.S=function(s,i){Nb=Nt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Q2(s,i),Fv!==null&&Fv(s,i)};var $o=V(null);function $m(){var s=$o.current;return s!==null?s:At.pooledCache}function Gh(s,i){i===null?ue($o,$o.current):ue($o,i.pool)}function Gv(){var s=$m();return s===null?null:{parent:pn._currentValue,pool:s}}var Pl=Error(r(460)),Km=Error(r(474)),$h=Error(r(542)),Kh={then:function(){}};function $v(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Kv(s,i,o){switch(o=s[o],o===void 0?s.push(i):o!==i&&(i.then(tr,tr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Yv(s),s;default:if(typeof i.status=="string")i.then(tr,tr);else{if(s=At,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Yv(s),s}throw Qo=i,Pl}}function Ko(s){try{var i=s._init;return i(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Qo=o,Pl):o}}var Qo=null;function Qv(){if(Qo===null)throw Error(r(459));var s=Qo;return Qo=null,s}function Yv(s){if(s===Pl||s===$h)throw Error(r(483))}var Vl=null,Kc=0;function Qh(s){var i=Kc;return Kc+=1,Vl===null&&(Vl=[]),Kv(Vl,s,i)}function Qc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Yh(s,i){throw i.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Xv(s){function i(K,$){if(s){var X=K.deletions;X===null?(K.deletions=[$],K.flags|=16):X.push($)}}function o(K,$){if(!s)return null;for(;$!==null;)i(K,$),$=$.sibling;return null}function c(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function d(K,$){return K=Xi(K,$),K.index=0,K.sibling=null,K}function g(K,$,X){return K.index=X,s?(X=K.alternate,X!==null?(X=X.index,X<$?(K.flags|=67108866,$):X):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function T(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function C(K,$,X,ie){return $===null||$.tag!==6?($=jm(X,K.mode,ie),$.return=K,$):($=d($,X),$.return=K,$)}function q(K,$,X,ie){var ke=X.type;return ke===j?se(K,$,X.props.children,ie,X.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Ko(ke)===$.type)?($=d($,X.props),Qc($,X),$.return=K,$):($=Bh(X.type,X.key,X.props,null,K.mode,ie),Qc($,X),$.return=K,$)}function Z(K,$,X,ie){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=Mm(X,K.mode,ie),$.return=K,$):($=d($,X.children||[]),$.return=K,$)}function se(K,$,X,ie,ke){return $===null||$.tag!==7?($=zo(X,K.mode,ie,ke),$.return=K,$):($=d($,X),$.return=K,$)}function ce(K,$,X){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=jm(""+$,K.mode,X),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return X=Bh($.type,$.key,$.props,null,K.mode,X),Qc(X,$),X.return=K,X;case I:return $=Mm($,K.mode,X),$.return=K,$;case k:return $=Ko($),ce(K,$,X)}if(de($)||L($))return $=zo($,K.mode,X,null),$.return=K,$;if(typeof $.then=="function")return ce(K,Qh($),X);if($.$$typeof===W)return ce(K,Fh(K,$),X);Yh(K,$)}return null}function ee(K,$,X,ie){var ke=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ke!==null?null:C(K,$,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===ke?q(K,$,X,ie):null;case I:return X.key===ke?Z(K,$,X,ie):null;case k:return X=Ko(X),ee(K,$,X,ie)}if(de(X)||L(X))return ke!==null?null:se(K,$,X,ie,null);if(typeof X.then=="function")return ee(K,$,Qh(X),ie);if(X.$$typeof===W)return ee(K,$,Fh(K,X),ie);Yh(K,X)}return null}function re(K,$,X,ie,ke){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return K=K.get(X)||null,C($,K,""+ie,ke);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return K=K.get(ie.key===null?X:ie.key)||null,q($,K,ie,ke);case I:return K=K.get(ie.key===null?X:ie.key)||null,Z($,K,ie,ke);case k:return ie=Ko(ie),re(K,$,X,ie,ke)}if(de(ie)||L(ie))return K=K.get(X)||null,se($,K,ie,ke,null);if(typeof ie.then=="function")return re(K,$,X,Qh(ie),ke);if(ie.$$typeof===W)return re(K,$,X,Fh($,ie),ke);Yh($,ie)}return null}function Se(K,$,X,ie){for(var ke=null,ht=null,Ce=$,Ke=$=0,rt=null;Ce!==null&&Ke<X.length;Ke++){Ce.index>Ke?(rt=Ce,Ce=null):rt=Ce.sibling;var ft=ee(K,Ce,X[Ke],ie);if(ft===null){Ce===null&&(Ce=rt);break}s&&Ce&&ft.alternate===null&&i(K,Ce),$=g(ft,$,Ke),ht===null?ke=ft:ht.sibling=ft,ht=ft,Ce=rt}if(Ke===X.length)return o(K,Ce),lt&&Wi(K,Ke),ke;if(Ce===null){for(;Ke<X.length;Ke++)Ce=ce(K,X[Ke],ie),Ce!==null&&($=g(Ce,$,Ke),ht===null?ke=Ce:ht.sibling=Ce,ht=Ce);return lt&&Wi(K,Ke),ke}for(Ce=c(Ce);Ke<X.length;Ke++)rt=re(Ce,K,Ke,X[Ke],ie),rt!==null&&(s&&rt.alternate!==null&&Ce.delete(rt.key===null?Ke:rt.key),$=g(rt,$,Ke),ht===null?ke=rt:ht.sibling=rt,ht=rt);return s&&Ce.forEach(function(no){return i(K,no)}),lt&&Wi(K,Ke),ke}function Pe(K,$,X,ie){if(X==null)throw Error(r(151));for(var ke=null,ht=null,Ce=$,Ke=$=0,rt=null,ft=X.next();Ce!==null&&!ft.done;Ke++,ft=X.next()){Ce.index>Ke?(rt=Ce,Ce=null):rt=Ce.sibling;var no=ee(K,Ce,ft.value,ie);if(no===null){Ce===null&&(Ce=rt);break}s&&Ce&&no.alternate===null&&i(K,Ce),$=g(no,$,Ke),ht===null?ke=no:ht.sibling=no,ht=no,Ce=rt}if(ft.done)return o(K,Ce),lt&&Wi(K,Ke),ke;if(Ce===null){for(;!ft.done;Ke++,ft=X.next())ft=ce(K,ft.value,ie),ft!==null&&($=g(ft,$,Ke),ht===null?ke=ft:ht.sibling=ft,ht=ft);return lt&&Wi(K,Ke),ke}for(Ce=c(Ce);!ft.done;Ke++,ft=X.next())ft=re(Ce,K,Ke,ft.value,ie),ft!==null&&(s&&ft.alternate!==null&&Ce.delete(ft.key===null?Ke:ft.key),$=g(ft,$,Ke),ht===null?ke=ft:ht.sibling=ft,ht=ft);return s&&Ce.forEach(function(aC){return i(K,aC)}),lt&&Wi(K,Ke),ke}function Tt(K,$,X,ie){if(typeof X=="object"&&X!==null&&X.type===j&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var ke=X.key;$!==null;){if($.key===ke){if(ke=X.type,ke===j){if($.tag===7){o(K,$.sibling),ie=d($,X.props.children),ie.return=K,K=ie;break e}}else if($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Ko(ke)===$.type){o(K,$.sibling),ie=d($,X.props),Qc(ie,X),ie.return=K,K=ie;break e}o(K,$);break}else i(K,$);$=$.sibling}X.type===j?(ie=zo(X.props.children,K.mode,ie,X.key),ie.return=K,K=ie):(ie=Bh(X.type,X.key,X.props,null,K.mode,ie),Qc(ie,X),ie.return=K,K=ie)}return T(K);case I:e:{for(ke=X.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){o(K,$.sibling),ie=d($,X.children||[]),ie.return=K,K=ie;break e}else{o(K,$);break}else i(K,$);$=$.sibling}ie=Mm(X,K.mode,ie),ie.return=K,K=ie}return T(K);case k:return X=Ko(X),Tt(K,$,X,ie)}if(de(X))return Se(K,$,X,ie);if(L(X)){if(ke=L(X),typeof ke!="function")throw Error(r(150));return X=ke.call(X),Pe(K,$,X,ie)}if(typeof X.then=="function")return Tt(K,$,Qh(X),ie);if(X.$$typeof===W)return Tt(K,$,Fh(K,X),ie);Yh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,$!==null&&$.tag===6?(o(K,$.sibling),ie=d($,X),ie.return=K,K=ie):(o(K,$),ie=jm(X,K.mode,ie),ie.return=K,K=ie),T(K)):o(K,$)}return function(K,$,X,ie){try{Kc=0;var ke=Tt(K,$,X,ie);return Vl=null,ke}catch(Ce){if(Ce===Pl||Ce===$h)throw Ce;var ht=Qr(29,Ce,null,K.mode);return ht.lanes=ie,ht.return=K,ht}finally{}}}var Yo=Xv(!0),Wv=Xv(!1),Ua=!1;function Qm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ym(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function qa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ba(s,i,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(pt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=qh(s),kv(s,null,o),i}return Uh(s,c,i,o),qh(s)}function Yc(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,Bi(s,o)}}function Xm(s,i){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=i:g=g.next=i}else d=g=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}var Wm=!1;function Xc(){if(Wm){var s=Ml;if(s!==null)throw s}}function Wc(s,i,o,c){Wm=!1;var d=s.updateQueue;Ua=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var q=C,Z=q.next;q.next=null,T===null?g=Z:T.next=Z,T=q;var se=s.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==T&&(C===null?se.firstBaseUpdate=Z:C.next=Z,se.lastBaseUpdate=q))}if(g!==null){var ce=d.baseState;T=0,se=Z=q=null,C=g;do{var ee=C.lane&-536870913,re=ee!==C.lane;if(re?(nt&ee)===ee:(c&ee)===ee){ee!==0&&ee===jl&&(Wm=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=s,Pe=C;ee=i;var Tt=o;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){ce=Se.call(Tt,ce,ee);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,ee=typeof Se=="function"?Se.call(Tt,ce,ee):Se,ee==null)break e;ce=E({},ce,ee);break e;case 2:Ua=!0}}ee=C.callback,ee!==null&&(s.flags|=64,re&&(s.flags|=8192),re=d.callbacks,re===null?d.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(Z=se=re,q=ce):se=se.next=re,T|=ee;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;re=C,C=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);se===null&&(q=ce),d.baseState=q,d.firstBaseUpdate=Z,d.lastBaseUpdate=se,g===null&&(d.shared.lanes=0),$a|=T,s.lanes=T,s.memoizedState=ce}}function Zv(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Jv(s,i){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Zv(o[s],i)}var Ul=V(null),Xh=V(0);function e1(s,i){s=la,ue(Xh,s),ue(Ul,i),la=s|i.baseLanes}function Zm(){ue(Xh,la),ue(Ul,Ul.current)}function Jm(){la=Xh.current,Y(Ul),Y(Xh)}var Yr=V(null),xs=null;function za(s){var i=s.alternate;ue(un,un.current&1),ue(Yr,s),xs===null&&(i===null||Ul.current!==null||i.memoizedState!==null)&&(xs=s)}function ep(s){ue(un,un.current),ue(Yr,s),xs===null&&(xs=s)}function t1(s){s.tag===22?(ue(un,un.current),ue(Yr,s),xs===null&&(xs=s)):Ha()}function Ha(){ue(un,un.current),ue(Yr,Yr.current)}function Xr(s){Y(Yr),xs===s&&(xs=null),Y(un)}var un=V(0);function Wh(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ag(o)||og(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ea=0,Ge=null,Et=null,gn=null,Zh=!1,ql=!1,Xo=!1,Jh=0,Zc=0,Bl=null,X2=0;function tn(){throw Error(r(321))}function tp(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Kr(s[o],i[o]))return!1;return!0}function np(s,i,o,c,d,g){return ea=g,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=s===null||s.memoizedState===null?V1:yp,Xo=!1,g=o(c,d),Xo=!1,ql&&(g=r1(i,o,c,d)),n1(s),g}function n1(s){B.H=tu;var i=Et!==null&&Et.next!==null;if(ea=0,gn=Et=Ge=null,Zh=!1,Zc=0,Bl=null,i)throw Error(r(300));s===null||yn||(s=s.dependencies,s!==null&&Hh(s)&&(yn=!0))}function r1(s,i,o,c){Ge=s;var d=0;do{if(ql&&(Bl=null),Zc=0,ql=!1,25<=d)throw Error(r(301));if(d+=1,gn=Et=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=U1,g=i(o,c)}while(ql);return g}function W2(){var s=B.H,i=s.useState()[0];return i=typeof i.then=="function"?Jc(i):i,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(Ge.flags|=1024),i}function rp(){var s=Jh!==0;return Jh=0,s}function sp(s,i,o){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~o}function ip(s){if(Zh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Zh=!1}ea=0,gn=Et=Ge=null,ql=!1,Zc=Jh=0,Bl=null}function yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Ge.memoizedState=gn=s:gn=gn.next=s,gn}function hn(){if(Et===null){var s=Ge.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var i=gn===null?Ge.memoizedState:gn.next;if(i!==null)gn=i,Et=s;else{if(s===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},gn===null?Ge.memoizedState=gn=s:gn=gn.next=s}return gn}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(s){var i=Zc;return Zc+=1,Bl===null&&(Bl=[]),s=Kv(Bl,s,i),i=Ge,(gn===null?i.memoizedState:gn.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?V1:yp),s}function tf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jc(s);if(s.$$typeof===W)return Hn(s)}throw Error(r(438,String(s)))}function ap(s){var i=null,o=Ge.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ef(),Ge.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(s),c=0;c<s;c++)o[c]=G;return i.index++,o}function ta(s,i){return typeof i=="function"?i(s):i}function nf(s){var i=hn();return op(i,Et,s)}function op(s,i,o){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var d=s.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}i.baseQueue=d=g,c.pending=null}if(g=s.baseState,d===null)s.memoizedState=g;else{i=d.next;var C=T=null,q=null,Z=i,se=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(nt&ce)===ce:(ea&ce)===ce){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===jl&&(se=!0);else if((ea&ee)===ee){Z=Z.next,ee===jl&&(se=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(C=q=ce,T=g):q=q.next=ce,Ge.lanes|=ee,$a|=ee;ce=Z.action,Xo&&o(g,ce),g=Z.hasEagerState?Z.eagerState:o(g,ce)}else ee={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(C=q=ee,T=g):q=q.next=ee,Ge.lanes|=ce,$a|=ce;Z=Z.next}while(Z!==null&&Z!==i);if(q===null?T=g:q.next=C,!Kr(g,s.memoizedState)&&(yn=!0,se&&(o=Ml,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=q,c.lastRenderedState=g}return d===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function lp(s){var i=hn(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=o.dispatch,d=o.pending,g=i.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=s(g,T.action),T=T.next;while(T!==d);Kr(g,i.memoizedState)||(yn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function s1(s,i,o){var c=Ge,d=hn(),g=lt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=i();var T=!Kr((Et||d).memoizedState,o);if(T&&(d.memoizedState=o,yn=!0),d=d.queue,hp(o1.bind(null,c,d,s),[s]),d.getSnapshot!==i||T||gn!==null&&gn.memoizedState.tag&1){if(c.flags|=2048,zl(9,{destroy:void 0},a1.bind(null,c,d,o,i),null),At===null)throw Error(r(349));g||(ea&127)!==0||i1(c,i,o)}return o}function i1(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Ge.updateQueue,i===null?(i=ef(),Ge.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function a1(s,i,o,c){i.value=o,i.getSnapshot=c,l1(i)&&c1(s)}function o1(s,i,o){return o(function(){l1(i)&&c1(s)})}function l1(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Kr(s,o)}catch{return!0}}function c1(s){var i=Bo(s,2);i!==null&&Lr(i,s,2)}function cp(s){var i=yr();if(typeof s=="function"){var o=s;if(s=o(),Xo){xn(!0);try{o()}finally{xn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:s},i}function u1(s,i,o,c){return s.baseState=o,op(s,Et,typeof c=="function"?c:ta)}function Z2(s,i,o,c,d){if(af(s))throw Error(r(485));if(s=i.action,s!==null){var g={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};B.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,h1(i,g)):(g.next=o.next,i.pending=o.next=g)}}function h1(s,i){var o=i.action,c=i.payload,d=s.state;if(i.isTransition){var g=B.T,T={};B.T=T;try{var C=o(d,c),q=B.S;q!==null&&q(T,C),f1(s,i,C)}catch(Z){up(s,i,Z)}finally{g!==null&&T.types!==null&&(g.types=T.types),B.T=g}}else try{g=o(d,c),f1(s,i,g)}catch(Z){up(s,i,Z)}}function f1(s,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){d1(s,i,c)},function(c){return up(s,i,c)}):d1(s,i,o)}function d1(s,i,o){i.status="fulfilled",i.value=o,m1(i),s.state=o,i=s.pending,i!==null&&(o=i.next,o===i?s.pending=null:(o=o.next,i.next=o,h1(s,o)))}function up(s,i,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,m1(i),i=i.next;while(i!==c)}s.action=null}function m1(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function p1(s,i){return i}function g1(s,i){if(lt){var o=At.formState;if(o!==null){e:{var c=Ge;if(lt){if(kt){t:{for(var d=kt,g=Es;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ts(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){kt=Ts(d.nextSibling),c=d.data==="F!";break e}}Pa(c)}c=!1}c&&(i=o[0])}}return o=yr(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p1,lastRenderedState:i},o.queue=c,o=j1.bind(null,Ge,c),c.dispatch=o,c=cp(!1),g=gp.bind(null,Ge,!1,c.queue),c=yr(),d={state:i,dispatch:null,action:s,pending:null},c.queue=d,o=Z2.bind(null,Ge,d,g,o),d.dispatch=o,c.memoizedState=s,[i,o,!1]}function y1(s){var i=hn();return v1(i,Et,s)}function v1(s,i,o){if(i=op(s,i,p1)[0],s=nf(ta)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Jc(i)}catch(T){throw T===Pl?$h:T}else c=i;i=hn();var d=i.queue,g=d.dispatch;return o!==i.memoizedState&&(Ge.flags|=2048,zl(9,{destroy:void 0},J2.bind(null,d,o),null)),[c,g,s]}function J2(s,i){s.action=i}function b1(s){var i=hn(),o=Et;if(o!==null)return v1(i,o,s);hn(),i=i.memoizedState,o=hn();var c=o.queue.dispatch;return o.memoizedState=s,[i,c,!1]}function zl(s,i,o,c){return s={tag:s,create:o,deps:c,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=ef(),Ge.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,i.lastEffect=s),s}function _1(){return hn().memoizedState}function rf(s,i,o,c){var d=yr();Ge.flags|=s,d.memoizedState=zl(1|i,{destroy:void 0},o,c===void 0?null:c)}function sf(s,i,o,c){var d=hn();c=c===void 0?null:c;var g=d.memoizedState.inst;Et!==null&&c!==null&&tp(c,Et.memoizedState.deps)?d.memoizedState=zl(i,g,o,c):(Ge.flags|=s,d.memoizedState=zl(1|i,g,o,c))}function E1(s,i){rf(8390656,8,s,i)}function hp(s,i){sf(2048,8,s,i)}function eN(s){Ge.flags|=4;var i=Ge.updateQueue;if(i===null)i=ef(),Ge.updateQueue=i,i.events=[s];else{var o=i.events;o===null?i.events=[s]:o.push(s)}}function x1(s){var i=hn().memoizedState;return eN({ref:i,nextImpl:s}),function(){if((pt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function T1(s,i){return sf(4,2,s,i)}function w1(s,i){return sf(4,4,s,i)}function A1(s,i){if(typeof i=="function"){s=s();var o=i(s);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function S1(s,i,o){o=o!=null?o.concat([s]):null,sf(4,4,A1.bind(null,i,s),o)}function fp(){}function N1(s,i){var o=hn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&tp(i,c[1])?c[0]:(o.memoizedState=[s,i],s)}function C1(s,i){var o=hn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&tp(i,c[1]))return c[0];if(c=s(),Xo){xn(!0);try{s()}finally{xn(!1)}}return o.memoizedState=[c,i],c}function dp(s,i,o){return o===void 0||(ea&1073741824)!==0&&(nt&261930)===0?s.memoizedState=i:(s.memoizedState=o,s=Rb(),Ge.lanes|=s,$a|=s,o)}function R1(s,i,o,c){return Kr(o,i)?o:Ul.current!==null?(s=dp(s,o,c),Kr(s,i)||(yn=!0),s):(ea&42)===0||(ea&1073741824)!==0&&(nt&261930)===0?(yn=!0,s.memoizedState=o):(s=Rb(),Ge.lanes|=s,$a|=s,i)}function I1(s,i,o,c,d){var g=J.p;J.p=g!==0&&8>g?g:8;var T=B.T,C={};B.T=C,gp(s,!1,i,o);try{var q=d(),Z=B.S;if(Z!==null&&Z(C,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var se=Y2(q,c);eu(s,i,se,Jr(s))}else eu(s,i,c,Jr(s))}catch(ce){eu(s,i,{then:function(){},status:"rejected",reason:ce},Jr())}finally{J.p=g,T!==null&&C.types!==null&&(T.types=C.types),B.T=T}}function tN(){}function mp(s,i,o,c){if(s.tag!==5)throw Error(r(476));var d=O1(s).queue;I1(s,d,i,le,o===null?tN:function(){return D1(s),o(c)})}function O1(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:le},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:o},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function D1(s){var i=O1(s);i.next===null&&(i=s.alternate.memoizedState),eu(s,i.next.queue,{},Jr())}function pp(){return Hn(yu)}function L1(){return hn().memoizedState}function k1(){return hn().memoizedState}function nN(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var o=Jr();s=qa(o);var c=Ba(i,s,o);c!==null&&(Lr(c,i,o),Yc(c,i,o)),i={cache:Fm()},s.payload=i;return}i=i.return}}function rN(s,i,o){var c=Jr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},af(s)?M1(i,o):(o=Lm(s,i,o,c),o!==null&&(Lr(o,s,c),P1(o,i,c)))}function j1(s,i,o){var c=Jr();eu(s,i,o,c)}function eu(s,i,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(af(s))M1(i,d);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,C=g(T,o);if(d.hasEagerState=!0,d.eagerState=C,Kr(C,T))return Uh(s,i,d,0),At===null&&Vh(),!1}catch{}finally{}if(o=Lm(s,i,d,c),o!==null)return Lr(o,s,c),P1(o,i,c),!0}return!1}function gp(s,i,o,c){if(c={lane:2,revertLane:Qp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},af(s)){if(i)throw Error(r(479))}else i=Lm(s,o,c,2),i!==null&&Lr(i,s,2)}function af(s){var i=s.alternate;return s===Ge||i!==null&&i===Ge}function M1(s,i){ql=Zh=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function P1(s,i,o){if((o&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,Bi(s,o)}}var tu={readContext:Hn,use:tf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};tu.useEffectEvent=tn;var V1={readContext:Hn,use:tf,useCallback:function(s,i){return yr().memoizedState=[s,i===void 0?null:i],s},useContext:Hn,useEffect:E1,useImperativeHandle:function(s,i,o){o=o!=null?o.concat([s]):null,rf(4194308,4,A1.bind(null,i,s),o)},useLayoutEffect:function(s,i){return rf(4194308,4,s,i)},useInsertionEffect:function(s,i){rf(4,2,s,i)},useMemo:function(s,i){var o=yr();i=i===void 0?null:i;var c=s();if(Xo){xn(!0);try{s()}finally{xn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(s,i,o){var c=yr();if(o!==void 0){var d=o(i);if(Xo){xn(!0);try{o(i)}finally{xn(!1)}}}else d=i;return c.memoizedState=c.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},c.queue=s,s=s.dispatch=rN.bind(null,Ge,s),[c.memoizedState,s]},useRef:function(s){var i=yr();return s={current:s},i.memoizedState=s},useState:function(s){s=cp(s);var i=s.queue,o=j1.bind(null,Ge,i);return i.dispatch=o,[s.memoizedState,o]},useDebugValue:fp,useDeferredValue:function(s,i){var o=yr();return dp(o,s,i)},useTransition:function(){var s=cp(!1);return s=I1.bind(null,Ge,s.queue,!0,!1),yr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,o){var c=Ge,d=yr();if(lt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),At===null)throw Error(r(349));(nt&127)!==0||i1(c,i,o)}d.memoizedState=o;var g={value:o,getSnapshot:i};return d.queue=g,E1(o1.bind(null,c,g,s),[s]),c.flags|=2048,zl(9,{destroy:void 0},a1.bind(null,c,g,o,i),null),o},useId:function(){var s=yr(),i=At.identifierPrefix;if(lt){var o=pi,c=mi;o=(c&~(1<<32-Ct(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Jh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=X2++,i="_"+i+"r_"+o.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:pp,useFormState:g1,useActionState:g1,useOptimistic:function(s){var i=yr();i.memoizedState=i.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=gp.bind(null,Ge,!0,o),o.dispatch=i,[s,i]},useMemoCache:ap,useCacheRefresh:function(){return yr().memoizedState=nN.bind(null,Ge)},useEffectEvent:function(s){var i=yr(),o={impl:s};return i.memoizedState=o,function(){if((pt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},yp={readContext:Hn,use:tf,useCallback:N1,useContext:Hn,useEffect:hp,useImperativeHandle:S1,useInsertionEffect:T1,useLayoutEffect:w1,useMemo:C1,useReducer:nf,useRef:_1,useState:function(){return nf(ta)},useDebugValue:fp,useDeferredValue:function(s,i){var o=hn();return R1(o,Et.memoizedState,s,i)},useTransition:function(){var s=nf(ta)[0],i=hn().memoizedState;return[typeof s=="boolean"?s:Jc(s),i]},useSyncExternalStore:s1,useId:L1,useHostTransitionStatus:pp,useFormState:y1,useActionState:y1,useOptimistic:function(s,i){var o=hn();return u1(o,Et,s,i)},useMemoCache:ap,useCacheRefresh:k1};yp.useEffectEvent=x1;var U1={readContext:Hn,use:tf,useCallback:N1,useContext:Hn,useEffect:hp,useImperativeHandle:S1,useInsertionEffect:T1,useLayoutEffect:w1,useMemo:C1,useReducer:lp,useRef:_1,useState:function(){return lp(ta)},useDebugValue:fp,useDeferredValue:function(s,i){var o=hn();return Et===null?dp(o,s,i):R1(o,Et.memoizedState,s,i)},useTransition:function(){var s=lp(ta)[0],i=hn().memoizedState;return[typeof s=="boolean"?s:Jc(s),i]},useSyncExternalStore:s1,useId:L1,useHostTransitionStatus:pp,useFormState:b1,useActionState:b1,useOptimistic:function(s,i){var o=hn();return Et!==null?u1(o,Et,s,i):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:ap,useCacheRefresh:k1};U1.useEffectEvent=x1;function vp(s,i,o,c){i=s.memoizedState,o=o(c,i),o=o==null?i:E({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var bp={enqueueSetState:function(s,i,o){s=s._reactInternals;var c=Jr(),d=qa(c);d.payload=i,o!=null&&(d.callback=o),i=Ba(s,d,c),i!==null&&(Lr(i,s,c),Yc(i,s,c))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var c=Jr(),d=qa(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Ba(s,d,c),i!==null&&(Lr(i,s,c),Yc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=Jr(),c=qa(o);c.tag=2,i!=null&&(c.callback=i),i=Ba(s,c,o),i!==null&&(Lr(i,s,o),Yc(i,s,o))}};function q1(s,i,o,c,d,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,T):i.prototype&&i.prototype.isPureReactComponent?!Bc(o,c)||!Bc(d,g):!0}function B1(s,i,o,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==s&&bp.enqueueReplaceState(i,i.state,null)}function Wo(s,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(s=s.defaultProps){o===i&&(o=E({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}function z1(s){Ph(s)}function H1(s){console.error(s)}function F1(s){Ph(s)}function of(s,i){try{var o=s.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function G1(s,i,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _p(s,i,o){return o=qa(o),o.tag=3,o.payload={element:null},o.callback=function(){of(s,i)},o}function $1(s){return s=qa(s),s.tag=3,s}function K1(s,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;s.payload=function(){return d(g)},s.callback=function(){G1(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){G1(i,o,c),typeof d!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function sN(s,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&kl(i,o,d,!0),o=Yr.current,o!==null){switch(o.tag){case 31:case 13:return xs===null?bf():o.alternate===null&&nn===0&&(nn=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Kh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Gp(s,c,d)),!1;case 22:return o.flags|=65536,c===Kh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Gp(s,c,d)),!1}throw Error(r(435,o.tag))}return Gp(s,c,d),bf(),!1}if(lt)return i=Yr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==Um&&(s=Error(r(422),{cause:c}),Fc(vs(s,o)))):(c!==Um&&(i=Error(r(423),{cause:c}),Fc(vs(i,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,c=vs(c,o),d=_p(s.stateNode,c,d),Xm(s,d),nn!==4&&(nn=2)),!1;var g=Error(r(520),{cause:c});if(g=vs(g,o),cu===null?cu=[g]:cu.push(g),nn!==4&&(nn=2),i===null)return!0;c=vs(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=_p(o.stateNode,c,s),Xm(o,s),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ka===null||!Ka.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$1(d),K1(d,s,o,c),Xm(o,d),!1}o=o.return}while(o!==null);return!1}var Ep=Error(r(461)),yn=!1;function Fn(s,i,o,c){i.child=s===null?Wv(i,null,o,c):Yo(i,s.child,o,c)}function Q1(s,i,o,c,d){o=o.render;var g=i.ref;if("ref"in c){var T={};for(var C in c)C!=="ref"&&(T[C]=c[C])}else T=c;return Go(i),c=np(s,i,o,T,g,d),C=rp(),s!==null&&!yn?(sp(s,i,d),na(s,i,d)):(lt&&C&&Pm(i),i.flags|=1,Fn(s,i,c,d),i.child)}function Y1(s,i,o,c,d){if(s===null){var g=o.type;return typeof g=="function"&&!km(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,X1(s,i,g,c,d)):(s=Bh(o.type,null,c,i,i.mode,d),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,!Rp(s,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Bc,o(T,c)&&s.ref===i.ref)return na(s,i,d)}return i.flags|=1,s=Xi(g,c),s.ref=i.ref,s.return=i,i.child=s}function X1(s,i,o,c,d){if(s!==null){var g=s.memoizedProps;if(Bc(g,c)&&s.ref===i.ref)if(yn=!1,i.pendingProps=c=g,Rp(s,d))(s.flags&131072)!==0&&(yn=!0);else return i.lanes=s.lanes,na(s,i,d)}return xp(s,i,o,c,d)}function W1(s,i,o,c){var d=c.children,g=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=i.child=s.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,i.child=null;return Z1(s,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Gh(i,g!==null?g.cachePool:null),g!==null?e1(i,g):Zm(),t1(i);else return c=i.lanes=536870912,Z1(s,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Gh(i,g.cachePool),e1(i,g),Ha(),i.memoizedState=null):(s!==null&&Gh(i,null),Zm(),Ha());return Fn(s,i,d,o),i.child}function nu(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Z1(s,i,o,c,d){var g=$m();return g=g===null?null:{parent:pn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},s!==null&&Gh(i,null),Zm(),t1(i),s!==null&&kl(s,i,c,!0),i.childLanes=d,null}function lf(s,i){return i=uf({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function J1(s,i,o){return Yo(i,s.child,null,o),s=lf(i,i.pendingProps),s.flags|=2,Xr(i),i.memoizedState=null,s}function iN(s,i,o){var c=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(lt){if(c.mode==="hidden")return s=lf(i,c),i.lanes=536870912,nu(null,s);if(ep(i),(s=kt)?(s=h_(s,Es),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:ja!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},o=Mv(s),o.return=i,i.child=o,zn=i,kt=null)):s=null,s===null)throw Pa(i);return i.lanes=536870912,null}return lf(i,c)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(ep(i),d)if(i.flags&256)i.flags&=-257,i=J1(s,i,o);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(yn||kl(s,i,o,!1),d=(o&s.childLanes)!==0,yn||d){if(c=At,c!==null&&(T=zi(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Bo(s,T),Lr(c,s,T),Ep;bf(),i=J1(s,i,o)}else s=g.treeContext,kt=Ts(T.nextSibling),zn=i,lt=!0,Ma=null,Es=!1,s!==null&&Uv(i,s),i=lf(i,c),i.flags|=4096;return i}return s=Xi(s.child,{mode:c.mode,children:c.children}),s.ref=i.ref,i.child=s,s.return=i,s}function cf(s,i){var o=i.ref;if(o===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(i.flags|=4194816)}}function xp(s,i,o,c,d){return Go(i),o=np(s,i,o,c,void 0,d),c=rp(),s!==null&&!yn?(sp(s,i,d),na(s,i,d)):(lt&&c&&Pm(i),i.flags|=1,Fn(s,i,o,d),i.child)}function eb(s,i,o,c,d,g){return Go(i),i.updateQueue=null,o=r1(i,c,o,d),n1(s),c=rp(),s!==null&&!yn?(sp(s,i,g),na(s,i,g)):(lt&&c&&Pm(i),i.flags|=1,Fn(s,i,o,g),i.child)}function tb(s,i,o,c,d){if(Go(i),i.stateNode===null){var g=Il,T=o.contextType;typeof T=="object"&&T!==null&&(g=Hn(T)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bp,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Qm(i),T=o.contextType,g.context=typeof T=="object"&&T!==null?Hn(T):Il,g.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(vp(i,o,T,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&bp.enqueueReplaceState(g,g.state,null),Wc(i,c,g,d),Xc(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){g=i.stateNode;var C=i.memoizedProps,q=Wo(o,C);g.props=q;var Z=g.context,se=o.contextType;T=Il,typeof se=="object"&&se!==null&&(T=Hn(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||Z!==T)&&B1(i,g,c,T),Ua=!1;var ee=i.memoizedState;g.state=ee,Wc(i,c,g,d),Xc(),Z=i.memoizedState,C||ee!==Z||Ua?(typeof ce=="function"&&(vp(i,o,ce,c),Z=i.memoizedState),(q=Ua||q1(i,o,q,c,ee,Z,T))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Z),g.props=c,g.state=Z,g.context=T,c=q):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Ym(s,i),T=i.memoizedProps,se=Wo(o,T),g.props=se,ce=i.pendingProps,ee=g.context,Z=o.contextType,q=Il,typeof Z=="object"&&Z!==null&&(q=Hn(Z)),C=o.getDerivedStateFromProps,(Z=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ce||ee!==q)&&B1(i,g,c,q),Ua=!1,ee=i.memoizedState,g.state=ee,Wc(i,c,g,d),Xc();var re=i.memoizedState;T!==ce||ee!==re||Ua||s!==null&&s.dependencies!==null&&Hh(s.dependencies)?(typeof C=="function"&&(vp(i,o,C,c),re=i.memoizedState),(se=Ua||q1(i,o,se,c,ee,re,q)||s!==null&&s.dependencies!==null&&Hh(s.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,re,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,re,q)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=re),g.props=c,g.state=re,g.context=q,c=se):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),c=!1)}return g=c,cf(s,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,s!==null&&c?(i.child=Yo(i,s.child,null,d),i.child=Yo(i,null,o,d)):Fn(s,i,o,d),i.memoizedState=g.state,s=i.child):s=na(s,i,d),s}function nb(s,i,o,c){return Ho(),i.flags|=256,Fn(s,i,o,c),i.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(s){return{baseLanes:s,cachePool:Gv()}}function Ap(s,i,o){return s=s!==null?s.childLanes&~o:0,i&&(s|=Zr),s}function rb(s,i,o){var c=i.pendingProps,d=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(un.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,s===null){if(lt){if(d?za(i):Ha(),(s=kt)?(s=h_(s,Es),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:ja!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},o=Mv(s),o.return=i,i.child=o,zn=i,kt=null)):s=null,s===null)throw Pa(i);return og(s)?i.lanes=32:i.lanes=536870912,null}var C=c.children;return c=c.fallback,d?(Ha(),d=i.mode,C=uf({mode:"hidden",children:C},d),c=zo(c,d,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,c=i.child,c.memoizedState=wp(o),c.childLanes=Ap(s,T,o),i.memoizedState=Tp,nu(null,c)):(za(i),Sp(i,C))}var q=s.memoizedState;if(q!==null&&(C=q.dehydrated,C!==null)){if(g)i.flags&256?(za(i),i.flags&=-257,i=Np(s,i,o)):i.memoizedState!==null?(Ha(),i.child=s.child,i.flags|=128,i=null):(Ha(),C=c.fallback,d=i.mode,c=uf({mode:"visible",children:c.children},d),C=zo(C,d,o,null),C.flags|=2,c.return=i,C.return=i,c.sibling=C,i.child=c,Yo(i,s.child,null,o),c=i.child,c.memoizedState=wp(o),c.childLanes=Ap(s,T,o),i.memoizedState=Tp,i=nu(null,c));else if(za(i),og(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var Z=T.dgst;T=Z,c=Error(r(419)),c.stack="",c.digest=T,Fc({value:c,source:null,stack:null}),i=Np(s,i,o)}else if(yn||kl(s,i,o,!1),T=(o&s.childLanes)!==0,yn||T){if(T=At,T!==null&&(c=zi(T,o),c!==0&&c!==q.retryLane))throw q.retryLane=c,Bo(s,c),Lr(T,s,c),Ep;ag(C)||bf(),i=Np(s,i,o)}else ag(C)?(i.flags|=192,i.child=s.child,i=null):(s=q.treeContext,kt=Ts(C.nextSibling),zn=i,lt=!0,Ma=null,Es=!1,s!==null&&Uv(i,s),i=Sp(i,c.children),i.flags|=4096);return i}return d?(Ha(),C=c.fallback,d=i.mode,q=s.child,Z=q.sibling,c=Xi(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,Z!==null?C=Xi(Z,C):(C=zo(C,d,o,null),C.flags|=2),C.return=i,c.return=i,c.sibling=C,i.child=c,nu(null,c),c=i.child,C=s.child.memoizedState,C===null?C=wp(o):(d=C.cachePool,d!==null?(q=pn._currentValue,d=d.parent!==q?{parent:q,pool:q}:d):d=Gv(),C={baseLanes:C.baseLanes|o,cachePool:d}),c.memoizedState=C,c.childLanes=Ap(s,T,o),i.memoizedState=Tp,nu(s.child,c)):(za(i),o=s.child,s=o.sibling,o=Xi(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,s!==null&&(T=i.deletions,T===null?(i.deletions=[s],i.flags|=16):T.push(s)),i.child=o,i.memoizedState=null,o)}function Sp(s,i){return i=uf({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function uf(s,i){return s=Qr(22,s,null,i),s.lanes=0,s}function Np(s,i,o){return Yo(i,s.child,null,o),s=Sp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function sb(s,i,o){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),zm(s.return,i,o)}function Cp(s,i,o,c,d,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function ib(s,i,o){var c=i.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=un.current,C=(T&2)!==0;if(C?(T=T&1|2,i.flags|=128):T&=1,ue(un,T),Fn(s,i,c,o),c=lt?Hc:0,!C&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sb(s,o,i);else if(s.tag===19)sb(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(d){case"forwards":for(o=i.child,d=null;o!==null;)s=o.alternate,s!==null&&Wh(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Cp(i,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(s=d.alternate,s!==null&&Wh(s)===null){i.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}Cp(i,!0,o,null,g,c);break;case"together":Cp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function na(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),$a|=i.lanes,(o&i.childLanes)===0)if(s!==null){if(kl(s,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,o=Xi(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Xi(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function Rp(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Hh(s)))}function aN(s,i,o){switch(i.tag){case 3:Ie(i,i.stateNode.containerInfo),Va(i,pn,s.memoizedState.cache),Ho();break;case 27:case 5:Qe(i);break;case 4:Ie(i,i.stateNode.containerInfo);break;case 10:Va(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ep(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(za(i),i.flags|=128,null):(o&i.child.childLanes)!==0?rb(s,i,o):(za(i),s=na(s,i,o),s!==null?s.sibling:null);za(i);break;case 19:var d=(s.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(kl(s,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return ib(s,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(un,un.current),c)break;return null;case 22:return i.lanes=0,W1(s,i,o,i.pendingProps);case 24:Va(i,pn,s.memoizedState.cache)}return na(s,i,o)}function ab(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps)yn=!0;else{if(!Rp(s,o)&&(i.flags&128)===0)return yn=!1,aN(s,i,o);yn=(s.flags&131072)!==0}else yn=!1,lt&&(i.flags&1048576)!==0&&Vv(i,Hc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(s=Ko(i.elementType),i.type=s,typeof s=="function")km(s)?(c=Wo(s,c),i.tag=1,i=tb(null,i,s,c,o)):(i.tag=0,i=xp(null,i,s,c,o));else{if(s!=null){var d=s.$$typeof;if(d===ye){i.tag=11,i=Q1(null,i,s,c,o);break e}else if(d===M){i.tag=14,i=Y1(null,i,s,c,o);break e}}throw i=me(s)||s,Error(r(306,i,""))}}return i;case 0:return xp(s,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=Wo(c,i.pendingProps),tb(s,i,c,d,o);case 3:e:{if(Ie(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;d=g.element,Ym(s,i),Wc(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Va(i,pn,c),c!==g.cache&&Hm(i,[pn],o,!0),Xc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=nb(s,i,c,o);break e}else if(c!==d){d=vs(Error(r(424)),i),Fc(d),i=nb(s,i,c,o);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(kt=Ts(s.firstChild),zn=i,lt=!0,Ma=null,Es=!0,o=Wv(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ho(),c===d){i=na(s,i,o);break e}Fn(s,i,c,o)}i=i.child}return i;case 26:return cf(s,i),s===null?(o=y_(i.type,null,i.pendingProps,null))?i.memoizedState=o:lt||(o=i.type,s=i.pendingProps,c=Sf(we.current).createElement(o),c[qt]=i,c[Jt]=s,Gn(c,o,s),Bt(c),i.stateNode=c):i.memoizedState=y_(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Qe(i),s===null&&lt&&(c=i.stateNode=m_(i.type,i.pendingProps,we.current),zn=i,Es=!0,d=kt,Wa(i.type)?(lg=d,kt=Ts(c.firstChild)):kt=d),Fn(s,i,i.pendingProps.children,o),cf(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&lt&&((d=c=kt)&&(c=MN(c,i.type,i.pendingProps,Es),c!==null?(i.stateNode=c,zn=i,kt=Ts(c.firstChild),Es=!1,d=!0):d=!1),d||Pa(i)),Qe(i),d=i.type,g=i.pendingProps,T=s!==null?s.memoizedProps:null,c=g.children,rg(d,g)?c=null:T!==null&&rg(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=np(s,i,W2,null,null,o),yu._currentValue=d),cf(s,i),Fn(s,i,c,o),i.child;case 6:return s===null&&lt&&((s=o=kt)&&(o=PN(o,i.pendingProps,Es),o!==null?(i.stateNode=o,zn=i,kt=null,s=!0):s=!1),s||Pa(i)),null;case 13:return rb(s,i,o);case 4:return Ie(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=Yo(i,null,c,o):Fn(s,i,c,o),i.child;case 11:return Q1(s,i,i.type,i.pendingProps,o);case 7:return Fn(s,i,i.pendingProps,o),i.child;case 8:return Fn(s,i,i.pendingProps.children,o),i.child;case 12:return Fn(s,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Va(i,i.type,c.value),Fn(s,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,Go(i),d=Hn(d),c=c(d),i.flags|=1,Fn(s,i,c,o),i.child;case 14:return Y1(s,i,i.type,i.pendingProps,o);case 15:return X1(s,i,i.type,i.pendingProps,o);case 19:return ib(s,i,o);case 31:return iN(s,i,o);case 22:return W1(s,i,o,i.pendingProps);case 24:return Go(i),c=Hn(pn),s===null?(d=$m(),d===null&&(d=At,g=Fm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),i.memoizedState={parent:c,cache:d},Qm(i),Va(i,pn,d)):((s.lanes&o)!==0&&(Ym(s,i),Wc(i,null,null,o),Xc()),d=s.memoizedState,g=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Va(i,pn,c)):(c=g.cache,Va(i,pn,c),c!==d.cache&&Hm(i,[pn],o,!0))),Fn(s,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ra(s){s.flags|=4}function Ip(s,i,o,c,d){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(d&335544128)===d)if(s.stateNode.complete)s.flags|=8192;else if(Lb())s.flags|=8192;else throw Qo=Kh,Km}else s.flags&=-16777217}function ob(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!x_(i))if(Lb())s.flags|=8192;else throw Qo=Kh,Km}function hf(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?ii():536870912,s.lanes|=i,$l|=i)}function ru(s,i){if(!lt)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function jt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(i)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=c,s.childLanes=o,i}function oN(s,i,o){var c=i.pendingProps;switch(Vm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return jt(i),null;case 3:return o=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ji(pn),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ll(i)?ra(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qm())),jt(i),null;case 26:var d=i.type,g=i.memoizedState;return s===null?(ra(i),g!==null?(jt(i),ob(i,g)):(jt(i),Ip(i,d,null,c,o))):g?g!==s.memoizedState?(ra(i),jt(i),ob(i,g)):(jt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==c&&ra(i),jt(i),Ip(i,d,s,c,o)),null;case 27:if(We(i),o=we.current,d=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&ra(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return jt(i),null}s=fe.current,Ll(i)?qv(i):(s=m_(d,c,o),i.stateNode=s,ra(i))}return jt(i),null;case 5:if(We(i),d=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&ra(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return jt(i),null}if(g=fe.current,Ll(i))qv(i);else{var T=Sf(we.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[qt]=i,g[Jt]=c;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;e:switch(Gn(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ra(i)}}return jt(i),Ip(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,o),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&ra(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=we.current,Ll(i)){if(s=i.stateNode,o=i.memoizedProps,c=null,d=zn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}s[qt]=i,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||r_(s.nodeValue,o)),s||Pa(i,!0)}else s=Sf(s).createTextNode(c),s[qt]=i,i.stateNode=s}return jt(i),null;case 31:if(o=i.memoizedState,s===null||s.memoizedState!==null){if(c=Ll(i),o!==null){if(s===null){if(!c)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[qt]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),s=!1}else o=qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return i.flags&256?(Xr(i),i):(Xr(i),null);if((i.flags&128)!==0)throw Error(r(558))}return jt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Ll(i),c!==null&&c.dehydrated!==null){if(s===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[qt]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),d=!1}else d=qm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Xr(i),i):(Xr(i),null)}return Xr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==s&&o&&(i.child.flags|=8192),hf(i,i.updateQueue),jt(i),null);case 4:return Le(),s===null&&Zp(i.stateNode.containerInfo),jt(i),null;case 10:return Ji(i.type),jt(i),null;case 19:if(Y(un),c=i.memoizedState,c===null)return jt(i),null;if(d=(i.flags&128)!==0,g=c.rendering,g===null)if(d)ru(c,!1);else{if(nn!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(g=Wh(s),g!==null){for(i.flags|=128,ru(c,!1),s=g.updateQueue,i.updateQueue=s,hf(i,s),i.subtreeFlags=0,s=o,o=i.child;o!==null;)jv(o,s),o=o.sibling;return ue(un,un.current&1|2),lt&&Wi(i,c.treeForkCount),i.child}s=s.sibling}c.tail!==null&&Nt()>gf&&(i.flags|=128,d=!0,ru(c,!1),i.lanes=4194304)}else{if(!d)if(s=Wh(g),s!==null){if(i.flags|=128,d=!0,s=s.updateQueue,i.updateQueue=s,hf(i,s),ru(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!lt)return jt(i),null}else 2*Nt()-c.renderingStartTime>gf&&o!==536870912&&(i.flags|=128,d=!0,ru(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(s=c.last,s!==null?s.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=Nt(),s.sibling=null,o=un.current,ue(un,d?o&1|2:o&1),lt&&Wi(i,c.treeForkCount),s):(jt(i),null);case 22:case 23:return Xr(i),Jm(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),o=i.updateQueue,o!==null&&hf(i,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),s!==null&&Y($o),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ji(pn),jt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function lN(s,i){switch(Vm(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ji(pn),Le(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return We(i),null;case 31:if(i.memoizedState!==null){if(Xr(i),i.alternate===null)throw Error(r(340));Ho()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Xr(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ho()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Y(un),null;case 4:return Le(),null;case 10:return Ji(i.type),null;case 22:case 23:return Xr(i),Jm(),s!==null&&Y($o),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Ji(pn),null;case 25:return null;default:return null}}function lb(s,i){switch(Vm(i),i.tag){case 3:Ji(pn),Le();break;case 26:case 27:case 5:We(i);break;case 4:Le();break;case 31:i.memoizedState!==null&&Xr(i);break;case 13:Xr(i);break;case 19:Y(un);break;case 10:Ji(i.type);break;case 22:case 23:Xr(i),Jm(),s!==null&&Y($o);break;case 24:Ji(pn)}}function su(s,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&s)===s){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(C){bt(i,i.return,C)}}function Fa(s,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&s)===s){var T=c.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=i;var q=o,Z=C;try{Z()}catch(se){bt(d,q,se)}}}c=c.next}while(c!==g)}}catch(se){bt(i,i.return,se)}}function cb(s){var i=s.updateQueue;if(i!==null){var o=s.stateNode;try{Jv(i,o)}catch(c){bt(s,s.return,c)}}}function ub(s,i,o){o.props=Wo(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){bt(s,i,c)}}function iu(s,i){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(d){bt(s,i,d)}}function gi(s,i){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){bt(s,i,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){bt(s,i,d)}else o.current=null}function hb(s){var i=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){bt(s,s.return,d)}}function Op(s,i,o){try{var c=s.stateNode;IN(c,s.type,o,i),c[Jt]=i}catch(d){bt(s,s.return,d)}}function fb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Wa(s.type)||s.tag===4}function Dp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Wa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lp(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(s),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=tr));else if(c!==4&&(c===27&&Wa(s.type)&&(o=s.stateNode,i=null),s=s.child,s!==null))for(Lp(s,i,o),s=s.sibling;s!==null;)Lp(s,i,o),s=s.sibling}function ff(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(c!==4&&(c===27&&Wa(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(ff(s,i,o),s=s.sibling;s!==null;)ff(s,i,o),s=s.sibling}function db(s){var i=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Gn(i,c,o),i[qt]=s,i[Jt]=o}catch(g){bt(s,s.return,g)}}var sa=!1,vn=!1,kp=!1,mb=typeof WeakSet=="function"?WeakSet:Set,On=null;function cN(s,i){if(s=s.containerInfo,tg=Lf,s=Sv(s),Nm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,C=-1,q=-1,Z=0,se=0,ce=s,ee=null;t:for(;;){for(var re;ce!==o||d!==0&&ce.nodeType!==3||(C=T+d),ce!==g||c!==0&&ce.nodeType!==3||(q=T+c),ce.nodeType===3&&(T+=ce.nodeValue.length),(re=ce.firstChild)!==null;)ee=ce,ce=re;for(;;){if(ce===s)break t;if(ee===o&&++Z===d&&(C=T),ee===g&&++se===c&&(q=T),(re=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=re}o=C===-1||q===-1?null:{start:C,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(ng={focusedElem:s,selectionRange:o},Lf=!1,On=i;On!==null;)if(i=On,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,On=s;else for(;On!==null;){switch(i=On,g=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)d=s[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=i,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Se=Wo(o.type,d);s=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){bt(o,o.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,o=s.nodeType,o===9)ig(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ig(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,On=s;break}On=i.return}}function pb(s,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:aa(s,o),c&4&&su(5,o);break;case 1:if(aa(s,o),c&4)if(s=o.stateNode,i===null)try{s.componentDidMount()}catch(T){bt(o,o.return,T)}else{var d=Wo(o.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(d,i,s.__reactInternalSnapshotBeforeUpdate)}catch(T){bt(o,o.return,T)}}c&64&&cb(o),c&512&&iu(o,o.return);break;case 3:if(aa(s,o),c&64&&(s=o.updateQueue,s!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Jv(s,i)}catch(T){bt(o,o.return,T)}}break;case 27:i===null&&c&4&&db(o);case 26:case 5:aa(s,o),i===null&&c&4&&hb(o),c&512&&iu(o,o.return);break;case 12:aa(s,o);break;case 31:aa(s,o),c&4&&vb(s,o);break;case 13:aa(s,o),c&4&&bb(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=vN.bind(null,o),VN(s,o))));break;case 22:if(c=o.memoizedState!==null||sa,!c){i=i!==null&&i.memoizedState!==null||vn,d=sa;var g=vn;sa=c,(vn=i)&&!g?oa(s,o,(o.subtreeFlags&8772)!==0):aa(s,o),sa=d,vn=g}break;case 30:break;default:aa(s,o)}}function gb(s){var i=s.alternate;i!==null&&(s.alternate=null,gb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&ai(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var $t=null,Rr=!1;function ia(s,i,o){for(o=o.child;o!==null;)yb(s,i,o),o=o.sibling}function yb(s,i,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ur,o)}catch{}switch(o.tag){case 26:vn||gi(o,i),ia(s,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vn||gi(o,i);var c=$t,d=Rr;Wa(o.type)&&($t=o.stateNode,Rr=!1),ia(s,i,o),mu(o.stateNode),$t=c,Rr=d;break;case 5:vn||gi(o,i);case 6:if(c=$t,d=Rr,$t=null,ia(s,i,o),$t=c,Rr=d,$t!==null)if(Rr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(o.stateNode)}catch(g){bt(o,i,g)}else try{$t.removeChild(o.stateNode)}catch(g){bt(o,i,g)}break;case 18:$t!==null&&(Rr?(s=$t,c_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),ec(s)):c_($t,o.stateNode));break;case 4:c=$t,d=Rr,$t=o.stateNode.containerInfo,Rr=!0,ia(s,i,o),$t=c,Rr=d;break;case 0:case 11:case 14:case 15:Fa(2,o,i),vn||Fa(4,o,i),ia(s,i,o);break;case 1:vn||(gi(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ub(o,i,c)),ia(s,i,o);break;case 21:ia(s,i,o);break;case 22:vn=(c=vn)||o.memoizedState!==null,ia(s,i,o),vn=c;break;default:ia(s,i,o)}}function vb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ec(s)}catch(o){bt(i,i.return,o)}}}function bb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ec(s)}catch(o){bt(i,i.return,o)}}function uN(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new mb),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new mb),i;default:throw Error(r(435,s.tag))}}function df(s,i){var o=uN(s);i.forEach(function(c){if(!o.has(c)){o.add(c);var d=bN.bind(null,s,c);c.then(d,d)}})}function Ir(s,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=s,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Wa(C.type)){$t=C.stateNode,Rr=!1;break e}break;case 5:$t=C.stateNode,Rr=!1;break e;case 3:case 4:$t=C.stateNode.containerInfo,Rr=!0;break e}C=C.return}if($t===null)throw Error(r(160));yb(g,T,d),$t=null,Rr=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_b(i,s),i=i.sibling}var Gs=null;function _b(s,i){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ir(i,s),Or(s),c&4&&(Fa(3,s,s.return),su(3,s),Fa(5,s,s.return));break;case 1:Ir(i,s),Or(s),c&512&&(vn||o===null||gi(o,o.return)),c&64&&sa&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Gs;if(Ir(i,s),Or(s),c&512&&(vn||o===null||gi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[wr]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Gn(g,c,o),g[qt]=s,Bt(g),c=g;break e;case"link":var T=__("link","href",d).get(c+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}g=d.createElement(c),Gn(g,c,o),d.head.appendChild(g);break;case"meta":if(T=__("meta","content",d).get(c+(o.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}g=d.createElement(c),Gn(g,c,o),d.head.appendChild(g);break;default:throw Error(r(468,c))}g[qt]=s,Bt(g),c=g}s.stateNode=c}else E_(d,s.type,s.stateNode);else s.stateNode=b_(d,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?E_(d,s.type,s.stateNode):b_(d,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Op(s,s.memoizedProps,o.memoizedProps)}break;case 27:Ir(i,s),Or(s),c&512&&(vn||o===null||gi(o,o.return)),o!==null&&c&4&&Op(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Ir(i,s),Or(s),c&512&&(vn||o===null||gi(o,o.return)),s.flags&32){d=s.stateNode;try{Ht(d,"")}catch(Se){bt(s,s.return,Se)}}c&4&&s.stateNode!=null&&(d=s.memoizedProps,Op(s,d,o!==null?o.memoizedProps:d)),c&1024&&(kp=!0);break;case 6:if(Ir(i,s),Or(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(Se){bt(s,s.return,Se)}}break;case 3:if(Rf=null,d=Gs,Gs=Nf(i.containerInfo),Ir(i,s),Gs=d,Or(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ec(i.containerInfo)}catch(Se){bt(s,s.return,Se)}kp&&(kp=!1,Eb(s));break;case 4:c=Gs,Gs=Nf(s.stateNode.containerInfo),Ir(i,s),Or(s),Gs=c;break;case 12:Ir(i,s),Or(s);break;case 31:Ir(i,s),Or(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,df(s,c)));break;case 13:Ir(i,s),Or(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(pf=Nt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,df(s,c)));break;case 22:d=s.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,Z=sa,se=vn;if(sa=Z||d,vn=se||q,Ir(i,s),vn=se,sa=Z,Or(s),c&8192)e:for(i=s.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||q||sa||vn||Zo(s)),o=null,i=s;;){if(i.tag===5||i.tag===26){if(o===null){q=o=i;try{if(g=q.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=q.stateNode;var ce=q.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){bt(q,q.return,Se)}}}else if(i.tag===6){if(o===null){q=i;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(Se){bt(q,q.return,Se)}}}else if(i.tag===18){if(o===null){q=i;try{var re=q.stateNode;d?u_(re,!0):u_(q.stateNode,!1)}catch(Se){bt(q,q.return,Se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,df(s,o))));break;case 19:Ir(i,s),Or(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,df(s,c)));break;case 30:break;case 21:break;default:Ir(i,s),Or(s)}}function Or(s){var i=s.flags;if(i&2){try{for(var o,c=s.return;c!==null;){if(fb(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Dp(s);ff(s,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Ht(T,""),o.flags&=-33);var C=Dp(s);ff(s,C,T);break;case 3:case 4:var q=o.stateNode.containerInfo,Z=Dp(s);Lp(s,Z,q);break;default:throw Error(r(161))}}catch(se){bt(s,s.return,se)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Eb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Eb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function aa(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)pb(s,i.alternate,i),i=i.sibling}function Zo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Fa(4,i,i.return),Zo(i);break;case 1:gi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ub(i,i.return,o),Zo(i);break;case 27:mu(i.stateNode);case 26:case 5:gi(i,i.return),Zo(i);break;case 22:i.memoizedState===null&&Zo(i);break;case 30:Zo(i);break;default:Zo(i)}s=s.sibling}}function oa(s,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=s,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:oa(d,g,o),su(4,g);break;case 1:if(oa(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Z){bt(c,c.return,Z)}if(c=g,d=c.updateQueue,d!==null){var C=c.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)Zv(q[d],C)}catch(Z){bt(c,c.return,Z)}}o&&T&64&&cb(g),iu(g,g.return);break;case 27:db(g);case 26:case 5:oa(d,g,o),o&&c===null&&T&4&&hb(g),iu(g,g.return);break;case 12:oa(d,g,o);break;case 31:oa(d,g,o),o&&T&4&&vb(d,g);break;case 13:oa(d,g,o),o&&T&4&&bb(d,g);break;case 22:g.memoizedState===null&&oa(d,g,o),iu(g,g.return);break;case 30:break;default:oa(d,g,o)}i=i.sibling}}function jp(s,i){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Gc(o))}function Mp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Gc(s))}function $s(s,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xb(s,i,o,c),i=i.sibling}function xb(s,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:$s(s,i,o,c),d&2048&&su(9,i);break;case 1:$s(s,i,o,c);break;case 3:$s(s,i,o,c),d&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Gc(s)));break;case 12:if(d&2048){$s(s,i,o,c),s=i.stateNode;try{var g=i.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){bt(i,i.return,q)}}else $s(s,i,o,c);break;case 31:$s(s,i,o,c);break;case 13:$s(s,i,o,c);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?$s(s,i,o,c):au(s,i):g._visibility&2?$s(s,i,o,c):(g._visibility|=2,Hl(s,i,o,c,(i.subtreeFlags&10256)!==0||!1)),d&2048&&jp(T,i);break;case 24:$s(s,i,o,c),d&2048&&Mp(i.alternate,i);break;default:$s(s,i,o,c)}}function Hl(s,i,o,c,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=s,T=i,C=o,q=c,Z=T.flags;switch(T.tag){case 0:case 11:case 15:Hl(g,T,C,q,d),su(8,T);break;case 23:break;case 22:var se=T.stateNode;T.memoizedState!==null?se._visibility&2?Hl(g,T,C,q,d):au(g,T):(se._visibility|=2,Hl(g,T,C,q,d)),d&&Z&2048&&jp(T.alternate,T);break;case 24:Hl(g,T,C,q,d),d&&Z&2048&&Mp(T.alternate,T);break;default:Hl(g,T,C,q,d)}i=i.sibling}}function au(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=s,c=i,d=c.flags;switch(c.tag){case 22:au(o,c),d&2048&&jp(c.alternate,c);break;case 24:au(o,c),d&2048&&Mp(c.alternate,c);break;default:au(o,c)}i=i.sibling}}var ou=8192;function Fl(s,i,o){if(s.subtreeFlags&ou)for(s=s.child;s!==null;)Tb(s,i,o),s=s.sibling}function Tb(s,i,o){switch(s.tag){case 26:Fl(s,i,o),s.flags&ou&&s.memoizedState!==null&&XN(o,Gs,s.memoizedState,s.memoizedProps);break;case 5:Fl(s,i,o);break;case 3:case 4:var c=Gs;Gs=Nf(s.stateNode.containerInfo),Fl(s,i,o),Gs=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=ou,ou=16777216,Fl(s,i,o),ou=c):Fl(s,i,o));break;default:Fl(s,i,o)}}function wb(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function lu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];On=c,Sb(c,s)}wb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ab(s),s=s.sibling}function Ab(s){switch(s.tag){case 0:case 11:case 15:lu(s),s.flags&2048&&Fa(9,s,s.return);break;case 3:lu(s);break;case 12:lu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,mf(s)):lu(s);break;default:lu(s)}}function mf(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];On=c,Sb(c,s)}wb(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Fa(8,i,i.return),mf(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,mf(i));break;default:mf(i)}s=s.sibling}}function Sb(s,i){for(;On!==null;){var o=On;switch(o.tag){case 0:case 11:case 15:Fa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Gc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,On=c;else e:for(o=s;On!==null;){c=On;var d=c.sibling,g=c.return;if(gb(c),c===o){On=null;break e}if(d!==null){d.return=g,On=d;break e}On=g}}}var hN={getCacheForType:function(s){var i=Hn(pn),o=i.data.get(s);return o===void 0&&(o=s(),i.data.set(s,o)),o},cacheSignal:function(){return Hn(pn).controller.signal}},fN=typeof WeakMap=="function"?WeakMap:Map,pt=0,At=null,Je=null,nt=0,vt=0,Wr=null,Ga=!1,Gl=!1,Pp=!1,la=0,nn=0,$a=0,Jo=0,Vp=0,Zr=0,$l=0,cu=null,Dr=null,Up=!1,pf=0,Nb=0,gf=1/0,yf=null,Ka=null,wn=0,Qa=null,Kl=null,ca=0,qp=0,Bp=null,Cb=null,uu=0,zp=null;function Jr(){return(pt&2)!==0&&nt!==0?nt&-nt:B.T!==null?Qp():Zt()}function Rb(){if(Zr===0)if((nt&536870912)===0||lt){var s=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),Zr=s}else Zr=536870912;return s=Yr.current,s!==null&&(s.flags|=32),Zr}function Lr(s,i,o){(s===At&&(vt===2||vt===9)||s.cancelPendingCommit!==null)&&(Ql(s,0),Ya(s,nt,Zr,!1)),os(s,o),((pt&2)===0||s!==At)&&(s===At&&((pt&2)===0&&(Jo|=o),nn===4&&Ya(s,nt,Zr,!1)),yi(s))}function Ib(s,i,o){if((pt&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&s.expiredLanes)===0||jn(s,i),d=c?pN(s,i):Fp(s,i,!0),g=c;do{if(d===0){Gl&&!c&&Ya(s,i,0,!1);break}else{if(o=s.current.alternate,g&&!dN(o)){d=Fp(s,i,!1),g=!1;continue}if(d===2){if(g=i,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=s;d=cu;var q=C.current.memoizedState.isDehydrated;if(q&&(Ql(C,T).flags|=256),T=Fp(C,T,!1),T!==2){if(Pp&&!q){C.errorRecoveryDisabledLanes|=g,Jo|=g,d=4;break e}g=Dr,Dr=d,g!==null&&(Dr===null?Dr=g:Dr.push.apply(Dr,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Ql(s,0),Ya(s,i,0,!0);break}e:{switch(c=s,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ya(c,i,Zr,!Ga);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=pf+300-Nt(),10<d)){if(Ya(c,i,Zr,!Ga),Cn(c,0,!0)!==0)break e;ca=i,c.timeoutHandle=o_(Ob.bind(null,c,o,Dr,yf,Up,i,Zr,Jo,$l,Ga,g,"Throttled",-0,0),d);break e}Ob(c,o,Dr,yf,Up,i,Zr,Jo,$l,Ga,g,null,-0,0)}}break}while(!0);yi(s)}function Ob(s,i,o,c,d,g,T,C,q,Z,se,ce,ee,re){if(s.timeoutHandle=-1,ce=i.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tr},Tb(i,g,ce);var Se=(g&62914560)===g?pf-Nt():(g&4194048)===g?Nb-Nt():0;if(Se=WN(ce,Se),Se!==null){ca=g,s.cancelPendingCommit=Se(Ub.bind(null,s,i,g,o,c,d,T,C,q,se,ce,null,ee,re)),Ya(s,g,T,!Z);return}}Ub(s,i,g,o,c,d,T,C,q)}function dN(s){for(var i=s;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Kr(g(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ya(s,i,o,c){i&=~Vp,i&=~Jo,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var d=i;0<d;){var g=31-Ct(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&Ms(s,o,i)}function vf(){return(pt&6)===0?(hu(0),!1):!0}function Hp(){if(Je!==null){if(vt===0)var s=Je.return;else s=Je,Zi=Fo=null,ip(s),Vl=null,Kc=0,s=Je;for(;s!==null;)lb(s.alternate,s),s=s.return;Je=null}}function Ql(s,i){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,LN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ca=0,Hp(),At=s,Je=o=Xi(s.current,null),nt=i,vt=0,Wr=null,Ga=!1,Gl=jn(s,i),Pp=!1,$l=Zr=Vp=Jo=$a=nn=0,Dr=cu=null,Up=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var d=31-Ct(c),g=1<<d;i|=s[d],c&=~g}return la=i,Vh(),o}function Db(s,i){Ge=null,B.H=tu,i===Pl||i===$h?(i=Qv(),vt=3):i===Km?(i=Qv(),vt=4):vt=i===Ep?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Wr=i,Je===null&&(nn=1,of(s,vs(i,s.current)))}function Lb(){var s=Yr.current;return s===null?!0:(nt&4194048)===nt?xs===null:(nt&62914560)===nt||(nt&536870912)!==0?s===xs:!1}function kb(){var s=B.H;return B.H=tu,s===null?tu:s}function jb(){var s=B.A;return B.A=hN,s}function bf(){nn=4,Ga||(nt&4194048)!==nt&&Yr.current!==null||(Gl=!0),($a&134217727)===0&&(Jo&134217727)===0||At===null||Ya(At,nt,Zr,!1)}function Fp(s,i,o){var c=pt;pt|=2;var d=kb(),g=jb();(At!==s||nt!==i)&&(yf=null,Ql(s,i)),i=!1;var T=nn;e:do try{if(vt!==0&&Je!==null){var C=Je,q=Wr;switch(vt){case 8:Hp(),T=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(i=!0);var Z=vt;if(vt=0,Wr=null,Yl(s,C,q,Z),o&&Gl){T=0;break e}break;default:Z=vt,vt=0,Wr=null,Yl(s,C,q,Z)}}mN(),T=nn;break}catch(se){Db(s,se)}while(!0);return i&&s.shellSuspendCounter++,Zi=Fo=null,pt=c,B.H=d,B.A=g,Je===null&&(At=null,nt=0,Vh()),T}function mN(){for(;Je!==null;)Mb(Je)}function pN(s,i){var o=pt;pt|=2;var c=kb(),d=jb();At!==s||nt!==i?(yf=null,gf=Nt()+500,Ql(s,i)):Gl=jn(s,i);e:do try{if(vt!==0&&Je!==null){i=Je;var g=Wr;t:switch(vt){case 1:vt=0,Wr=null,Yl(s,i,g,1);break;case 2:case 9:if($v(g)){vt=0,Wr=null,Pb(i);break}i=function(){vt!==2&&vt!==9||At!==s||(vt=7),yi(s)},g.then(i,i);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:$v(g)?(vt=0,Wr=null,Pb(i)):(vt=0,Wr=null,Yl(s,i,g,7));break;case 5:var T=null;switch(Je.tag){case 26:T=Je.memoizedState;case 5:case 27:var C=Je;if(T?x_(T):C.stateNode.complete){vt=0,Wr=null;var q=C.sibling;if(q!==null)Je=q;else{var Z=C.return;Z!==null?(Je=Z,_f(Z)):Je=null}break t}}vt=0,Wr=null,Yl(s,i,g,5);break;case 6:vt=0,Wr=null,Yl(s,i,g,6);break;case 8:Hp(),nn=6;break e;default:throw Error(r(462))}}gN();break}catch(se){Db(s,se)}while(!0);return Zi=Fo=null,B.H=c,B.A=d,pt=o,Je!==null?0:(At=null,nt=0,Vh(),nn)}function gN(){for(;Je!==null&&!Ra();)Mb(Je)}function Mb(s){var i=ab(s.alternate,s,la);s.memoizedProps=s.pendingProps,i===null?_f(s):Je=i}function Pb(s){var i=s,o=i.alternate;switch(i.tag){case 15:case 0:i=eb(o,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=eb(o,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:ip(i);default:lb(o,i),i=Je=jv(i,la),i=ab(o,i,la)}s.memoizedProps=s.pendingProps,i===null?_f(s):Je=i}function Yl(s,i,o,c){Zi=Fo=null,ip(i),Vl=null,Kc=0;var d=i.return;try{if(sN(s,d,i,o,nt)){nn=1,of(s,vs(o,s.current)),Je=null;return}}catch(g){if(d!==null)throw Je=d,g;nn=1,of(s,vs(o,s.current)),Je=null;return}i.flags&32768?(lt||c===1?s=!0:Gl||(nt&536870912)!==0?s=!1:(Ga=s=!0,(c===2||c===9||c===3||c===6)&&(c=Yr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vb(i,s)):_f(i)}function _f(s){var i=s;do{if((i.flags&32768)!==0){Vb(i,Ga);return}s=i.return;var o=oN(i.alternate,i,la);if(o!==null){Je=o;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=s}while(i!==null);nn===0&&(nn=5)}function Vb(s,i){do{var o=lN(s.alternate,s);if(o!==null){o.flags&=32767,Je=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(s=s.sibling,s!==null)){Je=s;return}Je=s=o}while(s!==null);nn=6,Je=null}function Ub(s,i,o,c,d,g,T,C,q){s.cancelPendingCommit=null;do Ef();while(wn!==0);if((pt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Dm,qr(s,o,g,T,C,q),s===At&&(Je=At=null,nt=0),Kl=i,Qa=s,ca=o,qp=g,Bp=d,Cb=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_N(cr,function(){return Fb(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,d=J.p,J.p=2,T=pt,pt|=4;try{cN(s,i,o)}finally{pt=T,J.p=d,B.T=c}}wn=1,qb(),Bb(),zb()}}function qb(){if(wn===1){wn=0;var s=Qa,i=Kl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var c=J.p;J.p=2;var d=pt;pt|=4;try{_b(i,s);var g=ng,T=Sv(s.containerInfo),C=g.focusedElem,q=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&Av(C.ownerDocument.documentElement,C)){if(q!==null&&Nm(C)){var Z=q.start,se=q.end;if(se===void 0&&(se=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(se,C.value.length);else{var ce=C.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Se=C.textContent.length,Pe=Math.min(q.start,Se),Tt=q.end===void 0?Pe:Math.min(q.end,Se);!re.extend&&Pe>Tt&&(T=Tt,Tt=Pe,Pe=T);var K=wv(C,Pe),$=wv(C,Tt);if(K&&$&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==$.node||re.focusOffset!==$.offset)){var X=ce.createRange();X.setStart(K.node,K.offset),re.removeAllRanges(),Pe>Tt?(re.addRange(X),re.extend($.node,$.offset)):(X.setEnd($.node,$.offset),re.addRange(X))}}}}for(ce=[],re=C;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var ie=ce[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Lf=!!tg,ng=tg=null}finally{pt=d,J.p=c,B.T=o}}s.current=i,wn=2}}function Bb(){if(wn===2){wn=0;var s=Qa,i=Kl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var c=J.p;J.p=2;var d=pt;pt|=4;try{pb(s,i.alternate,i)}finally{pt=d,J.p=c,B.T=o}}wn=3}}function zb(){if(wn===4||wn===3){wn=0,ji();var s=Qa,i=Kl,o=ca,c=Cb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?wn=5:(wn=0,Kl=Qa=null,Hb(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Ka=null),hr(o),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ur,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=B.T,d=J.p,J.p=2,B.T=null;try{for(var g=s.onRecoverableError,T=0;T<c.length;T++){var C=c[T];g(C.value,{componentStack:C.stack})}}finally{B.T=i,J.p=d}}(ca&3)!==0&&Ef(),yi(s),d=s.pendingLanes,(o&261930)!==0&&(d&42)!==0?s===zp?uu++:(uu=0,zp=s):uu=0,hu(0)}}function Hb(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Gc(i)))}function Ef(){return qb(),Bb(),zb(),Fb()}function Fb(){if(wn!==5)return!1;var s=Qa,i=qp;qp=0;var o=hr(ca),c=B.T,d=J.p;try{J.p=32>o?32:o,B.T=null,o=Bp,Bp=null;var g=Qa,T=ca;if(wn=0,Kl=Qa=null,ca=0,(pt&6)!==0)throw Error(r(331));var C=pt;if(pt|=4,Ab(g.current),xb(g,g.current,T,o),pt=C,hu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ur,g)}catch{}return!0}finally{J.p=d,B.T=c,Hb(s,i)}}function Gb(s,i,o){i=vs(o,i),i=_p(s.stateNode,i,2),s=Ba(s,i,2),s!==null&&(os(s,2),yi(s))}function bt(s,i,o){if(s.tag===3)Gb(s,s,o);else for(;i!==null;){if(i.tag===3){Gb(i,s,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ka===null||!Ka.has(c))){s=vs(o,s),o=$1(2),c=Ba(i,o,2),c!==null&&(K1(o,c,i,s),os(c,2),yi(c));break}}i=i.return}}function Gp(s,i,o){var c=s.pingCache;if(c===null){c=s.pingCache=new fN;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(Pp=!0,d.add(o),s=yN.bind(null,s,i,o),i.then(s,s))}function yN(s,i,o){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,At===s&&(nt&o)===o&&(nn===4||nn===3&&(nt&62914560)===nt&&300>Nt()-pf?(pt&2)===0&&Ql(s,0):Vp|=o,$l===nt&&($l=0)),yi(s)}function $b(s,i){i===0&&(i=ii()),s=Bo(s,i),s!==null&&(os(s,i),yi(s))}function vN(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),$b(s,o)}function bN(s,i){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),$b(s,o)}function _N(s,i){return St(s,i)}var xf=null,Xl=null,$p=!1,Tf=!1,Kp=!1,Xa=0;function yi(s){s!==Xl&&s.next===null&&(Xl===null?xf=Xl=s:Xl=Xl.next=s),Tf=!0,$p||($p=!0,xN())}function hu(s,i){if(!Kp&&Tf){Kp=!0;do for(var o=!1,c=xf;c!==null;){if(s!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-Ct(42|s)+1)-1,g&=d&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Xb(c,g))}else g=nt,g=Cn(c,c===At?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||jn(c,g)||(o=!0,Xb(c,g));c=c.next}while(o);Kp=!1}}function EN(){Kb()}function Kb(){Tf=$p=!1;var s=0;Xa!==0&&DN()&&(s=Xa);for(var i=Nt(),o=null,c=xf;c!==null;){var d=c.next,g=Qb(c,i);g===0?(c.next=null,o===null?xf=d:o.next=d,d===null&&(Xl=o)):(o=c,(s!==0||(g&3)!==0)&&(Tf=!0)),c=d}wn!==0&&wn!==5||hu(s),Xa!==0&&(Xa=0)}function Qb(s,i){for(var o=s.suspendedLanes,c=s.pingedLanes,d=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-Ct(g),C=1<<T,q=d[T];q===-1?((C&o)===0||(C&c)!==0)&&(d[T]=qi(C,i)):q<=i&&(s.expiredLanes|=C),g&=~C}if(i=At,o=nt,o=Cn(s,s===i?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===i&&(vt===2||vt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&_r(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||jn(s,o)){if(i=o&-o,i===s.callbackPriority)return i;switch(c!==null&&_r(c),hr(o)){case 2:case 8:o=Vr;break;case 32:o=cr;break;case 268435456:o=Ln;break;default:o=cr}return c=Yb.bind(null,s),o=St(o,c),s.callbackPriority=i,s.callbackNode=o,i}return c!==null&&c!==null&&_r(c),s.callbackPriority=2,s.callbackNode=null,2}function Yb(s,i){if(wn!==0&&wn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Ef()&&s.callbackNode!==o)return null;var c=nt;return c=Cn(s,s===At?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Ib(s,c,i),Qb(s,Nt()),s.callbackNode!=null&&s.callbackNode===o?Yb.bind(null,s):null)}function Xb(s,i){if(Ef())return null;Ib(s,i,!0)}function xN(){kN(function(){(pt&6)!==0?St(Mi,EN):Kb()})}function Qp(){if(Xa===0){var s=jl;s===0&&(s=kn,kn<<=1,(kn&261888)===0&&(kn=256)),Xa=s}return Xa}function Wb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hi(""+s)}function Zb(s,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,s.id&&o.setAttribute("form",s.id),i.parentNode.insertBefore(o,i),s=new FormData(s),o.parentNode.removeChild(o),s}function TN(s,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var g=Wb((d[Jt]||null).action),T=c.submitter;T&&(i=(i=T[Jt]||null)?Wb(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var C=new Ae("action","action",null,c,d);s.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xa!==0){var q=T?Zb(d,T):new FormData(d);mp(o,{pending:!0,data:q,method:d.method,action:g},null,q)}}else typeof g=="function"&&(C.preventDefault(),q=T?Zb(d,T):new FormData(d),mp(o,{pending:!0,data:q,method:d.method,action:g},g,q))},currentTarget:d}]})}}for(var Yp=0;Yp<Om.length;Yp++){var Xp=Om[Yp],wN=Xp.toLowerCase(),AN=Xp[0].toUpperCase()+Xp.slice(1);Fs(wN,"on"+AN)}Fs(Rv,"onAnimationEnd"),Fs(Iv,"onAnimationIteration"),Fs(Ov,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(B2,"onTransitionRun"),Fs(z2,"onTransitionStart"),Fs(H2,"onTransitionCancel"),Fs(Dv,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function Jb(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var T=c.length-1;0<=T;T--){var C=c[T],q=C.instance,Z=C.currentTarget;if(C=C.listener,q!==g&&d.isPropagationStopped())break e;g=C,d.currentTarget=Z;try{g(d)}catch(se){Ph(se)}d.currentTarget=null,g=q}else for(T=0;T<c.length;T++){if(C=c[T],q=C.instance,Z=C.currentTarget,C=C.listener,q!==g&&d.isPropagationStopped())break e;g=C,d.currentTarget=Z;try{g(d)}catch(se){Ph(se)}d.currentTarget=null,g=q}}}}function et(s,i){var o=i[Yt];o===void 0&&(o=i[Yt]=new Set);var c=s+"__bubble";o.has(c)||(e_(i,s,2,!1),o.add(c))}function Wp(s,i,o){var c=0;i&&(c|=4),e_(o,s,c,i)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Zp(s){if(!s[wf]){s[wf]=!0,Hi.forEach(function(o){o!=="selectionchange"&&(SN.has(o)||Wp(o,!1,s),Wp(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[wf]||(i[wf]=!0,Wp("selectionchange",!1,i))}}function e_(s,i,o,c){switch(R_(i)){case 2:var d=eC;break;case 8:d=tC;break;default:d=dg}o=d.bind(null,i,o,s),d=void 0,!ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?s.addEventListener(i,o,{capture:!0,passive:d}):s.addEventListener(i,o,!0):d!==void 0?s.addEventListener(i,o,{passive:d}):s.addEventListener(i,o,!1)}function Jp(s,i,o,c,d){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var C=c.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=c.return;T!==null;){var q=T.tag;if((q===3||q===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=Ot(C),T===null)return;if(q=T.tag,q===5||q===6||q===26||q===27){c=g=T;continue e}C=C.parentNode}}c=c.return}ms(function(){var Z=g,se=Un(o),ce=[];e:{var ee=Lv.get(s);if(ee!==void 0){var re=Ae,Se=s;switch(s){case"keypress":if(_(o)===0)break e;case"keydown":case"keyup":re=kh;break;case"focusin":Se="focus",re=Bn;break;case"focusout":Se="blur",re=Bn;break;case"beforeblur":case"afterblur":re=Bn;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=en;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=b;break;case Rv:case Iv:case Ov:re=Po;break;case Dv:re=D;break;case"scroll":case"scrollend":re=Xe;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Yi;break;case"toggle":case"beforetoggle":re=Fe}var Pe=(i&4)!==0,Tt=!Pe&&(s==="scroll"||s==="scrollend"),K=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var $=Z,X;$!==null;){var ie=$;if(X=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||X===null||K===null||(ie=nr($,K),ie!=null&&Pe.push(du($,ie,X))),Tt)break;$=$.return}0<Pe.length&&(ee=new re(ee,Se,null,o,se),ce.push({event:ee,listeners:Pe}))}}if((i&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ee&&o!==on&&(Se=o.relatedTarget||o.fromElement)&&(Ot(Se)||Se[Tr]))break e;if((re||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Se=o.relatedTarget||o.toElement,re=Z,Se=Se?Ot(Se):null,Se!==null&&(Tt=l(Se),Pe=Se.tag,Se!==Tt||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(re=null,Se=Z),re!==Se)){if(Pe=Lt,ie="onMouseLeave",K="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=Yi,ie="onPointerLeave",K="onPointerEnter",$="pointer"),Tt=re==null?ee:Mn(re),X=Se==null?ee:Mn(Se),ee=new Pe(ie,$+"leave",re,o,se),ee.target=Tt,ee.relatedTarget=X,ie=null,Ot(se)===Z&&(Pe=new Pe(K,$+"enter",Se,o,se),Pe.target=X,Pe.relatedTarget=Tt,ie=Pe),Tt=ie,re&&Se)t:{for(Pe=NN,K=re,$=Se,X=0,ie=K;ie;ie=Pe(ie))X++;ie=0;for(var ke=$;ke;ke=Pe(ke))ie++;for(;0<X-ie;)K=Pe(K),X--;for(;0<ie-X;)$=Pe($),ie--;for(;X--;){if(K===$||$!==null&&K===$.alternate){Pe=K;break t}K=Pe(K),$=Pe($)}Pe=null}else Pe=null;re!==null&&t_(ce,ee,re,Pe,!1),Se!==null&&Tt!==null&&t_(ce,Tt,Se,Pe,!0)}}e:{if(ee=Z?Mn(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var ht=vv;else if(gv(ee))if(bv)ht=V2;else{ht=M2;var Ce=j2}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&ui(Z.elementType)&&(ht=vv):ht=P2;if(ht&&(ht=ht(s,Z))){yv(ce,ht,o,se);break e}Ce&&Ce(s,ee,Z),s==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Gi(ee,"number",ee.value)}switch(Ce=Z?Mn(Z):window,s){case"focusin":(gv(Ce)||Ce.contentEditable==="true")&&(Nl=Ce,Cm=Z,zc=null);break;case"focusout":zc=Cm=Nl=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,Nv(ce,o,se);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":Nv(ce,o,se)}var Ke;if(mt)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Sl?Vo(s,o)&&(rt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(di&&o.locale!=="ko"&&(Sl||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Sl&&(Ke=Ki()):(pr=se,Us="value"in pr?pr.value:pr.textContent,Sl=!0)),Ce=Af(Z,rt),0<Ce.length&&(rt=new fi(rt,s,null,o,se),ce.push({event:rt,listeners:Ce}),Ke?rt.data=Ke:(Ke=Al(o),Ke!==null&&(rt.data=Ke)))),(Ke=gs?O2(s,o):D2(s,o))&&(rt=Af(Z,"onBeforeInput"),0<rt.length&&(Ce=new fi("onBeforeInput","beforeinput",null,o,se),ce.push({event:Ce,listeners:rt}),Ce.data=Ke)),TN(ce,s,Z,o,se)}Jb(ce,i)})}function du(s,i,o){return{instance:s,listener:i,currentTarget:o}}function Af(s,i){for(var o=i+"Capture",c=[];s!==null;){var d=s,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=nr(s,o),d!=null&&c.unshift(du(s,d,g)),d=nr(s,i),d!=null&&c.push(du(s,d,g))),s.tag===3)return c;s=s.return}return[]}function NN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function t_(s,i,o,c,d){for(var g=i._reactName,T=[];o!==null&&o!==c;){var C=o,q=C.alternate,Z=C.stateNode;if(C=C.tag,q!==null&&q===c)break;C!==5&&C!==26&&C!==27||Z===null||(q=Z,d?(Z=nr(o,g),Z!=null&&T.unshift(du(o,Z,q))):d||(Z=nr(o,g),Z!=null&&T.push(du(o,Z,q)))),o=o.return}T.length!==0&&s.push({event:i,listeners:T})}var CN=/\r\n?/g,RN=/\u0000|\uFFFD/g;function n_(s){return(typeof s=="string"?s:""+s).replace(CN,`
`).replace(RN,"")}function r_(s,i){return i=n_(i),n_(s)===i}function xt(s,i,o,c,d,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ht(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ht(s,""+c);break;case"className":Vn(s,"class",c);break;case"tabIndex":Vn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(s,o,c);break;case"style":er(s,c,g);break;case"data":if(i!=="object"){Vn(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=hi(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&xt(s,i,"name",d.name,d,null),xt(s,i,"formEncType",d.formEncType,d,null),xt(s,i,"formMethod",d.formMethod,d,null),xt(s,i,"formTarget",d.formTarget,d,null)):(xt(s,i,"encType",d.encType,d,null),xt(s,i,"method",d.method,d,null),xt(s,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=hi(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=tr);break;case"onScroll":c!=null&&et("scroll",s);break;case"onScrollEnd":c!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=hi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":et("beforetoggle",s),et("toggle",s),oi(s,"popover",c);break;case"xlinkActuate":zt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":oi(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=La.get(o)||o,oi(s,o,c))}}function eg(s,i,o,c,d,g){switch(o){case"style":er(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Ht(s,c):(typeof c=="number"||typeof c=="bigint")&&Ht(s,""+c);break;case"onScroll":c!=null&&et("scroll",s);break;case"onScrollEnd":c!=null&&et("scrollend",s);break;case"onClick":c!=null&&(s.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cs.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),g=s[Jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(i,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(i,c,d);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):oi(s,o,c)}}}function Gn(s,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:xt(s,i,g,T,o,null)}}d&&xt(s,i,"srcSet",o.srcSet,o,null),c&&xt(s,i,"src",o.src,o,null);return;case"input":et("invalid",s);var C=g=T=d=null,q=null,Z=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":d=se;break;case"type":T=se;break;case"checked":q=se;break;case"defaultChecked":Z=se;break;case"value":g=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,i));break;default:xt(s,i,c,se,o,null)}}ci(s,g,C,q,Z,T,d,!1);return;case"select":et("invalid",s),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":c=C;default:xt(s,i,d,C,o,null)}i=g,o=T,s.multiple=!!c,i!=null?hs(s,!!c,i,!1):o!=null&&hs(s,!!c,o,!0);return;case"textarea":et("invalid",s),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":c=C;break;case"defaultValue":d=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:xt(s,i,T,C,o,null)}mn(s,c,d,g);return;case"option":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:xt(s,i,q,c,o,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(c=0;c<fu.length;c++)et(fu[c],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(c=o[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:xt(s,i,Z,c,o,null)}return;default:if(ui(i)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&eg(s,i,se,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&xt(s,i,C,c,o,null))}function IN(s,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,C=null,q=null,Z=null,se=null;for(re in o){var ce=o[re];if(o.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=ce;default:c.hasOwnProperty(re)||xt(s,i,re,null,c,ce)}}for(var ee in c){var re=c[ee];if(ce=o[ee],c.hasOwnProperty(ee)&&(re!=null||ce!=null))switch(ee){case"type":g=re;break;case"name":d=re;break;case"checked":Z=re;break;case"defaultChecked":se=re;break;case"value":T=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:re!==ce&&xt(s,i,ee,re,c,ce)}}li(s,T,C,q,Z,se,g,d);return;case"select":re=T=C=ee=null;for(g in o)if(q=o[g],o.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":re=q;default:c.hasOwnProperty(g)||xt(s,i,g,null,c,q)}for(d in c)if(g=c[d],q=o[d],c.hasOwnProperty(d)&&(g!=null||q!=null))switch(d){case"value":ee=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==q&&xt(s,i,d,g,c,q)}i=C,o=T,c=re,ee!=null?hs(s,!!o,ee,!1):!!c!=!!o&&(i!=null?hs(s,!!o,i,!0):hs(s,!!o,o?[]:"",!1));return;case"textarea":re=ee=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:xt(s,i,C,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":ee=d;break;case"defaultValue":re=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&xt(s,i,T,d,c,g)}fs(s,ee,re);return;case"option":for(var Se in o)if(ee=o[Se],o.hasOwnProperty(Se)&&ee!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:xt(s,i,Se,null,c,ee)}for(q in c)if(ee=c[q],re=o[q],c.hasOwnProperty(q)&&ee!==re&&(ee!=null||re!=null))switch(q){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:xt(s,i,q,ee,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)ee=o[Pe],o.hasOwnProperty(Pe)&&ee!=null&&!c.hasOwnProperty(Pe)&&xt(s,i,Pe,null,c,ee);for(Z in c)if(ee=c[Z],re=o[Z],c.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:xt(s,i,Z,ee,c,re)}return;default:if(ui(i)){for(var Tt in o)ee=o[Tt],o.hasOwnProperty(Tt)&&ee!==void 0&&!c.hasOwnProperty(Tt)&&eg(s,i,Tt,void 0,c,ee);for(se in c)ee=c[se],re=o[se],!c.hasOwnProperty(se)||ee===re||ee===void 0&&re===void 0||eg(s,i,se,ee,c,re);return}}for(var K in o)ee=o[K],o.hasOwnProperty(K)&&ee!=null&&!c.hasOwnProperty(K)&&xt(s,i,K,null,c,ee);for(ce in c)ee=c[ce],re=o[ce],!c.hasOwnProperty(ce)||ee===re||ee==null&&re==null||xt(s,i,ce,ee,c,re)}function s_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ON(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,C=d.duration;if(g&&C&&s_(T)){for(T=0,C=d.responseEnd,c+=1;c<o.length;c++){var q=o[c],Z=q.startTime;if(Z>C)break;var se=q.transferSize,ce=q.initiatorType;se&&s_(ce)&&(q=q.responseEnd,T+=se*(q<C?1:(C-Z)/(q-Z)))}if(--c,i+=8*(g+T)/(d.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var tg=null,ng=null;function Sf(s){return s.nodeType===9?s:s.ownerDocument}function i_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function rg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sg=null;function DN(){var s=window.event;return s&&s.type==="popstate"?s===sg?!1:(sg=s,!0):(sg=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,kN=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(s){return l_.resolve(null).then(s).catch(jN)}:o_;function jN(s){setTimeout(function(){throw s})}function Wa(s){return s==="head"}function c_(s,i){var o=i,c=0;do{var d=o.nextSibling;if(s.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(d),ec(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")mu(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,mu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[wr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&mu(s.ownerDocument.body);o=d}while(o);ec(i)}function u_(s,i){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function ig(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ig(o),ai(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function MN(s,i,o,c){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[wr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Ts(s.nextSibling),s===null)break}return null}function PN(s,i,o){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ts(s.nextSibling),s===null))return null;return s}function h_(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=Ts(s.nextSibling),s===null))return null;return s}function ag(s){return s.data==="$?"||s.data==="$~"}function og(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function VN(s,i){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Ts(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var lg=null;function f_(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(i===0)return Ts(s.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}s=s.nextSibling}return null}function d_(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return s;i--}else o!=="/$"&&o!=="/&"||i++}s=s.previousSibling}return null}function m_(s,i,o){switch(i=Sf(o),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function mu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);ai(s)}var ws=new Map,p_=new Set;function Nf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ua=J.d;J.d={f:UN,r:qN,D:BN,C:zN,L:HN,m:FN,X:$N,S:GN,M:KN};function UN(){var s=ua.f(),i=vf();return s||i}function qN(s){var i=Zn(s);i!==null&&i.tag===5&&i.type==="form"?D1(i):ua.r(s)}var Wl=typeof document>"u"?null:document;function g_(s,i,o){var c=Wl;if(c&&typeof i=="string"&&i){var d=Rn(i);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),p_.has(d)||(p_.add(d),s={rel:s,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),Gn(i,"link",s),Bt(i),c.head.appendChild(i)))}}function BN(s){ua.D(s),g_("dns-prefetch",s,null)}function zN(s,i){ua.C(s,i),g_("preconnect",s,i)}function HN(s,i,o){ua.L(s,i,o);var c=Wl;if(c&&s&&i){var d='link[rel="preload"][as="'+Rn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rn(o.imageSizes)+'"]')):d+='[href="'+Rn(s)+'"]';var g=d;switch(i){case"style":g=Zl(s);break;case"script":g=Jl(s)}ws.has(g)||(s=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:s,as:i},o),ws.set(g,s),c.querySelector(d)!==null||i==="style"&&c.querySelector(pu(g))||i==="script"&&c.querySelector(gu(g))||(i=c.createElement("link"),Gn(i,"link",s),Bt(i),c.head.appendChild(i)))}}function FN(s,i){ua.m(s,i);var o=Wl;if(o&&s){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Rn(c)+'"][href="'+Rn(s)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Jl(s)}if(!ws.has(g)&&(s=E({rel:"modulepreload",href:s},i),ws.set(g,s),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gu(g)))return}c=o.createElement("link"),Gn(c,"link",s),Bt(c),o.head.appendChild(c)}}}function GN(s,i,o){ua.S(s,i,o);var c=Wl;if(c&&s){var d=Ar(c).hoistableStyles,g=Zl(s);i=i||"default";var T=d.get(g);if(!T){var C={loading:0,preload:null};if(T=c.querySelector(pu(g)))C.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":i},o),(o=ws.get(g))&&cg(s,o);var q=T=c.createElement("link");Bt(q),Gn(q,"link",s),q._p=new Promise(function(Z,se){q.onload=Z,q.onerror=se}),q.addEventListener("load",function(){C.loading|=1}),q.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Cf(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(g,T)}}}function $N(s,i){ua.X(s,i);var o=Wl;if(o&&s){var c=Ar(o).hoistableScripts,d=Jl(s),g=c.get(d);g||(g=o.querySelector(gu(d)),g||(s=E({src:s,async:!0},i),(i=ws.get(d))&&ug(s,i),g=o.createElement("script"),Bt(g),Gn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function KN(s,i){ua.M(s,i);var o=Wl;if(o&&s){var c=Ar(o).hoistableScripts,d=Jl(s),g=c.get(d);g||(g=o.querySelector(gu(d)),g||(s=E({src:s,async:!0,type:"module"},i),(i=ws.get(d))&&ug(s,i),g=o.createElement("script"),Bt(g),Gn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function y_(s,i,o,c){var d=(d=we.current)?Nf(d):null;if(!d)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Zl(o.href),o=Ar(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Zl(o.href);var g=Ar(d).hoistableStyles,T=g.get(s);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=d.querySelector(pu(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ws.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ws.set(s,o),g||QN(d,s,o,T.state))),i&&c===null)throw Error(r(528,""));return T}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Jl(o),o=Ar(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Zl(s){return'href="'+Rn(s)+'"'}function pu(s){return'link[rel="stylesheet"]['+s+"]"}function v_(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function QN(s,i,o,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Gn(i,"link",o),Bt(i),s.head.appendChild(i))}function Jl(s){return'[src="'+Rn(s)+'"]'}function gu(s){return"script[async]"+s}function b_(s,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(c)return i.instance=c,Bt(c),c;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Bt(c),Gn(c,"style",d),Cf(c,o.precedence,s),i.instance=c;case"stylesheet":d=Zl(o.href);var g=s.querySelector(pu(d));if(g)return i.state.loading|=4,i.instance=g,Bt(g),g;c=v_(o),(d=ws.get(d))&&cg(c,d),g=(s.ownerDocument||s).createElement("link"),Bt(g);var T=g;return T._p=new Promise(function(C,q){T.onload=C,T.onerror=q}),Gn(g,"link",c),i.state.loading|=4,Cf(g,o.precedence,s),i.instance=g;case"script":return g=Jl(o.src),(d=s.querySelector(gu(g)))?(i.instance=d,Bt(d),d):(c=o,(d=ws.get(g))&&(c=E({},o),ug(c,d)),s=s.ownerDocument||s,d=s.createElement("script"),Bt(d),Gn(d,"link",c),s.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Cf(c,o.precedence,s));return i.instance}function Cf(s,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var C=c[T];if(C.dataset.precedence===i)g=C;else if(g!==d)break}g?g.parentNode.insertBefore(s,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(s,i.firstChild))}function cg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function ug(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Rf=null;function __(s,i,o){if(Rf===null){var c=new Map,d=Rf=new Map;d.set(o,c)}else d=Rf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var g=o[d];if(!(g[wr]||g[qt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=s+T;var C=c.get(T);C?C.push(g):c.set(T,[g])}}return c}function E_(s,i,o){s=s.ownerDocument||s,s.head.insertBefore(o,i==="title"?s.querySelector("head > title"):null)}function YN(s,i,o){if(o===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function XN(s,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Zl(c.href),g=i.querySelector(pu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=If.bind(s),i.then(s,s)),o.state.loading|=4,o.instance=g,Bt(g);return}g=i.ownerDocument||i,c=v_(c),(d=ws.get(d))&&cg(c,d),g=g.createElement("link"),Bt(g);var T=g;T._p=new Promise(function(C,q){T.onload=C,T.onerror=q}),Gn(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=If.bind(s),i.addEventListener("load",o),i.addEventListener("error",o))}}var hg=0;function WN(s,i){return s.stylesheets&&s.count===0&&Df(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Df(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+i);0<s.imgBytes&&hg===0&&(hg=62500*ON());var d=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Df(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>hg?50:800)+i);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function If(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Of=null;function Df(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Of=new Map,i.forEach(ZN,s),Of=null,If.call(s))}function ZN(s,i){if(!(i.state.loading&4)){var o=Of.get(s);if(o)var c=o.get(null);else{o=new Map,Of.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=i.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=If.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),i.state.loading|=4}}var yu={$$typeof:W,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function JN(s,i,o,c,d,g,T,C,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function T_(s,i,o,c,d,g,T,C,q,Z,se,ce){return s=new JN(s,i,o,T,q,Z,se,ce,C),i=1,g===!0&&(i|=24),g=Qr(3,null,null,i),s.current=g,g.stateNode=s,i=Fm(),i.refCount++,s.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Qm(g),s}function w_(s){return s?(s=Il,s):Il}function A_(s,i,o,c,d,g){d=w_(d),c.context===null?c.context=d:c.pendingContext=d,c=qa(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ba(s,c,i),o!==null&&(Lr(o,s,i),Yc(o,s,i))}function S_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function fg(s,i){S_(s,i),(s=s.alternate)&&S_(s,i)}function N_(s){if(s.tag===13||s.tag===31){var i=Bo(s,67108864);i!==null&&Lr(i,s,67108864),fg(s,67108864)}}function C_(s){if(s.tag===13||s.tag===31){var i=Jr();i=ls(i);var o=Bo(s,i);o!==null&&Lr(o,s,i),fg(s,i)}}var Lf=!0;function eC(s,i,o,c){var d=B.T;B.T=null;var g=J.p;try{J.p=2,dg(s,i,o,c)}finally{J.p=g,B.T=d}}function tC(s,i,o,c){var d=B.T;B.T=null;var g=J.p;try{J.p=8,dg(s,i,o,c)}finally{J.p=g,B.T=d}}function dg(s,i,o,c){if(Lf){var d=mg(c);if(d===null)Jp(s,i,c,kf,o),I_(s,c);else if(rC(d,s,i,o,c))c.stopPropagation();else if(I_(s,c),i&4&&-1<nC.indexOf(s)){for(;d!==null;){var g=Zn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Wn(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var q=1<<31-Ct(T);C.entanglements[1]|=q,T&=~q}yi(g),(pt&6)===0&&(gf=Nt()+500,hu(0))}}break;case 31:case 13:C=Bo(g,2),C!==null&&Lr(C,g,2),vf(),fg(g,2)}if(g=mg(c),g===null&&Jp(s,i,c,kf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Jp(s,i,c,null,o)}}function mg(s){return s=Un(s),pg(s)}var kf=null;function pg(s){if(kf=null,s=Ot(s),s!==null){var i=l(s);if(i===null)s=null;else{var o=i.tag;if(o===13){if(s=u(i),s!==null)return s;s=null}else if(o===31){if(s=f(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return kf=s,null}function R_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Mi:return 2;case Vr:return 8;case cr:case Pi:return 32;case Ln:return 268435456;default:return 32}default:return 32}}var gg=!1,Za=null,Ja=null,eo=null,vu=new Map,bu=new Map,to=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(s,i){switch(s){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":vu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(i.pointerId)}}function _u(s,i,o,c,d,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=Zn(i),i!==null&&N_(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),s)}function rC(s,i,o,c,d){switch(i){case"focusin":return Za=_u(Za,s,i,o,c,d),!0;case"dragenter":return Ja=_u(Ja,s,i,o,c,d),!0;case"mouseover":return eo=_u(eo,s,i,o,c,d),!0;case"pointerover":var g=d.pointerId;return vu.set(g,_u(vu.get(g)||null,s,i,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,bu.set(g,_u(bu.get(g)||null,s,i,o,c,d)),!0}return!1}function O_(s){var i=Ot(s.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){s.blockedOn=i,fr(s.priority,function(){C_(o)});return}}else if(i===31){if(i=f(o),i!==null){s.blockedOn=i,fr(s.priority,function(){C_(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=mg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);on=c,o.target.dispatchEvent(c),on=null}else return i=Zn(o),i!==null&&N_(i),s.blockedOn=o,!1;i.shift()}return!0}function D_(s,i,o){jf(s)&&o.delete(i)}function sC(){gg=!1,Za!==null&&jf(Za)&&(Za=null),Ja!==null&&jf(Ja)&&(Ja=null),eo!==null&&jf(eo)&&(eo=null),vu.forEach(D_),bu.forEach(D_)}function Mf(s,i){s.blockedOn===i&&(s.blockedOn=null,gg||(gg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sC)))}var Pf=null;function L_(s){Pf!==s&&(Pf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pf===s&&(Pf=null);for(var i=0;i<s.length;i+=3){var o=s[i],c=s[i+1],d=s[i+2];if(typeof c!="function"){if(pg(c||o)===null)continue;break}var g=Zn(o);g!==null&&(s.splice(i,3),i-=3,mp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function ec(s){function i(q){return Mf(q,s)}Za!==null&&Mf(Za,s),Ja!==null&&Mf(Ja,s),eo!==null&&Mf(eo,s),vu.forEach(i),bu.forEach(i);for(var o=0;o<to.length;o++){var c=to[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<to.length&&(o=to[0],o.blockedOn===null);)O_(o),o.blockedOn===null&&to.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[Jt]||null;if(typeof g=="function")T||L_(o);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Jt]||null)C=T.formAction;else if(pg(d)!==null)continue}else C=T.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),L_(o)}}}function k_(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function yg(s){this._internalRoot=s}Vf.prototype.render=yg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=Jr();A_(o,c,s,i,null,null)},Vf.prototype.unmount=yg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;A_(s.current,2,null,s,null,null),vf(),i[Tr]=null}};function Vf(s){this._internalRoot=s}Vf.prototype.unstable_scheduleHydration=function(s){if(s){var i=Zt();s={blockedOn:null,target:s,priority:i};for(var o=0;o<to.length&&i!==0&&i<to[o].priority;o++);to.splice(o,0,s),o===0&&O_(s)}};var j_=e.version;if(j_!=="19.2.1")throw Error(r(527,j_,"19.2.1"));J.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var iC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{ur=Uf.inject(iC),Qt=Uf}catch{}}return xu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var o=!1,c="",d=z1,g=H1,T=F1;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=T_(s,1,!1,null,null,o,c,null,d,g,T,k_),s[Tr]=i.current,Zp(s),new yg(i)},xu.hydrateRoot=function(s,i,o){if(!a(s))throw Error(r(299));var c=!1,d="",g=z1,T=H1,C=F1,q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),i=T_(s,1,!0,i,o??null,c,d,q,g,T,C,k_),i.context=w_(null),o=i.current,c=Jr(),c=ls(c),d=qa(c),d.callback=null,Ba(o,d,c),o=c,i.current.lanes=o,os(i,o),yi(i),s[Tr]=i.current,Zp(s),new Vf(i)},xu.version="19.2.1",xu}var G_;function gC(){if(G_)return _g.exports;G_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=pC(),_g.exports}var yC=gC();var $_="popstate";function vC(n={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=ml(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ey("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Fu(l))}function r(a,l){is(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return _C(e,t,r,n)}function Kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function is(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bC(){return Math.random().toString(36).substring(2,10)}function K_(n,e){return{usr:n.state,key:n.key,idx:e}}function ey(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:t,key:e&&e.key||r||bC()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ml(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function _C(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function E(){f="POP";let O=v(),z=O==null?null:O-p;p=O,m&&m({action:f,location:j.location,delta:z})}function x(O,z){f="PUSH";let H=ey(j.location,O,z);t&&t(H,O),p=v()+1;let W=K_(H,p),ye=j.createHref(H);try{u.pushState(W,"",ye)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;a.location.assign(ye)}l&&m&&m({action:f,location:j.location,delta:1})}function S(O,z){f="REPLACE";let H=ey(j.location,O,z);t&&t(H,O),p=v();let W=K_(H,p),ye=j.createHref(H);u.replaceState(W,"",ye),l&&m&&m({action:f,location:j.location,delta:0})}function I(O){return EC(O)}let j={get action(){return f},get location(){return n(a,u)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener($_,E),m=O,()=>{a.removeEventListener($_,E),m=null}},createHref(O){return e(a,O)},createURL:I,encodeLocation(O){let z=I(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:S,go(O){return u.go(O)}};return j}function EC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Fu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function MT(n,e,t="/"){return xC(n,e,t,!1)}function xC(n,e,t,r){let a=typeof e=="string"?ml(e):e,l=ga(a.pathname||"/",t);if(l==null)return null;let u=PT(n);TC(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=kC(l);f=DC(u[m],p,r)}return f}function PT(n,e=[],t=[],r="",a=!1){let l=(u,f,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;Kt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=ma([r,v.relativePath]),x=t.concat(v);u.children&&u.children.length>0&&(Kt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),PT(u.children,e,x,E,m)),!(u.path==null&&!u.index)&&e.push({path:E,score:IC(E,u.index),routesMeta:x})};return n.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of VT(u.path))l(u,f,!0,m)}),e}function VT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=VT(r.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function TC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var wC=/^:[\w-]+$/,AC=3,SC=2,NC=1,CC=10,RC=-2,Q_=n=>n==="*";function IC(n,e){let t=n.split("/"),r=t.length;return t.some(Q_)&&(r+=RC),e&&(r+=SC),t.filter(a=>!Q_(a)).reduce((a,l)=>a+(wC.test(l)?AC:l===""?NC:CC),r)}function OC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function DC(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",u=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),x=m.route;if(!E&&p&&t&&!r[r.length-1].route.index&&(E=vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:ma([l,E.pathname]),pathnameBase:UC(ma([l,E.pathnameBase])),route:x}),E.pathnameBase!=="/"&&(l=ma([l,E.pathnameBase]))}return u}function vd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=LC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:E},x)=>{if(v==="*"){let I=f[x]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const S=f[x];return E&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function LC(n,e=!1,t=!0){is(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function kC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return is(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var jC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MC=n=>jC.test(n);function PC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?ml(n):n,l;if(t)if(MC(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),is(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Y_(t.substring(1),"/"):l=Y_(t,e)}else l=e;return{pathname:l,search:qC(r),hash:BC(a)}}function Y_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function wg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qy(n){let e=VC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Yy(n,e,t,r=!1){let a;typeof n=="string"?a=ml(n):(a={...n},Kt(!a.pathname||!a.pathname.includes("?"),wg("?","pathname","search",a)),Kt(!a.pathname||!a.pathname.includes("#"),wg("#","pathname","hash",a)),Kt(!a.search||!a.search.includes("#"),wg("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),E-=1;a.pathname=x.join("/")}f=E>=0?e[E]:"/"}let m=PC(a,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ma=n=>n.join("/").replace(/\/\/+/g,"/"),UC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function HC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UT=["POST","PUT","PATCH","DELETE"];new Set(UT);var FC=["GET",...UT];new Set(FC);var Nc=F.createContext(null);Nc.displayName="DataRouter";var Hd=F.createContext(null);Hd.displayName="DataRouterState";F.createContext(!1);var qT=F.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var GC=F.createContext(new Map);GC.displayName="Fetchers";var $C=F.createContext(null);$C.displayName="Await";var Ls=F.createContext(null);Ls.displayName="Navigation";var lh=F.createContext(null);lh.displayName="Location";var ks=F.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var Xy=F.createContext(null);Xy.displayName="RouteError";function KC(n,{relative:e}={}){Kt(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(Ls),{hash:a,pathname:l,search:u}=uh(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ma([t,l])),r.createHref({pathname:f,search:u,hash:a})}function Cc(){return F.useContext(lh)!=null}function Co(){return Kt(Cc(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(lh).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(n){F.useContext(Ls).static||F.useLayoutEffect(n)}function Ii(){let{isDataRoute:n}=F.useContext(ks);return n?lR():QC()}function QC(){Kt(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Nc),{basename:e,navigator:t}=F.useContext(Ls),{matches:r}=F.useContext(ks),{pathname:a}=Co(),l=JSON.stringify(Qy(r)),u=F.useRef(!1);return zT(()=>{u.current=!0}),F.useCallback((m,p={})=>{if(is(u.current,BT),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=Yy(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ma([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}var YC=F.createContext(null);function XC(n){let e=F.useContext(ks).outlet;return F.useMemo(()=>e&&F.createElement(YC.Provider,{value:n},e),[e,n])}function ch(){let{matches:n}=F.useContext(ks),e=n[n.length-1];return e?e.params:{}}function uh(n,{relative:e}={}){let{matches:t}=F.useContext(ks),{pathname:r}=Co(),a=JSON.stringify(Qy(t));return F.useMemo(()=>Yy(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function WC(n,e){return HT(n,e)}function HT(n,e,t,r,a){Kt(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(Ls),{matches:u}=F.useContext(ks),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",E=f&&f.route;{let H=E&&E.path||"";FT(p,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=Co(),S;if(e){let H=typeof e=="string"?ml(e):e;Kt(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=x;let I=S.pathname||"/",j=I;if(v!=="/"){let H=v.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let O=MT(n,{pathname:j});is(E||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),is(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=nR(O&&O.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:ma([v,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:ma([v,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,t,r,a);return e&&z?F.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function ZC(){let n=oR(),e=zC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,u)}var JC=F.createElement(ZC,null),eR=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(ks.Provider,{value:this.props.routeContext},F.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:n,match:e,children:t}){let r=F.useContext(Nc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ks.Provider,{value:n},t)}function nR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let v=l.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);Kt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=v),E.route.id){let{loaderData:x,errors:S}=t,I=E.route.loader&&!x.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||I){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=t&&r?(v,E)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:HC(t.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,x)=>{let S,I=!1,j=null,O=null;t&&(S=u&&E.route.id?u[E.route.id]:void 0,j=E.route.errorElement||JC,f&&(m<0&&x===0?(FT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):m===x&&(I=!0,O=E.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,x+1)),H=()=>{let W;return S?W=j:I?W=O:E.route.Component?W=F.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=v,F.createElement(tR,{match:E,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:W})};return t&&(E.route.ErrorBoundary||E.route.errorElement||x===0)?F.createElement(eR,{location:t.location,revalidation:t.revalidation,component:j,error:S,children:H(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):H()},null)}function Wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rR(n){let e=F.useContext(Nc);return Kt(e,Wy(n)),e}function sR(n){let e=F.useContext(Hd);return Kt(e,Wy(n)),e}function iR(n){let e=F.useContext(ks);return Kt(e,Wy(n)),e}function Zy(n){let e=iR(n),t=e.matches[e.matches.length-1];return Kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aR(){return Zy("useRouteId")}function oR(){let n=F.useContext(Xy),e=sR("useRouteError"),t=Zy("useRouteError");return n!==void 0?n:e.errors?.[t]}function lR(){let{router:n}=rR("useNavigate"),e=Zy("useNavigate"),t=F.useRef(!1);return zT(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{is(t.current,BT),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var X_={};function FT(n,e,t){!e&&!X_[n]&&(X_[n]=!0,is(!1,t))}F.memo(cR);function cR({routes:n,future:e,state:t,unstable_onError:r}){return HT(n,void 0,t,r,e)}function uR({to:n,replace:e,state:t,relative:r}){Kt(Cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(Ls);is(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(ks),{pathname:u}=Co(),f=Ii(),m=Yy(n,Qy(l),u,r==="path"),p=JSON.stringify(m);return F.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function hR(n){return XC(n.context)}function An(n){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Kt(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof t=="string"&&(t=ml(t));let{pathname:p="/",search:v="",hash:E="",state:x=null,key:S="default"}=t,I=F.useMemo(()=>{let j=ga(p,f);return j==null?null:{location:{pathname:j,search:v,hash:E,state:x,key:S},navigationType:r}},[f,p,v,E,x,S,r]);return is(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:F.createElement(Ls.Provider,{value:m},F.createElement(lh.Provider,{children:e,value:I}))}function dR({children:n,location:e}){return WC(ty(n),e)}function ty(n,e=[]){let t=[];return F.Children.forEach(n,(r,a)=>{if(!F.isValidElement(r))return;let l=[...e,a];if(r.type===F.Fragment){t.push.apply(t,ty(r.props.children,l));return}Kt(r.type===An,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ty(r.props.children,l)),t.push(u)}),t}var id="get",ad="application/x-www-form-urlencoded";function Fd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function mR(n){return Fd(n)&&n.tagName.toLowerCase()==="button"}function pR(n){return Fd(n)&&n.tagName.toLowerCase()==="form"}function gR(n){return Fd(n)&&n.tagName.toLowerCase()==="input"}function yR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vR(n,e){return n.button===0&&(!e||e==="_self")&&!yR(n)}var qf=null;function bR(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ag(n){return n!=null&&!_R.has(n)?(is(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ad}"`),null):n}function ER(n,e){let t,r,a,l,u;if(pR(n)){let f=n.getAttribute("action");r=f?ga(f,e):null,t=n.getAttribute("method")||id,a=Ag(n.getAttribute("enctype"))||ad,l=new FormData(n)}else if(mR(n)||gR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?ga(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||id,a=Ag(n.getAttribute("formenctype"))||Ag(f.getAttribute("enctype"))||ad,l=new FormData(f,n),!bR()){let{name:p,type:v,value:E}=n;if(v==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,E)}}else{if(Fd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=id,r=null,a=ad,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ga(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function TR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await TR(l,t);return u.links?u.links():[]}return[]}));return RR(r.flat(1).filter(wR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function W_(n,e,t,r,a,l){let u=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function SR(n,e,{includeHydrateFallback:t}={}){return NR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function NR(n){return[...new Set(n)]}function CR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function RR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(CR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function GT(){let n=F.useContext(Nc);return Jy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IR(){let n=F.useContext(Hd);return Jy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var e0=F.createContext(void 0);e0.displayName="FrameworkContext";function $T(){let n=F.useContext(e0);return Jy(n,"You must render this element inside a <HydratedRouter> element"),n}function OR(n,e){let t=F.useContext(e0),[r,a]=F.useState(!1),[l,u]=F.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,x=F.useRef(null);F.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let j=z=>{z.forEach(H=>{u(H.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return x.current&&O.observe(x.current),()=>{O.disconnect()}}},[n]),F.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let S=()=>{a(!0)},I=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:Tu(f,S),onBlur:Tu(m,I),onMouseEnter:Tu(p,S),onMouseLeave:Tu(v,I),onTouchStart:Tu(E,S)}]:[!1,x,{}]}function Tu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DR({page:n,...e}){let{router:t}=GT(),r=F.useMemo(()=>MT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(kR,{page:n,matches:r,...e}):null}function LR(n){let{manifest:e,routeModules:t}=$T(),[r,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return AR(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),r}function kR({page:n,matches:e,...t}){let r=Co(),{manifest:a,routeModules:l}=$T(),{basename:u}=GT(),{loaderData:f,matches:m}=IR(),p=F.useMemo(()=>W_(n,e,m,a,r,"data"),[n,e,m,a,r]),v=F.useMemo(()=>W_(n,e,m,a,r,"assets"),[n,e,m,a,r]),E=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,j=!1;if(e.forEach(z=>{let H=a.routes[z.route.id];!H||!H.hasLoader||(!p.some(W=>W.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||H.hasClientLoader?j=!0:I.add(z.route.id))}),I.size===0)return[];let O=xR(n,u,"data");return j&&I.size>0&&O.searchParams.set("_routes",e.filter(z=>I.has(z.route.id)).map(z=>z.route.id).join(",")),[O.pathname+O.search]},[u,f,r,a,p,e,n,l]),x=F.useMemo(()=>SR(v,a),[v,a]),S=LR(v);return F.createElement(F.Fragment,null,E.map(I=>F.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),x.map(I=>F.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),S.map(({key:I,link:j})=>F.createElement("link",{key:I,nonce:t.nonce,...j})))}function jR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KT&&(window.__reactRouterVersion="7.10.1")}catch{}function MR({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=F.useRef();a.current==null&&(a.current=vC({window:r,v5Compat:!0}));let l=a.current,[u,f]=F.useState({action:l.action,location:l.location}),m=F.useCallback(p=>{t===!1?f(p):F.startTransition(()=>f(p))},[t]);return F.useLayoutEffect(()=>l.listen(m),[l,m]),F.createElement(fR,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:E,...x},S){let{basename:I,unstable_useTransitions:j}=F.useContext(Ls),O=typeof p=="string"&&QT.test(p),z,H=!1;if(typeof p=="string"&&O&&(z=p,KT))try{let G=new URL(window.location.href),A=p.startsWith("//")?new URL(G.protocol+p):new URL(p),L=ga(A.pathname,I);A.origin===G.origin&&L!=null?p=L+A.search+A.hash:H=!0}catch{is(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=KC(p,{relative:a}),[ye,ve,Ee]=OR(r,x),M=UR(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:E,unstable_useTransitions:j});function k(G){e&&e(G),G.defaultPrevented||M(G)}let P=F.createElement("a",{...x,...Ee,href:z||W,onClick:H||l?e:k,ref:jR(S,ve),target:m,"data-discover":!O&&t==="render"?"true":void 0});return ye&&!O?F.createElement(F.Fragment,null,P,F.createElement(DR,{page:W})):P});Pt.displayName="Link";var YT=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let E=uh(u,{relative:p.relative}),x=Co(),S=F.useContext(Hd),{navigator:I,basename:j}=F.useContext(Ls),O=S!=null&&FR(E)&&f===!0,z=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,H=x.pathname,W=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(H=H.toLowerCase(),W=W?W.toLowerCase():null,z=z.toLowerCase()),W&&j&&(W=ga(W,j)||W);const ye=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ve=H===z||!a&&H.startsWith(z)&&H.charAt(ye)==="/",Ee=W!=null&&(W===z||!a&&W.startsWith(z)&&W.charAt(z.length)==="/"),M={isActive:ve,isPending:Ee,isTransitioning:O},k=ve?e:void 0,P;typeof r=="function"?P=r(M):P=[r,ve?"active":null,Ee?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(M):l;return F.createElement(Pt,{...p,"aria-current":k,className:P,ref:v,style:G,to:u,viewTransition:f},typeof m=="function"?m(M):m)});YT.displayName="NavLink";var PR=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:u=id,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:E,...x},S)=>{let{unstable_useTransitions:I}=F.useContext(Ls),j=zR(),O=HR(f,{relative:p}),z=u.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&QT.test(f),W=ye=>{if(m&&m(ye),ye.defaultPrevented)return;ye.preventDefault();let ve=ye.nativeEvent.submitter,Ee=ve?.getAttribute("formmethod")||u,M=()=>j(ve||ye.currentTarget,{fetcherKey:e,method:Ee,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:E});I&&t!==!1?F.startTransition(()=>M()):M()};return F.createElement("form",{ref:S,method:z,action:O,onSubmit:r?m:W,...x,"data-discover":!H&&n==="render"?"true":void 0})});PR.displayName="Form";function VR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(n){let e=F.useContext(Nc);return Kt(e,VR(n)),e}function UR(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_useTransitions:f}={}){let m=Ii(),p=Co(),v=uh(n,{relative:l});return F.useCallback(E=>{if(vR(E,e)){E.preventDefault();let x=t!==void 0?t:Fu(p)===Fu(v),S=()=>m(n,{replace:x,state:r,preventScrollReset:a,relative:l,viewTransition:u});f?F.startTransition(()=>S()):S()}},[p,m,v,t,r,e,n,a,l,u,f])}var qR=0,BR=()=>`__${String(++qR)}__`;function zR(){let{router:n}=XT("useSubmit"),{basename:e}=F.useContext(Ls),t=aR(),r=n.fetch,a=n.navigate;return F.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:v,body:E}=ER(l,e);if(u.navigate===!1){let x=u.fetcherKey||BR();await r(x,t,u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,t])}function HR(n,{relative:e}={}){let{basename:t}=F.useContext(Ls),r=F.useContext(ks);Kt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...uh(n||".",{relative:e})},u=Co();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ma([t,l.pathname])),Fu(l)}function FR(n,{relative:e}={}){let t=F.useContext(qT);Kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XT("useViewTransitionState"),a=uh(n,{relative:e});if(!t.isTransitioning)return!1;let l=ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return vd(a.pathname,u)!=null||vd(a.pathname,l)!=null}const GR=()=>{};var Z_={};const WT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},$R=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ZT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,E=(l&3)<<4|f>>4;let x=(f&15)<<2|p>>6,S=p&63;m||(S=64,u||(x=64)),r.push(t[v],t[E],t[x],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$R(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new KR;const x=l<<2|f>>4;if(r.push(x),p!==64){const S=f<<4&240|p>>2;if(r.push(S),E!==64){const I=p<<6&192|E;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(n){const e=WT(n);return ZT.encodeByteArray(e,!0)},bd=function(n){return QR(n).replace(/\./g,"")},JT=function(n){try{return ZT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XR=()=>YR().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof Z_>"u")return;const n=Z_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&JT(n[1]);return e&&JSON.parse(e)},Gd=()=>{try{return GR()||XR()||WR()||ZR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ew=n=>Gd()?.emulatorHosts?.[n],JR=n=>{const e=ew(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tw=()=>Gd()?.config,nw=n=>Gd()?.[`_${n}`];class e4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Rc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rw(n){return(await fetch(n,{credentials:"include"})).ok}function t4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[bd(JSON.stringify(t)),bd(JSON.stringify(u)),""].join(".")}const Mu={};function n4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?n.emulator.push(e):n.prod.push(e);return n}function r4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let J_=!1;function sw(n,e){if(typeof window>"u"||typeof document>"u"||!Rc(window.location.host)||Mu[n]===e||Mu[n]||J_)return;Mu[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",l=n4().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{J_=!0,u()},x}function v(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function E(){const x=r4(r),S=t("text"),I=document.getElementById(S)||document.createElement("span"),j=t("learnmore"),O=document.getElementById(j)||document.createElement("a"),z=t("preprendIcon"),H=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;f(W),v(O,j);const ye=p();m(H,z),W.append(H,I,O,ye),document.body.appendChild(W)}l?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function i4(){const n=Gd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c4(){const n=lr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function u4(){return!i4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h4(){try{return typeof indexedDB=="object"}catch{return!1}}function f4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const d4="FirebaseError";class Ta extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=d4,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?m4(l,r):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ta(a,f,r)}}function m4(n,e){return n.replace(p4,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const p4=/\{\$([^}]+)}/g;function g4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],u=e[a];if(eE(l)&&eE(u)){if(!sl(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function eE(n){return n!==null&&typeof n=="object"}function fh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Cu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function y4(n,e){const t=new v4(n,e);return t.subscribe.bind(t)}class v4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");b4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Sg),a.error===void 0&&(a.error=Sg),a.complete===void 0&&(a.complete=Sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sg(){}function Nn(n){return n&&n._delegate?n._delegate:n}class il{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const el="[DEFAULT]";class _4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new e4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x4(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E4(n){return n===el?void 0:n}function x4(n){return n.instantiationMode==="EAGER"}class T4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var st;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(st||(st={}));const w4={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},A4=st.INFO,S4={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},N4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=S4[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t0{constructor(e){this.name=e,this._logLevel=A4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const C4=(n,e)=>e.some(t=>n instanceof t);let tE,nE;function R4(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I4(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iw=new WeakMap,ny=new WeakMap,aw=new WeakMap,Ng=new WeakMap,n0=new WeakMap;function O4(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(mo(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&iw.set(t,n)}).catch(()=>{}),n0.set(e,n),e}function D4(n){if(ny.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});ny.set(n,e)}let ry={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ny.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L4(n){ry=n(ry)}function k4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cg(this),e,...t);return aw.set(r,e.sort?e.sort():[e]),mo(r)}:I4().includes(n)?function(...e){return n.apply(Cg(this),e),mo(iw.get(this))}:function(...e){return mo(n.apply(Cg(this),e))}}function j4(n){return typeof n=="function"?k4(n):(n instanceof IDBTransaction&&D4(n),C4(n,R4())?new Proxy(n,ry):n)}function mo(n){if(n instanceof IDBRequest)return O4(n);if(Ng.has(n))return Ng.get(n);const e=j4(n);return e!==n&&(Ng.set(n,e),n0.set(e,n)),e}const Cg=n=>n0.get(n);function M4(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=mo(u);return r&&u.addEventListener("upgradeneeded",m=>{r(mo(u.result),m.oldVersion,m.newVersion,mo(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const P4=["get","getKey","getAll","getAllKeys","count"],V4=["put","add","delete","clear"],Rg=new Map;function rE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=V4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||P4.includes(t)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return Rg.set(e,l),l}L4(n=>({...n,get:(e,t,r)=>rE(e,t)||n.get(e,t,r),has:(e,t)=>!!rE(e,t)||n.has(e,t)}));class U4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function q4(n){return n.getComponent()?.type==="VERSION"}const sy="@firebase/app",sE="0.14.6";const ya=new t0("@firebase/app"),B4="@firebase/app-compat",z4="@firebase/analytics-compat",H4="@firebase/analytics",F4="@firebase/app-check-compat",G4="@firebase/app-check",$4="@firebase/auth",K4="@firebase/auth-compat",Q4="@firebase/database",Y4="@firebase/data-connect",X4="@firebase/database-compat",W4="@firebase/functions",Z4="@firebase/functions-compat",J4="@firebase/installations",eI="@firebase/installations-compat",tI="@firebase/messaging",nI="@firebase/messaging-compat",rI="@firebase/performance",sI="@firebase/performance-compat",iI="@firebase/remote-config",aI="@firebase/remote-config-compat",oI="@firebase/storage",lI="@firebase/storage-compat",cI="@firebase/firestore",uI="@firebase/ai",hI="@firebase/firestore-compat",fI="firebase",dI="12.6.0";const iy="[DEFAULT]",mI={[sy]:"fire-core",[B4]:"fire-core-compat",[H4]:"fire-analytics",[z4]:"fire-analytics-compat",[G4]:"fire-app-check",[F4]:"fire-app-check-compat",[$4]:"fire-auth",[K4]:"fire-auth-compat",[Q4]:"fire-rtdb",[Y4]:"fire-data-connect",[X4]:"fire-rtdb-compat",[W4]:"fire-fn",[Z4]:"fire-fn-compat",[J4]:"fire-iid",[eI]:"fire-iid-compat",[tI]:"fire-fcm",[nI]:"fire-fcm-compat",[rI]:"fire-perf",[sI]:"fire-perf-compat",[iI]:"fire-rc",[aI]:"fire-rc-compat",[oI]:"fire-gcs",[lI]:"fire-gcs-compat",[cI]:"fire-fst",[hI]:"fire-fst-compat",[uI]:"fire-vertex","fire-js":"fire-js",[fI]:"fire-js-all"};const _d=new Map,pI=new Map,ay=new Map;function iE(n,e){try{n.container.addComponent(e)}catch(t){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yc(n){const e=n.name;if(ay.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,n);for(const t of _d.values())iE(t,n);for(const t of pI.values())iE(t,n);return!0}function r0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function es(n){return n==null?!1:n.settings!==void 0}const gI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new hh("app","Firebase",gI);class yI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}const Ic=dI;function ow(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:iy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw po.create("bad-app-name",{appName:String(a)});if(t||(t=tw()),!t)throw po.create("no-options");const l=_d.get(a);if(l){if(sl(t,l.options)&&sl(r,l.config))return l;throw po.create("duplicate-app",{appName:a})}const u=new T4(a);for(const m of ay.values())u.addComponent(m);const f=new yI(t,r,u);return _d.set(a,f),f}function lw(n=iy){const e=_d.get(n);if(!e&&n===iy&&tw())return ow();if(!e)throw po.create("no-app",{appName:n});return e}function go(n,e,t){let r=mI[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(u.join(" "));return}yc(new il(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const vI="firebase-heartbeat-database",bI=1,Gu="firebase-heartbeat-store";let Ig=null;function cw(){return Ig||(Ig=M4(vI,bI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw po.create("idb-open",{originalErrorMessage:n.message})})),Ig}async function _I(n){try{const t=(await cw()).transaction(Gu),r=await t.objectStore(Gu).get(uw(n));return await t.done,r}catch(e){if(e instanceof Ta)ya.warn(e.message);else{const t=po.create("idb-get",{originalErrorMessage:e?.message});ya.warn(t.message)}}}async function aE(n,e){try{const r=(await cw()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,uw(n)),await r.done}catch(t){if(t instanceof Ta)ya.warn(t.message);else{const r=po.create("idb-set",{originalErrorMessage:t?.message});ya.warn(r.message)}}}function uw(n){return`${n.name}!${n.options.appId}`}const EI=1024,xI=30;class TI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>xI){const a=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oE(),{heartbeatsToSend:t,unsentEntries:r}=wI(this._heartbeatsCache.heartbeats),a=bd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ya.warn(e),""}}}function oE(){return new Date().toISOString().substring(0,10)}function wI(n,e=EI){const t=[];let r=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),lE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),lE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class AI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h4()?f4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _I(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lE(n){return bd(JSON.stringify({version:2,heartbeats:n})).length}function SI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function NI(n){yc(new il("platform-logger",e=>new U4(e),"PRIVATE")),yc(new il("heartbeat",e=>new TI(e),"PRIVATE")),go(sy,sE,n),go(sy,sE,"esm2020"),go("fire-js","")}NI("");var CI="firebase",RI="12.6.0";go(CI,RI,"app");function hw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const II=hw,fw=new hh("auth","Firebase",hw());const Ed=new t0("@firebase/auth");function OI(n,...e){Ed.logLevel<=st.WARN&&Ed.warn(`Auth (${Ic}): ${n}`,...e)}function od(n,...e){Ed.logLevel<=st.ERROR&&Ed.error(`Auth (${Ic}): ${n}`,...e)}function Os(n,...e){throw i0(n,...e)}function Zs(n,...e){return i0(n,...e)}function s0(n,e,t){const r={...II(),[e]:t};return new hh("auth","Firebase",r).create(e,{appName:n.name})}function pa(n){return s0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DI(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Os(n,"argument-error"),s0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fw.create(n,...e)}function Ve(n,e,...t){if(!n)throw i0(e,...t)}function fa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw od(e),new Error(e)}function va(n,e){n||fa(e)}function oy(){return typeof self<"u"&&self.location?.href||""}function LI(){return cE()==="http:"||cE()==="https:"}function cE(){return typeof self<"u"&&self.location?.protocol||null}function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LI()||o4()||"connection"in navigator)?navigator.onLine:!0}function jI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class dh{constructor(e,t){this.shortDelay=e,this.longDelay=t,va(t>e,"Short delay should be less than long delay!"),this.isMobile=s4()||l4()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function a0(n,e){va(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VI=new dh(3e4,6e4);function Ro(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function wa(n,e,t,r,a={}){return mw(n,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const f=fh({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return a4()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Rc(n.emulatorConfig.host)&&(p.credentials="include"),dw.fetch()(await pw(n,n.config.apiHost,t,f),p)})}async function mw(n,e,t){n._canInitEmulator=!1;const r={...MI,...e};try{const a=new qI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Bf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Bf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Bf(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw s0(n,v,p);Os(n,v)}}catch(a){if(a instanceof Ta)throw a;Os(n,"network-request-failed",{message:String(a)})}}async function mh(n,e,t,r,a={}){const l=await wa(n,e,t,r,a);return"mfaPendingCredential"in l&&Os(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function pw(n,e,t,r){const a=`${e}${t}?${r}`,l=n,u=l.config.emulator?a0(n.config,a):`${n.config.apiScheme}://${a}`;return PI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function UI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),VI.get())})}}function Bf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Zs(n,e,r);return a.customData._tokenResponse=t,a}function uE(n){return n!==void 0&&n.enterprise!==void 0}class BI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zI(n,e){return wa(n,"GET","/v2/recaptchaConfig",Ro(n,e))}async function HI(n,e){return wa(n,"POST","/v1/accounts:delete",e)}async function xd(n,e){return wa(n,"POST","/v1/accounts:lookup",e)}function Pu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FI(n,e=!1){const t=Nn(n),r=await t.getIdToken(e),a=o0(r);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:Pu(Og(a.auth_time)),issuedAtTime:Pu(Og(a.iat)),expirationTime:Pu(Og(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Og(n){return Number(n)*1e3}function o0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const a=JT(t);return a?JSON.parse(a):(od("Failed to decode base64 JWT payload"),null)}catch(a){return od("Caught error parsing JWT payload as JSON",a?.toString()),null}}function hE(n){const e=o0(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ta&&GI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ly{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Td(n){const e=n.auth,t=await n.getIdToken(),r=await vc(n,xd(e,{idToken:t}));Ve(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?gw(a.providerUserInfo):[],u=QI(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function KI(n){const e=Nn(n);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function gw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function YI(n,e){const t=await mw(n,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await pw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return n.emulatorConfig&&Rc(n.emulatorConfig.host)&&(m.credentials="include"),dw.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XI(n,e){return wa(n,"POST","/v2/accounts:revokeToken",Ro(n,e))}class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=hE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await YI(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,u=new cc;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return fa("not implemented")}}function ro(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ws{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ly(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await vc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FI(this,e)}reload(){return KI(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(es(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await vc(this,HI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:x,isAnonymous:S,providerData:I,stsTokenManager:j}=t;Ve(E&&j,e,"internal-error");const O=cc.fromJSON(this.name,j);Ve(typeof E=="string",e,"internal-error"),ro(r,e.name),ro(a,e.name),Ve(typeof x=="boolean",e,"internal-error"),Ve(typeof S=="boolean",e,"internal-error"),ro(l,e.name),ro(u,e.name),ro(f,e.name),ro(m,e.name),ro(p,e.name),ro(v,e.name);const z=new Ws({uid:E,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(z.providerData=I.map(H=>({...H}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,t,r=!1){const a=new cc;a.updateFromServerResponse(t);const l=new Ws({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Td(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?gw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new cc;f.updateFromIdToken(r);const m=new Ws({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const fE=new Map;function da(n){va(n instanceof Function,"Expected a class definition");let e=fE.get(n);return e?(va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fE.set(n,e),e)}class yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yw.type="NONE";const dE=yw;function ld(n,e,t){return`firebase:${n}:${e}:${t}`}class uc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=ld(this.userKey,a.apiKey,l),this.fullPersistenceKey=ld("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xd(this.auth,{idToken:e}).catch(()=>{});return t?Ws._fromGetAccountInfoResponse(this.auth,t,e):null}return Ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new uc(da(dE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||da(dE);const u=ld(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(u);if(v){let E;if(typeof v=="string"){const x=await xd(e,{idToken:v}).catch(()=>{});if(!x)break;E=await Ws._fromGetAccountInfoResponse(e,x,v)}else E=Ws._fromJSON(e,v);p!==l&&(f=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new uc(l,e,r):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new uc(l,e,r))}}function mE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ew(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tw(e))return"Blackberry";if(ww(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||_w(e))&&!e.includes("edge/"))return"Chrome";if(xw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function vw(n=lr()){return/firefox\//i.test(n)}function bw(n=lr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _w(n=lr()){return/crios\//i.test(n)}function Ew(n=lr()){return/iemobile/i.test(n)}function xw(n=lr()){return/android/i.test(n)}function Tw(n=lr()){return/blackberry/i.test(n)}function ww(n=lr()){return/webos/i.test(n)}function l0(n=lr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WI(n=lr()){return l0(n)&&!!window.navigator?.standalone}function ZI(){return c4()&&document.documentMode===10}function Aw(n=lr()){return l0(n)||xw(n)||ww(n)||Tw(n)||/windows phone/i.test(n)||Ew(n)}function Sw(n,e=[]){let t;switch(n){case"Browser":t=mE(lr());break;case"Worker":t=`${mE(lr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ic}/${r}`}class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function e3(n,e={}){return wa(n,"GET","/v2/passwordPolicy",Ro(n,e))}const t3=6;class n3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??t3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class r3{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=da(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xd(this,{idToken:e}),r=await Ws._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(es(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(es(this.app))return Promise.reject(pa(this));const t=e?Nn(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return es(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return es(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e3(this),t=new n3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&da(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await uc.create(this,[da(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Io(n){return Nn(n)}class pE{constructor(e){this.auth=e,this.observer=null,this.addObserver=y4(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s3(n){$d=n}function Nw(n){return $d.loadJS(n)}function i3(){return $d.recaptchaEnterpriseScript}function a3(){return $d.gapiScript}function o3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class l3{constructor(){this.enterprise=new c3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class c3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const u3="recaptcha-enterprise",Cw="NO_RECAPTCHA";class h3{constructor(e){this.type=u3,this.auth=Io(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{zI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new BI(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;uE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(Cw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(f=>{if(!t&&uE(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=i3();m.length!==0&&(m+=f),Nw(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function gE(n,e,t,r=!1,a=!1){const l=new h3(n);let u;if(a)u=Cw;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function cy(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await gE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gE(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}function f3(n,e){const t=r0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(sl(l,e??{}))return a;Os(a,"already-initialized")}return t.initialize({options:e})}function d3(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(da);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function m3(n,e,t){const r=Io(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Rw(e),{host:u,port:f}=p3(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(sl(p,r.config.emulator)&&sl(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Rc(u)?(rw(`${l}//${u}${m}`),sw("Auth",!0)):g3()}function Rw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function p3(n){const e=Rw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:yE(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:yE(u)}}}function yE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function g3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class c0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fa("not implemented")}_getIdTokenResponse(e){return fa("not implemented")}_linkToIdToken(e,t){return fa("not implemented")}_getReauthenticationResolver(e){return fa("not implemented")}}async function y3(n,e){return wa(n,"POST","/v1/accounts:signUp",e)}async function v3(n,e){return mh(n,"POST","/v1/accounts:signInWithPassword",Ro(n,e))}async function b3(n,e){return mh(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}async function _3(n,e){return mh(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}class $u extends c0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new $u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,t,"signInWithPassword",v3);case"emailLink":return b3(e,{email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,r,"signUpPassword",y3);case"emailLink":return _3(e,{idToken:t,email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hc(n,e){return mh(n,"POST","/v1/accounts:signInWithIdp",Ro(n,e))}const E3="http://localhost";class al extends c0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Os("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const u=new al(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return hc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,hc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hc(e,t)}buildRequest(){const e={requestUri:E3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fh(t)}return e}}function x3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T3(n){const e=Nu(Cu(n)).link,t=e?Nu(Cu(e)).deep_link_id:null,r=Nu(Cu(n)).deep_link_id;return(r?Nu(Cu(r)).link:null)||r||t||e||n}class u0{constructor(e){const t=Nu(Cu(e)),r=t.apiKey??null,a=t.oobCode??null,l=x3(t.mode??null);Ve(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=T3(e);try{return new u0(t)}catch{return null}}}class Oc{constructor(){this.providerId=Oc.PROVIDER_ID}static credential(e,t){return $u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=u0.parseLink(t);return Ve(r,"argument-error"),$u._fromEmailAndCode(e,r.code,r.tenantId)}}Oc.PROVIDER_ID="password";Oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class h0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ph extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class io extends ph{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";class _i extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return al._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _i.credential(t,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";class ao extends ph{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";class oo extends ph{constructor(){super("twitter.com")}static credential(e,t){return al._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oo.credential(t,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";async function w3(n,e){return mh(n,"POST","/v1/accounts:signUp",Ro(n,e))}class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Ws._fromIdTokenResponse(e,r,a),u=vE(r);return new ol({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=vE(r);return new ol({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function vE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class wd extends Ta{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new wd(e,t,r,a)}}function Iw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(n,l,e,r):l})}async function A3(n,e,t=!1){const r=await vc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ol._forOperation(n,"link",r)}async function S3(n,e,t=!1){const{auth:r}=n;if(es(r.app))return Promise.reject(pa(r));const a="reauthenticate";try{const l=await vc(n,Iw(r,a,e,n),t);Ve(l.idToken,r,"internal-error");const u=o0(l.idToken);Ve(u,r,"internal-error");const{sub:f}=u;return Ve(n.uid===f,r,"user-mismatch"),ol._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Os(r,"user-mismatch"),l}}async function Ow(n,e,t=!1){if(es(n.app))return Promise.reject(pa(n));const r="signIn",a=await Iw(n,r,e),l=await ol._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function N3(n,e){return Ow(Io(n),e)}async function Dw(n){const e=Io(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C3(n,e,t){if(es(n.app))return Promise.reject(pa(n));const r=Io(n),u=await cy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Dw(n),m}),f=await ol._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function R3(n,e,t){return es(n.app)?Promise.reject(pa(n)):N3(Nn(n),Oc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dw(n),r})}async function I3(n,e){return wa(n,"POST","/v1/accounts:update",e)}async function O3(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Nn(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await vc(r,I3(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function D3(n,e,t,r){return Nn(n).onIdTokenChanged(e,t,r)}function L3(n,e,t){return Nn(n).beforeAuthStateChanged(e,t)}function gh(n,e,t,r){return Nn(n).onAuthStateChanged(e,t,r)}function k3(n){return Nn(n).signOut()}const Ad="__sak";class Lw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const j3=1e3,M3=10;class kw extends Lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);ZI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,M3):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},j3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kw.type="LOCAL";const P3=kw;class jw extends Lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jw.type="SESSION";const Mw=jw;function V3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(u).map(async p=>p(t.origin,l)),m=await V3(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];function f0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class U3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=f0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(E){const x=E;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ei(){return window}function q3(n){Ei().location.href=n}function Pw(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function B3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z3(){return navigator?.serviceWorker?.controller||null}function H3(){return Pw()?self:null}const Vw="firebaseLocalStorageDb",F3=1,Sd="firebaseLocalStorage",Uw="fbase_key";class yh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qd(n,e){return n.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function G3(){const n=indexedDB.deleteDatabase(Vw);return new yh(n).toPromise()}function uy(){const n=indexedDB.open(Vw,F3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sd,{keyPath:Uw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),await G3(),e(await uy()))})})}async function bE(n,e,t){const r=Qd(n,!0).put({[Uw]:e,value:t});return new yh(r).toPromise()}async function $3(n,e){const t=Qd(n,!1).get(e),r=await new yh(t).toPromise();return r===void 0?null:r.value}function _E(n,e){const t=Qd(n,!0).delete(e);return new yh(t).toPromise()}const K3=800,Q3=3;class qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Q3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(H3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B3(),!this.activeServiceWorker)return;this.sender=new U3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await bE(e,Ad,"1"),await _E(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qd(a,!1).getAll();return new yh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qw.type="LOCAL";const Y3=qw;new dh(3e4,6e4);function Bw(n,e){return e?da(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class d0 extends c0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function X3(n){return Ow(n.auth,new d0(n),n.bypassAuthState)}function W3(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),S3(t,new d0(n),n.bypassAuthState)}async function Z3(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),A3(t,new d0(n),n.bypassAuthState)}class zw{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X3;case"linkViaPopup":case"linkViaRedirect":return Z3;case"reauthViaPopup":case"reauthViaRedirect":return W3;default:Os(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const J3=new dh(2e3,1e4);async function Hw(n,e,t){if(es(n.app))return Promise.reject(Zs(n,"operation-not-supported-in-this-environment"));const r=Io(n);DI(n,e,h0);const a=Bw(r,t);return new tl(r,"signInViaPopup",e,a).executeNotNull()}class tl extends zw{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=f0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J3.get())};e()}}tl.currentPopupAction=null;const eO="pendingRedirect",cd=new Map;class tO extends zw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const r=await nO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nO(n,e){const t=iO(e),r=sO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function rO(n,e){cd.set(n._key(),e)}function sO(n){return da(n._redirectPersistence)}function iO(n){return ld(eO,n.config.apiKey,n.name)}async function aO(n,e,t=!1){if(es(n.app))return Promise.reject(pa(n));const r=Io(n),a=Bw(r,e),u=await new tO(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const oO=600*1e3;class lO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Fw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Zs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oO&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Fw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fw(n);default:return!1}}async function uO(n,e={}){return wa(n,"GET","/v1/projects",e)}const hO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fO=/^https?/;async function dO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uO(n);for(const t of e)try{if(mO(t))return}catch{}Os(n,"unauthorized-domain")}function mO(n){const e=oy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!fO.test(t))return!1;if(hO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const pO=new dh(3e4,6e4);function xE(){const n=Ei().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gO(n){return new Promise((e,t)=>{function r(){xE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xE(),t(Zs(n,"network-request-failed"))},timeout:pO.get()})}if(Ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ei().gapi?.load)r();else{const a=o3("iframefcb");return Ei()[a]=()=>{gapi.load?r():t(Zs(n,"network-request-failed"))},Nw(`${a3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ud=null,e})}let ud=null;function yO(n){return ud=ud||gO(n),ud}const vO=new dh(5e3,15e3),bO="__/auth/iframe",_O="emulator/auth/iframe",EO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TO(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?a0(e,_O):`https://${n.config.authDomain}/${bO}`,r={apiKey:e.apiKey,appName:n.name,v:Ic},a=xO.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${fh(r).slice(1)}`}async function wO(n){const e=await yO(n),t=Ei().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:TO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Zs(n,"network-request-failed"),f=Ei().setTimeout(()=>{l(u)},vO.get());function m(){Ei().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(u)})}))}const AO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,NO=600,CO="_blank",RO="http://localhost";class TE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IO(n,e,t,r=SO,a=NO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m={...AO,width:r.toString(),height:a.toString(),top:l,left:u},p=lr().toLowerCase();t&&(f=_w(p)?CO:t),vw(p)&&(e=e||RO,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[S,I])=>`${x}${S}=${I},`,"");if(WI(p)&&f!=="_self")return OO(e||"",f),new TE(null);const E=window.open(e||"",f,v);Ve(E,n,"popup-blocked");try{E.focus()}catch{}return new TE(E)}function OO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const DO="__/auth/handler",LO="emulator/auth/handler",kO=encodeURIComponent("fac");async function wE(n,e,t,r,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ic,eventId:a};if(e instanceof h0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",g4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof ph){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),p=m?`#${kO}=${encodeURIComponent(m)}`:"";return`${jO(n)}?${fh(f).slice(1)}${p}`}function jO({config:n}){return n.emulator?a0(n,LO):`https://${n.authDomain}/${DO}`}const Dg="webStorageSupport";class MO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mw,this._completeRedirectFn=aO,this._overrideRedirectResult=rO}async _openPopup(e,t,r,a){va(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await wE(e,t,r,oy(),a);return IO(e,l,f0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await wE(e,t,r,oy(),a);return q3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(va(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wO(e),r=new lO(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dg,{type:Dg},a=>{const l=a?.[0]?.[Dg];l!==void 0&&t(!!l),Os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Aw()||bw()||l0()}}const PO=MO;var AE="@firebase/auth",SE="1.11.1";class VO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(n){yc(new il("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(n)},p=new r3(r,a,l,m);return d3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),yc(new il("auth-internal",e=>{const t=Io(e.getProvider("auth").getImmediate());return(r=>new VO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(AE,SE,UO(n)),go(AE,SE,"esm2020")}const BO=300,zO=nw("authIdTokenMaxAge")||BO;let NE=null;const HO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>zO)return;const a=t?.token;NE!==a&&(NE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FO(n=lw()){const e=r0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=f3(n,{popupRedirectResolver:PO,persistence:[Y3,P3,Mw]}),r=nw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=HO(l.toString());L3(t,u,()=>u(t.currentUser)),D3(t,f=>u(f))}}const a=ew("auth");return a&&m3(t,`http://${a}`),t}function GO(){return document.getElementsByTagName("head")?.[0]??document}s3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Zs("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",GO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yo,Gw;(function(){var n;function e(M,k){function P(){}P.prototype=k.prototype,M.F=k.prototype,M.prototype=new P,M.prototype.constructor=M,M.D=function(G,A,L){for(var N=Array(arguments.length-2),me=2;me<arguments.length;me++)N[me-2]=arguments[me];return k.prototype[A].apply(G,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,k,P){P||(P=0);const G=Array(16);if(typeof k=="string")for(var A=0;A<16;++A)G[A]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(A=0;A<16;++A)G[A]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=M.g[0],P=M.g[1],A=M.g[2];let L=M.g[3],N;N=k+(L^P&(A^L))+G[0]+3614090360&4294967295,k=P+(N<<7&4294967295|N>>>25),N=L+(A^k&(P^A))+G[1]+3905402710&4294967295,L=k+(N<<12&4294967295|N>>>20),N=A+(P^L&(k^P))+G[2]+606105819&4294967295,A=L+(N<<17&4294967295|N>>>15),N=P+(k^A&(L^k))+G[3]+3250441966&4294967295,P=A+(N<<22&4294967295|N>>>10),N=k+(L^P&(A^L))+G[4]+4118548399&4294967295,k=P+(N<<7&4294967295|N>>>25),N=L+(A^k&(P^A))+G[5]+1200080426&4294967295,L=k+(N<<12&4294967295|N>>>20),N=A+(P^L&(k^P))+G[6]+2821735955&4294967295,A=L+(N<<17&4294967295|N>>>15),N=P+(k^A&(L^k))+G[7]+4249261313&4294967295,P=A+(N<<22&4294967295|N>>>10),N=k+(L^P&(A^L))+G[8]+1770035416&4294967295,k=P+(N<<7&4294967295|N>>>25),N=L+(A^k&(P^A))+G[9]+2336552879&4294967295,L=k+(N<<12&4294967295|N>>>20),N=A+(P^L&(k^P))+G[10]+4294925233&4294967295,A=L+(N<<17&4294967295|N>>>15),N=P+(k^A&(L^k))+G[11]+2304563134&4294967295,P=A+(N<<22&4294967295|N>>>10),N=k+(L^P&(A^L))+G[12]+1804603682&4294967295,k=P+(N<<7&4294967295|N>>>25),N=L+(A^k&(P^A))+G[13]+4254626195&4294967295,L=k+(N<<12&4294967295|N>>>20),N=A+(P^L&(k^P))+G[14]+2792965006&4294967295,A=L+(N<<17&4294967295|N>>>15),N=P+(k^A&(L^k))+G[15]+1236535329&4294967295,P=A+(N<<22&4294967295|N>>>10),N=k+(A^L&(P^A))+G[1]+4129170786&4294967295,k=P+(N<<5&4294967295|N>>>27),N=L+(P^A&(k^P))+G[6]+3225465664&4294967295,L=k+(N<<9&4294967295|N>>>23),N=A+(k^P&(L^k))+G[11]+643717713&4294967295,A=L+(N<<14&4294967295|N>>>18),N=P+(L^k&(A^L))+G[0]+3921069994&4294967295,P=A+(N<<20&4294967295|N>>>12),N=k+(A^L&(P^A))+G[5]+3593408605&4294967295,k=P+(N<<5&4294967295|N>>>27),N=L+(P^A&(k^P))+G[10]+38016083&4294967295,L=k+(N<<9&4294967295|N>>>23),N=A+(k^P&(L^k))+G[15]+3634488961&4294967295,A=L+(N<<14&4294967295|N>>>18),N=P+(L^k&(A^L))+G[4]+3889429448&4294967295,P=A+(N<<20&4294967295|N>>>12),N=k+(A^L&(P^A))+G[9]+568446438&4294967295,k=P+(N<<5&4294967295|N>>>27),N=L+(P^A&(k^P))+G[14]+3275163606&4294967295,L=k+(N<<9&4294967295|N>>>23),N=A+(k^P&(L^k))+G[3]+4107603335&4294967295,A=L+(N<<14&4294967295|N>>>18),N=P+(L^k&(A^L))+G[8]+1163531501&4294967295,P=A+(N<<20&4294967295|N>>>12),N=k+(A^L&(P^A))+G[13]+2850285829&4294967295,k=P+(N<<5&4294967295|N>>>27),N=L+(P^A&(k^P))+G[2]+4243563512&4294967295,L=k+(N<<9&4294967295|N>>>23),N=A+(k^P&(L^k))+G[7]+1735328473&4294967295,A=L+(N<<14&4294967295|N>>>18),N=P+(L^k&(A^L))+G[12]+2368359562&4294967295,P=A+(N<<20&4294967295|N>>>12),N=k+(P^A^L)+G[5]+4294588738&4294967295,k=P+(N<<4&4294967295|N>>>28),N=L+(k^P^A)+G[8]+2272392833&4294967295,L=k+(N<<11&4294967295|N>>>21),N=A+(L^k^P)+G[11]+1839030562&4294967295,A=L+(N<<16&4294967295|N>>>16),N=P+(A^L^k)+G[14]+4259657740&4294967295,P=A+(N<<23&4294967295|N>>>9),N=k+(P^A^L)+G[1]+2763975236&4294967295,k=P+(N<<4&4294967295|N>>>28),N=L+(k^P^A)+G[4]+1272893353&4294967295,L=k+(N<<11&4294967295|N>>>21),N=A+(L^k^P)+G[7]+4139469664&4294967295,A=L+(N<<16&4294967295|N>>>16),N=P+(A^L^k)+G[10]+3200236656&4294967295,P=A+(N<<23&4294967295|N>>>9),N=k+(P^A^L)+G[13]+681279174&4294967295,k=P+(N<<4&4294967295|N>>>28),N=L+(k^P^A)+G[0]+3936430074&4294967295,L=k+(N<<11&4294967295|N>>>21),N=A+(L^k^P)+G[3]+3572445317&4294967295,A=L+(N<<16&4294967295|N>>>16),N=P+(A^L^k)+G[6]+76029189&4294967295,P=A+(N<<23&4294967295|N>>>9),N=k+(P^A^L)+G[9]+3654602809&4294967295,k=P+(N<<4&4294967295|N>>>28),N=L+(k^P^A)+G[12]+3873151461&4294967295,L=k+(N<<11&4294967295|N>>>21),N=A+(L^k^P)+G[15]+530742520&4294967295,A=L+(N<<16&4294967295|N>>>16),N=P+(A^L^k)+G[2]+3299628645&4294967295,P=A+(N<<23&4294967295|N>>>9),N=k+(A^(P|~L))+G[0]+4096336452&4294967295,k=P+(N<<6&4294967295|N>>>26),N=L+(P^(k|~A))+G[7]+1126891415&4294967295,L=k+(N<<10&4294967295|N>>>22),N=A+(k^(L|~P))+G[14]+2878612391&4294967295,A=L+(N<<15&4294967295|N>>>17),N=P+(L^(A|~k))+G[5]+4237533241&4294967295,P=A+(N<<21&4294967295|N>>>11),N=k+(A^(P|~L))+G[12]+1700485571&4294967295,k=P+(N<<6&4294967295|N>>>26),N=L+(P^(k|~A))+G[3]+2399980690&4294967295,L=k+(N<<10&4294967295|N>>>22),N=A+(k^(L|~P))+G[10]+4293915773&4294967295,A=L+(N<<15&4294967295|N>>>17),N=P+(L^(A|~k))+G[1]+2240044497&4294967295,P=A+(N<<21&4294967295|N>>>11),N=k+(A^(P|~L))+G[8]+1873313359&4294967295,k=P+(N<<6&4294967295|N>>>26),N=L+(P^(k|~A))+G[15]+4264355552&4294967295,L=k+(N<<10&4294967295|N>>>22),N=A+(k^(L|~P))+G[6]+2734768916&4294967295,A=L+(N<<15&4294967295|N>>>17),N=P+(L^(A|~k))+G[13]+1309151649&4294967295,P=A+(N<<21&4294967295|N>>>11),N=k+(A^(P|~L))+G[4]+4149444226&4294967295,k=P+(N<<6&4294967295|N>>>26),N=L+(P^(k|~A))+G[11]+3174756917&4294967295,L=k+(N<<10&4294967295|N>>>22),N=A+(k^(L|~P))+G[2]+718787259&4294967295,A=L+(N<<15&4294967295|N>>>17),N=P+(L^(A|~k))+G[9]+3951481745&4294967295,M.g[0]=M.g[0]+k&4294967295,M.g[1]=M.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+A&4294967295,M.g[3]=M.g[3]+L&4294967295}r.prototype.v=function(M,k){k===void 0&&(k=M.length);const P=k-this.blockSize,G=this.C;let A=this.h,L=0;for(;L<k;){if(A==0)for(;L<=P;)a(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<k;)if(G[A++]=M.charCodeAt(L++),A==this.blockSize){a(this,G),A=0;break}}else for(;L<k;)if(G[A++]=M[L++],A==this.blockSize){a(this,G),A=0;break}}this.h=A,this.o+=k},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var k=1;k<M.length-8;++k)M[k]=0;k=this.o*8;for(var P=M.length-8;P<M.length;++P)M[P]=k&255,k/=256;for(this.v(M),M=Array(16),k=0,P=0;P<4;++P)for(let G=0;G<32;G+=8)M[k++]=this.g[P]>>>G&255;return M};function l(M,k){var P=f;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=k(M)}function u(M,k){this.h=k;const P=[];let G=!0;for(let A=M.length-1;A>=0;A--){const L=M[A]|0;G&&L==k||(P[A]=L,G=!1)}this.g=P}var f={};function m(M){return-128<=M&&M<128?l(M,function(k){return new u([k|0],k<0?-1:0)}):new u([M|0],M<0?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return E;if(M<0)return O(p(-M));const k=[];let P=1;for(let G=0;M>=P;G++)k[G]=M/P|0,P*=4294967296;return new u(k,0)}function v(M,k){if(M.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(M.charAt(0)=="-")return O(v(M.substring(1),k));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(k,8));let G=E;for(let L=0;L<M.length;L+=8){var A=Math.min(8,M.length-L);const N=parseInt(M.substring(L,L+A),k);A<8?(A=p(Math.pow(k,A)),G=G.j(A).add(p(N))):(G=G.j(P),G=G.add(p(N)))}return G}var E=m(0),x=m(1),S=m(16777216);n=u.prototype,n.m=function(){if(j(this))return-O(this).m();let M=0,k=1;for(let P=0;P<this.g.length;P++){const G=this.i(P);M+=(G>=0?G:4294967296+G)*k,k*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if(j(this))return"-"+O(this).toString(M);const k=p(Math.pow(M,6));var P=this;let G="";for(;;){const A=ye(P,k).g;P=z(P,A.j(k));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(M);if(P=A,I(P))return L+G;for(;L.length<6;)L="0"+L;G=L+G}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(let k=0;k<M.g.length;k++)if(M.g[k]!=0)return!1;return!0}function j(M){return M.h==-1}n.l=function(M){return M=z(this,M),j(M)?-1:I(M)?0:1};function O(M){const k=M.g.length,P=[];for(let G=0;G<k;G++)P[G]=~M.g[G];return new u(P,~M.h).add(x)}n.abs=function(){return j(this)?O(this):this},n.add=function(M){const k=Math.max(this.g.length,M.g.length),P=[];let G=0;for(let A=0;A<=k;A++){let L=G+(this.i(A)&65535)+(M.i(A)&65535),N=(L>>>16)+(this.i(A)>>>16)+(M.i(A)>>>16);G=N>>>16,L&=65535,N&=65535,P[A]=N<<16|L}return new u(P,P[P.length-1]&-2147483648?-1:0)};function z(M,k){return M.add(O(k))}n.j=function(M){if(I(this)||I(M))return E;if(j(this))return j(M)?O(this).j(O(M)):O(O(this).j(M));if(j(M))return O(this.j(O(M)));if(this.l(S)<0&&M.l(S)<0)return p(this.m()*M.m());const k=this.g.length+M.g.length,P=[];for(var G=0;G<2*k;G++)P[G]=0;for(G=0;G<this.g.length;G++)for(let A=0;A<M.g.length;A++){const L=this.i(G)>>>16,N=this.i(G)&65535,me=M.i(A)>>>16,de=M.i(A)&65535;P[2*G+2*A]+=N*de,H(P,2*G+2*A),P[2*G+2*A+1]+=L*de,H(P,2*G+2*A+1),P[2*G+2*A+1]+=N*me,H(P,2*G+2*A+1),P[2*G+2*A+2]+=L*me,H(P,2*G+2*A+2)}for(M=0;M<k;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=k;M<2*k;M++)P[M]=0;return new u(P,0)};function H(M,k){for(;(M[k]&65535)!=M[k];)M[k+1]+=M[k]>>>16,M[k]&=65535,k++}function W(M,k){this.g=M,this.h=k}function ye(M,k){if(I(k))throw Error("division by zero");if(I(M))return new W(E,E);if(j(M))return k=ye(O(M),k),new W(O(k.g),O(k.h));if(j(k))return k=ye(M,O(k)),new W(O(k.g),k.h);if(M.g.length>30){if(j(M)||j(k))throw Error("slowDivide_ only works with positive integers.");for(var P=x,G=k;G.l(M)<=0;)P=ve(P),G=ve(G);var A=Ee(P,1),L=Ee(G,1);for(G=Ee(G,2),P=Ee(P,2);!I(G);){var N=L.add(G);N.l(M)<=0&&(A=A.add(P),L=N),G=Ee(G,1),P=Ee(P,1)}return k=z(M,A.j(k)),new W(A,k)}for(A=E;M.l(k)>=0;){for(P=Math.max(1,Math.floor(M.m()/k.m())),G=Math.ceil(Math.log(P)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),L=p(P),N=L.j(k);j(N)||N.l(M)>0;)P-=G,L=p(P),N=L.j(k);I(L)&&(L=x),A=A.add(L),M=z(M,N)}return new W(A,M)}n.B=function(M){return ye(this,M).h},n.and=function(M){const k=Math.max(this.g.length,M.g.length),P=[];for(let G=0;G<k;G++)P[G]=this.i(G)&M.i(G);return new u(P,this.h&M.h)},n.or=function(M){const k=Math.max(this.g.length,M.g.length),P=[];for(let G=0;G<k;G++)P[G]=this.i(G)|M.i(G);return new u(P,this.h|M.h)},n.xor=function(M){const k=Math.max(this.g.length,M.g.length),P=[];for(let G=0;G<k;G++)P[G]=this.i(G)^M.i(G);return new u(P,this.h^M.h)};function ve(M){const k=M.g.length+1,P=[];for(let G=0;G<k;G++)P[G]=M.i(G)<<1|M.i(G-1)>>>31;return new u(P,M.h)}function Ee(M,k){const P=k>>5;k%=32;const G=M.g.length-P,A=[];for(let L=0;L<G;L++)A[L]=k>0?M.i(L+P)>>>k|M.i(L+P+1)<<32-k:M.i(L+P);return new u(A,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Gw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,yo=u}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $w,Ru,Kw,hd,hy,Qw,Yw,Xw;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var b=0;b<h.length;++b){var w=h[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function a(h,b){if(b)e:{var w=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var Q=h[D];if(!(Q in w))break e;w=w[Q]}h=h[h.length-1],D=w[h],b=b(D),b!=D&&b!=null&&e(w,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var w=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&w.push([D,b[D]]);return w}});var l=l||{},u=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,w){return h.call.apply(h.bind,arguments)}function p(h,b,w){return p=m,p.apply(null,arguments)}function v(h,b){var w=Array.prototype.slice.call(arguments,1);return function(){var D=w.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function E(h,b){function w(){}w.prototype=b.prototype,h.Z=b.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(D,Q,ne){for(var _e=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)_e[Fe-2]=arguments[Fe];return b.prototype[Q].apply(D,_e)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const b=h.length;if(b>0){const w=Array(b);for(let D=0;D<b;D++)w[D]=h[D];return w}return[]}function I(h,b){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var w=typeof Q;if(w=w!="object"?w:Q?Array.isArray(Q)?"array":w:"null",w=="array"||w=="object"&&typeof Q.length=="number"){w=h.length||0;const ne=Q.length||0;h.length=w+ne;for(let _e=0;_e<ne;_e++)h[w+_e]=Q[_e]}else h.push(Q)}}class j{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function O(h){u.setTimeout(()=>{throw h},0)}function z(){var h=M;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class H{constructor(){this.h=this.g=null}add(b,w){const D=W.get();D.set(b,w),this.h?this.h.next=D:this.g=D,this.h=D}}var W=new j(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Ee=!1,M=new H,k=()=>{const h=Promise.resolve(void 0);ve=()=>{h.then(P)}};function P(){for(var h;h=z();){try{h.h.call(h.g)}catch(w){O(w)}var b=W;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}Ee=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,b),u.removeEventListener("test",w,b)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function me(h,b){A.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}E(me,A),me.prototype.init=function(h,b){const w=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(w=="mouseover"?b=h.fromElement:w=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),B=0;function J(h,b,w,D,Q){this.listener=h,this.proxy=null,this.src=b,this.type=w,this.capture=!!D,this.ha=Q,this.key=++B,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h,b,w){for(const D in h)b.call(w,h[D],D,h)}function ge(h,b){for(const w in h)b.call(void 0,h[w],w,h)}function V(h){const b={};for(const w in h)b[w]=h[w];return b}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,b){let w,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(w in D)h[w]=D[w];for(let ne=0;ne<Y.length;ne++)w=Y[ne],Object.prototype.hasOwnProperty.call(D,w)&&(h[w]=D[w])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,b,w,D,Q){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const _e=we(h,b,D,Q);return _e>-1?(b=h[_e],w||(b.fa=!1)):(b=new J(b,this.src,ne,!!D,Q),b.fa=w,h.push(b)),b};function pe(h,b){const w=b.type;if(w in h.g){var D=h.g[w],Q=Array.prototype.indexOf.call(D,b,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(D,Q,1),ne&&(le(b),h.g[w].length==0&&(delete h.g[w],h.h--))}}function we(h,b,w,D){for(let Q=0;Q<h.length;++Q){const ne=h[Q];if(!ne.da&&ne.listener==b&&ne.capture==!!w&&ne.ha==D)return Q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Ie={};function Le(h,b,w,D,Q){if(Array.isArray(b)){for(let ne=0;ne<b.length;ne++)Le(h,b[ne],w,D,Q);return null}return w=ki(w),h&&h[de]?h.J(b,w,f(D)?!!D.capture:!1,Q):Qe(h,b,w,!1,D,Q)}function Qe(h,b,w,D,Q,ne){if(!b)throw Error("Invalid event type");const _e=f(Q)?!!Q.capture:!!Q;let Fe=Pr(h);if(Fe||(h[De]=Fe=new fe(h)),w=Fe.add(b,w,D,_e,ne),w.proxy)return w;if(D=We(),w.proxy=D,D.src=h,D.listener=w,h.addEventListener)L||(Q=_e),Q===void 0&&(Q=!1),h.addEventListener(b.toString(),D,Q);else if(h.attachEvent)h.attachEvent(dt(b.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return w}function We(){function h(w){return b.call(h.src,h.listener,w)}const b=Wt;return h}function tt(h,b,w,D,Q){if(Array.isArray(b))for(var ne=0;ne<b.length;ne++)tt(h,b[ne],w,D,Q);else D=f(D)?!!D.capture:!!D,w=ki(w),h&&h[de]?(h=h.i,ne=String(b).toString(),ne in h.g&&(b=h.g[ne],w=we(b,w,D,Q),w>-1&&(le(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Pr(h))&&(b=h.g[b.toString()],h=-1,b&&(h=we(b,w,D,Q)),(w=h>-1?b[h]:null)&&ot(w))}function ot(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[de])pe(b.i,h);else{var w=h.type,D=h.proxy;b.removeEventListener?b.removeEventListener(w,D,h.capture):b.detachEvent?b.detachEvent(dt(w),D):b.addListener&&b.removeListener&&b.removeListener(D),(w=Pr(b))?(pe(w,h),w.h==0&&(w.src=null,b[De]=null)):le(h)}}}function dt(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function Wt(h,b){if(h.da)h=!0;else{b=new me(b,this);const w=h.listener,D=h.ha||h.src;h.fa&&ot(h),h=w.call(D,b)}return h}function Pr(h){return h=h[De],h instanceof fe?h:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function ki(h){return typeof h=="function"?h:(h[si]||(h[si]=function(b){return h.handleEvent(b)}),h[si])}function Ut(){G.call(this),this.i=new fe(this),this.M=this,this.G=null}E(Ut,G),Ut.prototype[de]=!0,Ut.prototype.removeEventListener=function(h,b,w,D){tt(this,h,b,w,D)};function St(h,b){var w,D=h.G;if(D)for(w=[];D;D=D.G)w.push(D);if(h=h.M,D=b.type||b,typeof b=="string")b=new A(b,h);else if(b instanceof A)b.target=b.target||h;else{var Q=b;b=new A(D,h),ue(b,Q)}Q=!0;let ne,_e;if(w)for(_e=w.length-1;_e>=0;_e--)ne=b.g=w[_e],Q=_r(ne,D,!0,b)&&Q;if(ne=b.g=h,Q=_r(ne,D,!0,b)&&Q,Q=_r(ne,D,!1,b)&&Q,w)for(_e=0;_e<w.length;_e++)ne=b.g=w[_e],Q=_r(ne,D,!1,b)&&Q}Ut.prototype.N=function(){if(Ut.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const w=h.g[b];for(let D=0;D<w.length;D++)le(w[D]);delete h.g[b],h.h--}}this.G=null},Ut.prototype.J=function(h,b,w,D){return this.i.add(String(h),b,!1,w,D)},Ut.prototype.K=function(h,b,w,D){return this.i.add(String(h),b,!0,w,D)};function _r(h,b,w,D){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let ne=0;ne<b.length;++ne){const _e=b[ne];if(_e&&!_e.da&&_e.capture==w){const Fe=_e.listener,cn=_e.ha||_e.src;_e.fa&&pe(h.i,_e),Q=Fe.call(cn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Ra(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(h,b||0)}function ji(h){h.g=Ra(()=>{h.g=null,h.i&&(h.i=!1,ji(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Nt extends G{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){G.call(this),this.h=h,this.g={}}E(Er,G);var Mi=[];function Vr(h){be(h.g,function(b,w){this.g.hasOwnProperty(w)&&ot(b)},h),h.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Vr(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=u.JSON.stringify,Pi=u.JSON.parse,Ln=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Vi(){}function Ui(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){A.call(this,"d")}E(Qt,A);function xn(){A.call(this,"c")}E(xn,A);var Ct={},js=null;function xr(){return js=js||new Ut}Ct.Ia="serverreachability";function Xn(h){A.call(this,Ct.Ia,h)}E(Xn,A);function kn(h){const b=xr();St(b,new Xn(b))}Ct.STAT_EVENT="statevent";function Ur(h,b){A.call(this,Ct.STAT_EVENT,h),this.stat=b}E(Ur,A);function _t(h){const b=xr();St(b,new Ur(b,h))}Ct.Ja="timingevent";function Wn(h,b){A.call(this,Ct.Ja,h),this.size=b}E(Wn,A);function Cn(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},b)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function qi(h,b,w,D,Q,ne){h.info(function(){if(h.g)if(ne){var _e="",Fe=ne.split("&");for(let mt=0;mt<Fe.length;mt++){var cn=Fe[mt].split("=");if(cn.length>1){const Gt=cn[0];cn=cn[1];const gs=Gt.split("_");_e=gs.length>=2&&gs[1]=="type"?_e+(Gt+"="+cn+"&"):_e+(Gt+"=redacted&")}}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+b+`
`+w+`
`+_e})}function ii(h,b,w,D,Q,ne,_e){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+b+`
`+w+`
`+ne+" "+_e})}function Tn(h,b,w,D){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+qr(h,w)+(D?" "+D:"")})}function os(h,b){h.info(function(){return"TIMEOUT: "+b})}jn.prototype.info=function(){};function qr(h,b){if(!h.g)return b;if(!b)return null;try{const ne=JSON.parse(b);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var w=ne[h];if(!(w.length<2)){var D=w[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let _e=1;_e<D.length;_e++)D[_e]=""}}}}return cr(ne)}catch{return b}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zi;function ls(){}E(ls,Vi),ls.prototype.g=function(){return new XMLHttpRequest},zi=new ls;function hr(h){return encodeURIComponent(String(h))}function Zt(h){var b=1;h=h.split(":");const w=[];for(;b>0&&h.length;)w.push(h.shift()),b--;return h.length&&w.push(h.join(":")),w}function fr(h,b,w,D){this.j=h,this.i=b,this.l=w,this.S=D||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var qt={},Jt={};function Tr(h,b,w){h.M=1,h.A=us(zt(b)),h.u=w,h.R=!0,Yt(h,null)}function Yt(h,b){h.F=Date.now(),wr(h),h.B=zt(h.A);var w=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),ui(w.i,"t",D),h.C=0,w=h.j.L,h.h=new dr,h.g=Dh(h.j,w?b:null,!h.u),h.P>0&&(h.O=new Nt(p(h.Y,h,h.g),h.P)),b=h.V,w=h.g,D=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Mi[0]=Q.toString()),Q=Mi);for(let ne=0;ne<Q.length;ne++){const _e=Le(w,Q[ne],D||b.handleEvent,!1,b.h||b);if(!_e)break;b.g[_e.key]=_e}b=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),kn(),qi(h.i,h.v,h.B,h.l,h.S,h.u)}fr.prototype.ba=function(h){h=h.target;const b=this.O;b&&U(h)==3?b.j():this.Y(h)},fr.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=U(this.g),cn=this.g.ya(),mt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||te(this.g)))){this.K||Fe!=4||cn==7||(cn==8||mt<=0?kn(3):kn(2)),Ot(this);var b=this.g.ca();this.X=b;var w=Mo(this);if(this.o=b==200,ii(this.i,this.v,this.B,this.l,this.S,Fe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var ne=D;break t}}ne=null}if(h=ne)Tn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ar(this,h);else{this.o=!1,this.m=3,_t(12),Mn(this),Zn(this);break e}}if(this.R){h=!0;let Gt;for(;!this.K&&this.C<w.length;)if(Gt=Oa(this,w),Gt==Jt){Fe==4&&(this.m=4,_t(14),h=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==qt){this.m=4,_t(15),Tn(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Tn(this.i,this.l,Gt,null),Ar(this,Gt);if(Ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||w.length!=0||this.h.h||(this.m=1,_t(16),h=!1),this.o=this.o&&h,!h)Tn(this.i,this.l,w,"[Invalid Chunked Response]"),Mn(this),Zn(this);else if(w.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),$r(_e),_e.P=!0,_t(11))}}else Tn(this.i,this.l,w,null),Ar(this,w);Fe==4&&Mn(this),this.o&&!this.K&&(Fe==4?Qi(this.j,this):(this.o=!1,wr(this)))}else Me(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Mn(this),Zn(this)}}}catch{}finally{}};function Mo(h){if(!Ia(h))return h.g.la();const b=te(h.g);if(b==="")return"";let w="";const D=b.length,Q=U(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Mn(h),Zn(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<D;ne++)h.h.h=!0,w+=h.h.i.decode(b[ne],{stream:!(Q&&ne==D-1)});return b.length=0,h.h.g+=w,h.C=0,h.h.g}function Ia(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Oa(h,b){var w=h.C,D=b.indexOf(`
`,w);return D==-1?Jt:(w=Number(b.substring(w,D)),isNaN(w)?qt:(D+=1,D+w>b.length?Jt:(b=b.slice(D,D+w),h.C=D+w,b)))}fr.prototype.cancel=function(){this.K=!0,Mn(this)};function wr(h){h.T=Date.now()+h.H,ai(h,h.H)}function ai(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Cn(p(h.aa,h),b)}function Ot(h){h.D&&(u.clearTimeout(h.D),h.D=null)}fr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(os(this.i,this.B),this.M!=2&&(kn(),_t(17)),Mn(this),this.m=2,Zn(this)):ai(this,this.T-h)};function Zn(h){h.j.I==0||h.K||Qi(h.j,h)}function Mn(h){Ot(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Vr(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Ar(h,b){try{var w=h.j;if(w.I!=0&&(w.g==h||Pn(w.h,h))){if(!h.L&&Pn(w.h,h)&&w.I==3){try{var D=w.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Bs(w),yt(w);else break e;Bn(w),_t(18)}}else w.xa=Q[1],0<w.xa-w.K&&Q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Cn(p(w.Va,w),6e3));mr(w.h)<=1&&w.ta&&(w.ta=void 0)}else fi(w,11)}else if((h.L||w.g==h)&&Bs(w),!N(b))for(Q=w.Ba.g.parse(b),b=0;b<Q.length;b++){let mt=Q[b];const Gt=mt[0];if(!(Gt<=w.K))if(w.K=Gt,mt=mt[1],w.I==2)if(mt[0]=="c"){w.M=mt[1],w.ba=mt[2];const gs=mt[3];gs!=null&&(w.ka=gs,w.j.info("VER="+w.ka));const di=mt[4];di!=null&&(w.za=di,w.j.info("SVER="+w.za));const zs=mt[5];zs!=null&&typeof zs=="number"&&zs>0&&(D=1.5*zs,w.O=D,w.j.info("backChannelRequestTimeoutMs_="+D)),D=w;const Hs=h.g;if(Hs){const Vo=Hs.g?Hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vo){var ne=D.h;ne.g||Vo.indexOf("spdy")==-1&&Vo.indexOf("quic")==-1&&Vo.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Jn(ne,ne.h),ne.h=null))}if(D.G){const Al=Hs.g?Hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(D.wa=Al,ct(D.J,D.G,Al))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),D=w;var _e=h;if(D.na=Oh(D,D.L?D.ba:null,D.W),_e.L){Ps(D.h,_e);var Fe=_e,cn=D.O;cn&&(Fe.H=cn),Fe.D&&(Ot(Fe),wr(Fe)),D.g=_e}else Gr(D);w.i.length>0&&wt(w)}else mt[0]!="stop"&&mt[0]!="close"||fi(w,7);else w.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?fi(w,7):Xe(w):mt[0]!="noop"&&w.l&&w.l.qa(mt),w.A=0)}}kn(4)}catch{}}var Bt=class{constructor(h,b){this.g=h,this.map=b}};function Hi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cs(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function mr(h){return h.h?1:h.g?h.g.size:0}function Pn(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Jn(h,b){h.g?h.g.add(b):h.h=b}function Ps(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Hi.prototype.cancel=function(){if(this.i=Fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fi(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const w of h.g.values())b=b.concat(w.G);return b}return S(h.i)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oi(h,b){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const D=h[w].indexOf("=");let Q,ne=null;D>=0?(Q=h[w].substring(0,D),ne=h[w].substring(D+1)):Q=h[w],b(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Vn?(this.l=h.l,Dt(this,h.j),this.o=h.o,this.g=h.g,Sr(this,h.u),this.h=h.h,Br(this,La(h.i)),this.m=h.m):h&&(b=String(h).match(Da))?(this.l=!1,Dt(this,b[1]||"",!0),this.o=Nr(b[2]||""),this.g=Nr(b[3]||"",!0),Sr(this,b[4]),this.h=Nr(b[5]||"",!0),Br(this,b[6]||"",!0),this.m=Nr(b[7]||"")):(this.l=!1,this.i=new mn(null,this.l))}Vn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Vs(b,li,!0),":");var w=this.g;return(w||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Vs(b,li,!0),"@"),h.push(hr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Vs(w,w.charAt(0)=="/"?Gi:ci,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Vs(w,fs)),h.join("")},Vn.prototype.resolve=function(h){const b=zt(this);let w=!!h.j;w?Dt(b,h.j):w=!!h.o,w?b.o=h.o:w=!!h.g,w?b.g=h.g:w=h.u!=null;var D=h.h;if(w)Sr(b,h.u);else if(w=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(D=b.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let _e=0;_e<Q.length;){const Fe=Q[_e++];Fe=="."?D&&_e==Q.length&&ne.push(""):Fe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),D&&_e==Q.length&&ne.push("")):(ne.push(Fe),D=!0)}D=ne.join("/")}else D=Q}return w?b.h=D:w=h.i.toString()!=="",w?Br(b,La(h.i)):w=!!h.m,w&&(b.m=h.m),b};function zt(h){return new Vn(h)}function Dt(h,b,w){h.j=w?Nr(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Sr(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Br(h,b,w){b instanceof mn?(h.i=b,hi(h.i,h.l)):(w||(b=Vs(b,hs)),h.i=new mn(b,h.l))}function ct(h,b,w){h.i.set(b,w)}function us(h){return ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Nr(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vs(h,b,w){return typeof h=="string"?(h=encodeURI(h).replace(b,Rn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var li=/[#\/\?@]/g,ci=/[#\?:]/g,Gi=/[#\?]/g,hs=/[#\?@]/g,fs=/#/g;function mn(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ht(h){h.g||(h.g=new Map,h.h=0,h.i&&oi(h.i,function(b,w){h.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}n=mn.prototype,n.add=function(h,b){Ht(this),this.i=null,h=ds(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(b),this.h+=1,this};function Cr(h,b){Ht(h),b=ds(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function $i(h,b){return Ht(h),b=ds(h,b),h.g.has(b)}n.forEach=function(h,b){Ht(this),this.g.forEach(function(w,D){w.forEach(function(Q){h.call(b,Q,D,this)},this)},this)};function er(h,b){Ht(h);let w=[];if(typeof b=="string")$i(h,b)&&(w=w.concat(h.g.get(ds(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)w=w.concat(h[b]);return w}n.set=function(h,b){return Ht(this),this.i=null,h=ds(this,h),$i(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},n.get=function(h,b){return h?(h=er(this,h),h.length>0?String(h[0]):b):b};function ui(h,b,w){Cr(h,b),w.length>0&&(h.i=null,h.g.set(ds(h,b),S(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var w=b[D];const Q=hr(w);w=er(this,w);for(let ne=0;ne<w.length;ne++){let _e=Q;w[ne]!==""&&(_e+="="+hr(w[ne])),h.push(_e)}}return this.i=h.join("&")};function La(h){const b=new mn;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function ds(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function hi(h,b){b&&!h.j&&(Ht(h),h.i=null,h.g.forEach(function(w,D){const Q=D.toLowerCase();D!=Q&&(Cr(this,D),ui(this,Q,w))},h)),h.j=b}function tr(h,b){const w=new jn;if(u.Image){const D=new Image;D.onload=v(Un,w,"TestLoadImage: loaded",!0,b,D),D.onerror=v(Un,w,"TestLoadImage: error",!1,b,D),D.onabort=v(Un,w,"TestLoadImage: abort",!1,b,D),D.ontimeout=v(Un,w,"TestLoadImage: timeout",!1,b,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else b(!1)}function on(h,b){const w=new jn,D=new AbortController,Q=setTimeout(()=>{D.abort(),Un(w,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:D.signal}).then(ne=>{clearTimeout(Q),ne.ok?Un(w,"TestPingServer: ok",!0,b):Un(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Un(w,"TestPingServer: error",!1,b)})}function Un(h,b,w,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(w)}catch{}}function zr(){this.g=new Ln}function qn(h){this.i=h.Sb||null,this.h=h.ab||!1}E(qn,Vi),qn.prototype.g=function(){return new Hr(this.i,this.h)};function Hr(h,b){Ut.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Hr,Ut),n=Hr.prototype,n.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,nr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?ms(this):nr(this),this.readyState==3&&Fr(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ms(this))},n.Na=function(h){this.g&&(this.response=h,ms(this))},n.ga=function(){this.g&&ms(this)};function ms(h){h.readyState=4,h.l=null,h.j=null,h.B=null,nr(h)}n.setRequestHeader=function(h,b){this.A.append(h,b)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=b.next();return h.join(`\r
`)};function nr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function In(h){let b="";return be(h,function(w,D){b+=D,b+=":",b+=w,b+=`\r
`}),b}function ps(h,b,w){e:{for(D in w){var D=!1;break e}D=!0}D||(w=In(w),typeof h=="string"?w!=null&&hr(w):ct(h,b,w))}function Ye(h){Ut.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,Ut);var pr=/^https?$/i,Us=["POST","PUT"];n=Ye.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,b,w,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zi.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(ne){qs(this,ne);return}if(h=w||"",w=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)w.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())w.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Us,b,void 0)>=0)||D||Q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of w)this.g.setRequestHeader(ne,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){qs(this,ne)}};function qs(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Ki(h),R(h)}function Ki(h){h.A||(h.A=!0,St(h,"complete"),St(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,St(this,"complete"),St(this,"abort"),R(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),R(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_(this):this.Xa())},n.Xa=function(){_(this)};function _(h){if(h.h&&typeof l<"u"){if(h.v&&U(h)==4)setTimeout(h.Ca.bind(h),0);else if(St(h,"readystatechange"),U(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var D;if(D=ne===0){let _e=String(h.D).match(Da)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),D=!pr.test(_e?_e.toLowerCase():"")}w=D}if(w)St(h,"complete"),St(h,"success");else{h.o=6;try{var Q=U(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Ki(h)}}finally{R(h)}}}}function R(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,b||St(h,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function U(h){return h.g?h.g.readyState:0}n.ca=function(){try{return U(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Pi(b)}};function te(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Me(h){const b={};h=(h.g&&U(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(N(h[D]))continue;var w=Zt(h[D]);const Q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=b[Q]||[];b[Q]=ne,ne.push(w)}ge(b,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ae(h,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||b}function $e(h){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ae("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ae("baseRetryDelayMs",5e3,h),this.Za=Ae("retryDelaySeedMs",1e4,h),this.Ta=Ae("forwardChannelMaxRetries",2,h),this.va=Ae("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Hi(h&&h.concurrentRequestLimit),this.Ba=new zr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$e.prototype,n.ka=8,n.I=1,n.connect=function(h,b,w,D){_t(0),this.W=h,this.H=b||{},w&&D!==void 0&&(this.H.OSID=w,this.H.OAID=D),this.F=this.X,this.J=Oh(this,null,this.W),wt(this)};function Xe(h){if(Ze(h),h.I==3){var b=h.V++,w=zt(h.J);if(ct(w,"SID",h.M),ct(w,"RID",b),ct(w,"TYPE","terminate"),Ft(h,w),b=new fr(h,h.j,b),b.M=2,b.A=us(zt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=b.A,w=!0),w||(b.g=Dh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),wr(b)}Ih(h)}function yt(h){h.g&&($r(h),h.g.cancel(),h.g=null)}function Ze(h){yt(h),h.v&&(u.clearTimeout(h.v),h.v=null),Bs(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function wt(h){if(!cs(h.h)&&!h.m){h.m=!0;var b=h.Ea;ve||k(),Ee||(ve(),Ee=!0),M.add(b,h),h.D=0}}function ln(h,b){return mr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Cn(p(h.Ea,h,b),Rh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new fr(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=V(ne),ue(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var D=this.i[w];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=en(this,Q,b),w=zt(this.J),ct(w,"RID",h),ct(w,"CVER",22),this.G&&ct(w,"X-HTTP-Session-Id",this.G),Ft(this,w),ne&&(this.R?b="headers="+hr(In(ne))+"&"+b:this.u&&ps(w,this.u,ne)),Jn(this.h,Q),this.Ra&&ct(w,"TYPE","init"),this.S?(ct(w,"$req",b),ct(w,"SID","null"),Q.U=!0,Tr(Q,w,null)):Tr(Q,w,b),this.I=2}}else this.I==3&&(h?Lt(this,h):this.i.length==0||cs(this.h)||Lt(this))};function Lt(h,b){var w;b?w=b.l:w=h.V++;const D=zt(h.J);ct(D,"SID",h.M),ct(D,"RID",w),ct(D,"AID",h.K),Ft(h,D),h.u&&h.o&&ps(D,h.u,h.o),w=new fr(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),b&&(h.i=b.G.concat(h.i)),b=en(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Jn(h.h,w),Tr(w,D,b)}function Ft(h,b){h.H&&be(h.H,function(w,D){ct(b,D,w)}),h.l&&be({},function(w,D){ct(b,D,w)})}function en(h,b,w){w=Math.min(h.i.length,w);const D=h.l?p(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Fe=-1;for(;;){const cn=["count="+w];Fe==-1?w>0?(Fe=Q[0].g,cn.push("ofs="+Fe)):Fe=0:cn.push("ofs="+Fe);let mt=!0;for(let Gt=0;Gt<w;Gt++){var ne=Q[Gt].g;const gs=Q[Gt].map;if(ne-=Fe,ne<0)Fe=Math.max(0,Q[Gt].g-100),mt=!1;else try{ne="req"+ne+"_"||"";try{var _e=gs instanceof Map?gs:Object.entries(gs);for(const[di,zs]of _e){let Hs=zs;f(zs)&&(Hs=cr(zs)),cn.push(ne+di+"="+encodeURIComponent(Hs))}}catch(di){throw cn.push(ne+"type="+encodeURIComponent("_badmap")),di}}catch{D&&D(gs)}}if(mt){_e=cn.join("&");break e}}_e=void 0}return h=h.i.splice(0,w),b.G=h,_e}function Gr(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;ve||k(),Ee||(ve(),Ee=!0),M.add(b,h),h.A=0}}function Bn(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Cn(p(h.Da,h),Rh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Cn(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),yt(this),Po(this))};function $r(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Po(h){h.g=new fr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=zt(h.na);ct(b,"RID","rpc"),ct(b,"SID",h.M),ct(b,"AID",h.K),ct(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&ct(b,"TO",h.ia),ct(b,"TYPE","xmlhttp"),Ft(h,b),h.u&&h.o&&ps(b,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=us(zt(b)),w.u=null,w.R=!0,Yt(w,h)}n.Va=function(){this.C!=null&&(this.C=null,yt(this),Bn(this),_t(19))};function Bs(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Qi(h,b){var w=null;if(h.g==b){Bs(h),$r(h),h.g=null;var D=2}else if(Pn(h.h,b))w=b.G,Ps(h.h,b),D=1;else return;if(h.I!=0){if(b.o)if(D==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var Q=h.D;D=xr(),St(D,new Wn(D,w)),wt(h)}else Gr(h);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(D==1&&ln(h,b)||D==2&&Bn(h)))switch(w&&w.length>0&&(b=h.h,b.i=b.i.concat(w)),Q){case 1:fi(h,5);break;case 4:fi(h,10);break;case 3:fi(h,6);break;default:fi(h,2)}}}function Rh(h,b){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*b}function fi(h,b){if(h.j.info("Error code "+b),b==2){var w=p(h.bb,h),D=h.Ua;const Q=!D;D=new Vn(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Dt(D,"https"),us(D),Q?tr(D.toString(),w):on(D.toString(),w)}else _t(2);h.I=0,h.l&&h.l.pa(b),Ih(h),Ze(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ih(h){if(h.I=0,h.ja=[],h.l){const b=Fi(h.h);(b.length!=0||h.i.length!=0)&&(I(h.ja,b),I(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function Oh(h,b,w){var D=w instanceof Vn?zt(w):new Vn(w);if(D.g!="")b&&(D.g=b+"."+D.g),Sr(D,D.u);else{var Q=u.location;D=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Vn(null);D&&Dt(ne,D),b&&(ne.g=b),Q&&Sr(ne,Q),w&&(ne.h=w),D=ne}return w=h.G,b=h.wa,w&&b&&ct(D,w,b),ct(D,"VER",h.ka),Ft(h,D),D}function Dh(h,b,w){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new Ye(new qn({ab:w})):new Ye(h.ma),b.Fa(h.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lh(){}n=Lh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ka(){}ka.prototype.g=function(h,b){return new gr(h,b)};function gr(h,b){Ut.call(this),this.g=new $e(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!N(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Yi(this)}E(gr,Ut),gr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Xe(this.g)},gr.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=cr(h),h=w);b.i.push(new Bt(b.Ya++,h)),b.I==3&&wt(b)},gr.prototype.N=function(){this.g.l=null,delete this.j,Xe(this.g),delete this.g,gr.Z.N.call(this)};function kh(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const w in b){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}E(kh,Qt);function jh(){xn.call(this),this.status=1}E(jh,xn);function Yi(h){this.g=h}E(Yi,Lh),Yi.prototype.ra=function(){St(this.g,"a")},Yi.prototype.qa=function(h){St(this.g,new kh(h))},Yi.prototype.pa=function(h){St(this.g,new jh)},Yi.prototype.oa=function(){St(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,Xw=function(){return new ka},Yw=function(){return xr()},Qw=Ct,hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,hd=Ms,Bi.COMPLETE="complete",Kw=Bi,Ui.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Ut.prototype.listen=Ut.prototype.J,Ru=Ui,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,$w=Ye}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",IE="4.9.2";class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");let Dc="12.3.0";const ll=new t0("@firebase/firestore");function tc(){return ll.logLevel}function Te(n,...e){if(ll.logLevel<=st.DEBUG){const t=e.map(m0);ll.debug(`Firestore (${Dc}): ${n}`,...t)}}function ba(n,...e){if(ll.logLevel<=st.ERROR){const t=e.map(m0);ll.error(`Firestore (${Dc}): ${n}`,...t)}}function bc(n,...e){if(ll.logLevel<=st.WARN){const t=e.map(m0);ll.warn(`Firestore (${Dc}): ${n}`,...t)}}function m0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Ww(n,r,t)}function Ww(n,e,t){let r=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ba(r),new Error(r)}function gt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||Ww(e,a,r)}function qe(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ta{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Zw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ir.UNAUTHENTICATED)))}shutdown(){}}class KO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class QO{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new Zw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new ir(e)}}class YO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new YO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,es(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new OE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class p0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ZO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function it(n,e){return n<e?-1:n>e?1:0}function fy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return Lg(a)===Lg(l)?it(a,l):Lg(a)?1:-1}return it(n.length,e.length)}const JO=55296,e6=57343;function Lg(n){const e=n.charCodeAt(0);return e>=JO&&e<=e6}function _c(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const DE="__name__";class bi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=bi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return it(e.length,t.length)}static compareSegments(e,t){const r=bi.isNumericId(e),a=bi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?bi.extractNumericId(e).compare(bi.extractNumericId(t)):fy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class It extends bi{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const t6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends bi{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return t6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new Kn([DE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new xe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new xe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(r+=f,a++):(l(),a++)}if(l(),u)throw new xe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(It.fromString(e))}static fromName(e){return new je(It.fromString(e).popFirst(5))}static empty(){return new je(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new It(e.slice()))}}function Jw(n,e,t){if(!t)throw new xe(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n6(n,e,t,r){if(e===!0&&r===!0)throw new xe(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LE(n){if(!je.isDocumentKey(n))throw new xe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(je.isDocumentKey(n))throw new xe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Ds(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yd(n);throw new xe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function En(n,e){const t={typeString:n};return e&&(t.value=e),t}function vh(n,e){if(!eA(n))throw new xe(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new xe(oe.INVALID_ARGUMENT,t);return!0}const jE=-62135596800,ME=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ME);return new Vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jE)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vh(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:En("string",Vt._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Vt(0,0))}static max(){return new Be(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function r6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new Eo(a,je.empty(),e)}function s6(n){return new Eo(n.readTime,n.key,Ku)}class Eo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Eo(Be.min(),je.empty(),Ku)}static max(){return new Eo(Be.max(),je.empty(),Ku)}}function i6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:it(n.largestBatchId,e.largestBatchId))}const a6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lc(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==a6)throw n;Te("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,r)=>{t(e)}))}static reject(e){return new he(((t,r)=>{r(e)}))}static waitFor(e){return new he(((t,r)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&t()}),(m=>r(m)))})),u=!0,l===a&&t()}))}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next((a=>a?he.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new he(((r,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((v=>{u[p]=v,++f,f===l&&r(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new he(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function l6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kc(n){return n.name==="IndexedDbTransactionError"}class Xd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xd.ce=-1;const g0=-1;function Wd(n){return n==null}function Nd(n){return n===0&&1/n==-1/0}function c6(n){return typeof n=="number"&&Number.isInteger(n)&&!Nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const tA="";function u6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PE(e)),e=h6(n.get(t),e);return PE(e)}function h6(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case tA:t+="";break;default:t+=l}}return t}function PE(n){return n+tA+""}function VE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function f6(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function nA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xt{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??$n.RED,this.left=a??$n.EMPTY,this.right=l??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new $n(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return $n.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Sn(this.comparator);return t.data=e,t}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ts{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new ts([])}unionWith(e){let t=new Sn(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rA("Invalid base64 string: "+l):l}})(e);return new Yn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const d6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=d6.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function To(n){return typeof n=="string"?Yn.fromBase64String(n):Yn.fromUint8Array(n)}const sA="server_timestamp",iA="__type__",aA="__previous_value__",oA="__local_write_time__";function y0(n){return(n?.mapValue?.fields||{})[iA]?.stringValue===sA}function Zd(n){const e=n.mapValue.fields[aA];return y0(e)?Zd(e):e}function Qu(n){const e=xo(n.mapValue.fields[oA].timestampValue);return new Vt(e.seconds,e.nanos)}class m6{constructor(e,t,r,a,l,u,f,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Cd="(default)";class Yu{constructor(e,t){this.projectId=e,this.database=t||Cd}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===Cd}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}const lA="__type__",p6="__max__",Ff={mapValue:{}},cA="__vector__",Rd="value";function wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?y0(n)?4:y6(n)?9007199254740991:g6(n)?10:11:Ue(28295,{value:n})}function Ci(n,e){if(n===e)return!0;const t=wo(n);if(t!==wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qu(n).isEqual(Qu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=xo(a.timestampValue),f=xo(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return To(a.bytesValue).isEqual(To(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return fn(a.geoPointValue.latitude)===fn(l.geoPointValue.latitude)&&fn(a.geoPointValue.longitude)===fn(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return fn(a.integerValue)===fn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=fn(a.doubleValue),f=fn(l.doubleValue);return u===f?Nd(u)===Nd(f):isNaN(u)&&isNaN(f)}return!1})(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(VE(u)!==VE(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Ci(u[m],f[m])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function Xu(n,e){return(n.values||[]).find((t=>Ci(t,e)))!==void 0}function Ec(n,e){if(n===e)return 0;const t=wo(n),r=wo(e);if(t!==r)return it(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return it(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=fn(l.integerValue||l.doubleValue),m=fn(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return qE(n.timestampValue,e.timestampValue);case 4:return qE(Qu(n),Qu(e));case 5:return fy(n.stringValue,e.stringValue);case 6:return(function(l,u){const f=To(l),m=To(u);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=it(f[p],m[p]);if(v!==0)return v}return it(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=it(fn(l.latitude),fn(u.latitude));return f!==0?f:it(fn(l.longitude),fn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return BE(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[Rd]?.arrayValue,v=m[Rd]?.arrayValue,E=it(p?.values?.length||0,v?.values?.length||0);return E!==0?E:BE(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Ff.mapValue&&u===Ff.mapValue)return 0;if(l===Ff.mapValue)return 1;if(u===Ff.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const x=fy(m[E],v[E]);if(x!==0)return x;const S=Ec(f[m[E]],p[v[E]]);if(S!==0)return S}return it(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function qE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return it(n,e);const t=xo(n),r=xo(e),a=it(t.seconds,r.seconds);return a!==0?a:it(t.nanos,r.nanos)}function BE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ec(t[a],r[a]);if(l)return l}return it(t.length,r.length)}function xc(n){return dy(n)}function dy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=xo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return To(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return je.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=dy(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${dy(t.fields[u])}`;return a+"}"})(n.mapValue):Ue(61005,{value:n})}function fd(n){switch(wo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zd(n);return e?16+fd(e):16;case 5:return 2*n.stringValue.length;case 6:return To(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+fd(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Oo(r.fields,((l,u)=>{a+=l.length+fd(u)})),a})(n.mapValue);default:throw Ue(13486,{value:n})}}function zE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function v0(n){return!!n&&"arrayValue"in n}function HE(n){return!!n&&"nullValue"in n}function FE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dd(n){return!!n&&"mapValue"in n}function g6(n){return(n?.mapValue?.fields||{})[lA]?.stringValue===cA}function Vu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Vu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vu(n.arrayValue.values[t]);return e}return{...n}}function y6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p6}class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(t)}setAll(e){let t=Kn.emptyPath(),r={},a=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=f.popLast()}u?r[f.lastSegment()]=Vu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());dd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];dd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Oo(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new jr(Vu(this.value))}}function uA(n){const e=[];return Oo(n.fields,((t,r)=>{const a=new Kn([t]);if(dd(r)){const l=uA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ts(e)}class ar{constructor(e,t,r,a,l,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ar(e,0,Be.min(),Be.min(),Be.min(),jr.empty(),0)}static newFoundDocument(e,t,r,a){return new ar(e,1,t,Be.min(),r,a,0)}static newNoDocument(e,t){return new ar(e,2,t,Be.min(),Be.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,Be.min(),Be.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Id{constructor(e,t){this.position=e,this.inclusive=t}}function GE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),t.key):r=Ec(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function $E(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ci(n.position[t],e.position[t]))return!1;return!0}class Wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function v6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hA{}class _n extends hA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _6(e,t,r):t==="array-contains"?new T6(e,r):t==="in"?new w6(e,r):t==="not-in"?new A6(e,r):t==="array-contains-any"?new S6(e,r):new _n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new E6(e,r):new x6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ec(t,this.value)):t!==null&&wo(this.value)===wo(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends hA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ei(e,t)}matches(e){return fA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fA(n){return n.op==="and"}function dA(n){return b6(n)&&fA(n)}function b6(n){for(const e of n.filters)if(e instanceof ei)return!1;return!0}function py(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+xc(n.value);if(dA(n))return n.filters.map((e=>py(e))).join(",");{const e=n.filters.map((t=>py(t))).join(",");return`${n.op}(${e})`}}function mA(n,e){return n instanceof _n?(function(r,a){return a instanceof _n&&r.op===a.op&&r.field.isEqual(a.field)&&Ci(r.value,a.value)})(n,e):n instanceof ei?(function(r,a){return a instanceof ei&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,f)=>l&&mA(u,a.filters[f])),!0):!1})(n,e):void Ue(19439)}function pA(n){return n instanceof _n?(function(t){return`${t.field.canonicalString()} ${t.op} ${xc(t.value)}`})(n):n instanceof ei?(function(t){return t.op.toString()+" {"+t.getFilters().map(pA).join(" ,")+"}"})(n):"Filter"}class _6 extends _n{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class E6 extends _n{constructor(e,t){super(e,"in",t),this.keys=gA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class x6 extends _n{constructor(e,t){super(e,"not-in",t),this.keys=gA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gA(n,e){return(e.arrayValue?.values||[]).map((t=>je.fromName(t.referenceValue)))}class T6 extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return v0(t)&&Xu(t.arrayValue,this.value)}}class w6 extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class A6 extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xu(this.value.arrayValue,t)}}class S6 extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!v0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Xu(this.value.arrayValue,r)))}}class N6{constructor(e,t=null,r=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function KE(n,e=null,t=[],r=[],a=null,l=null,u=null){return new N6(n,e,t,r,a,l,u)}function b0(n){const e=qe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>py(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>xc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>xc(r))).join(",")),e.Te=t}return e.Te}function _0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$E(n.startAt,e.startAt)&&$E(n.endAt,e.endAt)}function gy(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class jc{constructor(e,t=null,r=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C6(n,e,t,r,a,l,u,f){return new jc(n,e,t,r,a,l,u,f)}function E0(n){return new jc(n)}function QE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yA(n){return n.collectionGroup!==null}function Uu(n){const e=qe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Sn(Kn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wu(l,r))})),t.has(Kn.keyField().canonicalString())||e.Ie.push(new Wu(Kn.keyField(),r))}return e.Ie}function Ti(n){const e=qe(n);return e.Ee||(e.Ee=vA(e,Uu(n))),e.Ee}function R6(n){const e=qe(n);return e.de||(e.de=vA(e,n.explicitOrderBy)),e.de}function vA(n,e){if(n.limitType==="F")return KE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wu(a.field,l)}));const t=n.endAt?new Id(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Id(n.startAt.position,n.startAt.inclusive):null;return KE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yy(n,e){const t=n.filters.concat([e]);return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,e,t){return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jd(n,e){return _0(Ti(n),Ti(e))&&n.limitType===e.limitType}function bA(n){return`${b0(Ti(n))}|lt:${n.limitType}`}function nc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>pA(a))).join(", ")}]`),Wd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>xc(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>xc(a))).join(",")),`Target(${r})`})(Ti(n))}; limitType=${n.limitType})`}function em(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):je.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Uu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,f,m){const p=GE(u,f,m);return u.inclusive?p<=0:p<0})(r.startAt,Uu(r),a)||r.endAt&&!(function(u,f,m){const p=GE(u,f,m);return u.inclusive?p>=0:p>0})(r.endAt,Uu(r),a))})(n,e)}function I6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _A(n){return(e,t)=>{let r=!1;for(const a of Uu(n)){const l=O6(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function O6(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ec(m,p):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}class pl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}const D6=new Xt(je.comparator);function _a(){return D6}const EA=new Xt(je.comparator);function Iu(...n){let e=EA;for(const t of n)e=e.insert(t.key,t);return e}function xA(n){let e=EA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function nl(){return qu()}function TA(){return qu()}function qu(){return new pl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const L6=new Xt(je.comparator),k6=new Sn(je.comparator);function at(...n){let e=k6;for(const t of n)e=e.add(t);return e}const j6=new Sn(it);function M6(){return j6}function x0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function wA(n){return{integerValue:""+n}}function P6(n,e){return c6(e)?wA(e):x0(n,e)}class tm{constructor(){this._=void 0}}function V6(n,e,t){return n instanceof Zu?(function(a,l){const u={fields:{[iA]:{stringValue:sA},[oA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&y0(l)&&(l=Zd(l)),l&&(u.fields[aA]=l),{mapValue:u}})(t,e):n instanceof Ju?SA(n,e):n instanceof eh?NA(n,e):(function(a,l){const u=AA(a,l),f=YE(u)+YE(a.Ae);return my(u)&&my(a.Ae)?wA(f):x0(a.serializer,f)})(n,e)}function U6(n,e,t){return n instanceof Ju?SA(n,e):n instanceof eh?NA(n,e):t}function AA(n,e){return n instanceof Od?(function(r){return my(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Zu extends tm{}class Ju extends tm{constructor(e){super(),this.elements=e}}function SA(n,e){const t=CA(e);for(const r of n.elements)t.some((a=>Ci(a,r)))||t.push(r);return{arrayValue:{values:t}}}class eh extends tm{constructor(e){super(),this.elements=e}}function NA(n,e){let t=CA(e);for(const r of n.elements)t=t.filter((a=>!Ci(a,r)));return{arrayValue:{values:t}}}class Od extends tm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function YE(n){return fn(n.integerValue||n.doubleValue)}function CA(n){return v0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class q6{constructor(e,t){this.field=e,this.transform=t}}function B6(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Ju&&a instanceof Ju||r instanceof eh&&a instanceof eh?_c(r.elements,a.elements,Ci):r instanceof Od&&a instanceof Od?Ci(r.Ae,a.Ae):r instanceof Zu&&a instanceof Zu})(n.transform,e.transform)}class z6{constructor(e,t){this.version=e,this.transformResults=t}}class Is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nm{}function RA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new T0(n.key,Is.none()):new bh(n.key,n.data,Is.none());{const t=n.data,r=jr.empty();let a=new Sn(Kn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Do(n.key,r,new ts(a.toArray()),Is.none())}}function H6(n,e,t){n instanceof bh?(function(a,l,u){const f=a.value.clone(),m=WE(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Do?(function(a,l,u){if(!md(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=WE(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(IA(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Bu(n,e,t,r){return n instanceof bh?(function(l,u,f,m){if(!md(l.precondition,u))return f;const p=l.value.clone(),v=ZE(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Do?(function(l,u,f,m){if(!md(l.precondition,u))return f;const p=ZE(l.fieldTransforms,m,u),v=u.data;return v.setAll(IA(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(l,u,f){return md(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,e,t)}function F6(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=AA(r.transform,a||null);l!=null&&(t===null&&(t=jr.empty()),t.set(r.field,l))}return t||null}function XE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&_c(r,a,((l,u)=>B6(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bh extends nm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Do extends nm{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function WE(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);r.set(l.field,U6(u,f,t[a]))}return r}function ZE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);r.set(a.field,V6(l,u,e))}return r}class T0 extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G6 extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $6{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&H6(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const m=RA(u,f);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),at())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,((t,r)=>XE(t,r)))&&_c(this.baseMutations,e.baseMutations,((t,r)=>XE(t,r)))}}class w0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return L6})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new w0(e,t,r,a)}}class K6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q6{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class Y6{constructor(e,t){this.count=e,this.unchangedNames=t}}var bn,ut;function X6(n){switch(n){case oe.OK:return Ue(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function OA(n){if(n===void 0)return ba("GRPC error has no .code"),oe.UNKNOWN;switch(n){case bn.OK:return oe.OK;case bn.CANCELLED:return oe.CANCELLED;case bn.UNKNOWN:return oe.UNKNOWN;case bn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case bn.INTERNAL:return oe.INTERNAL;case bn.UNAVAILABLE:return oe.UNAVAILABLE;case bn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case bn.NOT_FOUND:return oe.NOT_FOUND;case bn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case bn.ABORTED:return oe.ABORTED;case bn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case bn.DATA_LOSS:return oe.DATA_LOSS;default:return Ue(39323,{code:n})}}(ut=bn||(bn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function W6(){return new TextEncoder}const Z6=new yo([4294967295,4294967295],0);function JE(n){const e=W6().encode(n),t=new Gw;return t.update(e),new Uint8Array(t.digest())}function ex(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yo([t,r],0),new yo([a,l],0)]}class A0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=yo.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(yo.fromNumber(r)));return a.compare(Z6)===1&&(a=new yo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=JE(e),[r,a]=ex(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new A0(l,a,t);return r.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=JE(e),[r,a]=ex(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rm{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rm(Be.min(),a,new Xt(it),_a(),at())}}class _h{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _h(r,t,at(),at(),at())}}class pd{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class DA{constructor(e,t){this.targetId=e,this.Ce=t}}class LA{constructor(e,t,r=Yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class tx{constructor(){this.ve=0,this.Fe=nx(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),t=at(),r=at();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ue(38017,{changeType:l})}})),new _h(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J6{constructor(e){this.Ge=e,this.ze=new Map,this.je=_a(),this.Je=Gf(),this.He=Gf(),this.Ye=new Xt(it)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(gy(l))if(r===0){const u=new je(l.path);this.et(t,u,ar.newNoDocument(u,Be.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=To(r).toUint8Array()}catch(m){if(m instanceof rA)return bc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new A0(u,a,l)}catch(m){return bc(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&gy(f.target)){const m=new je(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,ar.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=at();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new rm(e,t,this.Ye,this.je,r);return this.je=_a(),this.Je=Gf(),this.He=Gf(),this.Ye=new Xt(it),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new tx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Sn(it),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Sn(it),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gf(){return new Xt(je.comparator)}function nx(){return new Xt(je.comparator)}const e5={asc:"ASCENDING",desc:"DESCENDING"},t5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n5={and:"AND",or:"OR"};class r5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function by(n,e){return n.useProto3Json||Wd(e)?e:{value:e}}function Dd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s5(n,e){return Dd(n,e.toTimestamp())}function wi(n){return gt(!!n,49232),Be.fromTimestamp((function(t){const r=xo(t);return new Vt(r.seconds,r.nanos)})(n))}function S0(n,e){return _y(n,e).canonicalString()}function _y(n,e){const t=(function(a){return new It(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function jA(n){const e=It.fromString(n);return gt(BA(e),10190,{key:e.toString()}),e}function Ey(n,e){return S0(n.databaseId,e.path)}function kg(n,e){const t=jA(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(PA(t))}function MA(n,e){return S0(n.databaseId,e)}function i5(n){const e=jA(n);return e.length===4?It.emptyPath():PA(e)}function xy(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PA(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rx(n,e,t){return{name:Ey(n,e),fields:t.value.mapValue.fields}}function a5(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ue(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(gt(v===void 0||typeof v=="string",58123),Yn.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const v=p.code===void 0?oe.UNKNOWN:OA(p.code);return new xe(v,p.message||"")})(u);t=new LA(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=kg(n,r.document.name),l=wi(r.document.updateTime),u=r.document.createTime?wi(r.document.createTime):Be.min(),f=new jr({mapValue:{fields:r.document.fields}}),m=ar.newFoundDocument(a,l,u,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new pd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=kg(n,r.document),l=r.readTime?wi(r.readTime):Be.min(),u=ar.newNoDocument(a,l),f=r.removedTargetIds||[];t=new pd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=kg(n,r.document),l=r.removedTargetIds||[];t=new pd([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new Y6(a,l),f=r.targetId;t=new DA(f,u)}}return t}function o5(n,e){let t;if(e instanceof bh)t={update:rx(n,e.key,e.value)};else if(e instanceof T0)t={delete:Ey(n,e.key)};else if(e instanceof Do)t={update:rx(n,e.key,e.data),updateMask:g5(e.fieldMask)};else{if(!(e instanceof G6))return Ue(16599,{Vt:e.type});t={verify:Ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const f=u.transform;if(f instanceof Zu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ju)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof eh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Od)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ue(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:s5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)})(n,e.precondition)),t}function l5(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?wi(a.updateTime):wi(l);return u.isEqual(Be.min())&&(u=wi(l)),new z6(u,a.transformResults||[])})(t,e)))):[]}function c5(n,e){return{documents:[MA(n,e.path)]}}function VA(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=MA(n,a);const l=(function(p){if(p.length!==0)return qA(ei.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(x){return{field:lo(x.field),direction:d5(x.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=by(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function u5(n,e,t,r){const{ft:a,parent:l}=VA(n,e),u={},f=[];let m=0;return t.forEach((p=>{const v="aggregate_"+m++;u[v]=p.alias,p.aggregateType==="count"?f.push({alias:v,count:{}}):p.aggregateType==="avg"?f.push({alias:v,avg:{field:lo(p.fieldPath)}}):p.aggregateType==="sum"&&f.push({alias:v,sum:{field:lo(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:a.structuredQuery},parent:a.parent},gt:u,parent:l}}function h5(n){let e=i5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){gt(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const x=UA(E);return x instanceof ei&&dA(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((x=>(function(I){return new Wu(rc(I.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(x)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let x;return x=typeof E=="object"?E.value:E,Wd(x)?null:x})(t.limit));let m=null;t.startAt&&(m=(function(E){const x=!!E.before,S=E.values||[];return new Id(S,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(E){const x=!E.before,S=E.values||[];return new Id(S,x)})(t.endAt)),C6(e,a,u,l,f,"F",m,p)}function f5(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rc(t.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rc(t.unaryFilter.field);return _n.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rc(t.unaryFilter.field);return _n.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rc(t.unaryFilter.field);return _n.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return _n.create(rc(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ei.create(t.compositeFilter.filters.map((r=>UA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function d5(n){return e5[n]}function m5(n){return t5[n]}function p5(n){return n5[n]}function lo(n){return{fieldPath:n.canonicalString()}}function rc(n){return Kn.fromServerFormat(n.fieldPath)}function qA(n){return n instanceof _n?(function(t){if(t.op==="=="){if(FE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NAN"}};if(HE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NAN"}};if(HE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(t.field),op:m5(t.op),value:t.value}}})(n):n instanceof ei?(function(t){const r=t.getFilters().map((a=>qA(a)));return r.length===1?r[0]:{compositeFilter:{op:p5(t.op),filters:r}}})(n):Ue(54877,{filter:n})}function g5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function BA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ho{constructor(e,t,r,a,l=Be.min(),u=Be.min(),f=Yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y5{constructor(e){this.yt=e}}function v5(n){const e=h5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vy(e,e.limit,"L"):e}class b5{constructor(){this.Cn=new _5}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Eo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class _5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Sn(It.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Sn(It.comparator)).toArray()}}const sx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class kr{static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(zA,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);class Tc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tc(0)}static cr(){return new Tc(-1)}}const ix="LruGarbageCollector",E5=1048576;function ax([n,e],[t,r]){const a=it(n,t);return a===0?it(e,r):a}class x5{constructor(e){this.Ir=e,this.buffer=new Sn(ax),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ax(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class T5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(ix,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kc(t)?Te(ix,"Ignoring IndexedDB error during garbage collection: ",t):await Lc(t)}await this.Vr(3e5)}))}}class w5{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Xd.ce);const r=new x5(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(sx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,u,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(r=E,f=Date.now(),this.removeTargets(e,r,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),tc()<=st.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function A5(n,e){return new w5(n,e)}class S5{constructor(){this.changes=new pl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class C5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Bu(r.mutation,a,ts.empty(),Vt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=at()){const a=nl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let u=Iu();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=nl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,at())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,r,a){let l=_a();const u=qu(),f=(function(){return qu()})();return t.forEach(((m,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Do)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Bu(v.mutation,p,v.mutation.getFieldMask(),Vt.now())):u.set(p.key,ts.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>f.set(p,new N5(v,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=qu();let a=new Xt(((u,f)=>u-f)),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let v=r.get(m)||ts.empty();v=f.applyToLocalView(p,v),r.set(m,v);const E=(a.get(f.batchId)||at()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,E=TA();v.forEach((x=>{if(!l.has(x)){const S=RA(t.get(x),r.get(x));S!==null&&E.set(x,S),l=l.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return he.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):he.resolve(nl());let f=Ku,m=l;return u.next((p=>he.forEach(p,((v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,at()))).next((v=>({batchId:f,changes:xA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next((r=>{let a=Iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let u=Iu();return this.indexManager.getCollectionParents(e,l).next((f=>he.forEach(f,(m=>{const p=(function(E,x){return new jc(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((E,x)=>{u=u.insert(E,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,ar.newInvalidDocument(v)))}));let f=Iu();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Bu(v.mutation,p,ts.empty(),Vt.now()),em(t,p)&&(f=f.insert(m,p))})),f}))}}class R5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:wi(a.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:v5(a.bundledQuery),readTime:wi(a.readTime)}})(t)),he.resolve()}}class I5{constructor(){this.overlays=new Xt(je.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=nl();return he.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=nl(),l=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Xt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=nl(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=nl(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return he.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new K6(t,r));let l=this.qr.get(t);l===void 0&&(l=at(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class O5{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class N0{constructor(){this.Qr=new Sn(Dn.$r),this.Ur=new Sn(Dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Dn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Dn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new je(new It([])),r=new Dn(t,e),a=new Dn(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new je(new It([])),r=new Dn(t,e),a=new Dn(t,e+1);let l=at();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Dn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return je.comparator(e.key,t.key)||it(e.Yr,t.Yr)}static Kr(e,t){return it(e.Yr,t.Yr)||je.comparator(e.key,t.key)}}class D5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Sn(Dn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $6(l,t,r,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new Dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?g0:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dn(t,0),a=new Dn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Sn(it);return t.forEach((a=>{const l=new Dn(a,0),u=new Dn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{r=r.add(f.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;je.isDocumentKey(l)||(l=l.child(""));const u=new Dn(new je(l),0);let f=new Sn(it);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),u),he.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){gt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(t.mutations,(a=>{const l=new Dn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Dn(t,0),a=this.Zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class L5{constructor(e){this.ri=e,this.docs=(function(){return new Xt(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=_a();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ar.newInvalidDocument(a))})),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=_a();const u=t.path,f=new je(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||i6(s6(v),r)<=0||(a.has(v.key)||em(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ue(9500)}ii(e,t){return he.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new k5(this)}getSize(e){return he.resolve(this.size)}}class k5 extends S5{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class j5{constructor(e){this.persistence=e,this.si=new pl((t=>b0(t)),_0),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new N0,this.targetCount=0,this.ai=Tc.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}class HA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xd(0),this.li=!1,this.li=!0,this.hi=new O5,this.referenceDelegate=e(this),this.Pi=new j5(this),this.indexManager=new b5,this.remoteDocumentCache=(function(a){return new L5(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y5(t),this.Ii=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new D5(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const a=new M5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class M5 extends o6{constructor(e){super(),this.currentSequenceNumber=e}}class C0{constructor(e){this.persistence=e,this.Ri=new N0,this.Vi=null}static mi(e){return new C0(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const a=je.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ld{constructor(e,t){this.persistence=e,this.pi=new pl((r=>u6(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=A5(this,t)}static mi(e,t){return new Ld(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?he.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((f=>{f||(r++,l.removeEntry(u,Be.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fd(e.data.value)),t}br(e,t,r){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class R0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=at(),a=at();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new R0(e,t.fromCache,r,a)}}class P5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class V5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return u4()?8:l6(lr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new P5;return this.Ss(e,t,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(tc()<=st.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",nc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(tc()<=st.DEBUG&&Te("QueryEngine","Query:",nc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(tc()<=st.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",nc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):he.resolve())}ys(e,t){if(QE(t))return he.resolve(null);let r=Ti(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=vy(t,null,"F"),r=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=at(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(t,f);return this.Cs(t,p,u,m.readTime)?this.ys(e,vy(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,r,a){return QE(t)||a.isEqual(Be.min())?he.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,a)?he.resolve(null):(tc()<=st.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nc(t)),this.vs(e,u,t,r6(a,Ku)).next((f=>f)))}))}Ds(e,t){let r=new Sn(_A(e));return t.forEach(((a,l)=>{em(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return tc()<=st.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",nc(t)),this.ps.getDocumentsMatchingQuery(e,t,Eo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const I0="LocalStore",U5=3e8;class q5{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Xt(it),this.xs=new pl((l=>b0(l)),_0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function B5(n,e,t,r){return new q5(n,e,t,r)}async function FA(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],f=[];let m=at();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function z5(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const E=p.batch,x=E.keys();let S=he.resolve();return x.forEach((I=>{S=S.next((()=>v.getEntry(m,I))).next((j=>{const O=p.docVersions.get(I);gt(O!==null,48541),j.version.compareTo(O)<0&&(E.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),v.addEntry(j)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=at();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function GA(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function H5(n,e){const t=qe(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,E)=>{const x=a.get(E);if(!x)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,E))));let S=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?S=S.withResumeToken(Yn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,r)),a=a.insert(E,S),(function(j,O,z){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=U5?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(x,S,v)&&f.push(t.Pi.updateTargetData(l,S))}));let m=_a(),p=at();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(F5(l,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!r.isEqual(Be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(v)}return he.waitFor(f).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function F5(n,e,t){let r=at(),a=at();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=_a();return t.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):Te(I0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function G5(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=g0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $5(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,he.resolve(a)):t.Pi.allocateTargetId(r).next((u=>(a=new ho(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ty(n,e,t){const r=qe(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!kc(u))throw u;Te(I0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function ox(n,e,t){const r=qe(n);let a=Be.min(),l=at();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const E=qe(m),x=E.xs.get(v);return x!==void 0?he.resolve(E.Ms.get(x)):E.Pi.getTargetData(p,v)})(r,u,Ti(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:Be.min(),t?l:at()))).next((f=>(K5(r,I6(e),f),{documents:f,Qs:l})))))}function K5(n,e,t){let r=n.Os.get(e)||Be.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class lx{constructor(){this.activeTargetIds=M6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q5{constructor(){this.Mo=new lx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y5{Oo(e){}shutdown(){}}const cx="ConnectivityMonitor";class ux{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(cx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(cx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $f=null;function wy(){return $f===null?$f=(function(){return 268435456+Math.round(2147483648*Math.random())})():$f++,"0x"+$f.toString(16)}const jg="RestConnection",X5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Cd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const u=wy(),f=this.zo(e,t.toUriEncodedString());Te(jg,`Sending RPC '${e}' ${u}:`,f,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=Rc(p);return this.Jo(e,f,m,r,v).then((E=>(Te(jg,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw bc(jg,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",r),E}))}Ho(e,t,r,a,l,u){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=X5[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Z5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sr="WebChannelConnection";class J5 extends W5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const u=wy();return new Promise(((f,m)=>{const p=new $w;p.setWithCredentials(!0),p.listenOnce(Kw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case hd.NO_ERROR:const E=p.getResponseJson();Te(sr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case hd.TIMEOUT:Te(sr,`RPC '${e}' ${u} timed out`),m(new xe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:const x=p.getStatus();if(Te(sr,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S?.error;if(I&&I.status&&I.message){const j=(function(z){const H=z.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(H)>=0?H:oe.UNKNOWN})(I.status);m(new xe(j,I.message))}else m(new xe(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new xe(oe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Te(sr,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);Te(sr,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=wy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Xw(),f=Yw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=l.join("");Te(sr,`Creating RPC '${e}' stream ${a}: ${v}`,m);const E=u.createWebChannel(v,m);this.I_(E);let x=!1,S=!1;const I=new Z5({Yo:O=>{S?Te(sr,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(x||(Te(sr,`Opening RPC '${e}' stream ${a} transport.`),E.open(),x=!0),Te(sr,`RPC '${e}' stream ${a} sending:`,O),E.send(O))},Zo:()=>E.close()}),j=(O,z,H)=>{O.listen(z,(W=>{try{H(W)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return j(E,Ru.EventType.OPEN,(()=>{S||(Te(sr,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),j(E,Ru.EventType.CLOSE,(()=>{S||(S=!0,Te(sr,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(E))})),j(E,Ru.EventType.ERROR,(O=>{S||(S=!0,bc(sr,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),I.a_(new xe(oe.UNAVAILABLE,"The operation could not be completed")))})),j(E,Ru.EventType.MESSAGE,(O=>{if(!S){const z=O.data[0];gt(!!z,16349);const H=z,W=H?.error||H[0]?.error;if(W){Te(sr,`RPC '${e}' stream ${a} received error:`,W);const ye=W.status;let ve=(function(k){const P=bn[k];if(P!==void 0)return OA(P)})(ye),Ee=W.message;ve===void 0&&(ve=oe.INTERNAL,Ee="Unknown error status: "+ye+" with message "+W.message),S=!0,I.a_(new xe(ve,Ee)),E.close()}else Te(sr,`RPC '${e}' stream ${a} received:`,z),I.u_(z)}})),j(f,Qw.STAT_EVENT,(O=>{O.stat===hy.PROXY?Te(sr,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===hy.NOPROXY&&Te(sr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Mg(){return typeof document<"u"?document:null}function sm(n){return new r5(n,!0)}class $A{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hx="PersistentStream";class KA{constructor(e,t,r,a,l,u,f,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $A(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ba(t.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new xe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(hx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Te(hx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends KA{constructor(e,t,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=a5(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?wi(u.readTime):Be.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=xy(this.serializer),t.addTarget=(function(l,u){let f;const m=u.target;if(f=gy(m)?{documents:c5(l,m)}:{query:VA(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=kA(l,u.resumeToken);const p=by(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){f.readTime=Dd(l,u.snapshotVersion.toTimestamp());const p=by(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=f5(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=xy(this.serializer),t.removeTarget=e,this.q_(t)}}class tD extends KA{constructor(e,t,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=l5(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>o5(this.serializer,r)))};this.q_(t)}}class nD{}class rD extends nD{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,_y(t,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(oe.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,_y(t,r),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const cl="RemoteStore";class iD{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{gl(this)&&(Te(cl,"Restarting streams for network reachability change."),await(async function(m){const p=qe(m);p.Ea.add(4),await Eh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await im(p)})(this))}))})),this.Ra=new sD(r,a)}}async function im(n){if(gl(n))for(const e of n.da)await e(!0)}async function Eh(n){for(const e of n.da)await e(!1)}function QA(n,e){const t=qe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),k0(t)?L0(t):Mc(t).O_()&&D0(t,e))}function O0(n,e){const t=qe(n),r=Mc(t);t.Ia.delete(e),r.O_()&&YA(t,e),t.Ia.size===0&&(r.O_()?r.L_():gl(t)&&t.Ra.set("Unknown"))}function D0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mc(n).Y_(e)}function YA(n,e){n.Va.Ue(e),Mc(n).Z_(e)}function L0(n){n.Va=new J6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Mc(n).start(),n.Ra.ua()}function k0(n){return gl(n)&&!Mc(n).x_()&&n.Ia.size>0}function gl(n){return qe(n).Ea.size===0}function XA(n){n.Va=void 0}async function aD(n){n.Ra.set("Online")}async function oD(n){n.Ia.forEach(((e,t)=>{D0(n,e)}))}async function lD(n,e){XA(n),k0(n)?(n.Ra.ha(e),L0(n)):n.Ra.set("Unknown")}async function cD(n,e,t){if(n.Ra.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){Te(cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kd(n,r)}else if(e instanceof pd?n.Va.Ze(e):e instanceof DA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Be.min()))try{const r=await GA(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(Yn.EMPTY_BYTE_STRING,v.snapshotVersion)),YA(l,m);const E=new ho(v.target,m,p,v.sequenceNumber);D0(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){Te(cl,"Failed to raise snapshot:",r),await kd(n,r)}}async function kd(n,e,t){if(!kc(e))throw e;n.Ea.add(1),await Eh(n),n.Ra.set("Offline"),t||(t=()=>GA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(cl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await im(n)}))}function WA(n,e){return e().catch((t=>kd(n,t,e)))}async function am(n){const e=qe(n),t=Ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:g0;for(;uD(e);)try{const a=await G5(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,hD(e,a)}catch(a){await kd(e,a)}ZA(e)&&JA(e)}function uD(n){return gl(n)&&n.Ta.length<10}function hD(n,e){n.Ta.push(e);const t=Ao(n);t.O_()&&t.X_&&t.ea(e.mutations)}function ZA(n){return gl(n)&&!Ao(n).x_()&&n.Ta.length>0}function JA(n){Ao(n).start()}async function fD(n){Ao(n).ra()}async function dD(n){const e=Ao(n);for(const t of n.Ta)e.ea(t.mutations)}async function mD(n,e,t){const r=n.Ta.shift(),a=w0.from(r,e,t);await WA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await am(n)}async function pD(n,e){e&&Ao(n).X_&&await(async function(r,a){if((function(u){return X6(u)&&u!==oe.ABORTED})(a.code)){const l=r.Ta.shift();Ao(r).B_(),await WA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await am(r)}})(n,e),ZA(n)&&JA(n)}async function fx(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Te(cl,"RemoteStore received new credentials");const r=gl(t);t.Ea.add(3),await Eh(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await im(t)}async function gD(n,e){const t=qe(n);e?(t.Ea.delete(2),await im(t)):e||(t.Ea.add(2),await Eh(t),t.Ra.set("Unknown"))}function Mc(n){return n.ma||(n.ma=(function(t,r,a){const l=qe(t);return l.sa(),new eD(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:aD.bind(null,n),t_:oD.bind(null,n),r_:lD.bind(null,n),H_:cD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),k0(n)?L0(n):n.Ra.set("Unknown")):(await n.ma.stop(),XA(n))}))),n.ma}function Ao(n){return n.fa||(n.fa=(function(t,r,a){const l=qe(t);return l.sa(),new tD(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:fD.bind(null,n),r_:pD.bind(null,n),ta:dD.bind(null,n),na:mD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await am(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(cl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class j0{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const u=Date.now()+r,f=new j0(e,t,u,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(n,e){if(ba("AsyncQueue",`${e}: ${n}`),kc(n))return new xe(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class fc{static emptySet(e){return new fc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dx{constructor(){this.ga=new Xt(je.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class wc{constructor(e,t,r,a,l,u,f,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new wc(e,t,fc.emptySet(t),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class yD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vD{constructor(){this.queries=mx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=qe(t),l=a.queries;a.queries=mx(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(r)}))})(this,new xe(oe.ABORTED,"Firestore shutting down"))}}function mx(){return new pl((n=>bA(n)),Jd)}async function eS(n,e){const t=qe(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new yD,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=M0(u,`Initialization of query '${nc(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&P0(t)}async function tS(n,e){const t=qe(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function bD(n,e){const t=qe(n);let r=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(r=!0);u.wa=a}}r&&P0(t)}function _D(n,e,t){const r=qe(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function P0(n){n.Ca.forEach((e=>{e.next()}))}var Ay,px;(px=Ay||(Ay={})).Ma="default",px.Cache="cache";class nS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ay.Cache}}class rS{constructor(e){this.key=e}}class sS{constructor(e){this.key=e}}class ED{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=_A(e),this.tu=new fc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new dx,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const x=a.get(v),S=em(this.query,E)?E:null,I=!!x&&this.mutatedKeys.has(x.key),j=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;x&&S?x.data.isEqual(S.data)?I!==j&&(r.track({type:3,doc:S}),O=!0):this.su(x,S)||(r.track({type:2,doc:S}),O=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(f=!0)):!x&&S?(r.track({type:0,doc:S}),O=!0):x&&!S&&(r.track({type:1,doc:x}),O=!0,(m||p)&&(f=!0)),O&&(S?(u=u.add(S),l=j?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(S,I){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:O})}};return j(S)-j(I)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new wc(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new sS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new rS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=at();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V0="SyncEngine";class xD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TD{constructor(e){this.key=e,this.hu=!1}}class wD{constructor(e,t,r,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new pl((f=>bA(f)),Jd),this.Iu=new Map,this.Eu=new Set,this.du=new Xt(je.comparator),this.Au=new Map,this.Ru=new N0,this.Vu={},this.mu=new Map,this.fu=Tc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AD(n,e,t=!0){const r=uS(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await iS(r,e,t,!0),a}async function SD(n,e){const t=uS(n);await iS(t,e,!0,!1)}async function iS(n,e,t,r){const a=await $5(n.localStore,Ti(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await ND(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&QA(n.remoteStore,a),f}async function ND(n,e,t,r,a){n.pu=(E,x,S)=>(async function(j,O,z,H){let W=O.view.ru(z);W.Cs&&(W=await ox(j.localStore,O.query,!1).then((({documents:M})=>O.view.ru(M,W))));const ye=H&&H.targetChanges.get(O.targetId),ve=H&&H.targetMismatches.get(O.targetId)!=null,Ee=O.view.applyChanges(W,j.isPrimaryClient,ye,ve);return yx(j,O.targetId,Ee.au),Ee.snapshot})(n,E,x,S);const l=await ox(n.localStore,e,!0),u=new ED(e,l.Qs),f=u.ru(l.documents),m=_h.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(f,n.isPrimaryClient,m);yx(n,t,p.au);const v=new xD(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function CD(n,e,t){const r=qe(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Jd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ty(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&O0(r.remoteStore,a.targetId),Sy(r,a.targetId)})).catch(Lc)):(Sy(r,a.targetId),await Ty(r.localStore,a.targetId,!0))}async function RD(n,e){const t=qe(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),O0(t.remoteStore,r.targetId))}async function ID(n,e,t){const r=PD(n);try{const a=await(function(u,f){const m=qe(u),p=Vt.now(),v=f.reduce(((S,I)=>S.add(I.key)),at());let E,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=_a(),j=at();return m.Ns.getEntries(S,v).next((O=>{I=O,I.forEach(((z,H)=>{H.isValidDocument()||(j=j.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,I))).next((O=>{E=O;const z=[];for(const H of f){const W=F6(H,E.get(H.key).overlayedDocument);W!=null&&z.push(new Do(H.key,W,uA(W.value.mapValue),Is.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,z,f)})).next((O=>{x=O;const z=O.applyToLocalDocumentSet(E,j);return m.documentOverlayCache.saveOverlays(S,O.batchId,z)}))})).then((()=>({batchId:x.batchId,changes:xA(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new Xt(it)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,t),await xh(r,a.changes),await am(r.remoteStore)}catch(a){const l=M0(a,"Failed to persist write");t.reject(l)}}async function aS(n,e){const t=qe(n);try{const r=await H5(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?gt(u.hu,14607):a.removedDocuments.size>0&&(gt(u.hu,42227),u.hu=!1))})),await xh(t,r,e)}catch(r){await Lc(r)}}function gx(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=qe(u);m.onlineState=f;let p=!1;m.queries.forEach(((v,E)=>{for(const x of E.Sa)x.va(f)&&(p=!0)})),p&&P0(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OD(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new Xt(je.comparator);u=u.insert(l,ar.newNoDocument(l,Be.min()));const f=at().add(l),m=new rm(Be.min(),new Map,new Xt(it),u,f);await aS(r,m),r.du=r.du.remove(l),r.Au.delete(e),U0(r)}else await Ty(r.localStore,e,!1).then((()=>Sy(r,e,t))).catch(Lc)}async function DD(n,e){const t=qe(n),r=e.batch.batchId;try{const a=await z5(t.localStore,e);lS(t,r,null),oS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await xh(t,a)}catch(a){await Lc(a)}}async function LD(n,e,t){const r=qe(n);try{const a=await(function(u,f){const m=qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((E=>(gt(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(p,E)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);lS(r,e,t),oS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await xh(r,a)}catch(a){await Lc(a)}}function oS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function lS(n,e,t){const r=qe(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||cS(n,r)}))}function cS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(O0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),U0(n))}function yx(n,e,t){for(const r of t)r instanceof rS?(n.Ru.addReference(r.key,e),kD(n,r)):r instanceof sS?(Te(V0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||cS(n,r.key)):Ue(19791,{wu:r})}function kD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Te(V0,"New document in limbo: "+t),n.Eu.add(r),U0(n))}function U0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new je(It.fromString(e)),r=n.fu.next();n.Au.set(r,new TD(t)),n.du=n.du.insert(t,r),QA(n.remoteStore,new ho(Ti(E0(t.path)),r,"TargetPurposeLimboResolution",Xd.ce))}}async function xh(n,e,t){const r=qe(n),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,m)=>{u.push(r.pu(m,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=R0.As(m.targetId,p);l.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(m,p){const v=qe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>he.forEach(p,(x=>he.forEach(x.Es,(S=>v.persistence.referenceDelegate.addReference(E,x.targetId,S))).next((()=>he.forEach(x.ds,(S=>v.persistence.referenceDelegate.removeReference(E,x.targetId,S)))))))))}catch(E){if(!kc(E))throw E;Te(I0,"Failed to update sequence numbers: "+E)}for(const E of p){const x=E.targetId;if(!E.fromCache){const S=v.Ms.get(x),I=S.snapshotVersion,j=S.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(x,j)}}})(r.localStore,l))}async function jD(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Te(V0,"User change. New user:",e.toKey());const r=await FA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new xe(oe.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xh(t,r.Ls)}}function MD(n,e){const t=qe(n),r=t.Au.get(e);if(r&&r.hu)return at().add(r.key);{let a=at();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const f=t.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function uS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.Pu.H_=bD.bind(null,e.eventManager),e.Pu.yu=_D.bind(null,e.eventManager),e}function PD(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,e),e}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return B5(this.persistence,new V5,e.initialUser,this.serializer)}Cu(e){return new HA(C0.mi,this.serializer)}Du(e){return new Q5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class VD extends jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){gt(this.persistence.referenceDelegate instanceof Ld,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new T5(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new HA((r=>Ld.mi(r,t)),this.serializer)}}class Ny{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vD})()}createDatastore(e){const t=sm(e.databaseInfo.databaseId),r=(function(l){return new J5(l)})(e.databaseInfo);return(function(l,u,f,m){return new rD(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,u,f){return new iD(r,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>gx(this.syncEngine,t,0)),(function(){return ux.v()?new ux:new Y5})())}createSyncEngine(e,t){return(function(a,l,u,f,m,p,v){const E=new wD(a,l,u,f,m,p);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=qe(t);Te(cl,"RemoteStore shutting down."),r.Ea.add(5),await Eh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ny.provider={build:()=>new Ny};class hS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const So="FirestoreClient";class UD{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ir.UNAUTHENTICATED,this.clientId=p0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{Te(So,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Te(So,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=M0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(So,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await FA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function vx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qD(n);Te(So,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>fx(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>fx(e.remoteStore,a))),n._onlineComponents=e}async function qD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(So,"Using user provided OfflineComponentProvider");try{await Pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;bc("Error using user provided cache. Falling back to memory cache: "+t),await Pg(n,new jd)}}else Te(So,"Using default OfflineComponentProvider"),await Pg(n,new VD(void 0));return n._offlineComponents}async function q0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(So,"Using user provided OnlineComponentProvider"),await vx(n,n._uninitializedComponentsProvider._online)):(Te(So,"Using default OnlineComponentProvider"),await vx(n,new Ny))),n._onlineComponents}function BD(n){return q0(n).then((e=>e.syncEngine))}function zD(n){return q0(n).then((e=>e.datastore))}async function fS(n){const e=await q0(n),t=e.eventManager;return t.onListen=AD.bind(null,e.syncEngine),t.onUnlisten=CD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RD.bind(null,e.syncEngine),t}function HD(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new hS({next:x=>{v.Nu(),u.enqueueAndForget((()=>tS(l,E)));const S=x.docs.has(f);!S&&x.fromCache?p.reject(new xe(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&m&&m.source==="server"?p.reject(new xe(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),E=new nS(E0(f.path),v,{includeMetadataChanges:!0,qa:!0});return eS(l,E)})(await fS(n),n.asyncQueue,e,t,r))),r.promise}function FD(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new hS({next:x=>{v.Nu(),u.enqueueAndForget((()=>tS(l,E))),x.fromCache&&m.source==="server"?p.reject(new xe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),E=new nS(f,v,{includeMetadataChanges:!0,qa:!0});return eS(l,E)})(await fS(n),n.asyncQueue,e,t,r))),r.promise}function GD(n,e,t){const r=new xi;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await zD(n);r.resolve((async function(u,f,m){const p=qe(u),{request:v,gt:E,parent:x}=u5(p.serializer,R6(f),m);p.connection.$o||delete v.parent;const S=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,x,v,1)).filter((j=>!!j.result));gt(S.length===1,64727);const I=S[0].result?.aggregateFields;return Object.keys(I).reduce(((j,O)=>(j[E[O]]=I[O],j)),{})})(a,e,t))}catch(a){r.reject(a)}})),r.promise}function dS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const bx=new Map;const mS="firestore.googleapis.com",_x=!0;class Ex{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mS,this.ssl=_x}else this.host=e.host,this.ssl=e.ssl??_x;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E5)throw new xe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ex({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ex(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $O;switch(r.type){case"firstParty":return new XO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=bx.get(t);r&&(Te("ComponentProvider","Removing Datastore"),bx.delete(t),r.terminate())})(this),Promise.resolve()}}function $D(n,e,t,r={}){n=Ds(n,om);const a=Rc(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(rw(`https://${f}`),sw("Firestore",!0)),l.host!==mS&&l.host!==f&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:r};if(!sl(m,u)&&(n._setSettings(m),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=ir.MOCK_USER;else{p=t4(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new xe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ir(E)}n._authCredentials=new KO(new Zw(p,v))}}class yl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(vh(t,dn._jsonSchema))return new dn(e,r||null,new je(It.fromString(t.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:En("string",dn._jsonSchemaVersion),referencePath:En("string")};class vo extends yl{constructor(e,t,r){super(e,t,E0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new je(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function rn(n,e,...t){if(n=Nn(n),Jw("collection","path",e),n instanceof om){const r=It.fromString(e,...t);return kE(r),new vo(n,null,r)}{if(!(n instanceof dn||n instanceof vo))throw new xe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return kE(r),new vo(n.firestore,null,r)}}function sn(n,e,...t){if(n=Nn(n),arguments.length===1&&(e=p0.newId()),Jw("doc","path",e),n instanceof om){const r=It.fromString(e,...t);return LE(r),new dn(n,null,new je(r))}{if(!(n instanceof dn||n instanceof vo))throw new xe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return LE(r),new dn(n.firestore,n instanceof vo?n.converter:null,new je(r))}}const xx="AsyncQueue";class Tx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $A(this,"async_queue_retry"),this._c=()=>{const r=Mg();r&&Te(xx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Mg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kc(e))throw e;Te(xx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",wx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=j0.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ue(47125,{Pc:wx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Lo extends om{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Tx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tx(e),this._firestoreClient=void 0,await e}}}function KD(n,e){const t=typeof n=="object"?n:lw(),r=typeof n=="string"?n:Cd,a=r0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=JR("firestore");l&&$D(a,...l)}return a}function lm(n){if(n._terminated)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QD(n),n._firestoreClient}function QD(n){const e=n._freezeSettings(),t=(function(a,l,u,f){return new m6(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new UD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class YD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class XD{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(Yn.fromBase64String(e))}catch(t){throw new xe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ns(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vh(e,Ns._jsonSchema))return Ns.fromBase64String(e.bytes)}}Ns._jsonSchemaVersion="firestore/bytes/1.0",Ns._jsonSchema={type:En("string",Ns._jsonSchemaVersion),bytes:En("string")};class cm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class um{constructor(e){this._methodName=e}}class Ai{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(vh(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:En("string",Ai._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};class Si{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vh(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Si(e.vectorValues);throw new xe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:En("string",Si._jsonSchemaVersion),vectorValues:En("object")};const WD=/^__.*__$/;class ZD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Do(e,this.data,this.fieldMask,t,this.fieldTransforms):new bh(e,this.data,t,this.fieldTransforms)}}class pS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Do(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class B0{constructor(e,t,r,a,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new B0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gS(this.Ac)&&WD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sm(e)}Cc(e,t,r,a=!1){return new B0({Ac:e,methodName:t,Dc:r,path:Kn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(n){const e=n._freezeSettings(),t=sm(n._databaseId);return new JD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yS(n,e,t,r,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);H0("Data must be an object, but it was:",u,r);const f=vS(r,u);let m,p;if(l.merge)m=new ts(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const x=Cy(e,E,t);if(!u.contains(x))throw new xe(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);_S(v,x)||v.push(x)}m=new ts(v),p=u.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,p=u.fieldTransforms;return new ZD(new jr(f),m,p)}class fm extends um{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}class z0 extends um{_toFieldTransform(e){return new q6(e.path,new Zu)}isEqual(e){return e instanceof z0}}function eL(n,e,t,r){const a=n.Cc(1,e,t);H0("Data must be an object, but it was:",a,r);const l=[],u=jr.empty();Oo(r,((m,p)=>{const v=F0(e,m,t);p=Nn(p);const E=a.yc(v);if(p instanceof fm)l.push(v);else{const x=Th(p,E);x!=null&&(l.push(v),u.set(v,x))}}));const f=new ts(l);return new pS(u,f,a.fieldTransforms)}function tL(n,e,t,r,a,l){const u=n.Cc(1,e,t),f=[Cy(e,r,t)],m=[a];if(l.length%2!=0)throw new xe(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(Cy(e,l[x])),m.push(l[x+1]);const p=[],v=jr.empty();for(let x=f.length-1;x>=0;--x)if(!_S(p,f[x])){const S=f[x];let I=m[x];I=Nn(I);const j=u.yc(S);if(I instanceof fm)p.push(S);else{const O=Th(I,j);O!=null&&(p.push(S),v.set(S,O))}}const E=new ts(p);return new pS(v,E,u.fieldTransforms)}function nL(n,e,t,r=!1){return Th(t,n.Cc(r?4:3,e))}function Th(n,e){if(bS(n=Nn(n)))return H0("Unsupported field value:",e,n),vS(n,e);if(n instanceof um)return(function(r,a){if(!gS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const f of r){let m=Th(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P6(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Vt.fromDate(r);return{timestampValue:Dd(a.serializer,l)}}if(r instanceof Vt){const l=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dd(a.serializer,l)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ns)return{bytesValue:kA(a.serializer,r._byteString)};if(r instanceof dn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Si)return(function(u,f){return{mapValue:{fields:{[lA]:{stringValue:cA},[Rd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return x0(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Yd(r)}`)})(n,e)}function vS(n,e){const t={};return nA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,((r,a)=>{const l=Th(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function bS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Ai||n instanceof Ns||n instanceof dn||n instanceof um||n instanceof Si)}function H0(n,e,t){if(!bS(t)||!eA(t)){const r=Yd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Cy(n,e,t){if((e=Nn(e))instanceof cm)return e._internalPath;if(typeof e=="string")return F0(n,e);throw Md("Field path arguments must be of type string or ",n,!1,void 0,t)}const rL=new RegExp("[~\\*/\\[\\]]");function F0(n,e,t){if(e.search(rL)>=0)throw Md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cm(...e.split("."))._internalPath}catch{throw Md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Md(n,e,t,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new xe(oe.INVALID_ARGUMENT,f+n+m)}function _S(n,e){return n.some((t=>t.isEqual(e)))}class ES{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(G0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sL extends ES{data(){return super.data()}}function G0(n,e){return typeof e=="string"?F0(n,e):e instanceof cm?e._internalPath:e._delegate._internalPath}function iL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}class xS extends $0{}function Aa(n,e,...t){let r=[];e instanceof $0&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((m=>m instanceof Q0)).length,f=l.filter((m=>m instanceof K0)).length;if(u>1||u>0&&f>0)throw new xe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class K0 extends xS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new K0(e,t,r)}_apply(e){const t=this._parse(e);return TS(e._query,t),new yl(e.firestore,e.converter,yy(e._query,t))}_parse(e){const t=hm(e.firestore);return(function(l,u,f,m,p,v,E){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new xe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Sx(E,v);const I=[];for(const j of E)I.push(Ax(m,l,j));x={arrayValue:{values:I}}}else x=Ax(m,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Sx(E,v),x=nL(f,u,E,v==="in"||v==="not-in");return _n.create(p,v,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Q0 extends $0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Q0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)TS(u,m),u=yy(u,m)})(e._query,t),new yl(e.firestore,e.converter,yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y0 extends xS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Y0(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new xe(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new xe(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(l,u)})(e._query,this._field,this._direction);return new yl(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new jc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function Sa(n,e="asc"){const t=e,r=G0("orderBy",n);return Y0._create(r,t)}function Ax(n,e,t){if(typeof(t=Nn(t))=="string"){if(t==="")throw new xe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(e)&&t.indexOf("/")!==-1)throw new xe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!je.isDocumentKey(r))throw new xe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(n,new je(r))}if(t instanceof dn)return zE(n,t._key);throw new xe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(t)}.`)}function Sx(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(n,e){const t=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new xe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aL{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oo(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Rd].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new Si(t)}convertGeoPoint(e){return new Ai(fn(e.latitude),fn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const t=xo(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);gt(BA(r),9688,{name:e});const a=new Yu(r.get(1),r.get(3)),l=new je(r.popFirst(5));return a.isEqual(t)||ba(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function wS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}function oL(){return new YD("count")}class Du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rl extends ES{constructor(e,t,r,a,l,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(G0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=rl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",rl._jsonSchema={type:En("string",rl._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class gd extends rl{data(e={}){return super.data(e)}}class dc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Du(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new gd(this._firestore,this._userDataWriter,r.key,r,new Du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new gd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Du(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new gd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Du(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:lL(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=p0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}function Oi(n){n=Ds(n,dn);const e=Ds(n.firestore,Lo);return HD(lm(e),n._key).then((t=>cL(e,n,t)))}dc._jsonSchemaVersion="firestore/querySnapshot/1.0",dc._jsonSchema={type:En("string",dc._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};class X0 extends aL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function Mr(n){n=Ds(n,yl);const e=Ds(n.firestore,Lo),t=lm(e),r=new X0(e);return iL(n._query),FD(t,n._query).then((a=>new dc(e,r,n,a)))}function Ry(n,e,t){n=Ds(n,dn);const r=Ds(n.firestore,Lo),a=wS(n.converter,e,t);return gm(r,[yS(hm(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Is.none())])}function dm(n,e,t,...r){n=Ds(n,dn);const a=Ds(n.firestore,Lo),l=hm(a);let u;return u=typeof(e=Nn(e))=="string"||e instanceof cm?tL(l,"updateDoc",n._key,e,t,r):eL(l,"updateDoc",n._key,e),gm(a,[u.toMutation(n._key,Is.exists(!0))])}function mm(n){return gm(Ds(n.firestore,Lo),[new T0(n._key,Is.none())])}function pm(n,e){const t=Ds(n.firestore,Lo),r=sn(n),a=wS(n.converter,e);return gm(t,[yS(hm(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Is.exists(!1))]).then((()=>r))}function gm(n,e){return(function(r,a){const l=new xi;return r.asyncQueue.enqueueAndForget((async()=>ID(await BD(r),a,l))),l.promise})(lm(n),e)}function cL(n,e,t){const r=t.docs.get(e._key),a=new X0(n);return new rl(n,a,e._key,r,new Du(t.hasPendingWrites,t.fromCache),e.converter)}function Kf(n){return uL(n,{count:oL()})}function uL(n,e){const t=Ds(n.firestore,Lo),r=lm(t),a=f6(e,((l,u)=>new Q6(u,l.aggregateType,l._internalFieldPath)));return GD(r,n._query,a).then((l=>(function(f,m,p){const v=new X0(f);return new XD(m,v,p)})(t,n,l)))}function th(){return new z0("serverTimestamp")}(function(e,t=!0){(function(a){Dc=a})(Ic),yc(new il("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),f=new Lo(new QO(r.getProvider("auth-internal")),new WO(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),go(RE,IE,e),go(RE,IE,"esm2020")})();const hL={apiKey:"AIzaSyB3nTJlyM3K-XpvEUrXyk3leiVeMxzkTiU",authDomain:"forexvolcano-21180.firebaseapp.com",projectId:"forexvolcano-21180",storageBucket:"forexvolcano-21180.firebasestorage.app",messagingSenderId:"264687169302",appId:"1:264687169302:web:83322d7adc303b1f0c2a37",measurementId:"G-XTB0D1TPS6"},AS=ow(hL),ss=FO(AS),He=KD(AS),fL=()=>{const[n,e]=F.useState(null),[t,r]=F.useState(!1),a=Ii();F.useEffect(()=>{const u=gh(ss,async f=>{if(e(f),f)try{const m=await Oi(sn(He,"users",f.uid));m.exists()&&m.data().role==="admin"?r(!0):r(!1)}catch(m){console.error("Error checking admin role:",m),r(!1)}else r(!1)});return()=>u()},[]);const l=async()=>{try{await k3(ss),a("/")}catch(u){console.error("Error logging out",u)}};return y.jsx("nav",{className:"bg-surface border-b border-gray-800 sticky top-0 z-50",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(Pt,{to:"/",className:"flex-shrink-0",children:y.jsxs("span",{className:"text-secondary text-2xl font-bold tracking-tighter",children:["Forex",y.jsx("span",{className:"text-accent",children:"Volcano"})]})}),y.jsx("div",{className:"hidden md:block",children:y.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[y.jsx(Pt,{to:"/analysis",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Analysis"}),y.jsx(Pt,{to:"/academy",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Academy"}),y.jsx(Pt,{to:"/news",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"News"})]})})]}),y.jsx("div",{className:"hidden md:block",children:y.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:n?y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(Pt,{to:"/dashboard",className:"text-primary hover:text-green-400 font-medium px-3 py-2",children:"Dashboard"}),t&&y.jsx(Pt,{to:"/admin",className:"text-accent hover:text-orange-400 font-medium px-3 py-2",children:"Admin Panel"}),y.jsx("button",{onClick:l,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]}):y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(Pt,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),y.jsx(Pt,{to:"/register",className:"bg-primary hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Get Started"})]})})}),y.jsx("div",{className:"-mr-2 flex md:hidden",children:y.jsxs("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[y.jsx("span",{className:"sr-only",children:"Open main menu"}),y.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},dL=()=>y.jsx("footer",{className:"bg-[#05080f] border-t border-gray-800/50 py-12",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[y.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[y.jsxs(Pt,{to:"/",className:"text-2xl font-bold tracking-tighter text-secondary",children:["Forex",y.jsx("span",{className:"text-accent",children:"Volcano"})]}),y.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[" ",new Date().getFullYear()," ForexVolcano. All rights reserved."]})]}),y.jsxs("div",{className:"flex space-x-8",children:[y.jsx(Pt,{to:"/analysis",className:"text-gray-400 hover:text-white transition-colors",children:"Analysis"}),y.jsx(Pt,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"News"}),y.jsx(Pt,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})]})]})})}),Nx={primary:"bg-primary hover:bg-green-500 text-white shadow-lg shadow-green-900/20",secondary:"bg-secondary hover:bg-red-500 text-white shadow-lg shadow-red-900/20",accent:"bg-accent hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",outline:"border-2 border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white bg-transparent",ghost:"text-slate-400 hover:text-white hover:bg-white/5"},Cx={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base font-semibold",lg:"px-8 py-4 text-lg font-bold"},an=({children:n,variant:e="primary",size:t="md",to:r=null,onClick:a,className:l="",...u})=>{const f="inline-flex items-center justify-center rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e17] focus:ring-slate-400",m=Nx[e]||Nx.primary,p=Cx[t]||Cx.md,v=`${f} ${m} ${p} ${l}`;return r?y.jsx(Pt,{to:r,className:v,...u,children:n}):y.jsx("button",{onClick:a,className:v,...u,children:n})},mL=()=>y.jsxs("div",{className:"relative overflow-hidden bg-background pt-16 pb-32 lg:pt-32 lg:pb-40",children:[y.jsxs("div",{className:"absolute top-0 left-1/2 w-full -translate-x-1/2 h-full z-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute top-[10%] right-[20%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[80px]"})]}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-white mb-6",children:["Predict the ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent",children:"Eruption"})]}),y.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-400 mb-10",children:"Professional Forex education and institutional-grade analysis. Stop guessing. Start trading with the precision of a geologist."}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[y.jsx(an,{to:"/register",variant:"primary",size:"lg",children:"Start Learning Free"}),y.jsx(an,{to:"/analysis",variant:"outline",size:"lg",children:"View Daily Analysis"})]}),y.jsxs("div",{className:"mt-16 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent z-10 h-20 bottom-0 pointer-events-none"}),y.jsxs("div",{className:"inline-flex items-center gap-8 py-3 px-8 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm shadow-2xl",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"EUR/USD"}),y.jsx("span",{className:"text-primary text-sm",children:" 1.0842"})]}),y.jsx("div",{className:"w-px h-4 bg-gray-700"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"GBP/USD"}),y.jsx("span",{className:"text-secondary text-sm",children:" 1.2615"})]}),y.jsx("div",{className:"w-px h-4 bg-gray-700"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"XAU/USD"}),y.jsx("span",{className:"text-accent text-sm",children:" 2045.50"})]})]})]})]})]}),pL=[{title:"Structured Learning Path",description:'From "What is a Pip?" to institutional order flow. Our curriculum guides you step-by-step through the chaos.',icon:y.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),borderColor:"border-primary/20",iconBg:"bg-primary/10"},{title:"Daily Market Analysis",description:`Don't trade alone. Get daily "Volcano Watch" reports identifying high-probability setups before they erupt.`,icon:y.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),borderColor:"border-secondary/20",iconBg:"bg-secondary/10"},{title:"Risk Management",description:"The volcano is dangerous. Learn how to survive. Our strict risk protocols are the core of our philosophy.",icon:y.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),borderColor:"border-accent/20",iconBg:"bg-accent/10"}],gL=()=>y.jsx("div",{className:"py-24 bg-surface",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-base text-accent font-semibold tracking-wide uppercase",children:"Why Choose Us"}),y.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"A Better Way to Trade"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:pL.map((n,e)=>y.jsxs("div",{className:`p-8 bg-background/50 border ${n.borderColor} rounded-2xl hover:bg-background transition-all duration-300`,children:[y.jsx("div",{className:`w-12 h-12 ${n.iconBg} rounded-lg flex items-center justify-center mb-6`,children:n.icon}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:n.title}),y.jsx("p",{className:"text-gray-400 leading-relaxed",children:n.description})]},e))})]})}),yL=()=>y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(mL,{}),y.jsx(gL,{})]}),SS=({title:n,subtitle:e,image:t,content:r,footer:a,badges:l=[],className:u=""})=>y.jsxs("div",{className:`group relative flex flex-col overflow-hidden rounded-2xl bg-surface border border-gray-800 transition-all duration-300 hover:border-gray-700 hover:shadow-2xl hover:shadow-primary/5 ${u}`,children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),t&&y.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-900",children:[y.jsx("img",{src:t,alt:n,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:f=>{f.target.style.display="none",f.target.parentElement.classList.add("flex","items-center","justify-center","bg-gray-800"),f.target.parentElement.innerHTML='<span class="text-4xl"></span>'}}),l.length>0&&y.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:l.map((f,m)=>y.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded uppercase tracking-wider ${f.color||"bg-gray-800 text-white"}`,children:f.text},m))})]}),y.jsxs("div",{className:"flex flex-1 flex-col p-6 z-10",children:[e&&y.jsx("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-400",children:e}),y.jsx("h3",{className:"mb-3 text-xl font-bold text-white group-hover:text-primary transition-colors",children:n}),y.jsx("p",{className:"flex-1 text-gray-400 line-clamp-3 mb-6",children:r}),a&&y.jsx("div",{className:"mt-auto border-t border-gray-800 pt-4",children:a})]})]}),Rx=[{id:"1",pair:"EUR/USD",direction:"Bearish",title:"EUR/USD Forming Head and Shoulders on 4H",content:"Price has failed to break the 1.0900 resistance level multiple times. We are observing a clear H&S pattern formation. If the neckline at 1.0820 breaks, we expect a sharp decline towards the 1.0750 liquidity zone.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",pair:"XAU/USD",direction:"Bullish",title:"Gold Preparing for Eruption Above 2050",content:"Geopolitical tensions and a weakening dollar suggest Gold is accumulating for a massive leg up. Watch for a retest of 2035 as a potential entry point for long positions targeting new highs.",author:"Analyst Sarah",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"},{id:"3",pair:"GBP/JPY",direction:"Bullish",title:"The Dragon is Waking Up",content:"GJ is respecting the ascending trendline perfectly. The recent pullback to 182.00 was rejected strongly. We are looking for continuation towards 185.00 level.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"}],vL=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(!0),[a,l]=F.useState("All");F.useEffect(()=>{(async()=>{try{const v=Aa(rn(He,"analysis"),Sa("timestamp","desc")),x=(await Mr(v)).docs.map(S=>({id:S.id,...S.data()}));x.length>0?e(x):e(Rx)}catch(v){console.error("Error fetching analysis:",v),e(Rx)}finally{r(!1)}})()},[]);const u=a==="All"?n:n.filter(p=>p.pair===a),f=["All",...new Set(n.map(p=>p.pair))],m=p=>{if(!p)return"";const v=p.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),E=document.createElement("DIV");return E.innerHTML=v,(E.textContent||E.innerText||"").trim()};return y.jsx("div",{className:"bg-background min-h-screen py-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",y.jsx("span",{className:"text-primary",children:"Analysis"})]}),y.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Daily technical breakdowns and trade setups from our experts."})]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:f.map(p=>y.jsx("button",{onClick:()=>l(p),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${a===p?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:p},p))}),t?y.jsx("div",{className:"text-center text-white py-20",children:"Loading Volcano Data..."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(p=>{const v=p.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return y.jsx(Pt,{to:`/analysis/${p.id}`,className:"block group",children:y.jsx(SS,{title:p.title,image:p.image||p.chart_image_url,content:m(p.content),subtitle:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-gray-500 text-xs",children:p.timestamp?.seconds?new Date(p.timestamp.seconds*1e3).toLocaleDateString():p.timestamp||new Date().toLocaleDateString()}),y.jsx("span",{className:"text-gray-600",children:""}),y.jsxs("span",{className:"text-gray-500 text-xs text-accent",children:["By ",p.analystName||p.author||"Admin"]})]}),badges:[{text:p.pair,color:"bg-surface border border-gray-700 text-white"},{text:p.direction,color:v}],footer:y.jsxs(an,{variant:"ghost",size:"sm",className:"w-full justify-between group-hover:text-white",children:["Read Full Breakdown",y.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})},p.id)})})]})})},bL=()=>{const{id:n}=ch(),e=Ii(),[t,r]=F.useState(null),[a,l]=F.useState(!0);if(F.useEffect(()=>{(async()=>{try{const p=sn(He,"analysis",n),v=await Oi(p);v.exists()?r({id:v.id,...v.data()}):(console.log("No such document!"),e("/analysis"))}catch(p){console.error("Error fetching analysis detail:",p)}finally{l(!1)}})()},[n,e]),a)return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const u=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString(),f=t.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return y.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx(an,{variant:"ghost",onClick:()=>e("/analysis"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to Analysis"}),y.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[(t.image||t.chart_image_url)&&y.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[y.jsx("img",{src:t.image||t.chart_image_url,alt:t.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),y.jsxs("div",{className:"p-8 sm:p-12",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[y.jsx("span",{className:"text-gray-400 text-sm",children:u}),y.jsx("span",{className:"text-gray-600",children:""}),y.jsx("span",{className:"text-accent text-sm uppercase tracking-wider font-bold",children:t.analysisType||"Technical Analysis"})]}),y.jsxs("div",{className:"flex gap-3 mb-6",children:[y.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide bg-surface border border-gray-700 text-white",children:t.pair}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${f}`,children:t.direction})]}),y.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),y.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 mb-16",dangerouslySetInnerHTML:{__html:t.content}}),(t.analystName||t.analystBio)&&y.jsxs("div",{className:"border-t border-gray-800 pt-12 mt-12 mb-8",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-8",children:"Meet Your Analyst"}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-8 bg-black/20 p-8 rounded-2xl border border-gray-800/50",children:[y.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 shrink-0 rounded-full overflow-hidden ring-4 ring-primary/20",children:y.jsx("img",{src:t.analystImage||"https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=400&auto=format&fit=crop&q=60",alt:t.analystName||"Analyst",className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"text-center sm:text-left",children:[y.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:t.analystName||"Volcano Analyst"}),y.jsx("p",{className:"text-gray-400 leading-relaxed mb-4 whitespace-pre-wrap",children:t.analystBio||"Professional market analyst at Forex Volcano."}),y.jsxs("div",{className:"flex gap-4",children:[t.twitter&&y.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),t.linkedin&&y.jsx("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})}),t.telegram&&y.jsx("a",{href:t.telegram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})]})]})]})]})})},Ix=[{id:"1",title:"NFP Smashes Expectations: 350k Jobs Added",impact:"High",affectedCurrencies:["USD","XAU","JPY"],content:"The Non-Farm Payrolls report showed a surprise surge in job creation, sending the Dollar Index (DXY) rocketing past 104.50. Traders should watch for pullbacks on Gold.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",title:"ECB Signals Rate Cuts in June",impact:"Medium",affectedCurrencies:["EUR","GBP"],content:"Lagarde hinted that inflation is under control, opening the door for a 25bps cut. Euro is showing weakness against the Pound.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"},{id:"3",title:"BoJ Maintains Ultra-Loose Policy",impact:"Low",affectedCurrencies:["JPY"],content:"No surprises from the Bank of Japan. Yield Curve Control remains in place. USD/JPY is drifting sideways in a tight range.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"}],_L={High:"bg-red-500/20 text-red-500 border border-red-500/50",Medium:"bg-orange-500/20 text-orange-500 border border-orange-500/50",Low:"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50"},EL=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(!0),a=l=>{if(!l)return"";const u=l.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),f=document.createElement("DIV");return f.innerHTML=u,(f.textContent||f.innerText||"").trim()};return F.useEffect(()=>{(async()=>{try{const u=Aa(rn(He,"news"),Sa("timestamp","desc")),m=(await Mr(u)).docs.map(p=>({id:p.id,...p.data()}));m.length>0?e(m):e(Ix)}catch(u){console.error("Error fetching news:",u),e(Ix)}finally{r(!1)}})()},[]),y.jsx("div",{className:"bg-background min-h-screen py-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",y.jsx("span",{className:"text-accent",children:"News"})]}),y.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Stay ahead of the volatility with real-time economic updates."})]}),t?y.jsx("div",{className:"text-center text-white py-20",children:"Loading Earth-shaking Events..."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(l=>y.jsx(Pt,{to:`/news/${l.id}`,className:"block group",children:y.jsx(SS,{title:l.title,image:l.image,content:a(l.content),subtitle:y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"text-gray-500 text-xs",children:l.timestamp?.seconds?new Date(l.timestamp.seconds*1e3).toLocaleDateString():l.timestamp||new Date().toLocaleDateString()})}),badges:[{text:l.impact,color:_L[l.impact]||"bg-gray-800 text-white"},...(l.affectedCurrencies||[]).map(u=>({text:u,color:"bg-surface border border-gray-700 text-white"}))]})},l.id))})]})})},xL=()=>{const{id:n}=ch(),e=Ii(),[t,r]=F.useState(null),[a,l]=F.useState(!0);if(F.useEffect(()=>{(async()=>{try{const m=sn(He,"news",n),p=await Oi(m);p.exists()?r({id:p.id,...p.data()}):(console.log("No such document!"),e("/news"))}catch(m){console.error("Error fetching news detail:",m)}finally{l(!1)}})()},[n,e]),a)return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const u=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString();return y.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx(an,{variant:"ghost",onClick:()=>e("/news"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to News"}),y.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[t.image&&y.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[y.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),y.jsxs("div",{className:"p-8 sm:p-12",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[y.jsx("span",{className:"text-gray-400 text-sm",children:u}),y.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                                ${t.impact==="High"?"bg-red-500/20 text-red-400":t.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:[t.impact," Impact"]}),t.affectedCurrencies&&t.affectedCurrencies.map&&t.affectedCurrencies.map(f=>y.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300 border border-gray-700",children:f},f))]}),y.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),y.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:t.content}})]})]})]})})},TL=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),[u,f]=F.useState(!1),m=Ii(),p=async x=>{try{const S=await Oi(sn(He,"users",x));S.exists()&&S.data().role==="admin"?m("/admin"):m("/dashboard")}catch(S){console.error("Error checking role:",S),m("/dashboard")}},v=async x=>{x.preventDefault(),l(""),f(!0);try{const S=await R3(ss,n,t);await p(S.user.uid)}catch(S){console.error(S),l("Failed to login. Please check your credentials.")}finally{f(!1)}},E=async()=>{try{const x=new _i,S=await Hw(ss,x);await p(S.user.uid)}catch(x){console.error(x),l("Failed to sign in with Google")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Sign in to ",y.jsx("span",{className:"text-secondary",children:"Volcano"})]}),y.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",y.jsx(Pt,{to:"/register",className:"font-medium text-primary hover:text-green-400",children:"start your 14-day free trial"})]})]}),y.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:y.jsxs("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:[y.jsxs("form",{className:"space-y-6",onSubmit:v,children:[a&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:a}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>e(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:x=>r(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsx("div",{children:y.jsx(an,{type:"submit",variant:"primary",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:u,children:u?"Signing in...":"Sign in"})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:y.jsx("div",{children:y.jsxs("button",{type:"button",onClick:E,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Sign in with Google"}),y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})})]})},wL=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),[u,f]=F.useState(""),[m,p]=F.useState(!1),v=Ii(),E=async S=>{S.preventDefault(),f(""),p(!0);try{const j=(await C3(ss,t,a)).user;await O3(j,{displayName:n}),await Ry(sn(He,"users",j.uid),{uid:j.uid,username:n,email:t,role:"user",createdAt:new Date().toISOString(),avatar_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=random`}),v("/dashboard")}catch(I){console.error(I),I.code==="auth/email-already-in-use"?f("Email already in use."):f("Failed to create account. Please try again.")}finally{p(!1)}},x=async()=>{try{const S=new _i,j=(await Hw(ss,S)).user;await Ry(sn(He,"users",j.uid),{uid:j.uid,username:j.displayName,email:j.email,role:"user",createdAt:new Date().toISOString(),avatar_url:j.photoURL},{merge:!0}),v("/dashboard")}catch(S){console.error(S),f("Failed to sign up with Google")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Join the ",y.jsx("span",{className:"text-secondary",children:"Eruption"})]}),y.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Already have an account?"," ",y.jsx(Pt,{to:"/login",className:"font-medium text-primary hover:text-green-400",children:"Sign in"})]})]}),y.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsx("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:y.jsxs("form",{className:"space-y-6",onSubmit:E,children:[u&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:u}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:n,onChange:S=>e(S.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:S=>r(S.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:a,onChange:S=>l(S.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsx("div",{children:y.jsx(an,{type:"submit",variant:"primary",className:"w-full justify-center",disabled:m,children:m?"Creating Account...":"Sign up"})})]})}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:y.jsx("div",{children:y.jsxs("button",{type:"button",onClick:x,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Sign up with Google"}),y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})]})},AL=[{id:"c1",title:"Forex Foundations: The Bedrock",progress:100,totalLessons:12,completedLessons:12,image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"c2",title:"Price Action Mastery",progress:45,totalLessons:20,completedLessons:9,image:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?q=80&w=1000&auto=format&fit=crop"},{id:"c3",title:"Institutional Order Flow",progress:0,totalLessons:15,completedLessons:0,image:"https://images.unsplash.com/photo-1642543492481-44e81e3914a7?q=80&w=1000&auto=format&fit=crop"}],SL=()=>{const[n,e]=F.useState(null),[t,r]=F.useState(!0);F.useEffect(()=>{(async()=>{if(ss.currentUser)try{const u=sn(He,"users",ss.currentUser.uid),f=await Oi(u);f.exists()&&e(f.data())}catch(u){console.error("Error fetching user data:",u)}finally{r(!1)}})()},[]);const a=n?.username||ss.currentUser?.displayName||"Trader";return y.jsxs("div",{className:"min-h-screen bg-background text-white",children:[y.jsx("div",{className:"bg-surface border-b border-gray-800",children:y.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:y.jsx("img",{src:n?.avatar_url||`https://ui-avatars.com/api/?name=${a}`,alt:"Profile",className:"h-full w-full rounded-full bg-background object-cover"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",y.jsx("span",{className:"text-primary",children:a})]}),y.jsx("p",{className:"mt-1 text-gray-400",children:"Ready to dominate the markets today?"})]})]})})}),y.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-12",children:[y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Total Progress"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-white",children:"48%"})]})}),y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Courses Completed"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-primary",children:"1"})]})}),y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Quiz Score Avg"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-secondary",children:"92%"})]})})]}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Courses"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:AL.map(l=>y.jsxs("div",{className:"bg-surface rounded-xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-colors group",children:[y.jsxs("div",{className:"h-48 overflow-hidden relative",children:[y.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),y.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(an,{variant:"primary",size:"sm",children:"Continue Learning"})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:l.title}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[y.jsx("span",{children:"Progress"}),y.jsxs("span",{children:[l.progress,"%"]})]}),y.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:y.jsx("div",{className:`h-2 rounded-full ${l.progress===100?"bg-primary":"bg-secondary"}`,style:{width:`${l.progress}%`}})})]}),y.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:[y.jsxs("span",{children:[l.completedLessons,"/",l.totalLessons," Lessons"]}),l.progress===100&&y.jsxs("span",{className:"text-primary flex items-center gap-1",children:[y.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]})]})]})]},l.id))})]})]})},NL=()=>{const[n,e]=F.useState(!1),[t,r]=F.useState(!0),a=Ii();return F.useEffect(()=>{const l=gh(ss,async u=>{if(u)try{const f=await Oi(sn(He,"users",u.uid));f.exists()&&f.data().role==="admin"?e(!0):a("/dashboard")}catch(f){console.error("Admin check failed",f),a("/dashboard")}else a("/login");r(!1)});return()=>l()},[a]),t?y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),y.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):n?y.jsxs("div",{className:"min-h-screen bg-background flex",children:[y.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[y.jsx("div",{className:"p-6 border-b border-gray-800",children:y.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",y.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),y.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[y.jsx(wu,{to:"/admin",end:!0,children:"Dashboard"}),y.jsx(wu,{to:"/admin/news",children:"Manage News"}),y.jsx(wu,{to:"/admin/analysis",children:"Manage Analysis"}),y.jsx(wu,{to:"/admin/courses",children:"Manage Courses"}),y.jsx(wu,{to:"/admin/profile",children:"Analyst Profile"})]}),y.jsxs("div",{className:"p-4 border-t border-gray-800",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),y.jsxs("div",{className:"text-sm",children:[y.jsx("div",{className:"text-white font-medium",children:"Administrator"}),y.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),y.jsx(an,{variant:"outline",size:"sm",className:"w-full",onClick:()=>a("/"),children:"Exit to Site"})]})]}),y.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[y.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),y.jsx(an,{size:"sm",onClick:()=>a("/"),children:"Exit"})]}),y.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:y.jsx(hR,{})})]}):null},wu=({to:n,children:e,end:t=!1})=>y.jsx(YT,{to:n,end:t,className:({isActive:r})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:e}),CL=()=>{const[n,e]=F.useState({users:0,courses:0,analysis:0,news:0}),[t,r]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const l=await Kf(rn(He,"users")),u=await Kf(rn(He,"courses")),f=await Kf(rn(He,"analysis")),m=await Kf(rn(He,"news"));e({users:l.data().count,courses:u.data().count,analysis:f.data().count,news:m.data().count})}catch(l){console.error("Error fetching stats:",l)}finally{r(!1)}})()},[]),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"System Overview"}),y.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[y.jsx(Qf,{title:"Total Users",value:t?"...":n.users,change:"Registered",color:"primary"}),y.jsx(Qf,{title:"Active Courses",value:t?"...":n.courses,change:"Live",color:"white"}),y.jsx(Qf,{title:"Analysis Posts",value:t?"...":n.analysis,change:"Market Updates",color:"secondary"}),y.jsx(Qf,{title:"News Alerts",value:t?"...":n.news,change:"Published",color:"accent"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(Vg,{label:"Post New Analysis",to:"/admin/analysis"}),y.jsx(Vg,{label:"Broadcast News Alert",to:"/admin/news"}),y.jsx(Vg,{label:"Review New User Signups",to:"#"})]})]}),y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"System Status"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ug,{label:"Database Connection",status:"Healthy"}),y.jsx(Ug,{label:"Auth Service",status:"Healthy"}),y.jsx(Ug,{label:"API Latency",status:"24ms"})]})]})]})]})},Qf=({title:n,value:e,change:t,color:r})=>{const a={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white"};return y.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-gray-800",children:[y.jsx("p",{className:"text-sm font-medium text-gray-400",children:n}),y.jsxs("div",{className:"mt-2 flex items-baseline",children:[y.jsx("p",{className:`text-3xl font-semibold ${a[r]||"text-white"}`,children:e}),y.jsx("p",{className:"ml-2 text-sm text-gray-500",children:t})]})]})},Vg=({label:n,to:e})=>y.jsxs(Pt,{to:e,className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:[y.jsx("span",{className:"text-gray-300",children:n}),y.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),Ug=({label:n,status:e})=>y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-gray-400",children:n}),y.jsxs("span",{className:"flex items-center text-primary text-sm font-medium",children:[y.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mr-2"}),e]})]});var NS=typeof global=="object"&&global&&global.Object===Object&&global,RL=typeof self=="object"&&self&&self.Object===Object&&self,Di=NS||RL||Function("return this")(),No=Di.Symbol,CS=Object.prototype,IL=CS.hasOwnProperty,OL=CS.toString,Au=No?No.toStringTag:void 0;function DL(n){var e=IL.call(n,Au),t=n[Au];try{n[Au]=void 0;var r=!0}catch{}var a=OL.call(n);return r&&(e?n[Au]=t:delete n[Au]),a}var LL=Object.prototype,kL=LL.toString;function jL(n){return kL.call(n)}var ML="[object Null]",PL="[object Undefined]",Ox=No?No.toStringTag:void 0;function Pc(n){return n==null?n===void 0?PL:ML:Ox&&Ox in Object(n)?DL(n):jL(n)}function Ea(n){return n!=null&&typeof n=="object"}var ul=Array.isArray;function ko(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function RS(n){return n}var VL="[object AsyncFunction]",UL="[object Function]",qL="[object GeneratorFunction]",BL="[object Proxy]";function W0(n){if(!ko(n))return!1;var e=Pc(n);return e==UL||e==qL||e==VL||e==BL}var qg=Di["__core-js_shared__"],Dx=(function(){var n=/[^.]+$/.exec(qg&&qg.keys&&qg.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function zL(n){return!!Dx&&Dx in n}var HL=Function.prototype,FL=HL.toString;function vl(n){if(n!=null){try{return FL.call(n)}catch{}try{return n+""}catch{}}return""}var GL=/[\\^$.*+?()[\]{}|]/g,$L=/^\[object .+?Constructor\]$/,KL=Function.prototype,QL=Object.prototype,YL=KL.toString,XL=QL.hasOwnProperty,WL=RegExp("^"+YL.call(XL).replace(GL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZL(n){if(!ko(n)||zL(n))return!1;var e=W0(n)?WL:$L;return e.test(vl(n))}function JL(n,e){return n?.[e]}function bl(n,e){var t=JL(n,e);return ZL(t)?t:void 0}var Iy=bl(Di,"WeakMap"),Lx=Object.create,ek=(function(){function n(){}return function(e){if(!ko(e))return{};if(Lx)return Lx(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function tk(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function nk(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var rk=800,sk=16,ik=Date.now;function ak(n){var e=0,t=0;return function(){var r=ik(),a=sk-(r-t);if(t=r,a>0){if(++e>=rk)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function ok(n){return function(){return n}}var Pd=(function(){try{var n=bl(Object,"defineProperty");return n({},"",{}),n}catch{}})(),lk=Pd?function(n,e){return Pd(n,"toString",{configurable:!0,enumerable:!1,value:ok(e),writable:!0})}:RS,ck=ak(lk);function uk(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var hk=9007199254740991,fk=/^(?:0|[1-9]\d*)$/;function IS(n,e){var t=typeof n;return e=e??hk,!!e&&(t=="number"||t!="symbol"&&fk.test(n))&&n>-1&&n%1==0&&n<e}function Z0(n,e,t){e=="__proto__"&&Pd?Pd(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function wh(n,e){return n===e||n!==n&&e!==e}var dk=Object.prototype,mk=dk.hasOwnProperty;function OS(n,e,t){var r=n[e];(!(mk.call(n,e)&&wh(r,t))||t===void 0&&!(e in n))&&Z0(n,e,t)}function pk(n,e,t,r){var a=!t;t||(t={});for(var l=-1,u=e.length;++l<u;){var f=e[l],m=void 0;m===void 0&&(m=n[f]),a?Z0(t,f,m):OS(t,f,m)}return t}var kx=Math.max;function gk(n,e,t){return e=kx(e===void 0?n.length-1:e,0),function(){for(var r=arguments,a=-1,l=kx(r.length-e,0),u=Array(l);++a<l;)u[a]=r[e+a];a=-1;for(var f=Array(e+1);++a<e;)f[a]=r[a];return f[e]=t(u),tk(n,this,f)}}function yk(n,e){return ck(gk(n,e,RS),n+"")}var vk=9007199254740991;function DS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=vk}function ym(n){return n!=null&&DS(n.length)&&!W0(n)}function bk(n,e,t){if(!ko(t))return!1;var r=typeof e;return(r=="number"?ym(t)&&IS(e,t.length):r=="string"&&e in t)?wh(t[e],n):!1}function _k(n){return yk(function(e,t){var r=-1,a=t.length,l=a>1?t[a-1]:void 0,u=a>2?t[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,u&&bk(t[0],t[1],u)&&(l=a<3?void 0:l,a=1),e=Object(e);++r<a;){var f=t[r];f&&n(e,f,r,l)}return e})}var Ek=Object.prototype;function J0(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Ek;return n===t}function xk(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Tk="[object Arguments]";function jx(n){return Ea(n)&&Pc(n)==Tk}var LS=Object.prototype,wk=LS.hasOwnProperty,Ak=LS.propertyIsEnumerable,Oy=jx((function(){return arguments})())?jx:function(n){return Ea(n)&&wk.call(n,"callee")&&!Ak.call(n,"callee")};function Sk(){return!1}var kS=typeof ns=="object"&&ns&&!ns.nodeType&&ns,Mx=kS&&typeof rs=="object"&&rs&&!rs.nodeType&&rs,Nk=Mx&&Mx.exports===kS,Px=Nk?Di.Buffer:void 0,Ck=Px?Px.isBuffer:void 0,nh=Ck||Sk,Rk="[object Arguments]",Ik="[object Array]",Ok="[object Boolean]",Dk="[object Date]",Lk="[object Error]",kk="[object Function]",jk="[object Map]",Mk="[object Number]",Pk="[object Object]",Vk="[object RegExp]",Uk="[object Set]",qk="[object String]",Bk="[object WeakMap]",zk="[object ArrayBuffer]",Hk="[object DataView]",Fk="[object Float32Array]",Gk="[object Float64Array]",$k="[object Int8Array]",Kk="[object Int16Array]",Qk="[object Int32Array]",Yk="[object Uint8Array]",Xk="[object Uint8ClampedArray]",Wk="[object Uint16Array]",Zk="[object Uint32Array]",Mt={};Mt[Fk]=Mt[Gk]=Mt[$k]=Mt[Kk]=Mt[Qk]=Mt[Yk]=Mt[Xk]=Mt[Wk]=Mt[Zk]=!0;Mt[Rk]=Mt[Ik]=Mt[zk]=Mt[Ok]=Mt[Hk]=Mt[Dk]=Mt[Lk]=Mt[kk]=Mt[jk]=Mt[Mk]=Mt[Pk]=Mt[Vk]=Mt[Uk]=Mt[qk]=Mt[Bk]=!1;function Jk(n){return Ea(n)&&DS(n.length)&&!!Mt[Pc(n)]}function ev(n){return function(e){return n(e)}}var jS=typeof ns=="object"&&ns&&!ns.nodeType&&ns,zu=jS&&typeof rs=="object"&&rs&&!rs.nodeType&&rs,ej=zu&&zu.exports===jS,Bg=ej&&NS.process,Ac=(function(){try{var n=zu&&zu.require&&zu.require("util").types;return n||Bg&&Bg.binding&&Bg.binding("util")}catch{}})(),Vx=Ac&&Ac.isTypedArray,tv=Vx?ev(Vx):Jk,tj=Object.prototype,nj=tj.hasOwnProperty;function MS(n,e){var t=ul(n),r=!t&&Oy(n),a=!t&&!r&&nh(n),l=!t&&!r&&!a&&tv(n),u=t||r||a||l,f=u?xk(n.length,String):[],m=f.length;for(var p in n)(e||nj.call(n,p))&&!(u&&(p=="length"||a&&(p=="offset"||p=="parent")||l&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||IS(p,m)))&&f.push(p);return f}function PS(n,e){return function(t){return n(e(t))}}var rj=PS(Object.keys,Object),sj=Object.prototype,ij=sj.hasOwnProperty;function aj(n){if(!J0(n))return rj(n);var e=[];for(var t in Object(n))ij.call(n,t)&&t!="constructor"&&e.push(t);return e}function oj(n){return ym(n)?MS(n):aj(n)}function lj(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var cj=Object.prototype,uj=cj.hasOwnProperty;function hj(n){if(!ko(n))return lj(n);var e=J0(n),t=[];for(var r in n)r=="constructor"&&(e||!uj.call(n,r))||t.push(r);return t}function VS(n){return ym(n)?MS(n,!0):hj(n)}var rh=bl(Object,"create");function fj(){this.__data__=rh?rh(null):{},this.size=0}function dj(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var mj="__lodash_hash_undefined__",pj=Object.prototype,gj=pj.hasOwnProperty;function yj(n){var e=this.__data__;if(rh){var t=e[n];return t===mj?void 0:t}return gj.call(e,n)?e[n]:void 0}var vj=Object.prototype,bj=vj.hasOwnProperty;function _j(n){var e=this.__data__;return rh?e[n]!==void 0:bj.call(e,n)}var Ej="__lodash_hash_undefined__";function xj(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=rh&&e===void 0?Ej:e,this}function hl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}hl.prototype.clear=fj;hl.prototype.delete=dj;hl.prototype.get=yj;hl.prototype.has=_j;hl.prototype.set=xj;function Tj(){this.__data__=[],this.size=0}function vm(n,e){for(var t=n.length;t--;)if(wh(n[t][0],e))return t;return-1}var wj=Array.prototype,Aj=wj.splice;function Sj(n){var e=this.__data__,t=vm(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Aj.call(e,t,1),--this.size,!0}function Nj(n){var e=this.__data__,t=vm(e,n);return t<0?void 0:e[t][1]}function Cj(n){return vm(this.__data__,n)>-1}function Rj(n,e){var t=this.__data__,r=vm(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Na(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Na.prototype.clear=Tj;Na.prototype.delete=Sj;Na.prototype.get=Nj;Na.prototype.has=Cj;Na.prototype.set=Rj;var sh=bl(Di,"Map");function Ij(){this.size=0,this.__data__={hash:new hl,map:new(sh||Na),string:new hl}}function Oj(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function bm(n,e){var t=n.__data__;return Oj(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Dj(n){var e=bm(this,n).delete(n);return this.size-=e?1:0,e}function Lj(n){return bm(this,n).get(n)}function kj(n){return bm(this,n).has(n)}function jj(n,e){var t=bm(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function _l(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_l.prototype.clear=Ij;_l.prototype.delete=Dj;_l.prototype.get=Lj;_l.prototype.has=kj;_l.prototype.set=jj;function Mj(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}var US=PS(Object.getPrototypeOf,Object),Pj="[object Object]",Vj=Function.prototype,Uj=Object.prototype,qS=Vj.toString,qj=Uj.hasOwnProperty,Bj=qS.call(Object);function zj(n){if(!Ea(n)||Pc(n)!=Pj)return!1;var e=US(n);if(e===null)return!0;var t=qj.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&qS.call(t)==Bj}function Hj(){this.__data__=new Na,this.size=0}function Fj(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Gj(n){return this.__data__.get(n)}function $j(n){return this.__data__.has(n)}var Kj=200;function Qj(n,e){var t=this.__data__;if(t instanceof Na){var r=t.__data__;if(!sh||r.length<Kj-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new _l(r)}return t.set(n,e),this.size=t.size,this}function Ni(n){var e=this.__data__=new Na(n);this.size=e.size}Ni.prototype.clear=Hj;Ni.prototype.delete=Fj;Ni.prototype.get=Gj;Ni.prototype.has=$j;Ni.prototype.set=Qj;var BS=typeof ns=="object"&&ns&&!ns.nodeType&&ns,Ux=BS&&typeof rs=="object"&&rs&&!rs.nodeType&&rs,Yj=Ux&&Ux.exports===BS,qx=Yj?Di.Buffer:void 0,Bx=qx?qx.allocUnsafe:void 0;function zS(n,e){if(e)return n.slice();var t=n.length,r=Bx?Bx(t):new n.constructor(t);return n.copy(r),r}function Xj(n,e){for(var t=-1,r=n==null?0:n.length,a=0,l=[];++t<r;){var u=n[t];e(u,t,n)&&(l[a++]=u)}return l}function Wj(){return[]}var Zj=Object.prototype,Jj=Zj.propertyIsEnumerable,zx=Object.getOwnPropertySymbols,eM=zx?function(n){return n==null?[]:(n=Object(n),Xj(zx(n),function(e){return Jj.call(n,e)}))}:Wj;function tM(n,e,t){var r=e(n);return ul(n)?r:Mj(r,t(n))}function Dy(n){return tM(n,oj,eM)}var Ly=bl(Di,"DataView"),ky=bl(Di,"Promise"),jy=bl(Di,"Set"),Hx="[object Map]",nM="[object Object]",Fx="[object Promise]",Gx="[object Set]",$x="[object WeakMap]",Kx="[object DataView]",rM=vl(Ly),sM=vl(sh),iM=vl(ky),aM=vl(jy),oM=vl(Iy),Qs=Pc;(Ly&&Qs(new Ly(new ArrayBuffer(1)))!=Kx||sh&&Qs(new sh)!=Hx||ky&&Qs(ky.resolve())!=Fx||jy&&Qs(new jy)!=Gx||Iy&&Qs(new Iy)!=$x)&&(Qs=function(n){var e=Pc(n),t=e==nM?n.constructor:void 0,r=t?vl(t):"";if(r)switch(r){case rM:return Kx;case sM:return Hx;case iM:return Fx;case aM:return Gx;case oM:return $x}return e});var lM=Object.prototype,cM=lM.hasOwnProperty;function uM(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&cM.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Vd=Di.Uint8Array;function nv(n){var e=new n.constructor(n.byteLength);return new Vd(e).set(new Vd(n)),e}function hM(n,e){var t=nv(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var fM=/\w*$/;function dM(n){var e=new n.constructor(n.source,fM.exec(n));return e.lastIndex=n.lastIndex,e}var Qx=No?No.prototype:void 0,Yx=Qx?Qx.valueOf:void 0;function mM(n){return Yx?Object(Yx.call(n)):{}}function HS(n,e){var t=e?nv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var pM="[object Boolean]",gM="[object Date]",yM="[object Map]",vM="[object Number]",bM="[object RegExp]",_M="[object Set]",EM="[object String]",xM="[object Symbol]",TM="[object ArrayBuffer]",wM="[object DataView]",AM="[object Float32Array]",SM="[object Float64Array]",NM="[object Int8Array]",CM="[object Int16Array]",RM="[object Int32Array]",IM="[object Uint8Array]",OM="[object Uint8ClampedArray]",DM="[object Uint16Array]",LM="[object Uint32Array]";function kM(n,e,t){var r=n.constructor;switch(e){case TM:return nv(n);case pM:case gM:return new r(+n);case wM:return hM(n);case AM:case SM:case NM:case CM:case RM:case IM:case OM:case DM:case LM:return HS(n,t);case yM:return new r;case vM:case EM:return new r(n);case bM:return dM(n);case _M:return new r;case xM:return mM(n)}}function FS(n){return typeof n.constructor=="function"&&!J0(n)?ek(US(n)):{}}var jM="[object Map]";function MM(n){return Ea(n)&&Qs(n)==jM}var Xx=Ac&&Ac.isMap,PM=Xx?ev(Xx):MM,VM="[object Set]";function UM(n){return Ea(n)&&Qs(n)==VM}var Wx=Ac&&Ac.isSet,qM=Wx?ev(Wx):UM,BM=1,GS="[object Arguments]",zM="[object Array]",HM="[object Boolean]",FM="[object Date]",GM="[object Error]",$S="[object Function]",$M="[object GeneratorFunction]",KM="[object Map]",QM="[object Number]",KS="[object Object]",YM="[object RegExp]",XM="[object Set]",WM="[object String]",ZM="[object Symbol]",JM="[object WeakMap]",e9="[object ArrayBuffer]",t9="[object DataView]",n9="[object Float32Array]",r9="[object Float64Array]",s9="[object Int8Array]",i9="[object Int16Array]",a9="[object Int32Array]",o9="[object Uint8Array]",l9="[object Uint8ClampedArray]",c9="[object Uint16Array]",u9="[object Uint32Array]",Rt={};Rt[GS]=Rt[zM]=Rt[e9]=Rt[t9]=Rt[HM]=Rt[FM]=Rt[n9]=Rt[r9]=Rt[s9]=Rt[i9]=Rt[a9]=Rt[KM]=Rt[QM]=Rt[KS]=Rt[YM]=Rt[XM]=Rt[WM]=Rt[ZM]=Rt[o9]=Rt[l9]=Rt[c9]=Rt[u9]=!0;Rt[GM]=Rt[$S]=Rt[JM]=!1;function yd(n,e,t,r,a,l){var u,f=e&BM;if(u!==void 0)return u;if(!ko(n))return n;var m=ul(n);if(m)u=uM(n);else{var p=Qs(n),v=p==$S||p==$M;if(nh(n))return zS(n,f);if(p==KS||p==GS||v&&!a)u=v?{}:FS(n);else{if(!Rt[p])return a?n:{};u=kM(n,p,f)}}l||(l=new Ni);var E=l.get(n);if(E)return E;l.set(n,u),qM(n)?n.forEach(function(I){u.add(yd(I,e,t,I,n,l))}):PM(n)&&n.forEach(function(I,j){u.set(j,yd(I,e,t,j,n,l))});var x=Dy,S=m?void 0:x(n);return uk(S||n,function(I,j){S&&(j=I,I=n[j]),OS(u,j,yd(I,e,t,j,n,l))}),u}var h9=1,f9=4;function mc(n){return yd(n,h9|f9)}var d9="__lodash_hash_undefined__";function m9(n){return this.__data__.set(n,d9),this}function p9(n){return this.__data__.has(n)}function Ud(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new _l;++e<t;)this.add(n[e])}Ud.prototype.add=Ud.prototype.push=m9;Ud.prototype.has=p9;function g9(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function y9(n,e){return n.has(e)}var v9=1,b9=2;function QS(n,e,t,r,a,l){var u=t&v9,f=n.length,m=e.length;if(f!=m&&!(u&&m>f))return!1;var p=l.get(n),v=l.get(e);if(p&&v)return p==e&&v==n;var E=-1,x=!0,S=t&b9?new Ud:void 0;for(l.set(n,e),l.set(e,n);++E<f;){var I=n[E],j=e[E];if(r)var O=u?r(j,I,E,e,n,l):r(I,j,E,n,e,l);if(O!==void 0){if(O)continue;x=!1;break}if(S){if(!g9(e,function(z,H){if(!y9(S,H)&&(I===z||a(I,z,t,r,l)))return S.push(H)})){x=!1;break}}else if(!(I===j||a(I,j,t,r,l))){x=!1;break}}return l.delete(n),l.delete(e),x}function _9(n){var e=-1,t=Array(n.size);return n.forEach(function(r,a){t[++e]=[a,r]}),t}function E9(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var x9=1,T9=2,w9="[object Boolean]",A9="[object Date]",S9="[object Error]",N9="[object Map]",C9="[object Number]",R9="[object RegExp]",I9="[object Set]",O9="[object String]",D9="[object Symbol]",L9="[object ArrayBuffer]",k9="[object DataView]",Zx=No?No.prototype:void 0,zg=Zx?Zx.valueOf:void 0;function j9(n,e,t,r,a,l,u){switch(t){case k9:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case L9:return!(n.byteLength!=e.byteLength||!l(new Vd(n),new Vd(e)));case w9:case A9:case C9:return wh(+n,+e);case S9:return n.name==e.name&&n.message==e.message;case R9:case O9:return n==e+"";case N9:var f=_9;case I9:var m=r&x9;if(f||(f=E9),n.size!=e.size&&!m)return!1;var p=u.get(n);if(p)return p==e;r|=T9,u.set(n,e);var v=QS(f(n),f(e),r,a,l,u);return u.delete(n),v;case D9:if(zg)return zg.call(n)==zg.call(e)}return!1}var M9=1,P9=Object.prototype,V9=P9.hasOwnProperty;function U9(n,e,t,r,a,l){var u=t&M9,f=Dy(n),m=f.length,p=Dy(e),v=p.length;if(m!=v&&!u)return!1;for(var E=m;E--;){var x=f[E];if(!(u?x in e:V9.call(e,x)))return!1}var S=l.get(n),I=l.get(e);if(S&&I)return S==e&&I==n;var j=!0;l.set(n,e),l.set(e,n);for(var O=u;++E<m;){x=f[E];var z=n[x],H=e[x];if(r)var W=u?r(H,z,x,e,n,l):r(z,H,x,n,e,l);if(!(W===void 0?z===H||a(z,H,t,r,l):W)){j=!1;break}O||(O=x=="constructor")}if(j&&!O){var ye=n.constructor,ve=e.constructor;ye!=ve&&"constructor"in n&&"constructor"in e&&!(typeof ye=="function"&&ye instanceof ye&&typeof ve=="function"&&ve instanceof ve)&&(j=!1)}return l.delete(n),l.delete(e),j}var q9=1,Jx="[object Arguments]",eT="[object Array]",Yf="[object Object]",B9=Object.prototype,tT=B9.hasOwnProperty;function z9(n,e,t,r,a,l){var u=ul(n),f=ul(e),m=u?eT:Qs(n),p=f?eT:Qs(e);m=m==Jx?Yf:m,p=p==Jx?Yf:p;var v=m==Yf,E=p==Yf,x=m==p;if(x&&nh(n)){if(!nh(e))return!1;u=!0,v=!1}if(x&&!v)return l||(l=new Ni),u||tv(n)?QS(n,e,t,r,a,l):j9(n,e,m,t,r,a,l);if(!(t&q9)){var S=v&&tT.call(n,"__wrapped__"),I=E&&tT.call(e,"__wrapped__");if(S||I){var j=S?n.value():n,O=I?e.value():e;return l||(l=new Ni),a(j,O,t,r,l)}}return x?(l||(l=new Ni),U9(n,e,t,r,a,l)):!1}function YS(n,e,t,r,a){return n===e?!0:n==null||e==null||!Ea(n)&&!Ea(e)?n!==n&&e!==e:z9(n,e,t,r,YS,a)}function H9(n){return function(e,t,r){for(var a=-1,l=Object(e),u=r(e),f=u.length;f--;){var m=u[++a];if(t(l[m],m,l)===!1)break}return e}}var F9=H9();function My(n,e,t){(t!==void 0&&!wh(n[e],t)||t===void 0&&!(e in n))&&Z0(n,e,t)}function G9(n){return Ea(n)&&ym(n)}function Py(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function $9(n){return pk(n,VS(n))}function K9(n,e,t,r,a,l,u){var f=Py(n,t),m=Py(e,t),p=u.get(m);if(p){My(n,t,p);return}var v=l?l(f,m,t+"",n,e,u):void 0,E=v===void 0;if(E){var x=ul(m),S=!x&&nh(m),I=!x&&!S&&tv(m);v=m,x||S||I?ul(f)?v=f:G9(f)?v=nk(f):S?(E=!1,v=zS(m,!0)):I?(E=!1,v=HS(m,!0)):v=[]:zj(m)||Oy(m)?(v=f,Oy(f)?v=$9(f):(!ko(f)||W0(f))&&(v=FS(m))):E=!1}E&&(u.set(m,v),a(v,m,r,l,u),u.delete(m)),My(n,t,v)}function XS(n,e,t,r,a){n!==e&&F9(e,function(l,u){if(a||(a=new Ni),ko(l))K9(n,e,u,t,XS,r,a);else{var f=r?r(Py(n,u),l,u+"",n,e,a):void 0;f===void 0&&(f=l),My(n,u,f)}},VS)}function co(n,e){return YS(n,e)}var bo=_k(function(n,e,t){XS(n,e,t)}),Oe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Oe||{});class Ri{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const a=Oe.TYPE&Oe.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Oe.LEVEL|a:Oe.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class pc extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const WS=class Vy{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const a=this.query(t);if(a==null)throw new pc(`Unable to create ${t} blot`);const l=a,u=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:l.create(r),f=new l(e,u,r);return Vy.blots.set(f.domNode,f),f}find(e,t=!1){return Vy.find(e,t)}query(e,t=Oe.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Oe.LEVEL&Oe.BLOCK?r=this.types.block:e&Oe.LEVEL&Oe.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(r=this.classes[a],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Oe.LEVEL&r.scope&&t&Oe.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,a="attrName"in t;if(!r&&!a)throw new pc("Invalid definition");if(r&&t.blotName==="abstract")throw new pc("Cannot register abstract class");const l=r?t.blotName:a?t.attrName:void 0;return this.types[l]=t,a?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(u=>u.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(u=>{(this.tags[u]==null||t.className==null)&&(this.tags[u]=t)}))),t})}};WS.blots=new WeakMap;let Sc=WS;function nT(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class Q9 extends Ri{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){nT(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(nT(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ni=Q9;function Hg(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class Y9 extends Ri{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Hg(this.keyName)]=t,!0):!1}remove(e){e.style[Hg(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Hg(this.keyName)];return this.canAdd(e,t)?t:""}}const jo=Y9;class X9{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Sc.find(this.domNode);if(e==null)return;const t=Ri.keys(this.domNode),r=ni.keys(this.domNode),a=jo.keys(this.domNode);t.concat(r).concat(a).forEach(l=>{const u=e.scroll.query(l,Oe.ATTRIBUTE);u instanceof Ri&&(this.attributes[u.attrName]=u)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const _m=X9,ZS=class{constructor(e,t){this.scroll=e,this.domNode=t,Sc.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new pc("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Sc.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,a){const l=this.isolate(e,t);if(this.scroll.query(r,Oe.BLOT)!=null&&a)l.wrap(r,a);else if(this.scroll.query(r,Oe.ATTRIBUTE)!=null){const u=this.scroll.create(this.statics.scope);l.wrap(u),u.format(r,a)}}insertAt(e,t,r){const a=r==null?this.scroll.create("text",t):this.scroll.create(t,r),l=this.split(e);this.parent.insertBefore(a,l||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new pc(`Cannot wrap ${e}`);return r.appendChild(this),r}};ZS.blotName="abstract";let JS=ZS;const e2=class extends JS{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};e2.scope=Oe.INLINE_BLOT;let W9=e2;const or=W9;class Z9{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),a=0;for(;r;){if(r===e)return a;a+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let a=r();for(;a;){const l=a.length();if(e<l||t&&e===l&&(a.next==null||a.next.length()!==0))return[a,e];e-=l,a=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[a,l]=this.find(e);let u=e-l;const f=this.iterator(a);let m=f();for(;m&&u<e+t;){const p=m.length();e>u?r(m,e-u,Math.min(t,u+p-e)):r(m,0,Math.min(p,e+t-u)),u+=p,m=f()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let a=r();for(;a;)t=e(t,a),a=r();return t}}function rT(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Oe.INLINE);return Array.from(n.childNodes).forEach(a=>{r.domNode.appendChild(a)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const t2=class so extends JS{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,so.uiClass&&this.uiNode.classList.add(so.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Z9,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=rT(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof pc)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,a,l)=>{r.deleteAt(a,l)})}descendant(e,t=0){const[r,a]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,a]:r instanceof so?r.descendant(e,a):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let a=[],l=r;return this.children.forEachAt(t,r,(u,f,m)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&a.push(u),u instanceof so&&(a=a.concat(u.descendants(e,f,l))),l-=m}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Oe.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof so?t.unwrap():t.remove())})}formatAt(e,t,r,a){this.children.forEachAt(e,t,(l,u,f)=>{l.formatAt(u,f,r,a)})}insertAt(e,t,r){const[a,l]=this.children.find(e);if(a)a.insertAt(l,t,r);else{const u=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(u)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,a]=this.children.find(e,t),l=[[this,e]];return r instanceof so?l.concat(r.path(a,t)):(r!=null&&l.push([r,a]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof so&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(a,l,u)=>{const f=a.split(l,t);f!=null&&r.appendChild(f)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],a=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(r.push(...l.addedNodes),a.push(...l.removedNodes))}),a.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(l);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),r.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,u)=>l===u?0:l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let u=null;l.nextSibling!=null&&(u=this.scroll.find(l.nextSibling));const f=rT(l,this.scroll);(f.next!==u||f.next==null)&&(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,u||void 0))}),this.enforceAllowedChildren()}};t2.uiClass="";let J9=t2;const Js=J9;function e8(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const sc=class ic extends Js{static create(e){return super.create(e)}static formats(e,t){const r=t.query(ic.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new _m(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof ic||(r=r.wrap(ic.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Oe.INLINE);if(r==null)return;r instanceof Ri?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.formats()[r]!=null||this.scroll.query(r,Oe.ATTRIBUTE)?this.isolate(e,t).format(r,a):super.formatAt(e,t,r,a)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof ic&&r.prev===this&&e8(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof ic&&this.attributes.move(r),r}};sc.allowedChildren=[sc,or],sc.blotName="inline",sc.scope=Oe.INLINE_BLOT,sc.tagName="SPAN";let t8=sc;const rv=t8,ac=class Uy extends Js{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Uy.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new _m(this.domNode)}format(e,t){const r=this.scroll.query(e,Oe.BLOCK);r!=null&&(r instanceof Ri?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(Uy.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.scroll.query(r,Oe.BLOCK)!=null?this.format(r,a):super.formatAt(e,t,r,a)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Oe.INLINE)!=null)super.insertAt(e,t,r);else{const a=this.split(e);if(a!=null){const l=this.scroll.create(t,r);a.parent.insertBefore(l,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};ac.blotName="block",ac.scope=Oe.BLOCK_BLOT,ac.tagName="P",ac.allowedChildren=[rv,ac,or];let n8=ac;const ih=n8,qy=class extends Js{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};qy.blotName="container",qy.scope=Oe.BLOCK_BLOT;let r8=qy;const Em=r8;class s8 extends or{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,a){e===0&&t===this.length()?this.format(r,a):super.formatAt(e,t,r,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const as=s8,i8={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a8=100,oc=class extends Js{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,i8),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Oe.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,a){this.update(),super.formatAt(e,t,r,a)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const l=(m,p=!0)=>{m==null||m===this||m.domNode.parentNode!=null&&(r.has(m.domNode)||r.set(m.domNode,[]),p&&l(m.parent))},u=m=>{r.has(m.domNode)&&(m instanceof Js&&m.children.forEach(u),r.delete(m.domNode),m.optimize(t))};let f=e;for(let m=0;f.length>0;m+=1){if(m>=a8)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(p=>{const v=this.find(p.target,!0);v!=null&&(v.domNode===p.target&&(p.type==="childList"?(l(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(E=>{const x=this.find(E,!1);l(x,!1),x instanceof Js&&x.children.forEach(S=>{l(S,!1)})})):p.type==="attributes"&&l(v.prev)),l(v))}),this.children.forEach(u),f=Array.from(this.observer.takeRecords()),a=f.slice();a.length>0;)e.push(a.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(a=>{const l=this.find(a.target,!0);return l==null?null:r.has(l.domNode)?(r.get(l.domNode).push(a),null):(r.set(l.domNode,[a]),l)}).forEach(a=>{a!=null&&a!==this&&r.has(a.domNode)&&a.update(r.get(a.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};oc.blotName="scroll",oc.defaultChild=ih,oc.allowedChildren=[ih,Em],oc.scope=Oe.BLOCK_BLOT,oc.tagName="DIV";let o8=oc;const sv=o8,By=class n2 extends or{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof n2&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};By.blotName="text",By.scope=Oe.INLINE_BLOT;let l8=By;const qd=l8,c8=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ri,AttributorStore:_m,BlockBlot:ih,ClassAttributor:ni,ContainerBlot:Em,EmbedBlot:as,InlineBlot:rv,LeafBlot:or,ParentBlot:Js,Registry:Sc,Scope:Oe,ScrollBlot:sv,StyleAttributor:jo,TextBlot:qd},Symbol.toStringTag,{value:"Module"}));var Xf={exports:{}},Fg,sT;function u8(){if(sT)return Fg;sT=1;var n=-1,e=1,t=0;function r(A,L,N,me,de){if(A===L)return A?[[t,A]]:[];if(N!=null){var B=P(A,L,N);if(B)return B}var J=f(A,L),le=A.substring(0,J);A=A.substring(J),L=L.substring(J),J=p(A,L);var be=A.substring(A.length-J);A=A.substring(0,A.length-J),L=L.substring(0,L.length-J);var ge=a(A,L);return le&&ge.unshift([t,le]),be&&ge.push([t,be]),H(ge,de),me&&E(ge),ge}function a(A,L){var N;if(!A)return[[e,L]];if(!L)return[[n,A]];var me=A.length>L.length?A:L,de=A.length>L.length?L:A,B=me.indexOf(de);if(B!==-1)return N=[[e,me.substring(0,B)],[t,de],[e,me.substring(B+de.length)]],A.length>L.length&&(N[0][0]=N[2][0]=n),N;if(de.length===1)return[[n,A],[e,L]];var J=v(A,L);if(J){var le=J[0],be=J[1],ge=J[2],V=J[3],Y=J[4],ue=r(le,ge),fe=r(be,V);return ue.concat([[t,Y]],fe)}return l(A,L)}function l(A,L){for(var N=A.length,me=L.length,de=Math.ceil((N+me)/2),B=de,J=2*de,le=new Array(J),be=new Array(J),ge=0;ge<J;ge++)le[ge]=-1,be[ge]=-1;le[B+1]=0,be[B+1]=0;for(var V=N-me,Y=V%2!==0,ue=0,fe=0,pe=0,we=0,De=0;De<de;De++){for(var Ie=-De+ue;Ie<=De-fe;Ie+=2){var Le=B+Ie,Qe;Ie===-De||Ie!==De&&le[Le-1]<le[Le+1]?Qe=le[Le+1]:Qe=le[Le-1]+1;for(var We=Qe-Ie;Qe<N&&We<me&&A.charAt(Qe)===L.charAt(We);)Qe++,We++;if(le[Le]=Qe,Qe>N)fe+=2;else if(We>me)ue+=2;else if(Y){var tt=B+V-Ie;if(tt>=0&&tt<J&&be[tt]!==-1){var ot=N-be[tt];if(Qe>=ot)return u(A,L,Qe,We)}}}for(var dt=-De+pe;dt<=De-we;dt+=2){var tt=B+dt,ot;dt===-De||dt!==De&&be[tt-1]<be[tt+1]?ot=be[tt+1]:ot=be[tt-1]+1;for(var Wt=ot-dt;ot<N&&Wt<me&&A.charAt(N-ot-1)===L.charAt(me-Wt-1);)ot++,Wt++;if(be[tt]=ot,ot>N)we+=2;else if(Wt>me)pe+=2;else if(!Y){var Le=B+V-dt;if(Le>=0&&Le<J&&le[Le]!==-1){var Qe=le[Le],We=B+Qe-Le;if(ot=N-ot,Qe>=ot)return u(A,L,Qe,We)}}}}return[[n,A],[e,L]]}function u(A,L,N,me){var de=A.substring(0,N),B=L.substring(0,me),J=A.substring(N),le=L.substring(me),be=r(de,B),ge=r(J,le);return be.concat(ge)}function f(A,L){if(!A||!L||A.charAt(0)!==L.charAt(0))return 0;for(var N=0,me=Math.min(A.length,L.length),de=me,B=0;N<de;)A.substring(B,de)==L.substring(B,de)?(N=de,B=N):me=de,de=Math.floor((me-N)/2+N);return W(A.charCodeAt(de-1))&&de--,de}function m(A,L){var N=A.length,me=L.length;if(N==0||me==0)return 0;N>me?A=A.substring(N-me):N<me&&(L=L.substring(0,N));var de=Math.min(N,me);if(A==L)return de;for(var B=0,J=1;;){var le=A.substring(de-J),be=L.indexOf(le);if(be==-1)return B;J+=be,(be==0||A.substring(de-J)==L.substring(0,J))&&(B=J,J++)}}function p(A,L){if(!A||!L||A.slice(-1)!==L.slice(-1))return 0;for(var N=0,me=Math.min(A.length,L.length),de=me,B=0;N<de;)A.substring(A.length-de,A.length-B)==L.substring(L.length-de,L.length-B)?(N=de,B=N):me=de,de=Math.floor((me-N)/2+N);return ye(A.charCodeAt(A.length-de))&&de--,de}function v(A,L){var N=A.length>L.length?A:L,me=A.length>L.length?L:A;if(N.length<4||me.length*2<N.length)return null;function de(fe,pe,we){for(var De=fe.substring(we,we+Math.floor(fe.length/4)),Ie=-1,Le="",Qe,We,tt,ot;(Ie=pe.indexOf(De,Ie+1))!==-1;){var dt=f(fe.substring(we),pe.substring(Ie)),Wt=p(fe.substring(0,we),pe.substring(0,Ie));Le.length<Wt+dt&&(Le=pe.substring(Ie-Wt,Ie)+pe.substring(Ie,Ie+dt),Qe=fe.substring(0,we-Wt),We=fe.substring(we+dt),tt=pe.substring(0,Ie-Wt),ot=pe.substring(Ie+dt))}return Le.length*2>=fe.length?[Qe,We,tt,ot,Le]:null}var B=de(N,me,Math.ceil(N.length/4)),J=de(N,me,Math.ceil(N.length/2)),le;if(!B&&!J)return null;J?B?le=B[4].length>J[4].length?B:J:le=J:le=B;var be,ge,V,Y;A.length>L.length?(be=le[0],ge=le[1],V=le[2],Y=le[3]):(V=le[0],Y=le[1],be=le[2],ge=le[3]);var ue=le[4];return[be,ge,V,Y,ue]}function E(A){for(var L=!1,N=[],me=0,de=null,B=0,J=0,le=0,be=0,ge=0;B<A.length;)A[B][0]==t?(N[me++]=B,J=be,le=ge,be=0,ge=0,de=A[B][1]):(A[B][0]==e?be+=A[B][1].length:ge+=A[B][1].length,de&&de.length<=Math.max(J,le)&&de.length<=Math.max(be,ge)&&(A.splice(N[me-1],0,[n,de]),A[N[me-1]+1][0]=e,me--,me--,B=me>0?N[me-1]:-1,J=0,le=0,be=0,ge=0,de=null,L=!0)),B++;for(L&&H(A),z(A),B=1;B<A.length;){if(A[B-1][0]==n&&A[B][0]==e){var V=A[B-1][1],Y=A[B][1],ue=m(V,Y),fe=m(Y,V);ue>=fe?(ue>=V.length/2||ue>=Y.length/2)&&(A.splice(B,0,[t,Y.substring(0,ue)]),A[B-1][1]=V.substring(0,V.length-ue),A[B+1][1]=Y.substring(ue),B++):(fe>=V.length/2||fe>=Y.length/2)&&(A.splice(B,0,[t,V.substring(0,fe)]),A[B-1][0]=e,A[B-1][1]=Y.substring(0,Y.length-fe),A[B+1][0]=n,A[B+1][1]=V.substring(fe),B++),B++}B++}}var x=/[^a-zA-Z0-9]/,S=/\s/,I=/[\r\n]/,j=/\n\r?\n$/,O=/^\r?\n\r?\n/;function z(A){function L(fe,pe){if(!fe||!pe)return 6;var we=fe.charAt(fe.length-1),De=pe.charAt(0),Ie=we.match(x),Le=De.match(x),Qe=Ie&&we.match(S),We=Le&&De.match(S),tt=Qe&&we.match(I),ot=We&&De.match(I),dt=tt&&fe.match(j),Wt=ot&&pe.match(O);return dt||Wt?5:tt||ot?4:Ie&&!Qe&&We?3:Qe||We?2:Ie||Le?1:0}for(var N=1;N<A.length-1;){if(A[N-1][0]==t&&A[N+1][0]==t){var me=A[N-1][1],de=A[N][1],B=A[N+1][1],J=p(me,de);if(J){var le=de.substring(de.length-J);me=me.substring(0,me.length-J),de=le+de.substring(0,de.length-J),B=le+B}for(var be=me,ge=de,V=B,Y=L(me,de)+L(de,B);de.charAt(0)===B.charAt(0);){me+=de.charAt(0),de=de.substring(1)+B.charAt(0),B=B.substring(1);var ue=L(me,de)+L(de,B);ue>=Y&&(Y=ue,be=me,ge=de,V=B)}A[N-1][1]!=be&&(be?A[N-1][1]=be:(A.splice(N-1,1),N--),A[N][1]=ge,V?A[N+1][1]=V:(A.splice(N+1,1),N--))}N++}}function H(A,L){A.push([t,""]);for(var N=0,me=0,de=0,B="",J="",le;N<A.length;){if(N<A.length-1&&!A[N][1]){A.splice(N,1);continue}switch(A[N][0]){case e:de++,J+=A[N][1],N++;break;case n:me++,B+=A[N][1],N++;break;case t:var be=N-de-me-1;if(L){if(be>=0&&Ee(A[be][1])){var ge=A[be][1].slice(-1);if(A[be][1]=A[be][1].slice(0,-1),B=ge+B,J=ge+J,!A[be][1]){A.splice(be,1),N--;var V=be-1;A[V]&&A[V][0]===e&&(de++,J=A[V][1]+J,V--),A[V]&&A[V][0]===n&&(me++,B=A[V][1]+B,V--),be=V}}if(ve(A[N][1])){var ge=A[N][1].charAt(0);A[N][1]=A[N][1].slice(1),B+=ge,J+=ge}}if(N<A.length-1&&!A[N][1]){A.splice(N,1);break}if(B.length>0||J.length>0){B.length>0&&J.length>0&&(le=f(J,B),le!==0&&(be>=0?A[be][1]+=J.substring(0,le):(A.splice(0,0,[t,J.substring(0,le)]),N++),J=J.substring(le),B=B.substring(le)),le=p(J,B),le!==0&&(A[N][1]=J.substring(J.length-le)+A[N][1],J=J.substring(0,J.length-le),B=B.substring(0,B.length-le)));var Y=de+me;B.length===0&&J.length===0?(A.splice(N-Y,Y),N=N-Y):B.length===0?(A.splice(N-Y,Y,[e,J]),N=N-Y+1):J.length===0?(A.splice(N-Y,Y,[n,B]),N=N-Y+1):(A.splice(N-Y,Y,[n,B],[e,J]),N=N-Y+2)}N!==0&&A[N-1][0]===t?(A[N-1][1]+=A[N][1],A.splice(N,1)):N++,de=0,me=0,B="",J="";break}}A[A.length-1][1]===""&&A.pop();var ue=!1;for(N=1;N<A.length-1;)A[N-1][0]===t&&A[N+1][0]===t&&(A[N][1].substring(A[N][1].length-A[N-1][1].length)===A[N-1][1]?(A[N][1]=A[N-1][1]+A[N][1].substring(0,A[N][1].length-A[N-1][1].length),A[N+1][1]=A[N-1][1]+A[N+1][1],A.splice(N-1,1),ue=!0):A[N][1].substring(0,A[N+1][1].length)==A[N+1][1]&&(A[N-1][1]+=A[N+1][1],A[N][1]=A[N][1].substring(A[N+1][1].length)+A[N+1][1],A.splice(N+1,1),ue=!0)),N++;ue&&H(A,L)}function W(A){return A>=55296&&A<=56319}function ye(A){return A>=56320&&A<=57343}function ve(A){return ye(A.charCodeAt(0))}function Ee(A){return W(A.charCodeAt(A.length-1))}function M(A){for(var L=[],N=0;N<A.length;N++)A[N][1].length>0&&L.push(A[N]);return L}function k(A,L,N,me){return Ee(A)||ve(me)?null:M([[t,A],[n,L],[e,N],[t,me]])}function P(A,L,N){var me=typeof N=="number"?{index:N,length:0}:N.oldRange,de=typeof N=="number"?null:N.newRange,B=A.length,J=L.length;if(me.length===0&&(de===null||de.length===0)){var le=me.index,be=A.slice(0,le),ge=A.slice(le),V=de?de.index:null;e:{var Y=le+J-B;if(V!==null&&V!==Y||Y<0||Y>J)break e;var ue=L.slice(0,Y),fe=L.slice(Y);if(fe!==ge)break e;var pe=Math.min(le,Y),we=be.slice(0,pe),De=ue.slice(0,pe);if(we!==De)break e;var Ie=be.slice(pe),Le=ue.slice(pe);return k(we,Ie,Le,ge)}e:{if(V!==null&&V!==le)break e;var Qe=le,ue=L.slice(0,Qe),fe=L.slice(Qe);if(ue!==be)break e;var We=Math.min(B-Qe,J-Qe),tt=ge.slice(ge.length-We),ot=fe.slice(fe.length-We);if(tt!==ot)break e;var Ie=ge.slice(0,ge.length-We),Le=fe.slice(0,fe.length-We);return k(be,Ie,Le,tt)}}if(me.length>0&&de&&de.length===0)e:{var we=A.slice(0,me.index),tt=A.slice(me.index+me.length),pe=we.length,We=tt.length;if(J<pe+We)break e;var De=L.slice(0,pe),ot=L.slice(J-We);if(we!==De||tt!==ot)break e;var Ie=A.slice(pe,B-We),Le=L.slice(pe,J-We);return k(we,Ie,Le,tt)}return null}function G(A,L,N,me){return r(A,L,N,me,!0)}return G.INSERT=e,G.DELETE=n,G.EQUAL=t,Fg=G,Fg}var Lu={exports:{}};Lu.exports;var iT;function r2(){return iT||(iT=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=9007199254740991,l="[object Arguments]",u="[object Array]",f="[object Boolean]",m="[object Date]",p="[object Error]",v="[object Function]",E="[object GeneratorFunction]",x="[object Map]",S="[object Number]",I="[object Object]",j="[object Promise]",O="[object RegExp]",z="[object Set]",H="[object String]",W="[object Symbol]",ye="[object WeakMap]",ve="[object ArrayBuffer]",Ee="[object DataView]",M="[object Float32Array]",k="[object Float64Array]",P="[object Int8Array]",G="[object Int16Array]",A="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",me="[object Uint16Array]",de="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,J=/\w*$/,le=/^\[object .+?Constructor\]$/,be=/^(?:0|[1-9]\d*)$/,ge={};ge[l]=ge[u]=ge[ve]=ge[Ee]=ge[f]=ge[m]=ge[M]=ge[k]=ge[P]=ge[G]=ge[A]=ge[x]=ge[S]=ge[I]=ge[O]=ge[z]=ge[H]=ge[W]=ge[L]=ge[N]=ge[me]=ge[de]=!0,ge[p]=ge[v]=ge[ye]=!1;var V=typeof uo=="object"&&uo&&uo.Object===Object&&uo,Y=typeof self=="object"&&self&&self.Object===Object&&self,ue=V||Y||Function("return this")(),fe=e&&!e.nodeType&&e,pe=fe&&!0&&n&&!n.nodeType&&n,we=pe&&pe.exports===fe;function De(_,R){return _.set(R[0],R[1]),_}function Ie(_,R){return _.add(R),_}function Le(_,R){for(var U=-1,te=_?_.length:0;++U<te&&R(_[U],U,_)!==!1;);return _}function Qe(_,R){for(var U=-1,te=R.length,Me=_.length;++U<te;)_[Me+U]=R[U];return _}function We(_,R,U,te){for(var Me=-1,Ae=_?_.length:0;++Me<Ae;)U=R(U,_[Me],Me,_);return U}function tt(_,R){for(var U=-1,te=Array(_);++U<_;)te[U]=R(U);return te}function ot(_,R){return _?.[R]}function dt(_){var R=!1;if(_!=null&&typeof _.toString!="function")try{R=!!(_+"")}catch{}return R}function Wt(_){var R=-1,U=Array(_.size);return _.forEach(function(te,Me){U[++R]=[Me,te]}),U}function Pr(_,R){return function(U){return _(R(U))}}function si(_){var R=-1,U=Array(_.size);return _.forEach(function(te){U[++R]=te}),U}var ki=Array.prototype,Ut=Function.prototype,St=Object.prototype,_r=ue["__core-js_shared__"],Ra=(function(){var _=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})(),ji=Ut.toString,Nt=St.hasOwnProperty,Er=St.toString,Mi=RegExp("^"+ji.call(Nt).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vr=we?ue.Buffer:void 0,cr=ue.Symbol,Pi=ue.Uint8Array,Ln=Pr(Object.getPrototypeOf,Object),Vi=Object.create,Ui=St.propertyIsEnumerable,ur=ki.splice,Qt=Object.getOwnPropertySymbols,xn=Vr?Vr.isBuffer:void 0,Ct=Pr(Object.keys,Object),js=mn(ue,"DataView"),xr=mn(ue,"Map"),Xn=mn(ue,"Promise"),kn=mn(ue,"Set"),Ur=mn(ue,"WeakMap"),_t=mn(Object,"create"),Wn=on(js),Cn=on(xr),jn=on(Xn),qi=on(kn),ii=on(Ur),Tn=cr?cr.prototype:void 0,os=Tn?Tn.valueOf:void 0;function qr(_){var R=-1,U=_?_.length:0;for(this.clear();++R<U;){var te=_[R];this.set(te[0],te[1])}}function Ms(){this.__data__=_t?_t(null):{}}function Bi(_){return this.has(_)&&delete this.__data__[_]}function zi(_){var R=this.__data__;if(_t){var U=R[_];return U===r?void 0:U}return Nt.call(R,_)?R[_]:void 0}function ls(_){var R=this.__data__;return _t?R[_]!==void 0:Nt.call(R,_)}function hr(_,R){var U=this.__data__;return U[_]=_t&&R===void 0?r:R,this}qr.prototype.clear=Ms,qr.prototype.delete=Bi,qr.prototype.get=zi,qr.prototype.has=ls,qr.prototype.set=hr;function Zt(_){var R=-1,U=_?_.length:0;for(this.clear();++R<U;){var te=_[R];this.set(te[0],te[1])}}function fr(){this.__data__=[]}function dr(_){var R=this.__data__,U=Pn(R,_);if(U<0)return!1;var te=R.length-1;return U==te?R.pop():ur.call(R,U,1),!0}function qt(_){var R=this.__data__,U=Pn(R,_);return U<0?void 0:R[U][1]}function Jt(_){return Pn(this.__data__,_)>-1}function Tr(_,R){var U=this.__data__,te=Pn(U,_);return te<0?U.push([_,R]):U[te][1]=R,this}Zt.prototype.clear=fr,Zt.prototype.delete=dr,Zt.prototype.get=qt,Zt.prototype.has=Jt,Zt.prototype.set=Tr;function Yt(_){var R=-1,U=_?_.length:0;for(this.clear();++R<U;){var te=_[R];this.set(te[0],te[1])}}function Mo(){this.__data__={hash:new qr,map:new(xr||Zt),string:new qr}}function Ia(_){return fs(this,_).delete(_)}function Oa(_){return fs(this,_).get(_)}function wr(_){return fs(this,_).has(_)}function ai(_,R){return fs(this,_).set(_,R),this}Yt.prototype.clear=Mo,Yt.prototype.delete=Ia,Yt.prototype.get=Oa,Yt.prototype.has=wr,Yt.prototype.set=ai;function Ot(_){this.__data__=new Zt(_)}function Zn(){this.__data__=new Zt}function Mn(_){return this.__data__.delete(_)}function Ar(_){return this.__data__.get(_)}function Bt(_){return this.__data__.has(_)}function Hi(_,R){var U=this.__data__;if(U instanceof Zt){var te=U.__data__;if(!xr||te.length<t-1)return te.push([_,R]),this;U=this.__data__=new Yt(te)}return U.set(_,R),this}Ot.prototype.clear=Zn,Ot.prototype.delete=Mn,Ot.prototype.get=Ar,Ot.prototype.has=Bt,Ot.prototype.set=Hi;function cs(_,R){var U=Hr(_)||qn(_)?tt(_.length,String):[],te=U.length,Me=!!te;for(var Ae in _)Nt.call(_,Ae)&&!(Me&&(Ae=="length"||La(Ae,te)))&&U.push(Ae);return U}function mr(_,R,U){var te=_[R];(!(Nt.call(_,R)&&zr(te,U))||U===void 0&&!(R in _))&&(_[R]=U)}function Pn(_,R){for(var U=_.length;U--;)if(zr(_[U][0],R))return U;return-1}function Jn(_,R){return _&&ci(R,Us(R),_)}function Ps(_,R,U,te,Me,Ae,$e){var Xe;if(te&&(Xe=Ae?te(_,Me,Ae,$e):te(_)),Xe!==void 0)return Xe;if(!Ye(_))return _;var yt=Hr(_);if(yt){if(Xe=$i(_),!R)return li(_,Xe)}else{var Ze=Cr(_),wt=Ze==v||Ze==E;if(nr(_))return Dt(_,R);if(Ze==I||Ze==l||wt&&!Ae){if(dt(_))return Ae?_:{};if(Xe=er(wt?{}:_),!R)return Gi(_,Jn(Xe,_))}else{if(!ge[Ze])return Ae?_:{};Xe=ui(_,Ze,Ps,R)}}$e||($e=new Ot);var ln=$e.get(_);if(ln)return ln;if($e.set(_,Xe),!yt)var Lt=U?hs(_):Us(_);return Le(Lt||_,function(Ft,en){Lt&&(en=Ft,Ft=_[en]),mr(Xe,en,Ps(Ft,R,U,te,en,_,$e))}),Xe}function Fi(_){return Ye(_)?Vi(_):{}}function Da(_,R,U){var te=R(_);return Hr(_)?te:Qe(te,U(_))}function oi(_){return Er.call(_)}function Vn(_){if(!Ye(_)||hi(_))return!1;var R=In(_)||dt(_)?Mi:le;return R.test(on(_))}function zt(_){if(!tr(_))return Ct(_);var R=[];for(var U in Object(_))Nt.call(_,U)&&U!="constructor"&&R.push(U);return R}function Dt(_,R){if(R)return _.slice();var U=new _.constructor(_.length);return _.copy(U),U}function Sr(_){var R=new _.constructor(_.byteLength);return new Pi(R).set(new Pi(_)),R}function Br(_,R){var U=R?Sr(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.byteLength)}function ct(_,R,U){var te=R?U(Wt(_),!0):Wt(_);return We(te,De,new _.constructor)}function us(_){var R=new _.constructor(_.source,J.exec(_));return R.lastIndex=_.lastIndex,R}function Nr(_,R,U){var te=R?U(si(_),!0):si(_);return We(te,Ie,new _.constructor)}function Vs(_){return os?Object(os.call(_)):{}}function Rn(_,R){var U=R?Sr(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.length)}function li(_,R){var U=-1,te=_.length;for(R||(R=Array(te));++U<te;)R[U]=_[U];return R}function ci(_,R,U,te){U||(U={});for(var Me=-1,Ae=R.length;++Me<Ae;){var $e=R[Me],Xe=void 0;mr(U,$e,Xe===void 0?_[$e]:Xe)}return U}function Gi(_,R){return ci(_,Ht(_),R)}function hs(_){return Da(_,Us,Ht)}function fs(_,R){var U=_.__data__;return ds(R)?U[typeof R=="string"?"string":"hash"]:U.map}function mn(_,R){var U=ot(_,R);return Vn(U)?U:void 0}var Ht=Qt?Pr(Qt,Object):qs,Cr=oi;(js&&Cr(new js(new ArrayBuffer(1)))!=Ee||xr&&Cr(new xr)!=x||Xn&&Cr(Xn.resolve())!=j||kn&&Cr(new kn)!=z||Ur&&Cr(new Ur)!=ye)&&(Cr=function(_){var R=Er.call(_),U=R==I?_.constructor:void 0,te=U?on(U):void 0;if(te)switch(te){case Wn:return Ee;case Cn:return x;case jn:return j;case qi:return z;case ii:return ye}return R});function $i(_){var R=_.length,U=_.constructor(R);return R&&typeof _[0]=="string"&&Nt.call(_,"index")&&(U.index=_.index,U.input=_.input),U}function er(_){return typeof _.constructor=="function"&&!tr(_)?Fi(Ln(_)):{}}function ui(_,R,U,te){var Me=_.constructor;switch(R){case ve:return Sr(_);case f:case m:return new Me(+_);case Ee:return Br(_,te);case M:case k:case P:case G:case A:case L:case N:case me:case de:return Rn(_,te);case x:return ct(_,te,U);case S:case H:return new Me(_);case O:return us(_);case z:return Nr(_,te,U);case W:return Vs(_)}}function La(_,R){return R=R??a,!!R&&(typeof _=="number"||be.test(_))&&_>-1&&_%1==0&&_<R}function ds(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function hi(_){return!!Ra&&Ra in _}function tr(_){var R=_&&_.constructor,U=typeof R=="function"&&R.prototype||St;return _===U}function on(_){if(_!=null){try{return ji.call(_)}catch{}try{return _+""}catch{}}return""}function Un(_){return Ps(_,!0,!0)}function zr(_,R){return _===R||_!==_&&R!==R}function qn(_){return ms(_)&&Nt.call(_,"callee")&&(!Ui.call(_,"callee")||Er.call(_)==l)}var Hr=Array.isArray;function Fr(_){return _!=null&&ps(_.length)&&!In(_)}function ms(_){return pr(_)&&Fr(_)}var nr=xn||Ki;function In(_){var R=Ye(_)?Er.call(_):"";return R==v||R==E}function ps(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=a}function Ye(_){var R=typeof _;return!!_&&(R=="object"||R=="function")}function pr(_){return!!_&&typeof _=="object"}function Us(_){return Fr(_)?cs(_):zt(_)}function qs(){return[]}function Ki(){return!1}n.exports=Un})(Lu,Lu.exports)),Lu.exports}var ku={exports:{}};ku.exports;var aT;function s2(){return aT||(aT=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=1,l=2,u=9007199254740991,f="[object Arguments]",m="[object Array]",p="[object AsyncFunction]",v="[object Boolean]",E="[object Date]",x="[object Error]",S="[object Function]",I="[object GeneratorFunction]",j="[object Map]",O="[object Number]",z="[object Null]",H="[object Object]",W="[object Promise]",ye="[object Proxy]",ve="[object RegExp]",Ee="[object Set]",M="[object String]",k="[object Symbol]",P="[object Undefined]",G="[object WeakMap]",A="[object ArrayBuffer]",L="[object DataView]",N="[object Float32Array]",me="[object Float64Array]",de="[object Int8Array]",B="[object Int16Array]",J="[object Int32Array]",le="[object Uint8Array]",be="[object Uint8ClampedArray]",ge="[object Uint16Array]",V="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,ue=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,pe={};pe[N]=pe[me]=pe[de]=pe[B]=pe[J]=pe[le]=pe[be]=pe[ge]=pe[V]=!0,pe[f]=pe[m]=pe[A]=pe[v]=pe[L]=pe[E]=pe[x]=pe[S]=pe[j]=pe[O]=pe[H]=pe[ve]=pe[Ee]=pe[M]=pe[G]=!1;var we=typeof uo=="object"&&uo&&uo.Object===Object&&uo,De=typeof self=="object"&&self&&self.Object===Object&&self,Ie=we||De||Function("return this")(),Le=e&&!e.nodeType&&e,Qe=Le&&!0&&n&&!n.nodeType&&n,We=Qe&&Qe.exports===Le,tt=We&&we.process,ot=(function(){try{return tt&&tt.binding&&tt.binding("util")}catch{}})(),dt=ot&&ot.isTypedArray;function Wt(_,R){for(var U=-1,te=_==null?0:_.length,Me=0,Ae=[];++U<te;){var $e=_[U];R($e,U,_)&&(Ae[Me++]=$e)}return Ae}function Pr(_,R){for(var U=-1,te=R.length,Me=_.length;++U<te;)_[Me+U]=R[U];return _}function si(_,R){for(var U=-1,te=_==null?0:_.length;++U<te;)if(R(_[U],U,_))return!0;return!1}function ki(_,R){for(var U=-1,te=Array(_);++U<_;)te[U]=R(U);return te}function Ut(_){return function(R){return _(R)}}function St(_,R){return _.has(R)}function _r(_,R){return _?.[R]}function Ra(_){var R=-1,U=Array(_.size);return _.forEach(function(te,Me){U[++R]=[Me,te]}),U}function ji(_,R){return function(U){return _(R(U))}}function Nt(_){var R=-1,U=Array(_.size);return _.forEach(function(te){U[++R]=te}),U}var Er=Array.prototype,Mi=Function.prototype,Vr=Object.prototype,cr=Ie["__core-js_shared__"],Pi=Mi.toString,Ln=Vr.hasOwnProperty,Vi=(function(){var _=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})(),Ui=Vr.toString,ur=RegExp("^"+Pi.call(Ln).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=We?Ie.Buffer:void 0,xn=Ie.Symbol,Ct=Ie.Uint8Array,js=Vr.propertyIsEnumerable,xr=Er.splice,Xn=xn?xn.toStringTag:void 0,kn=Object.getOwnPropertySymbols,Ur=Qt?Qt.isBuffer:void 0,_t=ji(Object.keys,Object),Wn=Ht(Ie,"DataView"),Cn=Ht(Ie,"Map"),jn=Ht(Ie,"Promise"),qi=Ht(Ie,"Set"),ii=Ht(Ie,"WeakMap"),Tn=Ht(Object,"create"),os=on(Wn),qr=on(Cn),Ms=on(jn),Bi=on(qi),zi=on(ii),ls=xn?xn.prototype:void 0,hr=ls?ls.valueOf:void 0;function Zt(_){var R=-1,U=_==null?0:_.length;for(this.clear();++R<U;){var te=_[R];this.set(te[0],te[1])}}function fr(){this.__data__=Tn?Tn(null):{},this.size=0}function dr(_){var R=this.has(_)&&delete this.__data__[_];return this.size-=R?1:0,R}function qt(_){var R=this.__data__;if(Tn){var U=R[_];return U===r?void 0:U}return Ln.call(R,_)?R[_]:void 0}function Jt(_){var R=this.__data__;return Tn?R[_]!==void 0:Ln.call(R,_)}function Tr(_,R){var U=this.__data__;return this.size+=this.has(_)?0:1,U[_]=Tn&&R===void 0?r:R,this}Zt.prototype.clear=fr,Zt.prototype.delete=dr,Zt.prototype.get=qt,Zt.prototype.has=Jt,Zt.prototype.set=Tr;function Yt(_){var R=-1,U=_==null?0:_.length;for(this.clear();++R<U;){var te=_[R];this.set(te[0],te[1])}}function Mo(){this.__data__=[],this.size=0}function Ia(_){var R=this.__data__,U=Dt(R,_);if(U<0)return!1;var te=R.length-1;return U==te?R.pop():xr.call(R,U,1),--this.size,!0}function Oa(_){var R=this.__data__,U=Dt(R,_);return U<0?void 0:R[U][1]}function wr(_){return Dt(this.__data__,_)>-1}function ai(_,R){var U=this.__data__,te=Dt(U,_);return te<0?(++this.size,U.push([_,R])):U[te][1]=R,this}Yt.prototype.clear=Mo,Yt.prototype.delete=Ia,Yt.prototype.get=Oa,Yt.prototype.has=wr,Yt.prototype.set=ai;function Ot(_){var R=-1,U=_==null?0:_.length;for(this.clear();++R<U;){var te=_[R];this.set(te[0],te[1])}}function Zn(){this.size=0,this.__data__={hash:new Zt,map:new(Cn||Yt),string:new Zt}}function Mn(_){var R=mn(this,_).delete(_);return this.size-=R?1:0,R}function Ar(_){return mn(this,_).get(_)}function Bt(_){return mn(this,_).has(_)}function Hi(_,R){var U=mn(this,_),te=U.size;return U.set(_,R),this.size+=U.size==te?0:1,this}Ot.prototype.clear=Zn,Ot.prototype.delete=Mn,Ot.prototype.get=Ar,Ot.prototype.has=Bt,Ot.prototype.set=Hi;function cs(_){var R=-1,U=_==null?0:_.length;for(this.__data__=new Ot;++R<U;)this.add(_[R])}function mr(_){return this.__data__.set(_,r),this}function Pn(_){return this.__data__.has(_)}cs.prototype.add=cs.prototype.push=mr,cs.prototype.has=Pn;function Jn(_){var R=this.__data__=new Yt(_);this.size=R.size}function Ps(){this.__data__=new Yt,this.size=0}function Fi(_){var R=this.__data__,U=R.delete(_);return this.size=R.size,U}function Da(_){return this.__data__.get(_)}function oi(_){return this.__data__.has(_)}function Vn(_,R){var U=this.__data__;if(U instanceof Yt){var te=U.__data__;if(!Cn||te.length<t-1)return te.push([_,R]),this.size=++U.size,this;U=this.__data__=new Ot(te)}return U.set(_,R),this.size=U.size,this}Jn.prototype.clear=Ps,Jn.prototype.delete=Fi,Jn.prototype.get=Da,Jn.prototype.has=oi,Jn.prototype.set=Vn;function zt(_,R){var U=qn(_),te=!U&&zr(_),Me=!U&&!te&&Fr(_),Ae=!U&&!te&&!Me&&pr(_),$e=U||te||Me||Ae,Xe=$e?ki(_.length,String):[],yt=Xe.length;for(var Ze in _)Ln.call(_,Ze)&&!($e&&(Ze=="length"||Me&&(Ze=="offset"||Ze=="parent")||Ae&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||ui(Ze,yt)))&&Xe.push(Ze);return Xe}function Dt(_,R){for(var U=_.length;U--;)if(Un(_[U][0],R))return U;return-1}function Sr(_,R,U){var te=R(_);return qn(_)?te:Pr(te,U(_))}function Br(_){return _==null?_===void 0?P:z:Xn&&Xn in Object(_)?Cr(_):tr(_)}function ct(_){return Ye(_)&&Br(_)==f}function us(_,R,U,te,Me){return _===R?!0:_==null||R==null||!Ye(_)&&!Ye(R)?_!==_&&R!==R:Nr(_,R,U,te,us,Me)}function Nr(_,R,U,te,Me,Ae){var $e=qn(_),Xe=qn(R),yt=$e?m:er(_),Ze=Xe?m:er(R);yt=yt==f?H:yt,Ze=Ze==f?H:Ze;var wt=yt==H,ln=Ze==H,Lt=yt==Ze;if(Lt&&Fr(_)){if(!Fr(R))return!1;$e=!0,wt=!1}if(Lt&&!wt)return Ae||(Ae=new Jn),$e||pr(_)?ci(_,R,U,te,Me,Ae):Gi(_,R,yt,U,te,Me,Ae);if(!(U&a)){var Ft=wt&&Ln.call(_,"__wrapped__"),en=ln&&Ln.call(R,"__wrapped__");if(Ft||en){var Gr=Ft?_.value():_,Bn=en?R.value():R;return Ae||(Ae=new Jn),Me(Gr,Bn,U,te,Ae)}}return Lt?(Ae||(Ae=new Jn),hs(_,R,U,te,Me,Ae)):!1}function Vs(_){if(!ps(_)||ds(_))return!1;var R=nr(_)?ur:ue;return R.test(on(_))}function Rn(_){return Ye(_)&&In(_.length)&&!!pe[Br(_)]}function li(_){if(!hi(_))return _t(_);var R=[];for(var U in Object(_))Ln.call(_,U)&&U!="constructor"&&R.push(U);return R}function ci(_,R,U,te,Me,Ae){var $e=U&a,Xe=_.length,yt=R.length;if(Xe!=yt&&!($e&&yt>Xe))return!1;var Ze=Ae.get(_);if(Ze&&Ae.get(R))return Ze==R;var wt=-1,ln=!0,Lt=U&l?new cs:void 0;for(Ae.set(_,R),Ae.set(R,_);++wt<Xe;){var Ft=_[wt],en=R[wt];if(te)var Gr=$e?te(en,Ft,wt,R,_,Ae):te(Ft,en,wt,_,R,Ae);if(Gr!==void 0){if(Gr)continue;ln=!1;break}if(Lt){if(!si(R,function(Bn,$r){if(!St(Lt,$r)&&(Ft===Bn||Me(Ft,Bn,U,te,Ae)))return Lt.push($r)})){ln=!1;break}}else if(!(Ft===en||Me(Ft,en,U,te,Ae))){ln=!1;break}}return Ae.delete(_),Ae.delete(R),ln}function Gi(_,R,U,te,Me,Ae,$e){switch(U){case L:if(_.byteLength!=R.byteLength||_.byteOffset!=R.byteOffset)return!1;_=_.buffer,R=R.buffer;case A:return!(_.byteLength!=R.byteLength||!Ae(new Ct(_),new Ct(R)));case v:case E:case O:return Un(+_,+R);case x:return _.name==R.name&&_.message==R.message;case ve:case M:return _==R+"";case j:var Xe=Ra;case Ee:var yt=te&a;if(Xe||(Xe=Nt),_.size!=R.size&&!yt)return!1;var Ze=$e.get(_);if(Ze)return Ze==R;te|=l,$e.set(_,R);var wt=ci(Xe(_),Xe(R),te,Me,Ae,$e);return $e.delete(_),wt;case k:if(hr)return hr.call(_)==hr.call(R)}return!1}function hs(_,R,U,te,Me,Ae){var $e=U&a,Xe=fs(_),yt=Xe.length,Ze=fs(R),wt=Ze.length;if(yt!=wt&&!$e)return!1;for(var ln=yt;ln--;){var Lt=Xe[ln];if(!($e?Lt in R:Ln.call(R,Lt)))return!1}var Ft=Ae.get(_);if(Ft&&Ae.get(R))return Ft==R;var en=!0;Ae.set(_,R),Ae.set(R,_);for(var Gr=$e;++ln<yt;){Lt=Xe[ln];var Bn=_[Lt],$r=R[Lt];if(te)var Po=$e?te($r,Bn,Lt,R,_,Ae):te(Bn,$r,Lt,_,R,Ae);if(!(Po===void 0?Bn===$r||Me(Bn,$r,U,te,Ae):Po)){en=!1;break}Gr||(Gr=Lt=="constructor")}if(en&&!Gr){var Bs=_.constructor,Qi=R.constructor;Bs!=Qi&&"constructor"in _&&"constructor"in R&&!(typeof Bs=="function"&&Bs instanceof Bs&&typeof Qi=="function"&&Qi instanceof Qi)&&(en=!1)}return Ae.delete(_),Ae.delete(R),en}function fs(_){return Sr(_,Us,$i)}function mn(_,R){var U=_.__data__;return La(R)?U[typeof R=="string"?"string":"hash"]:U.map}function Ht(_,R){var U=_r(_,R);return Vs(U)?U:void 0}function Cr(_){var R=Ln.call(_,Xn),U=_[Xn];try{_[Xn]=void 0;var te=!0}catch{}var Me=Ui.call(_);return te&&(R?_[Xn]=U:delete _[Xn]),Me}var $i=kn?function(_){return _==null?[]:(_=Object(_),Wt(kn(_),function(R){return js.call(_,R)}))}:qs,er=Br;(Wn&&er(new Wn(new ArrayBuffer(1)))!=L||Cn&&er(new Cn)!=j||jn&&er(jn.resolve())!=W||qi&&er(new qi)!=Ee||ii&&er(new ii)!=G)&&(er=function(_){var R=Br(_),U=R==H?_.constructor:void 0,te=U?on(U):"";if(te)switch(te){case os:return L;case qr:return j;case Ms:return W;case Bi:return Ee;case zi:return G}return R});function ui(_,R){return R=R??u,!!R&&(typeof _=="number"||fe.test(_))&&_>-1&&_%1==0&&_<R}function La(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function ds(_){return!!Vi&&Vi in _}function hi(_){var R=_&&_.constructor,U=typeof R=="function"&&R.prototype||Vr;return _===U}function tr(_){return Ui.call(_)}function on(_){if(_!=null){try{return Pi.call(_)}catch{}try{return _+""}catch{}}return""}function Un(_,R){return _===R||_!==_&&R!==R}var zr=ct((function(){return arguments})())?ct:function(_){return Ye(_)&&Ln.call(_,"callee")&&!js.call(_,"callee")},qn=Array.isArray;function Hr(_){return _!=null&&In(_.length)&&!nr(_)}var Fr=Ur||Ki;function ms(_,R){return us(_,R)}function nr(_){if(!ps(_))return!1;var R=Br(_);return R==S||R==I||R==p||R==ye}function In(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=u}function ps(_){var R=typeof _;return _!=null&&(R=="object"||R=="function")}function Ye(_){return _!=null&&typeof _=="object"}var pr=dt?Ut(dt):Rn;function Us(_){return Hr(_)?zt(_):li(_)}function qs(){return[]}function Ki(){return!1}n.exports=ms})(ku,ku.exports)),ku.exports}var Wf={},oT;function h8(){if(oT)return Wf;oT=1,Object.defineProperty(Wf,"__esModule",{value:!0});const n=r2(),e=s2();var t;return(function(r){function a(m={},p={},v=!1){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});let E=n(p);v||(E=Object.keys(E).reduce((x,S)=>(E[S]!=null&&(x[S]=E[S]),x),{}));for(const x in m)m[x]!==void 0&&p[x]===void 0&&(E[x]=m[x]);return Object.keys(E).length>0?E:void 0}r.compose=a;function l(m={},p={}){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});const v=Object.keys(m).concat(Object.keys(p)).reduce((E,x)=>(e(m[x],p[x])||(E[x]=p[x]===void 0?null:p[x]),E),{});return Object.keys(v).length>0?v:void 0}r.diff=l;function u(m={},p={}){m=m||{};const v=Object.keys(p).reduce((E,x)=>(p[x]!==m[x]&&m[x]!==void 0&&(E[x]=p[x]),E),{});return Object.keys(m).reduce((E,x)=>(m[x]!==p[x]&&p[x]===void 0&&(E[x]=null),E),v)}r.invert=u;function f(m,p,v=!1){if(typeof m!="object")return p;if(typeof p!="object")return;if(!v)return p;const E=Object.keys(p).reduce((x,S)=>(m[S]===void 0&&(x[S]=p[S]),x),{});return Object.keys(E).length>0?E:void 0}r.transform=f})(t||(t={})),Wf.default=t,Wf}var Zf={},lT;function i2(){if(lT)return Zf;lT=1,Object.defineProperty(Zf,"__esModule",{value:!0});var n;return(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(n||(n={})),Zf.default=n,Zf}var Jf={},cT;function f8(){if(cT)return Jf;cT=1,Object.defineProperty(Jf,"__esModule",{value:!0});const n=i2();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const a=this.ops[this.index];if(a){const l=this.offset,u=n.default.length(a);if(r>=u-l?(r=u-l,this.index+=1,this.offset=0):this.offset+=r,typeof a.delete=="number")return{delete:r};{const f={};return a.attributes&&(f.attributes=a.attributes),typeof a.retain=="number"?f.retain=r:typeof a.retain=="object"&&a.retain!==null?f.retain=a.retain:typeof a.insert=="string"?f.insert=a.insert.substr(l,r):f.insert=a.insert,f}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,a=this.index,l=this.next(),u=this.ops.slice(this.index);return this.offset=r,this.index=a,[l].concat(u)}}else return[]}}return Jf.default=e,Jf}var uT;function d8(){return uT||(uT=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=u8(),r=r2(),a=s2(),l=h8();e.AttributeMap=l.default;const u=i2();e.Op=u.default;const f=f8();e.OpIterator=f.default;const m="\0",p=(E,x)=>{if(typeof E!="object"||E===null)throw new Error(`cannot retain a ${typeof E}`);if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);const S=Object.keys(E)[0];if(!S||S!==Object.keys(x)[0])throw new Error(`embed types not matched: ${S} != ${Object.keys(x)[0]}`);return[S,E[S],x[S]]};class v{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,S){this.handlers[x]=S}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){const S=this.handlers[x];if(!S)throw new Error(`no handlers for embed type "${x}"`);return S}insert(x,S){const I={};return typeof x=="string"&&x.length===0?this:(I.insert=x,S!=null&&typeof S=="object"&&Object.keys(S).length>0&&(I.attributes=S),this.push(I))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,S){if(typeof x=="number"&&x<=0)return this;const I={retain:x};return S!=null&&typeof S=="object"&&Object.keys(S).length>0&&(I.attributes=S),this.push(I)}push(x){let S=this.ops.length,I=this.ops[S-1];if(x=r(x),typeof I=="object"){if(typeof x.delete=="number"&&typeof I.delete=="number")return this.ops[S-1]={delete:I.delete+x.delete},this;if(typeof I.delete=="number"&&x.insert!=null&&(S-=1,I=this.ops[S-1],typeof I!="object"))return this.ops.unshift(x),this;if(a(x.attributes,I.attributes)){if(typeof x.insert=="string"&&typeof I.insert=="string")return this.ops[S-1]={insert:I.insert+x.insert},typeof x.attributes=="object"&&(this.ops[S-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof I.retain=="number")return this.ops[S-1]={retain:I.retain+x.retain},typeof x.attributes=="object"&&(this.ops[S-1].attributes=x.attributes),this}}return S===this.ops.length?this.ops.push(x):this.ops.splice(S,0,x),this}chop(){const x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){const S=[],I=[];return this.forEach(j=>{(x(j)?S:I).push(j)}),[S,I]}reduce(x,S){return this.ops.reduce(x,S)}changeLength(){return this.reduce((x,S)=>S.insert?x+u.default.length(S):S.delete?x-S.delete:x,0)}length(){return this.reduce((x,S)=>x+u.default.length(S),0)}slice(x=0,S=1/0){const I=[],j=new f.default(this.ops);let O=0;for(;O<S&&j.hasNext();){let z;O<x?z=j.next(x-O):(z=j.next(S-O),I.push(z)),O+=u.default.length(z)}return new v(I)}compose(x){const S=new f.default(this.ops),I=new f.default(x.ops),j=[],O=I.peek();if(O!=null&&typeof O.retain=="number"&&O.attributes==null){let H=O.retain;for(;S.peekType()==="insert"&&S.peekLength()<=H;)H-=S.peekLength(),j.push(S.next());O.retain-H>0&&I.next(O.retain-H)}const z=new v(j);for(;S.hasNext()||I.hasNext();)if(I.peekType()==="insert")z.push(I.next());else if(S.peekType()==="delete")z.push(S.next());else{const H=Math.min(S.peekLength(),I.peekLength()),W=S.next(H),ye=I.next(H);if(ye.retain){const ve={};if(typeof W.retain=="number")ve.retain=typeof ye.retain=="number"?H:ye.retain;else if(typeof ye.retain=="number")W.retain==null?ve.insert=W.insert:ve.retain=W.retain;else{const M=W.retain==null?"insert":"retain",[k,P,G]=p(W[M],ye.retain),A=v.getHandler(k);ve[M]={[k]:A.compose(P,G,M==="retain")}}const Ee=l.default.compose(W.attributes,ye.attributes,typeof W.retain=="number");if(Ee&&(ve.attributes=Ee),z.push(ve),!I.hasNext()&&a(z.ops[z.ops.length-1],ve)){const M=new v(S.rest());return z.concat(M).chop()}}else typeof ye.delete=="number"&&(typeof W.retain=="number"||typeof W.retain=="object"&&W.retain!==null)&&z.push(ye)}return z.chop()}concat(x){const S=new v(this.ops.slice());return x.ops.length>0&&(S.push(x.ops[0]),S.ops=S.ops.concat(x.ops.slice(1))),S}diff(x,S){if(this.ops===x.ops)return new v;const I=[this,x].map(W=>W.map(ye=>{if(ye.insert!=null)return typeof ye.insert=="string"?ye.insert:m;const ve=W===x?"on":"with";throw new Error("diff() called "+ve+" non-document")}).join("")),j=new v,O=t(I[0],I[1],S,!0),z=new f.default(this.ops),H=new f.default(x.ops);return O.forEach(W=>{let ye=W[1].length;for(;ye>0;){let ve=0;switch(W[0]){case t.INSERT:ve=Math.min(H.peekLength(),ye),j.push(H.next(ve));break;case t.DELETE:ve=Math.min(ye,z.peekLength()),z.next(ve),j.delete(ve);break;case t.EQUAL:ve=Math.min(z.peekLength(),H.peekLength(),ye);const Ee=z.next(ve),M=H.next(ve);a(Ee.insert,M.insert)?j.retain(ve,l.default.diff(Ee.attributes,M.attributes)):j.push(M).delete(ve);break}ye-=ve}}),j.chop()}eachLine(x,S=`
`){const I=new f.default(this.ops);let j=new v,O=0;for(;I.hasNext();){if(I.peekType()!=="insert")return;const z=I.peek(),H=u.default.length(z)-I.peekLength(),W=typeof z.insert=="string"?z.insert.indexOf(S,H)-H:-1;if(W<0)j.push(I.next());else if(W>0)j.push(I.next(W));else{if(x(j,I.next(1).attributes||{},O)===!1)return;O+=1,j=new v}}j.length()>0&&x(j,{},O)}invert(x){const S=new v;return this.reduce((I,j)=>{if(j.insert)S.delete(u.default.length(j));else{if(typeof j.retain=="number"&&j.attributes==null)return S.retain(j.retain),I+j.retain;if(j.delete||typeof j.retain=="number"){const O=j.delete||j.retain;return x.slice(I,I+O).forEach(H=>{j.delete?S.push(H):j.retain&&j.attributes&&S.retain(u.default.length(H),l.default.invert(j.attributes,H.attributes))}),I+O}else if(typeof j.retain=="object"&&j.retain!==null){const O=x.slice(I,I+1),z=new f.default(O.ops).next(),[H,W,ye]=p(j.retain,z.insert),ve=v.getHandler(H);return S.retain({[H]:ve.invert(W,ye)},l.default.invert(j.attributes,z.attributes)),I+1}}return I},0),S.chop()}transform(x,S=!1){if(S=!!S,typeof x=="number")return this.transformPosition(x,S);const I=x,j=new f.default(this.ops),O=new f.default(I.ops),z=new v;for(;j.hasNext()||O.hasNext();)if(j.peekType()==="insert"&&(S||O.peekType()!=="insert"))z.retain(u.default.length(j.next()));else if(O.peekType()==="insert")z.push(O.next());else{const H=Math.min(j.peekLength(),O.peekLength()),W=j.next(H),ye=O.next(H);if(W.delete)continue;if(ye.delete)z.push(ye);else{const ve=W.retain,Ee=ye.retain;let M=typeof Ee=="object"&&Ee!==null?Ee:H;if(typeof ve=="object"&&ve!==null&&typeof Ee=="object"&&Ee!==null){const k=Object.keys(ve)[0];if(k===Object.keys(Ee)[0]){const P=v.getHandler(k);P&&(M={[k]:P.transform(ve[k],Ee[k],S)})}}z.retain(M,l.default.transform(W.attributes,ye.attributes,S))}}return z.chop()}transformPosition(x,S=!1){S=!!S;const I=new f.default(this.ops);let j=0;for(;I.hasNext()&&j<=x;){const O=I.peekLength(),z=I.peekType();if(I.next(),z==="delete"){x-=Math.min(O,x-j);continue}else z==="insert"&&(j<x||!S)&&(x+=O);j+=O}return x}}v.Op=u.default,v.OpIterator=f.default,v.AttributeMap=l.default,v.handlers={},e.default=v,n.exports=v,n.exports.default=v})(Xf,Xf.exports)),Xf.exports}var Rs=d8();const Re=$y(Rs);class ri extends as{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ri.blotName="break";ri.tagName="BR";let ti=class extends qd{};const m8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xm(n){return n.replace(/[&<>"']/g,e=>m8[e])}class vr extends rv{static allowedChildren=[vr,ri,as,ti];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=vr.order.indexOf(e),a=vr.order.indexOf(t);return r>=0||a>=0?r-a:e===t?0:e<t?-1:1}formatAt(e,t,r,a){if(vr.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Oe.BLOT)){const l=this.isolate(e,t);a&&l.wrap(r,a)}else super.formatAt(e,t,r,a)}optimize(e){if(super.optimize(e),this.parent instanceof vr&&vr.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const hT=1;class Qn extends ih{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=a2(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,a){t<=0||(this.scroll.query(r,Oe.BLOCK)?e+t===this.length()&&this.format(r,a):super.formatAt(e,Math.min(t,this.length()-e-1),r,a),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const a=t.split(`
`),l=a.shift();l.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let u=this;a.reduce((f,m)=>(u=u.split(f,!0),u.insertAt(0,m),m.length),e+l.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof ri&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+hT),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-hT)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const r=super.split(e,t);return this.cache={},r}}Qn.blotName="block";Qn.tagName="P";Qn.defaultChild=ri;Qn.allowedChildren=[ri,vr,as,ti];class Cs extends as{attach(){super.attach(),this.attributes=new _m(this.domNode)}delta(){return new Re().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Oe.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,a){this.format(r,a)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const a=t.split(`
`),l=a.pop(),u=a.map(m=>{const p=this.scroll.create(Qn.blotName);return p.insertAt(0,m),p}),f=this.split(e);u.forEach(m=>{this.parent.insertBefore(m,f)}),l&&this.parent.insertBefore(this.scroll.create("text",l),f)}}Cs.scope=Oe.BLOCK_BLOT;function a2(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(or).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),As(r,{},e)),new Re).insert(`
`,As(n))}function As(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:As(n.parent,e,t)}class Ys extends as{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Ys.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,a=0;for(;r!=null&&r.statics.scope!==Oe.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Ys.CONTENTS.length,r.optimize(),r.formatAt(a,Ys.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof ti?this.prev:null,r=t?t.length():0,a=this.next instanceof ti?this.next:null,l=a?a.text:"",{textNode:u}=this,f=u.data.split(Ys.CONTENTS).join("");u.data=Ys.CONTENTS;let m;if(t)m=t,(f||a)&&(t.insertAt(t.length(),f+l),a&&a.remove());else if(a)m=a,a.insertAt(0,f);else{const p=document.createTextNode(f);m=this.scroll.create(p),this.parent.insertBefore(m,this)}if(this.remove(),e){const p=(x,S)=>t&&x===t.domNode?S:x===u?r+S-1:a&&x===a.domNode?r+f.length+S:null,v=p(e.start.node,e.start.offset),E=p(e.end.node,e.end.offset);if(v!==null&&E!==null)return{startNode:m.domNode,startOffset:v,endNode:m.domNode,endOffset:E}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Ys.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Gg={exports:{}},fT;function p8(){return fT||(fT=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function a(m,p,v){this.fn=m,this.context=p,this.once=v||!1}function l(m,p,v,E,x){if(typeof v!="function")throw new TypeError("The listener must be a function");var S=new a(v,E||m,x),I=t?t+p:p;return m._events[I]?m._events[I].fn?m._events[I]=[m._events[I],S]:m._events[I].push(S):(m._events[I]=S,m._eventsCount++),m}function u(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],v,E;if(this._eventsCount===0)return p;for(E in v=this._events)e.call(v,E)&&p.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(v)):p},f.prototype.listeners=function(p){var v=t?t+p:p,E=this._events[v];if(!E)return[];if(E.fn)return[E.fn];for(var x=0,S=E.length,I=new Array(S);x<S;x++)I[x]=E[x].fn;return I},f.prototype.listenerCount=function(p){var v=t?t+p:p,E=this._events[v];return E?E.fn?1:E.length:0},f.prototype.emit=function(p,v,E,x,S,I){var j=t?t+p:p;if(!this._events[j])return!1;var O=this._events[j],z=arguments.length,H,W;if(O.fn){switch(O.once&&this.removeListener(p,O.fn,void 0,!0),z){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,v),!0;case 3:return O.fn.call(O.context,v,E),!0;case 4:return O.fn.call(O.context,v,E,x),!0;case 5:return O.fn.call(O.context,v,E,x,S),!0;case 6:return O.fn.call(O.context,v,E,x,S,I),!0}for(W=1,H=new Array(z-1);W<z;W++)H[W-1]=arguments[W];O.fn.apply(O.context,H)}else{var ye=O.length,ve;for(W=0;W<ye;W++)switch(O[W].once&&this.removeListener(p,O[W].fn,void 0,!0),z){case 1:O[W].fn.call(O[W].context);break;case 2:O[W].fn.call(O[W].context,v);break;case 3:O[W].fn.call(O[W].context,v,E);break;case 4:O[W].fn.call(O[W].context,v,E,x);break;default:if(!H)for(ve=1,H=new Array(z-1);ve<z;ve++)H[ve-1]=arguments[ve];O[W].fn.apply(O[W].context,H)}}return!0},f.prototype.on=function(p,v,E){return l(this,p,v,E,!1)},f.prototype.once=function(p,v,E){return l(this,p,v,E,!0)},f.prototype.removeListener=function(p,v,E,x){var S=t?t+p:p;if(!this._events[S])return this;if(!v)return u(this,S),this;var I=this._events[S];if(I.fn)I.fn===v&&(!x||I.once)&&(!E||I.context===E)&&u(this,S);else{for(var j=0,O=[],z=I.length;j<z;j++)(I[j].fn!==v||x&&!I[j].once||E&&I[j].context!==E)&&O.push(I[j]);O.length?this._events[S]=O.length===1?O[0]:O:u(this,S)}return this},f.prototype.removeAllListeners=function(p){var v;return p?(v=t?t+p:p,this._events[v]&&u(this,v)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f})(Gg)),Gg.exports}var g8=p8();const y8=$y(g8),zy=new WeakMap,Hy=["error","warn","log","info"];let Fy="warn";function o2(n){if(Fy&&Hy.indexOf(n)<=Hy.indexOf(Fy)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Ca(n){return Hy.reduce((e,t)=>(e[t]=o2.bind(console,t,n),e),{})}Ca.level=n=>{Fy=n};o2.level=Ca.level;const $g=Ca("quill:events"),v8=["selectionchange","mousedown","mouseup","click"];v8.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const l=zy.get(a);l&&l.emitter&&l.emitter.handleDOM(...t)})})});class Ne extends y8{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",$g.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return $g.log.call($g,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(l=>{let{node:u,handler:f}=l;(e.target===u||u.contains(e.target))&&f(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const Kg=Ca("quill:selection");class fl{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class b8{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new fl(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ne.sources.USER),1)}),this.emitter.on(Ne.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ne.events.SCROLL_UPDATE,(a,l)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const u=l.some(f=>f.type==="characterData"||f.type==="childList"||f.type==="attributes"&&f.target===this.root);this.update(u?Ne.sources.SILENT:a)}catch{}})}),this.emitter.on(Ne.events.SCROLL_OPTIMIZE,(r,a)=>{if(a.range){const{startNode:l,startOffset:u,endNode:f,endOffset:m}=a.range;this.setNativeRange(l,u,f,m),this.update(Ne.sources.SILENT)}}),this.update(Ne.sources.SILENT)}handleComposition(){this.emitter.on(Ne.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ne.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ne.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Oe.BLOCK))){if(r.start.node!==this.cursor.textNode){const a=this.scroll.find(r.start.node,!1);if(a==null)return;if(a instanceof or){const l=a.split(r.start.offset);a.parent.insertBefore(this.cursor,l)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let a,[l,u]=this.scroll.leaf(e);if(l==null)return null;if(t>0&&u===l.length()){const[v]=this.scroll.leaf(e+1);if(v){const[E]=this.scroll.line(e),[x]=this.scroll.line(e+1);E===x&&(l=v,u=0)}}[a,u]=l.position(u,!0);const f=document.createRange();if(t>0)return f.setStart(a,u),[l,u]=this.scroll.leaf(e+t),l==null?null:([a,u]=l.position(u,!0),f.setEnd(a,u),f.getBoundingClientRect());let m="left",p;if(a instanceof Text){if(!a.data.length)return null;u<a.data.length?(f.setStart(a,u),f.setEnd(a,u+1)):(f.setStart(a,u-1),f.setEnd(a,u),m="right"),p=f.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;p=l.domNode.getBoundingClientRect(),u>0&&(m="right")}return{bottom:p.top+p.height,height:p.height,left:p[m],right:p[m],top:p.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return Kg.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Qg(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(u=>{const[f,m]=u,p=this.scroll.find(f,!0),v=p.offset(this.scroll);return m===0?v:p instanceof or?v+p.index(f,m):v+p.length()}),a=Math.min(Math.max(...r),this.scroll.length()-1),l=Math.min(a,...r);return new fl(l,a-l)}normalizeNative(e){if(!Qg(this.root,e.startContainer)||!e.collapsed&&!Qg(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:a,offset:l}=r;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>l)a=a.childNodes[l],l=0;else if(a.childNodes.length===l)a=a.lastChild,a instanceof Text?l=a.data.length:a.childNodes.length>0?l=a.childNodes.length:l=a.childNodes.length+1;else break;r.node=a,r.offset=l}),t}rangeToNative(e){const t=this.scroll.length(),r=(a,l)=>{a=Math.min(t-1,a);const[u,f]=this.scroll.leaf(a);return u?u.position(f,l):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Kg.info("setNativeRange",e,t,r,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const u=document.getSelection();if(u!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:f}=this.getNativeRange()||{};if(f==null||l||e!==f.startContainer||t!==f.startOffset||r!==f.endContainer||a!==f.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(a=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const m=document.createRange();m.setStart(e,t),m.setEnd(r,a),u.removeAllRanges(),u.addRange(m)}}else u.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;if(typeof t=="string"&&(r=t,t=!1),Kg.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.lastRange,[r,a]=this.getRange();if(this.lastRange=r,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!co(t,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}const l=[Ne.events.SELECTION_CHANGE,mc(this.lastRange),mc(t),e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...l),e!==Ne.sources.SILENT&&this.emitter.emit(...l)}}}function Qg(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const _8=/^[ -~]*$/;class E8{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=dT(e),a=new Re;return T8(r.ops.slice()).reduce((u,f)=>{const m=Rs.Op.length(f);let p=f.attributes||{},v=!1,E=!1;if(f.insert!=null){if(a.retain(m),typeof f.insert=="string"){const I=f.insert;E=!I.endsWith(`
`)&&(t<=u||!!this.scroll.descendant(Cs,u)[0]),this.scroll.insertAt(u,I);const[j,O]=this.scroll.line(u);let z=bo({},As(j));if(j instanceof Qn){const[H]=j.descendant(or,O);H&&(z=bo(z,As(H)))}p=Rs.AttributeMap.diff(z,p)||{}}else if(typeof f.insert=="object"){const I=Object.keys(f.insert)[0];if(I==null)return u;const j=this.scroll.query(I,Oe.INLINE)!=null;if(j)(t<=u||this.scroll.descendant(Cs,u)[0])&&(E=!0);else if(u>0){const[O,z]=this.scroll.descendant(or,u-1);O instanceof ti?O.value()[z]!==`
`&&(v=!0):O instanceof as&&O.statics.scope===Oe.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(u,I,f.insert[I]),j){const[O]=this.scroll.descendant(or,u);if(O){const z=bo({},As(O));p=Rs.AttributeMap.diff(z,p)||{}}}}t+=m}else if(a.push(f),f.retain!==null&&typeof f.retain=="object"){const I=Object.keys(f.retain)[0];if(I==null)return u;this.scroll.updateEmbedAt(u,I,f.retain[I])}Object.keys(p).forEach(I=>{this.scroll.formatAt(u,m,I,p[I])});const x=v?1:0,S=E?1:0;return t+=x+S,a.retain(x),a.delete(S),u+m+x+S},0),a.reduce((u,f)=>typeof f.delete=="number"?(this.scroll.deleteAt(u,f.delete),u):u+Rs.Op.length(f),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Re().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(l=>{this.scroll.lines(e,Math.max(t,1)).forEach(u=>{u.format(l,r[l])})}),this.scroll.optimize();const a=new Re().retain(e).retain(t,mc(r));return this.update(a)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(l=>{this.scroll.formatAt(e,t,l,r[l])});const a=new Re().retain(e).retain(t,mc(r));return this.update(a)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Re)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],a=[];t===0?this.scroll.path(e).forEach(f=>{const[m]=f;m instanceof Qn?r.push(m):m instanceof or&&a.push(m)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(or,e,t));const[l,u]=[r,a].map(f=>{const m=f.shift();if(m==null)return{};let p=As(m);for(;Object.keys(p).length>0;){const v=f.shift();if(v==null)return p;p=x8(As(v),p)}return p});return{...l,...u}}getHTML(e,t){const[r,a]=this.scroll.line(e);if(r){const l=r.length();return r.length()>=a+t&&!(a===0&&t===l)?ah(r,a,t,!0):ah(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=dT(t),a=new Re().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(a)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new Re().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(a=>{this.scroll.formatAt(e,t.length,a,r[a])}),this.update(new Re().retain(e).insert(t,mc(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Qn.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof ri}removeFormat(e,t){const r=this.getText(e,t),[a,l]=this.scroll.line(e+t);let u=0,f=new Re;a!=null&&(u=a.length()-l,f=a.delta().slice(l,l+u-1).insert(`
`));const p=this.getContents(e,t+u).diff(new Re().insert(r).concat(f)),v=new Re().retain(e).concat(p);return this.applyDelta(v)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(_8)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),u=As(l),f=l.offset(this.scroll),m=t[0].oldValue.replace(Ys.CONTENTS,""),p=new Re().insert(m),v=new Re().insert(l.value()),E=r&&{oldRange:mT(r.oldRange,-f),newRange:mT(r.newRange,-f)};e=new Re().retain(f).concat(p.diff(v,E)).reduce((S,I)=>I.insert?S.insert(I.insert,u):S.push(I),new Re),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!co(a.compose(e),this.delta))&&(e=a.diff(this.delta,r));return e}}function lc(n,e,t){if(n.length===0){const[S]=Yg(t.pop());return e<=0?`</li></${S}>`:`</li></${S}>${lc([],e-1,t)}`}const[{child:r,offset:a,length:l,indent:u,type:f},...m]=n,[p,v]=Yg(f);if(u>e)return t.push(f),u===e+1?`<${p}><li${v}>${ah(r,a,l)}${lc(m,u,t)}`:`<${p}><li>${lc(n,e+1,t)}`;const E=t[t.length-1];if(u===e&&f===E)return`</li><li${v}>${ah(r,a,l)}${lc(m,u,t)}`;const[x]=Yg(t.pop());return`</li></${x}>${lc(n,e-1,t)}`}function ah(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof ti)return xm(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Js){if(n.statics.blotName==="list-container"){const p=[];return n.children.forEachAt(e,t,(v,E,x)=>{const S="formats"in v&&typeof v.formats=="function"?v.formats():{};p.push({child:v,offset:E,length:x,indent:S.indent||0,type:S.list})}),lc(p,-1,[])}const a=[];if(n.children.forEachAt(e,t,(p,v,E)=>{a.push(ah(p,v,E))}),r||n.statics.blotName==="list")return a.join("");const{outerHTML:l,innerHTML:u}=n.domNode,[f,m]=l.split(`>${u}<`);return f==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${m}`:`${f}>${a.join("")}<${m}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function x8(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const a=e[r];return a===n[r]?t[r]=a:Array.isArray(a)?a.indexOf(n[r])<0?t[r]=a.concat([n[r]]):t[r]=a:t[r]=[a,n[r]],t},{})}function Yg(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function dT(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new Re)}function mT(n,e){let{index:t,length:r}=n;return new fl(t+e,r)}function T8(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((a,l)=>{l&&e.push({insert:`
`,attributes:t.attributes}),a&&e.push({insert:a,attributes:t.attributes})}):e.push(t)}),e}class Li{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const ed="\uFEFF";class iv extends as{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(ed),this.rightGuard=document.createTextNode(ed),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const a=e.data.split(ed).join("");if(e===this.leftGuard)if(this.prev instanceof ti){const l=this.prev.length();this.prev.insertAt(l,a),t={startNode:this.prev.domNode,startOffset:l+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof ti?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=ed,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const a=this.restore(r.target);a&&(t.range=a)}})}}class w8{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof iv)&&(this.emitter.emit(Ne.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ne.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ne.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ne.events.COMPOSITION_END,e),this.isComposing=!1}}class Vc{static DEFAULTS={modules:{}};static themes={default:Vc};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const A8=n=>n.parentElement||n.getRootNode().host||null,S8=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},td=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},pT=(n,e,t,r,a,l)=>n<t&&e>r?0:n<t?-(t-n+a):e>r?e-n>r-t?n+a-t:e-r+l:0,N8=(n,e)=>{const t=n.ownerDocument;let r=e,a=n;for(;a;){const l=a===t.body,u=l?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:S8(a),f=getComputedStyle(a),m=pT(r.left,r.right,u.left,u.right,td(f.scrollPaddingLeft),td(f.scrollPaddingRight)),p=pT(r.top,r.bottom,u.top,u.bottom,td(f.scrollPaddingTop),td(f.scrollPaddingBottom));if(m||p)if(l)t.defaultView?.scrollBy(m,p);else{const{scrollLeft:v,scrollTop:E}=a;p&&(a.scrollTop+=p),m&&(a.scrollLeft+=m);const x=a.scrollLeft-v,S=a.scrollTop-E;r={left:r.left-x,top:r.top-S,right:r.right-x,bottom:r.bottom-S}}a=l||f.position==="fixed"?null:A8(a)}},C8=100,R8=["block","break","cursor","inline","scroll","text"],I8=(n,e,t)=>{const r=new Sc;return R8.forEach(a=>{const l=e.query(a);l&&r.register(l)}),n.forEach(a=>{let l=e.query(a);l||t.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;l;)if(r.register(l),l="blotName"in l?l.requiredContainer??null:null,u+=1,u>C8){t.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),r},gc=Ca("quill"),nd=new Sc;Js.uiClass="ql-ui";class ae{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:nd,theme:"default"};static events=Ne.events;static sources=Ne.sources;static version="2.0.3";static imports={delta:Re,parchment:c8,"core/module":Li,"core/theme":Vc};static debug(e){e===!0&&(e="log"),Ca.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return zy.get(e)||nd.find(e,t)}static import(e){return this.imports[e]==null&&gc.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(a=>{this.register(a,e[a],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&gc.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&nd.register(t),typeof t.register=="function"&&t.register(nd)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=O8(e,t),this.container=this.options.container,this.container==null){gc.error("Invalid Quill container",e);return}this.options.debug&&ae.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",zy.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ne;const a=sv.blotName,l=this.options.registry.query(a);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new E8(this.scroll),this.selection=new b8(this.scroll,this.emitter),this.composition=new w8(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ne.events.EDITOR_CHANGE,u=>{u===Ne.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ne.events.SCROLL_UPDATE,(u,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),v=m&&p?{oldRange:m,newRange:p}:void 0;Ks.call(this,()=>this.editor.update(null,f,v),u)}),this.emitter.on(Ne.events.SCROLL_EMBED_UPDATE,(u,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),v=m&&p?{oldRange:m,newRange:p}:void 0;Ks.call(this,()=>{const E=new Re().retain(u.offset(this)).retain({[u.statics.blotName]:f});return this.editor.update(E,[],v)},ae.sources.USER)}),r){const u=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=ha(e,t,r),Ks.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;return Ks.call(this,()=>{const a=this.getSelection(!0);let l=new Re;if(a==null)return l;if(this.scroll.query(e,Oe.BLOCK))l=this.editor.formatLine(a.index,a.length,{[e]:t});else{if(a.length===0)return this.selection.format(e,t),l;l=this.editor.formatText(a.index,a.length,{[e]:t})}return this.setSelection(a,Ne.sources.SILENT),l},r)}formatLine(e,t,r,a,l){let u;return[e,t,u,l]=ha(e,t,r,a,l),Ks.call(this,()=>this.editor.formatLine(e,t,u),l,e,0)}formatText(e,t,r,a,l){let u;return[e,t,u,l]=ha(e,t,r,a,l),Ks.call(this,()=>this.editor.formatText(e,t,u),l,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=ha(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ha(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ha(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ae.sources.API;return Ks.call(this,()=>this.editor.insertEmbed(e,t,r),a,e)}insertText(e,t,r,a,l){let u;return[e,,u,l]=ha(e,0,r,a,l),Ks.call(this,()=>this.editor.insertText(e,t,u),l,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=ha(e,t,r),Ks.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){N8(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Ks.call(this,()=>{e=new Re(e);const r=this.getLength(),a=this.editor.deleteText(0,r),l=this.editor.insertContents(0,e),u=this.editor.deleteText(this.getLength()-1,1);return a.compose(l).compose(u)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||ae.sources.API):([e,t,,r]=ha(e,t,r),this.selection.setRange(new fl(Math.max(0,e),t),r),r!==Ne.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;const r=new Re().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Ks.call(this,()=>(e=new Re(e),this.editor.applyDelta(e)),t,!0)}}function gT(n){return typeof n=="string"?document.querySelector(n):n}function Xg(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,a]=t;return{...e,[r]:a===!0?{}:a}},{})}function yT(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function O8(n,e){const t=gT(n);if(!t)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===ae.DEFAULTS.theme?Vc:ae.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...u}=ae.DEFAULTS,{modules:f,...m}=a.DEFAULTS;let p=Xg(e.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const v=bo({},Xg(l),Xg(f),p),E={...u,...yT(m),...yT(e)};let x=e.registry;return x?e.formats&&gc.warn('Ignoring "formats" option because "registry" is specified'):x=e.formats?I8(e.formats,E.registry,gc):E.registry,{...E,registry:x,container:t,theme:a,modules:Object.entries(v).reduce((S,I)=>{let[j,O]=I;if(!O)return S;const z=ae.import(`modules/${j}`);return z==null?(gc.error(`Cannot load ${j} module. Are you sure you registered it?`),S):{...S,[j]:bo({},z.DEFAULTS||{},O)}},{}),bounds:gT(E.bounds)}}function Ks(n,e,t,r){if(!this.isEnabled()&&e===Ne.sources.USER&&!this.allowReadOnlyEdits)return new Re;let a=t==null?null:this.getSelection();const l=this.editor.delta,u=n();if(a!=null&&(t===!0&&(t=a.index),r==null?a=vT(a,u,e):r!==0&&(a=vT(a,t,r,e)),this.setSelection(a,Ne.sources.SILENT)),u.length()>0){const f=[Ne.events.TEXT_CHANGE,u,l,e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...f),e!==Ne.sources.SILENT&&this.emitter.emit(...f)}return u}function ha(n,e,t,r,a){let l={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(a=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(a=r,r=t,t=e,e=0),typeof t=="object"?(l=t,a=r):typeof t=="string"&&(r!=null?l[t]=r:a=t),a=a||Ne.sources.API,[n,e,l,a]}function vT(n,e,t,r){const a=typeof t=="number"?t:0;if(n==null)return null;let l,u;return e&&typeof e.transformPosition=="function"?[l,u]=[n.index,n.index+n.length].map(f=>e.transformPosition(f,r!==Ne.sources.USER)):[l,u]=[n.index,n.index+n.length].map(f=>f<e||f===e&&r===Ne.sources.USER?f:a>=0?f+a:Math.max(e,f+a)),new fl(l,u-l)}class El extends Em{}function bT(n){return n instanceof Qn||n instanceof Cs}function _T(n){return typeof n.updateContent=="function"}class D8 extends sv{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Qn;static allowedChildren=[Qn,Cs,El];constructor(e,t,r){let{emitter:a}=r;super(e,t),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ne.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,a]=this.line(e),[l]=this.line(e+t);if(super.deleteAt(e,t),l!=null&&r!==l&&a>0){if(r instanceof Cs||l instanceof Cs){this.optimize();return}const u=l.children.head instanceof ri?null:l.children.head;r.moveChildren(l,u),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Oe.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),r==null&&t.endsWith(`
`)?a.insertAt(0,t.slice(0,-1),r):a.insertAt(0,t,r)}else{const a=this.scroll.create(t,r);this.appendChild(a)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Oe.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new Re().insert(`
`))),a=r.pop();if(a==null)return;this.batchStart();const l=r.shift();if(l){const m=l.type==="block"&&(l.delta.length()===0||!this.descendant(Cs,e)[0]&&e<this.length()),p=l.type==="block"?l.delta:new Re().insert({[l.key]:l.value});Wg(this,e,p);const v=l.type==="block"?1:0,E=e+p.length()+v;m&&this.insertAt(E-1,`
`);const x=As(this.line(e)[0]),S=Rs.AttributeMap.diff(x,l.attributes)||{};Object.keys(S).forEach(I=>{this.formatAt(E-1,1,I,S[I])}),e=E}let[u,f]=this.children.find(e);if(r.length&&(u&&(u=u.split(f),f=0),r.forEach(m=>{if(m.type==="block"){const p=this.createBlock(m.attributes,u||void 0);Wg(p,0,m.delta)}else{const p=this.create(m.key,m.value);this.insertBefore(p,u||void 0),Object.keys(m.attributes).forEach(v=>{p.format(v,m.attributes[v])})}})),a.type==="block"&&a.delta.length()){const m=u?u.offset(u.scroll)+f:this.length();Wg(this,m,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,a]=t;return r instanceof or?[r,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(bT,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(a,l,u)=>{let f=[],m=u;return a.children.forEachAt(l,u,(p,v,E)=>{bT(p)?f.push(p):p instanceof Em&&(f=f.concat(r(p,v,m))),m-=E}),f};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ne.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ne.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:a}=r;const l=this.find(a,!0);return l&&!_T(l)}),e.length>0&&this.emitter.emit(Ne.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ne.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[a]=this.descendant(l=>l instanceof Cs,e);a&&a.statics.blotName===t&&_T(a)&&a.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new Re;return e.forEach(a=>{const l=a?.insert;if(l)if(typeof l=="string"){const u=l.split(`
`);u.slice(0,-1).forEach(m=>{r.insert(m,a.attributes),t.push({type:"block",delta:r,attributes:a.attributes??{}}),r=new Re});const f=u[u.length-1];f&&r.insert(f,a.attributes)}else{const u=Object.keys(l)[0];if(!u)return;this.query(u,Oe.INLINE)?r.push(a):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Re,t.push({type:"blockEmbed",key:u,value:l[u],attributes:a.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const a={};Object.entries(e).forEach(f=>{let[m,p]=f;this.query(m,Oe.BLOCK&Oe.BLOT)!=null?r=m:a[m]=p});const l=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(l,t||void 0);const u=l.length();return Object.entries(a).forEach(f=>{let[m,p]=f;l.formatAt(0,u,m,p)}),l}}function Wg(n,e,t){t.reduce((r,a)=>{const l=Rs.Op.length(a);let u=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const f=a.insert;n.insertAt(r,f);const[m]=n.descendant(or,r),p=As(m);u=Rs.AttributeMap.diff(p,u)||{}}else if(typeof a.insert=="object"){const f=Object.keys(a.insert)[0];if(f==null)return r;if(n.insertAt(r,f,a.insert[f]),n.scroll.query(f,Oe.INLINE)!=null){const[p]=n.descendant(or,r),v=As(p);u=Rs.AttributeMap.diff(v,u)||{}}}}return Object.keys(u).forEach(f=>{n.formatAt(r,l,f,u[f])}),r+l},e)}const av={scope:Oe.BLOCK,whitelist:["right","center","justify"]},L8=new Ri("align","align",av),l2=new ni("align","ql-align",av),c2=new jo("align","text-align",av);class u2 extends jo{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):t}}const k8=new ni("color","ql-color",{scope:Oe.INLINE}),ov=new u2("color","color",{scope:Oe.INLINE}),j8=new ni("background","ql-bg",{scope:Oe.INLINE}),lv=new u2("background","background-color",{scope:Oe.INLINE});class xl extends El{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${xm(this.code(e,t))}
</pre>`}}class br extends Qn{static TAB="  ";static register(){ae.register(xl)}}class cv extends vr{}cv.blotName="code";cv.tagName="CODE";br.blotName="code-block";br.className="ql-code-block";br.tagName="DIV";xl.blotName="code-block-container";xl.className="ql-code-block-container";xl.tagName="DIV";xl.allowedChildren=[br];br.allowedChildren=[ti,ri,Ys];br.requiredContainer=xl;const uv={scope:Oe.BLOCK,whitelist:["rtl"]},h2=new Ri("direction","dir",uv),f2=new ni("direction","ql-direction",uv),d2=new jo("direction","direction",uv),m2={scope:Oe.INLINE,whitelist:["serif","monospace"]},p2=new ni("font","ql-font",m2);class M8 extends jo{value(e){return super.value(e).replace(/["']/g,"")}}const g2=new M8("font","font-family",m2),y2=new ni("size","ql-size",{scope:Oe.INLINE,whitelist:["small","large","huge"]}),v2=new jo("size","font-size",{scope:Oe.INLINE,whitelist:["10px","18px","32px"]}),P8=Ca("quill:keyboard"),V8=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Tm extends Li{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=q8(e);if(a==null){P8.warn("Attempted to add invalid keyboard binding",a);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(a.key)?a.key:[a.key]).forEach(u=>{const f={...a,key:u,...t,...r};this.bindings[f.key]=this.bindings[f.key]||[],this.bindings[f.key].push(f)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(z=>Tm.match(e,z));if(a.length===0)return;const l=ae.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;const[f,m]=this.quill.getLine(u.index),[p,v]=this.quill.getLeaf(u.index),[E,x]=u.length===0?[p,v]:this.quill.getLeaf(u.index+u.length),S=p instanceof qd?p.value().slice(0,v):"",I=E instanceof qd?E.value().slice(x):"",j={collapsed:u.length===0,empty:u.length===0&&f.length()<=1,format:this.quill.getFormat(u),line:f,offset:m,prefix:S,suffix:I,event:e};a.some(z=>{if(z.collapsed!=null&&z.collapsed!==j.collapsed||z.empty!=null&&z.empty!==j.empty||z.offset!=null&&z.offset!==j.offset)return!1;if(Array.isArray(z.format)){if(z.format.every(H=>j.format[H]==null))return!1}else if(typeof z.format=="object"&&!Object.keys(z.format).every(H=>z.format[H]===!0?j.format[H]!=null:z.format[H]===!1?j.format[H]==null:co(z.format[H],j.format[H])))return!1;return z.prefix!=null&&!z.prefix.test(j.prefix)||z.suffix!=null&&!z.suffix.test(j.suffix)?!1:z.handler.call(this,u,j,z)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[l]=this.quill.getLine(e.index);let u=new Re().retain(e.index-r).delete(r);if(t.offset===0){const[f]=this.quill.getLine(e.index-1);if(f&&!(f.statics.blotName==="block"&&f.length()<=1)){const p=l.formats(),v=this.quill.getFormat(e.index-1,1);if(a=Rs.AttributeMap.diff(p,v)||{},Object.keys(a).length>0){const E=new Re().retain(e.index+l.length()-2).retain(1,a);u=u.compose(E)}}}this.quill.updateContents(u,ae.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let a={};const[l]=this.quill.getLine(e.index);let u=new Re().retain(e.index).delete(r);if(t.offset>=l.length()-1){const[f]=this.quill.getLine(e.index+1);if(f){const m=l.formats(),p=this.quill.getFormat(e.index,1);a=Rs.AttributeMap.diff(m,p)||{},Object.keys(a).length>0&&(u=u.retain(f.length()-1).retain(1,a))}}this.quill.updateContents(u,ae.sources.USER),this.quill.focus()}handleDeleteRange(e){hv({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((l,u)=>(this.quill.scroll.query(u,Oe.BLOCK)&&!Array.isArray(t.format[u])&&(l[u]=t.format[u]),l),{}),a=new Re().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(e.index+1,ae.sources.SILENT),this.quill.focus()}}const U8={bindings:{bold:Zg("bold"),italic:Zg("italic"),underline:Zg("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",ae.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",ae.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",ae.sources.USER):e.format.list!=null&&this.quill.format("list",!1,ae.sources.USER)}},"indent code-block":ET(!0),"outdent code-block":ET(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,ae.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Re().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,ae.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ae.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,ae.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},a=new Re().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),a=new Re().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,a,l]=e.getTable(n),u=B8(t,r,a,l);if(u==null)return;let f=t.offset();if(u<0){const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(n.index+1,n.length,ae.sources.SILENT)}else if(u>0){f+=t.length();const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(f,ae.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,a=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(a-1,ae.sources.USER):this.quill.setSelection(a+r.length(),ae.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,a]=this.quill.getLine(n.index);if(a>t)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",ae.sources.USER),this.quill.history.cutoff();const u=new Re().retain(n.index-a).delete(t+1).retain(r.length()-2-a).retain(1,{list:l});return this.quill.updateContents(u,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,ae.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,r-=1,r<=0){const l=new Re().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,ae.sources.USER),this.quill.setSelection(n.index-1,ae.sources.SILENT),!1}return!0}},"embed left":rd("ArrowLeft",!1),"embed left shift":rd("ArrowLeft",!0),"embed right":rd("ArrowRight",!1),"embed right shift":rd("ArrowRight",!0),"table down":xT(!1),"table up":xT(!0)}};Tm.DEFAULTS=U8;function ET(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const a=this.quill.scroll.query("code-block"),{TAB:l}=a;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,l,ae.sources.USER),this.quill.setSelection(e.index+l.length,ae.sources.SILENT);return}const u=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:f,length:m}=e;u.forEach((p,v)=>{n?(p.insertAt(0,l),v===0?f+=l.length:m+=l.length):p.domNode.textContent.startsWith(l)&&(p.deleteAt(0,l.length),v===0?f-=l.length:m-=l.length)}),this.quill.update(ae.sources.USER),this.quill.setSelection(f,m,ae.sources.SILENT)}}}function rd(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:a}=r;n==="ArrowRight"&&(a+=r.length+1);const[l]=this.quill.getLeaf(a);return l instanceof as?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,ae.sources.USER):this.quill.setSelection(r.index-1,ae.sources.USER):e?this.quill.setSelection(r.index,r.length+1,ae.sources.USER):this.quill.setSelection(r.index+r.length+1,ae.sources.USER),!1):!0}}}function Zg(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],ae.sources.USER)}}}function xT(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",a=t.line,l=a.parent[r];if(l!=null){if(l.statics.blotName==="table-row"){let u=l.children.head,f=a;for(;f.prev!=null;)f=f.prev,u=u.next;const m=u.offset(this.quill.scroll)+Math.min(t.offset,u.length()-1);this.quill.setSelection(m,0,ae.sources.USER)}}else{const u=a.table()[r];u!=null&&(n?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,ae.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,ae.sources.USER))}return!1}}}function q8(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=mc(n);else return null;return n.shortKey&&(n[V8]=n.shortKey,delete n.shortKey),n}function hv(n){let{quill:e,range:t}=n;const r=e.getLines(t);let a={};if(r.length>1){const l=r[0].formats(),u=r[r.length-1].formats();a=Rs.AttributeMap.diff(u,l)||{}}e.deleteText(t,ae.sources.USER),Object.keys(a).length>0&&e.formatLine(t.index,1,a,ae.sources.USER),e.setSelection(t.index,ae.sources.SILENT)}function B8(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const z8=/font-weight:\s*normal/,H8=["P","OL","UL"],TT=n=>n&&H8.includes(n.tagName),F8=n=>{Array.from(n.querySelectorAll("br")).filter(e=>TT(e.previousElementSibling)&&TT(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},G8=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(z8)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function $8(n){n.querySelector('[id^="docs-internal-guid-"]')&&(G8(n),F8(n))}const K8=/\bmso-list:[^;]*ignore/i,Q8=/\bmso-list:[^;]*\bl(\d+)/i,Y8=/\bmso-list:[^;]*\blevel(\d+)/i,X8=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(Q8);if(!r)return null;const a=Number(r[1]),l=t?.match(Y8),u=l?Number(l[1]):1,f=new RegExp(`@list l${a}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),m=e.match(f),p=m&&m[1]==="bullet"?"bullet":"ordered";return{id:a,indent:u,type:p,element:n}},W8=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(u=>{(u.getAttribute("style")||"").match(K8)?t.push(u):r.push(u)}),t.forEach(u=>u.parentNode?.removeChild(u));const a=n.documentElement.innerHTML,l=r.map(u=>X8(u,a)).filter(u=>u);for(;l.length;){const u=[];let f=l.shift();for(;f;)u.push(f),f=l.length&&l[0]?.element===f.element.nextElementSibling&&l[0].id===f.id?l.shift():null;const m=document.createElement("ul");u.forEach(E=>{const x=document.createElement("li");x.setAttribute("data-list",E.type),E.indent>1&&x.setAttribute("class",`ql-indent-${E.indent-1}`),x.innerHTML=E.element.innerHTML,m.appendChild(x)});const p=u[0]?.element,{parentNode:v}=p??{};p&&v?.replaceChild(m,p),u.slice(1).forEach(E=>{let{element:x}=E;v?.removeChild(x)})}};function Z8(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&W8(n)}const J8=[Z8,$8],e7=n=>{n.documentElement&&J8.forEach(e=>{e(n)})},t7=Ca("quill:clipboard"),n7=[[Node.TEXT_NODE,p7],[Node.TEXT_NODE,AT],["br",l7],[Node.ELEMENT_NODE,AT],[Node.ELEMENT_NODE,o7],[Node.ELEMENT_NODE,a7],[Node.ELEMENT_NODE,d7],["li",h7],["ol, ul",f7],["pre",c7],["tr",m7],["b",Jg("bold")],["i",Jg("italic")],["strike",Jg("strike")],["style",u7]],r7=[L8,h2].reduce((n,e)=>(n[e.keyName]=e,n),{}),wT=[c2,lv,ov,d2,g2,v2].reduce((n,e)=>(n[e.keyName]=e,n),{});class s7 extends Li{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],n7.concat(this.options.matchers??[]).forEach(r=>{let[a,l]=r;this.addMatcher(a,l)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[br.blotName])return new Re().insert(r||"",{[br.blotName]:a[br.blotName]});if(!t)return new Re().insert(r||"",a);const l=this.convertHTML(t);return Ah(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||a.table)?l.compose(new Re().retain(l.length()-1).delete(1)):l}normalizeHTML(e){e7(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,a=new WeakMap,[l,u]=this.prepareMatching(r,a);return fv(this.quill.scroll,r,l,u,a)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ae.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,t),this.quill.setSelection(0,ae.sources.SILENT)}else{const a=this.convert({html:t,text:""});this.quill.updateContents(new Re().retain(e).concat(a),r),this.quill.setSelection(e+a.length(),ae.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:a,text:l}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",l),e.clipboardData?.setData("text/html",a),t&&hv({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let a=e.clipboardData?.getData("text/plain");if(!r&&!a){const u=e.clipboardData?.getData("text/uri-list");u&&(a=this.normalizeURIList(u))}const l=Array.from(e.clipboardData?.files||[]);if(!r&&l.length>0){this.quill.uploader.upload(t,l);return}if(r&&l.length>0){const u=new DOMParser().parseFromString(r,"text/html");if(u.body.childElementCount===1&&u.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,l);return}}this.onPaste(t,{html:r,text:a})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:a}=t;const l=this.quill.getFormat(e.index),u=this.convert({text:r,html:a},l);t7.log("onPaste",u,{text:r,html:a});const f=new Re().retain(e.index).delete(e.length).concat(u);this.quill.updateContents(f,ae.sources.USER),this.quill.setSelection(f.length()-e.length,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],a=[];return this.matchers.forEach(l=>{const[u,f]=l;switch(u){case Node.TEXT_NODE:a.push(f);break;case Node.ELEMENT_NODE:r.push(f);break;default:Array.from(e.querySelectorAll(u)).forEach(m=>{t.has(m)?t.get(m)?.push(f):t.set(m,[f])});break}}),[r,a]}}function Tl(n,e,t,r){return r.query(e)?n.reduce((a,l)=>{if(!l.insert)return a;if(l.attributes&&l.attributes[e])return a.push(l);const u=t?{[e]:t}:{};return a.insert(l.insert,{...u,...l.attributes})},new Re):n}function Ah(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const a=n.ops[r];if(typeof a.insert!="string")break;t=a.insert+t}return t.slice(-1*e.length)===e}function fo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof as?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function i7(n,e){return n.previousElementSibling&&n.nextElementSibling&&!fo(n.previousElementSibling,e)&&!fo(n.nextElementSibling,e)}const sd=new WeakMap;function b2(n){return n==null?!1:(sd.has(n)||(n.tagName==="PRE"?sd.set(n,!0):sd.set(n,b2(n.parentNode))),sd.get(n))}function fv(n,e,t,r,a){return e.nodeType===e.TEXT_NODE?r.reduce((l,u)=>u(e,l,n),new Re):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,u)=>{let f=fv(n,u,t,r,a);return u.nodeType===e.ELEMENT_NODE&&(f=t.reduce((m,p)=>p(u,m,n),f),f=(a.get(u)||[]).reduce((m,p)=>p(u,m,n),f)),l.concat(f)},new Re):new Re}function Jg(n){return(e,t,r)=>Tl(t,n,!0,r)}function a7(n,e,t){const r=Ri.keys(n),a=ni.keys(n),l=jo.keys(n),u={};return r.concat(a).concat(l).forEach(f=>{let m=t.query(f,Oe.ATTRIBUTE);m!=null&&(u[m.attrName]=m.value(n),u[m.attrName])||(m=r7[f],m!=null&&(m.attrName===f||m.keyName===f)&&(u[m.attrName]=m.value(n)||void 0),m=wT[f],m!=null&&(m.attrName===f||m.keyName===f)&&(m=wT[f],u[m.attrName]=m.value(n)||void 0))}),Object.entries(u).reduce((f,m)=>{let[p,v]=m;return Tl(f,p,v,t)},e)}function o7(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof as){const a={},l=r.value(n);if(l!=null)return a[r.blotName]=l,new Re().insert(a,r.formats(n,t))}else if(r.prototype instanceof ih&&!Ah(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Tl(e,r.blotName,r.formats(n,t),t);return e}function l7(n,e){return Ah(e,`
`)||e.insert(`
`),e}function c7(n,e,t){const r=t.query("code-block"),a=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Tl(e,"code-block",a,t)}function u7(){return new Re}function h7(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!Ah(e,`
`))return e;let a=-1,l=n.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(a+=1),l=l.parentNode;return a<=0?e:e.reduce((u,f)=>f.insert?f.attributes&&typeof f.attributes.indent=="number"?u.push(f):u.insert(f.insert,{indent:a,...f.attributes||{}}):u,new Re)}function f7(n,e,t){const r=n;let a=r.tagName==="OL"?"ordered":"bullet";const l=r.getAttribute("data-checked");return l&&(a=l==="true"?"checked":"unchecked"),Tl(e,"list",a,t)}function AT(n,e,t){if(!Ah(e,`
`)){if(fo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(fo(r,t))return e.insert(`
`);const a=t.query(r);if(a&&a.prototype instanceof Cs)return e.insert(`
`);r=r.firstChild}}}return e}function d7(n,e,t){const r={},a=n.style||{};return a.fontStyle==="italic"&&(r.italic=!0),a.textDecoration==="underline"&&(r.underline=!0),a.textDecoration==="line-through"&&(r.strike=!0),(a.fontWeight?.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,u)=>{let[f,m]=u;return Tl(l,f,m,t)},e),parseFloat(a.textIndent||0)>0?new Re().insert("	").concat(e):e}function m7(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Tl(e,"table",l,t)}return e}function p7(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!b2(n)){if(r.trim().length===0&&r.includes(`
`)&&!i7(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&fo(n.parentElement,t)||n.previousSibling instanceof Element&&fo(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&fo(n.parentElement,t)||n.nextSibling instanceof Element&&fo(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class g7 extends Li{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(ae.events.EDITOR_CHANGE,(r,a,l,u)=>{r===ae.events.SELECTION_CHANGE?a&&u!==ae.sources.SILENT&&(this.currentRange=a):r===ae.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||u===ae.sources.USER?this.record(a,l):this.transform(a)),this.currentRange=Gy(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const a=this.quill.getContents(),l=r.delta.invert(a);this.stack[t].push({delta:l,range:Gy(r.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,ae.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),a=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const u=this.stack.undo.pop();u&&(r=r.compose(u.delta),a=u.range)}else this.lastRecorded=l;r.length()!==0&&(this.stack.undo.push({delta:r,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){ST(this.stack.undo,e),ST(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,ae.sources.USER);else{const t=v7(this.quill.scroll,e.delta);this.quill.setSelection(t,ae.sources.USER)}}}function ST(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const a=n[r];n[r]={delta:t.transform(a.delta,!0),range:a.range&&Gy(a.range,t)},t=a.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function y7(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Oe.BLOCK)!=null):!1}function v7(n,e){const t=e.reduce((a,l)=>a+(l.delete||0),0);let r=e.length()-t;return y7(n,e)&&(r-=1),r}function Gy(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class _2 extends Li{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const u=document.caretPositionFromPoint(r.clientX,r.clientY);a=document.createRange(),a.setStart(u.offsetNode,u.offset),a.setEnd(u.offsetNode,u.offset)}const l=a&&e.selection.normalizeNative(a);if(l){const u=e.selection.normalizedToRange(l);r.dataTransfer?.files&&this.upload(u,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(a=>{a&&this.options.mimetypes?.includes(a.type)&&r.push(a)}),r.length>0&&this.options.handler.call(this,e,r)}}_2.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(a=>{const l=new FileReader;l.onload=()=>{a(l.result)},l.readAsDataURL(r)}));Promise.all(t).then(r=>{const a=r.reduce((l,u)=>l.insert({image:u}),new Re().retain(n.index).delete(n.length));this.quill.updateContents(a,Ne.sources.USER),this.quill.setSelection(n.index+r.length,Ne.sources.SILENT)})}};const b7=["insertText","insertReplacementText"];class _7 extends Li{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(ae.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){hv({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Re().retain(e.index).insert(t,r),ae.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,ae.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!b7.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=E7(e);if(r==null)return;const a=this.quill.selection.normalizeNative(t),l=a?this.quill.selection.normalizedToRange(a):null;l&&this.replaceText(l,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function E7(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const x7=/Mac/i.test(navigator.platform),T7=100,w7=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||x7&&n.key==="a"&&n.ctrlKey===!0);class A7 extends Li{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:a}=t;if(!(r instanceof Js)||!r.uiNode)return!0;const l=getComputedStyle(r.domNode).direction==="rtl";return l&&a.key!=="ArrowRight"||!l&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),ae.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&w7(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+T7,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof Js)||!r.uiNode)return;const a=document.createRange();a.setStartAfter(r.uiNode),a.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(a)}}ae.register({"blots/block":Qn,"blots/block/embed":Cs,"blots/break":ri,"blots/container":El,"blots/cursor":Ys,"blots/embed":iv,"blots/inline":vr,"blots/scroll":D8,"blots/text":ti,"modules/clipboard":s7,"modules/history":g7,"modules/keyboard":Tm,"modules/uploader":_2,"modules/input":_7,"modules/uiNode":A7});class S7 extends ni{add(e,t){let r=0;if(t==="+1"||t==="-1"){const a=this.value(e)||0;r=t==="+1"?a+1:a-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const N7=new S7("indent","ql-indent",{scope:Oe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class C7 extends Qn{static blotName="blockquote";static tagName="blockquote"}class R7 extends Qn{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class Sh extends El{}Sh.blotName="list-container";Sh.tagName="OL";class Nh extends Qn{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){ae.register(Sh)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),a=l=>{if(!e.isEnabled())return;const u=this.statics.formats(t,e);u==="checked"?(this.format("list","unchecked"),l.preventDefault()):u==="unchecked"&&(this.format("list","checked"),l.preventDefault())};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Nh.blotName="list";Nh.tagName="LI";Sh.allowedChildren=[Nh];Nh.requiredContainer=Sh;class dv extends vr{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class I7 extends dv{static blotName="italic";static tagName=["EM","I"]}class Bd extends vr{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return E2(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function E2(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class O7 extends vr{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class D7 extends dv{static blotName="strike";static tagName=["S","STRIKE"]}class L7 extends vr{static blotName="underline";static tagName="U"}class k7 extends iv{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const NT=["alt","height","width"];let j7=class extends as{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return NT.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return E2(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){NT.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}};const CT=["height","width"];class M7 extends Cs{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return CT.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Bd.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){CT.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const ju=new ni("code-token","hljs",{scope:Oe.INLINE});class xa extends vr{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(br.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),ju.add(this.domNode,r)}format(e,t){e!==xa.blotName?super.format(e,t):t?ju.add(this.domNode,t):(ju.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ju.value(this.domNode)||this.unwrap()}}xa.blotName="code-token";xa.className="ql-token";class Ss extends br{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),xa.blotName,!1),super.replaceWith(e,t)}}class Hu extends xl{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ss.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,a){r===Ss.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,a)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,l=Ss.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const u=this.children.reduce((m,p)=>m.concat(a2(p,!1)),new Re),f=e(a,l);u.diff(f).reduce((m,p)=>{let{retain:v,attributes:E}=p;return v?(E&&Object.keys(E).forEach(x=>{[Ss.blotName,xa.blotName].includes(x)&&this.formatAt(m,v,x,E[x])}),m+v):m},0)}this.cachedText=a,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Ss.formats(r.domNode):"plain"}">
${xm(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ss.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Hu.allowedChildren=[Ss];Ss.requiredContainer=Hu;Ss.allowedChildren=[xa,Ys,ti,ri];const P7=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class x2 extends Li{static register(){ae.register(xa,!0),ae.register(Ss,!0),ae.register(Hu,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,a)=>{let{key:l}=a;return r[l]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ae.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Hu))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:a,label:l}=r;const u=t.ownerDocument.createElement("option");u.textContent=l,u.setAttribute("value",a),t.appendChild(u)}),t.addEventListener("change",()=>{e.format(Ss.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ss.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(ae.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ae.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Hu):[e]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(ae.sources.SILENT),r!=null&&this.quill.setSelection(r,ae.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return xm(e).split(`
`).reduce((a,l,u)=>(u!==0&&a.insert(`
`,{[br.blotName]:t}),a.insert(l)),new Re);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(br.className),r.innerHTML=P7(this.options.hljs,t,e),fv(this.quill.scroll,r,[(a,l)=>{const u=ju.value(a);return u?l.compose(new Re().retain(l.length(),{[xa.blotName]:u})):l}],[(a,l)=>a.data.split(`
`).reduce((u,f,m)=>(m!==0&&u.insert(`
`,{[br.blotName]:t}),u.insert(f)),l)],new WeakMap)}}x2.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Xs extends Qn{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",mv()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Xs.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class dl extends El{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),a=t.next.formats();if(r.table!==a.table){const l=this.splitAfter(t);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class _o extends El{static blotName="table-body";static tagName="TBODY"}class zd extends El{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(dl),t=e.reduce((r,a)=>Math.max(a.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let a;r.children.head!=null&&(a=Xs.formats(r.children.head.domNode));const l=this.scroll.create(Xs.blotName,a);r.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(_o);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e);a?.remove()})}insertColumn(e){const[t]=this.descendant(_o);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e),l=Xs.formats(r.children.head.domNode),u=this.scroll.create(Xs.blotName,l);r.insertBefore(u,a)})}insertRow(e){const[t]=this.descendant(_o);if(t==null||t.children.head==null)return;const r=mv(),a=this.scroll.create(dl.blotName);t.children.head.children.forEach(()=>{const u=this.scroll.create(Xs.blotName,r);a.appendChild(u)});const l=t.children.at(e);t.insertBefore(a,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}zd.allowedChildren=[_o];_o.requiredContainer=zd;_o.allowedChildren=[dl];dl.requiredContainer=_o;dl.allowedChildren=[Xs];Xs.requiredContainer=dl;function mv(){return`row-${Math.random().toString(36).slice(2,6)}`}class V7 extends Li{static register(){ae.register(Xs),ae.register(dl),ae.register(_o),ae.register(zd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(zd).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(ae.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(ae.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(ae.sources.USER),this.quill.setSelection(t,ae.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Xs.blotName)return[null,null,null,-1];const a=t.parent;return[a.parent.parent,a,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const u=l.cellOffset();r.insertColumn(u+e),this.quill.update(ae.sources.USER);let f=a.rowOffset();e===0&&(f+=1),this.quill.setSelection(t.index+f,t.length,ae.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const u=a.rowOffset();r.insertRow(u+e),this.quill.update(ae.sources.USER),e>0?this.quill.setSelection(t,ae.sources.SILENT):this.quill.setSelection(t.index+a.children.length,t.length,ae.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const a=new Array(e).fill(0).reduce(l=>{const u=new Array(t).fill(`
`).join("");return l.insert(u,{table:mv()})},new Re().retain(r.index));this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(r.index,ae.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ae.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(ae.events.TEXT_CHANGE,(r,a,l)=>{l===ae.sources.USER&&this.balanceTables()}),!0):!1)})}}const RT=Ca("quill:toolbar");class pv extends Li{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),U7(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){RT.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const a=this.options.handlers?.[r];a&&this.addHandler(r,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(ae.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){RT.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,a=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const f=e.options[e.selectedIndex];f.hasAttribute("selected")?l=!1:l=f.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,l);else if(this.quill.scroll.query(t).prototype instanceof as){if(l=prompt(`Enter ${t}`),!l)return;this.quill.updateContents(new Re().retain(u.index).delete(u.length).insert({[t]:l}),ae.sources.USER)}else this.quill.format(t,l,ae.sources.USER);this.update(u)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[a,l]=r;if(l.tagName==="SELECT"){let u=null;if(e==null)u=null;else if(t[a]==null)u=l.querySelector("option[selected]");else if(!Array.isArray(t[a])){let f=t[a];typeof f=="string"&&(f=f.replace(/"/g,'\\"')),u=l.querySelector(`option[value="${f}"]`)}u==null?(l.value="",l.selectedIndex=-1):u.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const u=t[a],f=u===l.getAttribute("value")||u!=null&&u.toString()===l.getAttribute("value")||u==null&&!l.getAttribute("value");l.classList.toggle("ql-active",f),l.setAttribute("aria-pressed",f.toString())}else{const u=t[a]!=null;l.classList.toggle("ql-active",u),l.setAttribute("aria-pressed",u.toString())}})}}pv.DEFAULTS={};function IT(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function U7(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(a=>{if(typeof a=="string")IT(r,a);else{const l=Object.keys(a)[0],u=a[l];Array.isArray(u)?q7(r,l,u):IT(r,l,u)}}),n.appendChild(r)})}function q7(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(a=>{const l=document.createElement("option");a!==!1?l.setAttribute("value",String(a)):l.setAttribute("selected","selected"),r.appendChild(l)}),n.appendChild(r)}pv.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Oe.INLINE)!=null&&this.quill.format(t,!1,ae.sources.USER)})}else this.quill.removeFormat(n.index,n.length,ae.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",ae.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,ae.sources.USER),this.quill.format("direction",n,ae.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let a=n==="+1"?1:-1;t.direction==="rtl"&&(a*=-1),this.quill.format("indent",r+a,ae.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,ae.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,ae.sources.USER):this.quill.format("list","unchecked",ae.sources.USER):this.quill.format("list",n,ae.sources.USER)}}};const B7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',z7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',H7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',F7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',G7='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',$7='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',K7='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Q7='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',OT='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Y7='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',X7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',W7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Z7='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',J7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',eP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',tP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',nP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',rP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',sP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',iP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',aP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',oP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',lP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',cP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',uP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',hP='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',fP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',dP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',mP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',pP='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',gP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',yP='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',vP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',oh={align:{"":B7,center:z7,right:H7,justify:F7},background:G7,blockquote:$7,bold:K7,clean:Q7,code:OT,"code-block":OT,color:Y7,direction:{"":X7,rtl:W7},formula:Z7,header:{1:J7,2:eP,3:tP,4:nP,5:rP,6:sP},italic:iP,image:aP,indent:{"+1":oP,"-1":lP},link:cP,list:{bullet:uP,check:hP,ordered:fP},script:{sub:dP,super:mP},strike:pP,table:gP,underline:yP,video:vP},bP='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let DT=0;function LT(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class wm{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),LT(this.label,"aria-expanded"),LT(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(t,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=bP,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${DT}`,DT+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class T2 extends wm{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=a:r.style.fill=a)}}class w2 extends wm{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const _P=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class A2{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,_P(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let u=0;if(l.right>a.right&&(u=a.right-l.right,this.root.style.left=`${t+u}px`),l.left<a.left&&(u=a.left-l.left,this.root.style.left=`${t+u}px`),l.bottom>a.bottom){const f=l.bottom-l.top,m=e.bottom-e.top+f;this.root.style.top=`${r-m}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const EP=[!1,"center","right","justify"],xP=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],TP=[!1,"serif","monospace"],wP=["1","2","3",!1],AP=["small",!1,"large","huge"];class Ch extends Vc{constructor(e,t){super(e,t);const r=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(a.target)||l.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),t[l]!=null))if(l==="direction")r.innerHTML=t[l][""]+t[l].rtl;else if(typeof t[l]=="string")r.innerHTML=t[l];else{const u=r.value||"";u!=null&&t[l][u]&&(r.innerHTML=t[l][u])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Su(a,EP),typeof t.align=="object"))return new w2(a,t.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const l=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Su(a,xP,l==="background"?"#ffffff":"#000000"),new T2(a,t[l])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Su(a,TP):a.classList.contains("ql-header")?Su(a,wP):a.classList.contains("ql-size")&&Su(a,AP)),new wm(a)});const r=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ne.events.EDITOR_CHANGE,r)}}Ch.DEFAULTS=bo({},Vc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class S2 extends A2{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ne.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ne.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=SP(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ne.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ne.sources.USER),this.quill.setSelection(r+2,Ne.sources.USER)}break}}this.textbox.value="",this.hide()}}function SP(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Su(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const a=document.createElement("option");r===t?a.setAttribute("selected","selected"):a.setAttribute("value",String(r)),n.appendChild(a)})}const NP=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class CP extends S2{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Ne.events.EDITOR_CHANGE,(r,a,l,u)=>{if(r===Ne.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&u===Ne.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const f=this.quill.getLines(a.index,a.length);if(f.length===1){const m=this.quill.getBounds(a);m!=null&&this.position(m)}else{const m=f[f.length-1],p=this.quill.getIndex(m),v=Math.min(m.length()-1,a.index+a.length-p),E=this.quill.getBounds(new fl(p,v));E!=null&&this.position(E)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ne.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class N2 extends Ch{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=NP),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new CP(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),oh),this.buildPickers(e.container.querySelectorAll("select"),oh))}}N2.DEFAULTS=bo({},Ch.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ae.sources.USER)}}}}});const RP=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class IP extends S2{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Ne.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Ne.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===Ne.sources.USER){const[a,l]=this.quill.scroll.descendant(Bd,e.index);if(a!=null){this.linkRange=new fl(e.index-l,a.length());const u=Bd.formats(a.domNode);this.preview.textContent=u,this.preview.setAttribute("href",u),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class C2 extends Ch{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=RP),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),oh),this.buildPickers(e.container.querySelectorAll("select"),oh),this.tooltip=new IP(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}C2.DEFAULTS=bo({},Ch.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,ae.sources.USER)}}}}});ae.register({"attributors/attribute/direction":h2,"attributors/class/align":l2,"attributors/class/background":j8,"attributors/class/color":k8,"attributors/class/direction":f2,"attributors/class/font":p2,"attributors/class/size":y2,"attributors/style/align":c2,"attributors/style/background":lv,"attributors/style/color":ov,"attributors/style/direction":d2,"attributors/style/font":g2,"attributors/style/size":v2},!0);ae.register({"formats/align":l2,"formats/direction":f2,"formats/indent":N7,"formats/background":lv,"formats/color":ov,"formats/font":p2,"formats/size":y2,"formats/blockquote":C7,"formats/code-block":br,"formats/header":R7,"formats/list":Nh,"formats/bold":dv,"formats/code":cv,"formats/italic":I7,"formats/link":Bd,"formats/script":O7,"formats/strike":D7,"formats/underline":L7,"formats/formula":k7,"formats/image":j7,"formats/video":M7,"modules/syntax":x2,"modules/table":V7,"modules/toolbar":pv,"themes/bubble":N2,"themes/snow":C2,"ui/icons":oh,"ui/picker":wm,"ui/icon-picker":w2,"ui/color-picker":T2,"ui/tooltip":A2},!0);class wl extends vi.Component{constructor(e){super(e),this.editingAreaRef=F.createRef(),this.containerRef=F.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,a,l,u)=>{r==="text-change"?this.onEditorChangeText?.(this.editor.root.innerHTML,a,u,this.unprivilegedEditor):r==="selection-change"&&this.onEditorChangeSelection?.(a,u,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(vi.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(vi.Children.count(e.children)&&vi.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const r=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,r)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!co(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!co(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(r),kT(()=>this.setEditorSelection(l,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const r=this.containerRef.current?.querySelector(".ql-toolbar");r&&r.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const r=new ae(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?co(e.ops,t.ops):co(e,t)}setEditorContents(e,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),kT(()=>this.setEditorSelection(e,r))}setEditorSelection(e,t){if(this.selection=t,t){const r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:r}=this.state,a={key:r,ref:this.editingAreaRef};return vi.Children.count(e)?vi.cloneElement(vi.Children.only(e),a):t?vi.createElement("pre",{...a}):vi.createElement("div",{...a})}render(){return vi.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,r,a){if(!this.editor)return;const l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=l,this.props.onChange?.(e,t,r,a))}onEditorChangeSelection(e,t,r){if(!this.editor)return;const a=this.getEditorSelection(),l=!a&&e,u=a&&!e;co(e,a)||(this.selection=e,this.props.onChangeSelection?.(e,t,r),l?this.props.onFocus?.(e,t,r):u&&this.props.onBlur?.(a,t,r))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}wl.displayName="React Quill";wl.Quill=ae;wl.defaultProps={theme:"snow",modules:{},readOnly:!1};function kT(n){Promise.resolve().then(n)}const OP={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},DP=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],LP=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(!0),[a,l]=F.useState(!1),[u,f]=F.useState(null),[m,p]=F.useState({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""});F.useEffect(()=>{v()},[]);const v=async()=>{r(!0);try{const I=Aa(rn(He,"news"),Sa("timestamp","desc")),O=(await Mr(I)).docs.map(z=>({id:z.id,...z.data()}));e(O)}catch(I){console.error("Error fetching news:",I)}finally{r(!1)}},E=async I=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await mm(sn(He,"news",I)),v()}catch(j){console.error("Error deleting news:",j),alert("Failed to delete news item.")}},x=async I=>{I.preventDefault();try{const j=m.affectedCurrencies.split(",").map(O=>O.trim().toUpperCase()).filter(O=>O);u?await dm(sn(He,"news",u),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:j,timestamp:th()}):await pm(rn(He,"news"),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:j,timestamp:th()}),l(!1),f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}),v()}catch(j){console.error("Error saving news:",j),alert("Failed to save news item.")}},S=I=>{p({title:I.title,impact:I.impact,content:I.content,image:I.image,affectedCurrencies:I.affectedCurrencies?I.affectedCurrencies.join(", "):""}),f(I.id),l(!0)};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage News"}),y.jsx(an,{onClick:()=>{l(!a),a&&(f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}))},children:a?"Cancel":"Post New Alert"})]}),a&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:u?"Edit Market Update":"New Market Update"}),y.jsxs("form",{onSubmit:x,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:I=>p({...m,title:I.target.value}),placeholder:"e.g., NFP Beats Expectations"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.impact,onChange:I=>p({...m,impact:I.target.value}),children:[y.jsx("option",{value:"Low",children:"Low (Yellow)"}),y.jsx("option",{value:"Medium",children:"Medium (Orange)"}),y.jsx("option",{value:"High",children:"High (Red)"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Content/Summary"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(wl,{theme:"snow",value:m.content,onChange:I=>p({...m,content:I}),modules:OP,formats:DP,className:"h-96 mb-12"})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Optional)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:I=>p({...m,image:I.target.value}),placeholder:"https://..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Affected Currencies (comma separated)"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.affectedCurrencies,onChange:I=>p({...m,affectedCurrencies:I.target.value}),placeholder:"USD, EUR, JPY"})]})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx(an,{type:"submit",variant:"primary",children:u?"Update News":"Publish News"})})]})]}),y.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[y.jsx("thead",{className:"bg-gray-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Impact"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-800",children:t?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No news posted yet."})}):n.map(I=>y.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.timestamp?.seconds?new Date(I.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:I.title}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${I.impact==="High"?"bg-red-500/20 text-red-400":I.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:I.impact})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>S(I),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),y.jsx("button",{onClick:()=>E(I.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},I.id))})]})})})]})},kP={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},jP=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],MP=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(!0),[a,l]=F.useState(!1),[u,f]=F.useState(null),[m,p]=F.useState({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis"}),[v,E]=F.useState({});F.useEffect(()=>{x();const O=gh(ss,async z=>{if(z)try{const H=sn(He,"users",z.uid),W=await Oi(H);W.exists()&&E(W.data())}catch(H){console.error("Error fetching profile:",H)}});return()=>O()},[]);const x=async()=>{r(!0);try{const O=Aa(rn(He,"analysis"),Sa("timestamp","desc")),H=(await Mr(O)).docs.map(W=>({id:W.id,...W.data()}));e(H)}catch(O){console.error("Error fetching analysis:",O)}finally{r(!1)}},S=async O=>{if(window.confirm("Are you sure you want to delete this analysis?"))try{await mm(sn(He,"analysis",O)),x()}catch(z){console.error("Error deleting post:",z),alert("Failed to delete post.")}},I=async O=>{O.preventDefault();const z={...m,...v,timestamp:th()};try{u?await dm(sn(He,"analysis",u),z):await pm(rn(He,"analysis"),z),l(!1),f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis"}),x()}catch(H){console.error("Error saving post:",H),alert("Failed to save analysis.")}},j=O=>{p({title:O.title,pair:O.pair,direction:O.direction,content:O.content,image:O.image,analysisType:O.analysisType||"Technical Analysis"}),f(O.id),l(!0)};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Analysis"}),y.jsx(an,{onClick:()=>{l(!a),a&&(f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis"}))},children:a?"Cancel":"New Analysis"})]}),a&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:u?"Edit Analysis":"Post Technical Breakdown"}),y.jsxs("form",{onSubmit:I,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Pair / Asset"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none uppercase",value:m.pair,onChange:O=>p({...m,pair:O.target.value}),placeholder:"e.g. GBP/JPY"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Direction"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.direction,onChange:O=>p({...m,direction:O.target.value}),children:[y.jsx("option",{value:"Neutral",children:"Neutral (Gray)"}),y.jsx("option",{value:"Bullish",children:"Bullish (Green)"}),y.jsx("option",{value:"Bearish",children:"Bearish (Red)"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Type"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.analysisType,onChange:O=>p({...m,analysisType:O.target.value}),children:[y.jsx("option",{value:"Technical Analysis",children:"Technical Analysis"}),y.jsx("option",{value:"Fundamental Analysis",children:"Fundamental Analysis"}),y.jsx("option",{value:"Sentiment Analysis",children:"Sentiment Analysis"})]})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Chart)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:O=>p({...m,image:O.target.value}),placeholder:"https://..."})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:O=>p({...m,title:O.target.value}),placeholder:"e.g. Double Top formation on 4H"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Content"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(wl,{theme:"snow",value:m.content,onChange:O=>p({...m,content:O}),modules:kP,formats:jP,className:"h-96 mb-12"})})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx(an,{type:"submit",variant:"primary",children:u?"Update Analysis":"Post Analysis"})})]})]}),y.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[y.jsx("thead",{className:"bg-gray-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pair"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Direction"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-800",children:t?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"No analysis posted yet."})}):n.map(O=>y.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.timestamp?.seconds?new Date(O.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-bold",children:O.pair}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${O.direction==="Bullish"?"bg-green-500/20 text-green-400":O.direction==="Bearish"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-300"}`,children:O.direction})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white max-w-xs truncate",children:O.title}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>j(O),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),y.jsx("button",{onClick:()=>S(O.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},O.id))})]})})})]})},R2={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},I2=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],PP=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(null),[a,l]=F.useState(!0),[u,f]=F.useState(!1),[m,p]=F.useState(null),[v,E]=F.useState({title:"",path:"",description:"",image:"",level:"Beginner"}),[x,S]=F.useState([]);F.useEffect(()=>{I()},[]);const I=async()=>{l(!0);try{const H=Aa(rn(He,"courses"),Sa("order","asc")),ye=(await Mr(H)).docs.map(Ee=>({id:Ee.id,...Ee.data()}));e(ye);const ve=[...new Set(ye.map(Ee=>Ee.path).filter(Ee=>Ee))];S(ve)}catch(H){console.error("Error fetching courses:",H);const ye=(await Mr(rn(He,"courses"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));e(ye);const ve=[...new Set(ye.map(Ee=>Ee.path).filter(Ee=>Ee))];S(ve)}finally{l(!1)}},j=async H=>{H.preventDefault();try{m?await dm(sn(He,"courses",m),{...v}):await pm(rn(He,"courses"),{...v,order:n.length+1,createdAt:th()}),f(!1),p(null),E({title:"",path:"",description:"",image:"",level:"Beginner"}),I()}catch(W){console.error("Error saving course:",W),alert("Failed to save course")}},O=H=>{E({title:H.title,description:H.description,path:H.path||"",image:H.image,level:H.level||"Beginner"}),p(H.id),f(!0)},z=async H=>{if(window.confirm("Delete this course? All lessons inside it might become orphaned."))try{await mm(sn(He,"courses",H)),I(),t?.id===H&&r(null)}catch(W){console.error("Error deleting course:",W),alert("Delete failed")}};return t?y.jsx(VP,{course:t,onBack:()=>r(null)}):y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Courses"}),y.jsx(an,{onClick:()=>{f(!u),u&&(p(null),E({title:"",path:"",description:"",image:"",level:"Beginner"}))},children:u?"Cancel":"New Course"})]}),u&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:m?"Edit Course":"Create New Course"}),y.jsxs("form",{onSubmit:j,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Course Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:v.title,onChange:H=>E({...v,title:H.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Path / Category"}),y.jsx("input",{type:"text",list:"paths-list",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:v.path,onChange:H=>E({...v,path:H.target.value}),placeholder:"e.g. Technical Analysis"}),y.jsx("datalist",{id:"paths-list",children:x.map(H=>y.jsx("option",{value:H},H))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Level"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:v.level,onChange:H=>E({...v,level:H.target.value}),children:[y.jsx("option",{children:"Beginner"}),y.jsx("option",{children:"Intermediate"}),y.jsx("option",{children:"Advanced"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(wl,{theme:"snow",value:v.description,onChange:H=>E({...v,description:H}),modules:R2,formats:I2,className:"h-48 mb-12"})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:v.image,onChange:H=>E({...v,image:H.target.value})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(an,{type:"submit",variant:"primary",children:m?"Update Course":"Create Course"})})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?y.jsx("div",{className:"text-gray-400",children:"Loading courses..."}):n.map(H=>y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group hover:border-gray-600 transition-all",children:[y.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[H.image&&y.jsx("img",{src:H.image,alt:H.title,className:"w-full h-full object-cover"}),y.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[y.jsx("button",{onClick:W=>{W.stopPropagation(),O(H)},className:"bg-primary/80 p-1 rounded text-white hover:bg-primary",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),y.jsx("button",{onClick:W=>{W.stopPropagation(),z(H.id)},className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),y.jsxs("div",{className:"p-5",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:H.title}),H.path&&y.jsx("span",{className:"bg-gray-800 text-xs text-gray-300 px-2 py-1 rounded",children:H.path})]}),y.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:H.description}),y.jsx(an,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r(H),children:"Manage Lessons"})]})]},H.id))})]})},VP=({course:n,onBack:e})=>{const[t,r]=F.useState([]),[a,l]=F.useState(!1),[u,f]=F.useState(null),[m,p]=F.useState({title:"",videoUrl:"",content:"",duration:"10 min"}),[v,E]=F.useState(!0);F.useEffect(()=>{x()},[n]);const x=async()=>{E(!0);try{const O=Aa(rn(He,"courses",n.id,"lessons"),Sa("order","asc")),z=await Mr(O);r(z.docs.map(H=>({id:H.id,...H.data()})))}catch(O){console.error("Error fetching lessons:",O);const z=await Mr(rn(He,"courses",n.id,"lessons"));r(z.docs.map(H=>({id:H.id,...H.data()})))}finally{E(!1)}},S=async O=>{O.preventDefault();try{u?await dm(sn(He,"courses",n.id,"lessons",u),{...m}):await pm(rn(He,"courses",n.id,"lessons"),{...m,order:t.length+1,createdAt:th()}),l(!1),f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}),x()}catch(z){console.error("Error saving lesson:",z),alert("Failed to save lesson")}},I=O=>{p({title:O.title,videoUrl:O.videoUrl,content:O.content,duration:O.duration}),f(O.id),l(!0)},j=async O=>{if(window.confirm("Delete this lesson?"))try{await mm(sn(He,"courses",n.id,"lessons",O)),x()}catch(z){console.error("Error deleting lesson:",z)}};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white flex items-center gap-1",children:[y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),y.jsxs("h1",{className:"text-2xl font-bold text-white",children:[y.jsx("span",{className:"text-gray-500 font-normal",children:"Edit Course:"})," ",n.title]})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-white",children:["Lessons (",t.length,")"]}),y.jsx(an,{onClick:()=>{l(!a),a&&(f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}))},variant:"secondary",children:a?"Cancel":"Add Lesson"})]}),a&&y.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:O=>p({...m,title:O.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.duration,onChange:O=>p({...m,duration:O.target.value}),placeholder:"e.g. 15 min"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Video Embed URL (YouTube/Vimeo)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.videoUrl,onChange:O=>p({...m,videoUrl:O.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Content / Notes"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(wl,{theme:"snow",value:m.content,onChange:O=>p({...m,content:O}),modules:R2,formats:I2,className:"h-72 mb-12"})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(an,{type:"submit",variant:"primary",children:u?"Update Lesson":"Save Lesson"})})]})}),y.jsxs("div",{className:"space-y-3",children:[v?y.jsx("div",{className:"text-gray-400",children:"Loading lessons..."}):t.map((O,z)=>y.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-gray-800 flex justify-between items-center group hover:border-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-gray-400 font-bold text-sm",children:z+1}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-white",children:O.title}),y.jsx("div",{className:"text-xs text-gray-500",children:O.duration})]})]}),y.jsxs("div",{className:"flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>I(O),className:"text-primary hover:text-primary/80 text-sm",children:"Edit"}),y.jsx("button",{onClick:()=>j(O.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]},O.id)),t.length===0&&!v&&y.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:"No lessons yet. Start teaching!"})]})]})},UP=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(!1),[a,l]=F.useState(null),[u,f]=F.useState({analystName:"",analystImage:"",analystBio:"",twitter:"",linkedin:"",telegram:""});F.useEffect(()=>{const p=gh(ss,async v=>{if(v){l(v);try{const E=sn(He,"users",v.uid),x=await Oi(E);if(x.exists()){const S=x.data();f(I=>({...I,analystName:S.analystName||"",analystImage:S.analystImage||"",analystBio:S.analystBio||"",twitter:S.twitter||"",linkedin:S.linkedin||"",telegram:S.telegram||""}))}}catch(E){console.error("Error fetching profile:",E)}}e(!1)});return()=>p()},[]);const m=async p=>{if(p.preventDefault(),!!a){r(!0);try{await Ry(sn(He,"users",a.uid),u,{merge:!0}),alert("Profile updated successfully!")}catch(v){console.error("Error saving profile:",v),alert("Failed to save profile.")}finally{r(!1)}}};return n?y.jsx("div",{className:"text-white",children:"Loading Profile..."}):y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Analyst Profile Settings"}),y.jsx("div",{className:"bg-surface p-8 rounded-xl border border-gray-800",children:y.jsxs("form",{onSubmit:m,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx("div",{className:"md:col-span-2",children:y.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Personal Details"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analyst Name"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.analystName,onChange:p=>f({...u,analystName:p.target.value}),placeholder:"e.g. John Doe"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Profile Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.analystImage,onChange:p=>f({...u,analystImage:p.target.value}),placeholder:"https://..."})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Bio"}),y.jsx("textarea",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none h-32 resize-none",value:u.analystBio,onChange:p=>f({...u,analystBio:p.target.value}),placeholder:"Tell us about yourself..."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-6",children:[y.jsx("div",{className:"md:col-span-3",children:y.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Social Connections"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Twitter (X) URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.twitter,onChange:p=>f({...u,twitter:p.target.value}),placeholder:"https://twitter.com/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"LinkedIn URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.linkedin,onChange:p=>f({...u,linkedin:p.target.value}),placeholder:"https://linkedin.com/in/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telegram URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.telegram,onChange:p=>f({...u,telegram:p.target.value}),placeholder:"https://t.me/..."})]})]}),y.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-800",children:y.jsx(an,{type:"submit",variant:"primary",contentClassName:"px-8",children:t?"Saving...":"Save Profile"})})]})})]})},qP=()=>{const{courseId:n}=ch(),e=Ii(),[t,r]=F.useState(null),[a,l]=F.useState([]),[u,f]=F.useState(null),[m,p]=F.useState(!0),[v,E]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{p(!0);const S=await Oi(sn(He,"courses",n));if(!S.exists()){alert("Course not found"),e("/dashboard");return}r({id:S.id,...S.data()});const I=Aa(rn(He,"courses",n,"lessons"),Sa("order","asc")),j=await Mr(I);let O=[];j.empty?O=(await Mr(rn(He,"courses",n,"lessons"))).docs.map(H=>({id:H.id,...H.data()})):O=j.docs.map(z=>({id:z.id,...z.data()})),l(O),O.length>0&&f(O[0])}catch(S){console.error("Error loading course:",S)}finally{p(!1)}})()},[n,e]),m?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):t?y.jsxs("div",{className:"flex h-screen bg-background overflow-hidden animate-fade-in",children:[y.jsxs("div",{className:`${v?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[y.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[y.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:t.title}),y.jsx("button",{onClick:()=>E(!1),className:"md:hidden text-gray-400",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.map((x,S)=>y.jsxs("div",{onClick:()=>f(x),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${u?.id===x.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[y.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:S+1}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-medium ${u?.id===x.id?"text-primary":"text-gray-300"}`,children:x.title}),y.jsx("span",{className:"text-xs text-gray-500",children:x.duration||"10 min"})]})]},x.id)),a.length===0&&y.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),y.jsx("div",{className:"p-4 border-t border-gray-800",children:y.jsx(Pt,{to:"/dashboard",children:y.jsx(an,{variant:"outline",size:"sm",className:"w-full",children:"Back to Dashboard"})})})]}),y.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[y.jsx("div",{className:"absolute top-4 left-4 z-10",children:y.jsx("button",{onClick:()=>E(!v),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:v?y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),u?y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsx("div",{className:"bg-black aspect-video w-full max-h-[70vh] flex items-center justify-center",children:u.videoUrl?y.jsx("iframe",{src:u.videoUrl,title:u.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsxs("div",{className:"text-gray-500 text-center",children:[y.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),y.jsx("p",{children:"No video content for this lesson."})]})}),y.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsx("h1",{className:"text-2xl font-bold text-white",children:u.title})}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:u.content})})]})]}):y.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a lesson from the sidebar to start."})]})]}):null},BP=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const u=(await Mr(rn(He,"courses"))).docs.map(m=>m.data()),f={};u.forEach(m=>{const p=m.path||"General";f[p]||(f[p]={name:p,count:0,image:m.image}),f[p].count+=1}),e(Object.values(f))}catch(l){console.error("Error fetching paths:",l)}finally{r(!1)}})()},[]),t?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading Academy..."}):y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in",children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Academy"}),y.jsx("p",{className:"text-gray-400 mb-10",children:"Choose a learning path to start your journey."}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>y.jsx(Pt,{to:`/academy/${encodeURIComponent(a.name)}`,className:"group",children:y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden hover:border-primary transition-all h-full flex flex-col",children:[y.jsxs("div",{className:"h-48 bg-gray-900 relative overflow-hidden",children:[a.image?y.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:y.jsx("svg",{className:"w-12 h-12 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent opacity-80"}),y.jsx("div",{className:"absolute bottom-4 left-4",children:y.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-primary transition-colors",children:a.name})})]}),y.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-between",children:[y.jsxs("p",{className:"text-gray-400",children:[a.count," Course",a.count!==1&&"s"," available"]}),y.jsxs("span",{className:"text-primary mt-4 inline-flex items-center text-sm font-medium",children:["Explore Path ",y.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})},a.name))}),n.length===0&&y.jsx("div",{className:"text-center py-20 bg-surface rounded-xl border border-gray-800",children:y.jsx("p",{className:"text-gray-500",children:"No academy paths available yet."})})]})},zP=()=>{const{path:n}=ch(),e=decodeURIComponent(n),[t,r]=F.useState([]),[a,l]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{const f=Aa(rn(He,"courses"),Sa("order","asc")),v=(await Mr(f)).docs.map(E=>({id:E.id,...E.data()})).filter(E=>(E.path||"General")===e);r(v)}catch(f){console.error("Error loading courses:",f)}finally{l(!1)}})()},[e]),a?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading Path..."}):y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx(Pt,{to:"/academy",className:"text-gray-500 hover:text-white mb-4 inline-block",children:" Back to Academy"}),y.jsxs("h1",{className:"text-3xl font-bold text-white",children:[y.jsx("span",{className:"text-primary",children:e})," Courses"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(u=>y.jsx(Pt,{to:`/academy/${encodeURIComponent(e)}/${u.id}`,className:"group",children:y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden hover:border-gray-600 transition-all h-full",children:[y.jsxs("div",{className:"h-48 bg-gray-900 relative",children:[u.image&&y.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur px-2 py-1 rounded text-xs text-white border border-gray-700",children:u.level})]}),y.jsxs("div",{className:"p-5",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-primary transition-colors",children:u.title}),y.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:u.description}),y.jsx("span",{className:"text-sm font-medium text-white group-hover:underline",children:"Start Learning "})]})]})},u.id))}),t.length===0&&y.jsx("div",{className:"text-center py-20 bg-surface rounded-xl border border-gray-800",children:y.jsx("p",{className:"text-gray-500",children:"No courses found in this path."})})]})},HP=()=>{const{path:n,courseId:e}=ch(),t=Ii(),[r,a]=F.useState(null),[l,u]=F.useState([]),[f,m]=F.useState(null),[p,v]=F.useState(!0),[E,x]=F.useState(!0);return F.useEffect(()=>{(async()=>{try{v(!0);const I=await Oi(sn(He,"courses",e));if(!I.exists()){alert("Course not found"),t(`/academy/${n}`);return}a({id:I.id,...I.data()});const j=Aa(rn(He,"courses",e,"lessons"),Sa("order","asc")),O=await Mr(j);let z=[];O.empty?z=(await Mr(rn(He,"courses",e,"lessons"))).docs.map(W=>({id:W.id,...W.data()})):z=O.docs.map(H=>({id:H.id,...H.data()})),u(z),z.length>0&&m(z[0])}catch(I){console.error("Error loading course:",I)}finally{v(!1)}})()},[e,t,n]),p?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):r?y.jsxs("div",{className:"flex bg-background overflow-hidden animate-fade-in",style:{height:"calc(100vh - 64px)"},children:[y.jsxs("div",{className:`${E?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[y.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-900/50",children:[y.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:r.title}),y.jsx("button",{onClick:()=>x(!1),className:"md:hidden text-gray-400",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.map((S,I)=>y.jsxs("div",{onClick:()=>m(S),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${f?.id===S.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[y.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:I+1}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-medium ${f?.id===S.id?"text-primary":"text-gray-300"}`,children:S.title}),y.jsx("span",{className:"text-xs text-gray-500",children:S.duration||"10 min"})]})]},S.id)),l.length===0&&y.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),y.jsx("div",{className:"p-4 border-t border-gray-800",children:y.jsx(Pt,{to:`/academy/${n}`,children:y.jsx(an,{variant:"outline",size:"sm",className:"w-full",children:" Back to Path"})})})]}),y.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[y.jsx("div",{className:"absolute top-4 left-4 z-10",children:y.jsx("button",{onClick:()=>x(!E),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:E?y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),f?y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsx("div",{className:"bg-black aspect-video w-full max-h-[60vh] flex items-center justify-center",children:f.videoUrl?y.jsx("iframe",{src:f.videoUrl,title:f.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsxs("div",{className:"text-gray-500 text-center",children:[y.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),y.jsx("p",{children:"No video content."})]})}),y.jsxs("div",{className:"max-w-4xl mx-auto p-8 pb-20",children:[y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsx("h1",{className:"text-2xl font-bold text-white",children:f.title})}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx("div",{dangerouslySetInnerHTML:{__html:f.content}})})]})]}):y.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:y.jsx("p",{children:"Select a lesson from the list to start learning."})})]})]}):null},jT=({children:n,adminOnly:e=!1})=>{const[t,r]=F.useState(null),[a,l]=F.useState(!0);return F.useEffect(()=>{const u=gh(ss,f=>{r(f),l(!1)});return()=>u()},[]),a?y.jsx("div",{className:"text-center p-10 pt-32 text-white",children:"Loading..."}):t?n:y.jsx(uR,{to:"/login",replace:!0})};function FP(){return y.jsx(MR,{children:y.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[y.jsx(fL,{}),y.jsx("main",{className:"flex-grow",children:y.jsxs(dR,{children:[y.jsx(An,{path:"/",element:y.jsx(yL,{})}),y.jsx(An,{path:"/analysis",element:y.jsx(vL,{})}),y.jsx(An,{path:"/analysis/:id",element:y.jsx(bL,{})}),y.jsx(An,{path:"/news",element:y.jsx(EL,{})}),y.jsx(An,{path:"/news/:id",element:y.jsx(xL,{})}),y.jsx(An,{path:"/login",element:y.jsx(TL,{})}),y.jsx(An,{path:"/register",element:y.jsx(wL,{})}),y.jsx(An,{path:"/academy",element:y.jsx(BP,{})}),y.jsx(An,{path:"/academy/:path",element:y.jsx(zP,{})}),y.jsx(An,{path:"/academy/:path/:courseId",element:y.jsx(HP,{})}),y.jsx(An,{path:"/dashboard",element:y.jsx(jT,{children:y.jsx(SL,{})})}),y.jsx(An,{path:"/dashboard/course/:courseId",element:y.jsx(jT,{children:y.jsx(qP,{})})}),y.jsxs(An,{path:"/admin",element:y.jsx(NL,{}),children:[y.jsx(An,{index:!0,element:y.jsx(CL,{})}),y.jsx(An,{path:"news",element:y.jsx(LP,{})}),y.jsx(An,{path:"analysis",element:y.jsx(MP,{})}),y.jsx(An,{path:"courses",element:y.jsx(PP,{})}),y.jsx(An,{path:"profile",element:y.jsx(UP,{})})]})]})}),y.jsx(dL,{})]})})}yC.createRoot(document.getElementById("root")).render(y.jsx(F.StrictMode,{children:y.jsx(FP,{})}))});export default GP();
