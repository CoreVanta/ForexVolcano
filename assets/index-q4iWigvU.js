var J2=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var AV=J2((Zr,Jr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var so=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ly(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var og={exports:{}},_c={};var S_;function eC(){if(S_)return _c;S_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return _c.Fragment=e,_c.jsx=t,_c.jsxs=t,_c}var N_;function tC(){return N_||(N_=1,og.exports=eC()),og.exports}var b=tC(),lg={exports:{}},Be={};var C_;function nC(){if(C_)return Be;C_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function F(V,Q,ce){this.props=V,this.context=Q,this.refs=k,this.updater=ce||O}F.prototype.isReactComponent={},F.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=F.prototype;function re(V,Q,ce){this.props=V,this.context=Q,this.refs=k,this.updater=ce||O}var be=re.prototype=new K;be.constructor=re,M(be,F.prototype),be.isPureReactComponent=!0;var ve=Array.isArray;function we(){}var j={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function P(V,Q,ce){var fe=ce.ref;return{$$typeof:n,type:V,key:Q,ref:fe!==void 0?fe:null,props:ce}}function z(V,Q){return P(V.type,Q,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function D(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return Q[ce]})}var N=/\/+/g;function me(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Q.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(we,we):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,Q,ce,fe,pe){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Ae){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case n:case e:De=!0;break;case _:return De=V._init,B(De(V._payload),Q,ce,fe,pe)}}if(De)return pe=pe(V),De=fe===""?"."+me(V,0):fe,ve(pe)?(ce="",De!=null&&(ce=De.replace(N,"$&/")+"/"),B(pe,Q,ce,"",function(Ke){return Ke})):pe!=null&&(S(pe)&&(pe=z(pe,ce+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(N,"$&/")+"/")+De)),Q.push(pe)),1;De=0;var Ie=fe===""?".":fe+":";if(ve(V))for(var Le=0;Le<V.length;Le++)fe=V[Le],Ae=Ie+me(fe,Le),De+=B(fe,Q,ce,Ae,pe);else if(Le=x(V),typeof Le=="function")for(V=Le.call(V),Le=0;!(fe=V.next()).done;)fe=fe.value,Ae=Ie+me(fe,Le++),De+=B(fe,Q,ce,Ae,pe);else if(Ae==="object"){if(typeof V.then=="function")return B(de(V),Q,ce,fe,pe);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(V,Q,ce){if(V==null)return V;var fe=[],pe=0;return B(V,fe,"","",function(Ae){return Q.call(ce,Ae,pe++)}),fe}function le(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ge={map:Z,forEach:function(V,Q,ce){Z(V,function(){Q.apply(this,arguments)},ce)},count:function(V){var Q=0;return Z(V,function(){Q++}),Q},toArray:function(V){return Z(V,function(Q){return Q})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Be.Activity=E,Be.Children=ge,Be.Component=F,Be.Fragment=t,Be.Profiler=a,Be.PureComponent=re,Be.StrictMode=i,Be.Suspense=m,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return j.H.useMemoCache(V)}},Be.cache=function(V){return function(){return V.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(V,Q,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=M({},V.props),pe=V.key;if(Q!=null)for(Ae in Q.key!==void 0&&(pe=""+Q.key),Q)!L.call(Q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Q.ref===void 0||(fe[Ae]=Q[Ae]);var Ae=arguments.length-2;if(Ae===1)fe.children=ce;else if(1<Ae){for(var De=Array(Ae),Ie=0;Ie<Ae;Ie++)De[Ie]=arguments[Ie+2];fe.children=De}return P(V.type,pe,fe)},Be.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Be.createElement=function(V,Q,ce){var fe,pe={},Ae=null;if(Q!=null)for(fe in Q.key!==void 0&&(Ae=""+Q.key),Q)L.call(Q,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=Q[fe]);var De=arguments.length-2;if(De===1)pe.children=ce;else if(1<De){for(var Ie=Array(De),Le=0;Le<De;Le++)Ie[Le]=arguments[Le+2];pe.children=Ie}if(V&&V.defaultProps)for(fe in De=V.defaultProps,De)pe[fe]===void 0&&(pe[fe]=De[fe]);return P(V,Ae,pe)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(V){return{$$typeof:f,render:V}},Be.isValidElement=S,Be.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:le}},Be.memo=function(V,Q){return{$$typeof:g,type:V,compare:Q===void 0?null:Q}},Be.startTransition=function(V){var Q=j.T,ce={};j.T=ce;try{var fe=V(),pe=j.S;pe!==null&&pe(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(we,ye)}catch(Ae){ye(Ae)}finally{Q!==null&&ce.types!==null&&(Q.types=ce.types),j.T=Q}},Be.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Be.use=function(V){return j.H.use(V)},Be.useActionState=function(V,Q,ce){return j.H.useActionState(V,Q,ce)},Be.useCallback=function(V,Q){return j.H.useCallback(V,Q)},Be.useContext=function(V){return j.H.useContext(V)},Be.useDebugValue=function(){},Be.useDeferredValue=function(V,Q){return j.H.useDeferredValue(V,Q)},Be.useEffect=function(V,Q){return j.H.useEffect(V,Q)},Be.useEffectEvent=function(V){return j.H.useEffectEvent(V)},Be.useId=function(){return j.H.useId()},Be.useImperativeHandle=function(V,Q,ce){return j.H.useImperativeHandle(V,Q,ce)},Be.useInsertionEffect=function(V,Q){return j.H.useInsertionEffect(V,Q)},Be.useLayoutEffect=function(V,Q){return j.H.useLayoutEffect(V,Q)},Be.useMemo=function(V,Q){return j.H.useMemo(V,Q)},Be.useOptimistic=function(V,Q){return j.H.useOptimistic(V,Q)},Be.useReducer=function(V,Q,ce){return j.H.useReducer(V,Q,ce)},Be.useRef=function(V){return j.H.useRef(V)},Be.useState=function(V){return j.H.useState(V)},Be.useSyncExternalStore=function(V,Q,ce){return j.H.useSyncExternalStore(V,Q,ce)},Be.useTransition=function(){return j.H.useTransition()},Be.version="19.2.1",Be}var R_;function My(){return R_||(R_=1,lg.exports=nC()),lg.exports}var G=My();const gs=Ly(G);var ug={exports:{}},Ec={},cg={exports:{}},hg={};var I_;function rC(){return I_||(I_=1,(function(n){function e(B,Z){var le=B.length;B.push(Z);e:for(;0<le;){var ye=le-1>>>1,ge=B[ye];if(0<a(ge,Z))B[ye]=Z,B[le]=ge,le=ye;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Z=B[0],le=B.pop();if(le!==Z){B[0]=le;e:for(var ye=0,ge=B.length,V=ge>>>1;ye<V;){var Q=2*(ye+1)-1,ce=B[Q],fe=Q+1,pe=B[fe];if(0>a(ce,le))fe<ge&&0>a(pe,ce)?(B[ye]=pe,B[fe]=le,ye=fe):(B[ye]=ce,B[Q]=le,ye=Q);else if(fe<ge&&0>a(pe,le))B[ye]=pe,B[fe]=le,ye=fe;else break e}}return Z}function a(B,Z){var le=B.sortIndex-Z.sortIndex;return le!==0?le:B.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],g=[],_=1,E=null,w=3,x=!1,O=!1,M=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function be(B){for(var Z=t(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=B)i(g),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(g)}}function ve(B){if(M=!1,be(B),!O)if(t(m)!==null)O=!0,we||(we=!0,D());else{var Z=t(g);Z!==null&&de(ve,Z.startTime-B)}}var we=!1,j=-1,L=5,P=-1;function z(){return k?!0:!(n.unstable_now()-P<L)}function S(){if(k=!1,we){var B=n.unstable_now();P=B;var Z=!0;try{e:{O=!1,M&&(M=!1,K(j),j=-1),x=!0;var le=w;try{t:{for(be(B),E=t(m);E!==null&&!(E.expirationTime>B&&z());){var ye=E.callback;if(typeof ye=="function"){E.callback=null,w=E.priorityLevel;var ge=ye(E.expirationTime<=B);if(B=n.unstable_now(),typeof ge=="function"){E.callback=ge,be(B),Z=!0;break t}E===t(m)&&i(m),be(B)}else i(m);E=t(m)}if(E!==null)Z=!0;else{var V=t(g);V!==null&&de(ve,V.startTime-B),Z=!1}}break e}finally{E=null,w=le,x=!1}Z=void 0}}finally{Z?D():we=!1}}}var D;if(typeof re=="function")D=function(){re(S)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,me=N.port2;N.port1.onmessage=S,D=function(){me.postMessage(null)}}else D=function(){F(S,0)};function de(B,Z){j=F(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(B){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var le=w;w=Z;try{return B()}finally{w=le}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=w;w=B;try{return Z()}finally{w=le}},n.unstable_scheduleCallback=function(B,Z,le){var ye=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,B){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=le+ge,B={id:_++,callback:Z,priorityLevel:B,startTime:le,expirationTime:ge,sortIndex:-1},le>ye?(B.sortIndex=le,e(g,B),t(m)===null&&B===t(g)&&(M?(K(j),j=-1):M=!0,de(ve,le-ye))):(B.sortIndex=ge,e(m,B),O||x||(O=!0,we||(we=!0,D()))),B},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(B){var Z=w;return function(){var le=w;w=Z;try{return B.apply(this,arguments)}finally{w=le}}}})(hg)),hg}var O_;function iC(){return O_||(O_=1,cg.exports=rC()),cg.exports}var fg={exports:{}},Jn={};var D_;function sC(){if(D_)return Jn;D_=1;var n=My();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Jn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},Jn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Jn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Jn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,E=f(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:x}):_==="script"&&i.d.X(m,{crossOrigin:E,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Jn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=f(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Jn.requestFormReset=function(m){i.d.r(m)},Jn.unstable_batchedUpdates=function(m,g){return m(g)},Jn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jn.version="19.2.1",Jn}var L_;function aC(){if(L_)return fg.exports;L_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fg.exports=sC(),fg.exports}var M_;function oC(){if(M_)return Ec;M_=1;var n=iC(),e=My(),t=aC();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),r;if(p===u)return m(d),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=p;else{for(var T=!1,C=d.child;C;){if(C===o){T=!0,o=d,u=p;break}if(C===u){T=!0,u=d,o=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===o){T=!0,o=p,u=d;break}if(C===u){T=!0,u=p,o=d;break}C=C.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function _(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=_(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),re=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=S&&r[S]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case ve:return"Suspense";case we:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case re:return r.displayName||"Context";case K:return(r._context.displayName||"Context")+".Consumer";case be:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return s=r.displayName||null,s!==null?s:me(r.type)||"Memo";case L:s=r._payload,r=r._init;try{return me(r(s))}catch{}}return null}var de=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],ge=-1;function V(r){return{current:r}}function Q(r){0>ge||(r.current=ye[ge],ye[ge]=null,ge--)}function ce(r,s){ge++,ye[ge]=r.current,r.current=s}var fe=V(null),pe=V(null),Ae=V(null),De=V(null);function Ie(r,s){switch(ce(Ae,s),ce(pe,r),ce(fe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Qb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Qb(s),r=Xb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Q(fe),ce(fe,r)}function Le(){Q(fe),Q(pe),Q(Ae)}function Ke(r){r.memoizedState!==null&&ce(De,r);var s=fe.current,o=Xb(s,r.type);s!==o&&(ce(pe,r),ce(fe,o))}function Xe(r){pe.current===r&&(Q(fe),Q(pe)),De.current===r&&(Q(De),gc._currentValue=le)}var et,at;function ft(r){if(et===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);et=s&&s[1]||"",at=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+r+at}var Xt=!1;function Mr(r,s){if(!r||Xt)return"";Xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var J=ne}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ne){J=ne}r.call(ue.prototype)}}else{try{throw Error()}catch(ne){J=ne}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var q=T.split(`
`),W=C.split(`
`);for(d=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===q.length||d===W.length)for(u=q.length-1,d=W.length-1;1<=u&&0<=d&&q[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(q[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||q[u]!==W[d]){var ie=`
`+q[u].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=u&&0<=d);break}}}finally{Xt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ft(o):""}function ns(r,s){switch(r.tag){case 26:case 27:case 5:return ft(r.type);case 16:return ft("Lazy");case 13:return r.child!==s&&s!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return Mr(r.type,!1);case 11:return Mr(r.type.render,!1);case 1:return Mr(r.type,!0);case 31:return ft("Activity");default:return""}}function Is(r){try{var s="",o=null;do s+=ns(r,o),o=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,xt=n.unstable_scheduleCallback,yr=n.unstable_cancelCallback,xa=n.unstable_shouldYield,Os=n.unstable_requestPaint,St=n.unstable_now,vr=n.unstable_getCurrentPriorityLevel,Ds=n.unstable_ImmediatePriority,kr=n.unstable_UserBlockingPriority,ar=n.unstable_NormalPriority,Ls=n.unstable_LowPriority,Cn=n.unstable_IdlePriority,Ms=n.log,ks=n.unstable_setDisableYieldValue,or=null,Kt=null;function vn(r){if(typeof Ms=="function"&&ks(r),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(or,r)}catch{}}var Nt=Math.clz32?Math.clz32:$n,Ii=Math.log,br=Math.LN2;function $n(r){return r>>>=0,r===0?32:31-(Ii(r)/br|0)|0}var Rn=256,jr=262144,bt=4194304;function Kn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wn(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,p=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var C=u&134217727;return C!==0?(u=C&~p,u!==0?d=Kn(u):(T&=C,T!==0?d=Kn(T):o||(o=C&~r,o!==0&&(d=Kn(o))))):(C=u&~p,C!==0?d=Kn(C):T!==0?d=Kn(T):o||(o=u&~r,o!==0&&(d=Kn(o)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:d}function In(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function js(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rs(){var r=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),r}function bn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ni(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pr(r,s,o,u,d,p){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var C=r.entanglements,q=r.expirationTimes,W=r.hiddenUpdates;for(o=T&~o;0<o;){var ie=31-Nt(o),ue=1<<ie;C[ie]=0,q[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var ne=J[ie];ne!==null&&(ne.lane&=-536870913)}o&=~ue}u!==0&&Oi(r,u,0),p!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=p&~(T&~s))}function Oi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Nt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function Ps(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Nt(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function Vs(r,s){var o=s&-s;return o=(o&42)!==0?1:ri(o),(o&(r.suspendedLanes|s))!==0?0:o}function ri(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function lr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Wt(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:b_(r.type))}function ur(r,s){var o=Z.p;try{return Z.p=r,s()}finally{Z.p=o}}var cr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+cr,Zt="__reactProps$"+cr,_r="__reactContainer$"+cr,Yt="__reactEvents$"+cr,Ro="__reactListeners$"+cr,Sa="__reactHandles$"+cr,Na="__reactResources$"+cr,Er="__reactMarker$"+cr;function is(r){delete r[Ut],delete r[Zt],delete r[Yt],delete r[Ro],delete r[Sa]}function It(r){var s=r[Ut];if(s)return s;for(var o=r.parentNode;o;){if(s=o[_r]||o[Ut]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=r_(r);r!==null;){if(o=r[Ut])return o;r=r_(r)}return s}r=o,o=r.parentNode}return null}function Yn(r){if(r=r[Ut]||r[_r]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function On(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Tr(r){var s=r[Na];return s||(s=r[Na]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(r){r[Er]=!0}var Us=new Set,ii={};function hr(r,s){Dn(r,s),Dn(r+"Capture",s)}function Dn(r,s){for(ii[r]=s,r=0;r<s.length;r++)Us.add(s[r])}var Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Di={},qs={};function Ca(r){return Vt.call(qs,r)?!0:Vt.call(Di,r)?!1:Qn.test(r)?qs[r]=!0:(Di[r]=!0,!1)}function ss(r,s,o){if(Ca(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ln(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Bt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function Ot(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wr(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vr(r,s,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function lt(r){if(!r._valueTracker){var s=wr(r)?"checked":"value";r._valueTracker=Vr(r,s,""+r[s])}}function si(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=wr(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ar(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Li=/[\n"\\]/g;function An(r){return r.replace(Li,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function as(r,s,o,u,d,p,T,C){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Ot(s)):r.value!==""+Ot(s)&&(r.value=""+Ot(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Bs(r,T,Ot(s)):o!=null?Bs(r,T,Ot(o)):u!=null&&r.removeAttribute("value"),d==null&&p!=null&&(r.defaultChecked=!!p),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+Ot(C):r.removeAttribute("name")}function os(r,s,o,u,d,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){lt(r);return}o=o!=null?""+Ot(o):"",s=s!=null?""+Ot(s):o,C||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=C?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),lt(r)}function Bs(r,s,o){s==="number"&&Ar(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ai(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Ot(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function oi(r,s,o){if(s!=null&&(s=""+Ot(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Ot(o):""}function un(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(de(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ot(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),lt(r)}function zt(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||xr.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Xn(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&zs(r,d,u)}else for(var p in s)s.hasOwnProperty(p)&&zs(r,p,s[p])}function ls(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),li=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(r){return li.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Wn(){}var nn=null;function Mn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ur=null,kn=null;function qr(r){var s=Yn(r);if(s&&(r=s.stateNode)){var o=r[Zt]||null;e:switch(r=s.stateNode,s.type){case"input":if(as(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[Zt]||null;if(!d)throw Error(i(90));as(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&si(u)}break e;case"textarea":oi(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ai(r,!!o.multiple,s,!1)}}}var Br=!1;function ui(r,s,o){if(Br)return r(s,o);Br=!0;try{var u=r(s);return u}finally{if(Br=!1,(Ur!==null||kn!==null)&&(df(),Ur&&(s=Ur,r=kn,kn=Ur=null,qr(s),r)))for(s=0;s<r.length;s++)qr(r[s])}}function Zn(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Zt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ci=!1;if(xn)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){ci=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{ci=!1}var fr=null,Mi=null,ki=null;function Hs(){if(ki)return ki;var r,s=Mi,o=s.length,u,d="value"in fr?fr.value:fr.textContent,p=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===d[p-u];u++);return ki=d.slice(r,1<u?1-u:void 0)}function v(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function R(){return!0}function U(){return!1}function ee(r){function s(o,u,d,p,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(o=r[C],this[C]=o?o(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?R:U,this.isPropagationStopped=U,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=R)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=R)},persist:function(){},isPersistent:R}),s}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=ee(je),Ge=E({},je,{view:0,detail:0}),Qe=ee(Ge),gt,We,wt,rn=E({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wt&&(wt&&r.type==="mousemove"?(gt=r.screenX-wt.screenX,We=r.screenY-wt.screenY):We=gt=0,wt=r),gt)},movementY:function(r){return"movementY"in r?r.movementY:We}}),Dt=ee(rn),Ht=E({},rn,{dataTransfer:0}),Jt=ee(Ht),zr=E({},Ge,{relatedTarget:0}),jn=ee(zr),Hr=E({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=ee(Hr),ji=E({},je,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fs=ee(ji),Ah=E({},je,{data:0}),cs=ee(Ah),xh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ch(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Nh[r])?!!s[r]:!1}function Ia(){return Ch}var dr=E({},Ge,{key:function(r){if(r.key){var s=xh[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=v(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(r){return r.type==="keypress"?v(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?v(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Rh=ee(dr),Ih=E({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=ee(Ih),h=E({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),y=ee(h),A=E({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=ee(A),Y=E({},rn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=ee(Y),_e=E({},je,{newState:0,oldState:0}),He=ee(_e),sn=[9,13,27,32],dt=xn&&"CompositionEvent"in window,Ft=null;xn&&"documentMode"in document&&(Ft=document.documentMode);var hi=xn&&"TextEvent"in window&&!Ft,hs=xn&&(!dt||Ft&&8<Ft&&11>=Ft),Pi=" ",Vi=!1;function Oo(r,s){switch(r){case"keyup":return sn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var wl=!1;function wN(r,s){switch(r){case"compositionend":return Tl(s);case"keypress":return s.which!==32?null:(Vi=!0,Pi);case"textInput":return r=s.data,r===Pi&&Vi?null:r;default:return null}}function AN(r,s){if(wl)return r==="compositionend"||!dt&&Oo(r,s)?(r=Hs(),ki=Mi=fr=null,wl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hs&&s.locale!=="ko"?null:s.data;default:return null}}var xN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!xN[r.type]:s==="textarea"}function ov(r,s,o,u){Ur?kn?kn.push(u):kn=[u]:Ur=u,s=_f(s,"onChange"),0<s.length&&(o=new xe("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Vu=null,Uu=null;function SN(r){Hb(r,0)}function Oh(r){var s=On(r);if(si(s))return r}function lv(r,s){if(r==="change")return s}var uv=!1;if(xn){var mm;if(xn){var pm="oninput"in document;if(!pm){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),pm=typeof cv.oninput=="function"}mm=pm}else mm=!1;uv=mm&&(!document.documentMode||9<document.documentMode)}function hv(){Vu&&(Vu.detachEvent("onpropertychange",fv),Uu=Vu=null)}function fv(r){if(r.propertyName==="value"&&Oh(Uu)){var s=[];ov(s,Uu,r,Mn(r)),ui(SN,s)}}function NN(r,s,o){r==="focusin"?(hv(),Vu=s,Uu=o,Vu.attachEvent("onpropertychange",fv)):r==="focusout"&&hv()}function CN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oh(Uu)}function RN(r,s){if(r==="click")return Oh(s)}function IN(r,s){if(r==="input"||r==="change")return Oh(s)}function ON(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fr=typeof Object.is=="function"?Object.is:ON;function qu(r,s){if(Fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Vt.call(s,d)||!Fr(r[d],s[d]))return!1}return!0}function dv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function mv(r,s){var o=dv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dv(o)}}function pv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?pv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function gv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ar(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ar(r.document)}return s}function gm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var DN=xn&&"documentMode"in document&&11>=document.documentMode,Al=null,ym=null,Bu=null,vm=!1;function yv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vm||Al==null||Al!==Ar(u)||(u=Al,"selectionStart"in u&&gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bu&&qu(Bu,u)||(Bu=u,u=_f(ym,"onSelect"),0<u.length&&(s=new xe("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Al)))}function Do(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var xl={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},bm={},vv={};xn&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Lo(r){if(bm[r])return bm[r];if(!xl[r])return r;var s=xl[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in vv)return bm[r]=s[o];return r}var bv=Lo("animationend"),_v=Lo("animationiteration"),Ev=Lo("animationstart"),LN=Lo("transitionrun"),MN=Lo("transitionstart"),kN=Lo("transitioncancel"),Tv=Lo("transitionend"),wv=new Map,_m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_m.push("scrollEnd");function Ui(r,s){wv.set(r,s),hr(s,[r])}var Dh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},fi=[],Sl=0,Em=0;function Lh(){for(var r=Sl,s=Em=Sl=0;s<r;){var o=fi[s];fi[s++]=null;var u=fi[s];fi[s++]=null;var d=fi[s];fi[s++]=null;var p=fi[s];if(fi[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}p!==0&&Av(o,d,p)}}function Mh(r,s,o,u){fi[Sl++]=r,fi[Sl++]=s,fi[Sl++]=o,fi[Sl++]=u,Em|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Tm(r,s,o,u){return Mh(r,s,o,u),kh(r)}function Mo(r,s){return Mh(r,null,null,s),kh(r)}function Av(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(d=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,d&&s!==null&&(d=31-Nt(o),r=p.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),p):null}function kh(r){if(50<uc)throw uc=0,Op=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Nl={};function jN(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(r,s,o,u){return new jN(r,s,o,u)}function wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $s(r,s){var o=r.alternate;return o===null?(o=Gr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function xv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function jh(r,s,o,u,d,p){var T=0;if(u=r,typeof r=="function")wm(r)&&(T=1);else if(typeof r=="string")T=B2(r,o,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=Gr(31,o,s,d),r.elementType=P,r.lanes=p,r;case M:return ko(o.children,d,p,s);case k:T=8,d|=24;break;case F:return r=Gr(12,o,s,d|2),r.elementType=F,r.lanes=p,r;case ve:return r=Gr(13,o,s,d),r.elementType=ve,r.lanes=p,r;case we:return r=Gr(19,o,s,d),r.elementType=we,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:T=10;break e;case K:T=9;break e;case be:T=11;break e;case j:T=14;break e;case L:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Gr(T,o,s,d),s.elementType=r,s.type=u,s.lanes=p,s}function ko(r,s,o,u){return r=Gr(7,r,u,s),r.lanes=o,r}function Am(r,s,o){return r=Gr(6,r,null,s),r.lanes=o,r}function Sv(r){var s=Gr(18,null,null,0);return s.stateNode=r,s}function xm(r,s,o){return s=Gr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Nv=new WeakMap;function di(r,s){if(typeof r=="object"&&r!==null){var o=Nv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Is(s)},Nv.set(r,s),s)}return{value:r,source:s,stack:Is(s)}}var Cl=[],Rl=0,Ph=null,zu=0,mi=[],pi=0,Oa=null,fs=1,ds="";function Ks(r,s){Cl[Rl++]=zu,Cl[Rl++]=Ph,Ph=r,zu=s}function Cv(r,s,o){mi[pi++]=fs,mi[pi++]=ds,mi[pi++]=Oa,Oa=r;var u=fs;r=ds;var d=32-Nt(u)-1;u&=~(1<<d),o+=1;var p=32-Nt(s)+d;if(30<p){var T=d-d%5;p=(u&(1<<T)-1).toString(32),u>>=T,d-=T,fs=1<<32-Nt(s)+d|o<<d|u,ds=p+r}else fs=1<<p|o<<d|u,ds=r}function Sm(r){r.return!==null&&(Ks(r,1),Cv(r,1,0))}function Nm(r){for(;r===Ph;)Ph=Cl[--Rl],Cl[Rl]=null,zu=Cl[--Rl],Cl[Rl]=null;for(;r===Oa;)Oa=mi[--pi],mi[pi]=null,ds=mi[--pi],mi[pi]=null,fs=mi[--pi],mi[pi]=null}function Rv(r,s){mi[pi++]=fs,mi[pi++]=ds,mi[pi++]=Oa,fs=s.id,ds=s.overflow,Oa=r}var Pn=null,Lt=null,ot=!1,Da=null,gi=!1,Cm=Error(i(519));function La(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hu(di(s,r)),Cm}function Iv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ut]=r,s[Zt]=u,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<hc.length;o++)Je(hc[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),os(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),un(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Kb(s.textContent,o)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=Wn),s=!0):s=!1,s||La(r,!0)}function Ov(r){for(Pn=r.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:Pn=Pn.return}}function Il(r){if(r!==Pn)return!1;if(!ot)return Ov(r),ot=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||$p(r.type,r.memoizedProps)),o=!o),o&&Lt&&La(r),Ov(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Lt=n_(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Lt=n_(r)}else s===27?(s=Lt,Ka(r.type)?(r=Wp,Wp=null,Lt=r):Lt=s):Lt=Pn?vi(r.stateNode.nextSibling):null;return!0}function jo(){Lt=Pn=null,ot=!1}function Rm(){var r=Da;return r!==null&&(Rr===null?Rr=r:Rr.push.apply(Rr,r),Da=null),r}function Hu(r){Da===null?Da=[r]:Da.push(r)}var Im=V(null),Po=null,Ys=null;function Ma(r,s,o){ce(Im,s._currentValue),s._currentValue=o}function Qs(r){r._currentValue=Im.current,Q(Im)}function Om(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Dm(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=d;for(var q=0;q<s.length;q++)if(C.context===s[q]){p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),Om(p.return,o,r),u||(T=null);break e}p=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Om(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ol(r,s,o,u){r=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var C=d.type;Fr(d.pendingProps.value,T.value)||(r!==null?r.push(C):r=[C])}}else if(d===De.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(gc):r=[gc])}d=d.return}r!==null&&Dm(s,r,o,u),s.flags|=262144}function Vh(r){for(r=r.firstContext;r!==null;){if(!Fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Vo(r){Po=r,Ys=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Vn(r){return Dv(Po,r)}function Uh(r,s){return Po===null&&Vo(r),Dv(r,s)}function Dv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ys===null){if(r===null)throw Error(i(308));Ys=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ys=Ys.next=s;return o}var PN=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},VN=n.unstable_scheduleCallback,UN=n.unstable_NormalPriority,cn={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new PN,data:new Map,refCount:0}}function Fu(r){r.refCount--,r.refCount===0&&VN(UN,function(){r.controller.abort()})}var Gu=null,Mm=0,Dl=0,Ll=null;function qN(r,s){if(Gu===null){var o=Gu=[];Mm=0,Dl=Pp(),Ll={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Mm++,s.then(Lv,Lv),s}function Lv(){if(--Mm===0&&Gu!==null){Ll!==null&&(Ll.status="fulfilled");var r=Gu;Gu=null,Dl=0,Ll=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function BN(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Mv=B.S;B.S=function(r,s){yb=St(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&qN(r,s),Mv!==null&&Mv(r,s)};var Uo=V(null);function km(){var r=Uo.current;return r!==null?r:At.pooledCache}function qh(r,s){s===null?ce(Uo,Uo.current):ce(Uo,s.pool)}function kv(){var r=km();return r===null?null:{parent:cn._currentValue,pool:r}}var Ml=Error(i(460)),jm=Error(i(474)),Bh=Error(i(542)),zh={then:function(){}};function jv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Wn,Wn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Uv(r),r;default:if(typeof s.status=="string")s.then(Wn,Wn);else{if(r=At,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Uv(r),r}throw Bo=s,Ml}}function qo(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Bo=o,Ml):o}}var Bo=null;function Vv(){if(Bo===null)throw Error(i(459));var r=Bo;return Bo=null,r}function Uv(r){if(r===Ml||r===Bh)throw Error(i(483))}var kl=null,$u=0;function Hh(r){var s=$u;return $u+=1,kl===null&&(kl=[]),Pv(kl,r,s)}function Ku(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Fh(r,s){throw s.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function qv(r){function s($,H){if(r){var X=$.deletions;X===null?($.deletions=[H],$.flags|=16):X.push(H)}}function o($,H){if(!r)return null;for(;H!==null;)s($,H),H=H.sibling;return null}function u($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function d($,H){return $=$s($,H),$.index=0,$.sibling=null,$}function p($,H,X){return $.index=X,r?(X=$.alternate,X!==null?(X=X.index,X<H?($.flags|=67108866,H):X):($.flags|=67108866,H)):($.flags|=1048576,H)}function T($){return r&&$.alternate===null&&($.flags|=67108866),$}function C($,H,X,se){return H===null||H.tag!==6?(H=Am(X,$.mode,se),H.return=$,H):(H=d(H,X),H.return=$,H)}function q($,H,X,se){var Me=X.type;return Me===M?ie($,H,X.props.children,se,X.key):H!==null&&(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===L&&qo(Me)===H.type)?(H=d(H,X.props),Ku(H,X),H.return=$,H):(H=jh(X.type,X.key,X.props,null,$.mode,se),Ku(H,X),H.return=$,H)}function W($,H,X,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=xm(X,$.mode,se),H.return=$,H):(H=d(H,X.children||[]),H.return=$,H)}function ie($,H,X,se,Me){return H===null||H.tag!==7?(H=ko(X,$.mode,se,Me),H.return=$,H):(H=d(H,X),H.return=$,H)}function ue($,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Am(""+H,$.mode,X),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return X=jh(H.type,H.key,H.props,null,$.mode,X),Ku(X,H),X.return=$,X;case O:return H=xm(H,$.mode,X),H.return=$,H;case L:return H=qo(H),ue($,H,X)}if(de(H)||D(H))return H=ko(H,$.mode,X,null),H.return=$,H;if(typeof H.then=="function")return ue($,Hh(H),X);if(H.$$typeof===re)return ue($,Uh($,H),X);Fh($,H)}return null}function J($,H,X,se){var Me=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Me!==null?null:C($,H,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return X.key===Me?q($,H,X,se):null;case O:return X.key===Me?W($,H,X,se):null;case L:return X=qo(X),J($,H,X,se)}if(de(X)||D(X))return Me!==null?null:ie($,H,X,se,null);if(typeof X.then=="function")return J($,H,Hh(X),se);if(X.$$typeof===re)return J($,H,Uh($,X),se);Fh($,X)}return null}function ne($,H,X,se,Me){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(X)||null,C(H,$,""+se,Me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return $=$.get(se.key===null?X:se.key)||null,q(H,$,se,Me);case O:return $=$.get(se.key===null?X:se.key)||null,W(H,$,se,Me);case L:return se=qo(se),ne($,H,X,se,Me)}if(de(se)||D(se))return $=$.get(X)||null,ie(H,$,se,Me,null);if(typeof se.then=="function")return ne($,H,X,Hh(se),Me);if(se.$$typeof===re)return ne($,H,X,Uh(H,se),Me);Fh(H,se)}return null}function Se($,H,X,se){for(var Me=null,ct=null,Ce=H,$e=H=0,nt=null;Ce!==null&&$e<X.length;$e++){Ce.index>$e?(nt=Ce,Ce=null):nt=Ce.sibling;var ht=J($,Ce,X[$e],se);if(ht===null){Ce===null&&(Ce=nt);break}r&&Ce&&ht.alternate===null&&s($,Ce),H=p(ht,H,$e),ct===null?Me=ht:ct.sibling=ht,ct=ht,Ce=nt}if($e===X.length)return o($,Ce),ot&&Ks($,$e),Me;if(Ce===null){for(;$e<X.length;$e++)Ce=ue($,X[$e],se),Ce!==null&&(H=p(Ce,H,$e),ct===null?Me=Ce:ct.sibling=Ce,ct=Ce);return ot&&Ks($,$e),Me}for(Ce=u(Ce);$e<X.length;$e++)nt=ne(Ce,$,$e,X[$e],se),nt!==null&&(r&&nt.alternate!==null&&Ce.delete(nt.key===null?$e:nt.key),H=p(nt,H,$e),ct===null?Me=nt:ct.sibling=nt,ct=nt);return r&&Ce.forEach(function(Za){return s($,Za)}),ot&&Ks($,$e),Me}function Pe($,H,X,se){if(X==null)throw Error(i(151));for(var Me=null,ct=null,Ce=H,$e=H=0,nt=null,ht=X.next();Ce!==null&&!ht.done;$e++,ht=X.next()){Ce.index>$e?(nt=Ce,Ce=null):nt=Ce.sibling;var Za=J($,Ce,ht.value,se);if(Za===null){Ce===null&&(Ce=nt);break}r&&Ce&&Za.alternate===null&&s($,Ce),H=p(Za,H,$e),ct===null?Me=Za:ct.sibling=Za,ct=Za,Ce=nt}if(ht.done)return o($,Ce),ot&&Ks($,$e),Me;if(Ce===null){for(;!ht.done;$e++,ht=X.next())ht=ue($,ht.value,se),ht!==null&&(H=p(ht,H,$e),ct===null?Me=ht:ct.sibling=ht,ct=ht);return ot&&Ks($,$e),Me}for(Ce=u(Ce);!ht.done;$e++,ht=X.next())ht=ne(Ce,$,$e,ht.value,se),ht!==null&&(r&&ht.alternate!==null&&Ce.delete(ht.key===null?$e:ht.key),H=p(ht,H,$e),ct===null?Me=ht:ct.sibling=ht,ct=ht);return r&&Ce.forEach(function(Z2){return s($,Z2)}),ot&&Ks($,$e),Me}function Tt($,H,X,se){if(typeof X=="object"&&X!==null&&X.type===M&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case x:e:{for(var Me=X.key;H!==null;){if(H.key===Me){if(Me=X.type,Me===M){if(H.tag===7){o($,H.sibling),se=d(H,X.props.children),se.return=$,$=se;break e}}else if(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===L&&qo(Me)===H.type){o($,H.sibling),se=d(H,X.props),Ku(se,X),se.return=$,$=se;break e}o($,H);break}else s($,H);H=H.sibling}X.type===M?(se=ko(X.props.children,$.mode,se,X.key),se.return=$,$=se):(se=jh(X.type,X.key,X.props,null,$.mode,se),Ku(se,X),se.return=$,$=se)}return T($);case O:e:{for(Me=X.key;H!==null;){if(H.key===Me)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o($,H.sibling),se=d(H,X.children||[]),se.return=$,$=se;break e}else{o($,H);break}else s($,H);H=H.sibling}se=xm(X,$.mode,se),se.return=$,$=se}return T($);case L:return X=qo(X),Tt($,H,X,se)}if(de(X))return Se($,H,X,se);if(D(X)){if(Me=D(X),typeof Me!="function")throw Error(i(150));return X=Me.call(X),Pe($,H,X,se)}if(typeof X.then=="function")return Tt($,H,Hh(X),se);if(X.$$typeof===re)return Tt($,H,Uh($,X),se);Fh($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o($,H.sibling),se=d(H,X),se.return=$,$=se):(o($,H),se=Am(X,$.mode,se),se.return=$,$=se),T($)):o($,H)}return function($,H,X,se){try{$u=0;var Me=Tt($,H,X,se);return kl=null,Me}catch(Ce){if(Ce===Ml||Ce===Bh)throw Ce;var ct=Gr(29,Ce,null,$.mode);return ct.lanes=se,ct.return=$,ct}finally{}}}var zo=qv(!0),Bv=qv(!1),ka=!1;function Pm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ja(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Pa(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=kh(r),Av(r,null,o),s}return Mh(r,u,s,o),kh(r)}function Yu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ps(r,o)}}function Um(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var qm=!1;function Qu(){if(qm){var r=Ll;if(r!==null)throw r}}function Xu(r,s,o,u){qm=!1;var d=r.updateQueue;ka=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var q=C,W=q.next;q.next=null,T===null?p=W:T.next=W,T=q;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==T&&(C===null?ie.firstBaseUpdate=W:C.next=W,ie.lastBaseUpdate=q))}if(p!==null){var ue=d.baseState;T=0,ie=W=q=null,C=p;do{var J=C.lane&-536870913,ne=J!==C.lane;if(ne?(tt&J)===J:(u&J)===J){J!==0&&J===Dl&&(qm=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=r,Pe=C;J=s;var Tt=o;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){ue=Se.call(Tt,ue,J);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,J=typeof Se=="function"?Se.call(Tt,ue,J):Se,J==null)break e;ue=E({},ue,J);break e;case 2:ka=!0}}J=C.callback,J!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=d.callbacks,ne===null?d.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(W=ie=ne,q=ue):ie=ie.next=ne,T|=J;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,d.lastBaseUpdate=ne,d.shared.pending=null}}while(!0);ie===null&&(q=ue),d.baseState=q,d.firstBaseUpdate=W,d.lastBaseUpdate=ie,p===null&&(d.shared.lanes=0),za|=T,r.lanes=T,r.memoizedState=ue}}function zv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Hv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)zv(o[r],s)}var jl=V(null),Gh=V(0);function Fv(r,s){r=ia,ce(Gh,r),ce(jl,s),ia=r|s.baseLanes}function Bm(){ce(Gh,ia),ce(jl,jl.current)}function zm(){ia=Gh.current,Q(jl),Q(Gh)}var $r=V(null),yi=null;function Va(r){var s=r.alternate;ce(an,an.current&1),ce($r,r),yi===null&&(s===null||jl.current!==null||s.memoizedState!==null)&&(yi=r)}function Hm(r){ce(an,an.current),ce($r,r),yi===null&&(yi=r)}function Gv(r){r.tag===22?(ce(an,an.current),ce($r,r),yi===null&&(yi=r)):Ua()}function Ua(){ce(an,an.current),ce($r,$r.current)}function Kr(r){Q($r),yi===r&&(yi=null),Q(an)}var an=V(0);function $h(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Qp(o)||Xp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xs=0,Fe=null,_t=null,hn=null,Kh=!1,Pl=!1,Ho=!1,Yh=0,Wu=0,Vl=null,zN=0;function en(){throw Error(i(321))}function Fm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Fr(r[o],s[o]))return!1;return!0}function Gm(r,s,o,u,d,p){return Xs=p,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?C1:ap,Ho=!1,p=o(u,d),Ho=!1,Pl&&(p=Kv(s,o,u,d)),$v(r),p}function $v(r){B.H=ec;var s=_t!==null&&_t.next!==null;if(Xs=0,hn=_t=Fe=null,Kh=!1,Wu=0,Vl=null,s)throw Error(i(300));r===null||fn||(r=r.dependencies,r!==null&&Vh(r)&&(fn=!0))}function Kv(r,s,o,u){Fe=r;var d=0;do{if(Pl&&(Vl=null),Wu=0,Pl=!1,25<=d)throw Error(i(301));if(d+=1,hn=_t=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=R1,p=s(o,u)}while(Pl);return p}function HN(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?Zu(s):s,r=r.useState()[0],(_t!==null?_t.memoizedState:null)!==r&&(Fe.flags|=1024),s}function $m(){var r=Yh!==0;return Yh=0,r}function Km(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ym(r){if(Kh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kh=!1}Xs=0,hn=_t=Fe=null,Pl=!1,Wu=Yh=0,Vl=null}function mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Fe.memoizedState=hn=r:hn=hn.next=r,hn}function on(){if(_t===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=hn===null?Fe.memoizedState:hn.next;if(s!==null)hn=s,_t=r;else{if(r===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},hn===null?Fe.memoizedState=hn=r:hn=hn.next=r}return hn}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zu(r){var s=Wu;return Wu+=1,Vl===null&&(Vl=[]),r=Pv(Vl,r,s),s=Fe,(hn===null?s.memoizedState:hn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?C1:ap),r}function Xh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zu(r);if(r.$$typeof===re)return Vn(r)}throw Error(i(438,String(r)))}function Qm(r){var s=null,o=Fe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Qh(),Fe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=z;return s.index++,o}function Ws(r,s){return typeof s=="function"?s(r):s}function Wh(r){var s=on();return Xm(s,_t,r)}function Xm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,p=u.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}s.baseQueue=d=p,u.pending=null}if(p=r.baseState,d===null)r.memoizedState=p;else{s=d.next;var C=T=null,q=null,W=s,ie=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(tt&ue)===ue:(Xs&ue)===ue){var J=W.revertLane;if(J===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===Dl&&(ie=!0);else if((Xs&J)===J){W=W.next,J===Dl&&(ie=!0);continue}else ue={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(C=q=ue,T=p):q=q.next=ue,Fe.lanes|=J,za|=J;ue=W.action,Ho&&o(p,ue),p=W.hasEagerState?W.eagerState:o(p,ue)}else J={lane:ue,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(C=q=J,T=p):q=q.next=J,Fe.lanes|=ue,za|=ue;W=W.next}while(W!==null&&W!==s);if(q===null?T=p:q.next=C,!Fr(p,r.memoizedState)&&(fn=!0,ie&&(o=Ll,o!==null)))throw o;r.memoizedState=p,r.baseState=T,r.baseQueue=q,u.lastRenderedState=p}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Wm(r){var s=on(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do p=r(p,T.action),T=T.next;while(T!==d);Fr(p,s.memoizedState)||(fn=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function Yv(r,s,o){var u=Fe,d=on(),p=ot;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Fr((_t||d).memoizedState,o);if(T&&(d.memoizedState=o,fn=!0),d=d.queue,ep(Wv.bind(null,u,d,r),[r]),d.getSnapshot!==s||T||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,Ul(9,{destroy:void 0},Xv.bind(null,u,d,o,s),null),At===null)throw Error(i(349));p||(Xs&127)!==0||Qv(u,s,o)}return o}function Qv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Fe.updateQueue,s===null?(s=Qh(),Fe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Xv(r,s,o,u){s.value=o,s.getSnapshot=u,Zv(s)&&Jv(r)}function Wv(r,s,o){return o(function(){Zv(s)&&Jv(r)})}function Zv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Fr(r,o)}catch{return!0}}function Jv(r){var s=Mo(r,2);s!==null&&Ir(s,r,2)}function Zm(r){var s=mr();if(typeof r=="function"){var o=r;if(r=o(),Ho){vn(!0);try{o()}finally{vn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:r},s}function e1(r,s,o,u){return r.baseState=o,Xm(r,_t,typeof u=="function"?u:Ws)}function FN(r,s,o,u,d){if(ef(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};B.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,t1(s,p)):(p.next=o.next,s.pending=o.next=p)}}function t1(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var p=B.T,T={};B.T=T;try{var C=o(d,u),q=B.S;q!==null&&q(T,C),n1(r,s,C)}catch(W){Jm(r,s,W)}finally{p!==null&&T.types!==null&&(p.types=T.types),B.T=p}}else try{p=o(d,u),n1(r,s,p)}catch(W){Jm(r,s,W)}}function n1(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){r1(r,s,u)},function(u){return Jm(r,s,u)}):r1(r,s,o)}function r1(r,s,o){s.status="fulfilled",s.value=o,i1(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,t1(r,o)))}function Jm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,i1(s),s=s.next;while(s!==u)}r.action=null}function i1(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function s1(r,s){return s}function a1(r,s){if(ot){var o=At.formState;if(o!==null){e:{var u=Fe;if(ot){if(Lt){t:{for(var d=Lt,p=gi;d.nodeType!==8;){if(!p){d=null;break t}if(d=vi(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Lt=vi(d.nextSibling),u=d.data==="F!";break e}}La(u)}u=!1}u&&(s=o[0])}}return o=mr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s1,lastRenderedState:s},o.queue=u,o=x1.bind(null,Fe,u),u.dispatch=o,u=Zm(!1),p=sp.bind(null,Fe,!1,u.queue),u=mr(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=FN.bind(null,Fe,d,p,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function o1(r){var s=on();return l1(s,_t,r)}function l1(r,s,o){if(s=Xm(r,s,s1)[0],r=Wh(Ws)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Zu(s)}catch(T){throw T===Ml?Bh:T}else u=s;s=on();var d=s.queue,p=d.dispatch;return o!==s.memoizedState&&(Fe.flags|=2048,Ul(9,{destroy:void 0},GN.bind(null,d,o),null)),[u,p,r]}function GN(r,s){r.action=s}function u1(r){var s=on(),o=_t;if(o!==null)return l1(s,o,r);on(),s=s.memoizedState,o=on();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Ul(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Qh(),Fe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function c1(){return on().memoizedState}function Zh(r,s,o,u){var d=mr();Fe.flags|=r,d.memoizedState=Ul(1|s,{destroy:void 0},o,u===void 0?null:u)}function Jh(r,s,o,u){var d=on();u=u===void 0?null:u;var p=d.memoizedState.inst;_t!==null&&u!==null&&Fm(u,_t.memoizedState.deps)?d.memoizedState=Ul(s,p,o,u):(Fe.flags|=r,d.memoizedState=Ul(1|s,p,o,u))}function h1(r,s){Zh(8390656,8,r,s)}function ep(r,s){Jh(2048,8,r,s)}function $N(r){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=Qh(),Fe.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function f1(r){var s=on().memoizedState;return $N({ref:s,nextImpl:r}),function(){if((mt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function d1(r,s){return Jh(4,2,r,s)}function m1(r,s){return Jh(4,4,r,s)}function p1(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function g1(r,s,o){o=o!=null?o.concat([r]):null,Jh(4,4,p1.bind(null,s,r),o)}function tp(){}function y1(r,s){var o=on();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Fm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function v1(r,s){var o=on();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Fm(s,u[1]))return u[0];if(u=r(),Ho){vn(!0);try{r()}finally{vn(!1)}}return o.memoizedState=[u,s],u}function np(r,s,o){return o===void 0||(Xs&1073741824)!==0&&(tt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=bb(),Fe.lanes|=r,za|=r,o)}function b1(r,s,o,u){return Fr(o,s)?o:jl.current!==null?(r=np(r,o,u),Fr(r,s)||(fn=!0),r):(Xs&42)===0||(Xs&1073741824)!==0&&(tt&261930)===0?(fn=!0,r.memoizedState=o):(r=bb(),Fe.lanes|=r,za|=r,s)}function _1(r,s,o,u,d){var p=Z.p;Z.p=p!==0&&8>p?p:8;var T=B.T,C={};B.T=C,sp(r,!1,s,o);try{var q=d(),W=B.S;if(W!==null&&W(C,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ie=BN(q,u);Ju(r,s,ie,Xr(r))}else Ju(r,s,u,Xr(r))}catch(ue){Ju(r,s,{then:function(){},status:"rejected",reason:ue},Xr())}finally{Z.p=p,T!==null&&C.types!==null&&(T.types=C.types),B.T=T}}function KN(){}function rp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=E1(r).queue;_1(r,d,s,le,o===null?KN:function(){return T1(r),o(u)})}function E1(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:le},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function T1(r){var s=E1(r);s.next===null&&(s=r.alternate.memoizedState),Ju(r,s.next.queue,{},Xr())}function ip(){return Vn(gc)}function w1(){return on().memoizedState}function A1(){return on().memoizedState}function YN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Xr();r=ja(o);var u=Pa(s,r,o);u!==null&&(Ir(u,s,o),Yu(u,s,o)),s={cache:Lm()},r.payload=s;return}s=s.return}}function QN(r,s,o){var u=Xr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ef(r)?S1(s,o):(o=Tm(r,s,o,u),o!==null&&(Ir(o,r,u),N1(o,s,u)))}function x1(r,s,o){var u=Xr();Ju(r,s,o,u)}function Ju(r,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ef(r))S1(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var T=s.lastRenderedState,C=p(T,o);if(d.hasEagerState=!0,d.eagerState=C,Fr(C,T))return Mh(r,s,d,0),At===null&&Lh(),!1}catch{}finally{}if(o=Tm(r,s,d,u),o!==null)return Ir(o,r,u),N1(o,s,u),!0}return!1}function sp(r,s,o,u){if(u={lane:2,revertLane:Pp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ef(r)){if(s)throw Error(i(479))}else s=Tm(r,o,u,2),s!==null&&Ir(s,r,2)}function ef(r){var s=r.alternate;return r===Fe||s!==null&&s===Fe}function S1(r,s){Pl=Kh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function N1(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ps(r,o)}}var ec={readContext:Vn,use:Xh,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};ec.useEffectEvent=en;var C1={readContext:Vn,use:Xh,useCallback:function(r,s){return mr().memoizedState=[r,s===void 0?null:s],r},useContext:Vn,useEffect:h1,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Zh(4194308,4,p1.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Zh(4194308,4,r,s)},useInsertionEffect:function(r,s){Zh(4,2,r,s)},useMemo:function(r,s){var o=mr();s=s===void 0?null:s;var u=r();if(Ho){vn(!0);try{r()}finally{vn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=mr();if(o!==void 0){var d=o(s);if(Ho){vn(!0);try{o(s)}finally{vn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=QN.bind(null,Fe,r),[u.memoizedState,r]},useRef:function(r){var s=mr();return r={current:r},s.memoizedState=r},useState:function(r){r=Zm(r);var s=r.queue,o=x1.bind(null,Fe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:tp,useDeferredValue:function(r,s){var o=mr();return np(o,r,s)},useTransition:function(){var r=Zm(!1);return r=_1.bind(null,Fe,r.queue,!0,!1),mr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Fe,d=mr();if(ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),At===null)throw Error(i(349));(tt&127)!==0||Qv(u,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,h1(Wv.bind(null,u,p,r),[r]),u.flags|=2048,Ul(9,{destroy:void 0},Xv.bind(null,u,p,o,s),null),o},useId:function(){var r=mr(),s=At.identifierPrefix;if(ot){var o=ds,u=fs;o=(u&~(1<<32-Nt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Yh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=zN++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:ip,useFormState:a1,useActionState:a1,useOptimistic:function(r){var s=mr();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=sp.bind(null,Fe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Qm,useCacheRefresh:function(){return mr().memoizedState=YN.bind(null,Fe)},useEffectEvent:function(r){var s=mr(),o={impl:r};return s.memoizedState=o,function(){if((mt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},ap={readContext:Vn,use:Xh,useCallback:y1,useContext:Vn,useEffect:ep,useImperativeHandle:g1,useInsertionEffect:d1,useLayoutEffect:m1,useMemo:v1,useReducer:Wh,useRef:c1,useState:function(){return Wh(Ws)},useDebugValue:tp,useDeferredValue:function(r,s){var o=on();return b1(o,_t.memoizedState,r,s)},useTransition:function(){var r=Wh(Ws)[0],s=on().memoizedState;return[typeof r=="boolean"?r:Zu(r),s]},useSyncExternalStore:Yv,useId:w1,useHostTransitionStatus:ip,useFormState:o1,useActionState:o1,useOptimistic:function(r,s){var o=on();return e1(o,_t,r,s)},useMemoCache:Qm,useCacheRefresh:A1};ap.useEffectEvent=f1;var R1={readContext:Vn,use:Xh,useCallback:y1,useContext:Vn,useEffect:ep,useImperativeHandle:g1,useInsertionEffect:d1,useLayoutEffect:m1,useMemo:v1,useReducer:Wm,useRef:c1,useState:function(){return Wm(Ws)},useDebugValue:tp,useDeferredValue:function(r,s){var o=on();return _t===null?np(o,r,s):b1(o,_t.memoizedState,r,s)},useTransition:function(){var r=Wm(Ws)[0],s=on().memoizedState;return[typeof r=="boolean"?r:Zu(r),s]},useSyncExternalStore:Yv,useId:w1,useHostTransitionStatus:ip,useFormState:u1,useActionState:u1,useOptimistic:function(r,s){var o=on();return _t!==null?e1(o,_t,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Qm,useCacheRefresh:A1};R1.useEffectEvent=f1;function op(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var lp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Xr(),d=ja(u);d.payload=s,o!=null&&(d.callback=o),s=Pa(r,d,u),s!==null&&(Ir(s,r,u),Yu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Xr(),d=ja(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Pa(r,d,u),s!==null&&(Ir(s,r,u),Yu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Xr(),u=ja(o);u.tag=2,s!=null&&(u.callback=s),s=Pa(r,u,o),s!==null&&(Ir(s,r,o),Yu(s,r,o))}};function I1(r,s,o,u,d,p,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,T):s.prototype&&s.prototype.isPureReactComponent?!qu(o,u)||!qu(d,p):!0}function O1(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&lp.enqueueReplaceState(s,s.state,null)}function Fo(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=E({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function D1(r){Dh(r)}function L1(r){console.error(r)}function M1(r){Dh(r)}function tf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function k1(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function up(r,s,o){return o=ja(o),o.tag=3,o.payload={element:null},o.callback=function(){tf(r,s)},o}function j1(r){return r=ja(r),r.tag=3,r}function P1(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;r.payload=function(){return d(p)},r.callback=function(){k1(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){k1(s,o,u),typeof d!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function XN(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ol(s,o,d,!0),o=$r.current,o!==null){switch(o.tag){case 31:case 13:return yi===null?mf():o.alternate===null&&tn===0&&(tn=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===zh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Mp(r,u,d)),!1;case 22:return o.flags|=65536,u===zh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Mp(r,u,d)),!1}throw Error(i(435,o.tag))}return Mp(r,u,d),mf(),!1}if(ot)return s=$r.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Cm&&(r=Error(i(422),{cause:u}),Hu(di(r,o)))):(u!==Cm&&(s=Error(i(423),{cause:u}),Hu(di(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=di(u,o),d=up(r.stateNode,u,d),Um(r,d),tn!==4&&(tn=2)),!1;var p=Error(i(520),{cause:u});if(p=di(p,o),lc===null?lc=[p]:lc.push(p),tn!==4&&(tn=2),s===null)return!0;u=di(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=up(o.stateNode,u,r),Um(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ha===null||!Ha.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=j1(d),P1(d,r,o,u),Um(o,d),!1}o=o.return}while(o!==null);return!1}var cp=Error(i(461)),fn=!1;function Un(r,s,o,u){s.child=r===null?Bv(s,null,o,u):zo(s,r.child,o,u)}function V1(r,s,o,u,d){o=o.render;var p=s.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return Vo(s),u=Gm(r,s,o,T,p,d),C=$m(),r!==null&&!fn?(Km(r,s,d),Zs(r,s,d)):(ot&&C&&Sm(s),s.flags|=1,Un(r,s,u,d),s.child)}function U1(r,s,o,u,d){if(r===null){var p=o.type;return typeof p=="function"&&!wm(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,q1(r,s,p,u,d)):(r=jh(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!vp(r,d)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:qu,o(T,u)&&r.ref===s.ref)return Zs(r,s,d)}return s.flags|=1,r=$s(p,u),r.ref=s.ref,r.return=s,s.child=r}function q1(r,s,o,u,d){if(r!==null){var p=r.memoizedProps;if(qu(p,u)&&r.ref===s.ref)if(fn=!1,s.pendingProps=u=p,vp(r,d))(r.flags&131072)!==0&&(fn=!0);else return s.lanes=r.lanes,Zs(r,s,d)}return hp(r,s,o,u,d)}function B1(r,s,o,u){var d=u.children,p=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,r!==null){for(u=s.child=r.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,s.child=null;return z1(r,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&qh(s,p!==null?p.cachePool:null),p!==null?Fv(s,p):Bm(),Gv(s);else return u=s.lanes=536870912,z1(r,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(qh(s,p.cachePool),Fv(s,p),Ua(),s.memoizedState=null):(r!==null&&qh(s,null),Bm(),Ua());return Un(r,s,d,o),s.child}function tc(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function z1(r,s,o,u,d){var p=km();return p=p===null?null:{parent:cn._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&qh(s,null),Bm(),Gv(s),r!==null&&Ol(r,s,u,!0),s.childLanes=d,null}function nf(r,s){return s=sf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function H1(r,s,o){return zo(s,r.child,null,o),r=nf(s,s.pendingProps),r.flags|=2,Kr(s),s.memoizedState=null,r}function WN(r,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(ot){if(u.mode==="hidden")return r=nf(s,u),s.lanes=536870912,tc(null,r);if(Hm(s),(r=Lt)?(r=t_(r,gi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Oa!==null?{id:fs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},o=Sv(r),o.return=s,s.child=o,Pn=s,Lt=null)):r=null,r===null)throw La(s);return s.lanes=536870912,null}return nf(s,u)}var p=r.memoizedState;if(p!==null){var T=p.dehydrated;if(Hm(s),d)if(s.flags&256)s.flags&=-257,s=H1(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(fn||Ol(r,s,o,!1),d=(o&r.childLanes)!==0,fn||d){if(u=At,u!==null&&(T=Vs(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,Mo(r,T),Ir(u,r,T),cp;mf(),s=H1(r,s,o)}else r=p.treeContext,Lt=vi(T.nextSibling),Pn=s,ot=!0,Da=null,gi=!1,r!==null&&Rv(s,r),s=nf(s,u),s.flags|=4096;return s}return r=$s(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function rf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function hp(r,s,o,u,d){return Vo(s),o=Gm(r,s,o,u,void 0,d),u=$m(),r!==null&&!fn?(Km(r,s,d),Zs(r,s,d)):(ot&&u&&Sm(s),s.flags|=1,Un(r,s,o,d),s.child)}function F1(r,s,o,u,d,p){return Vo(s),s.updateQueue=null,o=Kv(s,u,o,d),$v(r),u=$m(),r!==null&&!fn?(Km(r,s,p),Zs(r,s,p)):(ot&&u&&Sm(s),s.flags|=1,Un(r,s,o,p),s.child)}function G1(r,s,o,u,d){if(Vo(s),s.stateNode===null){var p=Nl,T=o.contextType;typeof T=="object"&&T!==null&&(p=Vn(T)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},Pm(s),T=o.contextType,p.context=typeof T=="object"&&T!==null?Vn(T):Nl,p.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(op(s,o,T,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&lp.enqueueReplaceState(p,p.state,null),Xu(s,u,p,d),Qu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var C=s.memoizedProps,q=Fo(o,C);p.props=q;var W=p.context,ie=o.contextType;T=Nl,typeof ie=="object"&&ie!==null&&(T=Vn(ie));var ue=o.getDerivedStateFromProps;ie=typeof ue=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,ie||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||W!==T)&&O1(s,p,u,T),ka=!1;var J=s.memoizedState;p.state=J,Xu(s,u,p,d),Qu(),W=s.memoizedState,C||J!==W||ka?(typeof ue=="function"&&(op(s,o,ue,u),W=s.memoizedState),(q=ka||I1(s,o,q,u,J,W,T))?(ie||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),p.props=u,p.state=W,p.context=T,u=q):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,Vm(r,s),T=s.memoizedProps,ie=Fo(o,T),p.props=ie,ue=s.pendingProps,J=p.context,W=o.contextType,q=Nl,typeof W=="object"&&W!==null&&(q=Vn(W)),C=o.getDerivedStateFromProps,(W=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ue||J!==q)&&O1(s,p,u,q),ka=!1,J=s.memoizedState,p.state=J,Xu(s,u,p,d),Qu();var ne=s.memoizedState;T!==ue||J!==ne||ka||r!==null&&r.dependencies!==null&&Vh(r.dependencies)?(typeof C=="function"&&(op(s,o,C,u),ne=s.memoizedState),(ie=ka||I1(s,o,ie,u,J,ne,q)||r!==null&&r.dependencies!==null&&Vh(r.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,ne,q),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,ne,q)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ne),p.props=u,p.state=ne,p.context=q,u=ie):(typeof p.componentDidUpdate!="function"||T===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,rf(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=zo(s,r.child,null,d),s.child=zo(s,null,o,d)):Un(r,s,o,d),s.memoizedState=p.state,r=s.child):r=Zs(r,s,d),r}function $1(r,s,o,u){return jo(),s.flags|=256,Un(r,s,o,u),s.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(r){return{baseLanes:r,cachePool:kv()}}function mp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Qr),r}function K1(r,s,o){var u=s.pendingProps,d=!1,p=(s.flags&128)!==0,T;if((T=p)||(T=r!==null&&r.memoizedState===null?!1:(an.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(ot){if(d?Va(s):Ua(),(r=Lt)?(r=t_(r,gi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Oa!==null?{id:fs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},o=Sv(r),o.return=s,s.child=o,Pn=s,Lt=null)):r=null,r===null)throw La(s);return Xp(r)?s.lanes=32:s.lanes=536870912,null}var C=u.children;return u=u.fallback,d?(Ua(),d=s.mode,C=sf({mode:"hidden",children:C},d),u=ko(u,d,o,null),C.return=s,u.return=s,C.sibling=u,s.child=C,u=s.child,u.memoizedState=dp(o),u.childLanes=mp(r,T,o),s.memoizedState=fp,tc(null,u)):(Va(s),pp(s,C))}var q=r.memoizedState;if(q!==null&&(C=q.dehydrated,C!==null)){if(p)s.flags&256?(Va(s),s.flags&=-257,s=gp(r,s,o)):s.memoizedState!==null?(Ua(),s.child=r.child,s.flags|=128,s=null):(Ua(),C=u.fallback,d=s.mode,u=sf({mode:"visible",children:u.children},d),C=ko(C,d,o,null),C.flags|=2,u.return=s,C.return=s,u.sibling=C,s.child=u,zo(s,r.child,null,o),u=s.child,u.memoizedState=dp(o),u.childLanes=mp(r,T,o),s.memoizedState=fp,s=tc(null,u));else if(Va(s),Xp(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var W=T.dgst;T=W,u=Error(i(419)),u.stack="",u.digest=T,Hu({value:u,source:null,stack:null}),s=gp(r,s,o)}else if(fn||Ol(r,s,o,!1),T=(o&r.childLanes)!==0,fn||T){if(T=At,T!==null&&(u=Vs(T,o),u!==0&&u!==q.retryLane))throw q.retryLane=u,Mo(r,u),Ir(T,r,u),cp;Qp(C)||mf(),s=gp(r,s,o)}else Qp(C)?(s.flags|=192,s.child=r.child,s=null):(r=q.treeContext,Lt=vi(C.nextSibling),Pn=s,ot=!0,Da=null,gi=!1,r!==null&&Rv(s,r),s=pp(s,u.children),s.flags|=4096);return s}return d?(Ua(),C=u.fallback,d=s.mode,q=r.child,W=q.sibling,u=$s(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,W!==null?C=$s(W,C):(C=ko(C,d,o,null),C.flags|=2),C.return=s,u.return=s,u.sibling=C,s.child=u,tc(null,u),u=s.child,C=r.child.memoizedState,C===null?C=dp(o):(d=C.cachePool,d!==null?(q=cn._currentValue,d=d.parent!==q?{parent:q,pool:q}:d):d=kv(),C={baseLanes:C.baseLanes|o,cachePool:d}),u.memoizedState=C,u.childLanes=mp(r,T,o),s.memoizedState=fp,tc(r.child,u)):(Va(s),o=r.child,r=o.sibling,o=$s(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function pp(r,s){return s=sf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function sf(r,s){return r=Gr(22,r,null,s),r.lanes=0,r}function gp(r,s,o){return zo(s,r.child,null,o),r=pp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y1(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Om(r.return,s,o)}function yp(r,s,o,u,d,p){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=p)}function Q1(r,s,o){var u=s.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var T=an.current,C=(T&2)!==0;if(C?(T=T&1|2,s.flags|=128):T&=1,ce(an,T),Un(r,s,u,o),u=ot?zu:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Y1(r,o,s);else if(r.tag===19)Y1(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&$h(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),yp(s,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&$h(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}yp(s,!0,o,null,p,u);break;case"together":yp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Zs(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),za|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ol(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=$s(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=$s(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function vp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Vh(r)))}function ZN(r,s,o){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),Ma(s,cn,r.memoizedState.cache),jo();break;case 27:case 5:Ke(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:Ma(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Hm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Va(s),s.flags|=128,null):(o&s.child.childLanes)!==0?K1(r,s,o):(Va(s),r=Zs(r,s,o),r!==null?r.sibling:null);Va(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ol(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return Q1(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(an,an.current),u)break;return null;case 22:return s.lanes=0,B1(r,s,o,s.pendingProps);case 24:Ma(s,cn,r.memoizedState.cache)}return Zs(r,s,o)}function X1(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)fn=!0;else{if(!vp(r,o)&&(s.flags&128)===0)return fn=!1,ZN(r,s,o);fn=(r.flags&131072)!==0}else fn=!1,ot&&(s.flags&1048576)!==0&&Cv(s,zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=qo(s.elementType),s.type=r,typeof r=="function")wm(r)?(u=Fo(r,u),s.tag=1,s=G1(null,s,r,u,o)):(s.tag=0,s=hp(null,s,r,u,o));else{if(r!=null){var d=r.$$typeof;if(d===be){s.tag=11,s=V1(null,s,r,u,o);break e}else if(d===j){s.tag=14,s=U1(null,s,r,u,o);break e}}throw s=me(r)||r,Error(i(306,s,""))}}return s;case 0:return hp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=Fo(u,s.pendingProps),G1(r,s,u,d,o);case 3:e:{if(Ie(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;d=p.element,Vm(r,s),Xu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Ma(s,cn,u),u!==p.cache&&Dm(s,[cn],o,!0),Qu(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=$1(r,s,u,o);break e}else if(u!==d){d=di(Error(i(424)),s),Hu(d),s=$1(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Lt=vi(r.firstChild),Pn=s,ot=!0,Da=null,gi=!0,o=Bv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(jo(),u===d){s=Zs(r,s,o);break e}Un(r,s,u,o)}s=s.child}return s;case 26:return rf(r,s),r===null?(o=o_(s.type,null,s.pendingProps,null))?s.memoizedState=o:ot||(o=s.type,r=s.pendingProps,u=Ef(Ae.current).createElement(o),u[Ut]=s,u[Zt]=r,qn(u,o,r),qt(u),s.stateNode=u):s.memoizedState=o_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ke(s),r===null&&ot&&(u=s.stateNode=i_(s.type,s.pendingProps,Ae.current),Pn=s,gi=!0,d=Lt,Ka(s.type)?(Wp=d,Lt=vi(u.firstChild)):Lt=d),Un(r,s,s.pendingProps.children,o),rf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ot&&((d=u=Lt)&&(u=C2(u,s.type,s.pendingProps,gi),u!==null?(s.stateNode=u,Pn=s,Lt=vi(u.firstChild),gi=!1,d=!0):d=!1),d||La(s)),Ke(s),d=s.type,p=s.pendingProps,T=r!==null?r.memoizedProps:null,u=p.children,$p(d,p)?u=null:T!==null&&$p(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=Gm(r,s,HN,null,null,o),gc._currentValue=d),rf(r,s),Un(r,s,u,o),s.child;case 6:return r===null&&ot&&((r=o=Lt)&&(o=R2(o,s.pendingProps,gi),o!==null?(s.stateNode=o,Pn=s,Lt=null,r=!0):r=!1),r||La(s)),null;case 13:return K1(r,s,o);case 4:return Ie(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=zo(s,null,u,o):Un(r,s,u,o),s.child;case 11:return V1(r,s,s.type,s.pendingProps,o);case 7:return Un(r,s,s.pendingProps,o),s.child;case 8:return Un(r,s,s.pendingProps.children,o),s.child;case 12:return Un(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ma(s,s.type,u.value),Un(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Vo(s),d=Vn(d),u=u(d),s.flags|=1,Un(r,s,u,o),s.child;case 14:return U1(r,s,s.type,s.pendingProps,o);case 15:return q1(r,s,s.type,s.pendingProps,o);case 19:return Q1(r,s,o);case 31:return WN(r,s,o);case 22:return B1(r,s,o,s.pendingProps);case 24:return Vo(s),u=Vn(cn),r===null?(d=km(),d===null&&(d=At,p=Lm(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),s.memoizedState={parent:u,cache:d},Pm(s),Ma(s,cn,d)):((r.lanes&o)!==0&&(Vm(r,s),Xu(s,null,null,o),Qu()),d=r.memoizedState,p=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ma(s,cn,u)):(u=p.cache,Ma(s,cn,u),u!==d.cache&&Dm(s,[cn],o,!0))),Un(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Js(r){r.flags|=4}function bp(r,s,o,u,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(wb())r.flags|=8192;else throw Bo=zh,jm}else r.flags&=-16777217}function W1(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!f_(s))if(wb())r.flags|=8192;else throw Bo=zh,jm}function af(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?rs():536870912,r.lanes|=s,Hl|=s)}function nc(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function JN(r,s,o){var u=s.pendingProps;switch(Nm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Mt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Qs(cn),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Il(s)?Js(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rm())),Mt(s),null;case 26:var d=s.type,p=s.memoizedState;return r===null?(Js(s),p!==null?(Mt(s),W1(s,p)):(Mt(s),bp(s,d,null,u,o))):p?p!==r.memoizedState?(Js(s),Mt(s),W1(s,p)):(Mt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&Js(s),Mt(s),bp(s,d,r,u,o)),null;case 27:if(Xe(s),o=Ae.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Js(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Mt(s),null}r=fe.current,Il(s)?Iv(s):(r=i_(d,u,o),s.stateNode=r,Js(s))}return Mt(s),null;case 5:if(Xe(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Js(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Mt(s),null}if(p=fe.current,Il(s))Iv(s);else{var T=Ef(Ae.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}p[Ut]=s,p[Zt]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=p;e:switch(qn(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Js(s)}}return Mt(s),bp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Js(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,Il(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=Pn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Ut]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Kb(r.nodeValue,o)),r||La(s,!0)}else r=Ef(r).createTextNode(u),r[Ut]=s,s.stateNode=r}return Mt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(u=Il(s),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ut]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),r=!1}else o=Rm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(Kr(s),s):(Kr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Mt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Il(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ut]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),d=!1}else d=Rm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Kr(s),s):(Kr(s),null)}return Kr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),af(s,s.updateQueue),Mt(s),null);case 4:return Le(),r===null&&Bp(s.stateNode.containerInfo),Mt(s),null;case 10:return Qs(s.type),Mt(s),null;case 19:if(Q(an),u=s.memoizedState,u===null)return Mt(s),null;if(d=(s.flags&128)!==0,p=u.rendering,p===null)if(d)nc(u,!1);else{if(tn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=$h(r),p!==null){for(s.flags|=128,nc(u,!1),r=p.updateQueue,s.updateQueue=r,af(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)xv(o,r),o=o.sibling;return ce(an,an.current&1|2),ot&&Ks(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&St()>hf&&(s.flags|=128,d=!0,nc(u,!1),s.lanes=4194304)}else{if(!d)if(r=$h(p),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,af(s,r),nc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!ot)return Mt(s),null}else 2*St()-u.renderingStartTime>hf&&o!==536870912&&(s.flags|=128,d=!0,nc(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(r=u.last,r!==null?r.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=St(),r.sibling=null,o=an.current,ce(an,d?o&1|2:o&1),ot&&Ks(s,u.treeForkCount),r):(Mt(s),null);case 22:case 23:return Kr(s),zm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),o=s.updateQueue,o!==null&&af(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&Q(Uo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Qs(cn),Mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function e2(r,s){switch(Nm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Qs(cn),Le(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Xe(s),null;case 31:if(s.memoizedState!==null){if(Kr(s),s.alternate===null)throw Error(i(340));jo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Kr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));jo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Q(an),null;case 4:return Le(),null;case 10:return Qs(s.type),null;case 22:case 23:return Kr(s),zm(),r!==null&&Q(Uo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Qs(cn),null;case 25:return null;default:return null}}function Z1(r,s){switch(Nm(s),s.tag){case 3:Qs(cn),Le();break;case 26:case 27:case 5:Xe(s);break;case 4:Le();break;case 31:s.memoizedState!==null&&Kr(s);break;case 13:Kr(s);break;case 19:Q(an);break;case 10:Qs(s.type);break;case 22:case 23:Kr(s),zm(),r!==null&&Q(Uo);break;case 24:Qs(cn)}}function rc(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==d)}}catch(C){vt(s,s.return,C)}}function qa(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&r)===r){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=s;var q=o,W=C;try{W()}catch(ie){vt(d,q,ie)}}}u=u.next}while(u!==p)}}catch(ie){vt(s,s.return,ie)}}function J1(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Hv(s,o)}catch(u){vt(r,r.return,u)}}}function eb(r,s,o){o.props=Fo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){vt(r,s,u)}}function ic(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){vt(r,s,d)}}function ms(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){vt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){vt(r,s,d)}else o.current=null}function tb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){vt(r,r.return,d)}}function _p(r,s,o){try{var u=r.stateNode;T2(u,r.type,o,s),u[Zt]=s}catch(d){vt(r,r.return,d)}}function nb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ka(r.type)||r.tag===4}function Ep(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||nb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ka(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Tp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Wn));else if(u!==4&&(u===27&&Ka(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Tp(r,s,o),r=r.sibling;r!==null;)Tp(r,s,o),r=r.sibling}function of(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Ka(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(of(r,s,o),r=r.sibling;r!==null;)of(r,s,o),r=r.sibling}function rb(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);qn(s,u,o),s[Ut]=r,s[Zt]=o}catch(p){vt(r,r.return,p)}}var ea=!1,dn=!1,wp=!1,ib=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function t2(r,s){if(r=r.containerInfo,Fp=Cf,r=gv(r),gm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,C=-1,q=-1,W=0,ie=0,ue=r,J=null;t:for(;;){for(var ne;ue!==o||d!==0&&ue.nodeType!==3||(C=T+d),ue!==p||u!==0&&ue.nodeType!==3||(q=T+u),ue.nodeType===3&&(T+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)J=ue,ue=ne;for(;;){if(ue===r)break t;if(J===o&&++W===d&&(C=T),J===p&&++ie===u&&(q=T),(ne=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=ne}o=C===-1||q===-1?null:{start:C,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gp={focusedElem:r,selectionRange:o},Cf=!1,Sn=s;Sn!==null;)if(s=Sn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Sn=r;else for(;Sn!==null;){switch(s=Sn,p=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Se=Fo(o.type,d);r=u.getSnapshotBeforeUpdate(Se,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){vt(o,o.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Yp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Yp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Sn=r;break}Sn=s.return}}function sb(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:na(r,o),u&4&&rc(5,o);break;case 1:if(na(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){vt(o,o.return,T)}else{var d=Fo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){vt(o,o.return,T)}}u&64&&J1(o),u&512&&ic(o,o.return);break;case 3:if(na(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Hv(r,s)}catch(T){vt(o,o.return,T)}}break;case 27:s===null&&u&4&&rb(o);case 26:case 5:na(r,o),s===null&&u&4&&tb(o),u&512&&ic(o,o.return);break;case 12:na(r,o);break;case 31:na(r,o),u&4&&lb(r,o);break;case 13:na(r,o),u&4&&ub(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=c2.bind(null,o),I2(r,o))));break;case 22:if(u=o.memoizedState!==null||ea,!u){s=s!==null&&s.memoizedState!==null||dn,d=ea;var p=dn;ea=u,(dn=s)&&!p?ra(r,o,(o.subtreeFlags&8772)!==0):na(r,o),ea=d,dn=p}break;case 30:break;default:na(r,o)}}function ab(r){var s=r.alternate;s!==null&&(r.alternate=null,ab(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&is(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Gt=null,Sr=!1;function ta(r,s,o){for(o=o.child;o!==null;)ob(r,s,o),o=o.sibling}function ob(r,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(or,o)}catch{}switch(o.tag){case 26:dn||ms(o,s),ta(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:dn||ms(o,s);var u=Gt,d=Sr;Ka(o.type)&&(Gt=o.stateNode,Sr=!1),ta(r,s,o),dc(o.stateNode),Gt=u,Sr=d;break;case 5:dn||ms(o,s);case 6:if(u=Gt,d=Sr,Gt=null,ta(r,s,o),Gt=u,Sr=d,Gt!==null)if(Sr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(p){vt(o,s,p)}else try{Gt.removeChild(o.stateNode)}catch(p){vt(o,s,p)}break;case 18:Gt!==null&&(Sr?(r=Gt,Jb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Wl(r)):Jb(Gt,o.stateNode));break;case 4:u=Gt,d=Sr,Gt=o.stateNode.containerInfo,Sr=!0,ta(r,s,o),Gt=u,Sr=d;break;case 0:case 11:case 14:case 15:qa(2,o,s),dn||qa(4,o,s),ta(r,s,o);break;case 1:dn||(ms(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&eb(o,s,u)),ta(r,s,o);break;case 21:ta(r,s,o);break;case 22:dn=(u=dn)||o.memoizedState!==null,ta(r,s,o),dn=u;break;default:ta(r,s,o)}}function lb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Wl(r)}catch(o){vt(s,s.return,o)}}}function ub(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wl(r)}catch(o){vt(s,s.return,o)}}function n2(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new ib),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new ib),s;default:throw Error(i(435,r.tag))}}function lf(r,s){var o=n2(r);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=h2.bind(null,r,u);u.then(d,d)}})}function Nr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=r,T=s,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Ka(C.type)){Gt=C.stateNode,Sr=!1;break e}break;case 5:Gt=C.stateNode,Sr=!1;break e;case 3:case 4:Gt=C.stateNode.containerInfo,Sr=!0;break e}C=C.return}if(Gt===null)throw Error(i(160));ob(p,T,d),Gt=null,Sr=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)cb(s,r),s=s.sibling}var qi=null;function cb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Nr(s,r),Cr(r),u&4&&(qa(3,r,r.return),rc(3,r),qa(5,r,r.return));break;case 1:Nr(s,r),Cr(r),u&512&&(dn||o===null||ms(o,o.return)),u&64&&ea&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=qi;if(Nr(s,r),Cr(r),u&512&&(dn||o===null||ms(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Er]||p[Ut]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),qn(p,u,o),p[Ut]=r,qt(p),u=p;break e;case"link":var T=c_("link","href",d).get(u+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}p=d.createElement(u),qn(p,u,o),d.head.appendChild(p);break;case"meta":if(T=c_("meta","content",d).get(u+(o.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}p=d.createElement(u),qn(p,u,o),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ut]=r,qt(p),u=p}r.stateNode=u}else h_(d,r.type,r.stateNode);else r.stateNode=u_(d,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?h_(d,r.type,r.stateNode):u_(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&_p(r,r.memoizedProps,o.memoizedProps)}break;case 27:Nr(s,r),Cr(r),u&512&&(dn||o===null||ms(o,o.return)),o!==null&&u&4&&_p(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Nr(s,r),Cr(r),u&512&&(dn||o===null||ms(o,o.return)),r.flags&32){d=r.stateNode;try{zt(d,"")}catch(Se){vt(r,r.return,Se)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,_p(r,d,o!==null?o.memoizedProps:d)),u&1024&&(wp=!0);break;case 6:if(Nr(s,r),Cr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Se){vt(r,r.return,Se)}}break;case 3:if(Af=null,d=qi,qi=Tf(s.containerInfo),Nr(s,r),qi=d,Cr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Wl(s.containerInfo)}catch(Se){vt(r,r.return,Se)}wp&&(wp=!1,hb(r));break;case 4:u=qi,qi=Tf(r.stateNode.containerInfo),Nr(s,r),Cr(r),qi=u;break;case 12:Nr(s,r),Cr(r);break;case 31:Nr(s,r),Cr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,lf(r,u)));break;case 13:Nr(s,r),Cr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(cf=St()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,lf(r,u)));break;case 22:d=r.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,W=ea,ie=dn;if(ea=W||d,dn=ie||q,Nr(s,r),dn=ie,ea=W,Cr(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||q||ea||dn||Go(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){q=o=s;try{if(p=q.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=q.stateNode;var ue=q.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Se){vt(q,q.return,Se)}}}else if(s.tag===6){if(o===null){q=s;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(Se){vt(q,q.return,Se)}}}else if(s.tag===18){if(o===null){q=s;try{var ne=q.stateNode;d?e_(ne,!0):e_(q.stateNode,!1)}catch(Se){vt(q,q.return,Se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,lf(r,o))));break;case 19:Nr(s,r),Cr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,lf(r,u)));break;case 30:break;case 21:break;default:Nr(s,r),Cr(r)}}function Cr(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(nb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=Ep(r);of(r,p,d);break;case 5:var T=o.stateNode;o.flags&32&&(zt(T,""),o.flags&=-33);var C=Ep(r);of(r,C,T);break;case 3:case 4:var q=o.stateNode.containerInfo,W=Ep(r);Tp(r,W,q);break;default:throw Error(i(161))}}catch(ie){vt(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function hb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;hb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function na(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)sb(r,s.alternate,s),s=s.sibling}function Go(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:qa(4,s,s.return),Go(s);break;case 1:ms(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&eb(s,s.return,o),Go(s);break;case 27:dc(s.stateNode);case 26:case 5:ms(s,s.return),Go(s);break;case 22:s.memoizedState===null&&Go(s);break;case 30:Go(s);break;default:Go(s)}r=r.sibling}}function ra(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,p=s,T=p.flags;switch(p.tag){case 0:case 11:case 15:ra(d,p,o),rc(4,p);break;case 1:if(ra(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){vt(u,u.return,W)}if(u=p,d=u.updateQueue,d!==null){var C=u.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)zv(q[d],C)}catch(W){vt(u,u.return,W)}}o&&T&64&&J1(p),ic(p,p.return);break;case 27:rb(p);case 26:case 5:ra(d,p,o),o&&u===null&&T&4&&tb(p),ic(p,p.return);break;case 12:ra(d,p,o);break;case 31:ra(d,p,o),o&&T&4&&lb(d,p);break;case 13:ra(d,p,o),o&&T&4&&ub(d,p);break;case 22:p.memoizedState===null&&ra(d,p,o),ic(p,p.return);break;case 30:break;default:ra(d,p,o)}s=s.sibling}}function Ap(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Fu(o))}function xp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Fu(r))}function Bi(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fb(r,s,o,u),s=s.sibling}function fb(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(r,s,o,u),d&2048&&rc(9,s);break;case 1:Bi(r,s,o,u);break;case 3:Bi(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Fu(r)));break;case 12:if(d&2048){Bi(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){vt(s,s.return,q)}}else Bi(r,s,o,u);break;case 31:Bi(r,s,o,u);break;case 13:Bi(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,T=s.alternate,s.memoizedState!==null?p._visibility&2?Bi(r,s,o,u):sc(r,s):p._visibility&2?Bi(r,s,o,u):(p._visibility|=2,ql(r,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Ap(T,s);break;case 24:Bi(r,s,o,u),d&2048&&xp(s.alternate,s);break;default:Bi(r,s,o,u)}}function ql(r,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=r,T=s,C=o,q=u,W=T.flags;switch(T.tag){case 0:case 11:case 15:ql(p,T,C,q,d),rc(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?ql(p,T,C,q,d):sc(p,T):(ie._visibility|=2,ql(p,T,C,q,d)),d&&W&2048&&Ap(T.alternate,T);break;case 24:ql(p,T,C,q,d),d&&W&2048&&xp(T.alternate,T);break;default:ql(p,T,C,q,d)}s=s.sibling}}function sc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:sc(o,u),d&2048&&Ap(u.alternate,u);break;case 24:sc(o,u),d&2048&&xp(u.alternate,u);break;default:sc(o,u)}s=s.sibling}}var ac=8192;function Bl(r,s,o){if(r.subtreeFlags&ac)for(r=r.child;r!==null;)db(r,s,o),r=r.sibling}function db(r,s,o){switch(r.tag){case 26:Bl(r,s,o),r.flags&ac&&r.memoizedState!==null&&z2(o,qi,r.memoizedState,r.memoizedProps);break;case 5:Bl(r,s,o);break;case 3:case 4:var u=qi;qi=Tf(r.stateNode.containerInfo),Bl(r,s,o),qi=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=ac,ac=16777216,Bl(r,s,o),ac=u):Bl(r,s,o));break;default:Bl(r,s,o)}}function mb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function oc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Sn=u,gb(u,r)}mb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pb(r),r=r.sibling}function pb(r){switch(r.tag){case 0:case 11:case 15:oc(r),r.flags&2048&&qa(9,r,r.return);break;case 3:oc(r);break;case 12:oc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,uf(r)):oc(r);break;default:oc(r)}}function uf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Sn=u,gb(u,r)}mb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:qa(8,s,s.return),uf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,uf(s));break;default:uf(s)}r=r.sibling}}function gb(r,s){for(;Sn!==null;){var o=Sn;switch(o.tag){case 0:case 11:case 15:qa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Sn=u;else e:for(o=r;Sn!==null;){u=Sn;var d=u.sibling,p=u.return;if(ab(u),u===o){Sn=null;break e}if(d!==null){d.return=p,Sn=d;break e}Sn=p}}}var r2={getCacheForType:function(r){var s=Vn(cn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return Vn(cn).controller.signal}},i2=typeof WeakMap=="function"?WeakMap:Map,mt=0,At=null,Ze=null,tt=0,yt=0,Yr=null,Ba=!1,zl=!1,Sp=!1,ia=0,tn=0,za=0,$o=0,Np=0,Qr=0,Hl=0,lc=null,Rr=null,Cp=!1,cf=0,yb=0,hf=1/0,ff=null,Ha=null,_n=0,Fa=null,Fl=null,sa=0,Rp=0,Ip=null,vb=null,uc=0,Op=null;function Xr(){return(mt&2)!==0&&tt!==0?tt&-tt:B.T!==null?Pp():Wt()}function bb(){if(Qr===0)if((tt&536870912)===0||ot){var r=jr;jr<<=1,(jr&3932160)===0&&(jr=262144),Qr=r}else Qr=536870912;return r=$r.current,r!==null&&(r.flags|=32),Qr}function Ir(r,s,o){(r===At&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Gl(r,0),Ga(r,tt,Qr,!1)),ni(r,o),((mt&2)===0||r!==At)&&(r===At&&((mt&2)===0&&($o|=o),tn===4&&Ga(r,tt,Qr,!1)),ps(r))}function _b(r,s,o){if((mt&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&r.expiredLanes)===0||In(r,s),d=u?o2(r,s):Lp(r,s,!0),p=u;do{if(d===0){zl&&!u&&Ga(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!s2(o)){d=Lp(r,s,!1),p=!1;continue}if(d===2){if(p=s,r.errorRecoveryDisabledLanes&p)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var C=r;d=lc;var q=C.current.memoizedState.isDehydrated;if(q&&(Gl(C,T).flags|=256),T=Lp(C,T,!1),T!==2){if(Sp&&!q){C.errorRecoveryDisabledLanes|=p,$o|=p,d=4;break e}p=Rr,Rr=d,p!==null&&(Rr===null?Rr=p:Rr.push.apply(Rr,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){Gl(r,0),Ga(r,s,0,!0);break}e:{switch(u=r,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ga(u,s,Qr,!Ba);break e;case 2:Rr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=cf+300-St(),10<d)){if(Ga(u,s,Qr,!Ba),wn(u,0,!0)!==0)break e;sa=s,u.timeoutHandle=Wb(Eb.bind(null,u,o,Rr,ff,Cp,s,Qr,$o,Hl,Ba,p,"Throttled",-0,0),d);break e}Eb(u,o,Rr,ff,Cp,s,Qr,$o,Hl,Ba,p,null,-0,0)}}break}while(!0);ps(r)}function Eb(r,s,o,u,d,p,T,C,q,W,ie,ue,J,ne){if(r.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},db(s,p,ue);var Se=(p&62914560)===p?cf-St():(p&4194048)===p?yb-St():0;if(Se=H2(ue,Se),Se!==null){sa=p,r.cancelPendingCommit=Se(Rb.bind(null,r,s,p,o,u,d,T,C,q,ie,ue,null,J,ne)),Ga(r,p,T,!W);return}}Rb(r,s,p,o,u,d,T,C,q)}function s2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Fr(p(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ga(r,s,o,u){s&=~Np,s&=~$o,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var p=31-Nt(d),T=1<<p;u[p]=-1,d&=~T}o!==0&&Oi(r,o,s)}function df(){return(mt&6)===0?(cc(0),!1):!0}function Dp(){if(Ze!==null){if(yt===0)var r=Ze.return;else r=Ze,Ys=Po=null,Ym(r),kl=null,$u=0,r=Ze;for(;r!==null;)Z1(r.alternate,r),r=r.return;Ze=null}}function Gl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,x2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),sa=0,Dp(),At=r,Ze=o=$s(r.current,null),tt=s,yt=0,Yr=null,Ba=!1,zl=In(r,s),Sp=!1,Hl=Qr=Np=$o=za=tn=0,Rr=lc=null,Cp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-Nt(u),p=1<<d;s|=r[d],u&=~p}return ia=s,Lh(),o}function Tb(r,s){Fe=null,B.H=ec,s===Ml||s===Bh?(s=Vv(),yt=3):s===jm?(s=Vv(),yt=4):yt=s===cp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yr=s,Ze===null&&(tn=1,tf(r,di(s,r.current)))}function wb(){var r=$r.current;return r===null?!0:(tt&4194048)===tt?yi===null:(tt&62914560)===tt||(tt&536870912)!==0?r===yi:!1}function Ab(){var r=B.H;return B.H=ec,r===null?ec:r}function xb(){var r=B.A;return B.A=r2,r}function mf(){tn=4,Ba||(tt&4194048)!==tt&&$r.current!==null||(zl=!0),(za&134217727)===0&&($o&134217727)===0||At===null||Ga(At,tt,Qr,!1)}function Lp(r,s,o){var u=mt;mt|=2;var d=Ab(),p=xb();(At!==r||tt!==s)&&(ff=null,Gl(r,s)),s=!1;var T=tn;e:do try{if(yt!==0&&Ze!==null){var C=Ze,q=Yr;switch(yt){case 8:Dp(),T=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(s=!0);var W=yt;if(yt=0,Yr=null,$l(r,C,q,W),o&&zl){T=0;break e}break;default:W=yt,yt=0,Yr=null,$l(r,C,q,W)}}a2(),T=tn;break}catch(ie){Tb(r,ie)}while(!0);return s&&r.shellSuspendCounter++,Ys=Po=null,mt=u,B.H=d,B.A=p,Ze===null&&(At=null,tt=0,Lh()),T}function a2(){for(;Ze!==null;)Sb(Ze)}function o2(r,s){var o=mt;mt|=2;var u=Ab(),d=xb();At!==r||tt!==s?(ff=null,hf=St()+500,Gl(r,s)):zl=In(r,s);e:do try{if(yt!==0&&Ze!==null){s=Ze;var p=Yr;t:switch(yt){case 1:yt=0,Yr=null,$l(r,s,p,1);break;case 2:case 9:if(jv(p)){yt=0,Yr=null,Nb(s);break}s=function(){yt!==2&&yt!==9||At!==r||(yt=7),ps(r)},p.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:jv(p)?(yt=0,Yr=null,Nb(s)):(yt=0,Yr=null,$l(r,s,p,7));break;case 5:var T=null;switch(Ze.tag){case 26:T=Ze.memoizedState;case 5:case 27:var C=Ze;if(T?f_(T):C.stateNode.complete){yt=0,Yr=null;var q=C.sibling;if(q!==null)Ze=q;else{var W=C.return;W!==null?(Ze=W,pf(W)):Ze=null}break t}}yt=0,Yr=null,$l(r,s,p,5);break;case 6:yt=0,Yr=null,$l(r,s,p,6);break;case 8:Dp(),tn=6;break e;default:throw Error(i(462))}}l2();break}catch(ie){Tb(r,ie)}while(!0);return Ys=Po=null,B.H=u,B.A=d,mt=o,Ze!==null?0:(At=null,tt=0,Lh(),tn)}function l2(){for(;Ze!==null&&!xa();)Sb(Ze)}function Sb(r){var s=X1(r.alternate,r,ia);r.memoizedProps=r.pendingProps,s===null?pf(r):Ze=s}function Nb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=F1(o,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=F1(o,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:Ym(s);default:Z1(o,s),s=Ze=xv(s,ia),s=X1(o,s,ia)}r.memoizedProps=r.pendingProps,s===null?pf(r):Ze=s}function $l(r,s,o,u){Ys=Po=null,Ym(s),kl=null,$u=0;var d=s.return;try{if(XN(r,d,s,o,tt)){tn=1,tf(r,di(o,r.current)),Ze=null;return}}catch(p){if(d!==null)throw Ze=d,p;tn=1,tf(r,di(o,r.current)),Ze=null;return}s.flags&32768?(ot||u===1?r=!0:zl||(tt&536870912)!==0?r=!1:(Ba=r=!0,(u===2||u===9||u===3||u===6)&&(u=$r.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cb(s,r)):pf(s)}function pf(r){var s=r;do{if((s.flags&32768)!==0){Cb(s,Ba);return}r=s.return;var o=JN(s.alternate,s,ia);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=r}while(s!==null);tn===0&&(tn=5)}function Cb(r,s){do{var o=e2(r.alternate,r);if(o!==null){o.flags&=32767,Ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=o}while(r!==null);tn=6,Ze=null}function Rb(r,s,o,u,d,p,T,C,q){r.cancelPendingCommit=null;do gf();while(_n!==0);if((mt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Em,Pr(r,o,p,T,C,q),r===At&&(Ze=At=null,tt=0),Fl=s,Fa=r,sa=o,Rp=p,Ip=d,vb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,f2(ar,function(){return Mb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,d=Z.p,Z.p=2,T=mt,mt|=4;try{t2(r,s,o)}finally{mt=T,Z.p=d,B.T=u}}_n=1,Ib(),Ob(),Db()}}function Ib(){if(_n===1){_n=0;var r=Fa,s=Fl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=Z.p;Z.p=2;var d=mt;mt|=4;try{cb(s,r);var p=Gp,T=gv(r.containerInfo),C=p.focusedElem,q=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&pv(C.ownerDocument.documentElement,C)){if(q!==null&&gm(C)){var W=q.start,ie=q.end;if(ie===void 0&&(ie=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(ie,C.value.length);else{var ue=C.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var ne=J.getSelection(),Se=C.textContent.length,Pe=Math.min(q.start,Se),Tt=q.end===void 0?Pe:Math.min(q.end,Se);!ne.extend&&Pe>Tt&&(T=Tt,Tt=Pe,Pe=T);var $=mv(C,Pe),H=mv(C,Tt);if($&&H&&(ne.rangeCount!==1||ne.anchorNode!==$.node||ne.anchorOffset!==$.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var X=ue.createRange();X.setStart($.node,$.offset),ne.removeAllRanges(),Pe>Tt?(ne.addRange(X),ne.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),ne.addRange(X))}}}}for(ue=[],ne=C;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var se=ue[C];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Cf=!!Fp,Gp=Fp=null}finally{mt=d,Z.p=u,B.T=o}}r.current=s,_n=2}}function Ob(){if(_n===2){_n=0;var r=Fa,s=Fl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=Z.p;Z.p=2;var d=mt;mt|=4;try{sb(r,s.alternate,s)}finally{mt=d,Z.p=u,B.T=o}}_n=3}}function Db(){if(_n===4||_n===3){_n=0,Os();var r=Fa,s=Fl,o=sa,u=vb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_n=5:(_n=0,Fl=Fa=null,Lb(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Ha=null),lr(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(or,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,d=Z.p,Z.p=2,B.T=null;try{for(var p=r.onRecoverableError,T=0;T<u.length;T++){var C=u[T];p(C.value,{componentStack:C.stack})}}finally{B.T=s,Z.p=d}}(sa&3)!==0&&gf(),ps(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===Op?uc++:(uc=0,Op=r):uc=0,cc(0)}}function Lb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Fu(s)))}function gf(){return Ib(),Ob(),Db(),Mb()}function Mb(){if(_n!==5)return!1;var r=Fa,s=Rp;Rp=0;var o=lr(sa),u=B.T,d=Z.p;try{Z.p=32>o?32:o,B.T=null,o=Ip,Ip=null;var p=Fa,T=sa;if(_n=0,Fl=Fa=null,sa=0,(mt&6)!==0)throw Error(i(331));var C=mt;if(mt|=4,pb(p.current),fb(p,p.current,T,o),mt=C,cc(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(or,p)}catch{}return!0}finally{Z.p=d,B.T=u,Lb(r,s)}}function kb(r,s,o){s=di(o,s),s=up(r.stateNode,s,2),r=Pa(r,s,2),r!==null&&(ni(r,2),ps(r))}function vt(r,s,o){if(r.tag===3)kb(r,r,o);else for(;s!==null;){if(s.tag===3){kb(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ha===null||!Ha.has(u))){r=di(o,r),o=j1(2),u=Pa(s,o,2),u!==null&&(P1(o,u,s,r),ni(u,2),ps(u));break}}s=s.return}}function Mp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new i2;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Sp=!0,d.add(o),r=u2.bind(null,r,s,o),s.then(r,r))}function u2(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,At===r&&(tt&o)===o&&(tn===4||tn===3&&(tt&62914560)===tt&&300>St()-cf?(mt&2)===0&&Gl(r,0):Np|=o,Hl===tt&&(Hl=0)),ps(r)}function jb(r,s){s===0&&(s=rs()),r=Mo(r,s),r!==null&&(ni(r,s),ps(r))}function c2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),jb(r,o)}function h2(r,s){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),jb(r,o)}function f2(r,s){return xt(r,s)}var yf=null,Kl=null,kp=!1,vf=!1,jp=!1,$a=0;function ps(r){r!==Kl&&r.next===null&&(Kl===null?yf=Kl=r:Kl=Kl.next=r),vf=!0,kp||(kp=!0,m2())}function cc(r,s){if(!jp&&vf){jp=!0;do for(var o=!1,u=yf;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var T=u.suspendedLanes,C=u.pingedLanes;p=(1<<31-Nt(42|r)+1)-1,p&=d&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,qb(u,p))}else p=tt,p=wn(u,u===At?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||In(u,p)||(o=!0,qb(u,p));u=u.next}while(o);jp=!1}}function d2(){Pb()}function Pb(){vf=kp=!1;var r=0;$a!==0&&A2()&&(r=$a);for(var s=St(),o=null,u=yf;u!==null;){var d=u.next,p=Vb(u,s);p===0?(u.next=null,o===null?yf=d:o.next=d,d===null&&(Kl=o)):(o=u,(r!==0||(p&3)!==0)&&(vf=!0)),u=d}_n!==0&&_n!==5||cc(r),$a!==0&&($a=0)}function Vb(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var T=31-Nt(p),C=1<<T,q=d[T];q===-1?((C&o)===0||(C&u)!==0)&&(d[T]=js(C,s)):q<=s&&(r.expiredLanes|=C),p&=~C}if(s=At,o=tt,o=wn(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&yr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||In(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&yr(u),lr(o)){case 2:case 8:o=kr;break;case 32:o=ar;break;case 268435456:o=Cn;break;default:o=ar}return u=Ub.bind(null,r),o=xt(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&yr(u),r.callbackPriority=2,r.callbackNode=null,2}function Ub(r,s){if(_n!==0&&_n!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(gf()&&r.callbackNode!==o)return null;var u=tt;return u=wn(r,r===At?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(_b(r,u,s),Vb(r,St()),r.callbackNode!=null&&r.callbackNode===o?Ub.bind(null,r):null)}function qb(r,s){if(gf())return null;_b(r,s,!0)}function m2(){S2(function(){(mt&6)!==0?xt(Ds,d2):Pb()})}function Pp(){if($a===0){var r=Dl;r===0&&(r=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),$a=r}return $a}function Bb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:us(""+r)}function zb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function p2(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var p=Bb((d[Zt]||null).action),T=u.submitter;T&&(s=(s=T[Zt]||null)?Bb(s.formAction):T.getAttribute("formAction"),s!==null&&(p=s,T=null));var C=new xe("action","action",null,u,d);r.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($a!==0){var q=T?zb(d,T):new FormData(d);rp(o,{pending:!0,data:q,method:d.method,action:p},null,q)}}else typeof p=="function"&&(C.preventDefault(),q=T?zb(d,T):new FormData(d),rp(o,{pending:!0,data:q,method:d.method,action:p},p,q))},currentTarget:d}]})}}for(var Vp=0;Vp<_m.length;Vp++){var Up=_m[Vp],g2=Up.toLowerCase(),y2=Up[0].toUpperCase()+Up.slice(1);Ui(g2,"on"+y2)}Ui(bv,"onAnimationEnd"),Ui(_v,"onAnimationIteration"),Ui(Ev,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(LN,"onTransitionRun"),Ui(MN,"onTransitionStart"),Ui(kN,"onTransitionCancel"),Ui(Tv,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function Hb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var T=u.length-1;0<=T;T--){var C=u[T],q=C.instance,W=C.currentTarget;if(C=C.listener,q!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=W;try{p(d)}catch(ie){Dh(ie)}d.currentTarget=null,p=q}else for(T=0;T<u.length;T++){if(C=u[T],q=C.instance,W=C.currentTarget,C=C.listener,q!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=W;try{p(d)}catch(ie){Dh(ie)}d.currentTarget=null,p=q}}}}function Je(r,s){var o=s[Yt];o===void 0&&(o=s[Yt]=new Set);var u=r+"__bubble";o.has(u)||(Fb(s,r,2,!1),o.add(u))}function qp(r,s,o){var u=0;s&&(u|=4),Fb(o,r,u,s)}var bf="_reactListening"+Math.random().toString(36).slice(2);function Bp(r){if(!r[bf]){r[bf]=!0,Us.forEach(function(o){o!=="selectionchange"&&(v2.has(o)||qp(o,!1,r),qp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[bf]||(s[bf]=!0,qp("selectionchange",!1,s))}}function Fb(r,s,o,u){switch(b_(s)){case 2:var d=$2;break;case 8:d=K2;break;default:d=ng}o=d.bind(null,s,o,r),d=void 0,!ci||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function zp(r,s,o,u,d){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=u.return;T!==null;){var q=T.tag;if((q===3||q===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=It(C),T===null)return;if(q=T.tag,q===5||q===6||q===26||q===27){u=p=T;continue e}C=C.parentNode}}u=u.return}ui(function(){var W=p,ie=Mn(o),ue=[];e:{var J=wv.get(r);if(J!==void 0){var ne=xe,Se=r;switch(r){case"keypress":if(v(o)===0)break e;case"keydown":case"keyup":ne=Rh;break;case"focusin":Se="focus",ne=jn;break;case"focusout":Se="blur",ne=jn;break;case"beforeblur":case"afterblur":ne=jn;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Dt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=y;break;case bv:case _v:case Ev:ne=Io;break;case Tv:ne=I;break;case"scroll":case"scrollend":ne=Qe;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Gs;break;case"toggle":case"beforetoggle":ne=He}var Pe=(s&4)!==0,Tt=!Pe&&(r==="scroll"||r==="scrollend"),$=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var H=W,X;H!==null;){var se=H;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||$===null||(se=Zn(H,$),se!=null&&Pe.push(fc(H,se,X))),Tt)break;H=H.return}0<Pe.length&&(J=new ne(J,Se,null,o,ie),ue.push({event:J,listeners:Pe}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",J&&o!==nn&&(Se=o.relatedTarget||o.fromElement)&&(It(Se)||Se[_r]))break e;if((ne||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(Se=o.relatedTarget||o.toElement,ne=W,Se=Se?It(Se):null,Se!==null&&(Tt=l(Se),Pe=Se.tag,Se!==Tt||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(ne=null,Se=W),ne!==Se)){if(Pe=Dt,se="onMouseLeave",$="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Gs,se="onPointerLeave",$="onPointerEnter",H="pointer"),Tt=ne==null?J:On(ne),X=Se==null?J:On(Se),J=new Pe(se,H+"leave",ne,o,ie),J.target=Tt,J.relatedTarget=X,se=null,It(ie)===W&&(Pe=new Pe($,H+"enter",Se,o,ie),Pe.target=X,Pe.relatedTarget=Tt,se=Pe),Tt=se,ne&&Se)t:{for(Pe=b2,$=ne,H=Se,X=0,se=$;se;se=Pe(se))X++;se=0;for(var Me=H;Me;Me=Pe(Me))se++;for(;0<X-se;)$=Pe($),X--;for(;0<se-X;)H=Pe(H),se--;for(;X--;){if($===H||H!==null&&$===H.alternate){Pe=$;break t}$=Pe($),H=Pe(H)}Pe=null}else Pe=null;ne!==null&&Gb(ue,J,ne,Pe,!1),Se!==null&&Tt!==null&&Gb(ue,Tt,Se,Pe,!0)}}e:{if(J=W?On(W):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var ct=lv;else if(av(J))if(uv)ct=IN;else{ct=CN;var Ce=NN}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&ls(W.elementType)&&(ct=lv):ct=RN;if(ct&&(ct=ct(r,W))){ov(ue,ct,o,ie);break e}Ce&&Ce(r,J,W),r==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Bs(J,"number",J.value)}switch(Ce=W?On(W):window,r){case"focusin":(av(Ce)||Ce.contentEditable==="true")&&(Al=Ce,ym=W,Bu=null);break;case"focusout":Bu=ym=Al=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,yv(ue,o,ie);break;case"selectionchange":if(DN)break;case"keydown":case"keyup":yv(ue,o,ie)}var $e;if(dt)e:{switch(r){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else wl?Oo(r,o)&&(nt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(nt="onCompositionStart");nt&&(hs&&o.locale!=="ko"&&(wl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&wl&&($e=Hs()):(fr=ie,Mi="value"in fr?fr.value:fr.textContent,wl=!0)),Ce=_f(W,nt),0<Ce.length&&(nt=new cs(nt,r,null,o,ie),ue.push({event:nt,listeners:Ce}),$e?nt.data=$e:($e=Tl(o),$e!==null&&(nt.data=$e)))),($e=hi?wN(r,o):AN(r,o))&&(nt=_f(W,"onBeforeInput"),0<nt.length&&(Ce=new cs("onBeforeInput","beforeinput",null,o,ie),ue.push({event:Ce,listeners:nt}),Ce.data=$e)),p2(ue,r,W,o,ie)}Hb(ue,s)})}function fc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function _f(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Zn(r,o),d!=null&&u.unshift(fc(r,d,p)),d=Zn(r,s),d!=null&&u.push(fc(r,d,p))),r.tag===3)return u;r=r.return}return[]}function b2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Gb(r,s,o,u,d){for(var p=s._reactName,T=[];o!==null&&o!==u;){var C=o,q=C.alternate,W=C.stateNode;if(C=C.tag,q!==null&&q===u)break;C!==5&&C!==26&&C!==27||W===null||(q=W,d?(W=Zn(o,p),W!=null&&T.unshift(fc(o,W,q))):d||(W=Zn(o,p),W!=null&&T.push(fc(o,W,q)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var _2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function $b(r){return(typeof r=="string"?r:""+r).replace(_2,`
`).replace(E2,"")}function Kb(r,s){return s=$b(s),$b(r)===s}function Et(r,s,o,u,d,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||zt(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&zt(r,""+u);break;case"className":Ln(r,"class",u);break;case"tabIndex":Ln(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(r,o,u);break;case"style":Xn(r,u,p);break;case"data":if(s!=="object"){Ln(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=us(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&Et(r,s,"name",d.name,d,null),Et(r,s,"formEncType",d.formEncType,d,null),Et(r,s,"formMethod",d.formMethod,d,null),Et(r,s,"formTarget",d.formTarget,d,null)):(Et(r,s,"encType",d.encType,d,null),Et(r,s,"method",d.method,d,null),Et(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=us(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Wn);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=us(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Je("beforetoggle",r),Je("toggle",r),ss(r,"popover",u);break;case"xlinkActuate":Bt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ss(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ra.get(o)||o,ss(r,o,u))}}function Hp(r,s,o,u,d,p){switch(o){case"style":Xn(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?zt(r,u):(typeof u=="number"||typeof u=="bigint")&&zt(r,""+u);break;case"onScroll":u!=null&&Je("scroll",r);break;case"onScrollEnd":u!=null&&Je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ii.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),p=r[Zt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ss(r,o,u)}}}function qn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Et(r,s,p,T,o,null)}}d&&Et(r,s,"srcSet",o.srcSet,o,null),u&&Et(r,s,"src",o.src,o,null);return;case"input":Je("invalid",r);var C=p=T=d=null,q=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":d=ie;break;case"type":T=ie;break;case"checked":q=ie;break;case"defaultChecked":W=ie;break;case"value":p=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:Et(r,s,u,ie,o,null)}}os(r,p,C,q,W,T,d,!1);return;case"select":Je("invalid",r),u=T=p=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:Et(r,s,d,C,o,null)}s=p,o=T,r.multiple=!!u,s!=null?ai(r,!!u,s,!1):o!=null&&ai(r,!!u,o,!0);return;case"textarea":Je("invalid",r),p=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":d=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Et(r,s,T,C,o,null)}un(r,u,d,p);return;case"option":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(r,s,q,u,o,null)}return;case"dialog":Je("beforetoggle",r),Je("toggle",r),Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(u=0;u<hc.length;u++)Je(hc[u],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Et(r,s,W,u,o,null)}return;default:if(ls(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&Hp(r,s,ie,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&Et(r,s,C,u,o,null))}function T2(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,C=null,q=null,W=null,ie=null;for(ne in o){var ue=o[ne];if(o.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ue;default:u.hasOwnProperty(ne)||Et(r,s,ne,null,u,ue)}}for(var J in u){var ne=u[J];if(ue=o[J],u.hasOwnProperty(J)&&(ne!=null||ue!=null))switch(J){case"type":p=ne;break;case"name":d=ne;break;case"checked":W=ne;break;case"defaultChecked":ie=ne;break;case"value":T=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ue&&Et(r,s,J,ne,u,ue)}}as(r,T,C,q,W,ie,p,d);return;case"select":ne=T=C=J=null;for(p in o)if(q=o[p],o.hasOwnProperty(p)&&q!=null)switch(p){case"value":break;case"multiple":ne=q;default:u.hasOwnProperty(p)||Et(r,s,p,null,u,q)}for(d in u)if(p=u[d],q=o[d],u.hasOwnProperty(d)&&(p!=null||q!=null))switch(d){case"value":J=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==q&&Et(r,s,d,p,u,q)}s=C,o=T,u=ne,J!=null?ai(r,!!o,J,!1):!!u!=!!o&&(s!=null?ai(r,!!o,s,!0):ai(r,!!o,o?[]:"",!1));return;case"textarea":ne=J=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Et(r,s,C,null,u,d)}for(T in u)if(d=u[T],p=o[T],u.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":J=d;break;case"defaultValue":ne=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Et(r,s,T,d,u,p)}oi(r,J,ne);return;case"option":for(var Se in o)if(J=o[Se],o.hasOwnProperty(Se)&&J!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:Et(r,s,Se,null,u,J)}for(q in u)if(J=u[q],ne=o[q],u.hasOwnProperty(q)&&J!==ne&&(J!=null||ne!=null))switch(q){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Et(r,s,q,J,u,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)J=o[Pe],o.hasOwnProperty(Pe)&&J!=null&&!u.hasOwnProperty(Pe)&&Et(r,s,Pe,null,u,J);for(W in u)if(J=u[W],ne=o[W],u.hasOwnProperty(W)&&J!==ne&&(J!=null||ne!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:Et(r,s,W,J,u,ne)}return;default:if(ls(s)){for(var Tt in o)J=o[Tt],o.hasOwnProperty(Tt)&&J!==void 0&&!u.hasOwnProperty(Tt)&&Hp(r,s,Tt,void 0,u,J);for(ie in u)J=u[ie],ne=o[ie],!u.hasOwnProperty(ie)||J===ne||J===void 0&&ne===void 0||Hp(r,s,ie,J,u,ne);return}}for(var $ in o)J=o[$],o.hasOwnProperty($)&&J!=null&&!u.hasOwnProperty($)&&Et(r,s,$,null,u,J);for(ue in u)J=u[ue],ne=o[ue],!u.hasOwnProperty(ue)||J===ne||J==null&&ne==null||Et(r,s,ue,J,u,ne)}function Yb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w2(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,T=d.initiatorType,C=d.duration;if(p&&C&&Yb(T)){for(T=0,C=d.responseEnd,u+=1;u<o.length;u++){var q=o[u],W=q.startTime;if(W>C)break;var ie=q.transferSize,ue=q.initiatorType;ie&&Yb(ue)&&(q=q.responseEnd,T+=ie*(q<C?1:(C-W)/(q-W)))}if(--u,s+=8*(p+T)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Fp=null,Gp=null;function Ef(r){return r.nodeType===9?r:r.ownerDocument}function Qb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function $p(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kp=null;function A2(){var r=window.event;return r&&r.type==="popstate"?r===Kp?!1:(Kp=r,!0):(Kp=null,!1)}var Wb=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(r){return Zb.resolve(null).then(r).catch(N2)}:Wb;function N2(r){setTimeout(function(){throw r})}function Ka(r){return r==="head"}function Jb(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(d),Wl(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")dc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,dc(o);for(var p=o.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[Er]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&dc(r.ownerDocument.body);o=d}while(o);Wl(s)}function e_(r,s){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Yp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Yp(o),is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function C2(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Er])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=vi(r.nextSibling),r===null)break}return null}function R2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=vi(r.nextSibling),r===null))return null;return r}function t_(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=vi(r.nextSibling),r===null))return null;return r}function Qp(r){return r.data==="$?"||r.data==="$~"}function Xp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function I2(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function vi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Wp=null;function n_(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return vi(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function r_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function i_(r,s,o){switch(s=Ef(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function dc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);is(r)}var bi=new Map,s_=new Set;function Tf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var aa=Z.d;Z.d={f:O2,r:D2,D:L2,C:M2,L:k2,m:j2,X:V2,S:P2,M:U2};function O2(){var r=aa.f(),s=df();return r||s}function D2(r){var s=Yn(r);s!==null&&s.tag===5&&s.type==="form"?T1(s):aa.r(r)}var Yl=typeof document>"u"?null:document;function a_(r,s,o){var u=Yl;if(u&&typeof s=="string"&&s){var d=An(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),s_.has(d)||(s_.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),qn(s,"link",r),qt(s),u.head.appendChild(s)))}}function L2(r){aa.D(r),a_("dns-prefetch",r,null)}function M2(r,s){aa.C(r,s),a_("preconnect",r,s)}function k2(r,s,o){aa.L(r,s,o);var u=Yl;if(u&&r&&s){var d='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+An(o.imageSizes)+'"]')):d+='[href="'+An(r)+'"]';var p=d;switch(s){case"style":p=Ql(r);break;case"script":p=Xl(r)}bi.has(p)||(r=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),bi.set(p,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(mc(p))||s==="script"&&u.querySelector(pc(p))||(s=u.createElement("link"),qn(s,"link",r),qt(s),u.head.appendChild(s)))}}function j2(r,s){aa.m(r,s);var o=Yl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(r)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Xl(r)}if(!bi.has(p)&&(r=E({rel:"modulepreload",href:r},s),bi.set(p,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pc(p)))return}u=o.createElement("link"),qn(u,"link",r),qt(u),o.head.appendChild(u)}}}function P2(r,s,o){aa.S(r,s,o);var u=Yl;if(u&&r){var d=Tr(u).hoistableStyles,p=Ql(r);s=s||"default";var T=d.get(p);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(mc(p)))C.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},o),(o=bi.get(p))&&Zp(r,o);var q=T=u.createElement("link");qt(q),qn(q,"link",r),q._p=new Promise(function(W,ie){q.onload=W,q.onerror=ie}),q.addEventListener("load",function(){C.loading|=1}),q.addEventListener("error",function(){C.loading|=2}),C.loading|=4,wf(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(p,T)}}}function V2(r,s){aa.X(r,s);var o=Yl;if(o&&r){var u=Tr(o).hoistableScripts,d=Xl(r),p=u.get(d);p||(p=o.querySelector(pc(d)),p||(r=E({src:r,async:!0},s),(s=bi.get(d))&&Jp(r,s),p=o.createElement("script"),qt(p),qn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function U2(r,s){aa.M(r,s);var o=Yl;if(o&&r){var u=Tr(o).hoistableScripts,d=Xl(r),p=u.get(d);p||(p=o.querySelector(pc(d)),p||(r=E({src:r,async:!0,type:"module"},s),(s=bi.get(d))&&Jp(r,s),p=o.createElement("script"),qt(p),qn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function o_(r,s,o,u){var d=(d=Ae.current)?Tf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ql(o.href),o=Tr(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ql(o.href);var p=Tr(d).hoistableStyles,T=p.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,T),(p=d.querySelector(mc(r)))&&!p._p&&(T.instance=p,T.state.loading=5),bi.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},bi.set(r,o),p||q2(d,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Xl(o),o=Tr(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ql(r){return'href="'+An(r)+'"'}function mc(r){return'link[rel="stylesheet"]['+r+"]"}function l_(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function q2(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),qn(s,"link",o),qt(s),r.head.appendChild(s))}function Xl(r){return'[src="'+An(r)+'"]'}function pc(r){return"script[async]"+r}function u_(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return s.instance=u,qt(u),u;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),qt(u),qn(u,"style",d),wf(u,o.precedence,r),s.instance=u;case"stylesheet":d=Ql(o.href);var p=r.querySelector(mc(d));if(p)return s.state.loading|=4,s.instance=p,qt(p),p;u=l_(o),(d=bi.get(d))&&Zp(u,d),p=(r.ownerDocument||r).createElement("link"),qt(p);var T=p;return T._p=new Promise(function(C,q){T.onload=C,T.onerror=q}),qn(p,"link",u),s.state.loading|=4,wf(p,o.precedence,r),s.instance=p;case"script":return p=Xl(o.src),(d=r.querySelector(pc(p)))?(s.instance=d,qt(d),d):(u=o,(d=bi.get(p))&&(u=E({},o),Jp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),qt(d),qn(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,wf(u,o.precedence,r));return s.instance}function wf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===s)p=C;else if(p!==d)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Zp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Jp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Af=null;function c_(r,s,o){if(Af===null){var u=new Map,d=Af=new Map;d.set(o,u)}else d=Af,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var p=o[d];if(!(p[Er]||p[Ut]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(s)||"";T=r+T;var C=u.get(T);C?C.push(p):u.set(T,[p])}}return u}function h_(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function B2(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function z2(r,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Ql(u.href),p=s.querySelector(mc(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=xf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=p,qt(p);return}p=s.ownerDocument||s,u=l_(u),(d=bi.get(d))&&Zp(u,d),p=p.createElement("link"),qt(p);var T=p;T._p=new Promise(function(C,q){T.onload=C,T.onerror=q}),qn(p,"link",u),o.instance=p}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=xf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var eg=0;function H2(r,s){return r.stylesheets&&r.count===0&&Nf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Nf(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4+s);0<r.imgBytes&&eg===0&&(eg=62500*w2());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Nf(r,r.stylesheets),r.unsuspend)){var p=r.unsuspend;r.unsuspend=null,p()}},(r.imgBytes>eg?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Sf=null;function Nf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Sf=new Map,s.forEach(F2,r),Sf=null,xf.call(r))}function F2(r,s){if(!(s.state.loading&4)){var o=Sf.get(r);if(o)var u=o.get(null);else{o=new Map,Sf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,d),o.set(T,d),this.count++,u=xf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var gc={$$typeof:re,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function G2(r,s,o,u,d,p,T,C,q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.hiddenUpdates=bn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function d_(r,s,o,u,d,p,T,C,q,W,ie,ue){return r=new G2(r,s,o,T,q,W,ie,ue,C),s=1,p===!0&&(s|=24),p=Gr(3,null,null,s),r.current=p,p.stateNode=r,s=Lm(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},Pm(p),r}function m_(r){return r?(r=Nl,r):Nl}function p_(r,s,o,u,d,p){d=m_(d),u.context===null?u.context=d:u.pendingContext=d,u=ja(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Pa(r,u,s),o!==null&&(Ir(o,r,s),Yu(o,r,s))}function g_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function tg(r,s){g_(r,s),(r=r.alternate)&&g_(r,s)}function y_(r){if(r.tag===13||r.tag===31){var s=Mo(r,67108864);s!==null&&Ir(s,r,67108864),tg(r,67108864)}}function v_(r){if(r.tag===13||r.tag===31){var s=Xr();s=ri(s);var o=Mo(r,s);o!==null&&Ir(o,r,s),tg(r,s)}}var Cf=!0;function $2(r,s,o,u){var d=B.T;B.T=null;var p=Z.p;try{Z.p=2,ng(r,s,o,u)}finally{Z.p=p,B.T=d}}function K2(r,s,o,u){var d=B.T;B.T=null;var p=Z.p;try{Z.p=8,ng(r,s,o,u)}finally{Z.p=p,B.T=d}}function ng(r,s,o,u){if(Cf){var d=rg(u);if(d===null)zp(r,s,u,Rf,o),__(r,u);else if(Q2(d,r,s,o,u))u.stopPropagation();else if(__(r,u),s&4&&-1<Y2.indexOf(r)){for(;d!==null;){var p=Yn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Kn(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var q=1<<31-Nt(T);C.entanglements[1]|=q,T&=~q}ps(p),(mt&6)===0&&(hf=St()+500,cc(0))}}break;case 31:case 13:C=Mo(p,2),C!==null&&Ir(C,p,2),df(),tg(p,2)}if(p=rg(u),p===null&&zp(r,s,u,Rf,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else zp(r,s,u,null,o)}}function rg(r){return r=Mn(r),ig(r)}var Rf=null;function ig(r){if(Rf=null,r=It(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Rf=r,null}function b_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case Ds:return 2;case kr:return 8;case ar:case Ls:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var sg=!1,Ya=null,Qa=null,Xa=null,yc=new Map,vc=new Map,Wa=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(r,s){switch(r){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":yc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(s.pointerId)}}function bc(r,s,o,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Yn(s),s!==null&&y_(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Q2(r,s,o,u,d){switch(s){case"focusin":return Ya=bc(Ya,r,s,o,u,d),!0;case"dragenter":return Qa=bc(Qa,r,s,o,u,d),!0;case"mouseover":return Xa=bc(Xa,r,s,o,u,d),!0;case"pointerover":var p=d.pointerId;return yc.set(p,bc(yc.get(p)||null,r,s,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,vc.set(p,bc(vc.get(p)||null,r,s,o,u,d)),!0}return!1}function E_(r){var s=It(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,ur(r.priority,function(){v_(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,ur(r.priority,function(){v_(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function If(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=rg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);nn=u,o.target.dispatchEvent(u),nn=null}else return s=Yn(o),s!==null&&y_(s),r.blockedOn=o,!1;s.shift()}return!0}function T_(r,s,o){If(r)&&o.delete(s)}function X2(){sg=!1,Ya!==null&&If(Ya)&&(Ya=null),Qa!==null&&If(Qa)&&(Qa=null),Xa!==null&&If(Xa)&&(Xa=null),yc.forEach(T_),vc.forEach(T_)}function Of(r,s){r.blockedOn===s&&(r.blockedOn=null,sg||(sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,X2)))}var Df=null;function w_(r){Df!==r&&(Df=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Df===r&&(Df=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(ig(u||o)===null)continue;break}var p=Yn(o);p!==null&&(r.splice(s,3),s-=3,rp(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Wl(r){function s(q){return Of(q,r)}Ya!==null&&Of(Ya,r),Qa!==null&&Of(Qa,r),Xa!==null&&Of(Xa,r),yc.forEach(s),vc.forEach(s);for(var o=0;o<Wa.length;o++){var u=Wa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Wa.length&&(o=Wa[0],o.blockedOn===null);)E_(o),o.blockedOn===null&&Wa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],T=d[Zt]||null;if(typeof p=="function")T||w_(o);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Zt]||null)C=T.formAction;else if(ig(d)!==null)continue}else C=T.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),w_(o)}}}function A_(){function r(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function ag(r){this._internalRoot=r}Lf.prototype.render=ag.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Xr();p_(o,u,r,s,null,null)},Lf.prototype.unmount=ag.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;p_(r.current,2,null,r,null,null),df(),s[_r]=null}};function Lf(r){this._internalRoot=r}Lf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Wt();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Wa.length&&s!==0&&s<Wa[o].priority;o++);Wa.splice(o,0,r),o===0&&E_(r)}};var x_=e.version;if(x_!=="19.2.1")throw Error(i(527,x_,"19.2.1"));Z.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?_(r):null,r=r===null?null:r.stateNode,r};var W2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{or=Mf.inject(W2),Kt=Mf}catch{}}return Ec.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=D1,p=L1,T=M1;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=d_(r,1,!1,null,null,o,u,null,d,p,T,A_),r[_r]=s.current,Bp(r),new ag(s)},Ec.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",p=D1,T=L1,C=M1,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),s=d_(r,1,!0,s,o??null,u,d,q,p,T,C,A_),s.context=m_(null),o=s.current,u=Xr(),u=ri(u),d=ja(u),d.callback=null,Pa(o,d,u),o=u,s.current.lanes=o,ni(s,o),ps(s),r[_r]=s.current,Bp(r),new Lf(s)},Ec.version="19.2.1",Ec}var k_;function lC(){if(k_)return ug.exports;k_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ug.exports=oC(),ug.exports}var uC=lC();var j_="popstate";function cC(n={}){function e(a,l){let{pathname:c="/",search:f="",hash:m=""}=ol(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Hg("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");f=g===-1?m:m.slice(0,g)}return f+"#"+(typeof l=="string"?l:zc(l))}function i(a,l){ei(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return fC(e,t,i,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ei(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hC(){return Math.random().toString(36).substring(2,10)}function P_(n,e){return{usr:n.state,key:n.key,idx:e}}function Hg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:t,key:e&&e.key||i||hC()}}function zc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ol(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){f="POP";let k=_(),F=k==null?null:k-g;g=k,m&&m({action:f,location:M.location,delta:F})}function w(k,F){f="PUSH";let K=Hg(M.location,k,F);t&&t(K,k),g=_()+1;let re=P_(K,g),be=M.createHref(K);try{c.pushState(re,"",be)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;a.location.assign(be)}l&&m&&m({action:f,location:M.location,delta:1})}function x(k,F){f="REPLACE";let K=Hg(M.location,k,F);t&&t(K,k),g=_();let re=P_(K,g),be=M.createHref(K);c.replaceState(re,"",be),l&&m&&m({action:f,location:M.location,delta:0})}function O(k){return dC(k)}let M={get action(){return f},get location(){return n(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(j_,E),m=k,()=>{a.removeEventListener(j_,E),m=null}},createHref(k){return e(a,k)},createURL:O,encodeLocation(k){let F=O(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:x,go(k){return c.go(k)}};return M}function dC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:zc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Nw(n,e,t="/"){return mC(n,e,t,!1)}function mC(n,e,t,i){let a=typeof e=="string"?ol(e):e,l=da(a.pathname||"/",t);if(l==null)return null;let c=Cw(n);pC(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=SC(l);f=AC(c[m],g,i)}return f}function Cw(n,e=[],t=[],i="",a=!1){let l=(c,f,m=a,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&m)return;$t(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let E=ca([i,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Cw(c.children,e,w,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:TC(E,c.index),routesMeta:w})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of Rw(c.path))l(c,f,!0,m)}),e}function Rw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Rw(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function pC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gC=/^:[\w-]+$/,yC=3,vC=2,bC=1,_C=10,EC=-2,V_=n=>n==="*";function TC(n,e){let t=n.split("/"),i=t.length;return t.some(V_)&&(i+=EC),e&&(i+=vC),t.filter(a=>!V_(a)).reduce((a,l)=>a+(gC.test(l)?yC:l===""?bC:_C),i)}function wC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function AC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=dd({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=dd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:ca([l,E.pathname]),pathnameBase:OC(ca([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=ca([l,E.pathnameBase]))}return c}function dd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=xC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:E},w)=>{if(_==="*"){let O=f[w]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const x=f[w];return E&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function xC(n,e=!1,t=!0){ei(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function SC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var NC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CC=n=>NC.test(n);function RC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ol(n):n,l;if(t)if(CC(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=U_(t.substring(1),"/"):l=U_(t,e)}else l=e;return{pathname:l,search:DC(i),hash:LC(a)}}function U_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function dg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ky(n){let e=IC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function jy(n,e,t,i=!1){let a;typeof n=="string"?a=ol(n):(a={...n},$t(!a.pathname||!a.pathname.includes("?"),dg("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),dg("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),dg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;a.pathname=w.join("/")}f=E>=0?e[E]:"/"}let m=RC(a,f),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ca=n=>n.join("/").replace(/\/\/+/g,"/"),OC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function kC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Iw=["POST","PUT","PATCH","DELETE"];new Set(Iw);var jC=["GET",...Iw];new Set(jC);var xu=G.createContext(null);xu.displayName="DataRouter";var Vd=G.createContext(null);Vd.displayName="DataRouterState";G.createContext(!1);var Ow=G.createContext({isTransitioning:!1});Ow.displayName="ViewTransition";var PC=G.createContext(new Map);PC.displayName="Fetchers";var VC=G.createContext(null);VC.displayName="Await";var Ci=G.createContext(null);Ci.displayName="Navigation";var sh=G.createContext(null);sh.displayName="Location";var Ri=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var Py=G.createContext(null);Py.displayName="RouteError";function UC(n,{relative:e}={}){$t(Su(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=G.useContext(Ci),{hash:a,pathname:l,search:c}=ah(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ca([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Su(){return G.useContext(sh)!=null}function wo(){return $t(Su(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(sh).location}var Dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lw(n){G.useContext(Ci).static||G.useLayoutEffect(n)}function Ao(){let{isDataRoute:n}=G.useContext(Ri);return n?eR():qC()}function qC(){$t(Su(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(xu),{basename:e,navigator:t}=G.useContext(Ci),{matches:i}=G.useContext(Ri),{pathname:a}=wo(),l=JSON.stringify(ky(i)),c=G.useRef(!1);return Lw(()=>{c.current=!0}),G.useCallback((m,g={})=>{if(ei(c.current,Dw),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=jy(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ca([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}var BC=G.createContext(null);function zC(n){let e=G.useContext(Ri).outlet;return G.useMemo(()=>e&&G.createElement(BC.Provider,{value:n},e),[e,n])}function Mw(){let{matches:n}=G.useContext(Ri),e=n[n.length-1];return e?e.params:{}}function ah(n,{relative:e}={}){let{matches:t}=G.useContext(Ri),{pathname:i}=wo(),a=JSON.stringify(ky(t));return G.useMemo(()=>jy(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function HC(n,e){return kw(n,e)}function kw(n,e,t,i,a){$t(Su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(Ci),{matches:c}=G.useContext(Ri),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",E=f&&f.route;{let K=E&&E.path||"";jw(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=wo(),x;if(e){let K=typeof e=="string"?ol(e):e;$t(_==="/"||K.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${K.pathname}" was given in the \`location\` prop.`),x=K}else x=w;let O=x.pathname||"/",M=O;if(_!=="/"){let K=_.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(K.length).join("/")}let k=Nw(n,{pathname:M});ei(E||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ei(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=YC(k&&k.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:ca([_,l.encodeLocation?l.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?_:ca([_,l.encodeLocation?l.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),c,t,i,a);return e&&F?G.createElement(sh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},F):F}function FC(){let n=JC(),e=MC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:a},t):null,c)}var GC=G.createElement(FC,null),$C=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?G.createElement(Ri.Provider,{value:this.props.routeContext},G.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KC({routeContext:n,match:e,children:t}){let i=G.useContext(xu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ri.Provider,{value:n},t)}function YC(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let _=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);$t(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let f=!1,m=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:w,errors:x}=t,O=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||O){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(_,E)=>{i(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:kC(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,w)=>{let x,O=!1,M=null,k=null;t&&(x=c&&E.route.id?c[E.route.id]:void 0,M=E.route.errorElement||GC,f&&(m<0&&w===0?(jw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):m===w&&(O=!0,k=E.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,w+1)),K=()=>{let re;return x?re=M:O?re=k:E.route.Component?re=G.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=_,G.createElement(KC,{match:E,routeContext:{outlet:_,matches:F,isDataRoute:t!=null},children:re})};return t&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?G.createElement($C,{location:t.location,revalidation:t.revalidation,component:M,error:x,children:K(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):K()},null)}function Vy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QC(n){let e=G.useContext(xu);return $t(e,Vy(n)),e}function XC(n){let e=G.useContext(Vd);return $t(e,Vy(n)),e}function WC(n){let e=G.useContext(Ri);return $t(e,Vy(n)),e}function Uy(n){let e=WC(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ZC(){return Uy("useRouteId")}function JC(){let n=G.useContext(Py),e=XC("useRouteError"),t=Uy("useRouteError");return n!==void 0?n:e.errors?.[t]}function eR(){let{router:n}=QC("useNavigate"),e=Uy("useNavigate"),t=G.useRef(!1);return Lw(()=>{t.current=!0}),G.useCallback(async(a,l={})=>{ei(t.current,Dw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var q_={};function jw(n,e,t){!e&&!q_[n]&&(q_[n]=!0,ei(!1,t))}G.memo(tR);function tR({routes:n,future:e,state:t,unstable_onError:i}){return kw(n,void 0,t,i,e)}function nR({to:n,replace:e,state:t,relative:i}){$t(Su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=G.useContext(Ci);ei(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext(Ri),{pathname:c}=wo(),f=Ao(),m=jy(n,ky(l),c,i==="path"),g=JSON.stringify(m);return G.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function rR(n){return zC(n.context)}function Or(n){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){$t(!Su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof t=="string"&&(t=ol(t));let{pathname:g="/",search:_="",hash:E="",state:w=null,key:x="default"}=t,O=G.useMemo(()=>{let M=da(g,f);return M==null?null:{location:{pathname:M,search:_,hash:E,state:w,key:x},navigationType:i}},[f,g,_,E,w,x,i]);return ei(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(Ci.Provider,{value:m},G.createElement(sh.Provider,{children:e,value:O}))}function sR({children:n,location:e}){return HC(Fg(n),e)}function Fg(n,e=[]){let t=[];return G.Children.forEach(n,(i,a)=>{if(!G.isValidElement(i))return;let l=[...e,a];if(i.type===G.Fragment){t.push.apply(t,Fg(i.props.children,l));return}$t(i.type===Or,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Fg(i.props.children,l)),t.push(c)}),t}var ed="get",td="application/x-www-form-urlencoded";function Ud(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function aR(n){return Ud(n)&&n.tagName.toLowerCase()==="button"}function oR(n){return Ud(n)&&n.tagName.toLowerCase()==="form"}function lR(n){return Ud(n)&&n.tagName.toLowerCase()==="input"}function uR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cR(n,e){return n.button===0&&(!e||e==="_self")&&!uR(n)}var kf=null;function hR(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var fR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(n){return n!=null&&!fR.has(n)?(ei(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${td}"`),null):n}function dR(n,e){let t,i,a,l,c;if(oR(n)){let f=n.getAttribute("action");i=f?da(f,e):null,t=n.getAttribute("method")||ed,a=mg(n.getAttribute("enctype"))||td,l=new FormData(n)}else if(aR(n)||lR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?da(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||ed,a=mg(n.getAttribute("formenctype"))||mg(f.getAttribute("enctype"))||td,l=new FormData(f,n),!hR()){let{name:g,type:_,value:E}=n;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,E)}}else{if(Ud(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ed,i=null,a=td,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mR(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&da(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function pR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yR(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await pR(l,t);return c.links?c.links():[]}return[]}));return ER(i.flat(1).filter(gR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function B_(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,f=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function vR(n,e,{includeHydrateFallback:t}={}){return bR(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function bR(n){return[...new Set(n)]}function _R(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function ER(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(_R(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function Pw(){let n=G.useContext(xu);return qy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TR(){let n=G.useContext(Vd);return qy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var By=G.createContext(void 0);By.displayName="FrameworkContext";function Vw(){let n=G.useContext(By);return qy(n,"You must render this element inside a <HydratedRouter> element"),n}function wR(n,e){let t=G.useContext(By),[i,a]=G.useState(!1),[l,c]=G.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,w=G.useRef(null);G.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=F=>{F.forEach(K=>{c(K.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[n]),G.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let x=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Tc(f,x),onBlur:Tc(m,O),onMouseEnter:Tc(g,x),onMouseLeave:Tc(_,O),onTouchStart:Tc(E,x)}]:[!1,w,{}]}function Tc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AR({page:n,...e}){let{router:t}=Pw(),i=G.useMemo(()=>Nw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?G.createElement(SR,{page:n,matches:i,...e}):null}function xR(n){let{manifest:e,routeModules:t}=Vw(),[i,a]=G.useState([]);return G.useEffect(()=>{let l=!1;return yR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function SR({page:n,matches:e,...t}){let i=wo(),{manifest:a,routeModules:l}=Vw(),{basename:c}=Pw(),{loaderData:f,matches:m}=TR(),g=G.useMemo(()=>B_(n,e,m,a,i,"data"),[n,e,m,a,i]),_=G.useMemo(()=>B_(n,e,m,a,i,"assets"),[n,e,m,a,i]),E=G.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,M=!1;if(e.forEach(F=>{let K=a.routes[F.route.id];!K||!K.hasLoader||(!g.some(re=>re.route.id===F.route.id)&&F.route.id in f&&l[F.route.id]?.shouldRevalidate||K.hasClientLoader?M=!0:O.add(F.route.id))}),O.size===0)return[];let k=mR(n,c,"data");return M&&O.size>0&&k.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[c,f,i,a,g,e,n,l]),w=G.useMemo(()=>vR(_,a),[_,a]),x=xR(_);return G.createElement(G.Fragment,null,E.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),w.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),x.map(({key:O,link:M})=>G.createElement("link",{key:O,nonce:t.nonce,...M})))}function NR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uw&&(window.__reactRouterVersion="7.10.1")}catch{}function CR({basename:n,children:e,unstable_useTransitions:t,window:i}){let a=G.useRef();a.current==null&&(a.current=cC({window:i,v5Compat:!0}));let l=a.current,[c,f]=G.useState({action:l.action,location:l.location}),m=G.useCallback(g=>{t===!1?f(g):G.startTransition(()=>f(g))},[t]);return G.useLayoutEffect(()=>l.listen(m),[l,m]),G.createElement(iR,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=G.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:_,viewTransition:E,...w},x){let{basename:O,unstable_useTransitions:M}=G.useContext(Ci),k=typeof g=="string"&&qw.test(g),F,K=!1;if(typeof g=="string"&&k&&(F=g,Uw))try{let z=new URL(window.location.href),S=g.startsWith("//")?new URL(z.protocol+g):new URL(g),D=da(S.pathname,O);S.origin===z.origin&&D!=null?g=D+S.search+S.hash:K=!0}catch{ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=UC(g,{relative:a}),[be,ve,we]=wR(i,w),j=OR(g,{replace:c,state:f,target:m,preventScrollReset:_,relative:a,viewTransition:E,unstable_useTransitions:M});function L(z){e&&e(z),z.defaultPrevented||j(z)}let P=G.createElement("a",{...w,...we,href:F||re,onClick:K||l?e:L,ref:NR(x,ve),target:m,"data-discover":!k&&t==="render"?"true":void 0});return be&&!k?G.createElement(G.Fragment,null,P,G.createElement(AR,{page:re})):P});zn.displayName="Link";var Bw=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},_){let E=ah(c,{relative:g.relative}),w=wo(),x=G.useContext(Vd),{navigator:O,basename:M}=G.useContext(Ci),k=x!=null&&jR(E)&&f===!0,F=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,K=w.pathname,re=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(K=K.toLowerCase(),re=re?re.toLowerCase():null,F=F.toLowerCase()),re&&M&&(re=da(re,M)||re);const be=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ve=K===F||!a&&K.startsWith(F)&&K.charAt(be)==="/",we=re!=null&&(re===F||!a&&re.startsWith(F)&&re.charAt(F.length)==="/"),j={isActive:ve,isPending:we,isTransitioning:k},L=ve?e:void 0,P;typeof i=="function"?P=i(j):P=[i,ve?"active":null,we?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(j):l;return G.createElement(zn,{...g,"aria-current":L,className:P,ref:_,style:z,to:c,viewTransition:f},typeof m=="function"?m(j):m)});Bw.displayName="NavLink";var RR=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=ed,action:f,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:E,...w},x)=>{let{unstable_useTransitions:O}=G.useContext(Ci),M=MR(),k=kR(f,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&qw.test(f),re=be=>{if(m&&m(be),be.defaultPrevented)return;be.preventDefault();let ve=be.nativeEvent.submitter,we=ve?.getAttribute("formmethod")||c,j=()=>M(ve||be.currentTarget,{fetcherKey:e,method:we,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:E});O&&t!==!1?G.startTransition(()=>j()):j()};return G.createElement("form",{ref:x,method:F,action:k,onSubmit:i?m:re,...w,"data-discover":!K&&n==="render"?"true":void 0})});RR.displayName="Form";function IR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(n){let e=G.useContext(xu);return $t(e,IR(n)),e}function OR(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let m=Ao(),g=wo(),_=ah(n,{relative:l});return G.useCallback(E=>{if(cR(E,e)){E.preventDefault();let w=t!==void 0?t:zc(g)===zc(_),x=()=>m(n,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:c});f?G.startTransition(()=>x()):x()}},[g,m,_,t,i,e,n,a,l,c,f])}var DR=0,LR=()=>`__${String(++DR)}__`;function MR(){let{router:n}=zw("useSubmit"),{basename:e}=G.useContext(Ci),t=ZC(),i=n.fetch,a=n.navigate;return G.useCallback(async(l,c={})=>{let{action:f,method:m,encType:g,formData:_,body:E}=dR(l,e);if(c.navigate===!1){let w=c.fetcherKey||LR();await i(w,t,c.action||f,{preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function kR(n,{relative:e}={}){let{basename:t}=G.useContext(Ci),i=G.useContext(Ri);$t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ah(n||".",{relative:e})},c=wo();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(_=>_==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ca([t,l.pathname])),zc(l)}function jR(n,{relative:e}={}){let t=G.useContext(Ow);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zw("useViewTransitionState"),a=ah(n,{relative:e});if(!t.isTransitioning)return!1;let l=da(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=da(t.nextLocation.pathname,i)||t.nextLocation.pathname;return dd(a.pathname,c)!=null||dd(a.pathname,l)!=null}const PR=()=>{};var z_={};const Hw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},VR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,x=g&63;m||(x=64,c||(w=64)),i.push(t[_],t[E],t[w],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Hw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||E==null)throw new UR;const w=l<<2|f>>4;if(i.push(w),g!==64){const x=f<<4&240|g>>2;if(i.push(x),E!==64){const O=g<<6&192|E;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qR=function(n){const e=Hw(n);return Fw.encodeByteArray(e,!0)},md=function(n){return qR(n).replace(/\./g,"")},Gw=function(n){try{return Fw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zR=()=>BR().__FIREBASE_DEFAULTS__,HR=()=>{if(typeof process>"u"||typeof z_>"u")return;const n=z_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Gw(n[1]);return e&&JSON.parse(e)},qd=()=>{try{return PR()||zR()||HR()||FR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$w=n=>qd()?.emulatorHosts?.[n],GR=n=>{const e=$w(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Kw=()=>qd()?.config,Yw=n=>qd()?.[`_${n}`];class $R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Nu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qw(n){return(await fetch(n,{credentials:"include"})).ok}function KR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[md(JSON.stringify(t)),md(JSON.stringify(c)),""].join(".")}const Mc={};function YR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Mc))Mc[e]?n.emulator.push(e):n.prod.push(e);return n}function QR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let H_=!1;function Xw(n,e){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||Mc[n]===e||Mc[n]||H_)return;Mc[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=YR().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{H_=!0,c()},w}function _(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=QR(i),x=t("text"),O=document.getElementById(x)||document.createElement("span"),M=t("learnmore"),k=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),K=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;f(re),_(k,M);const be=g();m(K,F),re.append(K,O,k,be),document.body.appendChild(re)}l?(O.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function WR(){const n=qd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tI(){const n=ir();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nI(){return!WR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rI(){try{return typeof indexedDB=="object"}catch{return!1}}function iI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const sI="FirebaseError";class Ea extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=sI,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?aI(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ea(a,f,i)}}function aI(n,e){return n.replace(oI,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const oI=/\{\$([^}]+)}/g;function lI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(F_(l)&&F_(c)){if(!Wo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function F_(n){return n!==null&&typeof n=="object"}function lh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function xc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Sc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uI(n,e){const t=new cI(n,e);return t.subscribe.bind(t)}class cI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");hI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=pg),a.error===void 0&&(a.error=pg),a.complete===void 0&&(a.complete=pg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pg(){}function sr(n){return n&&n._delegate?n._delegate:n}class Zo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ko="[DEFAULT]";class fI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new $R;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mI(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dI(n){return n===Ko?void 0:n}function mI(n){return n.instantiationMode==="EAGER"}class pI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const gI={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},yI=rt.INFO,vI={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},bI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=vI[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zy{constructor(e){this.name=e,this._logLevel=yI,this._logHandler=bI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const _I=(n,e)=>e.some(t=>n instanceof t);let G_,$_;function EI(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TI(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ww=new WeakMap,Gg=new WeakMap,Zw=new WeakMap,gg=new WeakMap,Hy=new WeakMap;function wI(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(lo(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ww.set(t,n)}).catch(()=>{}),Hy.set(e,n),e}function AI(n){if(Gg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Gg.set(n,e)}let $g={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Zw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xI(n){$g=n($g)}function SI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(yg(this),e,...t);return Zw.set(i,e.sort?e.sort():[e]),lo(i)}:TI().includes(n)?function(...e){return n.apply(yg(this),e),lo(Ww.get(this))}:function(...e){return lo(n.apply(yg(this),e))}}function NI(n){return typeof n=="function"?SI(n):(n instanceof IDBTransaction&&AI(n),_I(n,EI())?new Proxy(n,$g):n)}function lo(n){if(n instanceof IDBRequest)return wI(n);if(gg.has(n))return gg.get(n);const e=NI(n);return e!==n&&(gg.set(n,e),Hy.set(e,n)),e}const yg=n=>Hy.get(n);function CI(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=lo(c);return i&&c.addEventListener("upgradeneeded",m=>{i(lo(c.result),m.oldVersion,m.newVersion,lo(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const RI=["get","getKey","getAll","getAllKeys","count"],II=["put","add","delete","clear"],vg=new Map;function K_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=II.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||RI.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&m.done]))[0]};return vg.set(e,l),l}xI(n=>({...n,get:(e,t,i)=>K_(e,t)||n.get(e,t,i),has:(e,t)=>!!K_(e,t)||n.has(e,t)}));class OI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function DI(n){return n.getComponent()?.type==="VERSION"}const Kg="@firebase/app",Y_="0.14.6";const ma=new zy("@firebase/app"),LI="@firebase/app-compat",MI="@firebase/analytics-compat",kI="@firebase/analytics",jI="@firebase/app-check-compat",PI="@firebase/app-check",VI="@firebase/auth",UI="@firebase/auth-compat",qI="@firebase/database",BI="@firebase/data-connect",zI="@firebase/database-compat",HI="@firebase/functions",FI="@firebase/functions-compat",GI="@firebase/installations",$I="@firebase/installations-compat",KI="@firebase/messaging",YI="@firebase/messaging-compat",QI="@firebase/performance",XI="@firebase/performance-compat",WI="@firebase/remote-config",ZI="@firebase/remote-config-compat",JI="@firebase/storage",e4="@firebase/storage-compat",t4="@firebase/firestore",n4="@firebase/ai",r4="@firebase/firestore-compat",i4="firebase",s4="12.6.0";const Yg="[DEFAULT]",a4={[Kg]:"fire-core",[LI]:"fire-core-compat",[kI]:"fire-analytics",[MI]:"fire-analytics-compat",[PI]:"fire-app-check",[jI]:"fire-app-check-compat",[VI]:"fire-auth",[UI]:"fire-auth-compat",[qI]:"fire-rtdb",[BI]:"fire-data-connect",[zI]:"fire-rtdb-compat",[HI]:"fire-fn",[FI]:"fire-fn-compat",[GI]:"fire-iid",[$I]:"fire-iid-compat",[KI]:"fire-fcm",[YI]:"fire-fcm-compat",[QI]:"fire-perf",[XI]:"fire-perf-compat",[WI]:"fire-rc",[ZI]:"fire-rc-compat",[JI]:"fire-gcs",[e4]:"fire-gcs-compat",[t4]:"fire-fst",[r4]:"fire-fst-compat",[n4]:"fire-vertex","fire-js":"fire-js",[i4]:"fire-js-all"};const pd=new Map,o4=new Map,Qg=new Map;function Q_(n,e){try{n.container.addComponent(e)}catch(t){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pu(n){const e=n.name;if(Qg.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,n);for(const t of pd.values())Q_(t,n);for(const t of o4.values())Q_(t,n);return!0}function Fy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wr(n){return n==null?!1:n.settings!==void 0}const l4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new oh("app","Firebase",l4);class u4{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Cu=s4;function Jw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Yg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw uo.create("bad-app-name",{appName:String(a)});if(t||(t=Kw()),!t)throw uo.create("no-options");const l=pd.get(a);if(l){if(Wo(t,l.options)&&Wo(i,l.config))return l;throw uo.create("duplicate-app",{appName:a})}const c=new pI(a);for(const m of Qg.values())c.addComponent(m);const f=new u4(t,i,c);return pd.set(a,f),f}function eA(n=Yg){const e=pd.get(n);if(!e&&n===Yg&&Kw())return Jw();if(!e)throw uo.create("no-app",{appName:n});return e}function co(n,e,t){let i=a4[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(c.join(" "));return}pu(new Zo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const c4="firebase-heartbeat-database",h4=1,Hc="firebase-heartbeat-store";let bg=null;function tA(){return bg||(bg=CI(c4,h4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw uo.create("idb-open",{originalErrorMessage:n.message})})),bg}async function f4(n){try{const t=(await tA()).transaction(Hc),i=await t.objectStore(Hc).get(nA(n));return await t.done,i}catch(e){if(e instanceof Ea)ma.warn(e.message);else{const t=uo.create("idb-get",{originalErrorMessage:e?.message});ma.warn(t.message)}}}async function X_(n,e){try{const i=(await tA()).transaction(Hc,"readwrite");await i.objectStore(Hc).put(e,nA(n)),await i.done}catch(t){if(t instanceof Ea)ma.warn(t.message);else{const i=uo.create("idb-set",{originalErrorMessage:t?.message});ma.warn(i.message)}}}function nA(n){return`${n.name}!${n.options.appId}`}const d4=1024,m4=30;class p4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new y4(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>m4){const a=v4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ma.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:t,unsentEntries:i}=g4(this._heartbeatsCache.heartbeats),a=md(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ma.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function g4(n,e=d4){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Z_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Z_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class y4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rI()?iI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await f4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Z_(n){return md(JSON.stringify({version:2,heartbeats:n})).length}function v4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function b4(n){pu(new Zo("platform-logger",e=>new OI(e),"PRIVATE")),pu(new Zo("heartbeat",e=>new p4(e),"PRIVATE")),co(Kg,Y_,n),co(Kg,Y_,"esm2020"),co("fire-js","")}b4("");var _4="firebase",E4="12.6.0";co(_4,E4,"app");function rA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T4=rA,iA=new oh("auth","Firebase",rA());const gd=new zy("@firebase/auth");function w4(n,...e){gd.logLevel<=rt.WARN&&gd.warn(`Auth (${Cu}): ${n}`,...e)}function nd(n,...e){gd.logLevel<=rt.ERROR&&gd.error(`Auth (${Cu}): ${n}`,...e)}function Si(n,...e){throw $y(n,...e)}function Yi(n,...e){return $y(n,...e)}function Gy(n,e,t){const i={...T4(),[e]:t};return new oh("auth","Firebase",i).create(e,{appName:n.name})}function ha(n){return Gy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A4(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Si(n,"argument-error"),Gy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $y(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return iA.create(n,...e)}function Ve(n,e,...t){if(!n)throw $y(e,...t)}function la(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nd(e),new Error(e)}function pa(n,e){n||la(e)}function Xg(){return typeof self<"u"&&self.location?.href||""}function x4(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}function S4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x4()||JR()||"connection"in navigator)?navigator.onLine:!0}function N4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class uh{constructor(e,t){this.shortDelay=e,this.longDelay=t,pa(t>e,"Short delay should be less than long delay!"),this.isMobile=XR()||eI()}get(){return S4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ky(n,e){pa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class sA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const R4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I4=new uh(3e4,6e4);function xo(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ta(n,e,t,i,a={}){return aA(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=lh({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return ZR()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Nu(n.emulatorConfig.host)&&(g.credentials="include"),sA.fetch()(await oA(n,n.config.apiHost,t,f),g)})}async function aA(n,e,t){n._canInitEmulator=!1;const i={...C4,...e};try{const a=new D4(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw jf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw jf(n,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Gy(n,_,g);Si(n,_)}}catch(a){if(a instanceof Ea)throw a;Si(n,"network-request-failed",{message:String(a)})}}async function ch(n,e,t,i,a={}){const l=await Ta(n,e,t,i,a);return"mfaPendingCredential"in l&&Si(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function oA(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Ky(n.config,a):`${n.config.apiScheme}://${a}`;return R4.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function O4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Yi(this.auth,"network-request-failed")),I4.get())})}}function jf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Yi(n,e,i);return a.customData._tokenResponse=t,a}function eE(n){return n!==void 0&&n.enterprise!==void 0}class L4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M4(n,e){return Ta(n,"GET","/v2/recaptchaConfig",xo(n,e))}async function k4(n,e){return Ta(n,"POST","/v1/accounts:delete",e)}async function yd(n,e){return Ta(n,"POST","/v1/accounts:lookup",e)}function kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j4(n,e=!1){const t=sr(n),i=await t.getIdToken(e),a=Yy(i);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:kc(_g(a.auth_time)),issuedAtTime:kc(_g(a.iat)),expirationTime:kc(_g(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function _g(n){return Number(n)*1e3}function Yy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Gw(t);return a?JSON.parse(a):(nd("Failed to decode base64 JWT payload"),null)}catch(a){return nd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function tE(n){const e=Yy(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ea&&P4(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function P4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class V4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vd(n){const e=n.auth,t=await n.getIdToken(),i=await gu(n,yd(e,{idToken:t}));Ve(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?lA(a.providerUserInfo):[],c=q4(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!c?.length,g=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Wg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function U4(n){const e=sr(n);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q4(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function lA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function B4(n,e){const t=await aA(n,{},async()=>{const i=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await oA(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Nu(n.emulatorConfig.host)&&(m.credentials="include"),sA.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function z4(n,e){return Ta(n,"POST","/v2/accounts:revokeToken",xo(n,e))}class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=tE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await B4(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new ou;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return la("not implemented")}}function Ja(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $i{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new V4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j4(this,e)}reload(){return U4(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await vd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(ha(this.auth));const e=await this.getIdToken();return await gu(this,k4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:x,providerData:O,stsTokenManager:M}=t;Ve(E&&M,e,"internal-error");const k=ou.fromJSON(this.name,M);Ve(typeof E=="string",e,"internal-error"),Ja(i,e.name),Ja(a,e.name),Ve(typeof w=="boolean",e,"internal-error"),Ve(typeof x=="boolean",e,"internal-error"),Ja(l,e.name),Ja(c,e.name),Ja(f,e.name),Ja(m,e.name),Ja(g,e.name),Ja(_,e.name);const F=new $i({uid:E,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:_});return O&&Array.isArray(O)&&(F.providerData=O.map(K=>({...K}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,t,i=!1){const a=new ou;a.updateFromServerResponse(t);const l=new $i({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await vd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?lA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new ou;f.updateFromIdToken(i);const m=new $i({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Wg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const nE=new Map;function ua(n){pa(n instanceof Function,"Expected a class definition");let e=nE.get(n);return e?(pa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nE.set(n,e),e)}class uA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uA.type="NONE";const rE=uA;function rd(n,e,t){return`firebase:${n}:${e}:${t}`}class lu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=rd(this.userKey,a.apiKey,l),this.fullPersistenceKey=rd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yd(this.auth,{idToken:e}).catch(()=>{});return t?$i._fromGetAccountInfoResponse(this.auth,t,e):null}return $i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new lu(ua(rE),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ua(rE);const c=rd(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const w=await yd(e,{idToken:_}).catch(()=>{});if(!w)break;E=await $i._fromGetAccountInfoResponse(e,w,_)}else E=$i._fromJSON(e,_);g!==l&&(f=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new lu(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new lu(l,e,i))}}function iE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pA(e))return"Blackberry";if(gA(e))return"Webos";if(hA(e))return"Safari";if((e.includes("chrome/")||fA(e))&&!e.includes("edge/"))return"Chrome";if(mA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function cA(n=ir()){return/firefox\//i.test(n)}function hA(n=ir()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fA(n=ir()){return/crios\//i.test(n)}function dA(n=ir()){return/iemobile/i.test(n)}function mA(n=ir()){return/android/i.test(n)}function pA(n=ir()){return/blackberry/i.test(n)}function gA(n=ir()){return/webos/i.test(n)}function Qy(n=ir()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function H4(n=ir()){return Qy(n)&&!!window.navigator?.standalone}function F4(){return tI()&&document.documentMode===10}function yA(n=ir()){return Qy(n)||mA(n)||gA(n)||pA(n)||/windows phone/i.test(n)||dA(n)}function vA(n,e=[]){let t;switch(n){case"Browser":t=iE(ir());break;case"Worker":t=`${iE(ir())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cu}/${i}`}class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function $4(n,e={}){return Ta(n,"GET","/v2/passwordPolicy",xo(n,e))}const K4=6;class Y4{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??K4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Q4{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ua(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yd(this,{idToken:e}),i=await $i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(ha(this));const t=e?sr(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $4(this),t=new Y4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await z4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ua(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await lu.create(this,[ua(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&w4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function So(n){return sr(n)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uI(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X4(n){Bd=n}function bA(n){return Bd.loadJS(n)}function W4(){return Bd.recaptchaEnterpriseScript}function Z4(){return Bd.gapiScript}function J4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class eO{constructor(){this.enterprise=new tO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nO="recaptcha-enterprise",_A="NO_RECAPTCHA";class rO{constructor(e){this.type=nO,this.auth=So(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{M4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new L4(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;eE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(_A)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&eE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=W4();m.length!==0&&(m+=f),bA(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function aE(n,e,t,i=!1,a=!1){const l=new rO(n);let c;if(a)c=_A;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Zg(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await aE(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await aE(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}function iO(n,e){const t=Fy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Wo(l,e??{}))return a;Si(a,"already-initialized")}return t.initialize({options:e})}function sO(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ua);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function aO(n,e,t){const i=So(n);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=EA(e),{host:c,port:f}=oO(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(Wo(g,i.config.emulator)&&Wo(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Nu(c)?(Qw(`${l}//${c}${m}`),Xw("Auth",!0)):lO()}function EA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oO(n){const e=EA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:oE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:oE(c)}}}function oE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Xy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,t){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}async function uO(n,e){return Ta(n,"POST","/v1/accounts:signUp",e)}async function cO(n,e){return ch(n,"POST","/v1/accounts:signInWithPassword",xo(n,e))}async function hO(n,e){return ch(n,"POST","/v1/accounts:signInWithEmailLink",xo(n,e))}async function fO(n,e){return ch(n,"POST","/v1/accounts:signInWithEmailLink",xo(n,e))}class Fc extends Xy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(e,t,"signInWithPassword",cO);case"emailLink":return hO(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(e,i,"signUpPassword",uO);case"emailLink":return fO(e,{idToken:t,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uu(n,e){return ch(n,"POST","/v1/accounts:signInWithIdp",xo(n,e))}const dO="http://localhost";class Jo extends Xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Jo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return uu(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,uu(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uu(e,t)}buildRequest(){const e={requestUri:dO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lh(t)}return e}}function mO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pO(n){const e=xc(Sc(n)).link,t=e?xc(Sc(e)).deep_link_id:null,i=xc(Sc(n)).deep_link_id;return(i?xc(Sc(i)).link:null)||i||t||e||n}class Wy{constructor(e){const t=xc(Sc(e)),i=t.apiKey??null,a=t.oobCode??null,l=mO(t.mode??null);Ve(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=pO(e);try{return new Wy(t)}catch{return null}}}class Ru{constructor(){this.providerId=Ru.PROVIDER_ID}static credential(e,t){return Fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Wy.parseLink(t);return Ve(i,"argument-error"),Fc._fromEmailAndCode(e,i.code,i.tenantId)}}Ru.PROVIDER_ID="password";Ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hh extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class to extends hh{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";class vs extends hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";class no extends hh{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";class ro extends hh{constructor(){super("twitter.com")}static credential(e,t){return Jo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ro.credential(t,i)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";async function gO(n,e){return ch(n,"POST","/v1/accounts:signUp",xo(n,e))}class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await $i._fromIdTokenResponse(e,i,a),c=lE(i);return new el({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=lE(i);return new el({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function lE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class bd extends Ea{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new bd(e,t,i,a)}}function TA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(n,l,e,i):l})}async function yO(n,e,t=!1){const i=await gu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return el._forOperation(n,"link",i)}async function vO(n,e,t=!1){const{auth:i}=n;if(Wr(i.app))return Promise.reject(ha(i));const a="reauthenticate";try{const l=await gu(n,TA(i,a,e,n),t);Ve(l.idToken,i,"internal-error");const c=Yy(l.idToken);Ve(c,i,"internal-error");const{sub:f}=c;return Ve(n.uid===f,i,"user-mismatch"),el._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(i,"user-mismatch"),l}}async function wA(n,e,t=!1){if(Wr(n.app))return Promise.reject(ha(n));const i="signIn",a=await TA(n,i,e),l=await el._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function bO(n,e){return wA(So(n),e)}async function AA(n){const e=So(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _O(n,e,t){if(Wr(n.app))return Promise.reject(ha(n));const i=So(n),c=await Zg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&AA(n),m}),f=await el._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function EO(n,e,t){return Wr(n.app)?Promise.reject(ha(n)):bO(sr(n),Ru.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&AA(n),i})}async function TO(n,e){return Ta(n,"POST","/v1/accounts:update",e)}async function wO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=sr(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await gu(i,TO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function AO(n,e,t,i){return sr(n).onIdTokenChanged(e,t,i)}function xO(n,e,t){return sr(n).beforeAuthStateChanged(e,t)}function Jy(n,e,t,i){return sr(n).onAuthStateChanged(e,t,i)}function SO(n){return sr(n).signOut()}const _d="__sak";class xA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NO=1e3,CO=10;class SA extends xA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);F4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,CO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},NO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SA.type="LOCAL";const RO=SA;class NA extends xA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NA.type="SESSION";const CA=NA;function IO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new zd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,l)),m=await IO(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];function e0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class OO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=e0("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const w=E;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function bs(){return window}function DO(n){bs().location.href=n}function RA(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function LO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MO(){return navigator?.serviceWorker?.controller||null}function kO(){return RA()?self:null}const IA="firebaseLocalStorageDb",jO=1,Ed="firebaseLocalStorage",OA="fbase_key";class fh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hd(n,e){return n.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function PO(){const n=indexedDB.deleteDatabase(IA);return new fh(n).toPromise()}function Jg(){const n=indexedDB.open(IA,jO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ed,{keyPath:OA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ed)?e(i):(i.close(),await PO(),e(await Jg()))})})}async function uE(n,e,t){const i=Hd(n,!0).put({[OA]:e,value:t});return new fh(i).toPromise()}async function VO(n,e){const t=Hd(n,!1).get(e),i=await new fh(t).toPromise();return i===void 0?null:i.value}function cE(n,e){const t=Hd(n,!0).delete(e);return new fh(t).toPromise()}const UO=800,qO=3;class DA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>qO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(kO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LO(),!this.activeServiceWorker)return;this.sender=new OO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await uE(e,_d,"1"),await cE(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>uE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>VO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hd(a,!1).getAll();return new fh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DA.type="LOCAL";const BO=DA;new uh(3e4,6e4);function LA(n,e){return e?ua(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class t0 extends Xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zO(n){return wA(n.auth,new t0(n),n.bypassAuthState)}function HO(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),vO(t,new t0(n),n.bypassAuthState)}async function FO(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),yO(t,new t0(n),n.bypassAuthState)}class MA{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zO;case"linkViaPopup":case"linkViaRedirect":return FO;case"reauthViaPopup":case"reauthViaRedirect":return HO;default:Si(this.auth,"internal-error")}}resolve(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GO=new uh(2e3,1e4);async function kA(n,e,t){if(Wr(n.app))return Promise.reject(Yi(n,"operation-not-supported-in-this-environment"));const i=So(n);A4(n,e,Zy);const a=LA(i,t);return new Yo(i,"signInViaPopup",e,a).executeNotNull()}class Yo extends MA{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){pa(this.filter.length===1,"Popup operations only handle one event");const e=e0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GO.get())};e()}}Yo.currentPopupAction=null;const $O="pendingRedirect",id=new Map;class KO extends MA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=id.get(this.auth._key());if(!e){try{const i=await YO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}id.set(this.auth._key(),e)}return this.bypassAuthState||id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YO(n,e){const t=WO(e),i=XO(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function QO(n,e){id.set(n._key(),e)}function XO(n){return ua(n._redirectPersistence)}function WO(n){return rd($O,n.config.apiKey,n.name)}async function ZO(n,e,t=!1){if(Wr(n.app))return Promise.reject(ha(n));const i=So(n),a=LA(i,e),c=await new KO(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const JO=600*1e3;class e3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!jA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Yi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JO&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function t3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(n);default:return!1}}async function n3(n,e={}){return Ta(n,"GET","/v1/projects",e)}const r3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i3=/^https?/;async function s3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await n3(n);for(const t of e)try{if(a3(t))return}catch{}Si(n,"unauthorized-domain")}function a3(n){const e=Xg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!i3.test(t))return!1;if(r3.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const o3=new uh(3e4,6e4);function fE(){const n=bs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function l3(n){return new Promise((e,t)=>{function i(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),t(Yi(n,"network-request-failed"))},timeout:o3.get()})}if(bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bs().gapi?.load)i();else{const a=J4("iframefcb");return bs()[a]=()=>{gapi.load?i():t(Yi(n,"network-request-failed"))},bA(`${Z4()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw sd=null,e})}let sd=null;function u3(n){return sd=sd||l3(n),sd}const c3=new uh(5e3,15e3),h3="__/auth/iframe",f3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p3(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ky(e,f3):`https://${n.config.authDomain}/${h3}`,i={apiKey:e.apiKey,appName:n.name,v:Cu},a=m3.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${lh(i).slice(1)}`}async function g3(n){const e=await u3(n),t=bs().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:p3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Yi(n,"network-request-failed"),f=bs().setTimeout(()=>{l(c)},c3.get());function m(){bs().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const y3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v3=500,b3=600,_3="_blank",E3="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T3(n,e,t,i=v3,a=b3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...y3,width:i.toString(),height:a.toString(),top:l,left:c},g=ir().toLowerCase();t&&(f=fA(g)?_3:t),cA(g)&&(e=e||E3,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[x,O])=>`${w}${x}=${O},`,"");if(H4(g)&&f!=="_self")return w3(e||"",f),new dE(null);const E=window.open(e||"",f,_);Ve(E,n,"popup-blocked");try{E.focus()}catch{}return new dE(E)}function w3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const A3="__/auth/handler",x3="emulator/auth/handler",S3=encodeURIComponent("fac");async function mE(n,e,t,i,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Cu,eventId:a};if(e instanceof Zy){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",lI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof hh){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await n._getAppCheckToken(),g=m?`#${S3}=${encodeURIComponent(m)}`:"";return`${N3(n)}?${lh(f).slice(1)}${g}`}function N3({config:n}){return n.emulator?Ky(n,x3):`https://${n.authDomain}/${A3}`}const Eg="webStorageSupport";class C3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CA,this._completeRedirectFn=ZO,this._overrideRedirectResult=QO}async _openPopup(e,t,i,a){pa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await mE(e,t,i,Xg(),a);return T3(e,l,e0())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await mE(e,t,i,Xg(),a);return DO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(pa(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await g3(e),i=new e3(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eg,{type:Eg},a=>{const l=a?.[0]?.[Eg];l!==void 0&&t(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yA()||hA()||Qy()}}const R3=C3;var pE="@firebase/auth",gE="1.11.1";class I3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D3(n){pu(new Zo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vA(n)},g=new Q4(i,a,l,m);return sO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),pu(new Zo("auth-internal",e=>{const t=So(e.getProvider("auth").getImmediate());return(i=>new I3(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(pE,gE,O3(n)),co(pE,gE,"esm2020")}const L3=300,M3=Yw("authIdTokenMaxAge")||L3;let yE=null;const k3=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>M3)return;const a=t?.token;yE!==a&&(yE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function j3(n=eA()){const e=Fy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=iO(n,{popupRedirectResolver:R3,persistence:[BO,RO,CA]}),i=Yw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=k3(l.toString());xO(t,c,()=>c(t.currentUser)),AO(t,f=>c(f))}}const a=$w("auth");return a&&aO(t,`http://${a}`),t}function P3(){return document.getElementsByTagName("head")?.[0]??document}X4({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Yi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",P3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D3("Browser");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,PA;(function(){var n;function e(j,L){function P(){}P.prototype=L.prototype,j.F=L.prototype,j.prototype=new P,j.prototype.constructor=j,j.D=function(z,S,D){for(var N=Array(arguments.length-2),me=2;me<arguments.length;me++)N[me-2]=arguments[me];return L.prototype[S].apply(z,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,L,P){P||(P=0);const z=Array(16);if(typeof L=="string")for(var S=0;S<16;++S)z[S]=L.charCodeAt(P++)|L.charCodeAt(P++)<<8|L.charCodeAt(P++)<<16|L.charCodeAt(P++)<<24;else for(S=0;S<16;++S)z[S]=L[P++]|L[P++]<<8|L[P++]<<16|L[P++]<<24;L=j.g[0],P=j.g[1],S=j.g[2];let D=j.g[3],N;N=L+(D^P&(S^D))+z[0]+3614090360&4294967295,L=P+(N<<7&4294967295|N>>>25),N=D+(S^L&(P^S))+z[1]+3905402710&4294967295,D=L+(N<<12&4294967295|N>>>20),N=S+(P^D&(L^P))+z[2]+606105819&4294967295,S=D+(N<<17&4294967295|N>>>15),N=P+(L^S&(D^L))+z[3]+3250441966&4294967295,P=S+(N<<22&4294967295|N>>>10),N=L+(D^P&(S^D))+z[4]+4118548399&4294967295,L=P+(N<<7&4294967295|N>>>25),N=D+(S^L&(P^S))+z[5]+1200080426&4294967295,D=L+(N<<12&4294967295|N>>>20),N=S+(P^D&(L^P))+z[6]+2821735955&4294967295,S=D+(N<<17&4294967295|N>>>15),N=P+(L^S&(D^L))+z[7]+4249261313&4294967295,P=S+(N<<22&4294967295|N>>>10),N=L+(D^P&(S^D))+z[8]+1770035416&4294967295,L=P+(N<<7&4294967295|N>>>25),N=D+(S^L&(P^S))+z[9]+2336552879&4294967295,D=L+(N<<12&4294967295|N>>>20),N=S+(P^D&(L^P))+z[10]+4294925233&4294967295,S=D+(N<<17&4294967295|N>>>15),N=P+(L^S&(D^L))+z[11]+2304563134&4294967295,P=S+(N<<22&4294967295|N>>>10),N=L+(D^P&(S^D))+z[12]+1804603682&4294967295,L=P+(N<<7&4294967295|N>>>25),N=D+(S^L&(P^S))+z[13]+4254626195&4294967295,D=L+(N<<12&4294967295|N>>>20),N=S+(P^D&(L^P))+z[14]+2792965006&4294967295,S=D+(N<<17&4294967295|N>>>15),N=P+(L^S&(D^L))+z[15]+1236535329&4294967295,P=S+(N<<22&4294967295|N>>>10),N=L+(S^D&(P^S))+z[1]+4129170786&4294967295,L=P+(N<<5&4294967295|N>>>27),N=D+(P^S&(L^P))+z[6]+3225465664&4294967295,D=L+(N<<9&4294967295|N>>>23),N=S+(L^P&(D^L))+z[11]+643717713&4294967295,S=D+(N<<14&4294967295|N>>>18),N=P+(D^L&(S^D))+z[0]+3921069994&4294967295,P=S+(N<<20&4294967295|N>>>12),N=L+(S^D&(P^S))+z[5]+3593408605&4294967295,L=P+(N<<5&4294967295|N>>>27),N=D+(P^S&(L^P))+z[10]+38016083&4294967295,D=L+(N<<9&4294967295|N>>>23),N=S+(L^P&(D^L))+z[15]+3634488961&4294967295,S=D+(N<<14&4294967295|N>>>18),N=P+(D^L&(S^D))+z[4]+3889429448&4294967295,P=S+(N<<20&4294967295|N>>>12),N=L+(S^D&(P^S))+z[9]+568446438&4294967295,L=P+(N<<5&4294967295|N>>>27),N=D+(P^S&(L^P))+z[14]+3275163606&4294967295,D=L+(N<<9&4294967295|N>>>23),N=S+(L^P&(D^L))+z[3]+4107603335&4294967295,S=D+(N<<14&4294967295|N>>>18),N=P+(D^L&(S^D))+z[8]+1163531501&4294967295,P=S+(N<<20&4294967295|N>>>12),N=L+(S^D&(P^S))+z[13]+2850285829&4294967295,L=P+(N<<5&4294967295|N>>>27),N=D+(P^S&(L^P))+z[2]+4243563512&4294967295,D=L+(N<<9&4294967295|N>>>23),N=S+(L^P&(D^L))+z[7]+1735328473&4294967295,S=D+(N<<14&4294967295|N>>>18),N=P+(D^L&(S^D))+z[12]+2368359562&4294967295,P=S+(N<<20&4294967295|N>>>12),N=L+(P^S^D)+z[5]+4294588738&4294967295,L=P+(N<<4&4294967295|N>>>28),N=D+(L^P^S)+z[8]+2272392833&4294967295,D=L+(N<<11&4294967295|N>>>21),N=S+(D^L^P)+z[11]+1839030562&4294967295,S=D+(N<<16&4294967295|N>>>16),N=P+(S^D^L)+z[14]+4259657740&4294967295,P=S+(N<<23&4294967295|N>>>9),N=L+(P^S^D)+z[1]+2763975236&4294967295,L=P+(N<<4&4294967295|N>>>28),N=D+(L^P^S)+z[4]+1272893353&4294967295,D=L+(N<<11&4294967295|N>>>21),N=S+(D^L^P)+z[7]+4139469664&4294967295,S=D+(N<<16&4294967295|N>>>16),N=P+(S^D^L)+z[10]+3200236656&4294967295,P=S+(N<<23&4294967295|N>>>9),N=L+(P^S^D)+z[13]+681279174&4294967295,L=P+(N<<4&4294967295|N>>>28),N=D+(L^P^S)+z[0]+3936430074&4294967295,D=L+(N<<11&4294967295|N>>>21),N=S+(D^L^P)+z[3]+3572445317&4294967295,S=D+(N<<16&4294967295|N>>>16),N=P+(S^D^L)+z[6]+76029189&4294967295,P=S+(N<<23&4294967295|N>>>9),N=L+(P^S^D)+z[9]+3654602809&4294967295,L=P+(N<<4&4294967295|N>>>28),N=D+(L^P^S)+z[12]+3873151461&4294967295,D=L+(N<<11&4294967295|N>>>21),N=S+(D^L^P)+z[15]+530742520&4294967295,S=D+(N<<16&4294967295|N>>>16),N=P+(S^D^L)+z[2]+3299628645&4294967295,P=S+(N<<23&4294967295|N>>>9),N=L+(S^(P|~D))+z[0]+4096336452&4294967295,L=P+(N<<6&4294967295|N>>>26),N=D+(P^(L|~S))+z[7]+1126891415&4294967295,D=L+(N<<10&4294967295|N>>>22),N=S+(L^(D|~P))+z[14]+2878612391&4294967295,S=D+(N<<15&4294967295|N>>>17),N=P+(D^(S|~L))+z[5]+4237533241&4294967295,P=S+(N<<21&4294967295|N>>>11),N=L+(S^(P|~D))+z[12]+1700485571&4294967295,L=P+(N<<6&4294967295|N>>>26),N=D+(P^(L|~S))+z[3]+2399980690&4294967295,D=L+(N<<10&4294967295|N>>>22),N=S+(L^(D|~P))+z[10]+4293915773&4294967295,S=D+(N<<15&4294967295|N>>>17),N=P+(D^(S|~L))+z[1]+2240044497&4294967295,P=S+(N<<21&4294967295|N>>>11),N=L+(S^(P|~D))+z[8]+1873313359&4294967295,L=P+(N<<6&4294967295|N>>>26),N=D+(P^(L|~S))+z[15]+4264355552&4294967295,D=L+(N<<10&4294967295|N>>>22),N=S+(L^(D|~P))+z[6]+2734768916&4294967295,S=D+(N<<15&4294967295|N>>>17),N=P+(D^(S|~L))+z[13]+1309151649&4294967295,P=S+(N<<21&4294967295|N>>>11),N=L+(S^(P|~D))+z[4]+4149444226&4294967295,L=P+(N<<6&4294967295|N>>>26),N=D+(P^(L|~S))+z[11]+3174756917&4294967295,D=L+(N<<10&4294967295|N>>>22),N=S+(L^(D|~P))+z[2]+718787259&4294967295,S=D+(N<<15&4294967295|N>>>17),N=P+(D^(S|~L))+z[9]+3951481745&4294967295,j.g[0]=j.g[0]+L&4294967295,j.g[1]=j.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+S&4294967295,j.g[3]=j.g[3]+D&4294967295}i.prototype.v=function(j,L){L===void 0&&(L=j.length);const P=L-this.blockSize,z=this.C;let S=this.h,D=0;for(;D<L;){if(S==0)for(;D<=P;)a(this,j,D),D+=this.blockSize;if(typeof j=="string"){for(;D<L;)if(z[S++]=j.charCodeAt(D++),S==this.blockSize){a(this,z),S=0;break}}else for(;D<L;)if(z[S++]=j[D++],S==this.blockSize){a(this,z),S=0;break}}this.h=S,this.o+=L},i.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var L=1;L<j.length-8;++L)j[L]=0;L=this.o*8;for(var P=j.length-8;P<j.length;++P)j[P]=L&255,L/=256;for(this.v(j),j=Array(16),L=0,P=0;P<4;++P)for(let z=0;z<32;z+=8)j[L++]=this.g[P]>>>z&255;return j};function l(j,L){var P=f;return Object.prototype.hasOwnProperty.call(P,j)?P[j]:P[j]=L(j)}function c(j,L){this.h=L;const P=[];let z=!0;for(let S=j.length-1;S>=0;S--){const D=j[S]|0;z&&D==L||(P[S]=D,z=!1)}this.g=P}var f={};function m(j){return-128<=j&&j<128?l(j,function(L){return new c([L|0],L<0?-1:0)}):new c([j|0],j<0?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return E;if(j<0)return k(g(-j));const L=[];let P=1;for(let z=0;j>=P;z++)L[z]=j/P|0,P*=4294967296;return new c(L,0)}function _(j,L){if(j.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(j.charAt(0)=="-")return k(_(j.substring(1),L));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=g(Math.pow(L,8));let z=E;for(let D=0;D<j.length;D+=8){var S=Math.min(8,j.length-D);const N=parseInt(j.substring(D,D+S),L);S<8?(S=g(Math.pow(L,S)),z=z.j(S).add(g(N))):(z=z.j(P),z=z.add(g(N)))}return z}var E=m(0),w=m(1),x=m(16777216);n=c.prototype,n.m=function(){if(M(this))return-k(this).m();let j=0,L=1;for(let P=0;P<this.g.length;P++){const z=this.i(P);j+=(z>=0?z:4294967296+z)*L,L*=4294967296}return j},n.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(O(this))return"0";if(M(this))return"-"+k(this).toString(j);const L=g(Math.pow(j,6));var P=this;let z="";for(;;){const S=be(P,L).g;P=F(P,S.j(L));let D=((P.g.length>0?P.g[0]:P.h)>>>0).toString(j);if(P=S,O(P))return D+z;for(;D.length<6;)D="0"+D;z=D+z}},n.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function O(j){if(j.h!=0)return!1;for(let L=0;L<j.g.length;L++)if(j.g[L]!=0)return!1;return!0}function M(j){return j.h==-1}n.l=function(j){return j=F(this,j),M(j)?-1:O(j)?0:1};function k(j){const L=j.g.length,P=[];for(let z=0;z<L;z++)P[z]=~j.g[z];return new c(P,~j.h).add(w)}n.abs=function(){return M(this)?k(this):this},n.add=function(j){const L=Math.max(this.g.length,j.g.length),P=[];let z=0;for(let S=0;S<=L;S++){let D=z+(this.i(S)&65535)+(j.i(S)&65535),N=(D>>>16)+(this.i(S)>>>16)+(j.i(S)>>>16);z=N>>>16,D&=65535,N&=65535,P[S]=N<<16|D}return new c(P,P[P.length-1]&-2147483648?-1:0)};function F(j,L){return j.add(k(L))}n.j=function(j){if(O(this)||O(j))return E;if(M(this))return M(j)?k(this).j(k(j)):k(k(this).j(j));if(M(j))return k(this.j(k(j)));if(this.l(x)<0&&j.l(x)<0)return g(this.m()*j.m());const L=this.g.length+j.g.length,P=[];for(var z=0;z<2*L;z++)P[z]=0;for(z=0;z<this.g.length;z++)for(let S=0;S<j.g.length;S++){const D=this.i(z)>>>16,N=this.i(z)&65535,me=j.i(S)>>>16,de=j.i(S)&65535;P[2*z+2*S]+=N*de,K(P,2*z+2*S),P[2*z+2*S+1]+=D*de,K(P,2*z+2*S+1),P[2*z+2*S+1]+=N*me,K(P,2*z+2*S+1),P[2*z+2*S+2]+=D*me,K(P,2*z+2*S+2)}for(j=0;j<L;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=L;j<2*L;j++)P[j]=0;return new c(P,0)};function K(j,L){for(;(j[L]&65535)!=j[L];)j[L+1]+=j[L]>>>16,j[L]&=65535,L++}function re(j,L){this.g=j,this.h=L}function be(j,L){if(O(L))throw Error("division by zero");if(O(j))return new re(E,E);if(M(j))return L=be(k(j),L),new re(k(L.g),k(L.h));if(M(L))return L=be(j,k(L)),new re(k(L.g),L.h);if(j.g.length>30){if(M(j)||M(L))throw Error("slowDivide_ only works with positive integers.");for(var P=w,z=L;z.l(j)<=0;)P=ve(P),z=ve(z);var S=we(P,1),D=we(z,1);for(z=we(z,2),P=we(P,2);!O(z);){var N=D.add(z);N.l(j)<=0&&(S=S.add(P),D=N),z=we(z,1),P=we(P,1)}return L=F(j,S.j(L)),new re(S,L)}for(S=E;j.l(L)>=0;){for(P=Math.max(1,Math.floor(j.m()/L.m())),z=Math.ceil(Math.log(P)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),D=g(P),N=D.j(L);M(N)||N.l(j)>0;)P-=z,D=g(P),N=D.j(L);O(D)&&(D=w),S=S.add(D),j=F(j,N)}return new re(S,j)}n.B=function(j){return be(this,j).h},n.and=function(j){const L=Math.max(this.g.length,j.g.length),P=[];for(let z=0;z<L;z++)P[z]=this.i(z)&j.i(z);return new c(P,this.h&j.h)},n.or=function(j){const L=Math.max(this.g.length,j.g.length),P=[];for(let z=0;z<L;z++)P[z]=this.i(z)|j.i(z);return new c(P,this.h|j.h)},n.xor=function(j){const L=Math.max(this.g.length,j.g.length),P=[];for(let z=0;z<L;z++)P[z]=this.i(z)^j.i(z);return new c(P,this.h^j.h)};function ve(j){const L=j.g.length+1,P=[];for(let z=0;z<L;z++)P[z]=j.i(z)<<1|j.i(z-1)>>>31;return new c(P,j.h)}function we(j,L){const P=L>>5;L%=32;const z=j.g.length-P,S=[];for(let D=0;D<z;D++)S[D]=L>0?j.i(D+P)>>>L|j.i(D+P+1)<<32-L:j.i(D+P);return new c(S,j.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,PA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ho=c}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VA,Nc,UA,ad,ey,qA,BA,zA;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pf=="object"&&Pf];for(var y=0;y<h.length;++y){var A=h[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var A=i;h=h.split(".");for(var I=0;I<h.length-1;I++){var Y=h[I];if(!(Y in A))break e;A=A[Y]}h=h[h.length-1],I=A[h],y=y(I),y!=I&&y!=null&&e(A,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var A=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&A.push([I,y[I]]);return A}});var l=l||{},c=this||self;function f(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,A){return h.call.apply(h.bind,arguments)}function g(h,y,A){return g=m,g.apply(null,arguments)}function _(h,y){var A=Array.prototype.slice.call(arguments,1);return function(){var I=A.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function E(h,y){function A(){}A.prototype=y.prototype,h.Z=y.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(I,Y,te){for(var _e=Array(arguments.length-2),He=2;He<arguments.length;He++)_e[He-2]=arguments[He];return y.prototype[Y].apply(I,_e)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const A=Array(y);for(let I=0;I<y;I++)A[I]=h[I];return A}return[]}function O(h,y){for(let I=1;I<arguments.length;I++){const Y=arguments[I];var A=typeof Y;if(A=A!="object"?A:Y?Array.isArray(Y)?"array":A:"null",A=="array"||A=="object"&&typeof Y.length=="number"){A=h.length||0;const te=Y.length||0;h.length=A+te;for(let _e=0;_e<te;_e++)h[A+_e]=Y[_e]}else h.push(Y)}}class M{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(h){c.setTimeout(()=>{throw h},0)}function F(){var h=j;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,A){const I=re.get();I.set(y,A),this.h?this.h.next=I:this.g=I,this.h=I}}var re=new M(()=>new be,h=>h.reset());class be{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,we=!1,j=new K,L=()=>{const h=Promise.resolve(void 0);ve=()=>{h.then(P)}};function P(){for(var h;h=F();){try{h.h.call(h.g)}catch(A){k(A)}var y=re;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}we=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};c.addEventListener("test",A,y),c.removeEventListener("test",A,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function me(h,y){S.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(me,S),me.prototype.init=function(h,y){const A=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(A=="mouseover"?y=h.fromElement:A=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),B=0;function Z(h,y,A,I,Y){this.listener=h,this.proxy=null,this.src=y,this.type=A,this.capture=!!I,this.ha=Y,this.key=++B,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,y,A){for(const I in h)y.call(A,h[I],I,h)}function ge(h,y){for(const A in h)y.call(void 0,h[A],A,h)}function V(h){const y={};for(const A in h)y[A]=h[A];return y}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,y){let A,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(A in I)h[A]=I[A];for(let te=0;te<Q.length;te++)A=Q[te],Object.prototype.hasOwnProperty.call(I,A)&&(h[A]=I[A])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,y,A,I,Y){const te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);const _e=Ae(h,y,I,Y);return _e>-1?(y=h[_e],A||(y.fa=!1)):(y=new Z(y,this.src,te,!!I,Y),y.fa=A,h.push(y)),y};function pe(h,y){const A=y.type;if(A in h.g){var I=h.g[A],Y=Array.prototype.indexOf.call(I,y,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(I,Y,1),te&&(le(y),h.g[A].length==0&&(delete h.g[A],h.h--))}}function Ae(h,y,A,I){for(let Y=0;Y<h.length;++Y){const te=h[Y];if(!te.da&&te.listener==y&&te.capture==!!A&&te.ha==I)return Y}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Ie={};function Le(h,y,A,I,Y){if(Array.isArray(y)){for(let te=0;te<y.length;te++)Le(h,y[te],A,I,Y);return null}return A=Is(A),h&&h[de]?h.J(y,A,f(I)?!!I.capture:!1,Y):Ke(h,y,A,!1,I,Y)}function Ke(h,y,A,I,Y,te){if(!y)throw Error("Invalid event type");const _e=f(Y)?!!Y.capture:!!Y;let He=Mr(h);if(He||(h[De]=He=new fe(h)),A=He.add(y,A,I,_e,te),A.proxy)return A;if(I=Xe(),A.proxy=I,I.src=h,I.listener=A,h.addEventListener)D||(Y=_e),Y===void 0&&(Y=!1),h.addEventListener(y.toString(),I,Y);else if(h.attachEvent)h.attachEvent(ft(y.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Xe(){function h(A){return y.call(h.src,h.listener,A)}const y=Xt;return h}function et(h,y,A,I,Y){if(Array.isArray(y))for(var te=0;te<y.length;te++)et(h,y[te],A,I,Y);else I=f(I)?!!I.capture:!!I,A=Is(A),h&&h[de]?(h=h.i,te=String(y).toString(),te in h.g&&(y=h.g[te],A=Ae(y,A,I,Y),A>-1&&(le(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete h.g[te],h.h--)))):h&&(h=Mr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ae(y,A,I,Y)),(A=h>-1?y[h]:null)&&at(A))}function at(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[de])pe(y.i,h);else{var A=h.type,I=h.proxy;y.removeEventListener?y.removeEventListener(A,I,h.capture):y.detachEvent?y.detachEvent(ft(A),I):y.addListener&&y.removeListener&&y.removeListener(I),(A=Mr(y))?(pe(A,h),A.h==0&&(A.src=null,y[De]=null)):le(h)}}}function ft(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function Xt(h,y){if(h.da)h=!0;else{y=new me(y,this);const A=h.listener,I=h.ha||h.src;h.fa&&at(h),h=A.call(I,y)}return h}function Mr(h){return h=h[De],h instanceof fe?h:null}var ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function Is(h){return typeof h=="function"?h:(h[ns]||(h[ns]=function(y){return h.handleEvent(y)}),h[ns])}function Vt(){z.call(this),this.i=new fe(this),this.M=this,this.G=null}E(Vt,z),Vt.prototype[de]=!0,Vt.prototype.removeEventListener=function(h,y,A,I){et(this,h,y,A,I)};function xt(h,y){var A,I=h.G;if(I)for(A=[];I;I=I.G)A.push(I);if(h=h.M,I=y.type||y,typeof y=="string")y=new S(y,h);else if(y instanceof S)y.target=y.target||h;else{var Y=y;y=new S(I,h),ce(y,Y)}Y=!0;let te,_e;if(A)for(_e=A.length-1;_e>=0;_e--)te=y.g=A[_e],Y=yr(te,I,!0,y)&&Y;if(te=y.g=h,Y=yr(te,I,!0,y)&&Y,Y=yr(te,I,!1,y)&&Y,A)for(_e=0;_e<A.length;_e++)te=y.g=A[_e],Y=yr(te,I,!1,y)&&Y}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const A=h.g[y];for(let I=0;I<A.length;I++)le(A[I]);delete h.g[y],h.h--}}this.G=null},Vt.prototype.J=function(h,y,A,I){return this.i.add(String(h),y,!1,A,I)},Vt.prototype.K=function(h,y,A,I){return this.i.add(String(h),y,!0,A,I)};function yr(h,y,A,I){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let te=0;te<y.length;++te){const _e=y[te];if(_e&&!_e.da&&_e.capture==A){const He=_e.listener,sn=_e.ha||_e.src;_e.fa&&pe(h.i,_e),Y=He.call(sn,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function xa(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Os(h){h.g=xa(()=>{h.g=null,h.i&&(h.i=!1,Os(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class St extends z{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(h){z.call(this),this.h=h,this.g={}}E(vr,z);var Ds=[];function kr(h){ye(h.g,function(y,A){this.g.hasOwnProperty(A)&&at(y)},h),h.g={}}vr.prototype.N=function(){vr.Z.N.call(this),kr(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=c.JSON.stringify,Ls=c.JSON.parse,Cn=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ms(){}function ks(){}var or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){S.call(this,"d")}E(Kt,S);function vn(){S.call(this,"c")}E(vn,S);var Nt={},Ii=null;function br(){return Ii=Ii||new Vt}Nt.Ia="serverreachability";function $n(h){S.call(this,Nt.Ia,h)}E($n,S);function Rn(h){const y=br();xt(y,new $n(y))}Nt.STAT_EVENT="statevent";function jr(h,y){S.call(this,Nt.STAT_EVENT,h),this.stat=y}E(jr,S);function bt(h){const y=br();xt(y,new jr(y,h))}Nt.Ja="timingevent";function Kn(h,y){S.call(this,Nt.Ja,h),this.size=y}E(Kn,S);function wn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function js(h,y,A,I,Y,te){h.info(function(){if(h.g)if(te){var _e="",He=te.split("&");for(let dt=0;dt<He.length;dt++){var sn=He[dt].split("=");if(sn.length>1){const Ft=sn[0];sn=sn[1];const hi=Ft.split("_");_e=hi.length>=2&&hi[1]=="type"?_e+(Ft+"="+sn+"&"):_e+(Ft+"=redacted&")}}}else _e=null;else _e=te;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+y+`
`+A+`
`+_e})}function rs(h,y,A,I,Y,te,_e){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+y+`
`+A+`
`+te+" "+_e})}function bn(h,y,A,I){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pr(h,A)+(I?" "+I:"")})}function ni(h,y){h.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function Pr(h,y){if(!h.g)return y;if(!y)return null;try{const te=JSON.parse(y);if(te){for(h=0;h<te.length;h++)if(Array.isArray(te[h])){var A=te[h];if(!(A.length<2)){var I=A[1];if(Array.isArray(I)&&!(I.length<1)){var Y=I[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let _e=1;_e<I.length;_e++)I[_e]=""}}}}return ar(te)}catch{return y}}var Oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ps={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vs;function ri(){}E(ri,Ms),ri.prototype.g=function(){return new XMLHttpRequest},Vs=new ri;function lr(h){return encodeURIComponent(String(h))}function Wt(h){var y=1;h=h.split(":");const A=[];for(;y>0&&h.length;)A.push(h.shift()),y--;return h.length&&A.push(h.join(":")),A}function ur(h,y,A,I){this.j=h,this.i=y,this.l=A,this.S=I||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new cr}function cr(){this.i=null,this.g="",this.h=!1}var Ut={},Zt={};function _r(h,y,A){h.M=1,h.A=si(Bt(y)),h.u=A,h.R=!0,Yt(h,null)}function Yt(h,y){h.F=Date.now(),Er(h),h.B=Bt(h.A);var A=h.B,I=h.S;Array.isArray(I)||(I=[String(I)]),ls(A.i,"t",I),h.C=0,A=h.j.L,h.h=new cr,h.g=Nh(h.j,A?y:null,!h.u),h.P>0&&(h.O=new St(g(h.Y,h,h.g),h.P)),y=h.V,A=h.g,I=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ds[0]=Y.toString()),Y=Ds);for(let te=0;te<Y.length;te++){const _e=Le(A,Y[te],I||y.handleEvent,!1,y.h||y);if(!_e)break;y.g[_e.key]=_e}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Rn(),js(h.i,h.v,h.B,h.l,h.S,h.u)}ur.prototype.ba=function(h){h=h.target;const y=this.O;y&&U(h)==3?y.j():this.Y(h)},ur.prototype.Y=function(h){try{if(h==this.g)e:{const He=U(this.g),sn=this.g.ya(),dt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||ee(this.g)))){this.K||He!=4||sn==7||(sn==8||dt<=0?Rn(3):Rn(2)),It(this);var y=this.g.ca();this.X=y;var A=Ro(this);if(this.o=y==200,rs(this.i,this.v,this.B,this.l,this.S,He,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,Y=this.g;if((I=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(I)){var te=I;break t}}te=null}if(h=te)bn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tr(this,h);else{this.o=!1,this.m=3,bt(12),On(this),Yn(this);break e}}if(this.R){h=!0;let Ft;for(;!this.K&&this.C<A.length;)if(Ft=Na(this,A),Ft==Zt){He==4&&(this.m=4,bt(14),h=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ut){this.m=4,bt(15),bn(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else bn(this.i,this.l,Ft,null),Tr(this,Ft);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||A.length!=0||this.h.h||(this.m=1,bt(16),h=!1),this.o=this.o&&h,!h)bn(this.i,this.l,A,"[Invalid Chunked Response]"),On(this),Yn(this);else if(A.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Hr(_e),_e.P=!0,bt(11))}}else bn(this.i,this.l,A,null),Tr(this,A);He==4&&On(this),this.o&&!this.K&&(He==4?Fs(this.j,this):(this.o=!1,Er(this)))}else je(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),On(this),Yn(this)}}}catch{}finally{}};function Ro(h){if(!Sa(h))return h.g.la();const y=ee(h.g);if(y==="")return"";let A="";const I=y.length,Y=U(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return On(h),Yn(h),"";h.h.i=new c.TextDecoder}for(let te=0;te<I;te++)h.h.h=!0,A+=h.h.i.decode(y[te],{stream:!(Y&&te==I-1)});return y.length=0,h.h.g+=A,h.C=0,h.h.g}function Sa(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Na(h,y){var A=h.C,I=y.indexOf(`
`,A);return I==-1?Zt:(A=Number(y.substring(A,I)),isNaN(A)?Ut:(I+=1,I+A>y.length?Zt:(y=y.slice(I,I+A),h.C=I+A,y)))}ur.prototype.cancel=function(){this.K=!0,On(this)};function Er(h){h.T=Date.now()+h.H,is(h,h.H)}function is(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wn(g(h.aa,h),y)}function It(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ur.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ni(this.i,this.B),this.M!=2&&(Rn(),bt(17)),On(this),this.m=2,Yn(this)):is(this,this.T-h)};function Yn(h){h.j.I==0||h.K||Fs(h.j,h)}function On(h){It(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,kr(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Tr(h,y){try{var A=h.j;if(A.I!=0&&(A.g==h||Dn(A.h,h))){if(!h.L&&Dn(A.h,h)&&A.I==3){try{var I=A.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)ji(A),gt(A);else break e;jn(A),bt(18)}}else A.xa=Y[1],0<A.xa-A.K&&Y[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=wn(g(A.Va,A),6e3));hr(A.h)<=1&&A.ta&&(A.ta=void 0)}else cs(A,11)}else if((h.L||A.g==h)&&ji(A),!N(y))for(Y=A.Ba.g.parse(y),y=0;y<Y.length;y++){let dt=Y[y];const Ft=dt[0];if(!(Ft<=A.K))if(A.K=Ft,dt=dt[1],A.I==2)if(dt[0]=="c"){A.M=dt[1],A.ba=dt[2];const hi=dt[3];hi!=null&&(A.ka=hi,A.j.info("VER="+A.ka));const hs=dt[4];hs!=null&&(A.za=hs,A.j.info("SVER="+A.za));const Pi=dt[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(I=1.5*Pi,A.O=I,A.j.info("backChannelRequestTimeoutMs_="+I)),I=A;const Vi=h.g;if(Vi){const Oo=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oo){var te=I.h;te.g||Oo.indexOf("spdy")==-1&&Oo.indexOf("quic")==-1&&Oo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Qn(te,te.h),te.h=null))}if(I.G){const Tl=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(I.wa=Tl,lt(I.J,I.G,Tl))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),I=A;var _e=h;if(I.na=Sh(I,I.L?I.ba:null,I.W),_e.L){Di(I.h,_e);var He=_e,sn=I.O;sn&&(He.H=sn),He.D&&(It(He),Er(He)),I.g=_e}else zr(I);A.i.length>0&&wt(A)}else dt[0]!="stop"&&dt[0]!="close"||cs(A,7);else A.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?cs(A,7):Qe(A):dt[0]!="noop"&&A.l&&A.l.qa(dt),A.A=0)}}Rn(4)}catch{}}var qt=class{constructor(h,y){this.g=h,this.map=y}};function Us(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ii(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function hr(h){return h.h?1:h.g?h.g.size:0}function Dn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Qn(h,y){h.g?h.g.add(y):h.h=y}function Di(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Us.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function qs(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const A of h.g.values())y=y.concat(A.G);return y}return x(h.i)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ss(h,y){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const I=h[A].indexOf("=");let Y,te=null;I>=0?(Y=h[A].substring(0,I),te=h[A].substring(I+1)):Y=h[A],y(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Ln?(this.l=h.l,Ot(this,h.j),this.o=h.o,this.g=h.g,wr(this,h.u),this.h=h.h,Vr(this,Ra(h.i)),this.m=h.m):h&&(y=String(h).match(Ca))?(this.l=!1,Ot(this,y[1]||"",!0),this.o=Ar(y[2]||""),this.g=Ar(y[3]||"",!0),wr(this,y[4]),this.h=Ar(y[5]||"",!0),Vr(this,y[6]||"",!0),this.m=Ar(y[7]||"")):(this.l=!1,this.i=new un(null,this.l))}Ln.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Li(y,as,!0),":");var A=this.g;return(A||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Li(y,as,!0),"@"),h.push(lr(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(Li(A,A.charAt(0)=="/"?Bs:os,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",Li(A,oi)),h.join("")},Ln.prototype.resolve=function(h){const y=Bt(this);let A=!!h.j;A?Ot(y,h.j):A=!!h.o,A?y.o=h.o:A=!!h.g,A?y.g=h.g:A=h.u!=null;var I=h.h;if(A)wr(y,h.u);else if(A=!!h.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(I=y.h.slice(0,Y+1)+I)}if(Y=I,Y==".."||Y==".")I="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){I=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let _e=0;_e<Y.length;){const He=Y[_e++];He=="."?I&&_e==Y.length&&te.push(""):He==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),I&&_e==Y.length&&te.push("")):(te.push(He),I=!0)}I=te.join("/")}else I=Y}return A?y.h=I:A=h.i.toString()!=="",A?Vr(y,Ra(h.i)):A=!!h.m,A&&(y.m=h.m),y};function Bt(h){return new Ln(h)}function Ot(h,y,A){h.j=A?Ar(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function wr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Vr(h,y,A){y instanceof un?(h.i=y,us(h.i,h.l)):(A||(y=Li(y,ai)),h.i=new un(y,h.l))}function lt(h,y,A){h.i.set(y,A)}function si(h){return lt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ar(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Li(h,y,A){return typeof h=="string"?(h=encodeURI(h).replace(y,An),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function An(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var as=/[#\/\?@]/g,os=/[#\?:]/g,Bs=/[#\?]/g,ai=/[#\?@]/g,oi=/#/g;function un(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function zt(h){h.g||(h.g=new Map,h.h=0,h.i&&ss(h.i,function(y,A){h.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}n=un.prototype,n.add=function(h,y){zt(this),this.i=null,h=li(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(y),this.h+=1,this};function xr(h,y){zt(h),y=li(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function zs(h,y){return zt(h),y=li(h,y),h.g.has(y)}n.forEach=function(h,y){zt(this),this.g.forEach(function(A,I){A.forEach(function(Y){h.call(y,Y,I,this)},this)},this)};function Xn(h,y){zt(h);let A=[];if(typeof y=="string")zs(h,y)&&(A=A.concat(h.g.get(li(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)A=A.concat(h[y]);return A}n.set=function(h,y){return zt(this),this.i=null,h=li(this,h),zs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Xn(this,h),h.length>0?String(h[0]):y):y};function ls(h,y,A){xr(h,y),A.length>0&&(h.i=null,h.g.set(li(h,y),x(A)),h.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var A=y[I];const Y=lr(A);A=Xn(this,A);for(let te=0;te<A.length;te++){let _e=Y;A[te]!==""&&(_e+="="+lr(A[te])),h.push(_e)}}return this.i=h.join("&")};function Ra(h){const y=new un;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function li(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function us(h,y){y&&!h.j&&(zt(h),h.i=null,h.g.forEach(function(A,I){const Y=I.toLowerCase();I!=Y&&(xr(this,I),ls(this,Y,A))},h)),h.j=y}function Wn(h,y){const A=new In;if(c.Image){const I=new Image;I.onload=_(Mn,A,"TestLoadImage: loaded",!0,y,I),I.onerror=_(Mn,A,"TestLoadImage: error",!1,y,I),I.onabort=_(Mn,A,"TestLoadImage: abort",!1,y,I),I.ontimeout=_(Mn,A,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else y(!1)}function nn(h,y){const A=new In,I=new AbortController,Y=setTimeout(()=>{I.abort(),Mn(A,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:I.signal}).then(te=>{clearTimeout(Y),te.ok?Mn(A,"TestPingServer: ok",!0,y):Mn(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Mn(A,"TestPingServer: error",!1,y)})}function Mn(h,y,A,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(A)}catch{}}function Ur(){this.g=new Cn}function kn(h){this.i=h.Sb||null,this.h=h.ab||!1}E(kn,Ms),kn.prototype.g=function(){return new qr(this.i,this.h)};function qr(h,y){Vt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(qr,Vt),n=qr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Zn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Br(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Br(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ui(this):Zn(this),this.readyState==3&&Br(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ui(this))},n.Na=function(h){this.g&&(this.response=h,ui(this))},n.ga=function(){this.g&&ui(this)};function ui(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=y.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xn(h){let y="";return ye(h,function(A,I){y+=I,y+=":",y+=A,y+=`\r
`}),y}function ci(h,y,A){e:{for(I in A){var I=!1;break e}I=!0}I||(A=xn(A),typeof h=="string"?A!=null&&lr(A):lt(h,y,A))}function Ye(h){Vt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,Vt);var fr=/^https?$/i,Mi=["POST","PUT"];n=Ye.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,A,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vs.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(te){ki(this,te);return}if(h=A||"",A=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)A.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())A.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(A.keys()).find(te=>te.toLowerCase()=="content-type"),Y=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Mi,y,void 0)>=0)||I||Y||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of A)this.g.setRequestHeader(te,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(te){ki(this,te)}};function ki(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Hs(h),R(h)}function Hs(h){h.A||(h.A=!0,xt(h,"complete"),xt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xt(this,"complete"),xt(this,"abort"),R(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),R(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?v(this):this.Xa())},n.Xa=function(){v(this)};function v(h){if(h.h&&typeof l<"u"){if(h.v&&U(h)==4)setTimeout(h.Ca.bind(h),0);else if(xt(h,"readystatechange"),U(h)==4){h.h=!1;try{const te=h.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var I;if(I=te===0){let _e=String(h.D).match(Ca)[1]||null;!_e&&c.self&&c.self.location&&(_e=c.self.location.protocol.slice(0,-1)),I=!fr.test(_e?_e.toLowerCase():"")}A=I}if(A)xt(h,"complete"),xt(h,"success");else{h.o=6;try{var Y=U(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",Hs(h)}}finally{R(h)}}}}function R(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,y||xt(h,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function U(h){return h.g?h.g.readyState:0}n.ca=function(){try{return U(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ls(y)}};function ee(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function je(h){const y={};h=(h.g&&U(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(N(h[I]))continue;var A=Wt(h[I]);const Y=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const te=y[Y]||[];y[Y]=te,te.push(A)}ge(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xe(h,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||y}function Ge(h){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xe("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xe("baseRetryDelayMs",5e3,h),this.Za=xe("retryDelaySeedMs",1e4,h),this.Ta=xe("forwardChannelMaxRetries",2,h),this.va=xe("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Us(h&&h.concurrentRequestLimit),this.Ba=new Ur,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ge.prototype,n.ka=8,n.I=1,n.connect=function(h,y,A,I){bt(0),this.W=h,this.H=y||{},A&&I!==void 0&&(this.H.OSID=A,this.H.OAID=I),this.F=this.X,this.J=Sh(this,null,this.W),wt(this)};function Qe(h){if(We(h),h.I==3){var y=h.V++,A=Bt(h.J);if(lt(A,"SID",h.M),lt(A,"RID",y),lt(A,"TYPE","terminate"),Ht(h,A),y=new ur(h,h.j,y),y.M=2,y.A=si(Bt(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=y.A,A=!0),A||(y.g=Nh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Er(y)}xh(h)}function gt(h){h.g&&(Hr(h),h.g.cancel(),h.g=null)}function We(h){gt(h),h.v&&(c.clearTimeout(h.v),h.v=null),ji(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function wt(h){if(!ii(h.h)&&!h.m){h.m=!0;var y=h.Ea;ve||L(),we||(ve(),we=!0),j.add(y,h),h.D=0}}function rn(h,y){return hr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wn(g(h.Ea,h,y),Ah(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new ur(this,this.j,h);let te=this.o;if(this.U&&(te?(te=V(te),ce(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var I=this.i[A];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Jt(this,Y,y),A=Bt(this.J),lt(A,"RID",h),lt(A,"CVER",22),this.G&&lt(A,"X-HTTP-Session-Id",this.G),Ht(this,A),te&&(this.R?y="headers="+lr(xn(te))+"&"+y:this.u&&ci(A,this.u,te)),Qn(this.h,Y),this.Ra&&lt(A,"TYPE","init"),this.S?(lt(A,"$req",y),lt(A,"SID","null"),Y.U=!0,_r(Y,A,null)):_r(Y,A,y),this.I=2}}else this.I==3&&(h?Dt(this,h):this.i.length==0||ii(this.h)||Dt(this))};function Dt(h,y){var A;y?A=y.l:A=h.V++;const I=Bt(h.J);lt(I,"SID",h.M),lt(I,"RID",A),lt(I,"AID",h.K),Ht(h,I),h.u&&h.o&&ci(I,h.u,h.o),A=new ur(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Jt(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Qn(h.h,A),_r(A,I,y)}function Ht(h,y){h.H&&ye(h.H,function(A,I){lt(y,I,A)}),h.l&&ye({},function(A,I){lt(y,I,A)})}function Jt(h,y,A){A=Math.min(h.i.length,A);const I=h.l?g(h.l.Ka,h.l,h):null;e:{var Y=h.i;let He=-1;for(;;){const sn=["count="+A];He==-1?A>0?(He=Y[0].g,sn.push("ofs="+He)):He=0:sn.push("ofs="+He);let dt=!0;for(let Ft=0;Ft<A;Ft++){var te=Y[Ft].g;const hi=Y[Ft].map;if(te-=He,te<0)He=Math.max(0,Y[Ft].g-100),dt=!1;else try{te="req"+te+"_"||"";try{var _e=hi instanceof Map?hi:Object.entries(hi);for(const[hs,Pi]of _e){let Vi=Pi;f(Pi)&&(Vi=ar(Pi)),sn.push(te+hs+"="+encodeURIComponent(Vi))}}catch(hs){throw sn.push(te+"type="+encodeURIComponent("_badmap")),hs}}catch{I&&I(hi)}}if(dt){_e=sn.join("&");break e}}_e=void 0}return h=h.i.splice(0,A),y.G=h,_e}function zr(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ve||L(),we||(ve(),we=!0),j.add(y,h),h.A=0}}function jn(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wn(g(h.Da,h),Ah(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wn(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),gt(this),Io(this))};function Hr(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Io(h){h.g=new ur(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Bt(h.na);lt(y,"RID","rpc"),lt(y,"SID",h.M),lt(y,"AID",h.K),lt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&lt(y,"TO",h.ia),lt(y,"TYPE","xmlhttp"),Ht(h,y),h.u&&h.o&&ci(y,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=si(Bt(y)),A.u=null,A.R=!0,Yt(A,h)}n.Va=function(){this.C!=null&&(this.C=null,gt(this),jn(this),bt(19))};function ji(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Fs(h,y){var A=null;if(h.g==y){ji(h),Hr(h),h.g=null;var I=2}else if(Dn(h.h,y))A=y.G,Di(h.h,y),I=1;else return;if(h.I!=0){if(y.o)if(I==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var Y=h.D;I=br(),xt(I,new Kn(I,A)),wt(h)}else zr(h);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(I==1&&rn(h,y)||I==2&&jn(h)))switch(A&&A.length>0&&(y=h.h,y.i=y.i.concat(A)),Y){case 1:cs(h,5);break;case 4:cs(h,10);break;case 3:cs(h,6);break;default:cs(h,2)}}}function Ah(h,y){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*y}function cs(h,y){if(h.j.info("Error code "+y),y==2){var A=g(h.bb,h),I=h.Ua;const Y=!I;I=new Ln(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ot(I,"https"),si(I),Y?Wn(I.toString(),A):nn(I.toString(),A)}else bt(2);h.I=0,h.l&&h.l.pa(y),xh(h),We(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function xh(h){if(h.I=0,h.ja=[],h.l){const y=qs(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ja,y),O(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function Sh(h,y,A){var I=A instanceof Ln?Bt(A):new Ln(A);if(I.g!="")y&&(I.g=y+"."+I.g),wr(I,I.u);else{var Y=c.location;I=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new Ln(null);I&&Ot(te,I),y&&(te.g=y),Y&&wr(te,Y),A&&(te.h=A),I=te}return A=h.G,y=h.wa,A&&y&&lt(I,A,y),lt(I,"VER",h.ka),Ht(h,I),I}function Nh(h,y,A){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ye(new kn({ab:A})):new Ye(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ch(){}n=Ch.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ia(){}Ia.prototype.g=function(h,y){return new dr(h,y)};function dr(h,y){Vt.call(this),this.g=new Ge(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Gs(this)}E(dr,Vt),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){Qe(this.g)},dr.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=ar(h),h=A);y.i.push(new qt(y.Ya++,h)),y.I==3&&wt(y)},dr.prototype.N=function(){this.g.l=null,delete this.j,Qe(this.g),delete this.g,dr.Z.N.call(this)};function Rh(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const A in y){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Rh,Kt);function Ih(){vn.call(this),this.status=1}E(Ih,vn);function Gs(h){this.g=h}E(Gs,Ch),Gs.prototype.ra=function(){xt(this.g,"a")},Gs.prototype.qa=function(h){xt(this.g,new Rh(h))},Gs.prototype.pa=function(h){xt(this.g,new Ih)},Gs.prototype.oa=function(){xt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,zA=function(){return new Ia},BA=function(){return br()},qA=Nt,ey={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,ad=Oi,Ps.COMPLETE="complete",UA=Ps,ks.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Nc=ks,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,VA=Ye}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",_E="4.9.2";class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let Iu="12.3.0";const tl=new zy("@firebase/firestore");function Zl(){return tl.logLevel}function Te(n,...e){if(tl.logLevel<=rt.DEBUG){const t=e.map(n0);tl.debug(`Firestore (${Iu}): ${n}`,...t)}}function ga(n,...e){if(tl.logLevel<=rt.ERROR){const t=e.map(n0);tl.error(`Firestore (${Iu}): ${n}`,...t)}}function yu(n,...e){if(tl.logLevel<=rt.WARN){const t=e.map(n0);tl.warn(`Firestore (${Iu}): ${n}`,...t)}}function n0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ue(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,HA(n,i,t)}function HA(n,e,t){let i=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ga(i),new Error(i)}function pt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||HA(e,a,i)}function ze(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ea{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class FA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tr.UNAUTHENTICATED)))}shutdown(){}}class U3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class q3{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fa,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fa)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new FA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class B3{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z3{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new B3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new EE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new EE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function F3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class r0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=F3(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function it(n,e){return n<e?-1:n>e?1:0}function ty(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return Tg(a)===Tg(l)?it(a,l):Tg(a)?1:-1}return it(n.length,e.length)}const G3=55296,$3=57343;function Tg(n){const e=n.charCodeAt(0);return e>=G3&&e<=$3}function vu(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}const TE="__name__";class ys{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ue(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ys.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return it(e.length,t.length)}static compareSegments(e,t){const i=ys.isNumericId(e),a=ys.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ys.extractNumericId(e).compare(ys.extractNumericId(t)):ty(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class Rt extends ys{construct(e,t,i){return new Rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Rt(t)}static emptyPath(){return new Rt([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends ys{construct(e,t,i){return new Hn(e,t,i)}static isValidIdentifier(e){return K3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TE}static keyField(){return new Hn([TE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Rt.fromString(e))}static fromName(e){return new ke(Rt.fromString(e).popFirst(5))}static empty(){return new ke(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Rt(e.slice()))}}function GA(n,e,t){if(!t)throw new Ee(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Y3(n,e,t,i){if(e===!0&&i===!0)throw new Ee(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wE(n){if(!ke.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AE(n){if(ke.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $A(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function ya(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fd(n);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gn(n,e){const t={typeString:n};return e&&(t.value=e),t}function dh(n,e){if(!$A(n))throw new Ee(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new Ee(oe.INVALID_ARGUMENT,t);return!0}const xE=-62135596800,SE=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*SE);return new jt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xE)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:gn("string",jt._jsonSchemaVersion),seconds:gn("number"),nanoseconds:gn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new jt(0,0))}static max(){return new qe(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gc=-1;function Q3(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(i===1e9?new jt(t+1,0):new jt(t,i));return new go(a,ke.empty(),e)}function X3(n){return new go(n.readTime,n.key,Gc)}class go{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new go(qe.min(),ke.empty(),Gc)}static max(){return new go(qe.max(),ke.empty(),Gc)}}function W3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:it(n.largestBatchId,e.largestBatchId))}const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ou(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Z3)throw n;Te("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,i)=>{t(e)}))}static reject(e){return new he(((t,i)=>{i(e)}))}static waitFor(e){return new he(((t,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next((a=>a?he.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new he(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((_=>{c[g]=_,++f,f===l&&i(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new he(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function eD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Du(n){return n.name==="IndexedDbTransactionError"}class Gd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gd.ce=-1;const i0=-1;function $d(n){return n==null}function Td(n){return n===0&&1/n==-1/0}function tD(n){return typeof n=="number"&&Number.isInteger(n)&&!Td(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const KA="";function nD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=NE(e)),e=rD(n.get(t),e);return NE(e)}function rD(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case KA:t+="";break;default:t+=l}}return t}function NE(n){return n+KA+""}function CE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Qt{constructor(e,t){this.comparator=e,this.root=t||Bn.EMPTY}insert(e,t){return new Qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vf(this.root,e,this.comparator,!0)}}class Vf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Bn.RED,this.left=a??Bn.EMPTY,this.right=l??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Bn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Bn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(e){return new RE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class RE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ki{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Ki([])}unionWith(e){let t=new En(Hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ki(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vu(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class QA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new QA("Invalid base64 string: "+l):l}})(e);return new Gn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(n){if(pt(!!n,39018),typeof n=="string"){let e=0;const t=iD.exec(n);if(pt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ln(n.seconds),nanos:ln(n.nanos)}}function ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vo(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}const XA="server_timestamp",WA="__type__",ZA="__previous_value__",JA="__local_write_time__";function s0(n){return(n?.mapValue?.fields||{})[WA]?.stringValue===XA}function Kd(n){const e=n.mapValue.fields[ZA];return s0(e)?Kd(e):e}function $c(n){const e=yo(n.mapValue.fields[JA].timestampValue);return new jt(e.seconds,e.nanos)}class sD{constructor(e,t,i,a,l,c,f,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const wd="(default)";class Kc{constructor(e,t){this.projectId=e,this.database=t||wd}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}const ex="__type__",aD="__max__",Uf={mapValue:{}},tx="__vector__",Ad="value";function bo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?s0(n)?4:lD(n)?9007199254740991:oD(n)?10:11:Ue(28295,{value:n})}function xs(n,e){if(n===e)return!0;const t=bo(n);if(t!==bo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $c(n).isEqual($c(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=yo(a.timestampValue),f=yo(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return vo(a.bytesValue).isEqual(vo(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return ln(a.geoPointValue.latitude)===ln(l.geoPointValue.latitude)&&ln(a.geoPointValue.longitude)===ln(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ln(a.integerValue)===ln(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ln(a.doubleValue),f=ln(l.doubleValue);return c===f?Td(c)===Td(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return vu(n.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(CE(c)!==CE(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!xs(c[m],f[m])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function Yc(n,e){return(n.values||[]).find((t=>xs(t,e)))!==void 0}function bu(n,e){if(n===e)return 0;const t=bo(n),i=bo(e);if(t!==i)return it(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return it(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=ln(l.integerValue||l.doubleValue),m=ln(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return IE(n.timestampValue,e.timestampValue);case 4:return IE($c(n),$c(e));case 5:return ty(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=vo(l),m=vo(c);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const _=it(f[g],m[g]);if(_!==0)return _}return it(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=it(ln(l.latitude),ln(c.latitude));return f!==0?f:it(ln(l.longitude),ln(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return OE(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},g=f[Ad]?.arrayValue,_=m[Ad]?.arrayValue,E=it(g?.values?.length||0,_?.values?.length||0);return E!==0?E:OE(g,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Uf.mapValue&&c===Uf.mapValue)return 0;if(l===Uf.mapValue)return 1;if(c===Uf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const w=ty(m[E],_[E]);if(w!==0)return w;const x=bu(f[m[E]],g[_[E]]);if(x!==0)return x}return it(m.length,_.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function IE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return it(n,e);const t=yo(n),i=yo(e),a=it(t.seconds,i.seconds);return a!==0?a:it(t.nanos,i.nanos)}function OE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=bu(t[a],i[a]);if(l)return l}return it(t.length,i.length)}function _u(n){return ny(n)}function ny(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=yo(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return vo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ke.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=ny(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ny(t.fields[c])}`;return a+"}"})(n.mapValue):Ue(61005,{value:n})}function od(n){switch(bo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(n);return e?16+od(e):16;case 5:return 2*n.stringValue.length;case 6:return vo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+od(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ll(i.fields,((l,c)=>{a+=l.length+od(c)})),a})(n.mapValue);default:throw Ue(13486,{value:n})}}function DE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ry(n){return!!n&&"integerValue"in n}function a0(n){return!!n&&"arrayValue"in n}function LE(n){return!!n&&"nullValue"in n}function ME(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ld(n){return!!n&&"mapValue"in n}function oD(n){return(n?.mapValue?.fields||{})[ex]?.stringValue===tx}function jc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ll(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=jc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jc(n.arrayValue.values[t]);return e}return{...n}}function lD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aD}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(t)}setAll(e){let t=Hn.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=jc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];ld(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ll(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Ti(jc(this.value))}}function nx(n){const e=[];return ll(n.fields,((t,i)=>{const a=new Hn([t]);if(ld(i)){const l=nx(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ki(e)}class nr{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new nr(e,0,qe.min(),qe.min(),qe.min(),Ti.empty(),0)}static newFoundDocument(e,t,i,a){return new nr(e,1,t,qe.min(),i,a,0)}static newNoDocument(e,t){return new nr(e,2,t,qe.min(),qe.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,qe.min(),qe.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xd{constructor(e,t){this.position=e,this.inclusive=t}}function kE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=ke.comparator(ke.fromName(c.referenceValue),t.key):i=bu(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function jE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xs(n.position[t],e.position[t]))return!1;return!0}class Qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function uD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class rx{}class pn extends rx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hD(e,t,i):t==="array-contains"?new mD(e,i):t==="in"?new pD(e,i):t==="not-in"?new gD(e,i):t==="array-contains-any"?new yD(e,i):new pn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new fD(e,i):new dD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bu(t,this.value)):t!==null&&bo(this.value)===bo(t)&&this.matchesComparison(bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends rx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zi(e,t)}matches(e){return ix(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ix(n){return n.op==="and"}function sx(n){return cD(n)&&ix(n)}function cD(n){for(const e of n.filters)if(e instanceof Zi)return!1;return!0}function iy(n){if(n instanceof pn)return n.field.canonicalString()+n.op.toString()+_u(n.value);if(sx(n))return n.filters.map((e=>iy(e))).join(",");{const e=n.filters.map((t=>iy(t))).join(",");return`${n.op}(${e})`}}function ax(n,e){return n instanceof pn?(function(i,a){return a instanceof pn&&i.op===a.op&&i.field.isEqual(a.field)&&xs(i.value,a.value)})(n,e):n instanceof Zi?(function(i,a){return a instanceof Zi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&ax(c,a.filters[f])),!0):!1})(n,e):void Ue(19439)}function ox(n){return n instanceof pn?(function(t){return`${t.field.canonicalString()} ${t.op} ${_u(t.value)}`})(n):n instanceof Zi?(function(t){return t.op.toString()+" {"+t.getFilters().map(ox).join(" ,")+"}"})(n):"Filter"}class hD extends pn{constructor(e,t,i){super(e,t,i),this.key=ke.fromName(i.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class fD extends pn{constructor(e,t){super(e,"in",t),this.keys=lx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class dD extends pn{constructor(e,t){super(e,"not-in",t),this.keys=lx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lx(n,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class mD extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return a0(t)&&Yc(t.arrayValue,this.value)}}class pD extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yc(this.value.arrayValue,t)}}class gD extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yc(this.value.arrayValue,t)}}class yD extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!a0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yc(this.value.arrayValue,i)))}}class vD{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function PE(n,e=null,t=[],i=[],a=null,l=null,c=null){return new vD(n,e,t,i,a,l,c)}function o0(n){const e=ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>iy(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),$d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>_u(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>_u(i))).join(",")),e.Te=t}return e.Te}function l0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ax(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jE(n.startAt,e.startAt)&&jE(n.endAt,e.endAt)}function sy(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Lu{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bD(n,e,t,i,a,l,c,f){return new Lu(n,e,t,i,a,l,c,f)}function u0(n){return new Lu(n)}function VE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ux(n){return n.collectionGroup!==null}function Pc(n){const e=ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new En(Hn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qc(l,i))})),t.has(Hn.keyField().canonicalString())||e.Ie.push(new Qc(Hn.keyField(),i))}return e.Ie}function _s(n){const e=ze(n);return e.Ee||(e.Ee=_D(e,Pc(n))),e.Ee}function _D(n,e){if(n.limitType==="F")return PE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qc(a.field,l)}));const t=n.endAt?new xd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xd(n.startAt.position,n.startAt.inclusive):null;return PE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ay(n,e){const t=n.filters.concat([e]);return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function oy(n,e,t){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yd(n,e){return l0(_s(n),_s(e))&&n.limitType===e.limitType}function cx(n){return`${o0(_s(n))}|lt:${n.limitType}`}function Jl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>ox(a))).join(", ")}]`),$d(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>_u(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>_u(a))).join(",")),`Target(${i})`})(_s(n))}; limitType=${n.limitType})`}function Qd(n,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ke.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,a){for(const l of Pc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const g=kE(c,f,m);return c.inclusive?g<=0:g<0})(i.startAt,Pc(i),a)||i.endAt&&!(function(c,f,m){const g=kE(c,f,m);return c.inclusive?g>=0:g>0})(i.endAt,Pc(i),a))})(n,e)}function ED(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hx(n){return(e,t)=>{let i=!1;for(const a of Pc(n)){const l=TD(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function TD(n,e,t){const i=n.field.isKeyField()?ke.comparator(e.key,t.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?bu(m,g):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ue(19790,{direction:n.dir})}}class ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return YA(this.inner)}size(){return this.innerSize}}const wD=new Qt(ke.comparator);function va(){return wD}const fx=new Qt(ke.comparator);function Cc(...n){let e=fx;for(const t of n)e=e.insert(t.key,t);return e}function dx(n){let e=fx;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Qo(){return Vc()}function mx(){return Vc()}function Vc(){return new ul((n=>n.toString()),((n,e)=>n.isEqual(e)))}const AD=new Qt(ke.comparator),xD=new En(ke.comparator);function st(...n){let e=xD;for(const t of n)e=e.add(t);return e}const SD=new En(it);function ND(){return SD}function c0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function px(n){return{integerValue:""+n}}function CD(n,e){return tD(e)?px(e):c0(n,e)}class Xd{constructor(){this._=void 0}}function RD(n,e,t){return n instanceof Xc?(function(a,l){const c={fields:{[WA]:{stringValue:XA},[JA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&s0(l)&&(l=Kd(l)),l&&(c.fields[ZA]=l),{mapValue:c}})(t,e):n instanceof Wc?yx(n,e):n instanceof Zc?vx(n,e):(function(a,l){const c=gx(a,l),f=UE(c)+UE(a.Ae);return ry(c)&&ry(a.Ae)?px(f):c0(a.serializer,f)})(n,e)}function ID(n,e,t){return n instanceof Wc?yx(n,e):n instanceof Zc?vx(n,e):t}function gx(n,e){return n instanceof Sd?(function(i){return ry(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Xc extends Xd{}class Wc extends Xd{constructor(e){super(),this.elements=e}}function yx(n,e){const t=bx(e);for(const i of n.elements)t.some((a=>xs(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Zc extends Xd{constructor(e){super(),this.elements=e}}function vx(n,e){let t=bx(e);for(const i of n.elements)t=t.filter((a=>!xs(a,i)));return{arrayValue:{values:t}}}class Sd extends Xd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function UE(n){return ln(n.integerValue||n.doubleValue)}function bx(n){return a0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class OD{constructor(e,t){this.field=e,this.transform=t}}function DD(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof Wc&&a instanceof Wc||i instanceof Zc&&a instanceof Zc?vu(i.elements,a.elements,xs):i instanceof Sd&&a instanceof Sd?xs(i.Ae,a.Ae):i instanceof Xc&&a instanceof Xc})(n.transform,e.transform)}class LD{constructor(e,t){this.version=e,this.transformResults=t}}class Qi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ud(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wd{}function _x(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new h0(n.key,Qi.none()):new mh(n.key,n.data,Qi.none());{const t=n.data,i=Ti.empty();let a=new En(Hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new cl(n.key,i,new Ki(a.toArray()),Qi.none())}}function MD(n,e,t){n instanceof mh?(function(a,l,c){const f=a.value.clone(),m=BE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof cl?(function(a,l,c){if(!ud(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=BE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Ex(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Uc(n,e,t,i){return n instanceof mh?(function(l,c,f,m){if(!ud(l.precondition,c))return f;const g=l.value.clone(),_=zE(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof cl?(function(l,c,f,m){if(!ud(l.precondition,c))return f;const g=zE(l.fieldTransforms,m,c),_=c.data;return _.setAll(Ex(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,c,f){return ud(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function kD(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=gx(i.transform,a||null);l!=null&&(t===null&&(t=Ti.empty()),t.set(i.field,l))}return t||null}function qE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&vu(i,a,((l,c)=>DD(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class mh extends Wd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cl extends Wd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ex(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function BE(n,e,t){const i=new Map;pt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,ID(c,f,t[a]))}return i}function zE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,RD(l,c,e))}return i}class h0 extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jD extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PD{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&MD(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Uc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Uc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=mx();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=_x(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(qe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),st())}isEqual(e){return this.batchId===e.batchId&&vu(this.mutations,e.mutations,((t,i)=>qE(t,i)))&&vu(this.baseMutations,e.baseMutations,((t,i)=>qE(t,i)))}}class f0{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){pt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return AD})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new f0(e,t,i,a)}}class VD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UD{constructor(e,t){this.count=e,this.unchangedNames=t}}var mn,ut;function qD(n){switch(n){case oe.OK:return Ue(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function Tx(n){if(n===void 0)return ga("GRPC error has no .code"),oe.UNKNOWN;switch(n){case mn.OK:return oe.OK;case mn.CANCELLED:return oe.CANCELLED;case mn.UNKNOWN:return oe.UNKNOWN;case mn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case mn.INTERNAL:return oe.INTERNAL;case mn.UNAVAILABLE:return oe.UNAVAILABLE;case mn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case mn.NOT_FOUND:return oe.NOT_FOUND;case mn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case mn.ABORTED:return oe.ABORTED;case mn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case mn.DATA_LOSS:return oe.DATA_LOSS;default:return Ue(39323,{code:n})}}(ut=mn||(mn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function BD(){return new TextEncoder}const zD=new ho([4294967295,4294967295],0);function HE(n){const e=BD().encode(n),t=new PA;return t.update(e),new Uint8Array(t.digest())}function FE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ho([t,i],0),new ho([a,l],0)]}class d0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rc(`Invalid padding: ${t}`);if(i<0)throw new Rc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Rc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ho.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(ho.fromNumber(i)));return a.compare(zD)===1&&(a=new ho([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=HE(e),[i,a]=FE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new d0(l,a,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=HE(e),[i,a]=FE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zd(qe.min(),a,new Qt(it),va(),st())}}class ph{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ph(i,t,st(),st(),st())}}class cd{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class wx{constructor(e,t){this.targetId=e,this.Ce=t}}class Ax{constructor(e,t,i=Gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class GE{constructor(){this.ve=0,this.Fe=$E(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),t=st(),i=st();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ue(38017,{changeType:l})}})),new ph(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=$E()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HD{constructor(e){this.Ge=e,this.ze=new Map,this.je=va(),this.Je=qf(),this.He=qf(),this.Ye=new Qt(it)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(sy(l))if(i===0){const c=new ke(l.path);this.et(t,c,nr.newNoDocument(c,qe.min()))}else pt(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=vo(i).toUint8Array()}catch(m){if(m instanceof QA)return yu("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new d0(c,a,l)}catch(m){return yu(m instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&sy(f.target)){const m=new ke(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,nr.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=st();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Zd(e,t,this.Ye,this.je,i);return this.je=va(),this.Je=qf(),this.He=qf(),this.Ye=new Qt(it),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new GE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new En(it),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new En(it),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qf(){return new Qt(ke.comparator)}function $E(){return new Qt(ke.comparator)}const FD={asc:"ASCENDING",desc:"DESCENDING"},GD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$D={and:"AND",or:"OR"};class KD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ly(n,e){return n.useProto3Json||$d(e)?e:{value:e}}function Nd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YD(n,e){return Nd(n,e.toTimestamp())}function Es(n){return pt(!!n,49232),qe.fromTimestamp((function(t){const i=yo(t);return new jt(i.seconds,i.nanos)})(n))}function m0(n,e){return uy(n,e).canonicalString()}function uy(n,e){const t=(function(a){return new Rt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Sx(n){const e=Rt.fromString(n);return pt(Ox(e),10190,{key:e.toString()}),e}function cy(n,e){return m0(n.databaseId,e.path)}function wg(n,e){const t=Sx(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(Cx(t))}function Nx(n,e){return m0(n.databaseId,e)}function QD(n){const e=Sx(n);return e.length===4?Rt.emptyPath():Cx(e)}function hy(n){return new Rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Cx(n){return pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function KE(n,e,t){return{name:cy(n,e),fields:t.value.mapValue.fields}}function XD(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(pt(_===void 0||typeof _=="string",58123),Gn.fromBase64String(_||"")):(pt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Gn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const _=g.code===void 0?oe.UNKNOWN:Tx(g.code);return new Ee(_,g.message||"")})(c);t=new Ax(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=wg(n,i.document.name),l=Es(i.document.updateTime),c=i.document.createTime?Es(i.document.createTime):qe.min(),f=new Ti({mapValue:{fields:i.document.fields}}),m=nr.newFoundDocument(a,l,c,f),g=i.targetIds||[],_=i.removedTargetIds||[];t=new cd(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=wg(n,i.document),l=i.readTime?Es(i.readTime):qe.min(),c=nr.newNoDocument(a,l),f=i.removedTargetIds||[];t=new cd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=wg(n,i.document),l=i.removedTargetIds||[];t=new cd([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new UD(a,l),f=i.targetId;t=new wx(f,c)}}return t}function WD(n,e){let t;if(e instanceof mh)t={update:KE(n,e.key,e.value)};else if(e instanceof h0)t={delete:cy(n,e.key)};else if(e instanceof cl)t={update:KE(n,e.key,e.data),updateMask:a5(e.fieldMask)};else{if(!(e instanceof jD))return Ue(16599,{Vt:e.type});t={verify:cy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Xc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Wc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Sd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ue(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:YD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)})(n,e.precondition)),t}function ZD(n,e){return n&&n.length>0?(pt(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?Es(a.updateTime):Es(l);return c.isEqual(qe.min())&&(c=Es(l)),new LD(c,a.transformResults||[])})(t,e)))):[]}function JD(n,e){return{documents:[Nx(n,e.path)]}}function e5(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Nx(n,a);const l=(function(g){if(g.length!==0)return Ix(Zi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:eu(w.field),direction:r5(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=ly(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function t5(n){let e=QD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){pt(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const w=Rx(E);return w instanceof Zi&&sx(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((w=>(function(O){return new Qc(tu(O.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let w;return w=typeof E=="object"?E.value:E,$d(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(E){const w=!!E.before,x=E.values||[];return new xd(x,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const w=!E.before,x=E.values||[];return new xd(x,w)})(t.endAt)),bD(e,a,c,l,f,"F",m,g)}function n5(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Rx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=tu(t.unaryFilter.field);return pn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=tu(t.unaryFilter.field);return pn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tu(t.unaryFilter.field);return pn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=tu(t.unaryFilter.field);return pn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return pn.create(tu(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zi.create(t.compositeFilter.filters.map((i=>Rx(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function r5(n){return FD[n]}function i5(n){return GD[n]}function s5(n){return $D[n]}function eu(n){return{fieldPath:n.canonicalString()}}function tu(n){return Hn.fromServerFormat(n.fieldPath)}function Ix(n){return n instanceof pn?(function(t){if(t.op==="=="){if(ME(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NAN"}};if(LE(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ME(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NOT_NAN"}};if(LE(t.value))return{unaryFilter:{field:eu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(t.field),op:i5(t.op),value:t.value}}})(n):n instanceof Zi?(function(t){const i=t.getFilters().map((a=>Ix(a)));return i.length===1?i[0]:{compositeFilter:{op:s5(t.op),filters:i}}})(n):Ue(54877,{filter:n})}function a5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ox(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ao{constructor(e,t,i,a,l=qe.min(),c=qe.min(),f=Gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o5{constructor(e){this.yt=e}}function l5(n){const e=t5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?oy(e,e.limit,"L"):e}class u5{constructor(){this.Cn=new c5}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(go.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(go.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class c5{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new En(Rt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new En(Rt.comparator)).toArray()}}const YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dx=41943040;class Dr{static withCacheSize(e){return new Dr(e,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(Dx,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);class Eu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eu(0)}static cr(){return new Eu(-1)}}const QE="LruGarbageCollector",h5=1048576;function XE([n,e],[t,i]){const a=it(n,t);return a===0?it(e,i):a}class f5{constructor(e){this.Ir=e,this.buffer=new En(XE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();XE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d5{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(QE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Du(t)?Te(QE,"Ignoring IndexedDB error during garbage collection: ",t):await Ou(t)}await this.Vr(3e5)}))}}class m5{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Gd.ce);const i=new f5(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(YE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,f,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(g=Date.now(),Zl()<=rt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function p5(n,e){return new m5(n,e)}class g5{constructor(){this.changes=new ul((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class v5{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Uc(i.mutation,a,Ki.empty(),jt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,st()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=st()){const a=Qo();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Cc();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Qo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,st())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,a){let l=va();const c=Vc(),f=(function(){return Vc()})();return t.forEach(((m,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof cl)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Uc(_.mutation,g,_.mutation.getFieldMask(),jt.now())):c.set(g.key,Ki.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>f.set(g,new y5(_,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Vc();let a=new Qt(((c,f)=>c-f)),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Ki.empty();_=f.applyToLocalView(g,_),i.set(m,_);const E=(a.get(f.batchId)||st()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,_=m.value,E=mx();_.forEach((w=>{if(!l.has(w)){const x=_x(t.get(w),i.get(w));x!==null&&E.set(w,x),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return he.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ux(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):he.resolve(Qo());let f=Gc,m=l;return c.next((g=>he.forEach(g,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?he.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{m=m.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,st()))).next((_=>({batchId:f,changes:dx(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((i=>{let a=Cc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Cc();return this.indexManager.getCollectionParents(e,l).next((f=>he.forEach(f,(m=>{const g=(function(E,w){return new Lu(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((_=>{_.forEach(((E,w)=>{c=c.insert(E,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,nr.newInvalidDocument(_)))}));let f=Cc();return c.forEach(((m,g)=>{const _=l.get(m);_!==void 0&&Uc(_.mutation,g,Ki.empty(),jt.now()),Qd(t,g)&&(f=f.insert(m,g))})),f}))}}class b5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Es(a.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:l5(a.bundledQuery),readTime:Es(a.readTime)}})(t)),he.resolve()}}class _5{constructor(){this.overlays=new Qt(ke.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qo();return he.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),he.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const a=Qo(),l=t.length+1,c=new ke(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Qt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Qo(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=Qo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>f.set(g,_))),!(f.size()>=a)););return he.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new VD(t,i));let l=this.qr.get(t);l===void 0&&(l=st(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class E5{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class p0{constructor(){this.Qr=new En(Nn.$r),this.Ur=new En(Nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Nn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Nn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ke(new Rt([])),i=new Nn(t,e),a=new Nn(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new Rt([])),i=new Nn(t,e),a=new Nn(t,e+1);let l=st();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Nn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Nn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||it(e.Yr,t.Yr)}static Kr(e,t){return it(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}class T5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new En(Nn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PD(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Nn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?i0:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nn(t,0),a=new Nn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new En(it);return t.forEach((a=>{const l=new Nn(a,0),c=new Nn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),he.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ke.isDocumentKey(l)||(l=l.child(""));const c=new Nn(new ke(l),0);let f=new En(it);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),c),he.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){pt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return he.forEach(t.mutations,(a=>{const l=new Nn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Nn(t,0),a=this.Zr.firstAfterOrEqual(i);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class w5{constructor(e){this.ri=e,this.docs=(function(){return new Qt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let i=va();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():nr.newInvalidDocument(a))})),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=va();const c=t.path,f=new ke(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||W3(X3(_),i)<=0||(a.has(_.key)||Qd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ue(9500)}ii(e,t){return he.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new A5(this)}getSize(e){return he.resolve(this.size)}}class A5 extends g5{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class x5{constructor(e){this.persistence=e,this.si=new ul((t=>o0(t)),l0),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new p0,this.targetCount=0,this.ai=Eu.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Eu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),he.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}class Lx{constructor(e,t){this.ui={},this.overlays={},this.ci=new Gd(0),this.li=!1,this.li=!0,this.hi=new E5,this.referenceDelegate=e(this),this.Pi=new x5(this),this.indexManager=new u5,this.remoteDocumentCache=(function(a){return new w5(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new o5(t),this.Ii=new b5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new T5(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Te("MemoryPersistence","Starting transaction:",e);const a=new S5(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return he.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class S5 extends J3{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Ri=new p0,this.Vi=null}static mi(e){return new g0(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(i=>{const a=ke.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,qe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Cd{constructor(e,t){this.persistence=e,this.pi=new ul((i=>nD(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=p5(this,t)}static mi(e,t){return new Cd(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?he.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,qe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=od(e.data.value)),t}br(e,t,i){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class y0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=st(),a=st();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new y0(e,t.fromCache,i,a)}}class N5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class C5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nI()?8:eD(ir())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new N5;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Zl()<=rt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Jl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(Zl()<=rt.DEBUG&&Te("QueryEngine","Query:",Jl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Zl()<=rt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Jl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(t))):he.resolve())}ys(e,t){if(VE(t))return he.resolve(null);let i=_s(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=oy(t,null,"F"),i=_s(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=st(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(t,f);return this.Cs(t,g,c,m.readTime)?this.ys(e,oy(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,i,a){return VE(t)||a.isEqual(qe.min())?he.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?he.resolve(null):(Zl()<=rt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jl(t)),this.vs(e,c,t,Q3(a,Gc)).next((f=>f)))}))}Ds(e,t){let i=new En(hx(e));return t.forEach(((a,l)=>{Qd(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Zl()<=rt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Jl(t)),this.ps.getDocumentsMatchingQuery(e,t,go.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const v0="LocalStore",R5=3e8;class I5{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Qt(it),this.xs=new ul((l=>o0(l)),l0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function O5(n,e,t,i){return new I5(n,e,t,i)}async function Mx(n,e){const t=ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=st();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function D5(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,_){const E=g.batch,w=E.keys();let x=he.resolve();return w.forEach((O=>{x=x.next((()=>_.getEntry(m,O))).next((M=>{const k=g.docVersions.get(O);pt(k!==null,48541),M.version.compareTo(k)<0&&(E.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),_.addEntry(M)))}))})),x.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=st();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function kx(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function L5(n,e){const t=ze(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((_,E)=>{const w=a.get(E);if(!w)return;f.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E))));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(Gn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),a=a.insert(E,x),(function(M,k,F){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=R5?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,x,_)&&f.push(t.Pi.updateTargetData(l,x))}));let m=va(),g=st();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(M5(l,c,e.documentUpdates).next((_=>{m=_.ks,g=_.qs}))),!i.isEqual(qe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(_)}return he.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function M5(n,e,t){let i=st(),a=st();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=va();return t.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(qe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Te(v0,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function k5(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=i0),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function j5(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,he.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new ao(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function fy(n,e,t){const i=ze(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Du(c))throw c;Te(v0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function WE(n,e,t){const i=ze(n);let a=qe.min(),l=st();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,_){const E=ze(m),w=E.xs.get(_);return w!==void 0?he.resolve(E.Ms.get(w)):E.Pi.getTargetData(g,_)})(i,c,_s(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:qe.min(),t?l:st()))).next((f=>(P5(i,ED(e),f),{documents:f,Qs:l})))))}function P5(n,e,t){let i=n.Os.get(e)||qe.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class ZE{constructor(){this.activeTargetIds=ND()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V5{constructor(){this.Mo=new ZE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U5{Oo(e){}shutdown(){}}const JE="ConnectivityMonitor";class eT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(JE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bf=null;function dy(){return Bf===null?Bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bf++,"0x"+Bf.toString(16)}const Ag="RestConnection",q5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===wd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=dy(),f=this.zo(e,t.toUriEncodedString());Te(Ag,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),_=Nu(g);return this.Jo(e,f,m,i,_).then((E=>(Te(Ag,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw yu(Ag,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=q5[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class z5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const er="WebChannelConnection";class H5 extends B5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=dy();return new Promise(((f,m)=>{const g=new VA;g.setWithCredentials(!0),g.listenOnce(UA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ad.NO_ERROR:const E=g.getResponseJson();Te(er,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case ad.TIMEOUT:Te(er,`RPC '${e}' ${c} timed out`),m(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:const w=g.getStatus();if(Te(er,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x?.error;if(O&&O.status&&O.message){const M=(function(F){const K=F.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(K)>=0?K:oe.UNKNOWN})(O.status);m(new Ee(M,O.message))}else m(new Ee(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(er,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);Te(er,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)}))}T_(e,t,i){const a=dy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zA(),f=BA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");Te(er,`Creating RPC '${e}' stream ${a}: ${_}`,m);const E=c.createWebChannel(_,m);this.I_(E);let w=!1,x=!1;const O=new z5({Yo:k=>{x?Te(er,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(w||(Te(er,`Opening RPC '${e}' stream ${a} transport.`),E.open(),w=!0),Te(er,`RPC '${e}' stream ${a} sending:`,k),E.send(k))},Zo:()=>E.close()}),M=(k,F,K)=>{k.listen(F,(re=>{try{K(re)}catch(be){setTimeout((()=>{throw be}),0)}}))};return M(E,Nc.EventType.OPEN,(()=>{x||(Te(er,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),M(E,Nc.EventType.CLOSE,(()=>{x||(x=!0,Te(er,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(E))})),M(E,Nc.EventType.ERROR,(k=>{x||(x=!0,yu(er,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),O.a_(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))})),M(E,Nc.EventType.MESSAGE,(k=>{if(!x){const F=k.data[0];pt(!!F,16349);const K=F,re=K?.error||K[0]?.error;if(re){Te(er,`RPC '${e}' stream ${a} received error:`,re);const be=re.status;let ve=(function(L){const P=mn[L];if(P!==void 0)return Tx(P)})(be),we=re.message;ve===void 0&&(ve=oe.INTERNAL,we="Unknown error status: "+be+" with message "+re.message),x=!0,O.a_(new Ee(ve,we)),E.close()}else Te(er,`RPC '${e}' stream ${a} received:`,F),O.u_(F)}})),M(f,qA.STAT_EVENT,(k=>{k.stat===ey.PROXY?Te(er,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===ey.NOPROXY&&Te(er,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function xg(){return typeof document<"u"?document:null}function Jd(n){return new KD(n,!0)}class jx{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const tT="PersistentStream";class Px{constructor(e,t,i,a,l,c,f,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ga(t.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(tT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Te(tT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F5 extends Px{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=XD(this.serializer,e),i=(function(l){if(!("targetChange"in l))return qe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?qe.min():c.readTime?Es(c.readTime):qe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=hy(this.serializer),t.addTarget=(function(l,c){let f;const m=c.target;if(f=sy(m)?{documents:JD(l,m)}:{query:e5(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=xx(l,c.resumeToken);const g=ly(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(qe.min())>0){f.readTime=Nd(l,c.snapshotVersion.toTimestamp());const g=ly(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=n5(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=hy(this.serializer),t.removeTarget=e,this.q_(t)}}class G5 extends Px{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZD(e.writeResults,e.commitTime),i=Es(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=hy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>WD(this.serializer,i)))};this.q_(t)}}class $5{}class K5 extends $5{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,uy(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(oe.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,uy(t,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Y5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ga(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nl="RemoteStore";class Q5{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{hl(this)&&(Te(nl,"Restarting streams for network reachability change."),await(async function(m){const g=ze(m);g.Ea.add(4),await gh(g),g.Ra.set("Unknown"),g.Ea.delete(4),await em(g)})(this))}))})),this.Ra=new Y5(i,a)}}async function em(n){if(hl(n))for(const e of n.da)await e(!0)}async function gh(n){for(const e of n.da)await e(!1)}function Vx(n,e){const t=ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),T0(t)?E0(t):Mu(t).O_()&&_0(t,e))}function b0(n,e){const t=ze(n),i=Mu(t);t.Ia.delete(e),i.O_()&&Ux(t,e),t.Ia.size===0&&(i.O_()?i.L_():hl(t)&&t.Ra.set("Unknown"))}function _0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mu(n).Y_(e)}function Ux(n,e){n.Va.Ue(e),Mu(n).Z_(e)}function E0(n){n.Va=new HD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Mu(n).start(),n.Ra.ua()}function T0(n){return hl(n)&&!Mu(n).x_()&&n.Ia.size>0}function hl(n){return ze(n).Ea.size===0}function qx(n){n.Va=void 0}async function X5(n){n.Ra.set("Online")}async function W5(n){n.Ia.forEach(((e,t)=>{_0(n,e)}))}async function Z5(n,e){qx(n),T0(n)?(n.Ra.ha(e),E0(n)):n.Ra.set("Unknown")}async function J5(n,e,t){if(n.Ra.set("Online"),e instanceof Ax&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(i){Te(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Rd(n,i)}else if(e instanceof cd?n.Va.Ze(e):e instanceof wx?n.Va.st(e):n.Va.tt(e),!t.isEqual(qe.min()))try{const i=await kx(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(Gn.EMPTY_BYTE_STRING,_.snapshotVersion)),Ux(l,m);const E=new ao(_.target,m,g,_.sequenceNumber);_0(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){Te(nl,"Failed to raise snapshot:",i),await Rd(n,i)}}async function Rd(n,e,t){if(!Du(e))throw e;n.Ea.add(1),await gh(n),n.Ra.set("Offline"),t||(t=()=>kx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(nl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await em(n)}))}function Bx(n,e){return e().catch((t=>Rd(n,t,e)))}async function tm(n){const e=ze(n),t=_o(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i0;for(;e6(e);)try{const a=await k5(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,t6(e,a)}catch(a){await Rd(e,a)}zx(e)&&Hx(e)}function e6(n){return hl(n)&&n.Ta.length<10}function t6(n,e){n.Ta.push(e);const t=_o(n);t.O_()&&t.X_&&t.ea(e.mutations)}function zx(n){return hl(n)&&!_o(n).x_()&&n.Ta.length>0}function Hx(n){_o(n).start()}async function n6(n){_o(n).ra()}async function r6(n){const e=_o(n);for(const t of n.Ta)e.ea(t.mutations)}async function i6(n,e,t){const i=n.Ta.shift(),a=f0.from(i,e,t);await Bx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await tm(n)}async function s6(n,e){e&&_o(n).X_&&await(async function(i,a){if((function(c){return qD(c)&&c!==oe.ABORTED})(a.code)){const l=i.Ta.shift();_o(i).B_(),await Bx(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tm(i)}})(n,e),zx(n)&&Hx(n)}async function nT(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),Te(nl,"RemoteStore received new credentials");const i=hl(t);t.Ea.add(3),await gh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await em(t)}async function a6(n,e){const t=ze(n);e?(t.Ea.delete(2),await em(t)):e||(t.Ea.add(2),await gh(t),t.Ra.set("Unknown"))}function Mu(n){return n.ma||(n.ma=(function(t,i,a){const l=ze(t);return l.sa(),new F5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:X5.bind(null,n),t_:W5.bind(null,n),r_:Z5.bind(null,n),H_:J5.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),T0(n)?E0(n):n.Ra.set("Unknown")):(await n.ma.stop(),qx(n))}))),n.ma}function _o(n){return n.fa||(n.fa=(function(t,i,a){const l=ze(t);return l.sa(),new G5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:n6.bind(null,n),r_:s6.bind(null,n),ta:r6.bind(null,n),na:i6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await tm(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(nl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class w0{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new w0(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A0(n,e){if(ga("AsyncQueue",`${e}: ${n}`),Du(n))return new Ee(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class cu{static emptySet(e){return new cu(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ke.comparator(t.key,i.key):(t,i)=>ke.comparator(t.key,i.key),this.keyedMap=Cc(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new cu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class rT{constructor(){this.ga=new Qt(ke.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Tu{constructor(e,t,i,a,l,c,f,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Tu(e,t,cu.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class o6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class l6{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=ze(t),l=a.queries;a.queries=iT(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new Ee(oe.ABORTED,"Firestore shutting down"))}}function iT(){return new ul((n=>cx(n)),Yd)}async function Fx(n,e){const t=ze(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new o6,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=A0(c,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&x0(t)}async function Gx(n,e){const t=ze(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function u6(n,e){const t=ze(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(i=!0);c.wa=a}}i&&x0(t)}function c6(n,e,t){const i=ze(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function x0(n){n.Ca.forEach((e=>{e.next()}))}var my,sT;(sT=my||(my={})).Ma="default",sT.Cache="cache";class $x{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Tu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==my.Cache}}class Kx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class h6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=hx(e),this.tu=new cu(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new rT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const w=a.get(_),x=Qd(this.query,E)?E:null,O=!!w&&this.mutatedKeys.has(w.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;w&&x?w.data.isEqual(x.data)?O!==M&&(i.track({type:3,doc:x}),k=!0):this.su(w,x)||(i.track({type:2,doc:x}),k=!0,(m&&this.eu(x,m)>0||g&&this.eu(x,g)<0)&&(f=!0)):!w&&x?(i.track({type:0,doc:x}),k=!0):w&&!x&&(i.track({type:1,doc:w}),k=!0,(m||g)&&(f=!0)),k&&(x?(c=c.add(x),l=M?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(x,O){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:k})}};return M(x)-M(O)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),a=a??!1;const f=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Tu(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new Yx(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new Kx(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=st();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const S0="SyncEngine";class f6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class d6{constructor(e){this.key=e,this.hu=!1}}class m6{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ul((f=>cx(f)),Yd),this.Iu=new Map,this.Eu=new Set,this.du=new Qt(ke.comparator),this.Au=new Map,this.Ru=new p0,this.Vu={},this.mu=new Map,this.fu=Eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p6(n,e,t=!0){const i=eS(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Qx(i,e,t,!0),a}async function g6(n,e){const t=eS(n);await Qx(t,e,!0,!1)}async function Qx(n,e,t,i){const a=await j5(n.localStore,_s(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await y6(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Vx(n.remoteStore,a),f}async function y6(n,e,t,i,a){n.pu=(E,w,x)=>(async function(M,k,F,K){let re=k.view.ru(F);re.Cs&&(re=await WE(M.localStore,k.query,!1).then((({documents:j})=>k.view.ru(j,re))));const be=K&&K.targetChanges.get(k.targetId),ve=K&&K.targetMismatches.get(k.targetId)!=null,we=k.view.applyChanges(re,M.isPrimaryClient,be,ve);return oT(M,k.targetId,we.au),we.snapshot})(n,E,w,x);const l=await WE(n.localStore,e,!0),c=new h6(e,l.Qs),f=c.ru(l.documents),m=ph.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(f,n.isPrimaryClient,m);oT(n,t,g.au);const _=new f6(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function v6(n,e,t){const i=ze(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Yd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await fy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&b0(i.remoteStore,a.targetId),py(i,a.targetId)})).catch(Ou)):(py(i,a.targetId),await fy(i.localStore,a.targetId,!0))}async function b6(n,e){const t=ze(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),b0(t.remoteStore,i.targetId))}async function _6(n,e,t){const i=N6(n);try{const a=await(function(c,f){const m=ze(c),g=jt.now(),_=f.reduce(((x,O)=>x.add(O.key)),st());let E,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let O=va(),M=st();return m.Ns.getEntries(x,_).next((k=>{O=k,O.forEach(((F,K)=>{K.isValidDocument()||(M=M.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,O))).next((k=>{E=k;const F=[];for(const K of f){const re=kD(K,E.get(K.key).overlayedDocument);re!=null&&F.push(new cl(K.key,re,nx(re.value.mapValue),Qi.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,F,f)})).next((k=>{w=k;const F=k.applyToLocalDocumentSet(E,M);return m.documentOverlayCache.saveOverlays(x,k.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:dx(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Qt(it)),g=g.insert(f,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await yh(i,a.changes),await tm(i.remoteStore)}catch(a){const l=A0(a,"Failed to persist write");t.reject(l)}}async function Xx(n,e){const t=ze(n);try{const i=await L5(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?pt(c.hu,14607):a.removedDocuments.size>0&&(pt(c.hu,42227),c.hu=!1))})),await yh(t,i,e)}catch(i){await Ou(i)}}function aT(n,e,t){const i=ze(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=ze(c);m.onlineState=f;let g=!1;m.queries.forEach(((_,E)=>{for(const w of E.Sa)w.va(f)&&(g=!0)})),g&&x0(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function E6(n,e,t){const i=ze(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Qt(ke.comparator);c=c.insert(l,nr.newNoDocument(l,qe.min()));const f=st().add(l),m=new Zd(qe.min(),new Map,new Qt(it),c,f);await Xx(i,m),i.du=i.du.remove(l),i.Au.delete(e),N0(i)}else await fy(i.localStore,e,!1).then((()=>py(i,e,t))).catch(Ou)}async function T6(n,e){const t=ze(n),i=e.batch.batchId;try{const a=await D5(t.localStore,e);Zx(t,i,null),Wx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await yh(t,a)}catch(a){await Ou(a)}}async function w6(n,e,t){const i=ze(n);try{const a=await(function(c,f){const m=ze(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,f).next((E=>(pt(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(i.localStore,e);Zx(i,e,t),Wx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await yh(i,a)}catch(a){await Ou(a)}}function Wx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Zx(n,e,t){const i=ze(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function py(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||Jx(n,i)}))}function Jx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(b0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),N0(n))}function oT(n,e,t){for(const i of t)i instanceof Kx?(n.Ru.addReference(i.key,e),A6(n,i)):i instanceof Yx?(Te(S0,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Jx(n,i.key)):Ue(19791,{wu:i})}function A6(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Te(S0,"New document in limbo: "+t),n.Eu.add(i),N0(n))}function N0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ke(Rt.fromString(e)),i=n.fu.next();n.Au.set(i,new d6(t)),n.du=n.du.insert(t,i),Vx(n.remoteStore,new ao(_s(u0(t.path)),i,"TargetPurposeLimboResolution",Gd.ce))}}async function yh(n,e,t){const i=ze(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=y0.As(m.targetId,g);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const _=ze(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>he.forEach(g,(w=>he.forEach(w.Es,(x=>_.persistence.referenceDelegate.addReference(E,w.targetId,x))).next((()=>he.forEach(w.ds,(x=>_.persistence.referenceDelegate.removeReference(E,w.targetId,x)))))))))}catch(E){if(!Du(E))throw E;Te(v0,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const x=_.Ms.get(w),O=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(O);_.Ms=_.Ms.insert(w,M)}}})(i.localStore,l))}async function x6(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){Te(S0,"User change. New user:",e.toKey());const i=await Mx(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ee(oe.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yh(t,i.Ls)}}function S6(n,e){const t=ze(n),i=t.Au.get(e);if(i&&i.hu)return st().add(i.key);{let a=st();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function eS(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E6.bind(null,e),e.Pu.H_=u6.bind(null,e.eventManager),e.Pu.yu=c6.bind(null,e.eventManager),e}function N6(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w6.bind(null,e),e}class Id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return O5(this.persistence,new C5,e.initialUser,this.serializer)}Cu(e){return new Lx(g0.mi,this.serializer)}Du(e){return new V5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Id.provider={build:()=>new Id};class C6 extends Id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pt(this.persistence.referenceDelegate instanceof Cd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new d5(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new Lx((i=>Cd.mi(i,t)),this.serializer)}}class gy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x6.bind(null,this.syncEngine),await a6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new l6})()}createDatastore(e){const t=Jd(e.databaseInfo.databaseId),i=(function(l){return new H5(l)})(e.databaseInfo);return(function(l,c,f,m){return new K5(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,f){return new Q5(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>aT(this.syncEngine,t,0)),(function(){return eT.v()?new eT:new U5})())}createSyncEngine(e,t){return(function(a,l,c,f,m,g,_){const E=new m6(a,l,c,f,m,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=ze(t);Te(nl,"RemoteStore shutting down."),i.Ea.add(5),await gh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gy.provider={build:()=>new gy};class tS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ga("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Eo="FirestoreClient";class R6{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=tr.UNAUTHENTICATED,this.clientId=r0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Te(Eo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Te(Eo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=A0(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Sg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(Eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Mx(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function lT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await I6(n);Te(Eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>nT(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>nT(e.remoteStore,a))),n._onlineComponents=e}async function I6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(Eo,"Using user provided OfflineComponentProvider");try{await Sg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;yu("Error using user provided cache. Falling back to memory cache: "+t),await Sg(n,new Id)}}else Te(Eo,"Using default OfflineComponentProvider"),await Sg(n,new C6(void 0));return n._offlineComponents}async function nS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(Eo,"Using user provided OnlineComponentProvider"),await lT(n,n._uninitializedComponentsProvider._online)):(Te(Eo,"Using default OnlineComponentProvider"),await lT(n,new gy))),n._onlineComponents}function O6(n){return nS(n).then((e=>e.syncEngine))}async function rS(n){const e=await nS(n),t=e.eventManager;return t.onListen=p6.bind(null,e.syncEngine),t.onUnlisten=v6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=g6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b6.bind(null,e.syncEngine),t}function D6(n,e,t={}){const i=new fa;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const _=new tS({next:w=>{_.Nu(),c.enqueueAndForget((()=>Gx(l,E)));const x=w.docs.has(f);!x&&w.fromCache?g.reject(new Ee(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&m&&m.source==="server"?g.reject(new Ee(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new $x(u0(f.path),_,{includeMetadataChanges:!0,qa:!0});return Fx(l,E)})(await rS(n),n.asyncQueue,e,t,i))),i.promise}function L6(n,e,t={}){const i=new fa;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const _=new tS({next:w=>{_.Nu(),c.enqueueAndForget((()=>Gx(l,E))),w.fromCache&&m.source==="server"?g.reject(new Ee(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new $x(f,_,{includeMetadataChanges:!0,qa:!0});return Fx(l,E)})(await rS(n),n.asyncQueue,e,t,i))),i.promise}function iS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const uT=new Map;const sS="firestore.googleapis.com",cT=!0;class hT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=cT}else this.host=e.host,this.ssl=e.ssl??cT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h5)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new V3;switch(i.type){case"firstParty":return new z3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=uT.get(t);i&&(Te("ComponentProvider","Removing Datastore"),uT.delete(t),i.terminate())})(this),Promise.resolve()}}function M6(n,e,t,i={}){n=ya(n,nm);const a=Nu(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(Qw(`https://${f}`),Xw("Firestore",!0)),l.host!==sS&&l.host!==f&&yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!Wo(m,c)&&(n._setSettings(m),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=tr.MOCK_USER;else{g=KR(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tr(E)}n._authCredentials=new U3(new FA(g,_))}}class fl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class yn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(dh(t,yn._jsonSchema))return new yn(e,i||null,new ke(Rt.fromString(t.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:gn("string",yn._jsonSchemaVersion),referencePath:gn("string")};class fo extends fl{constructor(e,t,i){super(e,t,u0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ke(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Lr(n,e,...t){if(n=sr(n),GA("collection","path",e),n instanceof nm){const i=Rt.fromString(e,...t);return AE(i),new fo(n,null,i)}{if(!(n instanceof yn||n instanceof fo))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rt.fromString(e,...t));return AE(i),new fo(n.firestore,null,i)}}function Ni(n,e,...t){if(n=sr(n),arguments.length===1&&(e=r0.newId()),GA("doc","path",e),n instanceof nm){const i=Rt.fromString(e,...t);return wE(i),new yn(n,null,new ke(i))}{if(!(n instanceof yn||n instanceof fo))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rt.fromString(e,...t));return wE(i),new yn(n.firestore,n instanceof fo?n.converter:null,new ke(i))}}const fT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jx(this,"async_queue_retry"),this._c=()=>{const i=xg();i&&Te(fT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=xg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Du(e))throw e;Te(fT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ga("INTERNAL UNHANDLED ERROR: ",mT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=w0.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ue(47125,{Pc:mT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function mT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ku extends nm{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new dT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function k6(n,e){const t=typeof n=="object"?n:eA(),i=typeof n=="string"?n:wd,a=Fy(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=GR("firestore");l&&M6(a,...l)}return a}function C0(n){if(n._terminated)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||j6(n),n._firestoreClient}function j6(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new sD(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,iS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new R6(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(Gn.fromBase64String(e))}catch(t){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wi(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:gn("string",wi._jsonSchemaVersion),bytes:gn("string")};class R0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class I0{constructor(e){this._methodName=e}}class Ts{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(e){if(dh(e,Ts._jsonSchema))return new Ts(e.latitude,e.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:gn("string",Ts._jsonSchemaVersion),latitude:gn("number"),longitude:gn("number")};class ws{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ws(e.vectorValues);throw new Ee(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ws._jsonSchemaVersion="firestore/vectorValue/1.0",ws._jsonSchema={type:gn("string",ws._jsonSchemaVersion),vectorValues:gn("object")};const P6=/^__.*__$/;class V6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new mh(e,this.data,t,this.fieldTransforms)}}function aS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class O0{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new O0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aS(this.Ac)&&P6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class U6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jd(e)}Cc(e,t,i,a=!1){return new O0({Ac:e,methodName:t,Dc:i,path:Hn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D0(n){const e=n._freezeSettings(),t=Jd(n._databaseId);return new U6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oS(n,e,t,i,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);cS("Data must be an object, but it was:",c,i);const f=lS(i,c);let m,g;if(l.merge)m=new Ki(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const w=B6(e,E,t);if(!c.contains(w))throw new Ee(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);H6(_,w)||_.push(w)}m=new Ki(_),g=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=c.fieldTransforms;return new V6(new Ti(f),m,g)}class L0 extends I0{_toFieldTransform(e){return new OD(e.path,new Xc)}isEqual(e){return e instanceof L0}}function q6(n,e,t,i=!1){return M0(t,n.Cc(i?4:3,e))}function M0(n,e){if(uS(n=sr(n)))return cS("Unsupported field value:",e,n),lS(n,e);if(n instanceof I0)return(function(i,a){if(!aS(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=M0(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,a){if((i=sr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return CD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=jt.fromDate(i);return{timestampValue:Nd(a.serializer,l)}}if(i instanceof jt){const l=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nd(a.serializer,l)}}if(i instanceof Ts)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wi)return{bytesValue:xx(a.serializer,i._byteString)};if(i instanceof yn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:m0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ws)return(function(c,f){return{mapValue:{fields:{[ex]:{stringValue:tx},[Ad]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return c0(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Fd(i)}`)})(n,e)}function lS(n,e){const t={};return YA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(n,((i,a)=>{const l=M0(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function uS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jt||n instanceof Ts||n instanceof wi||n instanceof yn||n instanceof I0||n instanceof ws)}function cS(n,e,t){if(!uS(t)||!$A(t)){const i=Fd(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function B6(n,e,t){if((e=sr(e))instanceof R0)return e._internalPath;if(typeof e=="string")return hS(n,e);throw Od("Field path arguments must be of type string or ",n,!1,void 0,t)}const z6=new RegExp("[~\\*/\\[\\]]");function hS(n,e,t){if(e.search(z6)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new R0(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Od(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(oe.INVALID_ARGUMENT,f+n+m)}function H6(n,e){return n.some((t=>t.isEqual(e)))}class fS{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(k0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class F6 extends fS{data(){return super.data()}}function k0(n,e){return typeof e=="string"?hS(n,e):e instanceof R0?e._internalPath:e._delegate._internalPath}function G6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j0{}class dS extends j0{}function dl(n,e,...t){let i=[];e instanceof j0&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof V0)).length,f=l.filter((m=>m instanceof P0)).length;if(c>1||c>0&&f>0)throw new Ee(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class P0 extends dS{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new P0(e,t,i)}_apply(e){const t=this._parse(e);return mS(e._query,t),new fl(e.firestore,e.converter,ay(e._query,t))}_parse(e){const t=D0(e.firestore);return(function(l,c,f,m,g,_,E){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){gT(E,_);const O=[];for(const M of E)O.push(pT(m,l,M));w={arrayValue:{values:O}}}else w=pT(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||gT(E,_),w=q6(f,c,E,_==="in"||_==="not-in");return pn.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class V0 extends j0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new V0(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Zi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)mS(c,m),c=ay(c,m)})(e._query,t),new fl(e.firestore,e.converter,ay(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U0 extends dS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new U0(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(l,c)})(e._query,this._field,this._direction);return new fl(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Lu(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function ml(n,e="asc"){const t=e,i=k0("orderBy",n);return U0._create(i,t)}function pT(n,e,t){if(typeof(t=sr(t))=="string"){if(t==="")throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ux(e)&&t.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Rt.fromString(t));if(!ke.isDocumentKey(i))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return DE(n,new ke(i))}if(t instanceof yn)return DE(n,t._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(t)}.`)}function gT(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $6{convertValue(e,t="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ll(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Ad].arrayValue?.values?.map((i=>ln(i.doubleValue)));return new ws(t)}convertGeoPoint(e){return new Ts(ln(e.latitude),ln(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const t=yo(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Rt.fromString(e);pt(Ox(i),9688,{name:e});const a=new Kc(i.get(1),i.get(3)),l=new ke(i.popFirst(5));return a.isEqual(t)||ga(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function pS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xo extends fS{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(k0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:gn("string",Xo._jsonSchemaVersion),bundleSource:gn("string","DocumentSnapshot"),bundleName:gn("string"),bundle:gn("string")};class hd extends Xo{data(e={}){return super.data(e)}}class hu{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new hd(this._firestore,this._userDataWriter,i.key,i,new Ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new hd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ic(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new hd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ic(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:K6(f.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}function vh(n){n=ya(n,yn);const e=ya(n.firestore,ku);return D6(C0(e),n._key).then((t=>Y6(e,n,t)))}hu._jsonSchemaVersion="firestore/querySnapshot/1.0",hu._jsonSchema={type:gn("string",hu._jsonSchemaVersion),bundleSource:gn("string","QuerySnapshot"),bundleName:gn("string"),bundle:gn("string")};class gS extends $6{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function Ss(n){n=ya(n,fl);const e=ya(n.firestore,ku),t=C0(e),i=new gS(e);return G6(n._query),L6(t,n._query).then((a=>new hu(e,i,n,a)))}function yT(n,e,t){n=ya(n,yn);const i=ya(n.firestore,ku),a=pS(n.converter,e,t);return q0(i,[oS(D0(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Qi.none())])}function rm(n){return q0(ya(n.firestore,ku),[new h0(n._key,Qi.none())])}function im(n,e){const t=ya(n.firestore,ku),i=Ni(n),a=pS(n.converter,e);return q0(t,[oS(D0(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Qi.exists(!1))]).then((()=>i))}function q0(n,e){return(function(i,a){const l=new fa;return i.asyncQueue.enqueueAndForget((async()=>_6(await O6(i),a,l))),l.promise})(C0(n),e)}function Y6(n,e,t){const i=t.docs.get(e._key),a=new gS(n);return new Xo(n,a,e._key,i,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}function sm(){return new L0("serverTimestamp")}(function(e,t=!0){(function(a){Iu=a})(Cu),pu(new Zo("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ku(new q3(i.getProvider("auth-internal")),new H3(c,i.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(g.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),co(bE,_E,e),co(bE,_E,"esm2020")})();const Q6={apiKey:"AIzaSyB3nTJlyM3K-XpvEUrXyk3leiVeMxzkTiU",authDomain:"forexvolcano-21180.firebaseapp.com",projectId:"forexvolcano-21180",storageBucket:"forexvolcano-21180.firebasestorage.app",messagingSenderId:"264687169302",appId:"1:264687169302:web:83322d7adc303b1f0c2a37",measurementId:"G-XTB0D1TPS6"},yS=Jw(Q6),Xi=j3(yS),Pt=k6(yS),X6=()=>{const[n,e]=G.useState(null),t=Ao();G.useEffect(()=>{const a=Jy(Xi,l=>{e(l)});return()=>a()},[]);const i=async()=>{try{await SO(Xi),t("/")}catch(a){console.error("Error logging out",a)}};return b.jsx("nav",{className:"bg-surface border-b border-gray-800 sticky top-0 z-50",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between h-16",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(zn,{to:"/",className:"flex-shrink-0",children:b.jsxs("span",{className:"text-secondary text-2xl font-bold tracking-tighter",children:["Forex",b.jsx("span",{className:"text-accent",children:"Volcano"})]})}),b.jsx("div",{className:"hidden md:block",children:b.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[b.jsx(zn,{to:"/analysis",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Analysis"}),b.jsx(zn,{to:"/news",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"News"})]})})]}),b.jsx("div",{className:"hidden md:block",children:b.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:n?b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx(zn,{to:"/dashboard",className:"text-primary hover:text-green-400 font-medium px-3 py-2",children:"Dashboard"}),b.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]}):b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx(zn,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),b.jsx(zn,{to:"/register",className:"bg-primary hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Get Started"})]})})}),b.jsx("div",{className:"-mr-2 flex md:hidden",children:b.jsxs("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[b.jsx("span",{className:"sr-only",children:"Open main menu"}),b.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},W6=()=>b.jsx("footer",{className:"bg-[#05080f] border-t border-gray-800/50 py-12",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[b.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[b.jsxs(zn,{to:"/",className:"text-2xl font-bold tracking-tighter text-secondary",children:["Forex",b.jsx("span",{className:"text-accent",children:"Volcano"})]}),b.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[" ",new Date().getFullYear()," ForexVolcano. All rights reserved."]})]}),b.jsxs("div",{className:"flex space-x-8",children:[b.jsx(zn,{to:"/analysis",className:"text-gray-400 hover:text-white transition-colors",children:"Analysis"}),b.jsx(zn,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"News"}),b.jsx(zn,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})]})]})})}),vT={primary:"bg-primary hover:bg-green-500 text-white shadow-lg shadow-green-900/20",secondary:"bg-secondary hover:bg-red-500 text-white shadow-lg shadow-red-900/20",accent:"bg-accent hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",outline:"border-2 border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white bg-transparent",ghost:"text-slate-400 hover:text-white hover:bg-white/5"},bT={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base font-semibold",lg:"px-8 py-4 text-lg font-bold"},Tn=({children:n,variant:e="primary",size:t="md",to:i=null,onClick:a,className:l="",...c})=>{const f="inline-flex items-center justify-center rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e17] focus:ring-slate-400",m=vT[e]||vT.primary,g=bT[t]||bT.md,_=`${f} ${m} ${g} ${l}`;return i?b.jsx(zn,{to:i,className:_,...c,children:n}):b.jsx("button",{onClick:a,className:_,...c,children:n})},Z6=()=>b.jsxs("div",{className:"relative overflow-hidden bg-background pt-16 pb-32 lg:pt-32 lg:pb-40",children:[b.jsxs("div",{className:"absolute top-0 left-1/2 w-full -translate-x-1/2 h-full z-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px] animate-pulse"}),b.jsx("div",{className:"absolute top-[10%] right-[20%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[80px]"})]}),b.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[b.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-white mb-6",children:["Predict the ",b.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent",children:"Eruption"})]}),b.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-400 mb-10",children:"Professional Forex education and institutional-grade analysis. Stop guessing. Start trading with the precision of a geologist."}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[b.jsx(Tn,{to:"/register",variant:"primary",size:"lg",children:"Start Learning Free"}),b.jsx(Tn,{to:"/analysis",variant:"outline",size:"lg",children:"View Daily Analysis"})]}),b.jsxs("div",{className:"mt-16 relative",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent z-10 h-20 bottom-0 pointer-events-none"}),b.jsxs("div",{className:"inline-flex items-center gap-8 py-3 px-8 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm shadow-2xl",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold text-white",children:"EUR/USD"}),b.jsx("span",{className:"text-primary text-sm",children:" 1.0842"})]}),b.jsx("div",{className:"w-px h-4 bg-gray-700"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold text-white",children:"GBP/USD"}),b.jsx("span",{className:"text-secondary text-sm",children:" 1.2615"})]}),b.jsx("div",{className:"w-px h-4 bg-gray-700"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"font-bold text-white",children:"XAU/USD"}),b.jsx("span",{className:"text-accent text-sm",children:" 2045.50"})]})]})]})]})]}),J6=[{title:"Structured Learning Path",description:'From "What is a Pip?" to institutional order flow. Our curriculum guides you step-by-step through the chaos.',icon:b.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),borderColor:"border-primary/20",iconBg:"bg-primary/10"},{title:"Daily Market Analysis",description:`Don't trade alone. Get daily "Volcano Watch" reports identifying high-probability setups before they erupt.`,icon:b.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),borderColor:"border-secondary/20",iconBg:"bg-secondary/10"},{title:"Risk Management",description:"The volcano is dangerous. Learn how to survive. Our strict risk protocols are the core of our philosophy.",icon:b.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),borderColor:"border-accent/20",iconBg:"bg-accent/10"}],eL=()=>b.jsx("div",{className:"py-24 bg-surface",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h2",{className:"text-base text-accent font-semibold tracking-wide uppercase",children:"Why Choose Us"}),b.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"A Better Way to Trade"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:J6.map((n,e)=>b.jsxs("div",{className:`p-8 bg-background/50 border ${n.borderColor} rounded-2xl hover:bg-background transition-all duration-300`,children:[b.jsx("div",{className:`w-12 h-12 ${n.iconBg} rounded-lg flex items-center justify-center mb-6`,children:n.icon}),b.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:n.title}),b.jsx("p",{className:"text-gray-400 leading-relaxed",children:n.description})]},e))})]})}),tL=()=>b.jsxs("div",{className:"flex flex-col min-h-screen",children:[b.jsx(Z6,{}),b.jsx(eL,{})]}),vS=({title:n,subtitle:e,image:t,content:i,footer:a,badges:l=[],className:c=""})=>b.jsxs("div",{className:`group relative flex flex-col overflow-hidden rounded-2xl bg-surface border border-gray-800 transition-all duration-300 hover:border-gray-700 hover:shadow-2xl hover:shadow-primary/5 ${c}`,children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),t&&b.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-900",children:[b.jsx("img",{src:t,alt:n,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:f=>{f.target.style.display="none",f.target.parentElement.classList.add("flex","items-center","justify-center","bg-gray-800"),f.target.parentElement.innerHTML='<span class="text-4xl"></span>'}}),l.length>0&&b.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:l.map((f,m)=>b.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded uppercase tracking-wider ${f.color||"bg-gray-800 text-white"}`,children:f.text},m))})]}),b.jsxs("div",{className:"flex flex-1 flex-col p-6 z-10",children:[e&&b.jsx("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-400",children:e}),b.jsx("h3",{className:"mb-3 text-xl font-bold text-white group-hover:text-primary transition-colors",children:n}),b.jsx("p",{className:"flex-1 text-gray-400 line-clamp-3 mb-6",children:i}),a&&b.jsx("div",{className:"mt-auto border-t border-gray-800 pt-4",children:a})]})]}),_T=[{id:"1",pair:"EUR/USD",direction:"Bearish",title:"EUR/USD Forming Head and Shoulders on 4H",content:"Price has failed to break the 1.0900 resistance level multiple times. We are observing a clear H&S pattern formation. If the neckline at 1.0820 breaks, we expect a sharp decline towards the 1.0750 liquidity zone.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",pair:"XAU/USD",direction:"Bullish",title:"Gold Preparing for Eruption Above 2050",content:"Geopolitical tensions and a weakening dollar suggest Gold is accumulating for a massive leg up. Watch for a retest of 2035 as a potential entry point for long positions targeting new highs.",author:"Analyst Sarah",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"},{id:"3",pair:"GBP/JPY",direction:"Bullish",title:"The Dragon is Waking Up",content:"GJ is respecting the ascending trendline perfectly. The recent pullback to 182.00 was rejected strongly. We are looking for continuation towards 185.00 level.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"}],nL=()=>{const[n,e]=G.useState([]),[t,i]=G.useState(!0),[a,l]=G.useState("All");G.useEffect(()=>{(async()=>{try{const g=dl(Lr(Pt,"analysis"),ml("timestamp","desc")),E=(await Ss(g)).docs.map(w=>({id:w.id,...w.data()}));E.length>0?e(E):e(_T)}catch(g){console.error("Error fetching analysis:",g),e(_T)}finally{i(!1)}})()},[]);const c=a==="All"?n:n.filter(m=>m.pair===a),f=["All",...new Set(n.map(m=>m.pair))];return b.jsx("div",{className:"bg-background min-h-screen py-12",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",b.jsx("span",{className:"text-primary",children:"Analysis"})]}),b.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Daily technical breakdowns and trade setups from our experts."})]}),b.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:f.map(m=>b.jsx("button",{onClick:()=>l(m),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${a===m?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:m},m))}),t?b.jsx("div",{className:"text-center text-white py-20",children:"Loading Volcano Data..."}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(m=>{const g=m.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return b.jsx(vS,{title:m.title,image:m.image||m.chart_image_url,content:m.content,subtitle:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-gray-500 text-xs",children:m.timestamp?.seconds?new Date(m.timestamp.seconds*1e3).toLocaleDateString():m.timestamp||new Date().toLocaleDateString()}),b.jsx("span",{className:"text-gray-600",children:""}),b.jsxs("span",{className:"text-gray-500 text-xs text-accent",children:["By ",m.author||"Admin"]})]}),badges:[{text:m.pair,color:"bg-surface border border-gray-700 text-white"},{text:m.direction,color:g}],footer:b.jsxs(Tn,{variant:"ghost",size:"sm",className:"w-full justify-between group-hover:text-white",children:["Read Full Breakdown",b.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})},m.id)})})]})})},ET=[{id:"1",title:"NFP Smashes Expectations: 350k Jobs Added",impact:"High",affectedCurrencies:["USD","XAU","JPY"],content:"The Non-Farm Payrolls report showed a surprise surge in job creation, sending the Dollar Index (DXY) rocketing past 104.50. Traders should watch for pullbacks on Gold.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",title:"ECB Signals Rate Cuts in June",impact:"Medium",affectedCurrencies:["EUR","GBP"],content:"Lagarde hinted that inflation is under control, opening the door for a 25bps cut. Euro is showing weakness against the Pound.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"},{id:"3",title:"BoJ Maintains Ultra-Loose Policy",impact:"Low",affectedCurrencies:["JPY"],content:"No surprises from the Bank of Japan. Yield Curve Control remains in place. USD/JPY is drifting sideways in a tight range.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"}],rL={High:"bg-red-500/20 text-red-500 border border-red-500/50",Medium:"bg-orange-500/20 text-orange-500 border border-orange-500/50",Low:"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50"},iL=()=>{const[n,e]=G.useState([]),[t,i]=G.useState(!0),a=l=>{if(!l)return"";const c=l.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),f=document.createElement("DIV");return f.innerHTML=c,(f.textContent||f.innerText||"").trim()};return G.useEffect(()=>{(async()=>{try{const c=dl(Lr(Pt,"news"),ml("timestamp","desc")),m=(await Ss(c)).docs.map(g=>({id:g.id,...g.data()}));m.length>0?e(m):e(ET)}catch(c){console.error("Error fetching news:",c),e(ET)}finally{i(!1)}})()},[]),b.jsx("div",{className:"bg-background min-h-screen py-12",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",b.jsx("span",{className:"text-accent",children:"News"})]}),b.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Stay ahead of the volatility with real-time economic updates."})]}),t?b.jsx("div",{className:"text-center text-white py-20",children:"Loading Earth-shaking Events..."}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(l=>b.jsx(zn,{to:`/news/${l.id}`,className:"block group",children:b.jsx(vS,{title:l.title,image:l.image,content:a(l.content),subtitle:b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("span",{className:"text-gray-500 text-xs",children:l.timestamp?.seconds?new Date(l.timestamp.seconds*1e3).toLocaleDateString():l.timestamp||new Date().toLocaleDateString()})}),badges:[{text:l.impact,color:rL[l.impact]||"bg-gray-800 text-white"},...(l.affectedCurrencies||[]).map(c=>({text:c,color:"bg-surface border border-gray-700 text-white"}))]})},l.id))})]})})},sL=()=>{const{id:n}=Mw(),e=Ao(),[t,i]=G.useState(null),[a,l]=G.useState(!0);if(G.useEffect(()=>{(async()=>{try{const m=Ni(Pt,"news",n),g=await vh(m);g.exists()?i({id:g.id,...g.data()}):(console.log("No such document!"),e("/news"))}catch(m){console.error("Error fetching news detail:",m)}finally{l(!1)}})()},[n,e]),a)return b.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const c=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString();return b.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx(Tn,{variant:"ghost",onClick:()=>e("/news"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to News"}),b.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[t.image&&b.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[b.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),b.jsxs("div",{className:"p-8 sm:p-12",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[b.jsx("span",{className:"text-gray-400 text-sm",children:c}),b.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                                ${t.impact==="High"?"bg-red-500/20 text-red-400":t.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:[t.impact," Impact"]}),t.affectedCurrencies&&t.affectedCurrencies.map&&t.affectedCurrencies.map(f=>b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300 border border-gray-700",children:f},f))]}),b.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),b.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:t.content}})]})]})]})})},aL=()=>{const[n,e]=G.useState(""),[t,i]=G.useState(""),[a,l]=G.useState(""),[c,f]=G.useState(!1),m=Ao(),g=async w=>{try{const x=await vh(Ni(Pt,"users",w));x.exists()&&x.data().role==="admin"?m("/admin"):m("/dashboard")}catch(x){console.error("Error checking role:",x),m("/dashboard")}},_=async w=>{w.preventDefault(),l(""),f(!0);try{const x=await EO(Xi,n,t);await g(x.user.uid)}catch(x){console.error(x),l("Failed to login. Please check your credentials.")}finally{f(!1)}},E=async()=>{try{const w=new vs,x=await kA(Xi,w);await g(x.user.uid)}catch(w){console.error(w),l("Failed to sign in with Google")}};return b.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[b.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Sign in to ",b.jsx("span",{className:"text-secondary",children:"Volcano"})]}),b.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",b.jsx(zn,{to:"/register",className:"font-medium text-primary hover:text-green-400",children:"start your 14-day free trial"})]})]}),b.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:b.jsxs("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:[b.jsxs("form",{className:"space-y-6",onSubmit:_,children:[a&&b.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:a}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:w=>e(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:w=>i(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),b.jsx("div",{children:b.jsx(Tn,{type:"submit",variant:"primary",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:c,children:c?"Signing in...":"Sign in"})})]}),b.jsxs("div",{className:"mt-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-gray-700"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),b.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:b.jsx("div",{children:b.jsxs("button",{type:"button",onClick:E,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[b.jsx("span",{className:"sr-only",children:"Sign in with Google"}),b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:b.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})})]})},oL=()=>{const[n,e]=G.useState(""),[t,i]=G.useState(""),[a,l]=G.useState(""),[c,f]=G.useState(""),[m,g]=G.useState(!1),_=Ao(),E=async x=>{x.preventDefault(),f(""),g(!0);try{const M=(await _O(Xi,t,a)).user;await wO(M,{displayName:n}),await yT(Ni(Pt,"users",M.uid),{uid:M.uid,username:n,email:t,role:"user",createdAt:new Date().toISOString(),avatar_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=random`}),_("/dashboard")}catch(O){console.error(O),O.code==="auth/email-already-in-use"?f("Email already in use."):f("Failed to create account. Please try again.")}finally{g(!1)}},w=async()=>{try{const x=new vs,M=(await kA(Xi,x)).user;await yT(Ni(Pt,"users",M.uid),{uid:M.uid,username:M.displayName,email:M.email,role:"user",createdAt:new Date().toISOString(),avatar_url:M.photoURL},{merge:!0}),_("/dashboard")}catch(x){console.error(x),f("Failed to sign up with Google")}};return b.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[b.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Join the ",b.jsx("span",{className:"text-secondary",children:"Eruption"})]}),b.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Already have an account?"," ",b.jsx(zn,{to:"/login",className:"font-medium text-primary hover:text-green-400",children:"Sign in"})]})]}),b.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[b.jsx("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:b.jsxs("form",{className:"space-y-6",onSubmit:E,children:[c&&b.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:c}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:n,onChange:x=>e(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:x=>i(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:a,onChange:x=>l(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),b.jsx("div",{children:b.jsx(Tn,{type:"submit",variant:"primary",className:"w-full justify-center",disabled:m,children:m?"Creating Account...":"Sign up"})})]})}),b.jsxs("div",{className:"mt-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-gray-700"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),b.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:b.jsx("div",{children:b.jsxs("button",{type:"button",onClick:w,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[b.jsx("span",{className:"sr-only",children:"Sign up with Google"}),b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:b.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})]})},lL=[{id:"c1",title:"Forex Foundations: The Bedrock",progress:100,totalLessons:12,completedLessons:12,image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"c2",title:"Price Action Mastery",progress:45,totalLessons:20,completedLessons:9,image:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?q=80&w=1000&auto=format&fit=crop"},{id:"c3",title:"Institutional Order Flow",progress:0,totalLessons:15,completedLessons:0,image:"https://images.unsplash.com/photo-1642543492481-44e81e3914a7?q=80&w=1000&auto=format&fit=crop"}],uL=()=>{const[n,e]=G.useState(null),[t,i]=G.useState(!0);G.useEffect(()=>{(async()=>{if(Xi.currentUser)try{const c=Ni(Pt,"users",Xi.currentUser.uid),f=await vh(c);f.exists()&&e(f.data())}catch(c){console.error("Error fetching user data:",c)}finally{i(!1)}})()},[]);const a=n?.username||Xi.currentUser?.displayName||"Trader";return b.jsxs("div",{className:"min-h-screen bg-background text-white",children:[b.jsx("div",{className:"bg-surface border-b border-gray-800",children:b.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:b.jsx("img",{src:n?.avatar_url||`https://ui-avatars.com/api/?name=${a}`,alt:"Profile",className:"h-full w-full rounded-full bg-background object-cover"})}),b.jsxs("div",{children:[b.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",b.jsx("span",{className:"text-primary",children:a})]}),b.jsx("p",{className:"mt-1 text-gray-400",children:"Ready to dominate the markets today?"})]})]})})}),b.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-12",children:[b.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:b.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[b.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Total Progress"}),b.jsx("dd",{className:"mt-1 text-3xl font-semibold text-white",children:"48%"})]})}),b.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:b.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[b.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Courses Completed"}),b.jsx("dd",{className:"mt-1 text-3xl font-semibold text-primary",children:"1"})]})}),b.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:b.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[b.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Quiz Score Avg"}),b.jsx("dd",{className:"mt-1 text-3xl font-semibold text-secondary",children:"92%"})]})})]}),b.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Courses"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:lL.map(l=>b.jsxs("div",{className:"bg-surface rounded-xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-colors group",children:[b.jsxs("div",{className:"h-48 overflow-hidden relative",children:[b.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),b.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Tn,{variant:"primary",size:"sm",children:"Continue Learning"})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:l.title}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[b.jsx("span",{children:"Progress"}),b.jsxs("span",{children:[l.progress,"%"]})]}),b.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:b.jsx("div",{className:`h-2 rounded-full ${l.progress===100?"bg-primary":"bg-secondary"}`,style:{width:`${l.progress}%`}})})]}),b.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:[b.jsxs("span",{children:[l.completedLessons,"/",l.totalLessons," Lessons"]}),l.progress===100&&b.jsxs("span",{className:"text-primary flex items-center gap-1",children:[b.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]})]})]})]},l.id))})]})]})},cL=()=>{const[n,e]=G.useState(!1),[t,i]=G.useState(!0),a=Ao();return G.useEffect(()=>{const l=Jy(Xi,async c=>{if(c)try{const f=await vh(Ni(Pt,"users",c.uid));f.exists()&&f.data().role==="admin"?e(!0):a("/dashboard")}catch(f){console.error("Admin check failed",f),a("/dashboard")}else a("/login");i(!1)});return()=>l()},[a]),t?b.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),b.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):n?b.jsxs("div",{className:"min-h-screen bg-background flex",children:[b.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[b.jsx("div",{className:"p-6 border-b border-gray-800",children:b.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",b.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),b.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[b.jsx(zf,{to:"/admin",end:!0,children:"Dashboard"}),b.jsx(zf,{to:"/admin/news",children:"Manage News"}),b.jsx(zf,{to:"/admin/analysis",children:"Manage Analysis"}),b.jsx(zf,{to:"/admin/courses",children:"Manage Courses"})]}),b.jsxs("div",{className:"p-4 border-t border-gray-800",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),b.jsxs("div",{className:"text-sm",children:[b.jsx("div",{className:"text-white font-medium",children:"Administrator"}),b.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),b.jsx(Tn,{variant:"outline",size:"sm",className:"w-full",onClick:()=>a("/"),children:"Exit to Site"})]})]}),b.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[b.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),b.jsx(Tn,{size:"sm",onClick:()=>a("/"),children:"Exit"})]}),b.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:b.jsx(rR,{})})]}):null},zf=({to:n,children:e,end:t=!1})=>b.jsx(Bw,{to:n,end:t,className:({isActive:i})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${i?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:e}),hL=()=>b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"System Overview"}),b.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[b.jsx(Hf,{title:"Total Users",value:"1,234",change:"+12%",color:"primary"}),b.jsx(Hf,{title:"Active Courses",value:"8",change:"0%",color:"white"}),b.jsx(Hf,{title:"Analysis Posts",value:"156",change:"+5 this week",color:"secondary"}),b.jsx(Hf,{title:"News Alerts",value:"892",change:"+24 today",color:"accent"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx(Ng,{label:"Post New Analysis",to:"/admin/analysis"}),b.jsx(Ng,{label:"Broadcast News Alert",to:"/admin/news"}),b.jsx(Ng,{label:"Review New User Signups",to:"#"})]})]}),b.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"System Status"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx(Cg,{label:"Database Connection",status:"Healthy"}),b.jsx(Cg,{label:"Auth Service",status:"Healthy"}),b.jsx(Cg,{label:"API Latency",status:"24ms"})]})]})]})]}),Hf=({title:n,value:e,change:t,color:i})=>{const a={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white"};return b.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-gray-800",children:[b.jsx("p",{className:"text-sm font-medium text-gray-400",children:n}),b.jsxs("div",{className:"mt-2 flex items-baseline",children:[b.jsx("p",{className:`text-3xl font-semibold ${a[i]||"text-white"}`,children:e}),b.jsx("p",{className:"ml-2 text-sm text-gray-500",children:t})]})]})},Ng=({label:n})=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:[b.jsx("span",{className:"text-gray-300",children:n}),b.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),Cg=({label:n,status:e})=>b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-gray-400",children:n}),b.jsxs("span",{className:"flex items-center text-primary text-sm font-medium",children:[b.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mr-2"}),e]})]});var bS=typeof global=="object"&&global&&global.Object===Object&&global,fL=typeof self=="object"&&self&&self.Object===Object&&self,Cs=bS||fL||Function("return this")(),To=Cs.Symbol,_S=Object.prototype,dL=_S.hasOwnProperty,mL=_S.toString,wc=To?To.toStringTag:void 0;function pL(n){var e=dL.call(n,wc),t=n[wc];try{n[wc]=void 0;var i=!0}catch{}var a=mL.call(n);return i&&(e?n[wc]=t:delete n[wc]),a}var gL=Object.prototype,yL=gL.toString;function vL(n){return yL.call(n)}var bL="[object Null]",_L="[object Undefined]",TT=To?To.toStringTag:void 0;function ju(n){return n==null?n===void 0?_L:bL:TT&&TT in Object(n)?pL(n):vL(n)}function ba(n){return n!=null&&typeof n=="object"}var rl=Array.isArray;function No(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function ES(n){return n}var EL="[object AsyncFunction]",TL="[object Function]",wL="[object GeneratorFunction]",AL="[object Proxy]";function B0(n){if(!No(n))return!1;var e=ju(n);return e==TL||e==wL||e==EL||e==AL}var Rg=Cs["__core-js_shared__"],wT=(function(){var n=/[^.]+$/.exec(Rg&&Rg.keys&&Rg.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function xL(n){return!!wT&&wT in n}var SL=Function.prototype,NL=SL.toString;function pl(n){if(n!=null){try{return NL.call(n)}catch{}try{return n+""}catch{}}return""}var CL=/[\\^$.*+?()[\]{}|]/g,RL=/^\[object .+?Constructor\]$/,IL=Function.prototype,OL=Object.prototype,DL=IL.toString,LL=OL.hasOwnProperty,ML=RegExp("^"+DL.call(LL).replace(CL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kL(n){if(!No(n)||xL(n))return!1;var e=B0(n)?ML:RL;return e.test(pl(n))}function jL(n,e){return n?.[e]}function gl(n,e){var t=jL(n,e);return kL(t)?t:void 0}var yy=gl(Cs,"WeakMap"),AT=Object.create,PL=(function(){function n(){}return function(e){if(!No(e))return{};if(AT)return AT(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function VL(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function UL(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var qL=800,BL=16,zL=Date.now;function HL(n){var e=0,t=0;return function(){var i=zL(),a=BL-(i-t);if(t=i,a>0){if(++e>=qL)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function FL(n){return function(){return n}}var Dd=(function(){try{var n=gl(Object,"defineProperty");return n({},"",{}),n}catch{}})(),GL=Dd?function(n,e){return Dd(n,"toString",{configurable:!0,enumerable:!1,value:FL(e),writable:!0})}:ES,$L=HL(GL);function KL(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var YL=9007199254740991,QL=/^(?:0|[1-9]\d*)$/;function TS(n,e){var t=typeof n;return e=e??YL,!!e&&(t=="number"||t!="symbol"&&QL.test(n))&&n>-1&&n%1==0&&n<e}function z0(n,e,t){e=="__proto__"&&Dd?Dd(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function bh(n,e){return n===e||n!==n&&e!==e}var XL=Object.prototype,WL=XL.hasOwnProperty;function wS(n,e,t){var i=n[e];(!(WL.call(n,e)&&bh(i,t))||t===void 0&&!(e in n))&&z0(n,e,t)}function ZL(n,e,t,i){var a=!t;t||(t={});for(var l=-1,c=e.length;++l<c;){var f=e[l],m=void 0;m===void 0&&(m=n[f]),a?z0(t,f,m):wS(t,f,m)}return t}var xT=Math.max;function JL(n,e,t){return e=xT(e===void 0?n.length-1:e,0),function(){for(var i=arguments,a=-1,l=xT(i.length-e,0),c=Array(l);++a<l;)c[a]=i[e+a];a=-1;for(var f=Array(e+1);++a<e;)f[a]=i[a];return f[e]=t(c),VL(n,this,f)}}function eM(n,e){return $L(JL(n,e,ES),n+"")}var tM=9007199254740991;function AS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=tM}function am(n){return n!=null&&AS(n.length)&&!B0(n)}function nM(n,e,t){if(!No(t))return!1;var i=typeof e;return(i=="number"?am(t)&&TS(e,t.length):i=="string"&&e in t)?bh(t[e],n):!1}function rM(n){return eM(function(e,t){var i=-1,a=t.length,l=a>1?t[a-1]:void 0,c=a>2?t[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,c&&nM(t[0],t[1],c)&&(l=a<3?void 0:l,a=1),e=Object(e);++i<a;){var f=t[i];f&&n(e,f,i,l)}return e})}var iM=Object.prototype;function H0(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||iM;return n===t}function sM(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var aM="[object Arguments]";function ST(n){return ba(n)&&ju(n)==aM}var xS=Object.prototype,oM=xS.hasOwnProperty,lM=xS.propertyIsEnumerable,vy=ST((function(){return arguments})())?ST:function(n){return ba(n)&&oM.call(n,"callee")&&!lM.call(n,"callee")};function uM(){return!1}var SS=typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,NT=SS&&typeof Jr=="object"&&Jr&&!Jr.nodeType&&Jr,cM=NT&&NT.exports===SS,CT=cM?Cs.Buffer:void 0,hM=CT?CT.isBuffer:void 0,Jc=hM||uM,fM="[object Arguments]",dM="[object Array]",mM="[object Boolean]",pM="[object Date]",gM="[object Error]",yM="[object Function]",vM="[object Map]",bM="[object Number]",_M="[object Object]",EM="[object RegExp]",TM="[object Set]",wM="[object String]",AM="[object WeakMap]",xM="[object ArrayBuffer]",SM="[object DataView]",NM="[object Float32Array]",CM="[object Float64Array]",RM="[object Int8Array]",IM="[object Int16Array]",OM="[object Int32Array]",DM="[object Uint8Array]",LM="[object Uint8ClampedArray]",MM="[object Uint16Array]",kM="[object Uint32Array]",kt={};kt[NM]=kt[CM]=kt[RM]=kt[IM]=kt[OM]=kt[DM]=kt[LM]=kt[MM]=kt[kM]=!0;kt[fM]=kt[dM]=kt[xM]=kt[mM]=kt[SM]=kt[pM]=kt[gM]=kt[yM]=kt[vM]=kt[bM]=kt[_M]=kt[EM]=kt[TM]=kt[wM]=kt[AM]=!1;function jM(n){return ba(n)&&AS(n.length)&&!!kt[ju(n)]}function F0(n){return function(e){return n(e)}}var NS=typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,qc=NS&&typeof Jr=="object"&&Jr&&!Jr.nodeType&&Jr,PM=qc&&qc.exports===NS,Ig=PM&&bS.process,wu=(function(){try{var n=qc&&qc.require&&qc.require("util").types;return n||Ig&&Ig.binding&&Ig.binding("util")}catch{}})(),RT=wu&&wu.isTypedArray,G0=RT?F0(RT):jM,VM=Object.prototype,UM=VM.hasOwnProperty;function CS(n,e){var t=rl(n),i=!t&&vy(n),a=!t&&!i&&Jc(n),l=!t&&!i&&!a&&G0(n),c=t||i||a||l,f=c?sM(n.length,String):[],m=f.length;for(var g in n)(e||UM.call(n,g))&&!(c&&(g=="length"||a&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||TS(g,m)))&&f.push(g);return f}function RS(n,e){return function(t){return n(e(t))}}var qM=RS(Object.keys,Object),BM=Object.prototype,zM=BM.hasOwnProperty;function HM(n){if(!H0(n))return qM(n);var e=[];for(var t in Object(n))zM.call(n,t)&&t!="constructor"&&e.push(t);return e}function FM(n){return am(n)?CS(n):HM(n)}function GM(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var $M=Object.prototype,KM=$M.hasOwnProperty;function YM(n){if(!No(n))return GM(n);var e=H0(n),t=[];for(var i in n)i=="constructor"&&(e||!KM.call(n,i))||t.push(i);return t}function IS(n){return am(n)?CS(n,!0):YM(n)}var eh=gl(Object,"create");function QM(){this.__data__=eh?eh(null):{},this.size=0}function XM(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var WM="__lodash_hash_undefined__",ZM=Object.prototype,JM=ZM.hasOwnProperty;function ek(n){var e=this.__data__;if(eh){var t=e[n];return t===WM?void 0:t}return JM.call(e,n)?e[n]:void 0}var tk=Object.prototype,nk=tk.hasOwnProperty;function rk(n){var e=this.__data__;return eh?e[n]!==void 0:nk.call(e,n)}var ik="__lodash_hash_undefined__";function sk(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=eh&&e===void 0?ik:e,this}function il(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}il.prototype.clear=QM;il.prototype.delete=XM;il.prototype.get=ek;il.prototype.has=rk;il.prototype.set=sk;function ak(){this.__data__=[],this.size=0}function om(n,e){for(var t=n.length;t--;)if(bh(n[t][0],e))return t;return-1}var ok=Array.prototype,lk=ok.splice;function uk(n){var e=this.__data__,t=om(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():lk.call(e,t,1),--this.size,!0}function ck(n){var e=this.__data__,t=om(e,n);return t<0?void 0:e[t][1]}function hk(n){return om(this.__data__,n)>-1}function fk(n,e){var t=this.__data__,i=om(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function wa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}wa.prototype.clear=ak;wa.prototype.delete=uk;wa.prototype.get=ck;wa.prototype.has=hk;wa.prototype.set=fk;var th=gl(Cs,"Map");function dk(){this.size=0,this.__data__={hash:new il,map:new(th||wa),string:new il}}function mk(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function lm(n,e){var t=n.__data__;return mk(e)?t[typeof e=="string"?"string":"hash"]:t.map}function pk(n){var e=lm(this,n).delete(n);return this.size-=e?1:0,e}function gk(n){return lm(this,n).get(n)}function yk(n){return lm(this,n).has(n)}function vk(n,e){var t=lm(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function yl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}yl.prototype.clear=dk;yl.prototype.delete=pk;yl.prototype.get=gk;yl.prototype.has=yk;yl.prototype.set=vk;function bk(n,e){for(var t=-1,i=e.length,a=n.length;++t<i;)n[a+t]=e[t];return n}var OS=RS(Object.getPrototypeOf,Object),_k="[object Object]",Ek=Function.prototype,Tk=Object.prototype,DS=Ek.toString,wk=Tk.hasOwnProperty,Ak=DS.call(Object);function xk(n){if(!ba(n)||ju(n)!=_k)return!1;var e=OS(n);if(e===null)return!0;var t=wk.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&DS.call(t)==Ak}function Sk(){this.__data__=new wa,this.size=0}function Nk(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Ck(n){return this.__data__.get(n)}function Rk(n){return this.__data__.has(n)}var Ik=200;function Ok(n,e){var t=this.__data__;if(t instanceof wa){var i=t.__data__;if(!th||i.length<Ik-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new yl(i)}return t.set(n,e),this.size=t.size,this}function As(n){var e=this.__data__=new wa(n);this.size=e.size}As.prototype.clear=Sk;As.prototype.delete=Nk;As.prototype.get=Ck;As.prototype.has=Rk;As.prototype.set=Ok;var LS=typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,IT=LS&&typeof Jr=="object"&&Jr&&!Jr.nodeType&&Jr,Dk=IT&&IT.exports===LS,OT=Dk?Cs.Buffer:void 0,DT=OT?OT.allocUnsafe:void 0;function MS(n,e){if(e)return n.slice();var t=n.length,i=DT?DT(t):new n.constructor(t);return n.copy(i),i}function Lk(n,e){for(var t=-1,i=n==null?0:n.length,a=0,l=[];++t<i;){var c=n[t];e(c,t,n)&&(l[a++]=c)}return l}function Mk(){return[]}var kk=Object.prototype,jk=kk.propertyIsEnumerable,LT=Object.getOwnPropertySymbols,Pk=LT?function(n){return n==null?[]:(n=Object(n),Lk(LT(n),function(e){return jk.call(n,e)}))}:Mk;function Vk(n,e,t){var i=e(n);return rl(n)?i:bk(i,t(n))}function by(n){return Vk(n,FM,Pk)}var _y=gl(Cs,"DataView"),Ey=gl(Cs,"Promise"),Ty=gl(Cs,"Set"),MT="[object Map]",Uk="[object Object]",kT="[object Promise]",jT="[object Set]",PT="[object WeakMap]",VT="[object DataView]",qk=pl(_y),Bk=pl(th),zk=pl(Ey),Hk=pl(Ty),Fk=pl(yy),Hi=ju;(_y&&Hi(new _y(new ArrayBuffer(1)))!=VT||th&&Hi(new th)!=MT||Ey&&Hi(Ey.resolve())!=kT||Ty&&Hi(new Ty)!=jT||yy&&Hi(new yy)!=PT)&&(Hi=function(n){var e=ju(n),t=e==Uk?n.constructor:void 0,i=t?pl(t):"";if(i)switch(i){case qk:return VT;case Bk:return MT;case zk:return kT;case Hk:return jT;case Fk:return PT}return e});var Gk=Object.prototype,$k=Gk.hasOwnProperty;function Kk(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&$k.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Ld=Cs.Uint8Array;function $0(n){var e=new n.constructor(n.byteLength);return new Ld(e).set(new Ld(n)),e}function Yk(n,e){var t=$0(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var Qk=/\w*$/;function Xk(n){var e=new n.constructor(n.source,Qk.exec(n));return e.lastIndex=n.lastIndex,e}var UT=To?To.prototype:void 0,qT=UT?UT.valueOf:void 0;function Wk(n){return qT?Object(qT.call(n)):{}}function kS(n,e){var t=e?$0(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Zk="[object Boolean]",Jk="[object Date]",e9="[object Map]",t9="[object Number]",n9="[object RegExp]",r9="[object Set]",i9="[object String]",s9="[object Symbol]",a9="[object ArrayBuffer]",o9="[object DataView]",l9="[object Float32Array]",u9="[object Float64Array]",c9="[object Int8Array]",h9="[object Int16Array]",f9="[object Int32Array]",d9="[object Uint8Array]",m9="[object Uint8ClampedArray]",p9="[object Uint16Array]",g9="[object Uint32Array]";function y9(n,e,t){var i=n.constructor;switch(e){case a9:return $0(n);case Zk:case Jk:return new i(+n);case o9:return Yk(n);case l9:case u9:case c9:case h9:case f9:case d9:case m9:case p9:case g9:return kS(n,t);case e9:return new i;case t9:case i9:return new i(n);case n9:return Xk(n);case r9:return new i;case s9:return Wk(n)}}function jS(n){return typeof n.constructor=="function"&&!H0(n)?PL(OS(n)):{}}var v9="[object Map]";function b9(n){return ba(n)&&Hi(n)==v9}var BT=wu&&wu.isMap,_9=BT?F0(BT):b9,E9="[object Set]";function T9(n){return ba(n)&&Hi(n)==E9}var zT=wu&&wu.isSet,w9=zT?F0(zT):T9,A9=1,PS="[object Arguments]",x9="[object Array]",S9="[object Boolean]",N9="[object Date]",C9="[object Error]",VS="[object Function]",R9="[object GeneratorFunction]",I9="[object Map]",O9="[object Number]",US="[object Object]",D9="[object RegExp]",L9="[object Set]",M9="[object String]",k9="[object Symbol]",j9="[object WeakMap]",P9="[object ArrayBuffer]",V9="[object DataView]",U9="[object Float32Array]",q9="[object Float64Array]",B9="[object Int8Array]",z9="[object Int16Array]",H9="[object Int32Array]",F9="[object Uint8Array]",G9="[object Uint8ClampedArray]",$9="[object Uint16Array]",K9="[object Uint32Array]",Ct={};Ct[PS]=Ct[x9]=Ct[P9]=Ct[V9]=Ct[S9]=Ct[N9]=Ct[U9]=Ct[q9]=Ct[B9]=Ct[z9]=Ct[H9]=Ct[I9]=Ct[O9]=Ct[US]=Ct[D9]=Ct[L9]=Ct[M9]=Ct[k9]=Ct[F9]=Ct[G9]=Ct[$9]=Ct[K9]=!0;Ct[C9]=Ct[VS]=Ct[j9]=!1;function fd(n,e,t,i,a,l){var c,f=e&A9;if(c!==void 0)return c;if(!No(n))return n;var m=rl(n);if(m)c=Kk(n);else{var g=Hi(n),_=g==VS||g==R9;if(Jc(n))return MS(n,f);if(g==US||g==PS||_&&!a)c=_?{}:jS(n);else{if(!Ct[g])return a?n:{};c=y9(n,g,f)}}l||(l=new As);var E=l.get(n);if(E)return E;l.set(n,c),w9(n)?n.forEach(function(O){c.add(fd(O,e,t,O,n,l))}):_9(n)&&n.forEach(function(O,M){c.set(M,fd(O,e,t,M,n,l))});var w=by,x=m?void 0:w(n);return KL(x||n,function(O,M){x&&(M=O,O=n[M]),wS(c,M,fd(O,e,t,M,n,l))}),c}var Y9=1,Q9=4;function fu(n){return fd(n,Y9|Q9)}var X9="__lodash_hash_undefined__";function W9(n){return this.__data__.set(n,X9),this}function Z9(n){return this.__data__.has(n)}function Md(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new yl;++e<t;)this.add(n[e])}Md.prototype.add=Md.prototype.push=W9;Md.prototype.has=Z9;function J9(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function ej(n,e){return n.has(e)}var tj=1,nj=2;function qS(n,e,t,i,a,l){var c=t&tj,f=n.length,m=e.length;if(f!=m&&!(c&&m>f))return!1;var g=l.get(n),_=l.get(e);if(g&&_)return g==e&&_==n;var E=-1,w=!0,x=t&nj?new Md:void 0;for(l.set(n,e),l.set(e,n);++E<f;){var O=n[E],M=e[E];if(i)var k=c?i(M,O,E,e,n,l):i(O,M,E,n,e,l);if(k!==void 0){if(k)continue;w=!1;break}if(x){if(!J9(e,function(F,K){if(!ej(x,K)&&(O===F||a(O,F,t,i,l)))return x.push(K)})){w=!1;break}}else if(!(O===M||a(O,M,t,i,l))){w=!1;break}}return l.delete(n),l.delete(e),w}function rj(n){var e=-1,t=Array(n.size);return n.forEach(function(i,a){t[++e]=[a,i]}),t}function ij(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var sj=1,aj=2,oj="[object Boolean]",lj="[object Date]",uj="[object Error]",cj="[object Map]",hj="[object Number]",fj="[object RegExp]",dj="[object Set]",mj="[object String]",pj="[object Symbol]",gj="[object ArrayBuffer]",yj="[object DataView]",HT=To?To.prototype:void 0,Og=HT?HT.valueOf:void 0;function vj(n,e,t,i,a,l,c){switch(t){case yj:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case gj:return!(n.byteLength!=e.byteLength||!l(new Ld(n),new Ld(e)));case oj:case lj:case hj:return bh(+n,+e);case uj:return n.name==e.name&&n.message==e.message;case fj:case mj:return n==e+"";case cj:var f=rj;case dj:var m=i&sj;if(f||(f=ij),n.size!=e.size&&!m)return!1;var g=c.get(n);if(g)return g==e;i|=aj,c.set(n,e);var _=qS(f(n),f(e),i,a,l,c);return c.delete(n),_;case pj:if(Og)return Og.call(n)==Og.call(e)}return!1}var bj=1,_j=Object.prototype,Ej=_j.hasOwnProperty;function Tj(n,e,t,i,a,l){var c=t&bj,f=by(n),m=f.length,g=by(e),_=g.length;if(m!=_&&!c)return!1;for(var E=m;E--;){var w=f[E];if(!(c?w in e:Ej.call(e,w)))return!1}var x=l.get(n),O=l.get(e);if(x&&O)return x==e&&O==n;var M=!0;l.set(n,e),l.set(e,n);for(var k=c;++E<m;){w=f[E];var F=n[w],K=e[w];if(i)var re=c?i(K,F,w,e,n,l):i(F,K,w,n,e,l);if(!(re===void 0?F===K||a(F,K,t,i,l):re)){M=!1;break}k||(k=w=="constructor")}if(M&&!k){var be=n.constructor,ve=e.constructor;be!=ve&&"constructor"in n&&"constructor"in e&&!(typeof be=="function"&&be instanceof be&&typeof ve=="function"&&ve instanceof ve)&&(M=!1)}return l.delete(n),l.delete(e),M}var wj=1,FT="[object Arguments]",GT="[object Array]",Ff="[object Object]",Aj=Object.prototype,$T=Aj.hasOwnProperty;function xj(n,e,t,i,a,l){var c=rl(n),f=rl(e),m=c?GT:Hi(n),g=f?GT:Hi(e);m=m==FT?Ff:m,g=g==FT?Ff:g;var _=m==Ff,E=g==Ff,w=m==g;if(w&&Jc(n)){if(!Jc(e))return!1;c=!0,_=!1}if(w&&!_)return l||(l=new As),c||G0(n)?qS(n,e,t,i,a,l):vj(n,e,m,t,i,a,l);if(!(t&wj)){var x=_&&$T.call(n,"__wrapped__"),O=E&&$T.call(e,"__wrapped__");if(x||O){var M=x?n.value():n,k=O?e.value():e;return l||(l=new As),a(M,k,t,i,l)}}return w?(l||(l=new As),Tj(n,e,t,i,a,l)):!1}function BS(n,e,t,i,a){return n===e?!0:n==null||e==null||!ba(n)&&!ba(e)?n!==n&&e!==e:xj(n,e,t,i,BS,a)}function Sj(n){return function(e,t,i){for(var a=-1,l=Object(e),c=i(e),f=c.length;f--;){var m=c[++a];if(t(l[m],m,l)===!1)break}return e}}var Nj=Sj();function wy(n,e,t){(t!==void 0&&!bh(n[e],t)||t===void 0&&!(e in n))&&z0(n,e,t)}function Cj(n){return ba(n)&&am(n)}function Ay(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function Rj(n){return ZL(n,IS(n))}function Ij(n,e,t,i,a,l,c){var f=Ay(n,t),m=Ay(e,t),g=c.get(m);if(g){wy(n,t,g);return}var _=l?l(f,m,t+"",n,e,c):void 0,E=_===void 0;if(E){var w=rl(m),x=!w&&Jc(m),O=!w&&!x&&G0(m);_=m,w||x||O?rl(f)?_=f:Cj(f)?_=UL(f):x?(E=!1,_=MS(m,!0)):O?(E=!1,_=kS(m,!0)):_=[]:xk(m)||vy(m)?(_=f,vy(f)?_=Rj(f):(!No(f)||B0(f))&&(_=jS(m))):E=!1}E&&(c.set(m,_),a(_,m,i,l,c),c.delete(m)),wy(n,t,_)}function zS(n,e,t,i,a){n!==e&&Nj(e,function(l,c){if(a||(a=new As),No(l))Ij(n,e,c,t,zS,i,a);else{var f=i?i(Ay(n,c),l,c+"",n,e,a):void 0;f===void 0&&(f=l),wy(n,c,f)}},IS)}function io(n,e){return BS(n,e)}var mo=rM(function(n,e,t){zS(n,e,t)}),Oe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Oe||{});class Ns{constructor(e,t,i={}){this.attrName=e,this.keyName=t;const a=Oe.TYPE&Oe.ATTRIBUTE;this.scope=i.scope!=null?i.scope&Oe.LEVEL|a:Oe.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class du extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const HS=class xy{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let i=null;try{i=e.parentNode}catch{return null}return this.find(i,t)}return null}create(e,t,i){const a=this.query(t);if(a==null)throw new du(`Unable to create ${t} blot`);const l=a,c=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:l.create(i),f=new l(e,c,i);return xy.blots.set(f.domNode,f),f}find(e,t=!1){return xy.find(e,t)}query(e,t=Oe.ANY){let i;return typeof e=="string"?i=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?i=this.types.text:typeof e=="number"?e&Oe.LEVEL&Oe.BLOCK?i=this.types.block:e&Oe.LEVEL&Oe.INLINE&&(i=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(i=this.classes[a],!!i)),i=i||this.tags[e.tagName]),i==null?null:"scope"in i&&t&Oe.LEVEL&i.scope&&t&Oe.TYPE&i.scope?i:null}register(...e){return e.map(t=>{const i="blotName"in t,a="attrName"in t;if(!i&&!a)throw new du("Invalid definition");if(i&&t.blotName==="abstract")throw new du("Cannot register abstract class");const l=i?t.blotName:a?t.attrName:void 0;return this.types[l]=t,a?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):i&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(c=>c.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(c=>{(this.tags[c]==null||t.className==null)&&(this.tags[c]=t)}))),t})}};HS.blots=new WeakMap;let Au=HS;function KT(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class Oj extends Ns{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){KT(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(KT(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const es=Oj;function Dg(n){const e=n.split("-"),t=e.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return e[0]+t}class Dj extends Ns{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Dg(this.keyName)]=t,!0):!1}remove(e){e.style[Dg(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Dg(this.keyName)];return this.canAdd(e,t)?t:""}}const Co=Dj;class Lj{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Au.find(this.domNode);if(e==null)return;const t=Ns.keys(this.domNode),i=es.keys(this.domNode),a=Co.keys(this.domNode);t.concat(i).concat(a).forEach(l=>{const c=e.scroll.query(l,Oe.ATTRIBUTE);c instanceof Ns&&(this.attributes[c.attrName]=c)})}copy(e){Object.keys(this.attributes).forEach(t=>{const i=this.attributes[t].value(this.domNode);e.format(t,i)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const um=Lj,FS=class{constructor(e,t){this.scroll=e,this.domNode=t,Au.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new du("Blot definition missing tagName");let t,i;return Array.isArray(this.tagName)?(typeof e=="string"?(i=e.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):typeof e=="number"&&(i=e),typeof i=="number"?t=document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?t=document.createElement(i):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Au.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,i,a){const l=this.isolate(e,t);if(this.scroll.query(i,Oe.BLOT)!=null&&a)l.wrap(i,a);else if(this.scroll.query(i,Oe.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);l.wrap(c),c.format(i,a)}}insertAt(e,t,i){const a=i==null?this.scroll.create("text",t):this.scroll.create(t,i),l=this.split(e);this.parent.insertBefore(a,l||void 0)}isolate(e,t){const i=this.split(e);if(i==null)throw new Error("Attempt to isolate at end");return i.split(t),i}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const i=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const i=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(i,this.next||void 0),typeof i.appendChild!="function")throw new du(`Cannot wrap ${e}`);return i.appendChild(this),i}};FS.blotName="abstract";let GS=FS;const $S=class extends GS{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};$S.scope=Oe.INLINE_BLOT;let Mj=$S;const rr=Mj;class kj{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let i=t();for(;i&&e>0;)e-=1,i=t();return i}contains(e){const t=this.iterator();let i=t();for(;i;){if(i===e)return!0;i=t()}return!1}indexOf(e){const t=this.iterator();let i=t(),a=0;for(;i;){if(i===e)return a;a+=1,i=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,i=this.head;for(;i!=null;){if(i===e)return t;t+=i.length(),i=i.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const i=this.iterator();let a=i();for(;a;){const l=a.length();if(e<l||t&&e===l&&(a.next==null||a.next.length()!==0))return[a,e];e-=l,a=i()}return[null,0]}forEach(e){const t=this.iterator();let i=t();for(;i;)e(i),i=t()}forEachAt(e,t,i){if(t<=0)return;const[a,l]=this.find(e);let c=e-l;const f=this.iterator(a);let m=f();for(;m&&c<e+t;){const g=m.length();e>c?i(m,e-c,Math.min(t,c+g-e)):i(m,0,Math.min(g,e+t-c)),c+=g,m=f()}}map(e){return this.reduce((t,i)=>(t.push(e(i)),t),[])}reduce(e,t){const i=this.iterator();let a=i();for(;a;)t=e(t,a),a=i();return t}}function YT(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const i=e.create(Oe.INLINE);return Array.from(n.childNodes).forEach(a=>{i.domNode.appendChild(a)}),n.parentNode&&n.parentNode.replaceChild(i.domNode,n),i.attach(),i}}const KS=class eo extends GS{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,eo.uiClass&&this.uiNode.classList.add(eo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new kj,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=YT(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof du)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(i,a,l)=>{i.deleteAt(a,l)})}descendant(e,t=0){const[i,a]=this.children.find(t);return e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e?[i,a]:i instanceof eo?i.descendant(e,a):[null,-1]}descendants(e,t=0,i=Number.MAX_VALUE){let a=[],l=i;return this.children.forEachAt(t,i,(c,f,m)=>{(e.blotName==null&&e(c)||e.blotName!=null&&c instanceof e)&&a.push(c),c instanceof eo&&(a=a.concat(c.descendants(e,f,l))),l-=m}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(i=>t instanceof i)||(t.statics.scope===Oe.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof eo?t.unwrap():t.remove())})}formatAt(e,t,i,a){this.children.forEachAt(e,t,(l,c,f)=>{l.formatAt(c,f,i,a)})}insertAt(e,t,i){const[a,l]=this.children.find(e);if(a)a.insertAt(l,t,i);else{const c=i==null?this.scroll.create("text",t):this.scroll.create(t,i);this.appendChild(c)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let i=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(i=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(e.domNode,i),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(i=>{e.insertBefore(i,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[i,a]=this.children.find(e,t),l=[[this,e]];return i instanceof eo?l.concat(i.path(a,t)):(i!=null&&l.push([i,a]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const i=typeof e=="string"?this.scroll.create(e,t):e;return i instanceof eo&&this.moveChildren(i),super.replaceWith(i)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(e,this.length(),(a,l,c)=>{const f=a.split(l,t);f!=null&&i.appendChild(f)}),i}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const i=[],a=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(i.push(...l.addedNodes),a.push(...l.removedNodes))}),a.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(l);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),i.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,c)=>l===c?0:l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let c=null;l.nextSibling!=null&&(c=this.scroll.find(l.nextSibling));const f=YT(l,this.scroll);(f.next!==c||f.next==null)&&(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,c||void 0))}),this.enforceAllowedChildren()}};KS.uiClass="";let jj=KS;const Wi=jj;function Pj(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const nu=class ru extends Wi{static create(e){return super.create(e)}static formats(e,t){const i=t.query(ru.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new um(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(i=>{i instanceof ru||(i=i.wrap(ru.blotName,!0)),this.attributes.copy(i)}),this.unwrap();else{const i=this.scroll.query(e,Oe.INLINE);if(i==null)return;i instanceof Ns?this.attributes.attribute(i,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,i,a){this.formats()[i]!=null||this.scroll.query(i,Oe.ATTRIBUTE)?this.isolate(e,t).format(i,a):super.formatAt(e,t,i,a)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const i=this.next;i instanceof ru&&i.prev===this&&Pj(t,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(e,t){const i=super.replaceWith(e,t);return this.attributes.copy(i),i}update(e,t){super.update(e,t),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}wrap(e,t){const i=super.wrap(e,t);return i instanceof ru&&this.attributes.move(i),i}};nu.allowedChildren=[nu,rr],nu.blotName="inline",nu.scope=Oe.INLINE_BLOT,nu.tagName="SPAN";let Vj=nu;const K0=Vj,iu=class Sy extends Wi{static create(e){return super.create(e)}static formats(e,t){const i=t.query(Sy.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new um(this.domNode)}format(e,t){const i=this.scroll.query(e,Oe.BLOCK);i!=null&&(i instanceof Ns?this.attributes.attribute(i,t):e===this.statics.blotName&&!t?this.replaceWith(Sy.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,i,a){this.scroll.query(i,Oe.BLOCK)!=null?this.format(i,a):super.formatAt(e,t,i,a)}insertAt(e,t,i){if(i==null||this.scroll.query(t,Oe.INLINE)!=null)super.insertAt(e,t,i);else{const a=this.split(e);if(a!=null){const l=this.scroll.create(t,i);a.parent.insertBefore(l,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const i=super.replaceWith(e,t);return this.attributes.copy(i),i}update(e,t){super.update(e,t),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}};iu.blotName="block",iu.scope=Oe.BLOCK_BLOT,iu.tagName="P",iu.allowedChildren=[K0,iu,rr];let Uj=iu;const nh=Uj,Ny=class extends Wi{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,i,a){super.formatAt(e,t,i,a),this.enforceAllowedChildren()}insertAt(e,t,i){super.insertAt(e,t,i),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Ny.blotName="container",Ny.scope=Oe.BLOCK_BLOT;let qj=Ny;const cm=qj;class Bj extends rr{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,i,a){e===0&&t===this.length()?this.format(i,a):super.formatAt(e,t,i,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ti=Bj,zj={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Hj=100,su=class extends Wi{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,zj),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const i=this.registry.find(e,t);return i?i.scroll===this?i:t?this.find(i.scroll.domNode.parentNode,!0):null:null}query(e,t=Oe.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(e,t)}formatAt(e,t,i,a){this.update(),super.formatAt(e,t,i,a)}insertAt(e,t,i){this.update(),super.insertAt(e,t,i)}optimize(e=[],t={}){super.optimize(t);const i=t.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const l=(m,g=!0)=>{m==null||m===this||m.domNode.parentNode!=null&&(i.has(m.domNode)||i.set(m.domNode,[]),g&&l(m.parent))},c=m=>{i.has(m.domNode)&&(m instanceof Wi&&m.children.forEach(c),i.delete(m.domNode),m.optimize(t))};let f=e;for(let m=0;f.length>0;m+=1){if(m>=Hj)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(g=>{const _=this.find(g.target,!0);_!=null&&(_.domNode===g.target&&(g.type==="childList"?(l(this.find(g.previousSibling,!1)),Array.from(g.addedNodes).forEach(E=>{const w=this.find(E,!1);l(w,!1),w instanceof Wi&&w.children.forEach(x=>{l(x,!1)})})):g.type==="attributes"&&l(_.prev)),l(_))}),this.children.forEach(c),f=Array.from(this.observer.takeRecords()),a=f.slice();a.length>0;)e.push(a.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const i=new WeakMap;e.map(a=>{const l=this.find(a.target,!0);return l==null?null:i.has(l.domNode)?(i.get(l.domNode).push(a),null):(i.set(l.domNode,[a]),l)}).forEach(a=>{a!=null&&a!==this&&i.has(a.domNode)&&a.update(i.get(a.domNode)||[],t)}),t.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),t),this.optimize(e,t)}};su.blotName="scroll",su.defaultChild=nh,su.allowedChildren=[nh,cm],su.scope=Oe.BLOCK_BLOT,su.tagName="DIV";let Fj=su;const Y0=Fj,Cy=class YS extends rr{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,i){i==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,i)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof YS&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(e,t){e.some(i=>i.type==="characterData"&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Cy.blotName="text",Cy.scope=Oe.INLINE_BLOT;let Gj=Cy;const kd=Gj,$j=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ns,AttributorStore:um,BlockBlot:nh,ClassAttributor:es,ContainerBlot:cm,EmbedBlot:ti,InlineBlot:K0,LeafBlot:rr,ParentBlot:Wi,Registry:Au,Scope:Oe,ScrollBlot:Y0,StyleAttributor:Co,TextBlot:kd},Symbol.toStringTag,{value:"Module"}));var Gf={exports:{}},Lg,QT;function Kj(){if(QT)return Lg;QT=1;var n=-1,e=1,t=0;function i(S,D,N,me,de){if(S===D)return S?[[t,S]]:[];if(N!=null){var B=P(S,D,N);if(B)return B}var Z=f(S,D),le=S.substring(0,Z);S=S.substring(Z),D=D.substring(Z),Z=g(S,D);var ye=S.substring(S.length-Z);S=S.substring(0,S.length-Z),D=D.substring(0,D.length-Z);var ge=a(S,D);return le&&ge.unshift([t,le]),ye&&ge.push([t,ye]),K(ge,de),me&&E(ge),ge}function a(S,D){var N;if(!S)return[[e,D]];if(!D)return[[n,S]];var me=S.length>D.length?S:D,de=S.length>D.length?D:S,B=me.indexOf(de);if(B!==-1)return N=[[e,me.substring(0,B)],[t,de],[e,me.substring(B+de.length)]],S.length>D.length&&(N[0][0]=N[2][0]=n),N;if(de.length===1)return[[n,S],[e,D]];var Z=_(S,D);if(Z){var le=Z[0],ye=Z[1],ge=Z[2],V=Z[3],Q=Z[4],ce=i(le,ge),fe=i(ye,V);return ce.concat([[t,Q]],fe)}return l(S,D)}function l(S,D){for(var N=S.length,me=D.length,de=Math.ceil((N+me)/2),B=de,Z=2*de,le=new Array(Z),ye=new Array(Z),ge=0;ge<Z;ge++)le[ge]=-1,ye[ge]=-1;le[B+1]=0,ye[B+1]=0;for(var V=N-me,Q=V%2!==0,ce=0,fe=0,pe=0,Ae=0,De=0;De<de;De++){for(var Ie=-De+ce;Ie<=De-fe;Ie+=2){var Le=B+Ie,Ke;Ie===-De||Ie!==De&&le[Le-1]<le[Le+1]?Ke=le[Le+1]:Ke=le[Le-1]+1;for(var Xe=Ke-Ie;Ke<N&&Xe<me&&S.charAt(Ke)===D.charAt(Xe);)Ke++,Xe++;if(le[Le]=Ke,Ke>N)fe+=2;else if(Xe>me)ce+=2;else if(Q){var et=B+V-Ie;if(et>=0&&et<Z&&ye[et]!==-1){var at=N-ye[et];if(Ke>=at)return c(S,D,Ke,Xe)}}}for(var ft=-De+pe;ft<=De-Ae;ft+=2){var et=B+ft,at;ft===-De||ft!==De&&ye[et-1]<ye[et+1]?at=ye[et+1]:at=ye[et-1]+1;for(var Xt=at-ft;at<N&&Xt<me&&S.charAt(N-at-1)===D.charAt(me-Xt-1);)at++,Xt++;if(ye[et]=at,at>N)Ae+=2;else if(Xt>me)pe+=2;else if(!Q){var Le=B+V-ft;if(Le>=0&&Le<Z&&le[Le]!==-1){var Ke=le[Le],Xe=B+Ke-Le;if(at=N-at,Ke>=at)return c(S,D,Ke,Xe)}}}}return[[n,S],[e,D]]}function c(S,D,N,me){var de=S.substring(0,N),B=D.substring(0,me),Z=S.substring(N),le=D.substring(me),ye=i(de,B),ge=i(Z,le);return ye.concat(ge)}function f(S,D){if(!S||!D||S.charAt(0)!==D.charAt(0))return 0;for(var N=0,me=Math.min(S.length,D.length),de=me,B=0;N<de;)S.substring(B,de)==D.substring(B,de)?(N=de,B=N):me=de,de=Math.floor((me-N)/2+N);return re(S.charCodeAt(de-1))&&de--,de}function m(S,D){var N=S.length,me=D.length;if(N==0||me==0)return 0;N>me?S=S.substring(N-me):N<me&&(D=D.substring(0,N));var de=Math.min(N,me);if(S==D)return de;for(var B=0,Z=1;;){var le=S.substring(de-Z),ye=D.indexOf(le);if(ye==-1)return B;Z+=ye,(ye==0||S.substring(de-Z)==D.substring(0,Z))&&(B=Z,Z++)}}function g(S,D){if(!S||!D||S.slice(-1)!==D.slice(-1))return 0;for(var N=0,me=Math.min(S.length,D.length),de=me,B=0;N<de;)S.substring(S.length-de,S.length-B)==D.substring(D.length-de,D.length-B)?(N=de,B=N):me=de,de=Math.floor((me-N)/2+N);return be(S.charCodeAt(S.length-de))&&de--,de}function _(S,D){var N=S.length>D.length?S:D,me=S.length>D.length?D:S;if(N.length<4||me.length*2<N.length)return null;function de(fe,pe,Ae){for(var De=fe.substring(Ae,Ae+Math.floor(fe.length/4)),Ie=-1,Le="",Ke,Xe,et,at;(Ie=pe.indexOf(De,Ie+1))!==-1;){var ft=f(fe.substring(Ae),pe.substring(Ie)),Xt=g(fe.substring(0,Ae),pe.substring(0,Ie));Le.length<Xt+ft&&(Le=pe.substring(Ie-Xt,Ie)+pe.substring(Ie,Ie+ft),Ke=fe.substring(0,Ae-Xt),Xe=fe.substring(Ae+ft),et=pe.substring(0,Ie-Xt),at=pe.substring(Ie+ft))}return Le.length*2>=fe.length?[Ke,Xe,et,at,Le]:null}var B=de(N,me,Math.ceil(N.length/4)),Z=de(N,me,Math.ceil(N.length/2)),le;if(!B&&!Z)return null;Z?B?le=B[4].length>Z[4].length?B:Z:le=Z:le=B;var ye,ge,V,Q;S.length>D.length?(ye=le[0],ge=le[1],V=le[2],Q=le[3]):(V=le[0],Q=le[1],ye=le[2],ge=le[3]);var ce=le[4];return[ye,ge,V,Q,ce]}function E(S){for(var D=!1,N=[],me=0,de=null,B=0,Z=0,le=0,ye=0,ge=0;B<S.length;)S[B][0]==t?(N[me++]=B,Z=ye,le=ge,ye=0,ge=0,de=S[B][1]):(S[B][0]==e?ye+=S[B][1].length:ge+=S[B][1].length,de&&de.length<=Math.max(Z,le)&&de.length<=Math.max(ye,ge)&&(S.splice(N[me-1],0,[n,de]),S[N[me-1]+1][0]=e,me--,me--,B=me>0?N[me-1]:-1,Z=0,le=0,ye=0,ge=0,de=null,D=!0)),B++;for(D&&K(S),F(S),B=1;B<S.length;){if(S[B-1][0]==n&&S[B][0]==e){var V=S[B-1][1],Q=S[B][1],ce=m(V,Q),fe=m(Q,V);ce>=fe?(ce>=V.length/2||ce>=Q.length/2)&&(S.splice(B,0,[t,Q.substring(0,ce)]),S[B-1][1]=V.substring(0,V.length-ce),S[B+1][1]=Q.substring(ce),B++):(fe>=V.length/2||fe>=Q.length/2)&&(S.splice(B,0,[t,V.substring(0,fe)]),S[B-1][0]=e,S[B-1][1]=Q.substring(0,Q.length-fe),S[B+1][0]=n,S[B+1][1]=V.substring(fe),B++),B++}B++}}var w=/[^a-zA-Z0-9]/,x=/\s/,O=/[\r\n]/,M=/\n\r?\n$/,k=/^\r?\n\r?\n/;function F(S){function D(fe,pe){if(!fe||!pe)return 6;var Ae=fe.charAt(fe.length-1),De=pe.charAt(0),Ie=Ae.match(w),Le=De.match(w),Ke=Ie&&Ae.match(x),Xe=Le&&De.match(x),et=Ke&&Ae.match(O),at=Xe&&De.match(O),ft=et&&fe.match(M),Xt=at&&pe.match(k);return ft||Xt?5:et||at?4:Ie&&!Ke&&Xe?3:Ke||Xe?2:Ie||Le?1:0}for(var N=1;N<S.length-1;){if(S[N-1][0]==t&&S[N+1][0]==t){var me=S[N-1][1],de=S[N][1],B=S[N+1][1],Z=g(me,de);if(Z){var le=de.substring(de.length-Z);me=me.substring(0,me.length-Z),de=le+de.substring(0,de.length-Z),B=le+B}for(var ye=me,ge=de,V=B,Q=D(me,de)+D(de,B);de.charAt(0)===B.charAt(0);){me+=de.charAt(0),de=de.substring(1)+B.charAt(0),B=B.substring(1);var ce=D(me,de)+D(de,B);ce>=Q&&(Q=ce,ye=me,ge=de,V=B)}S[N-1][1]!=ye&&(ye?S[N-1][1]=ye:(S.splice(N-1,1),N--),S[N][1]=ge,V?S[N+1][1]=V:(S.splice(N+1,1),N--))}N++}}function K(S,D){S.push([t,""]);for(var N=0,me=0,de=0,B="",Z="",le;N<S.length;){if(N<S.length-1&&!S[N][1]){S.splice(N,1);continue}switch(S[N][0]){case e:de++,Z+=S[N][1],N++;break;case n:me++,B+=S[N][1],N++;break;case t:var ye=N-de-me-1;if(D){if(ye>=0&&we(S[ye][1])){var ge=S[ye][1].slice(-1);if(S[ye][1]=S[ye][1].slice(0,-1),B=ge+B,Z=ge+Z,!S[ye][1]){S.splice(ye,1),N--;var V=ye-1;S[V]&&S[V][0]===e&&(de++,Z=S[V][1]+Z,V--),S[V]&&S[V][0]===n&&(me++,B=S[V][1]+B,V--),ye=V}}if(ve(S[N][1])){var ge=S[N][1].charAt(0);S[N][1]=S[N][1].slice(1),B+=ge,Z+=ge}}if(N<S.length-1&&!S[N][1]){S.splice(N,1);break}if(B.length>0||Z.length>0){B.length>0&&Z.length>0&&(le=f(Z,B),le!==0&&(ye>=0?S[ye][1]+=Z.substring(0,le):(S.splice(0,0,[t,Z.substring(0,le)]),N++),Z=Z.substring(le),B=B.substring(le)),le=g(Z,B),le!==0&&(S[N][1]=Z.substring(Z.length-le)+S[N][1],Z=Z.substring(0,Z.length-le),B=B.substring(0,B.length-le)));var Q=de+me;B.length===0&&Z.length===0?(S.splice(N-Q,Q),N=N-Q):B.length===0?(S.splice(N-Q,Q,[e,Z]),N=N-Q+1):Z.length===0?(S.splice(N-Q,Q,[n,B]),N=N-Q+1):(S.splice(N-Q,Q,[n,B],[e,Z]),N=N-Q+2)}N!==0&&S[N-1][0]===t?(S[N-1][1]+=S[N][1],S.splice(N,1)):N++,de=0,me=0,B="",Z="";break}}S[S.length-1][1]===""&&S.pop();var ce=!1;for(N=1;N<S.length-1;)S[N-1][0]===t&&S[N+1][0]===t&&(S[N][1].substring(S[N][1].length-S[N-1][1].length)===S[N-1][1]?(S[N][1]=S[N-1][1]+S[N][1].substring(0,S[N][1].length-S[N-1][1].length),S[N+1][1]=S[N-1][1]+S[N+1][1],S.splice(N-1,1),ce=!0):S[N][1].substring(0,S[N+1][1].length)==S[N+1][1]&&(S[N-1][1]+=S[N+1][1],S[N][1]=S[N][1].substring(S[N+1][1].length)+S[N+1][1],S.splice(N+1,1),ce=!0)),N++;ce&&K(S,D)}function re(S){return S>=55296&&S<=56319}function be(S){return S>=56320&&S<=57343}function ve(S){return be(S.charCodeAt(0))}function we(S){return re(S.charCodeAt(S.length-1))}function j(S){for(var D=[],N=0;N<S.length;N++)S[N][1].length>0&&D.push(S[N]);return D}function L(S,D,N,me){return we(S)||ve(me)?null:j([[t,S],[n,D],[e,N],[t,me]])}function P(S,D,N){var me=typeof N=="number"?{index:N,length:0}:N.oldRange,de=typeof N=="number"?null:N.newRange,B=S.length,Z=D.length;if(me.length===0&&(de===null||de.length===0)){var le=me.index,ye=S.slice(0,le),ge=S.slice(le),V=de?de.index:null;e:{var Q=le+Z-B;if(V!==null&&V!==Q||Q<0||Q>Z)break e;var ce=D.slice(0,Q),fe=D.slice(Q);if(fe!==ge)break e;var pe=Math.min(le,Q),Ae=ye.slice(0,pe),De=ce.slice(0,pe);if(Ae!==De)break e;var Ie=ye.slice(pe),Le=ce.slice(pe);return L(Ae,Ie,Le,ge)}e:{if(V!==null&&V!==le)break e;var Ke=le,ce=D.slice(0,Ke),fe=D.slice(Ke);if(ce!==ye)break e;var Xe=Math.min(B-Ke,Z-Ke),et=ge.slice(ge.length-Xe),at=fe.slice(fe.length-Xe);if(et!==at)break e;var Ie=ge.slice(0,ge.length-Xe),Le=fe.slice(0,fe.length-Xe);return L(ye,Ie,Le,et)}}if(me.length>0&&de&&de.length===0)e:{var Ae=S.slice(0,me.index),et=S.slice(me.index+me.length),pe=Ae.length,Xe=et.length;if(Z<pe+Xe)break e;var De=D.slice(0,pe),at=D.slice(Z-Xe);if(Ae!==De||et!==at)break e;var Ie=S.slice(pe,B-Xe),Le=D.slice(pe,Z-Xe);return L(Ae,Ie,Le,et)}return null}function z(S,D,N,me){return i(S,D,N,me,!0)}return z.INSERT=e,z.DELETE=n,z.EQUAL=t,Lg=z,Lg}var Oc={exports:{}};Oc.exports;var XT;function QS(){return XT||(XT=1,(function(n,e){var t=200,i="__lodash_hash_undefined__",a=9007199254740991,l="[object Arguments]",c="[object Array]",f="[object Boolean]",m="[object Date]",g="[object Error]",_="[object Function]",E="[object GeneratorFunction]",w="[object Map]",x="[object Number]",O="[object Object]",M="[object Promise]",k="[object RegExp]",F="[object Set]",K="[object String]",re="[object Symbol]",be="[object WeakMap]",ve="[object ArrayBuffer]",we="[object DataView]",j="[object Float32Array]",L="[object Float64Array]",P="[object Int8Array]",z="[object Int16Array]",S="[object Int32Array]",D="[object Uint8Array]",N="[object Uint8ClampedArray]",me="[object Uint16Array]",de="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,le=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,ge={};ge[l]=ge[c]=ge[ve]=ge[we]=ge[f]=ge[m]=ge[j]=ge[L]=ge[P]=ge[z]=ge[S]=ge[w]=ge[x]=ge[O]=ge[k]=ge[F]=ge[K]=ge[re]=ge[D]=ge[N]=ge[me]=ge[de]=!0,ge[g]=ge[_]=ge[be]=!1;var V=typeof so=="object"&&so&&so.Object===Object&&so,Q=typeof self=="object"&&self&&self.Object===Object&&self,ce=V||Q||Function("return this")(),fe=e&&!e.nodeType&&e,pe=fe&&!0&&n&&!n.nodeType&&n,Ae=pe&&pe.exports===fe;function De(v,R){return v.set(R[0],R[1]),v}function Ie(v,R){return v.add(R),v}function Le(v,R){for(var U=-1,ee=v?v.length:0;++U<ee&&R(v[U],U,v)!==!1;);return v}function Ke(v,R){for(var U=-1,ee=R.length,je=v.length;++U<ee;)v[je+U]=R[U];return v}function Xe(v,R,U,ee){for(var je=-1,xe=v?v.length:0;++je<xe;)U=R(U,v[je],je,v);return U}function et(v,R){for(var U=-1,ee=Array(v);++U<v;)ee[U]=R(U);return ee}function at(v,R){return v?.[R]}function ft(v){var R=!1;if(v!=null&&typeof v.toString!="function")try{R=!!(v+"")}catch{}return R}function Xt(v){var R=-1,U=Array(v.size);return v.forEach(function(ee,je){U[++R]=[je,ee]}),U}function Mr(v,R){return function(U){return v(R(U))}}function ns(v){var R=-1,U=Array(v.size);return v.forEach(function(ee){U[++R]=ee}),U}var Is=Array.prototype,Vt=Function.prototype,xt=Object.prototype,yr=ce["__core-js_shared__"],xa=(function(){var v=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""})(),Os=Vt.toString,St=xt.hasOwnProperty,vr=xt.toString,Ds=RegExp("^"+Os.call(St).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kr=Ae?ce.Buffer:void 0,ar=ce.Symbol,Ls=ce.Uint8Array,Cn=Mr(Object.getPrototypeOf,Object),Ms=Object.create,ks=xt.propertyIsEnumerable,or=Is.splice,Kt=Object.getOwnPropertySymbols,vn=kr?kr.isBuffer:void 0,Nt=Mr(Object.keys,Object),Ii=un(ce,"DataView"),br=un(ce,"Map"),$n=un(ce,"Promise"),Rn=un(ce,"Set"),jr=un(ce,"WeakMap"),bt=un(Object,"create"),Kn=nn(Ii),wn=nn(br),In=nn($n),js=nn(Rn),rs=nn(jr),bn=ar?ar.prototype:void 0,ni=bn?bn.valueOf:void 0;function Pr(v){var R=-1,U=v?v.length:0;for(this.clear();++R<U;){var ee=v[R];this.set(ee[0],ee[1])}}function Oi(){this.__data__=bt?bt(null):{}}function Ps(v){return this.has(v)&&delete this.__data__[v]}function Vs(v){var R=this.__data__;if(bt){var U=R[v];return U===i?void 0:U}return St.call(R,v)?R[v]:void 0}function ri(v){var R=this.__data__;return bt?R[v]!==void 0:St.call(R,v)}function lr(v,R){var U=this.__data__;return U[v]=bt&&R===void 0?i:R,this}Pr.prototype.clear=Oi,Pr.prototype.delete=Ps,Pr.prototype.get=Vs,Pr.prototype.has=ri,Pr.prototype.set=lr;function Wt(v){var R=-1,U=v?v.length:0;for(this.clear();++R<U;){var ee=v[R];this.set(ee[0],ee[1])}}function ur(){this.__data__=[]}function cr(v){var R=this.__data__,U=Dn(R,v);if(U<0)return!1;var ee=R.length-1;return U==ee?R.pop():or.call(R,U,1),!0}function Ut(v){var R=this.__data__,U=Dn(R,v);return U<0?void 0:R[U][1]}function Zt(v){return Dn(this.__data__,v)>-1}function _r(v,R){var U=this.__data__,ee=Dn(U,v);return ee<0?U.push([v,R]):U[ee][1]=R,this}Wt.prototype.clear=ur,Wt.prototype.delete=cr,Wt.prototype.get=Ut,Wt.prototype.has=Zt,Wt.prototype.set=_r;function Yt(v){var R=-1,U=v?v.length:0;for(this.clear();++R<U;){var ee=v[R];this.set(ee[0],ee[1])}}function Ro(){this.__data__={hash:new Pr,map:new(br||Wt),string:new Pr}}function Sa(v){return oi(this,v).delete(v)}function Na(v){return oi(this,v).get(v)}function Er(v){return oi(this,v).has(v)}function is(v,R){return oi(this,v).set(v,R),this}Yt.prototype.clear=Ro,Yt.prototype.delete=Sa,Yt.prototype.get=Na,Yt.prototype.has=Er,Yt.prototype.set=is;function It(v){this.__data__=new Wt(v)}function Yn(){this.__data__=new Wt}function On(v){return this.__data__.delete(v)}function Tr(v){return this.__data__.get(v)}function qt(v){return this.__data__.has(v)}function Us(v,R){var U=this.__data__;if(U instanceof Wt){var ee=U.__data__;if(!br||ee.length<t-1)return ee.push([v,R]),this;U=this.__data__=new Yt(ee)}return U.set(v,R),this}It.prototype.clear=Yn,It.prototype.delete=On,It.prototype.get=Tr,It.prototype.has=qt,It.prototype.set=Us;function ii(v,R){var U=qr(v)||kn(v)?et(v.length,String):[],ee=U.length,je=!!ee;for(var xe in v)St.call(v,xe)&&!(je&&(xe=="length"||Ra(xe,ee)))&&U.push(xe);return U}function hr(v,R,U){var ee=v[R];(!(St.call(v,R)&&Ur(ee,U))||U===void 0&&!(R in v))&&(v[R]=U)}function Dn(v,R){for(var U=v.length;U--;)if(Ur(v[U][0],R))return U;return-1}function Qn(v,R){return v&&os(R,Mi(R),v)}function Di(v,R,U,ee,je,xe,Ge){var Qe;if(ee&&(Qe=xe?ee(v,je,xe,Ge):ee(v)),Qe!==void 0)return Qe;if(!Ye(v))return v;var gt=qr(v);if(gt){if(Qe=zs(v),!R)return as(v,Qe)}else{var We=xr(v),wt=We==_||We==E;if(Zn(v))return Ot(v,R);if(We==O||We==l||wt&&!xe){if(ft(v))return xe?v:{};if(Qe=Xn(wt?{}:v),!R)return Bs(v,Qn(Qe,v))}else{if(!ge[We])return xe?v:{};Qe=ls(v,We,Di,R)}}Ge||(Ge=new It);var rn=Ge.get(v);if(rn)return rn;if(Ge.set(v,Qe),!gt)var Dt=U?ai(v):Mi(v);return Le(Dt||v,function(Ht,Jt){Dt&&(Jt=Ht,Ht=v[Jt]),hr(Qe,Jt,Di(Ht,R,U,ee,Jt,v,Ge))}),Qe}function qs(v){return Ye(v)?Ms(v):{}}function Ca(v,R,U){var ee=R(v);return qr(v)?ee:Ke(ee,U(v))}function ss(v){return vr.call(v)}function Ln(v){if(!Ye(v)||us(v))return!1;var R=xn(v)||ft(v)?Ds:le;return R.test(nn(v))}function Bt(v){if(!Wn(v))return Nt(v);var R=[];for(var U in Object(v))St.call(v,U)&&U!="constructor"&&R.push(U);return R}function Ot(v,R){if(R)return v.slice();var U=new v.constructor(v.length);return v.copy(U),U}function wr(v){var R=new v.constructor(v.byteLength);return new Ls(R).set(new Ls(v)),R}function Vr(v,R){var U=R?wr(v.buffer):v.buffer;return new v.constructor(U,v.byteOffset,v.byteLength)}function lt(v,R,U){var ee=R?U(Xt(v),!0):Xt(v);return Xe(ee,De,new v.constructor)}function si(v){var R=new v.constructor(v.source,Z.exec(v));return R.lastIndex=v.lastIndex,R}function Ar(v,R,U){var ee=R?U(ns(v),!0):ns(v);return Xe(ee,Ie,new v.constructor)}function Li(v){return ni?Object(ni.call(v)):{}}function An(v,R){var U=R?wr(v.buffer):v.buffer;return new v.constructor(U,v.byteOffset,v.length)}function as(v,R){var U=-1,ee=v.length;for(R||(R=Array(ee));++U<ee;)R[U]=v[U];return R}function os(v,R,U,ee){U||(U={});for(var je=-1,xe=R.length;++je<xe;){var Ge=R[je],Qe=void 0;hr(U,Ge,Qe===void 0?v[Ge]:Qe)}return U}function Bs(v,R){return os(v,zt(v),R)}function ai(v){return Ca(v,Mi,zt)}function oi(v,R){var U=v.__data__;return li(R)?U[typeof R=="string"?"string":"hash"]:U.map}function un(v,R){var U=at(v,R);return Ln(U)?U:void 0}var zt=Kt?Mr(Kt,Object):ki,xr=ss;(Ii&&xr(new Ii(new ArrayBuffer(1)))!=we||br&&xr(new br)!=w||$n&&xr($n.resolve())!=M||Rn&&xr(new Rn)!=F||jr&&xr(new jr)!=be)&&(xr=function(v){var R=vr.call(v),U=R==O?v.constructor:void 0,ee=U?nn(U):void 0;if(ee)switch(ee){case Kn:return we;case wn:return w;case In:return M;case js:return F;case rs:return be}return R});function zs(v){var R=v.length,U=v.constructor(R);return R&&typeof v[0]=="string"&&St.call(v,"index")&&(U.index=v.index,U.input=v.input),U}function Xn(v){return typeof v.constructor=="function"&&!Wn(v)?qs(Cn(v)):{}}function ls(v,R,U,ee){var je=v.constructor;switch(R){case ve:return wr(v);case f:case m:return new je(+v);case we:return Vr(v,ee);case j:case L:case P:case z:case S:case D:case N:case me:case de:return An(v,ee);case w:return lt(v,ee,U);case x:case K:return new je(v);case k:return si(v);case F:return Ar(v,ee,U);case re:return Li(v)}}function Ra(v,R){return R=R??a,!!R&&(typeof v=="number"||ye.test(v))&&v>-1&&v%1==0&&v<R}function li(v){var R=typeof v;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?v!=="__proto__":v===null}function us(v){return!!xa&&xa in v}function Wn(v){var R=v&&v.constructor,U=typeof R=="function"&&R.prototype||xt;return v===U}function nn(v){if(v!=null){try{return Os.call(v)}catch{}try{return v+""}catch{}}return""}function Mn(v){return Di(v,!0,!0)}function Ur(v,R){return v===R||v!==v&&R!==R}function kn(v){return ui(v)&&St.call(v,"callee")&&(!ks.call(v,"callee")||vr.call(v)==l)}var qr=Array.isArray;function Br(v){return v!=null&&ci(v.length)&&!xn(v)}function ui(v){return fr(v)&&Br(v)}var Zn=vn||Hs;function xn(v){var R=Ye(v)?vr.call(v):"";return R==_||R==E}function ci(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=a}function Ye(v){var R=typeof v;return!!v&&(R=="object"||R=="function")}function fr(v){return!!v&&typeof v=="object"}function Mi(v){return Br(v)?ii(v):Bt(v)}function ki(){return[]}function Hs(){return!1}n.exports=Mn})(Oc,Oc.exports)),Oc.exports}var Dc={exports:{}};Dc.exports;var WT;function XS(){return WT||(WT=1,(function(n,e){var t=200,i="__lodash_hash_undefined__",a=1,l=2,c=9007199254740991,f="[object Arguments]",m="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",E="[object Date]",w="[object Error]",x="[object Function]",O="[object GeneratorFunction]",M="[object Map]",k="[object Number]",F="[object Null]",K="[object Object]",re="[object Promise]",be="[object Proxy]",ve="[object RegExp]",we="[object Set]",j="[object String]",L="[object Symbol]",P="[object Undefined]",z="[object WeakMap]",S="[object ArrayBuffer]",D="[object DataView]",N="[object Float32Array]",me="[object Float64Array]",de="[object Int8Array]",B="[object Int16Array]",Z="[object Int32Array]",le="[object Uint8Array]",ye="[object Uint8ClampedArray]",ge="[object Uint16Array]",V="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,ce=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,pe={};pe[N]=pe[me]=pe[de]=pe[B]=pe[Z]=pe[le]=pe[ye]=pe[ge]=pe[V]=!0,pe[f]=pe[m]=pe[S]=pe[_]=pe[D]=pe[E]=pe[w]=pe[x]=pe[M]=pe[k]=pe[K]=pe[ve]=pe[we]=pe[j]=pe[z]=!1;var Ae=typeof so=="object"&&so&&so.Object===Object&&so,De=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Ae||De||Function("return this")(),Le=e&&!e.nodeType&&e,Ke=Le&&!0&&n&&!n.nodeType&&n,Xe=Ke&&Ke.exports===Le,et=Xe&&Ae.process,at=(function(){try{return et&&et.binding&&et.binding("util")}catch{}})(),ft=at&&at.isTypedArray;function Xt(v,R){for(var U=-1,ee=v==null?0:v.length,je=0,xe=[];++U<ee;){var Ge=v[U];R(Ge,U,v)&&(xe[je++]=Ge)}return xe}function Mr(v,R){for(var U=-1,ee=R.length,je=v.length;++U<ee;)v[je+U]=R[U];return v}function ns(v,R){for(var U=-1,ee=v==null?0:v.length;++U<ee;)if(R(v[U],U,v))return!0;return!1}function Is(v,R){for(var U=-1,ee=Array(v);++U<v;)ee[U]=R(U);return ee}function Vt(v){return function(R){return v(R)}}function xt(v,R){return v.has(R)}function yr(v,R){return v?.[R]}function xa(v){var R=-1,U=Array(v.size);return v.forEach(function(ee,je){U[++R]=[je,ee]}),U}function Os(v,R){return function(U){return v(R(U))}}function St(v){var R=-1,U=Array(v.size);return v.forEach(function(ee){U[++R]=ee}),U}var vr=Array.prototype,Ds=Function.prototype,kr=Object.prototype,ar=Ie["__core-js_shared__"],Ls=Ds.toString,Cn=kr.hasOwnProperty,Ms=(function(){var v=/[^.]+$/.exec(ar&&ar.keys&&ar.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""})(),ks=kr.toString,or=RegExp("^"+Ls.call(Cn).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=Xe?Ie.Buffer:void 0,vn=Ie.Symbol,Nt=Ie.Uint8Array,Ii=kr.propertyIsEnumerable,br=vr.splice,$n=vn?vn.toStringTag:void 0,Rn=Object.getOwnPropertySymbols,jr=Kt?Kt.isBuffer:void 0,bt=Os(Object.keys,Object),Kn=zt(Ie,"DataView"),wn=zt(Ie,"Map"),In=zt(Ie,"Promise"),js=zt(Ie,"Set"),rs=zt(Ie,"WeakMap"),bn=zt(Object,"create"),ni=nn(Kn),Pr=nn(wn),Oi=nn(In),Ps=nn(js),Vs=nn(rs),ri=vn?vn.prototype:void 0,lr=ri?ri.valueOf:void 0;function Wt(v){var R=-1,U=v==null?0:v.length;for(this.clear();++R<U;){var ee=v[R];this.set(ee[0],ee[1])}}function ur(){this.__data__=bn?bn(null):{},this.size=0}function cr(v){var R=this.has(v)&&delete this.__data__[v];return this.size-=R?1:0,R}function Ut(v){var R=this.__data__;if(bn){var U=R[v];return U===i?void 0:U}return Cn.call(R,v)?R[v]:void 0}function Zt(v){var R=this.__data__;return bn?R[v]!==void 0:Cn.call(R,v)}function _r(v,R){var U=this.__data__;return this.size+=this.has(v)?0:1,U[v]=bn&&R===void 0?i:R,this}Wt.prototype.clear=ur,Wt.prototype.delete=cr,Wt.prototype.get=Ut,Wt.prototype.has=Zt,Wt.prototype.set=_r;function Yt(v){var R=-1,U=v==null?0:v.length;for(this.clear();++R<U;){var ee=v[R];this.set(ee[0],ee[1])}}function Ro(){this.__data__=[],this.size=0}function Sa(v){var R=this.__data__,U=Ot(R,v);if(U<0)return!1;var ee=R.length-1;return U==ee?R.pop():br.call(R,U,1),--this.size,!0}function Na(v){var R=this.__data__,U=Ot(R,v);return U<0?void 0:R[U][1]}function Er(v){return Ot(this.__data__,v)>-1}function is(v,R){var U=this.__data__,ee=Ot(U,v);return ee<0?(++this.size,U.push([v,R])):U[ee][1]=R,this}Yt.prototype.clear=Ro,Yt.prototype.delete=Sa,Yt.prototype.get=Na,Yt.prototype.has=Er,Yt.prototype.set=is;function It(v){var R=-1,U=v==null?0:v.length;for(this.clear();++R<U;){var ee=v[R];this.set(ee[0],ee[1])}}function Yn(){this.size=0,this.__data__={hash:new Wt,map:new(wn||Yt),string:new Wt}}function On(v){var R=un(this,v).delete(v);return this.size-=R?1:0,R}function Tr(v){return un(this,v).get(v)}function qt(v){return un(this,v).has(v)}function Us(v,R){var U=un(this,v),ee=U.size;return U.set(v,R),this.size+=U.size==ee?0:1,this}It.prototype.clear=Yn,It.prototype.delete=On,It.prototype.get=Tr,It.prototype.has=qt,It.prototype.set=Us;function ii(v){var R=-1,U=v==null?0:v.length;for(this.__data__=new It;++R<U;)this.add(v[R])}function hr(v){return this.__data__.set(v,i),this}function Dn(v){return this.__data__.has(v)}ii.prototype.add=ii.prototype.push=hr,ii.prototype.has=Dn;function Qn(v){var R=this.__data__=new Yt(v);this.size=R.size}function Di(){this.__data__=new Yt,this.size=0}function qs(v){var R=this.__data__,U=R.delete(v);return this.size=R.size,U}function Ca(v){return this.__data__.get(v)}function ss(v){return this.__data__.has(v)}function Ln(v,R){var U=this.__data__;if(U instanceof Yt){var ee=U.__data__;if(!wn||ee.length<t-1)return ee.push([v,R]),this.size=++U.size,this;U=this.__data__=new It(ee)}return U.set(v,R),this.size=U.size,this}Qn.prototype.clear=Di,Qn.prototype.delete=qs,Qn.prototype.get=Ca,Qn.prototype.has=ss,Qn.prototype.set=Ln;function Bt(v,R){var U=kn(v),ee=!U&&Ur(v),je=!U&&!ee&&Br(v),xe=!U&&!ee&&!je&&fr(v),Ge=U||ee||je||xe,Qe=Ge?Is(v.length,String):[],gt=Qe.length;for(var We in v)Cn.call(v,We)&&!(Ge&&(We=="length"||je&&(We=="offset"||We=="parent")||xe&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||ls(We,gt)))&&Qe.push(We);return Qe}function Ot(v,R){for(var U=v.length;U--;)if(Mn(v[U][0],R))return U;return-1}function wr(v,R,U){var ee=R(v);return kn(v)?ee:Mr(ee,U(v))}function Vr(v){return v==null?v===void 0?P:F:$n&&$n in Object(v)?xr(v):Wn(v)}function lt(v){return Ye(v)&&Vr(v)==f}function si(v,R,U,ee,je){return v===R?!0:v==null||R==null||!Ye(v)&&!Ye(R)?v!==v&&R!==R:Ar(v,R,U,ee,si,je)}function Ar(v,R,U,ee,je,xe){var Ge=kn(v),Qe=kn(R),gt=Ge?m:Xn(v),We=Qe?m:Xn(R);gt=gt==f?K:gt,We=We==f?K:We;var wt=gt==K,rn=We==K,Dt=gt==We;if(Dt&&Br(v)){if(!Br(R))return!1;Ge=!0,wt=!1}if(Dt&&!wt)return xe||(xe=new Qn),Ge||fr(v)?os(v,R,U,ee,je,xe):Bs(v,R,gt,U,ee,je,xe);if(!(U&a)){var Ht=wt&&Cn.call(v,"__wrapped__"),Jt=rn&&Cn.call(R,"__wrapped__");if(Ht||Jt){var zr=Ht?v.value():v,jn=Jt?R.value():R;return xe||(xe=new Qn),je(zr,jn,U,ee,xe)}}return Dt?(xe||(xe=new Qn),ai(v,R,U,ee,je,xe)):!1}function Li(v){if(!ci(v)||li(v))return!1;var R=Zn(v)?or:ce;return R.test(nn(v))}function An(v){return Ye(v)&&xn(v.length)&&!!pe[Vr(v)]}function as(v){if(!us(v))return bt(v);var R=[];for(var U in Object(v))Cn.call(v,U)&&U!="constructor"&&R.push(U);return R}function os(v,R,U,ee,je,xe){var Ge=U&a,Qe=v.length,gt=R.length;if(Qe!=gt&&!(Ge&&gt>Qe))return!1;var We=xe.get(v);if(We&&xe.get(R))return We==R;var wt=-1,rn=!0,Dt=U&l?new ii:void 0;for(xe.set(v,R),xe.set(R,v);++wt<Qe;){var Ht=v[wt],Jt=R[wt];if(ee)var zr=Ge?ee(Jt,Ht,wt,R,v,xe):ee(Ht,Jt,wt,v,R,xe);if(zr!==void 0){if(zr)continue;rn=!1;break}if(Dt){if(!ns(R,function(jn,Hr){if(!xt(Dt,Hr)&&(Ht===jn||je(Ht,jn,U,ee,xe)))return Dt.push(Hr)})){rn=!1;break}}else if(!(Ht===Jt||je(Ht,Jt,U,ee,xe))){rn=!1;break}}return xe.delete(v),xe.delete(R),rn}function Bs(v,R,U,ee,je,xe,Ge){switch(U){case D:if(v.byteLength!=R.byteLength||v.byteOffset!=R.byteOffset)return!1;v=v.buffer,R=R.buffer;case S:return!(v.byteLength!=R.byteLength||!xe(new Nt(v),new Nt(R)));case _:case E:case k:return Mn(+v,+R);case w:return v.name==R.name&&v.message==R.message;case ve:case j:return v==R+"";case M:var Qe=xa;case we:var gt=ee&a;if(Qe||(Qe=St),v.size!=R.size&&!gt)return!1;var We=Ge.get(v);if(We)return We==R;ee|=l,Ge.set(v,R);var wt=os(Qe(v),Qe(R),ee,je,xe,Ge);return Ge.delete(v),wt;case L:if(lr)return lr.call(v)==lr.call(R)}return!1}function ai(v,R,U,ee,je,xe){var Ge=U&a,Qe=oi(v),gt=Qe.length,We=oi(R),wt=We.length;if(gt!=wt&&!Ge)return!1;for(var rn=gt;rn--;){var Dt=Qe[rn];if(!(Ge?Dt in R:Cn.call(R,Dt)))return!1}var Ht=xe.get(v);if(Ht&&xe.get(R))return Ht==R;var Jt=!0;xe.set(v,R),xe.set(R,v);for(var zr=Ge;++rn<gt;){Dt=Qe[rn];var jn=v[Dt],Hr=R[Dt];if(ee)var Io=Ge?ee(Hr,jn,Dt,R,v,xe):ee(jn,Hr,Dt,v,R,xe);if(!(Io===void 0?jn===Hr||je(jn,Hr,U,ee,xe):Io)){Jt=!1;break}zr||(zr=Dt=="constructor")}if(Jt&&!zr){var ji=v.constructor,Fs=R.constructor;ji!=Fs&&"constructor"in v&&"constructor"in R&&!(typeof ji=="function"&&ji instanceof ji&&typeof Fs=="function"&&Fs instanceof Fs)&&(Jt=!1)}return xe.delete(v),xe.delete(R),Jt}function oi(v){return wr(v,Mi,zs)}function un(v,R){var U=v.__data__;return Ra(R)?U[typeof R=="string"?"string":"hash"]:U.map}function zt(v,R){var U=yr(v,R);return Li(U)?U:void 0}function xr(v){var R=Cn.call(v,$n),U=v[$n];try{v[$n]=void 0;var ee=!0}catch{}var je=ks.call(v);return ee&&(R?v[$n]=U:delete v[$n]),je}var zs=Rn?function(v){return v==null?[]:(v=Object(v),Xt(Rn(v),function(R){return Ii.call(v,R)}))}:ki,Xn=Vr;(Kn&&Xn(new Kn(new ArrayBuffer(1)))!=D||wn&&Xn(new wn)!=M||In&&Xn(In.resolve())!=re||js&&Xn(new js)!=we||rs&&Xn(new rs)!=z)&&(Xn=function(v){var R=Vr(v),U=R==K?v.constructor:void 0,ee=U?nn(U):"";if(ee)switch(ee){case ni:return D;case Pr:return M;case Oi:return re;case Ps:return we;case Vs:return z}return R});function ls(v,R){return R=R??c,!!R&&(typeof v=="number"||fe.test(v))&&v>-1&&v%1==0&&v<R}function Ra(v){var R=typeof v;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?v!=="__proto__":v===null}function li(v){return!!Ms&&Ms in v}function us(v){var R=v&&v.constructor,U=typeof R=="function"&&R.prototype||kr;return v===U}function Wn(v){return ks.call(v)}function nn(v){if(v!=null){try{return Ls.call(v)}catch{}try{return v+""}catch{}}return""}function Mn(v,R){return v===R||v!==v&&R!==R}var Ur=lt((function(){return arguments})())?lt:function(v){return Ye(v)&&Cn.call(v,"callee")&&!Ii.call(v,"callee")},kn=Array.isArray;function qr(v){return v!=null&&xn(v.length)&&!Zn(v)}var Br=jr||Hs;function ui(v,R){return si(v,R)}function Zn(v){if(!ci(v))return!1;var R=Vr(v);return R==x||R==O||R==g||R==be}function xn(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=c}function ci(v){var R=typeof v;return v!=null&&(R=="object"||R=="function")}function Ye(v){return v!=null&&typeof v=="object"}var fr=ft?Vt(ft):An;function Mi(v){return qr(v)?Bt(v):as(v)}function ki(){return[]}function Hs(){return!1}n.exports=ui})(Dc,Dc.exports)),Dc.exports}var $f={},ZT;function Yj(){if(ZT)return $f;ZT=1,Object.defineProperty($f,"__esModule",{value:!0});const n=QS(),e=XS();var t;return(function(i){function a(m={},g={},_=!1){typeof m!="object"&&(m={}),typeof g!="object"&&(g={});let E=n(g);_||(E=Object.keys(E).reduce((w,x)=>(E[x]!=null&&(w[x]=E[x]),w),{}));for(const w in m)m[w]!==void 0&&g[w]===void 0&&(E[w]=m[w]);return Object.keys(E).length>0?E:void 0}i.compose=a;function l(m={},g={}){typeof m!="object"&&(m={}),typeof g!="object"&&(g={});const _=Object.keys(m).concat(Object.keys(g)).reduce((E,w)=>(e(m[w],g[w])||(E[w]=g[w]===void 0?null:g[w]),E),{});return Object.keys(_).length>0?_:void 0}i.diff=l;function c(m={},g={}){m=m||{};const _=Object.keys(g).reduce((E,w)=>(g[w]!==m[w]&&m[w]!==void 0&&(E[w]=g[w]),E),{});return Object.keys(m).reduce((E,w)=>(m[w]!==g[w]&&g[w]===void 0&&(E[w]=null),E),_)}i.invert=c;function f(m,g,_=!1){if(typeof m!="object")return g;if(typeof g!="object")return;if(!_)return g;const E=Object.keys(g).reduce((w,x)=>(m[x]===void 0&&(w[x]=g[x]),w),{});return Object.keys(E).length>0?E:void 0}i.transform=f})(t||(t={})),$f.default=t,$f}var Kf={},JT;function WS(){if(JT)return Kf;JT=1,Object.defineProperty(Kf,"__esModule",{value:!0});var n;return(function(e){function t(i){return typeof i.delete=="number"?i.delete:typeof i.retain=="number"?i.retain:typeof i.retain=="object"&&i.retain!==null?1:typeof i.insert=="string"?i.insert.length:1}e.length=t})(n||(n={})),Kf.default=n,Kf}var Yf={},ew;function Qj(){if(ew)return Yf;ew=1,Object.defineProperty(Yf,"__esModule",{value:!0});const n=WS();class e{constructor(i){this.ops=i,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(i){i||(i=1/0);const a=this.ops[this.index];if(a){const l=this.offset,c=n.default.length(a);if(i>=c-l?(i=c-l,this.index+=1,this.offset=0):this.offset+=i,typeof a.delete=="number")return{delete:i};{const f={};return a.attributes&&(f.attributes=a.attributes),typeof a.retain=="number"?f.retain=i:typeof a.retain=="object"&&a.retain!==null?f.retain=a.retain:typeof a.insert=="string"?f.insert=a.insert.substr(l,i):f.insert=a.insert,f}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const i=this.ops[this.index];return i?typeof i.delete=="number"?"delete":typeof i.retain=="number"||typeof i.retain=="object"&&i.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const i=this.offset,a=this.index,l=this.next(),c=this.ops.slice(this.index);return this.offset=i,this.index=a,[l].concat(c)}}else return[]}}return Yf.default=e,Yf}var tw;function Xj(){return tw||(tw=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=Kj(),i=QS(),a=XS(),l=Yj();e.AttributeMap=l.default;const c=WS();e.Op=c.default;const f=Qj();e.OpIterator=f.default;const m="\0",g=(E,w)=>{if(typeof E!="object"||E===null)throw new Error(`cannot retain a ${typeof E}`);if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);const x=Object.keys(E)[0];if(!x||x!==Object.keys(w)[0])throw new Error(`embed types not matched: ${x} != ${Object.keys(w)[0]}`);return[x,E[x],w[x]]};class _{constructor(w){Array.isArray(w)?this.ops=w:w!=null&&Array.isArray(w.ops)?this.ops=w.ops:this.ops=[]}static registerEmbed(w,x){this.handlers[w]=x}static unregisterEmbed(w){delete this.handlers[w]}static getHandler(w){const x=this.handlers[w];if(!x)throw new Error(`no handlers for embed type "${w}"`);return x}insert(w,x){const O={};return typeof w=="string"&&w.length===0?this:(O.insert=w,x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(O.attributes=x),this.push(O))}delete(w){return w<=0?this:this.push({delete:w})}retain(w,x){if(typeof w=="number"&&w<=0)return this;const O={retain:w};return x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(O.attributes=x),this.push(O)}push(w){let x=this.ops.length,O=this.ops[x-1];if(w=i(w),typeof O=="object"){if(typeof w.delete=="number"&&typeof O.delete=="number")return this.ops[x-1]={delete:O.delete+w.delete},this;if(typeof O.delete=="number"&&w.insert!=null&&(x-=1,O=this.ops[x-1],typeof O!="object"))return this.ops.unshift(w),this;if(a(w.attributes,O.attributes)){if(typeof w.insert=="string"&&typeof O.insert=="string")return this.ops[x-1]={insert:O.insert+w.insert},typeof w.attributes=="object"&&(this.ops[x-1].attributes=w.attributes),this;if(typeof w.retain=="number"&&typeof O.retain=="number")return this.ops[x-1]={retain:O.retain+w.retain},typeof w.attributes=="object"&&(this.ops[x-1].attributes=w.attributes),this}}return x===this.ops.length?this.ops.push(w):this.ops.splice(x,0,w),this}chop(){const w=this.ops[this.ops.length-1];return w&&typeof w.retain=="number"&&!w.attributes&&this.ops.pop(),this}filter(w){return this.ops.filter(w)}forEach(w){this.ops.forEach(w)}map(w){return this.ops.map(w)}partition(w){const x=[],O=[];return this.forEach(M=>{(w(M)?x:O).push(M)}),[x,O]}reduce(w,x){return this.ops.reduce(w,x)}changeLength(){return this.reduce((w,x)=>x.insert?w+c.default.length(x):x.delete?w-x.delete:w,0)}length(){return this.reduce((w,x)=>w+c.default.length(x),0)}slice(w=0,x=1/0){const O=[],M=new f.default(this.ops);let k=0;for(;k<x&&M.hasNext();){let F;k<w?F=M.next(w-k):(F=M.next(x-k),O.push(F)),k+=c.default.length(F)}return new _(O)}compose(w){const x=new f.default(this.ops),O=new f.default(w.ops),M=[],k=O.peek();if(k!=null&&typeof k.retain=="number"&&k.attributes==null){let K=k.retain;for(;x.peekType()==="insert"&&x.peekLength()<=K;)K-=x.peekLength(),M.push(x.next());k.retain-K>0&&O.next(k.retain-K)}const F=new _(M);for(;x.hasNext()||O.hasNext();)if(O.peekType()==="insert")F.push(O.next());else if(x.peekType()==="delete")F.push(x.next());else{const K=Math.min(x.peekLength(),O.peekLength()),re=x.next(K),be=O.next(K);if(be.retain){const ve={};if(typeof re.retain=="number")ve.retain=typeof be.retain=="number"?K:be.retain;else if(typeof be.retain=="number")re.retain==null?ve.insert=re.insert:ve.retain=re.retain;else{const j=re.retain==null?"insert":"retain",[L,P,z]=g(re[j],be.retain),S=_.getHandler(L);ve[j]={[L]:S.compose(P,z,j==="retain")}}const we=l.default.compose(re.attributes,be.attributes,typeof re.retain=="number");if(we&&(ve.attributes=we),F.push(ve),!O.hasNext()&&a(F.ops[F.ops.length-1],ve)){const j=new _(x.rest());return F.concat(j).chop()}}else typeof be.delete=="number"&&(typeof re.retain=="number"||typeof re.retain=="object"&&re.retain!==null)&&F.push(be)}return F.chop()}concat(w){const x=new _(this.ops.slice());return w.ops.length>0&&(x.push(w.ops[0]),x.ops=x.ops.concat(w.ops.slice(1))),x}diff(w,x){if(this.ops===w.ops)return new _;const O=[this,w].map(re=>re.map(be=>{if(be.insert!=null)return typeof be.insert=="string"?be.insert:m;const ve=re===w?"on":"with";throw new Error("diff() called "+ve+" non-document")}).join("")),M=new _,k=t(O[0],O[1],x,!0),F=new f.default(this.ops),K=new f.default(w.ops);return k.forEach(re=>{let be=re[1].length;for(;be>0;){let ve=0;switch(re[0]){case t.INSERT:ve=Math.min(K.peekLength(),be),M.push(K.next(ve));break;case t.DELETE:ve=Math.min(be,F.peekLength()),F.next(ve),M.delete(ve);break;case t.EQUAL:ve=Math.min(F.peekLength(),K.peekLength(),be);const we=F.next(ve),j=K.next(ve);a(we.insert,j.insert)?M.retain(ve,l.default.diff(we.attributes,j.attributes)):M.push(j).delete(ve);break}be-=ve}}),M.chop()}eachLine(w,x=`
`){const O=new f.default(this.ops);let M=new _,k=0;for(;O.hasNext();){if(O.peekType()!=="insert")return;const F=O.peek(),K=c.default.length(F)-O.peekLength(),re=typeof F.insert=="string"?F.insert.indexOf(x,K)-K:-1;if(re<0)M.push(O.next());else if(re>0)M.push(O.next(re));else{if(w(M,O.next(1).attributes||{},k)===!1)return;k+=1,M=new _}}M.length()>0&&w(M,{},k)}invert(w){const x=new _;return this.reduce((O,M)=>{if(M.insert)x.delete(c.default.length(M));else{if(typeof M.retain=="number"&&M.attributes==null)return x.retain(M.retain),O+M.retain;if(M.delete||typeof M.retain=="number"){const k=M.delete||M.retain;return w.slice(O,O+k).forEach(K=>{M.delete?x.push(K):M.retain&&M.attributes&&x.retain(c.default.length(K),l.default.invert(M.attributes,K.attributes))}),O+k}else if(typeof M.retain=="object"&&M.retain!==null){const k=w.slice(O,O+1),F=new f.default(k.ops).next(),[K,re,be]=g(M.retain,F.insert),ve=_.getHandler(K);return x.retain({[K]:ve.invert(re,be)},l.default.invert(M.attributes,F.attributes)),O+1}}return O},0),x.chop()}transform(w,x=!1){if(x=!!x,typeof w=="number")return this.transformPosition(w,x);const O=w,M=new f.default(this.ops),k=new f.default(O.ops),F=new _;for(;M.hasNext()||k.hasNext();)if(M.peekType()==="insert"&&(x||k.peekType()!=="insert"))F.retain(c.default.length(M.next()));else if(k.peekType()==="insert")F.push(k.next());else{const K=Math.min(M.peekLength(),k.peekLength()),re=M.next(K),be=k.next(K);if(re.delete)continue;if(be.delete)F.push(be);else{const ve=re.retain,we=be.retain;let j=typeof we=="object"&&we!==null?we:K;if(typeof ve=="object"&&ve!==null&&typeof we=="object"&&we!==null){const L=Object.keys(ve)[0];if(L===Object.keys(we)[0]){const P=_.getHandler(L);P&&(j={[L]:P.transform(ve[L],we[L],x)})}}F.retain(j,l.default.transform(re.attributes,be.attributes,x))}}return F.chop()}transformPosition(w,x=!1){x=!!x;const O=new f.default(this.ops);let M=0;for(;O.hasNext()&&M<=w;){const k=O.peekLength(),F=O.peekType();if(O.next(),F==="delete"){w-=Math.min(k,w-M);continue}else F==="insert"&&(M<w||!x)&&(w+=k);M+=k}return w}}_.Op=c.default,_.OpIterator=f.default,_.AttributeMap=l.default,_.handlers={},e.default=_,n.exports=_,n.exports.default=_})(Gf,Gf.exports)),Gf.exports}var xi=Xj();const Re=Ly(xi);class ts extends ti{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ts.blotName="break";ts.tagName="BR";let Ji=class extends kd{};const Wj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hm(n){return n.replace(/[&<>"']/g,e=>Wj[e])}class pr extends K0{static allowedChildren=[pr,ts,ti,Ji];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const i=pr.order.indexOf(e),a=pr.order.indexOf(t);return i>=0||a>=0?i-a:e===t?0:e<t?-1:1}formatAt(e,t,i,a){if(pr.compare(this.statics.blotName,i)<0&&this.scroll.query(i,Oe.BLOT)){const l=this.isolate(e,t);a&&l.wrap(i,a)}else super.formatAt(e,t,i,a)}optimize(e){if(super.optimize(e),this.parent instanceof pr&&pr.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const nw=1;class Fn extends nh{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=ZS(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,i,a){t<=0||(this.scroll.query(i,Oe.BLOCK)?e+t===this.length()&&this.format(i,a):super.formatAt(e,Math.min(t,this.length()-e-1),i,a),this.cache={})}insertAt(e,t,i){if(i!=null){super.insertAt(e,t,i),this.cache={};return}if(t.length===0)return;const a=t.split(`
`),l=a.shift();l.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let c=this;a.reduce((f,m)=>(c=c.split(f,!0),c.insertAt(0,m),m.length),e+l.length)}insertBefore(e,t){const{head:i}=this.children;super.insertBefore(e,t),i instanceof ts&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+nw),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-nw)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(e,t);return this.cache={},i}}Fn.blotName="block";Fn.tagName="P";Fn.defaultChild=ts;Fn.allowedChildren=[ts,pr,ti,Ji];class Ai extends ti{attach(){super.attach(),this.attributes=new um(this.domNode)}delta(){return new Re().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const i=this.scroll.query(e,Oe.BLOCK_ATTRIBUTE);i!=null&&this.attributes.attribute(i,t)}formatAt(e,t,i,a){this.format(i,a)}insertAt(e,t,i){if(i!=null){super.insertAt(e,t,i);return}const a=t.split(`
`),l=a.pop(),c=a.map(m=>{const g=this.scroll.create(Fn.blotName);return g.insertAt(0,m),g}),f=this.split(e);c.forEach(m=>{this.parent.insertBefore(m,f)}),l&&this.parent.insertBefore(this.scroll.create("text",l),f)}}Ai.scope=Oe.BLOCK_BLOT;function ZS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(rr).reduce((t,i)=>i.length()===0?t:t.insert(i.value(),_i(i,{},e)),new Re).insert(`
`,_i(n))}function _i(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:_i(n.parent,e,t)}class Fi extends ti{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,i){super(e,t),this.selection=i,this.textNode=document.createTextNode(Fi.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let i=this,a=0;for(;i!=null&&i.statics.scope!==Oe.BLOCK_BLOT;)a+=i.offset(i.parent),i=i.parent;i!=null&&(this.savedLength=Fi.CONTENTS.length,i.optimize(),i.formatAt(a,Fi.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Ji?this.prev:null,i=t?t.length():0,a=this.next instanceof Ji?this.next:null,l=a?a.text:"",{textNode:c}=this,f=c.data.split(Fi.CONTENTS).join("");c.data=Fi.CONTENTS;let m;if(t)m=t,(f||a)&&(t.insertAt(t.length(),f+l),a&&a.remove());else if(a)m=a,a.insertAt(0,f);else{const g=document.createTextNode(f);m=this.scroll.create(g),this.parent.insertBefore(m,this)}if(this.remove(),e){const g=(w,x)=>t&&w===t.domNode?x:w===c?i+x-1:a&&w===a.domNode?i+f.length+x:null,_=g(e.start.node,e.start.offset),E=g(e.end.node,e.end.offset);if(_!==null&&E!==null)return{startNode:m.domNode,startOffset:_,endNode:m.domNode,endOffset:E}}return null}update(e,t){if(e.some(i=>i.type==="characterData"&&i.target===this.textNode)){const i=this.restore();i&&(t.range=i)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Fi.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Mg={exports:{}},rw;function Zj(){return rw||(rw=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function a(m,g,_){this.fn=m,this.context=g,this.once=_||!1}function l(m,g,_,E,w){if(typeof _!="function")throw new TypeError("The listener must be a function");var x=new a(_,E||m,w),O=t?t+g:g;return m._events[O]?m._events[O].fn?m._events[O]=[m._events[O],x]:m._events[O].push(x):(m._events[O]=x,m._eventsCount++),m}function c(m,g){--m._eventsCount===0?m._events=new i:delete m._events[g]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],_,E;if(this._eventsCount===0)return g;for(E in _=this._events)e.call(_,E)&&g.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},f.prototype.listeners=function(g){var _=t?t+g:g,E=this._events[_];if(!E)return[];if(E.fn)return[E.fn];for(var w=0,x=E.length,O=new Array(x);w<x;w++)O[w]=E[w].fn;return O},f.prototype.listenerCount=function(g){var _=t?t+g:g,E=this._events[_];return E?E.fn?1:E.length:0},f.prototype.emit=function(g,_,E,w,x,O){var M=t?t+g:g;if(!this._events[M])return!1;var k=this._events[M],F=arguments.length,K,re;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),F){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,_),!0;case 3:return k.fn.call(k.context,_,E),!0;case 4:return k.fn.call(k.context,_,E,w),!0;case 5:return k.fn.call(k.context,_,E,w,x),!0;case 6:return k.fn.call(k.context,_,E,w,x,O),!0}for(re=1,K=new Array(F-1);re<F;re++)K[re-1]=arguments[re];k.fn.apply(k.context,K)}else{var be=k.length,ve;for(re=0;re<be;re++)switch(k[re].once&&this.removeListener(g,k[re].fn,void 0,!0),F){case 1:k[re].fn.call(k[re].context);break;case 2:k[re].fn.call(k[re].context,_);break;case 3:k[re].fn.call(k[re].context,_,E);break;case 4:k[re].fn.call(k[re].context,_,E,w);break;default:if(!K)for(ve=1,K=new Array(F-1);ve<F;ve++)K[ve-1]=arguments[ve];k[re].fn.apply(k[re].context,K)}}return!0},f.prototype.on=function(g,_,E){return l(this,g,_,E,!1)},f.prototype.once=function(g,_,E){return l(this,g,_,E,!0)},f.prototype.removeListener=function(g,_,E,w){var x=t?t+g:g;if(!this._events[x])return this;if(!_)return c(this,x),this;var O=this._events[x];if(O.fn)O.fn===_&&(!w||O.once)&&(!E||O.context===E)&&c(this,x);else{for(var M=0,k=[],F=O.length;M<F;M++)(O[M].fn!==_||w&&!O[M].once||E&&O[M].context!==E)&&k.push(O[M]);k.length?this._events[x]=k.length===1?k[0]:k:c(this,x)}return this},f.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&c(this,_)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f})(Mg)),Mg.exports}var Jj=Zj();const e8=Ly(Jj),Ry=new WeakMap,Iy=["error","warn","log","info"];let Oy="warn";function JS(n){if(Oy&&Iy.indexOf(n)<=Iy.indexOf(Oy)){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];console[n](...t)}}function Aa(n){return Iy.reduce((e,t)=>(e[t]=JS.bind(console,t,n),e),{})}Aa.level=n=>{Oy=n};JS.level=Aa.level;const kg=Aa("quill:events"),t8=["selectionchange","mousedown","mouseup","click"];t8.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const l=Ry.get(a);l&&l.emitter&&l.emitter.handleDOM(...t)})})});class Ne extends e8{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",kg.error)}emit(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return kg.log.call(kg,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(l=>{let{node:c,handler:f}=l;(e.target===c||c.contains(e.target))&&f(e,...i)})}listenDOM(e,t,i){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:i})}}const jg=Aa("quill:selection");class sl{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class n8{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new sl(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ne.sources.USER),1)}),this.emitter.on(Ne.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const i=this.getNativeRange();i!=null&&i.start.node!==this.cursor.textNode&&this.emitter.once(Ne.events.SCROLL_UPDATE,(a,l)=>{try{this.root.contains(i.start.node)&&this.root.contains(i.end.node)&&this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset);const c=l.some(f=>f.type==="characterData"||f.type==="childList"||f.type==="attributes"&&f.target===this.root);this.update(c?Ne.sources.SILENT:a)}catch{}})}),this.emitter.on(Ne.events.SCROLL_OPTIMIZE,(i,a)=>{if(a.range){const{startNode:l,startOffset:c,endNode:f,endOffset:m}=a.range;this.setNativeRange(l,c,f,m),this.update(Ne.sources.SILENT)}}),this.update(Ne.sources.SILENT)}handleComposition(){this.emitter.on(Ne.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ne.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ne.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const i=this.getNativeRange();if(!(i==null||!i.native.collapsed||this.scroll.query(e,Oe.BLOCK))){if(i.start.node!==this.cursor.textNode){const a=this.scroll.find(i.start.node,!1);if(a==null)return;if(a instanceof rr){const l=a.split(i.start.offset);a.parent.insertBefore(this.cursor,l)}else a.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.scroll.length();e=Math.min(e,i-1),t=Math.min(e+t,i-1)-e;let a,[l,c]=this.scroll.leaf(e);if(l==null)return null;if(t>0&&c===l.length()){const[_]=this.scroll.leaf(e+1);if(_){const[E]=this.scroll.line(e),[w]=this.scroll.line(e+1);E===w&&(l=_,c=0)}}[a,c]=l.position(c,!0);const f=document.createRange();if(t>0)return f.setStart(a,c),[l,c]=this.scroll.leaf(e+t),l==null?null:([a,c]=l.position(c,!0),f.setEnd(a,c),f.getBoundingClientRect());let m="left",g;if(a instanceof Text){if(!a.data.length)return null;c<a.data.length?(f.setStart(a,c),f.setEnd(a,c+1)):(f.setStart(a,c-1),f.setEnd(a,c),m="right"),g=f.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;g=l.domNode.getBoundingClientRect(),c>0&&(m="right")}return{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const i=this.normalizeNative(t);return jg.info("getNativeRange",i),i}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Pg(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const i=t.map(c=>{const[f,m]=c,g=this.scroll.find(f,!0),_=g.offset(this.scroll);return m===0?_:g instanceof rr?_+g.index(f,m):_+g.length()}),a=Math.min(Math.max(...i),this.scroll.length()-1),l=Math.min(a,...i);return new sl(l,a-l)}normalizeNative(e){if(!Pg(this.root,e.startContainer)||!e.collapsed&&!Pg(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(i=>{let{node:a,offset:l}=i;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>l)a=a.childNodes[l],l=0;else if(a.childNodes.length===l)a=a.lastChild,a instanceof Text?l=a.data.length:a.childNodes.length>0?l=a.childNodes.length:l=a.childNodes.length+1;else break;i.node=a,i.offset=l}),t}rangeToNative(e){const t=this.scroll.length(),i=(a,l)=>{a=Math.min(t-1,a);const[c,f]=this.scroll.leaf(a);return c?c.position(f,l):[null,-1]};return[...i(e.index,!1),...i(e.index+e.length,!0)]}setNativeRange(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(jg.info("setNativeRange",e,t,i,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||i.parentNode==null))return;const c=document.getSelection();if(c!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:f}=this.getNativeRange()||{};if(f==null||l||e!==f.startContainer||t!==f.startOffset||i!==f.endContainer||a!==f.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),i instanceof Element&&i.tagName==="BR"&&(a=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode);const m=document.createRange();m.setStart(e,t),m.setEnd(i,a),c.removeAllRanges(),c.addRange(m)}}else c.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;if(typeof t=="string"&&(i=t,t=!1),jg.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,t)}else this.setNativeRange(null);this.update(i)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.lastRange,[i,a]=this.getRange();if(this.lastRange=i,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!io(t,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const l=[Ne.events.SELECTION_CHANGE,fu(this.lastRange),fu(t),e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...l),e!==Ne.sources.SILENT&&this.emitter.emit(...l)}}}function Pg(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const r8=/^[ -~]*$/;class i8{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const i=iw(e),a=new Re;return a8(i.ops.slice()).reduce((c,f)=>{const m=xi.Op.length(f);let g=f.attributes||{},_=!1,E=!1;if(f.insert!=null){if(a.retain(m),typeof f.insert=="string"){const O=f.insert;E=!O.endsWith(`
`)&&(t<=c||!!this.scroll.descendant(Ai,c)[0]),this.scroll.insertAt(c,O);const[M,k]=this.scroll.line(c);let F=mo({},_i(M));if(M instanceof Fn){const[K]=M.descendant(rr,k);K&&(F=mo(F,_i(K)))}g=xi.AttributeMap.diff(F,g)||{}}else if(typeof f.insert=="object"){const O=Object.keys(f.insert)[0];if(O==null)return c;const M=this.scroll.query(O,Oe.INLINE)!=null;if(M)(t<=c||this.scroll.descendant(Ai,c)[0])&&(E=!0);else if(c>0){const[k,F]=this.scroll.descendant(rr,c-1);k instanceof Ji?k.value()[F]!==`
`&&(_=!0):k instanceof ti&&k.statics.scope===Oe.INLINE_BLOT&&(_=!0)}if(this.scroll.insertAt(c,O,f.insert[O]),M){const[k]=this.scroll.descendant(rr,c);if(k){const F=mo({},_i(k));g=xi.AttributeMap.diff(F,g)||{}}}}t+=m}else if(a.push(f),f.retain!==null&&typeof f.retain=="object"){const O=Object.keys(f.retain)[0];if(O==null)return c;this.scroll.updateEmbedAt(c,O,f.retain[O])}Object.keys(g).forEach(O=>{this.scroll.formatAt(c,m,O,g[O])});const w=_?1:0,x=E?1:0;return t+=w+x,a.retain(w),a.delete(x),c+m+w+x},0),a.reduce((c,f)=>typeof f.delete=="number"?(this.scroll.deleteAt(c,f.delete),c):c+xi.Op.length(f),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Re().retain(e).delete(t))}formatLine(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(l=>{this.scroll.lines(e,Math.max(t,1)).forEach(c=>{c.format(l,i[l])})}),this.scroll.optimize();const a=new Re().retain(e).retain(t,fu(i));return this.update(a)}formatText(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(i).forEach(l=>{this.scroll.formatAt(e,t,l,i[l])});const a=new Re().retain(e).retain(t,fu(i));return this.update(a)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Re)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[],a=[];t===0?this.scroll.path(e).forEach(f=>{const[m]=f;m instanceof Fn?i.push(m):m instanceof rr&&a.push(m)}):(i=this.scroll.lines(e,t),a=this.scroll.descendants(rr,e,t));const[l,c]=[i,a].map(f=>{const m=f.shift();if(m==null)return{};let g=_i(m);for(;Object.keys(g).length>0;){const _=f.shift();if(_==null)return g;g=s8(_i(_),g)}return g});return{...l,...c}}getHTML(e,t){const[i,a]=this.scroll.line(e);if(i){const l=i.length();return i.length()>=a+t&&!(a===0&&t===l)?rh(i,a,t,!0):rh(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(i=>typeof i.insert=="string").map(i=>i.insert).join("")}insertContents(e,t){const i=iw(t),a=new Re().retain(e).concat(i);return this.scroll.insertContents(e,i),this.update(a)}insertEmbed(e,t,i){return this.scroll.insertAt(e,t,i),this.update(new Re().retain(e).insert({[t]:i}))}insertText(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(i).forEach(a=>{this.scroll.formatAt(e,t.length,a,i[a])}),this.update(new Re().retain(e).insert(t,fu(i)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Fn.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof ts}removeFormat(e,t){const i=this.getText(e,t),[a,l]=this.scroll.line(e+t);let c=0,f=new Re;a!=null&&(c=a.length()-l,f=a.delta().slice(l,l+c-1).insert(`
`));const g=this.getContents(e,t+c).diff(new Re().insert(i).concat(f)),_=new Re().retain(e).concat(g);return this.applyDelta(_)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(r8)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),c=_i(l),f=l.offset(this.scroll),m=t[0].oldValue.replace(Fi.CONTENTS,""),g=new Re().insert(m),_=new Re().insert(l.value()),E=i&&{oldRange:sw(i.oldRange,-f),newRange:sw(i.newRange,-f)};e=new Re().retain(f).concat(g.diff(_,E)).reduce((x,O)=>O.insert?x.insert(O.insert,c):x.push(O),new Re),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!io(a.compose(e),this.delta))&&(e=a.diff(this.delta,i));return e}}function au(n,e,t){if(n.length===0){const[x]=Vg(t.pop());return e<=0?`</li></${x}>`:`</li></${x}>${au([],e-1,t)}`}const[{child:i,offset:a,length:l,indent:c,type:f},...m]=n,[g,_]=Vg(f);if(c>e)return t.push(f),c===e+1?`<${g}><li${_}>${rh(i,a,l)}${au(m,c,t)}`:`<${g}><li>${au(n,e+1,t)}`;const E=t[t.length-1];if(c===e&&f===E)return`</li><li${_}>${rh(i,a,l)}${au(m,c,t)}`;const[w]=Vg(t.pop());return`</li></${w}>${au(n,e-1,t)}`}function rh(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof Ji)return hm(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Wi){if(n.statics.blotName==="list-container"){const g=[];return n.children.forEachAt(e,t,(_,E,w)=>{const x="formats"in _&&typeof _.formats=="function"?_.formats():{};g.push({child:_,offset:E,length:w,indent:x.indent||0,type:x.list})}),au(g,-1,[])}const a=[];if(n.children.forEachAt(e,t,(g,_,E)=>{a.push(rh(g,_,E))}),i||n.statics.blotName==="list")return a.join("");const{outerHTML:l,innerHTML:c}=n.domNode,[f,m]=l.split(`>${c}<`);return f==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${m}`:`${f}>${a.join("")}<${m}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function s8(n,e){return Object.keys(e).reduce((t,i)=>{if(n[i]==null)return t;const a=e[i];return a===n[i]?t[i]=a:Array.isArray(a)?a.indexOf(n[i])<0?t[i]=a.concat([n[i]]):t[i]=a:t[i]=[a,n[i]],t},{})}function Vg(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function iw(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const i=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(i,t.attributes)}return e.push(t)},new Re)}function sw(n,e){let{index:t,length:i}=n;return new sl(t+e,i)}function a8(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((a,l)=>{l&&e.push({insert:`
`,attributes:t.attributes}),a&&e.push({insert:a,attributes:t.attributes})}):e.push(t)}),e}class Rs{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Qf="\uFEFF";class Q0 extends ti{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(i=>{this.contentNode.appendChild(i)}),this.leftGuard=document.createTextNode(Qf),this.rightGuard=document.createTextNode(Qf),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,i;const a=e.data.split(Qf).join("");if(e===this.leftGuard)if(this.prev instanceof Ji){const l=this.prev.length();this.prev.insertAt(l,a),t={startNode:this.prev.domNode,startOffset:l+a.length}}else i=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(i),this),t={startNode:i,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof Ji?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(i=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(i),this.next),t={startNode:i,startOffset:a.length}));return e.data=Qf,t}update(e,t){e.forEach(i=>{if(i.type==="characterData"&&(i.target===this.leftGuard||i.target===this.rightGuard)){const a=this.restore(i.target);a&&(t.range=a)}})}}class o8{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Q0)&&(this.emitter.emit(Ne.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ne.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ne.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ne.events.COMPOSITION_END,e),this.isComposing=!1}}class Pu{static DEFAULTS={modules:{}};static themes={default:Pu};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const l8=n=>n.parentElement||n.getRootNode().host||null,u8=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,i="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*i,left:e.left}},Xf=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},aw=(n,e,t,i,a,l)=>n<t&&e>i?0:n<t?-(t-n+a):e>i?e-n>i-t?n+a-t:e-i+l:0,c8=(n,e)=>{const t=n.ownerDocument;let i=e,a=n;for(;a;){const l=a===t.body,c=l?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:u8(a),f=getComputedStyle(a),m=aw(i.left,i.right,c.left,c.right,Xf(f.scrollPaddingLeft),Xf(f.scrollPaddingRight)),g=aw(i.top,i.bottom,c.top,c.bottom,Xf(f.scrollPaddingTop),Xf(f.scrollPaddingBottom));if(m||g)if(l)t.defaultView?.scrollBy(m,g);else{const{scrollLeft:_,scrollTop:E}=a;g&&(a.scrollTop+=g),m&&(a.scrollLeft+=m);const w=a.scrollLeft-_,x=a.scrollTop-E;i={left:i.left-w,top:i.top-x,right:i.right-w,bottom:i.bottom-x}}a=l||f.position==="fixed"?null:l8(a)}},h8=100,f8=["block","break","cursor","inline","scroll","text"],d8=(n,e,t)=>{const i=new Au;return f8.forEach(a=>{const l=e.query(a);l&&i.register(l)}),n.forEach(a=>{let l=e.query(a);l||t.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;l;)if(i.register(l),l="blotName"in l?l.requiredContainer??null:null,c+=1,c>h8){t.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),i},mu=Aa("quill"),Wf=new Au;Wi.uiClass="ql-ui";class ae{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Wf,theme:"default"};static events=Ne.events;static sources=Ne.sources;static version="2.0.3";static imports={delta:Re,parchment:$j,"core/module":Rs,"core/theme":Pu};static debug(e){e===!0&&(e="log"),Aa.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ry.get(e)||Wf.find(e,t)}static import(e){return this.imports[e]==null&&mu.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),i="attrName"in e?e.attrName:e.blotName;typeof i=="string"?this.register(`formats/${i}`,e,t):Object.keys(e).forEach(a=>{this.register(a,e[a],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],i=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!i&&mu.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Wf.register(t),typeof t.register=="function"&&t.register(Wf)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=m8(e,t),this.container=this.options.container,this.container==null){mu.error("Invalid Quill container",e);return}this.options.debug&&ae.debug(this.options.debug);const i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ry.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ne;const a=Y0.blotName,l=this.options.registry.query(a);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new i8(this.scroll),this.selection=new n8(this.scroll,this.emitter),this.composition=new o8(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ne.events.EDITOR_CHANGE,c=>{c===Ne.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ne.events.SCROLL_UPDATE,(c,f)=>{const m=this.selection.lastRange,[g]=this.selection.getRange(),_=m&&g?{oldRange:m,newRange:g}:void 0;zi.call(this,()=>this.editor.update(null,f,_),c)}),this.emitter.on(Ne.events.SCROLL_EMBED_UPDATE,(c,f)=>{const m=this.selection.lastRange,[g]=this.selection.getRange(),_=m&&g?{oldRange:m,newRange:g}:void 0;zi.call(this,()=>{const E=new Re().retain(c.offset(this)).retain({[c.statics.blotName]:f});return this.editor.update(E,[],_)},ae.sources.USER)}),i){const c=this.clipboard.convert({html:`${i}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const i=e;e=document.createElement("div"),e.classList.add(i)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,i){return[e,t,,i]=oa(e,t,i),zi.call(this,()=>this.editor.deleteText(e,t),i,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;return zi.call(this,()=>{const a=this.getSelection(!0);let l=new Re;if(a==null)return l;if(this.scroll.query(e,Oe.BLOCK))l=this.editor.formatLine(a.index,a.length,{[e]:t});else{if(a.length===0)return this.selection.format(e,t),l;l=this.editor.formatText(a.index,a.length,{[e]:t})}return this.setSelection(a,Ne.sources.SILENT),l},i)}formatLine(e,t,i,a,l){let c;return[e,t,c,l]=oa(e,t,i,a,l),zi.call(this,()=>this.editor.formatLine(e,t,c),l,e,0)}formatText(e,t,i,a,l){let c;return[e,t,c,l]=oa(e,t,i,a,l),zi.call(this,()=>this.editor.formatText(e,t,c),l,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=null;if(typeof e=="number"?i=this.selection.getBounds(e,t):i=this.selection.getBounds(e.index,e.length),!i)return null;const a=this.container.getBoundingClientRect();return{bottom:i.bottom-a.top,height:i.height,left:i.left-a.left,right:i.right-a.left,top:i.top-a.top,width:i.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=oa(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=oa(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=oa(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ae.sources.API;return zi.call(this,()=>this.editor.insertEmbed(e,t,i),a,e)}insertText(e,t,i,a,l){let c;return[e,,c,l]=oa(e,0,i,a,l),zi.call(this,()=>this.editor.insertText(e,t,c),l,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,i){return[e,t,,i]=oa(e,t,i),zi.call(this,()=>this.editor.removeFormat(e,t),i,e)}scrollRectIntoView(e){c8(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return zi.call(this,()=>{e=new Re(e);const i=this.getLength(),a=this.editor.deleteText(0,i),l=this.editor.insertContents(0,e),c=this.editor.deleteText(this.getLength()-1,1);return a.compose(l).compose(c)},t)}setSelection(e,t,i){e==null?this.selection.setRange(null,t||ae.sources.API):([e,t,,i]=oa(e,t,i),this.selection.setRange(new sl(Math.max(0,e),t),i),i!==Ne.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;const i=new Re().insert(e);return this.setContents(i,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return zi.call(this,()=>(e=new Re(e),this.editor.applyDelta(e)),t,!0)}}function ow(n){return typeof n=="string"?document.querySelector(n):n}function Ug(n){return Object.entries(n??{}).reduce((e,t)=>{let[i,a]=t;return{...e,[i]:a===!0?{}:a}},{})}function lw(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function m8(n,e){const t=ow(n);if(!t)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===ae.DEFAULTS.theme?Pu:ae.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...c}=ae.DEFAULTS,{modules:f,...m}=a.DEFAULTS;let g=Ug(e.modules);g!=null&&g.toolbar&&g.toolbar.constructor!==Object&&(g={...g,toolbar:{container:g.toolbar}});const _=mo({},Ug(l),Ug(f),g),E={...c,...lw(m),...lw(e)};let w=e.registry;return w?e.formats&&mu.warn('Ignoring "formats" option because "registry" is specified'):w=e.formats?d8(e.formats,E.registry,mu):E.registry,{...E,registry:w,container:t,theme:a,modules:Object.entries(_).reduce((x,O)=>{let[M,k]=O;if(!k)return x;const F=ae.import(`modules/${M}`);return F==null?(mu.error(`Cannot load ${M} module. Are you sure you registered it?`),x):{...x,[M]:mo({},F.DEFAULTS||{},k)}},{}),bounds:ow(E.bounds)}}function zi(n,e,t,i){if(!this.isEnabled()&&e===Ne.sources.USER&&!this.allowReadOnlyEdits)return new Re;let a=t==null?null:this.getSelection();const l=this.editor.delta,c=n();if(a!=null&&(t===!0&&(t=a.index),i==null?a=uw(a,c,e):i!==0&&(a=uw(a,t,i,e)),this.setSelection(a,Ne.sources.SILENT)),c.length()>0){const f=[Ne.events.TEXT_CHANGE,c,l,e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...f),e!==Ne.sources.SILENT&&this.emitter.emit(...f)}return c}function oa(n,e,t,i,a){let l={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(a=i,i=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(a=i,i=t,t=e,e=0),typeof t=="object"?(l=t,a=i):typeof t=="string"&&(i!=null?l[t]=i:a=t),a=a||Ne.sources.API,[n,e,l,a]}function uw(n,e,t,i){const a=typeof t=="number"?t:0;if(n==null)return null;let l,c;return e&&typeof e.transformPosition=="function"?[l,c]=[n.index,n.index+n.length].map(f=>e.transformPosition(f,i!==Ne.sources.USER)):[l,c]=[n.index,n.index+n.length].map(f=>f<e||f===e&&i===Ne.sources.USER?f:a>=0?f+a:Math.max(e,f+a)),new sl(l,c-l)}class vl extends cm{}function cw(n){return n instanceof Fn||n instanceof Ai}function hw(n){return typeof n.updateContent=="function"}class p8 extends Y0{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Fn;static allowedChildren=[Fn,Ai,vl];constructor(e,t,i){let{emitter:a}=i;super(e,t),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ne.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[i,a]=this.line(e),[l]=this.line(e+t);if(super.deleteAt(e,t),l!=null&&i!==l&&a>0){if(i instanceof Ai||l instanceof Ai){this.optimize();return}const c=l.children.head instanceof ts?null:l.children.head;i.moveChildren(l,c),i.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,i,a){super.formatAt(e,t,i,a),this.optimize()}insertAt(e,t,i){if(e>=this.length())if(i==null||this.scroll.query(t,Oe.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),i==null&&t.endsWith(`
`)?a.insertAt(0,t.slice(0,-1),i):a.insertAt(0,t,i)}else{const a=this.scroll.create(t,i);this.appendChild(a)}else super.insertAt(e,t,i);this.optimize()}insertBefore(e,t){if(e.statics.scope===Oe.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(e),super.insertBefore(i,t)}else super.insertBefore(e,t)}insertContents(e,t){const i=this.deltaToRenderBlocks(t.concat(new Re().insert(`
`))),a=i.pop();if(a==null)return;this.batchStart();const l=i.shift();if(l){const m=l.type==="block"&&(l.delta.length()===0||!this.descendant(Ai,e)[0]&&e<this.length()),g=l.type==="block"?l.delta:new Re().insert({[l.key]:l.value});qg(this,e,g);const _=l.type==="block"?1:0,E=e+g.length()+_;m&&this.insertAt(E-1,`
`);const w=_i(this.line(e)[0]),x=xi.AttributeMap.diff(w,l.attributes)||{};Object.keys(x).forEach(O=>{this.formatAt(E-1,1,O,x[O])}),e=E}let[c,f]=this.children.find(e);if(i.length&&(c&&(c=c.split(f),f=0),i.forEach(m=>{if(m.type==="block"){const g=this.createBlock(m.attributes,c||void 0);qg(g,0,m.delta)}else{const g=this.create(m.key,m.value);this.insertBefore(g,c||void 0),Object.keys(m.attributes).forEach(_=>{g.format(_,m.attributes[_])})}})),a.type==="block"&&a.delta.length()){const m=c?c.offset(c.scroll)+f:this.length();qg(this,m,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[i,a]=t;return i instanceof rr?[i,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(cw,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const i=(a,l,c)=>{let f=[],m=c;return a.children.forEachAt(l,c,(g,_,E)=>{cw(g)?f.push(g):g instanceof cm&&(f=f.concat(i(g,_,m))),m-=E}),f};return i(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ne.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ne.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(i=>{let{target:a}=i;const l=this.find(a,!0);return l&&!hw(l)}),e.length>0&&this.emitter.emit(Ne.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ne.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,i){const[a]=this.descendant(l=>l instanceof Ai,e);a&&a.statics.blotName===t&&hw(a)&&a.updateContent(i)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let i=new Re;return e.forEach(a=>{const l=a?.insert;if(l)if(typeof l=="string"){const c=l.split(`
`);c.slice(0,-1).forEach(m=>{i.insert(m,a.attributes),t.push({type:"block",delta:i,attributes:a.attributes??{}}),i=new Re});const f=c[c.length-1];f&&i.insert(f,a.attributes)}else{const c=Object.keys(l)[0];if(!c)return;this.query(c,Oe.INLINE)?i.push(a):(i.length()&&t.push({type:"block",delta:i,attributes:{}}),i=new Re,t.push({type:"blockEmbed",key:c,value:l[c],attributes:a.attributes??{}}))}}),i.length()&&t.push({type:"block",delta:i,attributes:{}}),t}createBlock(e,t){let i;const a={};Object.entries(e).forEach(f=>{let[m,g]=f;this.query(m,Oe.BLOCK&Oe.BLOT)!=null?i=m:a[m]=g});const l=this.create(i||this.statics.defaultChild.blotName,i?e[i]:void 0);this.insertBefore(l,t||void 0);const c=l.length();return Object.entries(a).forEach(f=>{let[m,g]=f;l.formatAt(0,c,m,g)}),l}}function qg(n,e,t){t.reduce((i,a)=>{const l=xi.Op.length(a);let c=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const f=a.insert;n.insertAt(i,f);const[m]=n.descendant(rr,i),g=_i(m);c=xi.AttributeMap.diff(g,c)||{}}else if(typeof a.insert=="object"){const f=Object.keys(a.insert)[0];if(f==null)return i;if(n.insertAt(i,f,a.insert[f]),n.scroll.query(f,Oe.INLINE)!=null){const[g]=n.descendant(rr,i),_=_i(g);c=xi.AttributeMap.diff(_,c)||{}}}}return Object.keys(c).forEach(f=>{n.formatAt(i,l,f,c[f])}),i+l},e)}const X0={scope:Oe.BLOCK,whitelist:["right","center","justify"]},g8=new Ns("align","align",X0),eN=new es("align","ql-align",X0),tN=new Co("align","text-align",X0);class nN extends Co{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):t}}const y8=new es("color","ql-color",{scope:Oe.INLINE}),W0=new nN("color","color",{scope:Oe.INLINE}),v8=new es("background","ql-bg",{scope:Oe.INLINE}),Z0=new nN("background","background-color",{scope:Oe.INLINE});class bl extends vl{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(i=>i.length()<=1?"":i.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${hm(this.code(e,t))}
</pre>`}}class gr extends Fn{static TAB="  ";static register(){ae.register(bl)}}class J0 extends pr{}J0.blotName="code";J0.tagName="CODE";gr.blotName="code-block";gr.className="ql-code-block";gr.tagName="DIV";bl.blotName="code-block-container";bl.className="ql-code-block-container";bl.tagName="DIV";bl.allowedChildren=[gr];gr.allowedChildren=[Ji,ts,Fi];gr.requiredContainer=bl;const ev={scope:Oe.BLOCK,whitelist:["rtl"]},rN=new Ns("direction","dir",ev),iN=new es("direction","ql-direction",ev),sN=new Co("direction","direction",ev),aN={scope:Oe.INLINE,whitelist:["serif","monospace"]},oN=new es("font","ql-font",aN);class b8 extends Co{value(e){return super.value(e).replace(/["']/g,"")}}const lN=new b8("font","font-family",aN),uN=new es("size","ql-size",{scope:Oe.INLINE,whitelist:["small","large","huge"]}),cN=new Co("size","font-size",{scope:Oe.INLINE,whitelist:["10px","18px","32px"]}),_8=Aa("quill:keyboard"),E8=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class fm extends Rs{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(i=>!!t[i]!==e[i]&&t[i]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=w8(e);if(a==null){_8.warn("Attempted to add invalid keyboard binding",a);return}typeof t=="function"&&(t={handler:t}),typeof i=="function"&&(i={handler:i}),(Array.isArray(a.key)?a.key:[a.key]).forEach(c=>{const f={...a,key:c,...t,...i};this.bindings[f.key]=this.bindings[f.key]||[],this.bindings[f.key].push(f)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(F=>fm.match(e,F));if(a.length===0)return;const l=ae.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[f,m]=this.quill.getLine(c.index),[g,_]=this.quill.getLeaf(c.index),[E,w]=c.length===0?[g,_]:this.quill.getLeaf(c.index+c.length),x=g instanceof kd?g.value().slice(0,_):"",O=E instanceof kd?E.value().slice(w):"",M={collapsed:c.length===0,empty:c.length===0&&f.length()<=1,format:this.quill.getFormat(c),line:f,offset:m,prefix:x,suffix:O,event:e};a.some(F=>{if(F.collapsed!=null&&F.collapsed!==M.collapsed||F.empty!=null&&F.empty!==M.empty||F.offset!=null&&F.offset!==M.offset)return!1;if(Array.isArray(F.format)){if(F.format.every(K=>M.format[K]==null))return!1}else if(typeof F.format=="object"&&!Object.keys(F.format).every(K=>F.format[K]===!0?M.format[K]!=null:F.format[K]===!1?M.format[K]==null:io(F.format[K],M.format[K])))return!1;return F.prefix!=null&&!F.prefix.test(M.prefix)||F.suffix!=null&&!F.suffix.test(M.suffix)?!1:F.handler.call(this,c,M,F)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[l]=this.quill.getLine(e.index);let c=new Re().retain(e.index-i).delete(i);if(t.offset===0){const[f]=this.quill.getLine(e.index-1);if(f&&!(f.statics.blotName==="block"&&f.length()<=1)){const g=l.formats(),_=this.quill.getFormat(e.index-1,1);if(a=xi.AttributeMap.diff(g,_)||{},Object.keys(a).length>0){const E=new Re().retain(e.index+l.length()-2).retain(1,a);c=c.compose(E)}}}this.quill.updateContents(c,ae.sources.USER),this.quill.focus()}handleDelete(e,t){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-i)return;let a={};const[l]=this.quill.getLine(e.index);let c=new Re().retain(e.index).delete(i);if(t.offset>=l.length()-1){const[f]=this.quill.getLine(e.index+1);if(f){const m=l.formats(),g=this.quill.getFormat(e.index,1);a=xi.AttributeMap.diff(m,g)||{},Object.keys(a).length>0&&(c=c.retain(f.length()-1).retain(1,a))}}this.quill.updateContents(c,ae.sources.USER),this.quill.focus()}handleDeleteRange(e){tv({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const i=Object.keys(t.format).reduce((l,c)=>(this.quill.scroll.query(c,Oe.BLOCK)&&!Array.isArray(t.format[c])&&(l[c]=t.format[c]),l),{}),a=new Re().retain(e.index).delete(e.length).insert(`
`,i);this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(e.index+1,ae.sources.SILENT),this.quill.focus()}}const T8={bindings:{bold:Bg("bold"),italic:Bg("italic"),underline:Bg("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",ae.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",ae.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",ae.sources.USER):e.format.list!=null&&this.quill.format("list",!1,ae.sources.USER)}},"indent code-block":fw(!0),"outdent code-block":fw(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,ae.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Re().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,ae.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ae.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,ae.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),i={...e.formats(),list:"checked"},a=new Re().retain(n.index).insert(`
`,i).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,i]=this.quill.getLine(n.index),a=new Re().retain(n.index).insert(`
`,e.format).retain(t.length()-i-1).retain(1,{header:null});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,i,a,l]=e.getTable(n),c=A8(t,i,a,l);if(c==null)return;let f=t.offset();if(c<0){const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(n.index+1,n.length,ae.sources.SILENT)}else if(c>0){f+=t.length();const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(f,ae.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:i}=e,a=i.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(a-1,ae.sources.USER):this.quill.setSelection(a+i.length(),ae.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[i,a]=this.quill.getLine(n.index);if(a>t)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",ae.sources.USER),this.quill.history.cutoff();const c=new Re().retain(n.index-a).delete(t+1).retain(i.length()-2-a).retain(1,{list:l});return this.quill.updateContents(c,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,ae.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let i=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,i-=1,i<=0){const l=new Re().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,ae.sources.USER),this.quill.setSelection(n.index-1,ae.sources.SILENT),!1}return!0}},"embed left":Zf("ArrowLeft",!1),"embed left shift":Zf("ArrowLeft",!0),"embed right":Zf("ArrowRight",!1),"embed right shift":Zf("ArrowRight",!0),"table down":dw(!1),"table up":dw(!0)}};fm.DEFAULTS=T8;function fw(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:i}=t;const a=this.quill.scroll.query("code-block"),{TAB:l}=a;if(e.length===0&&!i.shiftKey){this.quill.insertText(e.index,l,ae.sources.USER),this.quill.setSelection(e.index+l.length,ae.sources.SILENT);return}const c=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:f,length:m}=e;c.forEach((g,_)=>{n?(g.insertAt(0,l),_===0?f+=l.length:m+=l.length):g.domNode.textContent.startsWith(l)&&(g.deleteAt(0,l.length),_===0?f-=l.length:m-=l.length)}),this.quill.update(ae.sources.USER),this.quill.setSelection(f,m,ae.sources.SILENT)}}}function Zf(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(i){let{index:a}=i;n==="ArrowRight"&&(a+=i.length+1);const[l]=this.quill.getLeaf(a);return l instanceof ti?(n==="ArrowLeft"?e?this.quill.setSelection(i.index-1,i.length+1,ae.sources.USER):this.quill.setSelection(i.index-1,ae.sources.USER):e?this.quill.setSelection(i.index,i.length+1,ae.sources.USER):this.quill.setSelection(i.index+i.length+1,ae.sources.USER),!1):!0}}}function Bg(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],ae.sources.USER)}}}function dw(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const i=n?"prev":"next",a=t.line,l=a.parent[i];if(l!=null){if(l.statics.blotName==="table-row"){let c=l.children.head,f=a;for(;f.prev!=null;)f=f.prev,c=c.next;const m=c.offset(this.quill.scroll)+Math.min(t.offset,c.length()-1);this.quill.setSelection(m,0,ae.sources.USER)}}else{const c=a.table()[i];c!=null&&(n?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,ae.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,ae.sources.USER))}return!1}}}function w8(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=fu(n);else return null;return n.shortKey&&(n[E8]=n.shortKey,delete n.shortKey),n}function tv(n){let{quill:e,range:t}=n;const i=e.getLines(t);let a={};if(i.length>1){const l=i[0].formats(),c=i[i.length-1].formats();a=xi.AttributeMap.diff(c,l)||{}}e.deleteText(t,ae.sources.USER),Object.keys(a).length>0&&e.formatLine(t.index,1,a,ae.sources.USER),e.setSelection(t.index,ae.sources.SILENT)}function A8(n,e,t,i){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?i===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const x8=/font-weight:\s*normal/,S8=["P","OL","UL"],mw=n=>n&&S8.includes(n.tagName),N8=n=>{Array.from(n.querySelectorAll("br")).filter(e=>mw(e.previousElementSibling)&&mw(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},C8=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(x8)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function R8(n){n.querySelector('[id^="docs-internal-guid-"]')&&(C8(n),N8(n))}const I8=/\bmso-list:[^;]*ignore/i,O8=/\bmso-list:[^;]*\bl(\d+)/i,D8=/\bmso-list:[^;]*\blevel(\d+)/i,L8=(n,e)=>{const t=n.getAttribute("style"),i=t?.match(O8);if(!i)return null;const a=Number(i[1]),l=t?.match(D8),c=l?Number(l[1]):1,f=new RegExp(`@list l${a}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),m=e.match(f),g=m&&m[1]==="bullet"?"bullet":"ordered";return{id:a,indent:c,type:g,element:n}},M8=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],i=[];e.forEach(c=>{(c.getAttribute("style")||"").match(I8)?t.push(c):i.push(c)}),t.forEach(c=>c.parentNode?.removeChild(c));const a=n.documentElement.innerHTML,l=i.map(c=>L8(c,a)).filter(c=>c);for(;l.length;){const c=[];let f=l.shift();for(;f;)c.push(f),f=l.length&&l[0]?.element===f.element.nextElementSibling&&l[0].id===f.id?l.shift():null;const m=document.createElement("ul");c.forEach(E=>{const w=document.createElement("li");w.setAttribute("data-list",E.type),E.indent>1&&w.setAttribute("class",`ql-indent-${E.indent-1}`),w.innerHTML=E.element.innerHTML,m.appendChild(w)});const g=c[0]?.element,{parentNode:_}=g??{};g&&_?.replaceChild(m,g),c.slice(1).forEach(E=>{let{element:w}=E;_?.removeChild(w)})}};function k8(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&M8(n)}const j8=[k8,R8],P8=n=>{n.documentElement&&j8.forEach(e=>{e(n)})},V8=Aa("quill:clipboard"),U8=[[Node.TEXT_NODE,Z8],[Node.TEXT_NODE,gw],["br",G8],[Node.ELEMENT_NODE,gw],[Node.ELEMENT_NODE,F8],[Node.ELEMENT_NODE,H8],[Node.ELEMENT_NODE,X8],["li",Y8],["ol, ul",Q8],["pre",$8],["tr",W8],["b",zg("bold")],["i",zg("italic")],["strike",zg("strike")],["style",K8]],q8=[g8,rN].reduce((n,e)=>(n[e.keyName]=e,n),{}),pw=[tN,Z0,W0,sN,lN,cN].reduce((n,e)=>(n[e.keyName]=e,n),{});class B8 extends Rs{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",i=>this.onCaptureCopy(i,!1)),this.quill.root.addEventListener("cut",i=>this.onCaptureCopy(i,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],U8.concat(this.options.matchers??[]).forEach(i=>{let[a,l]=i;this.addMatcher(a,l)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:i}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[gr.blotName])return new Re().insert(i||"",{[gr.blotName]:a[gr.blotName]});if(!t)return new Re().insert(i||"",a);const l=this.convertHTML(t);return _h(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||a.table)?l.compose(new Re().retain(l.length()-1).delete(1)):l}normalizeHTML(e){P8(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const i=t.body,a=new WeakMap,[l,c]=this.prepareMatching(i,a);return nv(this.quill.scroll,i,l,c,a)}dangerouslyPasteHTML(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ae.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,t),this.quill.setSelection(0,ae.sources.SILENT)}else{const a=this.convert({html:t,text:""});this.quill.updateContents(new Re().retain(e).concat(a),i),this.quill.setSelection(e+a.length(),ae.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[i]=this.quill.selection.getRange();if(i==null)return;const{html:a,text:l}=this.onCopy(i,t);e.clipboardData?.setData("text/plain",l),e.clipboardData?.setData("text/html",a),t&&tv({range:i,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const i=e.clipboardData?.getData("text/html");let a=e.clipboardData?.getData("text/plain");if(!i&&!a){const c=e.clipboardData?.getData("text/uri-list");c&&(a=this.normalizeURIList(c))}const l=Array.from(e.clipboardData?.files||[]);if(!i&&l.length>0){this.quill.uploader.upload(t,l);return}if(i&&l.length>0){const c=new DOMParser().parseFromString(i,"text/html");if(c.body.childElementCount===1&&c.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,l);return}}this.onPaste(t,{html:i,text:a})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:i,html:a}=t;const l=this.quill.getFormat(e.index),c=this.convert({text:i,html:a},l);V8.log("onPaste",c,{text:i,html:a});const f=new Re().retain(e.index).delete(e.length).concat(c);this.quill.updateContents(f,ae.sources.USER),this.quill.setSelection(f.length()-e.length,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const i=[],a=[];return this.matchers.forEach(l=>{const[c,f]=l;switch(c){case Node.TEXT_NODE:a.push(f);break;case Node.ELEMENT_NODE:i.push(f);break;default:Array.from(e.querySelectorAll(c)).forEach(m=>{t.has(m)?t.get(m)?.push(f):t.set(m,[f])});break}}),[i,a]}}function _l(n,e,t,i){return i.query(e)?n.reduce((a,l)=>{if(!l.insert)return a;if(l.attributes&&l.attributes[e])return a.push(l);const c=t?{[e]:t}:{};return a.insert(l.insert,{...c,...l.attributes})},new Re):n}function _h(n,e){let t="";for(let i=n.ops.length-1;i>=0&&t.length<e.length;--i){const a=n.ops[i];if(typeof a.insert!="string")break;t=a.insert+t}return t.slice(-1*e.length)===e}function oo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof ti?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function z8(n,e){return n.previousElementSibling&&n.nextElementSibling&&!oo(n.previousElementSibling,e)&&!oo(n.nextElementSibling,e)}const Jf=new WeakMap;function hN(n){return n==null?!1:(Jf.has(n)||(n.tagName==="PRE"?Jf.set(n,!0):Jf.set(n,hN(n.parentNode))),Jf.get(n))}function nv(n,e,t,i,a){return e.nodeType===e.TEXT_NODE?i.reduce((l,c)=>c(e,l,n),new Re):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,c)=>{let f=nv(n,c,t,i,a);return c.nodeType===e.ELEMENT_NODE&&(f=t.reduce((m,g)=>g(c,m,n),f),f=(a.get(c)||[]).reduce((m,g)=>g(c,m,n),f)),l.concat(f)},new Re):new Re}function zg(n){return(e,t,i)=>_l(t,n,!0,i)}function H8(n,e,t){const i=Ns.keys(n),a=es.keys(n),l=Co.keys(n),c={};return i.concat(a).concat(l).forEach(f=>{let m=t.query(f,Oe.ATTRIBUTE);m!=null&&(c[m.attrName]=m.value(n),c[m.attrName])||(m=q8[f],m!=null&&(m.attrName===f||m.keyName===f)&&(c[m.attrName]=m.value(n)||void 0),m=pw[f],m!=null&&(m.attrName===f||m.keyName===f)&&(m=pw[f],c[m.attrName]=m.value(n)||void 0))}),Object.entries(c).reduce((f,m)=>{let[g,_]=m;return _l(f,g,_,t)},e)}function F8(n,e,t){const i=t.query(n);if(i==null)return e;if(i.prototype instanceof ti){const a={},l=i.value(n);if(l!=null)return a[i.blotName]=l,new Re().insert(a,i.formats(n,t))}else if(i.prototype instanceof nh&&!_h(e,`
`)&&e.insert(`
`),"blotName"in i&&"formats"in i&&typeof i.formats=="function")return _l(e,i.blotName,i.formats(n,t),t);return e}function G8(n,e){return _h(e,`
`)||e.insert(`
`),e}function $8(n,e,t){const i=t.query("code-block"),a=i&&"formats"in i&&typeof i.formats=="function"?i.formats(n,t):!0;return _l(e,"code-block",a,t)}function K8(){return new Re}function Y8(n,e,t){const i=t.query(n);if(i==null||i.blotName!=="list"||!_h(e,`
`))return e;let a=-1,l=n.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(a+=1),l=l.parentNode;return a<=0?e:e.reduce((c,f)=>f.insert?f.attributes&&typeof f.attributes.indent=="number"?c.push(f):c.insert(f.insert,{indent:a,...f.attributes||{}}):c,new Re)}function Q8(n,e,t){const i=n;let a=i.tagName==="OL"?"ordered":"bullet";const l=i.getAttribute("data-checked");return l&&(a=l==="true"?"checked":"unchecked"),_l(e,"list",a,t)}function gw(n,e,t){if(!_h(e,`
`)){if(oo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let i=n.nextSibling;for(;i!=null;){if(oo(i,t))return e.insert(`
`);const a=t.query(i);if(a&&a.prototype instanceof Ai)return e.insert(`
`);i=i.firstChild}}}return e}function X8(n,e,t){const i={},a=n.style||{};return a.fontStyle==="italic"&&(i.italic=!0),a.textDecoration==="underline"&&(i.underline=!0),a.textDecoration==="line-through"&&(i.strike=!0),(a.fontWeight?.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(i.bold=!0),e=Object.entries(i).reduce((l,c)=>{let[f,m]=c;return _l(l,f,m,t)},e),parseFloat(a.textIndent||0)>0?new Re().insert("	").concat(e):e}function W8(n,e,t){const i=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(i!=null){const l=Array.from(i.querySelectorAll("tr")).indexOf(n)+1;return _l(e,"table",l,t)}return e}function Z8(n,e,t){let i=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(i.trim());if(!hN(n)){if(i.trim().length===0&&i.includes(`
`)&&!z8(n,t))return e;i=i.replace(/[^\S\u00a0]/g," "),i=i.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&oo(n.parentElement,t)||n.previousSibling instanceof Element&&oo(n.previousSibling,t))&&(i=i.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&oo(n.parentElement,t)||n.nextSibling instanceof Element&&oo(n.nextSibling,t))&&(i=i.replace(/ $/,"")),i=i.replaceAll(""," ")}return e.insert(i)}class J8 extends Rs{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(ae.events.EDITOR_CHANGE,(i,a,l,c)=>{i===ae.events.SELECTION_CHANGE?a&&c!==ae.sources.SILENT&&(this.currentRange=a):i===ae.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===ae.sources.USER?this.record(a,l):this.transform(a)),this.currentRange=Dy(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const i=this.stack[e].pop();if(!i)return;const a=this.quill.getContents(),l=i.delta.invert(a);this.stack[t].push({delta:l,range:Dy(i.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,ae.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let i=e.invert(t),a=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(i=i.compose(c.delta),a=c.range)}else this.lastRecorded=l;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){yw(this.stack.undo,e),yw(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,ae.sources.USER);else{const t=tP(this.quill.scroll,e.delta);this.quill.setSelection(t,ae.sources.USER)}}}function yw(n,e){let t=e;for(let i=n.length-1;i>=0;i-=1){const a=n[i];n[i]={delta:t.transform(a.delta,!0),range:a.range&&Dy(a.range,t)},t=a.delta.transform(t),n[i].delta.length()===0&&n.splice(i,1)}}function eP(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(i=>n.query(i,Oe.BLOCK)!=null):!1}function tP(n,e){const t=e.reduce((a,l)=>a+(l.delete||0),0);let i=e.length()-t;return eP(n,e)&&(i-=1),i}function Dy(n,e){if(!n)return n;const t=e.transformPosition(n.index),i=e.transformPosition(n.index+n.length);return{index:t,length:i-t}}class fN extends Rs{constructor(e,t){super(e,t),e.root.addEventListener("drop",i=>{i.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(i.clientX,i.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(i.clientX,i.clientY);a=document.createRange(),a.setStart(c.offsetNode,c.offset),a.setEnd(c.offsetNode,c.offset)}const l=a&&e.selection.normalizeNative(a);if(l){const c=e.selection.normalizedToRange(l);i.dataTransfer?.files&&this.upload(c,i.dataTransfer.files)}})}upload(e,t){const i=[];Array.from(t).forEach(a=>{a&&this.options.mimetypes?.includes(a.type)&&i.push(a)}),i.length>0&&this.options.handler.call(this,e,i)}}fN.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(i=>new Promise(a=>{const l=new FileReader;l.onload=()=>{a(l.result)},l.readAsDataURL(i)}));Promise.all(t).then(i=>{const a=i.reduce((l,c)=>l.insert({image:c}),new Re().retain(n.index).delete(n.length));this.quill.updateContents(a,Ne.sources.USER),this.quill.setSelection(n.index+i.length,Ne.sources.SILENT)})}};const nP=["insertText","insertReplacementText"];class rP extends Rs{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",i=>{this.handleBeforeInput(i)}),/Android/i.test(navigator.userAgent)||e.on(ae.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){tv({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const i=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Re().retain(e.index).insert(t,i),ae.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,ae.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!nP.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const i=iP(e);if(i==null)return;const a=this.quill.selection.normalizeNative(t),l=a?this.quill.selection.normalizedToRange(a):null;l&&this.replaceText(l,i)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function iP(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const sP=/Mac/i.test(navigator.platform),aP=100,oP=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||sP&&n.key==="a"&&n.ctrlKey===!0);class lP extends Rs{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:i,event:a}=t;if(!(i instanceof Wi)||!i.uiNode)return!0;const l=getComputedStyle(i.domNode).direction==="rtl";return l&&a.key!=="ArrowRight"||!l&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),ae.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&oP(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+aP,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const i=this.quill.scroll.find(t.startContainer);if(!(i instanceof Wi)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),e.removeAllRanges(),e.addRange(a)}}ae.register({"blots/block":Fn,"blots/block/embed":Ai,"blots/break":ts,"blots/container":vl,"blots/cursor":Fi,"blots/embed":Q0,"blots/inline":pr,"blots/scroll":p8,"blots/text":Ji,"modules/clipboard":B8,"modules/history":J8,"modules/keyboard":fm,"modules/uploader":fN,"modules/input":rP,"modules/uiNode":lP});class uP extends es{add(e,t){let i=0;if(t==="+1"||t==="-1"){const a=this.value(e)||0;i=t==="+1"?a+1:a-1}else typeof t=="number"&&(i=t);return i===0?(this.remove(e),!0):super.add(e,i.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const cP=new uP("indent","ql-indent",{scope:Oe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class hP extends Fn{static blotName="blockquote";static tagName="blockquote"}class fP extends Fn{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class Eh extends vl{}Eh.blotName="list-container";Eh.tagName="OL";class Th extends Fn{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){ae.register(Eh)}constructor(e,t){super(e,t);const i=t.ownerDocument.createElement("span"),a=l=>{if(!e.isEnabled())return;const c=this.statics.formats(t,e);c==="checked"?(this.format("list","unchecked"),l.preventDefault()):c==="unchecked"&&(this.format("list","checked"),l.preventDefault())};i.addEventListener("mousedown",a),i.addEventListener("touchstart",a),this.attachUI(i)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Th.blotName="list";Th.tagName="LI";Eh.allowedChildren=[Th];Th.requiredContainer=Eh;class rv extends pr{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class dP extends rv{static blotName="italic";static tagName=["EM","I"]}class jd extends pr{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return dN(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function dN(n,e){const t=document.createElement("a");t.href=n;const i=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(i)>-1}class mP extends pr{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class pP extends rv{static blotName="strike";static tagName=["S","STRIKE"]}class gP extends pr{static blotName="underline";static tagName="U"}class yP extends Q0{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const vw=["alt","height","width"];let vP=class extends ti{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return vw.reduce((t,i)=>(e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return dN(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){vw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}};const bw=["height","width"];class bP extends Ai{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return bw.reduce((t,i)=>(e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t),{})}static sanitize(e){return jd.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){bw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const Lc=new es("code-token","hljs",{scope:Oe.INLINE});class _a extends pr{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(gr.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,i){super(e,t,i),Lc.add(this.domNode,i)}format(e,t){e!==_a.blotName?super.format(e,t):t?Lc.add(this.domNode,t):(Lc.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Lc.value(this.domNode)||this.unwrap()}}_a.blotName="code-token";_a.className="ql-token";class Ei extends gr{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),_a.blotName,!1),super.replaceWith(e,t)}}class Bc extends bl{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ei.blotName&&(this.forceNext=!0,this.children.forEach(i=>{i.format(e,t)}))}formatAt(e,t,i,a){i===Ei.blotName&&(this.forceNext=!0),super.formatAt(e,t,i,a)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,l=Ei.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const c=this.children.reduce((m,g)=>m.concat(ZS(g,!1)),new Re),f=e(a,l);c.diff(f).reduce((m,g)=>{let{retain:_,attributes:E}=g;return _?(E&&Object.keys(E).forEach(w=>{[Ei.blotName,_a.blotName].includes(w)&&this.formatAt(m,_,w,E[w])}),m+_):m},0)}this.cachedText=a,this.forceNext=!1}}html(e,t){const[i]=this.children.find(e);return`<pre data-language="${i?Ei.formats(i.domNode):"plain"}">
${hm(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ei.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Bc.allowedChildren=[Ei];Ei.requiredContainer=Bc;Ei.allowedChildren=[_a,Fi,Ji,ts];const _P=(n,e,t)=>{if(typeof n.versionString=="string"){const i=n.versionString.split(".")[0];if(parseInt(i,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class mN extends Rs{static register(){ae.register(_a,!0),ae.register(Ei,!0),ae.register(Bc,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((i,a)=>{let{key:l}=a;return i[l]=!0,i},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ae.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Bc))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(i=>{let{key:a,label:l}=i;const c=t.ownerDocument.createElement("option");c.textContent=l,c.setAttribute("value",a),t.appendChild(c)}),t.addEventListener("change",()=>{e.format(Ei.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ei.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(ae.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ae.sources.USER);const i=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Bc):[e]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(ae.sources.SILENT),i!=null&&this.quill.setSelection(i,ae.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return hm(e).split(`
`).reduce((a,l,c)=>(c!==0&&a.insert(`
`,{[gr.blotName]:t}),a.insert(l)),new Re);const i=this.quill.root.ownerDocument.createElement("div");return i.classList.add(gr.className),i.innerHTML=_P(this.options.hljs,t,e),nv(this.quill.scroll,i,[(a,l)=>{const c=Lc.value(a);return c?l.compose(new Re().retain(l.length(),{[_a.blotName]:c})):l}],[(a,l)=>a.data.split(`
`).reduce((c,f,m)=>(m!==0&&c.insert(`
`,{[gr.blotName]:t}),c.insert(f)),l)],new WeakMap)}}mN.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Gi extends Fn{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",iv()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Gi.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class al extends vl{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),i=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===t.table&&e.table===i.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const i=t.formats(),a=t.next.formats();if(i.table!==a.table){const l=this.splitAfter(t);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class po extends vl{static blotName="table-body";static tagName="TBODY"}class Pd extends vl{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(al),t=e.reduce((i,a)=>Math.max(a.children.length,i),0);e.forEach(i=>{new Array(t-i.children.length).fill(0).forEach(()=>{let a;i.children.head!=null&&(a=Gi.formats(i.children.head.domNode));const l=this.scroll.create(Gi.blotName,a);i.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(po);t==null||t.children.head==null||t.children.forEach(i=>{const a=i.children.at(e);a?.remove()})}insertColumn(e){const[t]=this.descendant(po);t==null||t.children.head==null||t.children.forEach(i=>{const a=i.children.at(e),l=Gi.formats(i.children.head.domNode),c=this.scroll.create(Gi.blotName,l);i.insertBefore(c,a)})}insertRow(e){const[t]=this.descendant(po);if(t==null||t.children.head==null)return;const i=iv(),a=this.scroll.create(al.blotName);t.children.head.children.forEach(()=>{const c=this.scroll.create(Gi.blotName,i);a.appendChild(c)});const l=t.children.at(e);t.insertBefore(a,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Pd.allowedChildren=[po];po.requiredContainer=Pd;po.allowedChildren=[al];al.requiredContainer=po;al.allowedChildren=[Gi];Gi.requiredContainer=al;function iv(){return`row-${Math.random().toString(36).slice(2,6)}`}class EP extends Rs{static register(){ae.register(Gi),ae.register(al),ae.register(po),ae.register(Pd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Pd).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(ae.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(ae.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(ae.sources.USER),this.quill.setSelection(t,ae.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,i]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Gi.blotName)return[null,null,null,-1];const a=t.parent;return[a.parent.parent,a,t,i]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[i,a,l]=this.getTable(t);if(l==null)return;const c=l.cellOffset();i.insertColumn(c+e),this.quill.update(ae.sources.USER);let f=a.rowOffset();e===0&&(f+=1),this.quill.setSelection(t.index+f,t.length,ae.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[i,a,l]=this.getTable(t);if(l==null)return;const c=a.rowOffset();i.insertRow(c+e),this.quill.update(ae.sources.USER),e>0?this.quill.setSelection(t,ae.sources.SILENT):this.quill.setSelection(t.index+a.children.length,t.length,ae.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const i=this.quill.getSelection();if(i==null)return;const a=new Array(e).fill(0).reduce(l=>{const c=new Array(t).fill(`
`).join("");return l.insert(c,{table:iv()})},new Re().retain(i.index));this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(i.index,ae.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ae.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(ae.events.TEXT_CHANGE,(i,a,l)=>{l===ae.sources.USER&&this.balanceTables()}),!0):!1)})}}const _w=Aa("quill:toolbar");class sv extends Rs{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),TP(i,this.options.container),e.container?.parentNode?.insertBefore(i,e.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){_w.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{const a=this.options.handlers?.[i];a&&this.addHandler(i,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(ae.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){_w.warn("ignoring attaching to nonexistent format",t,e);return}const i=e.tagName==="SELECT"?"change":"click";e.addEventListener(i,a=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const f=e.options[e.selectedIndex];f.hasAttribute("selected")?l=!1:l=f.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,l);else if(this.quill.scroll.query(t).prototype instanceof ti){if(l=prompt(`Enter ${t}`),!l)return;this.quill.updateContents(new Re().retain(c.index).delete(c.length).insert({[t]:l}),ae.sources.USER)}else this.quill.format(t,l,ae.sources.USER);this.update(c)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(i=>{const[a,l]=i;if(l.tagName==="SELECT"){let c=null;if(e==null)c=null;else if(t[a]==null)c=l.querySelector("option[selected]");else if(!Array.isArray(t[a])){let f=t[a];typeof f=="string"&&(f=f.replace(/"/g,'\\"')),c=l.querySelector(`option[value="${f}"]`)}c==null?(l.value="",l.selectedIndex=-1):c.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const c=t[a],f=c===l.getAttribute("value")||c!=null&&c.toString()===l.getAttribute("value")||c==null&&!l.getAttribute("value");l.classList.toggle("ql-active",f),l.setAttribute("aria-pressed",f.toString())}else{const c=t[a]!=null;l.classList.toggle("ql-active",c),l.setAttribute("aria-pressed",c.toString())}})}}sv.DEFAULTS={};function Ew(n,e,t){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${e}`),i.setAttribute("aria-pressed","false"),t!=null?(i.value=t,i.setAttribute("aria-label",`${e}: ${t}`)):i.setAttribute("aria-label",e),n.appendChild(i)}function TP(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const i=document.createElement("span");i.classList.add("ql-formats"),t.forEach(a=>{if(typeof a=="string")Ew(i,a);else{const l=Object.keys(a)[0],c=a[l];Array.isArray(c)?wP(i,l,c):Ew(i,l,c)}}),n.appendChild(i)})}function wP(n,e,t){const i=document.createElement("select");i.classList.add(`ql-${e}`),t.forEach(a=>{const l=document.createElement("option");a!==!1?l.setAttribute("value",String(a)):l.setAttribute("selected","selected"),i.appendChild(l)}),n.appendChild(i)}sv.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Oe.INLINE)!=null&&this.quill.format(t,!1,ae.sources.USER)})}else this.quill.removeFormat(n.index,n.length,ae.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",ae.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,ae.sources.USER),this.quill.format("direction",n,ae.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),i=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let a=n==="+1"?1:-1;t.direction==="rtl"&&(a*=-1),this.quill.format("indent",i+a,ae.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,ae.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,ae.sources.USER):this.quill.format("list","unchecked",ae.sources.USER):this.quill.format("list",n,ae.sources.USER)}}};const AP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',xP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',SP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',NP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',CP='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',RP='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',IP='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',OP='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Tw='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',DP='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',LP='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',MP='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',kP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',jP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',PP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',VP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',UP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',qP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',BP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',zP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',HP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',FP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',GP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',$P='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',KP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',YP='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',QP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',XP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',WP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',ZP='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',JP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',eV='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',tV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ih={align:{"":AP,center:xP,right:SP,justify:NP},background:CP,blockquote:RP,bold:IP,clean:OP,code:Tw,"code-block":Tw,color:DP,direction:{"":LP,rtl:MP},formula:kP,header:{1:jP,2:PP,3:VP,4:UP,5:qP,6:BP},italic:zP,image:HP,indent:{"+1":FP,"-1":GP},link:$P,list:{bullet:KP,check:YP,ordered:QP},script:{sub:XP,super:WP},strike:ZP,table:JP,underline:eV,video:tV},nV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ww=0;function Aw(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class dm{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Aw(this.label,"aria-expanded"),Aw(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const i=e.getAttribute("value");return i&&t.setAttribute("data-value",i),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(t,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=nV,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${ww}`,ww+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const i=this.buildItem(t);e.appendChild(i),t.selected===!0&&this.selectItem(i)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.container.querySelector(".ql-selected");e!==i&&(i?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class pN extends dm{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(i=>{i.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const i=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";i&&(i.tagName==="line"?i.style.stroke=a:i.style.fill=a)}}class gN extends dm{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(i=>{i.innerHTML=t[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const i=e||this.defaultItem;if(i!=null){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}}const rV=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class yN{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,rV(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,i=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${i}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let c=0;if(l.right>a.right&&(c=a.right-l.right,this.root.style.left=`${t+c}px`),l.left<a.left&&(c=a.left-l.left,this.root.style.left=`${t+c}px`),l.bottom>a.bottom){const f=l.bottom-l.top,m=e.bottom-e.top+f;this.root.style.top=`${i-m}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const iV=[!1,"center","right","justify"],sV=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],aV=[!1,"serif","monospace"],oV=["1","2","3",!1],lV=["small",!1,"large","huge"];class wh extends Pu{constructor(e,t){super(e,t);const i=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",i);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(a.target)||l.close()})};e.emitter.listenDOM("click",document.body,i)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),t[l]!=null))if(l==="direction")i.innerHTML=t[l][""]+t[l].rtl;else if(typeof t[l]=="string")i.innerHTML=t[l];else{const c=i.value||"";c!=null&&t[l][c]&&(i.innerHTML=t[l][c])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Ac(a,iV),typeof t.align=="object"))return new gN(a,t.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const l=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Ac(a,sV,l==="background"?"#ffffff":"#000000"),new pN(a,t[l])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Ac(a,aV):a.classList.contains("ql-header")?Ac(a,oV):a.classList.contains("ql-size")&&Ac(a,lV)),new dm(a)});const i=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ne.events.EDITOR_CHANGE,i)}}wh.DEFAULTS=mo({},Pu.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class vN extends yN{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const i=this.quill.getBounds(this.quill.selection.savedRange);i!=null&&this.position(i),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ne.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ne.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=uV(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const i=t.index+t.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,Ne.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(i+1," ",Ne.sources.USER),this.quill.setSelection(i+2,Ne.sources.USER)}break}}this.textbox.value="",this.hide()}}function uV(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Ac(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(i=>{const a=document.createElement("option");i===t?a.setAttribute("selected","selected"):a.setAttribute("value",String(i)),n.appendChild(a)})}const cV=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class hV extends vN{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Ne.events.EDITOR_CHANGE,(i,a,l,c)=>{if(i===Ne.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&c===Ne.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const f=this.quill.getLines(a.index,a.length);if(f.length===1){const m=this.quill.getBounds(a);m!=null&&this.position(m)}else{const m=f[f.length-1],g=this.quill.getIndex(m),_=Math.min(m.length()-1,a.index+a.length-g),E=this.quill.getBounds(new sl(g,_));E!=null&&this.position(E)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ne.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",t!==0&&(i.style.marginLeft=`${-1*t-i.offsetWidth/2}px`),t}}class bN extends wh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=cV),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new hV(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),ih),this.buildPickers(e.container.querySelectorAll("select"),ih))}}bN.DEFAULTS=mo({},wh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ae.sources.USER)}}}}});const fV=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class dV extends vN{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Ne.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Ne.events.SELECTION_CHANGE,(e,t,i)=>{if(e!=null){if(e.length===0&&i===Ne.sources.USER){const[a,l]=this.quill.scroll.descendant(jd,e.index);if(a!=null){this.linkRange=new sl(e.index-l,a.length());const c=jd.formats(a.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class _N extends wh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=fV),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),ih),this.buildPickers(e.container.querySelectorAll("select"),ih),this.tooltip=new dV(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,i)=>{e.handlers.link.call(e,!i.format.link)}))}}_N.DEFAULTS=mo({},wh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:i}=this.quill.theme;i.edit("link",t)}else this.quill.format("link",!1,ae.sources.USER)}}}}});ae.register({"attributors/attribute/direction":rN,"attributors/class/align":eN,"attributors/class/background":v8,"attributors/class/color":y8,"attributors/class/direction":iN,"attributors/class/font":oN,"attributors/class/size":uN,"attributors/style/align":tN,"attributors/style/background":Z0,"attributors/style/color":W0,"attributors/style/direction":sN,"attributors/style/font":lN,"attributors/style/size":cN},!0);ae.register({"formats/align":eN,"formats/direction":iN,"formats/indent":cP,"formats/background":Z0,"formats/color":W0,"formats/font":oN,"formats/size":uN,"formats/blockquote":hP,"formats/code-block":gr,"formats/header":fP,"formats/list":Th,"formats/bold":rv,"formats/code":J0,"formats/italic":dP,"formats/link":jd,"formats/script":mP,"formats/strike":pP,"formats/underline":gP,"formats/formula":yP,"formats/image":vP,"formats/video":bP,"modules/syntax":mN,"modules/table":EP,"modules/toolbar":sv,"themes/bubble":bN,"themes/snow":_N,"ui/icons":ih,"ui/picker":dm,"ui/icon-picker":gN,"ui/color-picker":pN,"ui/tooltip":yN},!0);class El extends gs.Component{constructor(e){super(e),this.editingAreaRef=G.createRef(),this.containerRef=G.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(i,a,l,c)=>{i==="text-change"?this.onEditorChangeText?.(this.editor.root.innerHTML,a,c,this.unprivilegedEditor):i==="selection-change"&&this.onEditorChangeSelection?.(a,c,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(gs.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(gs.Children.count(e.children)&&gs.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const i=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,i)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(i=>!io(e[i],this.props[i]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!io(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const i=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:i,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(i),xw(()=>this.setEditorSelection(l,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const i=this.containerRef.current?.querySelector(".ql-toolbar");i&&i.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const i=new ae(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(i,t.tabIndex),this.hookEditor(i),i}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?io(e.ops,t.ops):io(e,t)}setEditorContents(e,t){this.value=t;const i=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),xw(()=>this.setEditorSelection(e,i))}setEditorSelection(e,t){if(this.selection=t,t){const i=e.getLength();t.index=Math.max(0,Math.min(t.index,i-1)),t.length=Math.max(0,Math.min(t.length,i-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:i}=this.state,a={key:i,ref:this.editingAreaRef};return gs.Children.count(e)?gs.cloneElement(gs.Children.only(e),a):t?gs.createElement("pre",{...a}):gs.createElement("div",{...a})}render(){return gs.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,i,a){if(!this.editor)return;const l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=l,this.props.onChange?.(e,t,i,a))}onEditorChangeSelection(e,t,i){if(!this.editor)return;const a=this.getEditorSelection(),l=!a&&e,c=a&&!e;io(e,a)||(this.selection=e,this.props.onChangeSelection?.(e,t,i),l?this.props.onFocus?.(e,t,i):c&&this.props.onBlur?.(a,t,i))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}El.displayName="React Quill";El.Quill=ae;El.defaultProps={theme:"snow",modules:{},readOnly:!1};function xw(n){Promise.resolve().then(n)}const mV={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},pV=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],gV=()=>{const[n,e]=G.useState([]),[t,i]=G.useState(!0),[a,l]=G.useState(!1),[c,f]=G.useState({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""});G.useEffect(()=>{m()},[]);const m=async()=>{i(!0);try{const E=dl(Lr(Pt,"news"),ml("timestamp","desc")),x=(await Ss(E)).docs.map(O=>({id:O.id,...O.data()}));e(x)}catch(E){console.error("Error fetching news:",E)}finally{i(!1)}},g=async E=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await rm(Ni(Pt,"news",E)),m()}catch(w){console.error("Error deleting news:",w),alert("Failed to delete news item.")}},_=async E=>{E.preventDefault();try{const w=c.affectedCurrencies.split(",").map(x=>x.trim().toUpperCase()).filter(x=>x);await im(Lr(Pt,"news"),{title:c.title,impact:c.impact,content:c.content,image:c.image,affectedCurrencies:w,timestamp:sm()}),l(!1),f({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}),m()}catch(w){console.error("Error adding news:",w),alert("Failed to add news item.")}};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage News"}),b.jsx(Tn,{onClick:()=>l(!a),children:a?"Cancel":"Post New Alert"})]}),a&&b.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"New Market Update"}),b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),b.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.title,onChange:E=>f({...c,title:E.target.value}),placeholder:"e.g., NFP Beats Expectations"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"}),b.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.impact,onChange:E=>f({...c,impact:E.target.value}),children:[b.jsx("option",{value:"Low",children:"Low (Yellow)"}),b.jsx("option",{value:"Medium",children:"Medium (Orange)"}),b.jsx("option",{value:"High",children:"High (Red)"})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Content/Summary"}),b.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:b.jsx(El,{theme:"snow",value:c.content,onChange:E=>f({...c,content:E}),modules:mV,formats:pV,className:"h-96 mb-12"})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Optional)"}),b.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.image,onChange:E=>f({...c,image:E.target.value}),placeholder:"https://..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Affected Currencies (comma separated)"}),b.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.affectedCurrencies,onChange:E=>f({...c,affectedCurrencies:E.target.value}),placeholder:"USD, EUR, JPY"})]})]}),b.jsx("div",{className:"flex justify-end pt-4",children:b.jsx(Tn,{type:"submit",variant:"primary",children:"Publish News"})})]})]}),b.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[b.jsx("thead",{className:"bg-gray-900/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Impact"}),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-800",children:t?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No news posted yet."})}):n.map(E=>b.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.timestamp?.seconds?new Date(E.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:E.title}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${E.impact==="High"?"bg-red-500/20 text-red-400":E.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:E.impact})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:b.jsx("button",{onClick:()=>g(E.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})})]},E.id))})]})})})]})},yV={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},vV=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],bV=()=>{const[n,e]=G.useState([]),[t,i]=G.useState(!0),[a,l]=G.useState(!1),[c,f]=G.useState({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""});G.useEffect(()=>{m()},[]);const m=async()=>{i(!0);try{const E=dl(Lr(Pt,"analysis"),ml("timestamp","desc")),x=(await Ss(E)).docs.map(O=>({id:O.id,...O.data()}));e(x)}catch(E){console.error("Error fetching analysis:",E)}finally{i(!1)}},g=async E=>{if(window.confirm("Are you sure you want to delete this analysis?"))try{await rm(Ni(Pt,"analysis",E)),m()}catch(w){console.error("Error deleting post:",w),alert("Failed to delete post.")}},_=async E=>{E.preventDefault();try{await im(Lr(Pt,"analysis"),{...c,timestamp:sm()}),l(!1),f({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""}),m()}catch(w){console.error("Error adding post:",w),alert("Failed to add analysis.")}};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Analysis"}),b.jsx(Tn,{onClick:()=>l(!a),children:a?"Cancel":"New Analysis"})]}),a&&b.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Post Technical Breakdown"}),b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Pair / Asset"}),b.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none uppercase",value:c.pair,onChange:E=>f({...c,pair:E.target.value}),placeholder:"e.g. GBP/JPY"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Direction"}),b.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.direction,onChange:E=>f({...c,direction:E.target.value}),children:[b.jsx("option",{value:"Neutral",children:"Neutral (Gray)"}),b.jsx("option",{value:"Bullish",children:"Bullish (Green)"}),b.jsx("option",{value:"Bearish",children:"Bearish (Red)"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Chart)"}),b.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.image,onChange:E=>f({...c,image:E.target.value}),placeholder:"https://..."})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),b.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.title,onChange:E=>f({...c,title:E.target.value}),placeholder:"e.g. Double Top formation on 4H"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Content"}),b.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:b.jsx(El,{theme:"snow",value:c.content,onChange:E=>f({...c,content:E}),modules:yV,formats:vV,className:"h-96 mb-12"})})]}),b.jsx("div",{className:"flex justify-end pt-4",children:b.jsx(Tn,{type:"submit",variant:"primary",children:"Post Analysis"})})]})]}),b.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[b.jsx("thead",{className:"bg-gray-900/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pair"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Direction"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-800",children:t?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"No analysis posted yet."})}):n.map(E=>b.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.timestamp?.seconds?new Date(E.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-bold",children:E.pair}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${E.direction==="Bullish"?"bg-green-500/20 text-green-400":E.direction==="Bearish"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-300"}`,children:E.direction})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white max-w-xs truncate",children:E.title}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:b.jsx("button",{onClick:()=>g(E.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})})]},E.id))})]})})})]})},EN={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},TN=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],_V=()=>{const[n,e]=G.useState([]),[t,i]=G.useState(null),[a,l]=G.useState(!0),[c,f]=G.useState(!1),[m,g]=G.useState({title:"",description:"",image:"",level:"Beginner"});G.useEffect(()=>{_()},[]);const _=async()=>{l(!0);try{const x=dl(Lr(Pt,"courses"),ml("order","asc")),M=(await Ss(x)).docs.map(k=>({id:k.id,...k.data()}));e(M)}catch(x){console.error("Error fetching courses:",x);const O=await Ss(Lr(Pt,"courses"));e(O.docs.map(M=>({id:M.id,...M.data()})))}finally{l(!1)}},E=async x=>{x.preventDefault();try{await im(Lr(Pt,"courses"),{...m,order:n.length+1,createdAt:sm()}),f(!1),g({title:"",description:"",image:"",level:"Beginner"}),_()}catch(O){console.error("Error adding course:",O),alert("Failed to add course")}},w=async x=>{if(window.confirm("Delete this course? All lessons inside it might become orphaned."))try{await rm(Ni(Pt,"courses",x)),_(),t?.id===x&&i(null)}catch(O){console.error("Error deleting course:",O),alert("Delete failed")}};return t?b.jsx(EV,{course:t,onBack:()=>i(null)}):b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Courses"}),b.jsx(Tn,{onClick:()=>f(!c),children:c?"Cancel":"New Course"})]}),c&&b.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create New Course"}),b.jsxs("form",{onSubmit:E,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Course Title"}),b.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:x=>g({...m,title:x.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Level"}),b.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.level,onChange:x=>g({...m,level:x.target.value}),children:[b.jsx("option",{children:"Beginner"}),b.jsx("option",{children:"Intermediate"}),b.jsx("option",{children:"Advanced"})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),b.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:b.jsx(El,{theme:"snow",value:m.description,onChange:x=>g({...m,description:x}),modules:EN,formats:TN,className:"h-48 mb-12"})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),b.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:x=>g({...m,image:x.target.value})})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx(Tn,{type:"submit",variant:"primary",children:"Create Course"})})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?b.jsx("div",{className:"text-gray-400",children:"Loading courses..."}):n.map(x=>b.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group hover:border-gray-600 transition-all",children:[b.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[x.image&&b.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"}),b.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:b.jsx("button",{onClick:O=>{O.stopPropagation(),w(x.id)},className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),b.jsxs("div",{className:"p-5",children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:x.title}),b.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:x.description}),b.jsx(Tn,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i(x),children:"Manage Lessons"})]})]},x.id))})]})},EV=({course:n,onBack:e})=>{const[t,i]=G.useState([]),[a,l]=G.useState(!1),[c,f]=G.useState({title:"",videoUrl:"",content:"",duration:"10 min"}),[m,g]=G.useState(!0);G.useEffect(()=>{_()},[n]);const _=async()=>{g(!0);try{const x=dl(Lr(Pt,"courses",n.id,"lessons"),ml("order","asc")),O=await Ss(x);i(O.docs.map(M=>({id:M.id,...M.data()})))}catch(x){console.error("Error fetching lessons:",x);const O=await Ss(Lr(Pt,"courses",n.id,"lessons"));i(O.docs.map(M=>({id:M.id,...M.data()})))}finally{g(!1)}},E=async x=>{x.preventDefault();try{await im(Lr(Pt,"courses",n.id,"lessons"),{...c,order:t.length+1,createdAt:sm()}),l(!1),f({title:"",videoUrl:"",content:"",duration:"10 min"}),_()}catch(O){console.error("Error adding lesson:",O),alert("Failed to add lesson")}},w=async x=>{if(window.confirm("Delete this lesson?"))try{await rm(Ni(Pt,"courses",n.id,"lessons",x)),_()}catch(O){console.error("Error deleting lesson:",O)}};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white flex items-center gap-1",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),b.jsxs("h1",{className:"text-2xl font-bold text-white",children:[b.jsx("span",{className:"text-gray-500 font-normal",children:"Edit Course:"})," ",n.title]})]}),b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-xl font-bold text-white",children:["Lessons (",t.length,")"]}),b.jsx(Tn,{onClick:()=>l(!a),variant:"secondary",children:a?"Cancel":"Add Lesson"})]}),a&&b.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:b.jsxs("form",{onSubmit:E,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Title"}),b.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.title,onChange:x=>f({...c,title:x.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),b.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.duration,onChange:x=>f({...c,duration:x.target.value}),placeholder:"e.g. 15 min"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Video Embed URL (YouTube/Vimeo)"}),b.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:c.videoUrl,onChange:x=>f({...c,videoUrl:x.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Content / Notes"}),b.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:b.jsx(El,{theme:"snow",value:c.content,onChange:x=>f({...c,content:x}),modules:EN,formats:TN,className:"h-72 mb-12"})})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx(Tn,{type:"submit",variant:"primary",children:"Save Lesson"})})]})}),b.jsxs("div",{className:"space-y-3",children:[m?b.jsx("div",{className:"text-gray-400",children:"Loading lessons..."}):t.map((x,O)=>b.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-gray-800 flex justify-between items-center group hover:border-gray-600",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-gray-400 font-bold text-sm",children:O+1}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-white",children:x.title}),b.jsx("div",{className:"text-xs text-gray-500",children:x.duration})]})]}),b.jsx("div",{className:"flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx("button",{onClick:()=>w(x.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})})]},x.id)),t.length===0&&!m&&b.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:"No lessons yet. Start teaching!"})]})]})},TV=()=>{const{courseId:n}=Mw(),e=Ao(),[t,i]=G.useState(null),[a,l]=G.useState([]),[c,f]=G.useState(null),[m,g]=G.useState(!0),[_,E]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{g(!0);const x=await vh(Ni(Pt,"courses",n));if(!x.exists()){alert("Course not found"),e("/dashboard");return}i({id:x.id,...x.data()});const O=dl(Lr(Pt,"courses",n,"lessons"),ml("order","asc")),M=await Ss(O);let k=[];M.empty?k=(await Ss(Lr(Pt,"courses",n,"lessons"))).docs.map(K=>({id:K.id,...K.data()})):k=M.docs.map(F=>({id:F.id,...F.data()})),l(k),k.length>0&&f(k[0])}catch(x){console.error("Error loading course:",x)}finally{g(!1)}})()},[n,e]),m?b.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):t?b.jsxs("div",{className:"flex h-screen bg-background overflow-hidden animate-fade-in",children:[b.jsxs("div",{className:`${_?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:t.title}),b.jsx("button",{onClick:()=>E(!1),className:"md:hidden text-gray-400",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.map((w,x)=>b.jsxs("div",{onClick:()=>f(w),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${c?.id===w.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[b.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:x+1}),b.jsxs("div",{children:[b.jsx("h4",{className:`text-sm font-medium ${c?.id===w.id?"text-primary":"text-gray-300"}`,children:w.title}),b.jsx("span",{className:"text-xs text-gray-500",children:w.duration||"10 min"})]})]},w.id)),a.length===0&&b.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),b.jsx("div",{className:"p-4 border-t border-gray-800",children:b.jsx(zn,{to:"/dashboard",children:b.jsx(Tn,{variant:"outline",size:"sm",className:"w-full",children:"Back to Dashboard"})})})]}),b.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[b.jsx("div",{className:"absolute top-4 left-4 z-10",children:b.jsx("button",{onClick:()=>E(!_),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:_?b.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):b.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),c?b.jsxs("div",{className:"flex-1 overflow-y-auto",children:[b.jsx("div",{className:"bg-black aspect-video w-full max-h-[70vh] flex items-center justify-center",children:c.videoUrl?b.jsx("iframe",{src:c.videoUrl,title:c.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):b.jsxs("div",{className:"text-gray-500 text-center",children:[b.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),b.jsx("p",{children:"No video content for this lesson."})]})}),b.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[b.jsx("div",{className:"flex justify-between items-start mb-6",children:b.jsx("h1",{className:"text-2xl font-bold text-white",children:c.title})}),b.jsx("div",{className:"prose prose-invert max-w-none",children:b.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:c.content})})]})]}):b.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a lesson from the sidebar to start."})]})]}):null},Sw=({children:n,adminOnly:e=!1})=>{const[t,i]=G.useState(null),[a,l]=G.useState(!0);return G.useEffect(()=>{const c=Jy(Xi,f=>{i(f),l(!1)});return()=>c()},[]),a?b.jsx("div",{className:"text-center p-10 pt-32 text-white",children:"Loading..."}):t?n:b.jsx(nR,{to:"/login",replace:!0})};function wV(){return b.jsx(CR,{children:b.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[b.jsx(X6,{}),b.jsx("main",{className:"flex-grow",children:b.jsxs(sR,{children:[b.jsx(Or,{path:"/",element:b.jsx(tL,{})}),b.jsx(Or,{path:"/analysis",element:b.jsx(nL,{})}),b.jsx(Or,{path:"/news",element:b.jsx(iL,{})}),b.jsx(Or,{path:"/news/:id",element:b.jsx(sL,{})}),b.jsx(Or,{path:"/login",element:b.jsx(aL,{})}),b.jsx(Or,{path:"/register",element:b.jsx(oL,{})}),b.jsx(Or,{path:"/dashboard",element:b.jsx(Sw,{children:b.jsx(uL,{})})}),b.jsx(Or,{path:"/dashboard/course/:courseId",element:b.jsx(Sw,{children:b.jsx(TV,{})})}),b.jsxs(Or,{path:"/admin",element:b.jsx(cL,{}),children:[b.jsx(Or,{index:!0,element:b.jsx(hL,{})}),b.jsx(Or,{path:"news",element:b.jsx(gV,{})}),b.jsx(Or,{path:"analysis",element:b.jsx(bV,{})}),b.jsx(Or,{path:"courses",element:b.jsx(_V,{})})]})]})}),b.jsx(W6,{})]})})}uC.createRoot(document.getElementById("root")).render(b.jsx(G.StrictMode,{children:b.jsx(wV,{})}))});export default AV();
