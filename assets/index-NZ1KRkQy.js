var lC=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var KP=lC((rs,ss)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $y(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bg={exports:{}},xu={};var P_;function cC(){if(P_)return xu;P_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:l}}return xu.Fragment=e,xu.jsx=t,xu.jsxs=t,xu}var V_;function uC(){return V_||(V_=1,bg.exports=cC()),bg.exports}var y=uC(),_g={exports:{}},He={};var U_;function hC(){if(U_)return He;U_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),x=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,I={};function z(V,Y,he){this.props=V,this.context=Y,this.refs=I,this.updater=he||C}z.prototype.isReactComponent={},z.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=z.prototype;function J(V,Y,he){this.props=V,this.context=Y,this.refs=I,this.updater=he||C}var te=J.prototype=new $;te.constructor=J,L(te,z.prototype),te.isPureReactComponent=!0;var de=Array.isArray;function xe(){}var M={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function P(V,Y,he){var me=he.ref;return{$$typeof:n,type:V,key:Y,ref:me!==void 0?me:null,props:he}}function F(V,Y){return P(V.type,Y,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function k(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return Y[he]})}var N=/\/+/g;function ge(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):Y.toString(36)}function pe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xe,xe):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,Y,he,me,ye){var Te=typeof V;(Te==="undefined"||Te==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Te){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case n:case e:De=!0;break;case v:return De=V._init,B(De(V._payload),Y,he,me,ye)}}if(De)return ye=ye(V),De=me===""?"."+ge(V,0):me,de(ye)?(he="",De!=null&&(he=De.replace(N,"$&/")+"/"),B(ye,Y,he,"",function(Qe){return Qe})):ye!=null&&(S(ye)&&(ye=F(ye,he+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(N,"$&/")+"/")+De)),Y.push(ye)),1;De=0;var Ie=me===""?".":me+":";if(de(V))for(var Le=0;Le<V.length;Le++)me=V[Le],Te=Ie+ge(me,Le),De+=B(me,Y,he,Te,ye);else if(Le=A(V),typeof Le=="function")for(V=Le.call(V),Le=0;!(me=V.next()).done;)me=me.value,Te=Ie+ge(me,Le++),De+=B(me,Y,he,Te,ye);else if(Te==="object"){if(typeof V.then=="function")return B(pe(V),Y,he,me,ye);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(V,Y,he){if(V==null)return V;var me=[],ye=0;return B(V,me,"","",function(Te){return Y.call(he,Te,ye++)}),me}function ce(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var be=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ve={map:Z,forEach:function(V,Y,he){Z(V,function(){Y.apply(this,arguments)},he)},count:function(V){var Y=0;return Z(V,function(){Y++}),Y},toArray:function(V){return Z(V,function(Y){return Y})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return He.Activity=E,He.Children=ve,He.Component=z,He.Fragment=t,He.Profiler=a,He.PureComponent=J,He.StrictMode=r,He.Suspense=m,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,He.__COMPILER_RUNTIME={__proto__:null,c:function(V){return M.H.useMemoCache(V)}},He.cache=function(V){return function(){return V.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(V,Y,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var me=L({},V.props),ye=V.key;if(Y!=null)for(Te in Y.key!==void 0&&(ye=""+Y.key),Y)!j.call(Y,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Y.ref===void 0||(me[Te]=Y[Te]);var Te=arguments.length-2;if(Te===1)me.children=he;else if(1<Te){for(var De=Array(Te),Ie=0;Ie<Te;Ie++)De[Ie]=arguments[Ie+2];me.children=De}return P(V.type,ye,me)},He.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},He.createElement=function(V,Y,he){var me,ye={},Te=null;if(Y!=null)for(me in Y.key!==void 0&&(Te=""+Y.key),Y)j.call(Y,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ye[me]=Y[me]);var De=arguments.length-2;if(De===1)ye.children=he;else if(1<De){for(var Ie=Array(De),Le=0;Le<De;Le++)Ie[Le]=arguments[Le+2];ye.children=Ie}if(V&&V.defaultProps)for(me in De=V.defaultProps,De)ye[me]===void 0&&(ye[me]=De[me]);return P(V,Te,ye)},He.createRef=function(){return{current:null}},He.forwardRef=function(V){return{$$typeof:f,render:V}},He.isValidElement=S,He.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ce}},He.memo=function(V,Y){return{$$typeof:p,type:V,compare:Y===void 0?null:Y}},He.startTransition=function(V){var Y=M.T,he={};M.T=he;try{var me=V(),ye=M.S;ye!==null&&ye(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(xe,be)}catch(Te){be(Te)}finally{Y!==null&&he.types!==null&&(Y.types=he.types),M.T=Y}},He.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},He.use=function(V){return M.H.use(V)},He.useActionState=function(V,Y,he){return M.H.useActionState(V,Y,he)},He.useCallback=function(V,Y){return M.H.useCallback(V,Y)},He.useContext=function(V){return M.H.useContext(V)},He.useDebugValue=function(){},He.useDeferredValue=function(V,Y){return M.H.useDeferredValue(V,Y)},He.useEffect=function(V,Y){return M.H.useEffect(V,Y)},He.useEffectEvent=function(V){return M.H.useEffectEvent(V)},He.useId=function(){return M.H.useId()},He.useImperativeHandle=function(V,Y,he){return M.H.useImperativeHandle(V,Y,he)},He.useInsertionEffect=function(V,Y){return M.H.useInsertionEffect(V,Y)},He.useLayoutEffect=function(V,Y){return M.H.useLayoutEffect(V,Y)},He.useMemo=function(V,Y){return M.H.useMemo(V,Y)},He.useOptimistic=function(V,Y){return M.H.useOptimistic(V,Y)},He.useReducer=function(V,Y,he){return M.H.useReducer(V,Y,he)},He.useRef=function(V){return M.H.useRef(V)},He.useState=function(V){return M.H.useState(V)},He.useSyncExternalStore=function(V,Y,he){return M.H.useSyncExternalStore(V,Y,he)},He.useTransition=function(){return M.H.useTransition()},He.version="19.2.1",He}var q_;function Ky(){return q_||(q_=1,_g.exports=hC()),_g.exports}var H=Ky();const bi=$y(H);var Eg={exports:{}},wu={},xg={exports:{}},wg={};var B_;function fC(){return B_||(B_=1,(function(n){function e(B,Z){var ce=B.length;B.push(Z);e:for(;0<ce;){var be=ce-1>>>1,ve=B[be];if(0<a(ve,Z))B[be]=Z,B[ce]=ve,ce=be;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],ce=B.pop();if(ce!==Z){B[0]=ce;e:for(var be=0,ve=B.length,V=ve>>>1;be<V;){var Y=2*(be+1)-1,he=B[Y],me=Y+1,ye=B[me];if(0>a(he,ce))me<ve&&0>a(ye,he)?(B[be]=ye,B[me]=ce,be=me):(B[be]=he,B[Y]=ce,be=Y);else if(me<ve&&0>a(ye,ce))B[be]=ye,B[me]=ce,be=me;else break e}}return Z}function a(B,Z){var ce=B.sortIndex-Z.sortIndex;return ce!==0?ce:B.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,E=null,x=3,A=!1,C=!1,L=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function te(B){for(var Z=t(p);Z!==null;){if(Z.callback===null)r(p);else if(Z.startTime<=B)r(p),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(p)}}function de(B){if(L=!1,te(B),!C)if(t(m)!==null)C=!0,xe||(xe=!0,k());else{var Z=t(p);Z!==null&&pe(de,Z.startTime-B)}}var xe=!1,M=-1,j=5,P=-1;function F(){return I?!0:!(n.unstable_now()-P<j)}function S(){if(I=!1,xe){var B=n.unstable_now();P=B;var Z=!0;try{e:{C=!1,L&&(L=!1,$(M),M=-1),A=!0;var ce=x;try{t:{for(te(B),E=t(m);E!==null&&!(E.expirationTime>B&&F());){var be=E.callback;if(typeof be=="function"){E.callback=null,x=E.priorityLevel;var ve=be(E.expirationTime<=B);if(B=n.unstable_now(),typeof ve=="function"){E.callback=ve,te(B),Z=!0;break t}E===t(m)&&r(m),te(B)}else r(m);E=t(m)}if(E!==null)Z=!0;else{var V=t(p);V!==null&&pe(de,V.startTime-B),Z=!1}}break e}finally{E=null,x=ce,A=!1}Z=void 0}}finally{Z?k():xe=!1}}}var k;if(typeof J=="function")k=function(){J(S)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ge=N.port2;N.port1.onmessage=S,k=function(){ge.postMessage(null)}}else k=function(){z(S,0)};function pe(B,Z){M=z(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(B){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var ce=x;x=Z;try{return B()}finally{x=ce}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=x;x=B;try{return Z()}finally{x=ce}},n.unstable_scheduleCallback=function(B,Z,ce){var be=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?be+ce:be):ce=be,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ce+ve,B={id:v++,callback:Z,priorityLevel:B,startTime:ce,expirationTime:ve,sortIndex:-1},ce>be?(B.sortIndex=ce,e(p,B),t(m)===null&&B===t(p)&&(L?($(M),M=-1):L=!0,pe(de,ce-be))):(B.sortIndex=ve,e(m,B),C||A||(C=!0,xe||(xe=!0,k()))),B},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(B){var Z=x;return function(){var ce=x;x=Z;try{return B.apply(this,arguments)}finally{x=ce}}}})(wg)),wg}var z_;function dC(){return z_||(z_=1,xg.exports=fC()),xg.exports}var Tg={exports:{}},ir={};var H_;function mC(){if(H_)return ir;H_=1;var n=Ky();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},ir.flushSync=function(m){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=v,r.d.f()}},ir.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},ir.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ir.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:A}):v==="script"&&r.d.X(m,{crossOrigin:E,integrity:x,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ir.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},ir.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ir.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},ir.requestFormReset=function(m){r.d.r(m)},ir.unstable_batchedUpdates=function(m,p){return m(p)},ir.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},ir.useFormStatus=function(){return u.H.useHostTransitionStatus()},ir.version="19.2.1",ir}var F_;function pC(){if(F_)return Tg.exports;F_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=mC(),Tg.exports}var G_;function gC(){if(G_)return wu;G_=1;var n=dC(),e=Ky(),t=pC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function f(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(r(188))}function p(s){var i=s.alternate;if(!i){if(i=l(s),i===null)throw Error(r(188));return i!==s?null:s}for(var o=s,c=i;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),s;if(g===c)return m(d),i;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=d,c=g;else{for(var w=!1,R=d.child;R;){if(R===o){w=!0,o=d,c=g;break}if(R===c){w=!0,c=d,o=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===o){w=!0,o=g,c=d;break}if(R===c){w=!0,c=g,o=d;break}R=R.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var E=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),J=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function k(s){return s===null||typeof s!="object"?null:(s=S&&s[S]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case z:return"Profiler";case I:return"StrictMode";case de:return"Suspense";case xe:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case J:return s.displayName||"Context";case $:return(s._context.displayName||"Context")+".Consumer";case te:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return i=s.displayName||null,i!==null?i:ge(s.type)||"Memo";case j:i=s._payload,s=s._init;try{return ge(s(i))}catch{}}return null}var pe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},be=[],ve=-1;function V(s){return{current:s}}function Y(s){0>ve||(s.current=be[ve],be[ve]=null,ve--)}function he(s,i){ve++,be[ve]=s.current,s.current=i}var me=V(null),ye=V(null),Te=V(null),De=V(null);function Ie(s,i){switch(he(Te,i),he(ye,s),he(me,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?a_(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=a_(i),s=o_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(me),he(me,s)}function Le(){Y(me),Y(ye),Y(Te)}function Qe(s){s.memoizedState!==null&&he(De,s);var i=me.current,o=o_(i,s.type);i!==o&&(he(ye,s),he(me,o))}function We(s){ye.current===s&&(Y(me),Y(ye)),De.current===s&&(Y(De),vu._currentValue=ce)}var tt,ot;function dt(s){if(tt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);tt=i&&i[1]||"",ot=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+s+ot}var tn=!1;function Vr(s,i){if(!s||tn)return"";tn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var ee=se}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(se){ee=se}s.call(ue.prototype)}}else{try{throw Error()}catch(se){ee=se}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],R=g[1];if(w&&R){var q=w.split(`
`),W=R.split(`
`);for(d=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(c===q.length||d===W.length)for(c=q.length-1,d=W.length-1;1<=c&&0<=d&&q[c]!==W[d];)d--;for(;1<=c&&0<=d;c--,d--)if(q[c]!==W[d]){if(c!==1||d!==1)do if(c--,d--,0>d||q[c]!==W[d]){var ie=`
`+q[c].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=c&&0<=d);break}}}finally{tn=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?dt(o):""}function ii(s,i){switch(s.tag){case 26:case 27:case 5:return dt(s.type);case 16:return dt("Lazy");case 13:return s.child!==i&&i!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Vr(s.type,!1);case 11:return Vr(s.type.render,!1);case 1:return Vr(s.type,!0);case 31:return dt("Activity");default:return""}}function ji(s){try{var i="",o=null;do i+=ii(s,o),o=s,s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var zt=Object.prototype.hasOwnProperty,Ct=n.unstable_scheduleCallback,xr=n.unstable_cancelCallback,Ra=n.unstable_shouldYield,ki=n.unstable_requestPaint,Rt=n.unstable_now,wr=n.unstable_getCurrentPriorityLevel,Mi=n.unstable_ImmediatePriority,Ur=n.unstable_UserBlockingPriority,hr=n.unstable_NormalPriority,Pi=n.unstable_LowPriority,jn=n.unstable_IdlePriority,Vi=n.log,Ui=n.unstable_setDisableYieldValue,fr=null,Wt=null;function wn(s){if(typeof Vi=="function"&&Ui(s),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(fr,s)}catch{}}var It=Math.clz32?Math.clz32:Zn,Ms=Math.log,Tr=Math.LN2;function Zn(s){return s>>>=0,s===0?32:31-(Ms(s)/Tr|0)|0}var kn=256,qr=262144,_t=4194304;function Jn(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Rn(s,i,o){var c=s.pendingLanes;if(c===0)return 0;var d=0,g=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?d=Jn(c):(w&=R,w!==0?d=Jn(w):o||(o=R&~s,o!==0&&(d=Jn(o))))):(R=c&~g,R!==0?d=Jn(R):w!==0?d=Jn(w):o||(o=c&~s,o!==0&&(d=Jn(o)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:d}function Mn(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function qi(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(){var s=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),s}function Tn(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function ls(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Br(s,i,o,c,d,g){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var R=s.entanglements,q=s.expirationTimes,W=s.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-It(o),ue=1<<ie;R[ie]=0,q[ie]=-1;var ee=W[ie];if(ee!==null)for(W[ie]=null,ie=0;ie<ee.length;ie++){var se=ee[ie];se!==null&&(se.lane&=-536870913)}o&=~ue}c!==0&&Ps(s,c,0),g!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=g&~(w&~i))}function Ps(s,i,o){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-It(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function Bi(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var c=31-It(o),d=1<<c;d&i|s[c]&i&&(s[c]|=i),o&=~d}}function zi(s,i){var o=i&-i;return o=(o&42)!==0?1:cs(o),(o&(s.suspendedLanes|i))!==0?0:o}function cs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function dr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nn(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:I_(s.type))}function mr(s,i){var o=Z.p;try{return Z.p=s,i()}finally{Z.p=o}}var pr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+pr,rn="__reactProps$"+pr,Ar="__reactContainer$"+pr,Zt="__reactEvents$"+pr,Mo="__reactListeners$"+pr,Ia="__reactHandles$"+pr,Oa="__reactResources$"+pr,Sr="__reactMarker$"+pr;function oi(s){delete s[Ht],delete s[rn],delete s[Zt],delete s[Mo],delete s[Ia]}function jt(s){var i=s[Ht];if(i)return i;for(var o=s.parentNode;o;){if(i=o[Ar]||o[Ht]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=m_(s);s!==null;){if(o=s[Ht])return o;s=m_(s)}return i}s=o,o=s.parentNode}return null}function er(s){if(s=s[Ht]||s[Ar]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Pn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Nr(s){var i=s[Oa];return i||(i=s[Oa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ft(s){s[Sr]=!0}var Hi=new Set,us={};function gr(s,i){Vn(s,i),Vn(s+"Capture",i)}function Vn(s,i){for(us[s]=i,s=0;s<i.length;s++)Hi.add(i[s])}var tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vs={},Fi={};function Da(s){return zt.call(Fi,s)?!0:zt.call(Vs,s)?!1:tr.test(s)?Fi[s]=!0:(Vs[s]=!0,!1)}function li(s,i,o){if(Da(i))if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+o)}}function Un(s,i,o){if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+o)}}function Gt(s,i,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(i,o,""+c)}}function kt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Cr(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zr(s,i,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function ct(s){if(!s._valueTracker){var i=Cr(s)?"checked":"value";s._valueTracker=zr(s,i,""+s[i])}}function hs(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return s&&(c=Cr(s)?s.checked?"true":"false":s.value),s=c,s!==o?(i.setValue(s),!0):!1}function Rr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Us=/[\n"\\]/g;function In(s){return s.replace(Us,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ci(s,i,o,c,d,g,w,R){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),i!=null?w==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+kt(i)):s.value!==""+kt(i)&&(s.value=""+kt(i)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),i!=null?Gi(s,w,kt(i)):o!=null?Gi(s,w,kt(o)):c!=null&&s.removeAttribute("value"),d==null&&g!=null&&(s.defaultChecked=!!g),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+kt(R):s.removeAttribute("name")}function ui(s,i,o,c,d,g,w,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){ct(s);return}o=o!=null?""+kt(o):"",i=i!=null?""+kt(i):o,R||i===s.value||(s.value=i),s.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=R?s.checked:!!c,s.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),ct(s)}function Gi(s,i,o){i==="number"&&Rr(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function fs(s,i,o,c){if(s=s.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=i.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&c&&(s[o].defaultSelected=!0)}else{for(o=""+kt(o),i=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,c&&(s[d].defaultSelected=!0);return}i!==null||s[d].disabled||(i=s[d])}i!==null&&(i.selected=!0)}}function ds(s,i,o){if(i!=null&&(i=""+kt(i),i!==s.value&&(s.value=i),o==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=o!=null?""+kt(o):""}function pn(s,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(pe(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=kt(i),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),ct(s)}function $t(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var Ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $i(s,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,o):typeof o!="number"||o===0||Ir.has(i)?i==="float"?s.cssFloat=o:s[i]=(""+o).trim():s[i]=o+"px"}function nr(s,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&$i(s,d,c)}else for(var g in i)i.hasOwnProperty(g)&&$i(s,g,i[g])}function hi(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(s){return ms.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function rr(){}var ln=null;function qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hr=null,Bn=null;function Fr(s){var i=er(s);if(i&&(s=i.stateNode)){var o=s[rn]||null;e:switch(s=i.stateNode,i.type){case"input":if(ci(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==s&&c.form===s.form){var d=c[rn]||null;if(!d)throw Error(r(90));ci(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===s.form&&hs(c)}break e;case"textarea":ds(s,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&fs(s,!!o.multiple,i,!1)}}}var Gr=!1;function ps(s,i,o){if(Gr)return s(i,o);Gr=!0;try{var c=s(i);return c}finally{if(Gr=!1,(Hr!==null||Bn!==null)&&(Ef(),Hr&&(i=Hr,s=Bn,Bn=Hr=null,Fr(i),s)))for(i=0;i<s.length;i++)Fr(s[i])}}function sr(s,i){var o=s.stateNode;if(o===null)return null;var c=o[rn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(On)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{gs=!1}var yr=null,qs=null,Bs=null;function Ki(){if(Bs)return Bs;var s,i=qs,o=i.length,c,d="value"in yr?yr.value:yr.textContent,g=d.length;for(s=0;s<o&&i[s]===d[s];s++);var w=o-s;for(c=1;c<=w&&i[o-c]===d[g-c];c++);return Bs=d.slice(s,1<c?1-c:void 0)}function _(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function O(){return!0}function U(){return!1}function ne(s){function i(o,c,d,g,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(o=s[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?O:U,this.isPropagationStopped=U,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=O)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=O)},persist:function(){},isPersistent:O}),i}var Me={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ae=ne(Me),$e=E({},Me,{view:0,detail:0}),Xe=ne($e),yt,Ze,At,cn=E({},$e,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==At&&(At&&s.type==="mousemove"?(yt=s.screenX-At.screenX,Ze=s.screenY-At.screenY):Ze=yt=0,At=s),yt)},movementY:function(s){return"movementY"in s?s.movementY:Ze}}),Mt=ne(cn),Kt=E({},cn,{dataTransfer:0}),sn=ne(Kt),$r=E({},$e,{relatedTarget:0}),zn=ne($r),Kr=E({},Me,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=ne(Kr),zs=E({},Me,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qi=ne(zs),Dh=E({},Me,{data:0}),di=ne(Dh),Lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=kh[s])?!!i[s]:!1}function ja(){return Mh}var vr=E({},$e,{key:function(s){if(s.key){var i=Lh[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=_(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(s){return s.type==="keypress"?_(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ph=ne(vr),Vh=E({},cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=ne(Vh),h=E({},$e,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),b=ne(h),T=E({},Me,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=ne(T),Q=E({},cn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),re=ne(Q),_e=E({},Me,{newState:0,oldState:0}),Fe=ne(_e),un=[9,13,27,32],mt=On&&"CompositionEvent"in window,Qt=null;On&&"documentMode"in document&&(Qt=document.documentMode);var ys=On&&"TextEvent"in window&&!Qt,mi=On&&(!mt||Qt&&8<Qt&&11>=Qt),Hs=" ",Fs=!1;function Vo(s,i){switch(s){case"keyup":return un.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Sl=!1;function D2(s,i){switch(s){case"compositionend":return Al(i);case"keypress":return i.which!==32?null:(Fs=!0,Hs);case"textInput":return s=i.data,s===Hs&&Fs?null:s;default:return null}}function L2(s,i){if(Sl)return s==="compositionend"||!mt&&Vo(s,i)?(s=Ki(),Bs=qs=yr=null,Sl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mi&&i.locale!=="ko"?null:i.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!j2[s.type]:i==="textarea"}function yv(s,i,o,c){Hr?Bn?Bn.push(c):Bn=[c]:Hr=c,i=Cf(i,"onChange"),0<i.length&&(o=new Ae("onChange","change",null,o,c),s.push({event:o,listeners:i}))}var qc=null,Bc=null;function k2(s){e_(s,0)}function Uh(s){var i=Pn(s);if(hs(i))return s}function vv(s,i){if(s==="change")return i}var bv=!1;if(On){var Sm;if(On){var Nm="oninput"in document;if(!Nm){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),Nm=typeof _v.oninput=="function"}Sm=Nm}else Sm=!1;bv=Sm&&(!document.documentMode||9<document.documentMode)}function Ev(){qc&&(qc.detachEvent("onpropertychange",xv),Bc=qc=null)}function xv(s){if(s.propertyName==="value"&&Uh(Bc)){var i=[];yv(i,Bc,s,qn(s)),ps(k2,i)}}function M2(s,i,o){s==="focusin"?(Ev(),qc=i,Bc=o,qc.attachEvent("onpropertychange",xv)):s==="focusout"&&Ev()}function P2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uh(Bc)}function V2(s,i){if(s==="click")return Uh(i)}function U2(s,i){if(s==="input"||s==="change")return Uh(i)}function q2(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Qr=typeof Object.is=="function"?Object.is:q2;function zc(s,i){if(Qr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!zt.call(i,d)||!Qr(s[d],i[d]))return!1}return!0}function wv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Tv(s,i){var o=wv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=i&&c>=i)return{node:o,offset:i-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wv(o)}}function Av(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Av(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Sv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Rr(s.document);i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Rr(s.document)}return i}function Cm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var B2=On&&"documentMode"in document&&11>=document.documentMode,Nl=null,Rm=null,Hc=null,Im=!1;function Nv(s,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Im||Nl==null||Nl!==Rr(c)||(c=Nl,"selectionStart"in c&&Cm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hc&&zc(Hc,c)||(Hc=c,c=Cf(Rm,"onSelect"),0<c.length&&(i=new Ae("onSelect","select",null,i,o),s.push({event:i,listeners:c}),i.target=Nl)))}function Uo(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Cl={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},Om={},Cv={};On&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function qo(s){if(Om[s])return Om[s];if(!Cl[s])return s;var i=Cl[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in Cv)return Om[s]=i[o];return s}var Rv=qo("animationend"),Iv=qo("animationiteration"),Ov=qo("animationstart"),z2=qo("transitionrun"),H2=qo("transitionstart"),F2=qo("transitioncancel"),Dv=qo("transitionend"),Lv=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function Gs(s,i){Lv.set(s,i),gr(i,[s])}var qh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},vs=[],Rl=0,Lm=0;function Bh(){for(var s=Rl,i=Lm=Rl=0;i<s;){var o=vs[i];vs[i++]=null;var c=vs[i];vs[i++]=null;var d=vs[i];vs[i++]=null;var g=vs[i];if(vs[i++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}g!==0&&jv(o,d,g)}}function zh(s,i,o,c){vs[Rl++]=s,vs[Rl++]=i,vs[Rl++]=o,vs[Rl++]=c,Lm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function jm(s,i,o,c){return zh(s,i,o,c),Hh(s)}function Bo(s,i){return zh(s,null,null,i),Hh(s)}function jv(s,i,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(d=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,d&&i!==null&&(d=31-It(o),s=g.hiddenUpdates,c=s[d],c===null?s[d]=[i]:c.push(i),i.lane=o|536870912),g):null}function Hh(s){if(50<hu)throw hu=0,Hp=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Il={};function G2(s,i,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(s,i,o,c){return new G2(s,i,o,c)}function km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,i){var o=s.alternate;return o===null?(o=Yr(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function kv(s,i){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Fh(s,i,o,c,d,g){var w=0;if(c=s,typeof s=="function")km(s)&&(w=1);else if(typeof s=="string")w=XN(s,o,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=Yr(31,o,i,d),s.elementType=P,s.lanes=g,s;case L:return zo(o.children,d,g,i);case I:w=8,d|=24;break;case z:return s=Yr(12,o,i,d|2),s.elementType=z,s.lanes=g,s;case de:return s=Yr(13,o,i,d),s.elementType=de,s.lanes=g,s;case xe:return s=Yr(19,o,i,d),s.elementType=xe,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J:w=10;break e;case $:w=9;break e;case te:w=11;break e;case M:w=14;break e;case j:w=16,c=null;break e}w=29,o=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Yr(w,o,i,d),i.elementType=s,i.type=c,i.lanes=g,i}function zo(s,i,o,c){return s=Yr(7,s,c,i),s.lanes=o,s}function Mm(s,i,o){return s=Yr(6,s,null,i),s.lanes=o,s}function Mv(s){var i=Yr(18,null,null,0);return i.stateNode=s,i}function Pm(s,i,o){return i=Yr(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Pv=new WeakMap;function bs(s,i){if(typeof s=="object"&&s!==null){var o=Pv.get(s);return o!==void 0?o:(i={value:s,source:i,stack:ji(i)},Pv.set(s,i),i)}return{value:s,source:i,stack:ji(i)}}var Ol=[],Dl=0,Gh=null,Fc=0,_s=[],Es=0,ka=null,pi=1,gi="";function Wi(s,i){Ol[Dl++]=Fc,Ol[Dl++]=Gh,Gh=s,Fc=i}function Vv(s,i,o){_s[Es++]=pi,_s[Es++]=gi,_s[Es++]=ka,ka=s;var c=pi;s=gi;var d=32-It(c)-1;c&=~(1<<d),o+=1;var g=32-It(i)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,pi=1<<32-It(i)+d|o<<d|c,gi=g+s}else pi=1<<g|o<<d|c,gi=s}function Vm(s){s.return!==null&&(Wi(s,1),Vv(s,1,0))}function Um(s){for(;s===Gh;)Gh=Ol[--Dl],Ol[Dl]=null,Fc=Ol[--Dl],Ol[Dl]=null;for(;s===ka;)ka=_s[--Es],_s[Es]=null,gi=_s[--Es],_s[Es]=null,pi=_s[--Es],_s[Es]=null}function Uv(s,i){_s[Es++]=pi,_s[Es++]=gi,_s[Es++]=ka,pi=i.id,gi=i.overflow,ka=s}var Hn=null,Pt=null,lt=!1,Ma=null,xs=!1,qm=Error(r(519));function Pa(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gc(bs(i,s)),qm}function qv(s){var i=s.stateNode,o=s.type,c=s.memoizedProps;switch(i[Ht]=s,i[rn]=c,o){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(o=0;o<du.length;o++)et(du[o],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":et("invalid",i),ui(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",i);break;case"textarea":et("invalid",i),pn(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||s_(i.textContent,o)?(c.popover!=null&&(et("beforetoggle",i),et("toggle",i)),c.onScroll!=null&&et("scroll",i),c.onScrollEnd!=null&&et("scrollend",i),c.onClick!=null&&(i.onclick=rr),i=!0):i=!1,i||Pa(s,!0)}function Bv(s){for(Hn=s.return;Hn;)switch(Hn.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:Hn=Hn.return}}function Ll(s){if(s!==Hn)return!1;if(!lt)return Bv(s),lt=!0,!1;var i=s.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||sg(s.type,s.memoizedProps)),o=!o),o&&Pt&&Pa(s),Bv(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=d_(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=d_(s)}else i===27?(i=Pt,Wa(s.type)?(s=cg,cg=null,Pt=s):Pt=i):Pt=Hn?Ts(s.stateNode.nextSibling):null;return!0}function Ho(){Pt=Hn=null,lt=!1}function Bm(){var s=Ma;return s!==null&&(jr===null?jr=s:jr.push.apply(jr,s),Ma=null),s}function Gc(s){Ma===null?Ma=[s]:Ma.push(s)}var zm=V(null),Fo=null,Zi=null;function Va(s,i,o){he(zm,i._currentValue),i._currentValue=o}function Ji(s){s._currentValue=zm.current,Y(zm)}function Hm(s,i,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===o)break;s=s.return}}function Fm(s,i,o,c){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=d;for(var q=0;q<i.length;q++)if(R.context===i[q]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Hm(g.return,o,s),c||(w=null);break e}g=R.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Hm(w,o,s),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===s){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function jl(s,i,o,c){s=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var R=d.type;Qr(d.pendingProps.value,w.value)||(s!==null?s.push(R):s=[R])}}else if(d===De.current){if(w=d.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(vu):s=[vu])}d=d.return}s!==null&&Fm(i,s,o,c),i.flags|=262144}function $h(s){for(s=s.firstContext;s!==null;){if(!Qr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Go(s){Fo=s,Zi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Fn(s){return zv(Fo,s)}function Kh(s,i){return Fo===null&&Go(s),zv(s,i)}function zv(s,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Zi===null){if(s===null)throw Error(r(308));Zi=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Zi=Zi.next=i;return o}var $2=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(o){return o()})}},K2=n.unstable_scheduleCallback,Q2=n.unstable_NormalPriority,gn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new $2,data:new Map,refCount:0}}function $c(s){s.refCount--,s.refCount===0&&K2(Q2,function(){s.controller.abort()})}var Kc=null,$m=0,kl=0,Ml=null;function Y2(s,i){if(Kc===null){var o=Kc=[];$m=0,kl=Yp(),Ml={status:"pending",value:void 0,then:function(c){o.push(c)}}}return $m++,i.then(Hv,Hv),i}function Hv(){if(--$m===0&&Kc!==null){Ml!==null&&(Ml.status="fulfilled");var s=Kc;Kc=null,kl=0,Ml=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function X2(s,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Fv=B.S;B.S=function(s,i){Cb=Rt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Y2(s,i),Fv!==null&&Fv(s,i)};var $o=V(null);function Km(){var s=$o.current;return s!==null?s:St.pooledCache}function Qh(s,i){i===null?he($o,$o.current):he($o,i.pool)}function Gv(){var s=Km();return s===null?null:{parent:gn._currentValue,pool:s}}var Pl=Error(r(460)),Qm=Error(r(474)),Yh=Error(r(542)),Xh={then:function(){}};function $v(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Kv(s,i,o){switch(o=s[o],o===void 0?s.push(i):o!==i&&(i.then(rr,rr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Yv(s),s;default:if(typeof i.status=="string")i.then(rr,rr);else{if(s=St,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Yv(s),s}throw Qo=i,Pl}}function Ko(s){try{var i=s._init;return i(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Qo=o,Pl):o}}var Qo=null;function Qv(){if(Qo===null)throw Error(r(459));var s=Qo;return Qo=null,s}function Yv(s){if(s===Pl||s===Yh)throw Error(r(483))}var Vl=null,Qc=0;function Wh(s){var i=Qc;return Qc+=1,Vl===null&&(Vl=[]),Kv(Vl,s,i)}function Yc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Zh(s,i){throw i.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Xv(s){function i(K,G){if(s){var X=K.deletions;X===null?(K.deletions=[G],K.flags|=16):X.push(G)}}function o(K,G){if(!s)return null;for(;G!==null;)i(K,G),G=G.sibling;return null}function c(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function d(K,G){return K=Xi(K,G),K.index=0,K.sibling=null,K}function g(K,G,X){return K.index=X,s?(X=K.alternate,X!==null?(X=X.index,X<G?(K.flags|=67108866,G):X):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function w(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function R(K,G,X,ae){return G===null||G.tag!==6?(G=Mm(X,K.mode,ae),G.return=K,G):(G=d(G,X),G.return=K,G)}function q(K,G,X,ae){var je=X.type;return je===L?ie(K,G,X.props.children,ae,X.key):G!==null&&(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===j&&Ko(je)===G.type)?(G=d(G,X.props),Yc(G,X),G.return=K,G):(G=Fh(X.type,X.key,X.props,null,K.mode,ae),Yc(G,X),G.return=K,G)}function W(K,G,X,ae){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=Pm(X,K.mode,ae),G.return=K,G):(G=d(G,X.children||[]),G.return=K,G)}function ie(K,G,X,ae,je){return G===null||G.tag!==7?(G=zo(X,K.mode,ae,je),G.return=K,G):(G=d(G,X),G.return=K,G)}function ue(K,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Mm(""+G,K.mode,X),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return X=Fh(G.type,G.key,G.props,null,K.mode,X),Yc(X,G),X.return=K,X;case C:return G=Pm(G,K.mode,X),G.return=K,G;case j:return G=Ko(G),ue(K,G,X)}if(pe(G)||k(G))return G=zo(G,K.mode,X,null),G.return=K,G;if(typeof G.then=="function")return ue(K,Wh(G),X);if(G.$$typeof===J)return ue(K,Kh(K,G),X);Zh(K,G)}return null}function ee(K,G,X,ae){var je=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return je!==null?null:R(K,G,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===je?q(K,G,X,ae):null;case C:return X.key===je?W(K,G,X,ae):null;case j:return X=Ko(X),ee(K,G,X,ae)}if(pe(X)||k(X))return je!==null?null:ie(K,G,X,ae,null);if(typeof X.then=="function")return ee(K,G,Wh(X),ae);if(X.$$typeof===J)return ee(K,G,Kh(K,X),ae);Zh(K,X)}return null}function se(K,G,X,ae,je){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(X)||null,R(G,K,""+ae,je);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return K=K.get(ae.key===null?X:ae.key)||null,q(G,K,ae,je);case C:return K=K.get(ae.key===null?X:ae.key)||null,W(G,K,ae,je);case j:return ae=Ko(ae),se(K,G,X,ae,je)}if(pe(ae)||k(ae))return K=K.get(X)||null,ie(G,K,ae,je,null);if(typeof ae.then=="function")return se(K,G,X,Wh(ae),je);if(ae.$$typeof===J)return se(K,G,X,Kh(G,ae),je);Zh(G,ae)}return null}function Se(K,G,X,ae){for(var je=null,ht=null,Ce=G,Ke=G=0,rt=null;Ce!==null&&Ke<X.length;Ke++){Ce.index>Ke?(rt=Ce,Ce=null):rt=Ce.sibling;var ft=ee(K,Ce,X[Ke],ae);if(ft===null){Ce===null&&(Ce=rt);break}s&&Ce&&ft.alternate===null&&i(K,Ce),G=g(ft,G,Ke),ht===null?je=ft:ht.sibling=ft,ht=ft,Ce=rt}if(Ke===X.length)return o(K,Ce),lt&&Wi(K,Ke),je;if(Ce===null){for(;Ke<X.length;Ke++)Ce=ue(K,X[Ke],ae),Ce!==null&&(G=g(Ce,G,Ke),ht===null?je=Ce:ht.sibling=Ce,ht=Ce);return lt&&Wi(K,Ke),je}for(Ce=c(Ce);Ke<X.length;Ke++)rt=se(Ce,K,Ke,X[Ke],ae),rt!==null&&(s&&rt.alternate!==null&&Ce.delete(rt.key===null?Ke:rt.key),G=g(rt,G,Ke),ht===null?je=rt:ht.sibling=rt,ht=rt);return s&&Ce.forEach(function(no){return i(K,no)}),lt&&Wi(K,Ke),je}function Pe(K,G,X,ae){if(X==null)throw Error(r(151));for(var je=null,ht=null,Ce=G,Ke=G=0,rt=null,ft=X.next();Ce!==null&&!ft.done;Ke++,ft=X.next()){Ce.index>Ke?(rt=Ce,Ce=null):rt=Ce.sibling;var no=ee(K,Ce,ft.value,ae);if(no===null){Ce===null&&(Ce=rt);break}s&&Ce&&no.alternate===null&&i(K,Ce),G=g(no,G,Ke),ht===null?je=no:ht.sibling=no,ht=no,Ce=rt}if(ft.done)return o(K,Ce),lt&&Wi(K,Ke),je;if(Ce===null){for(;!ft.done;Ke++,ft=X.next())ft=ue(K,ft.value,ae),ft!==null&&(G=g(ft,G,Ke),ht===null?je=ft:ht.sibling=ft,ht=ft);return lt&&Wi(K,Ke),je}for(Ce=c(Ce);!ft.done;Ke++,ft=X.next())ft=se(Ce,K,Ke,ft.value,ae),ft!==null&&(s&&ft.alternate!==null&&Ce.delete(ft.key===null?Ke:ft.key),G=g(ft,G,Ke),ht===null?je=ft:ht.sibling=ft,ht=ft);return s&&Ce.forEach(function(oC){return i(K,oC)}),lt&&Wi(K,Ke),je}function wt(K,G,X,ae){if(typeof X=="object"&&X!==null&&X.type===L&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var je=X.key;G!==null;){if(G.key===je){if(je=X.type,je===L){if(G.tag===7){o(K,G.sibling),ae=d(G,X.props.children),ae.return=K,K=ae;break e}}else if(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===j&&Ko(je)===G.type){o(K,G.sibling),ae=d(G,X.props),Yc(ae,X),ae.return=K,K=ae;break e}o(K,G);break}else i(K,G);G=G.sibling}X.type===L?(ae=zo(X.props.children,K.mode,ae,X.key),ae.return=K,K=ae):(ae=Fh(X.type,X.key,X.props,null,K.mode,ae),Yc(ae,X),ae.return=K,K=ae)}return w(K);case C:e:{for(je=X.key;G!==null;){if(G.key===je)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){o(K,G.sibling),ae=d(G,X.children||[]),ae.return=K,K=ae;break e}else{o(K,G);break}else i(K,G);G=G.sibling}ae=Pm(X,K.mode,ae),ae.return=K,K=ae}return w(K);case j:return X=Ko(X),wt(K,G,X,ae)}if(pe(X))return Se(K,G,X,ae);if(k(X)){if(je=k(X),typeof je!="function")throw Error(r(150));return X=je.call(X),Pe(K,G,X,ae)}if(typeof X.then=="function")return wt(K,G,Wh(X),ae);if(X.$$typeof===J)return wt(K,G,Kh(K,X),ae);Zh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(o(K,G.sibling),ae=d(G,X),ae.return=K,K=ae):(o(K,G),ae=Mm(X,K.mode,ae),ae.return=K,K=ae),w(K)):o(K,G)}return function(K,G,X,ae){try{Qc=0;var je=wt(K,G,X,ae);return Vl=null,je}catch(Ce){if(Ce===Pl||Ce===Yh)throw Ce;var ht=Yr(29,Ce,null,K.mode);return ht.lanes=ae,ht.return=K,ht}finally{}}}var Yo=Xv(!0),Wv=Xv(!1),Ua=!1;function Ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function qa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ba(s,i,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(pt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Hh(s),jv(s,null,o),i}return zh(s,c,i,o),Hh(s)}function Xc(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,Bi(s,o)}}function Wm(s,i){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?d=g=i:g=g.next=i}else d=g=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}var Zm=!1;function Wc(){if(Zm){var s=Ml;if(s!==null)throw s}}function Zc(s,i,o,c){Zm=!1;var d=s.updateQueue;Ua=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var q=R,W=q.next;q.next=null,w===null?g=W:w.next=W,w=q;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==w&&(R===null?ie.firstBaseUpdate=W:R.next=W,ie.lastBaseUpdate=q))}if(g!==null){var ue=d.baseState;w=0,ie=W=q=null,R=g;do{var ee=R.lane&-536870913,se=ee!==R.lane;if(se?(nt&ee)===ee:(c&ee)===ee){ee!==0&&ee===kl&&(Zm=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Se=s,Pe=R;ee=i;var wt=o;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){ue=Se.call(wt,ue,ee);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,ee=typeof Se=="function"?Se.call(wt,ue,ee):Se,ee==null)break e;ue=E({},ue,ee);break e;case 2:Ua=!0}}ee=R.callback,ee!==null&&(s.flags|=64,se&&(s.flags|=8192),se=d.callbacks,se===null?d.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(W=ie=se,q=ue):ie=ie.next=se,w|=ee;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;se=R,R=se.next,se.next=null,d.lastBaseUpdate=se,d.shared.pending=null}}while(!0);ie===null&&(q=ue),d.baseState=q,d.firstBaseUpdate=W,d.lastBaseUpdate=ie,g===null&&(d.shared.lanes=0),$a|=w,s.lanes=w,s.memoizedState=ue}}function Zv(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Jv(s,i){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Zv(o[s],i)}var Ul=V(null),Jh=V(0);function e1(s,i){s=la,he(Jh,s),he(Ul,i),la=s|i.baseLanes}function Jm(){he(Jh,la),he(Ul,Ul.current)}function ep(){la=Jh.current,Y(Ul),Y(Jh)}var Xr=V(null),ws=null;function za(s){var i=s.alternate;he(hn,hn.current&1),he(Xr,s),ws===null&&(i===null||Ul.current!==null||i.memoizedState!==null)&&(ws=s)}function tp(s){he(hn,hn.current),he(Xr,s),ws===null&&(ws=s)}function t1(s){s.tag===22?(he(hn,hn.current),he(Xr,s),ws===null&&(ws=s)):Ha()}function Ha(){he(hn,hn.current),he(Xr,Xr.current)}function Wr(s){Y(Xr),ws===s&&(ws=null),Y(hn)}var hn=V(0);function ef(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||og(o)||lg(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ea=0,Ge=null,Et=null,yn=null,tf=!1,ql=!1,Xo=!1,nf=0,Jc=0,Bl=null,W2=0;function an(){throw Error(r(321))}function np(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Qr(s[o],i[o]))return!1;return!0}function rp(s,i,o,c,d,g){return ea=g,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=s===null||s.memoizedState===null?V1:vp,Xo=!1,g=o(c,d),Xo=!1,ql&&(g=r1(i,o,c,d)),n1(s),g}function n1(s){B.H=nu;var i=Et!==null&&Et.next!==null;if(ea=0,yn=Et=Ge=null,tf=!1,Jc=0,Bl=null,i)throw Error(r(300));s===null||vn||(s=s.dependencies,s!==null&&$h(s)&&(vn=!0))}function r1(s,i,o,c){Ge=s;var d=0;do{if(ql&&(Bl=null),Jc=0,ql=!1,25<=d)throw Error(r(301));if(d+=1,yn=Et=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=U1,g=i(o,c)}while(ql);return g}function Z2(){var s=B.H,i=s.useState()[0];return i=typeof i.then=="function"?eu(i):i,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(Ge.flags|=1024),i}function sp(){var s=nf!==0;return nf=0,s}function ip(s,i,o){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~o}function ap(s){if(tf){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}tf=!1}ea=0,yn=Et=Ge=null,ql=!1,Jc=nf=0,Bl=null}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Ge.memoizedState=yn=s:yn=yn.next=s,yn}function fn(){if(Et===null){var s=Ge.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var i=yn===null?Ge.memoizedState:yn.next;if(i!==null)yn=i,Et=s;else{if(s===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},yn===null?Ge.memoizedState=yn=s:yn=yn.next=s}return yn}function rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(s){var i=Jc;return Jc+=1,Bl===null&&(Bl=[]),s=Kv(Bl,s,i),i=Ge,(yn===null?i.memoizedState:yn.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?V1:vp),s}function sf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return eu(s);if(s.$$typeof===J)return Fn(s)}throw Error(r(438,String(s)))}function op(s){var i=null,o=Ge.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=rf(),Ge.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(s),c=0;c<s;c++)o[c]=F;return i.index++,o}function ta(s,i){return typeof i=="function"?i(s):i}function af(s){var i=fn();return lp(i,Et,s)}function lp(s,i,o){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var d=s.baseQueue,g=c.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}i.baseQueue=d=g,c.pending=null}if(g=s.baseState,d===null)s.memoizedState=g;else{i=d.next;var R=w=null,q=null,W=i,ie=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(nt&ue)===ue:(ea&ue)===ue){var ee=W.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===kl&&(ie=!0);else if((ea&ee)===ee){W=W.next,ee===kl&&(ie=!0);continue}else ue={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(R=q=ue,w=g):q=q.next=ue,Ge.lanes|=ee,$a|=ee;ue=W.action,Xo&&o(g,ue),g=W.hasEagerState?W.eagerState:o(g,ue)}else ee={lane:ue,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(R=q=ee,w=g):q=q.next=ee,Ge.lanes|=ue,$a|=ue;W=W.next}while(W!==null&&W!==i);if(q===null?w=g:q.next=R,!Qr(g,s.memoizedState)&&(vn=!0,ie&&(o=Ml,o!==null)))throw o;s.memoizedState=g,s.baseState=w,s.baseQueue=q,c.lastRenderedState=g}return d===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function cp(s){var i=fn(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=o.dispatch,d=o.pending,g=i.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do g=s(g,w.action),w=w.next;while(w!==d);Qr(g,i.memoizedState)||(vn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function s1(s,i,o){var c=Ge,d=fn(),g=lt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=i();var w=!Qr((Et||d).memoizedState,o);if(w&&(d.memoizedState=o,vn=!0),d=d.queue,fp(o1.bind(null,c,d,s),[s]),d.getSnapshot!==i||w||yn!==null&&yn.memoizedState.tag&1){if(c.flags|=2048,zl(9,{destroy:void 0},a1.bind(null,c,d,o,i),null),St===null)throw Error(r(349));g||(ea&127)!==0||i1(c,i,o)}return o}function i1(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Ge.updateQueue,i===null?(i=rf(),Ge.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function a1(s,i,o,c){i.value=o,i.getSnapshot=c,l1(i)&&c1(s)}function o1(s,i,o){return o(function(){l1(i)&&c1(s)})}function l1(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Qr(s,o)}catch{return!0}}function c1(s){var i=Bo(s,2);i!==null&&kr(i,s,2)}function up(s){var i=br();if(typeof s=="function"){var o=s;if(s=o(),Xo){wn(!0);try{o()}finally{wn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:s},i}function u1(s,i,o,c){return s.baseState=o,lp(s,Et,typeof c=="function"?c:ta)}function J2(s,i,o,c,d){if(cf(s))throw Error(r(485));if(s=i.action,s!==null){var g={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};B.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,h1(i,g)):(g.next=o.next,i.pending=o.next=g)}}function h1(s,i){var o=i.action,c=i.payload,d=s.state;if(i.isTransition){var g=B.T,w={};B.T=w;try{var R=o(d,c),q=B.S;q!==null&&q(w,R),f1(s,i,R)}catch(W){hp(s,i,W)}finally{g!==null&&w.types!==null&&(g.types=w.types),B.T=g}}else try{g=o(d,c),f1(s,i,g)}catch(W){hp(s,i,W)}}function f1(s,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){d1(s,i,c)},function(c){return hp(s,i,c)}):d1(s,i,o)}function d1(s,i,o){i.status="fulfilled",i.value=o,m1(i),s.state=o,i=s.pending,i!==null&&(o=i.next,o===i?s.pending=null:(o=o.next,i.next=o,h1(s,o)))}function hp(s,i,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,m1(i),i=i.next;while(i!==c)}s.action=null}function m1(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function p1(s,i){return i}function g1(s,i){if(lt){var o=St.formState;if(o!==null){e:{var c=Ge;if(lt){if(Pt){t:{for(var d=Pt,g=xs;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ts(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Pt=Ts(d.nextSibling),c=d.data==="F!";break e}}Pa(c)}c=!1}c&&(i=o[0])}}return o=br(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p1,lastRenderedState:i},o.queue=c,o=k1.bind(null,Ge,c),c.dispatch=o,c=up(!1),g=yp.bind(null,Ge,!1,c.queue),c=br(),d={state:i,dispatch:null,action:s,pending:null},c.queue=d,o=J2.bind(null,Ge,d,g,o),d.dispatch=o,c.memoizedState=s,[i,o,!1]}function y1(s){var i=fn();return v1(i,Et,s)}function v1(s,i,o){if(i=lp(s,i,p1)[0],s=af(ta)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=eu(i)}catch(w){throw w===Pl?Yh:w}else c=i;i=fn();var d=i.queue,g=d.dispatch;return o!==i.memoizedState&&(Ge.flags|=2048,zl(9,{destroy:void 0},eN.bind(null,d,o),null)),[c,g,s]}function eN(s,i){s.action=i}function b1(s){var i=fn(),o=Et;if(o!==null)return v1(i,o,s);fn(),i=i.memoizedState,o=fn();var c=o.queue.dispatch;return o.memoizedState=s,[i,c,!1]}function zl(s,i,o,c){return s={tag:s,create:o,deps:c,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=rf(),Ge.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,i.lastEffect=s),s}function _1(){return fn().memoizedState}function of(s,i,o,c){var d=br();Ge.flags|=s,d.memoizedState=zl(1|i,{destroy:void 0},o,c===void 0?null:c)}function lf(s,i,o,c){var d=fn();c=c===void 0?null:c;var g=d.memoizedState.inst;Et!==null&&c!==null&&np(c,Et.memoizedState.deps)?d.memoizedState=zl(i,g,o,c):(Ge.flags|=s,d.memoizedState=zl(1|i,g,o,c))}function E1(s,i){of(8390656,8,s,i)}function fp(s,i){lf(2048,8,s,i)}function tN(s){Ge.flags|=4;var i=Ge.updateQueue;if(i===null)i=rf(),Ge.updateQueue=i,i.events=[s];else{var o=i.events;o===null?i.events=[s]:o.push(s)}}function x1(s){var i=fn().memoizedState;return tN({ref:i,nextImpl:s}),function(){if((pt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function w1(s,i){return lf(4,2,s,i)}function T1(s,i){return lf(4,4,s,i)}function A1(s,i){if(typeof i=="function"){s=s();var o=i(s);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function S1(s,i,o){o=o!=null?o.concat([s]):null,lf(4,4,A1.bind(null,i,s),o)}function dp(){}function N1(s,i){var o=fn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&np(i,c[1])?c[0]:(o.memoizedState=[s,i],s)}function C1(s,i){var o=fn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&np(i,c[1]))return c[0];if(c=s(),Xo){wn(!0);try{s()}finally{wn(!1)}}return o.memoizedState=[c,i],c}function mp(s,i,o){return o===void 0||(ea&1073741824)!==0&&(nt&261930)===0?s.memoizedState=i:(s.memoizedState=o,s=Ib(),Ge.lanes|=s,$a|=s,o)}function R1(s,i,o,c){return Qr(o,i)?o:Ul.current!==null?(s=mp(s,o,c),Qr(s,i)||(vn=!0),s):(ea&42)===0||(ea&1073741824)!==0&&(nt&261930)===0?(vn=!0,s.memoizedState=o):(s=Ib(),Ge.lanes|=s,$a|=s,i)}function I1(s,i,o,c,d){var g=Z.p;Z.p=g!==0&&8>g?g:8;var w=B.T,R={};B.T=R,yp(s,!1,i,o);try{var q=d(),W=B.S;if(W!==null&&W(R,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ie=X2(q,c);tu(s,i,ie,es(s))}else tu(s,i,c,es(s))}catch(ue){tu(s,i,{then:function(){},status:"rejected",reason:ue},es())}finally{Z.p=g,w!==null&&R.types!==null&&(w.types=R.types),B.T=w}}function nN(){}function pp(s,i,o,c){if(s.tag!==5)throw Error(r(476));var d=O1(s).queue;I1(s,d,i,ce,o===null?nN:function(){return D1(s),o(c)})}function O1(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:ce},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:o},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function D1(s){var i=O1(s);i.next===null&&(i=s.alternate.memoizedState),tu(s,i.next.queue,{},es())}function gp(){return Fn(vu)}function L1(){return fn().memoizedState}function j1(){return fn().memoizedState}function rN(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var o=es();s=qa(o);var c=Ba(i,s,o);c!==null&&(kr(c,i,o),Xc(c,i,o)),i={cache:Gm()},s.payload=i;return}i=i.return}}function sN(s,i,o){var c=es();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},cf(s)?M1(i,o):(o=jm(s,i,o,c),o!==null&&(kr(o,s,c),P1(o,i,c)))}function k1(s,i,o){var c=es();tu(s,i,o,c)}function tu(s,i,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(cf(s))M1(i,d);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,R=g(w,o);if(d.hasEagerState=!0,d.eagerState=R,Qr(R,w))return zh(s,i,d,0),St===null&&Bh(),!1}catch{}finally{}if(o=jm(s,i,d,c),o!==null)return kr(o,s,c),P1(o,i,c),!0}return!1}function yp(s,i,o,c){if(c={lane:2,revertLane:Yp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},cf(s)){if(i)throw Error(r(479))}else i=jm(s,o,c,2),i!==null&&kr(i,s,2)}function cf(s){var i=s.alternate;return s===Ge||i!==null&&i===Ge}function M1(s,i){ql=tf=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function P1(s,i,o){if((o&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,o|=c,i.lanes=o,Bi(s,o)}}var nu={readContext:Fn,use:sf,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};nu.useEffectEvent=an;var V1={readContext:Fn,use:sf,useCallback:function(s,i){return br().memoizedState=[s,i===void 0?null:i],s},useContext:Fn,useEffect:E1,useImperativeHandle:function(s,i,o){o=o!=null?o.concat([s]):null,of(4194308,4,A1.bind(null,i,s),o)},useLayoutEffect:function(s,i){return of(4194308,4,s,i)},useInsertionEffect:function(s,i){of(4,2,s,i)},useMemo:function(s,i){var o=br();i=i===void 0?null:i;var c=s();if(Xo){wn(!0);try{s()}finally{wn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(s,i,o){var c=br();if(o!==void 0){var d=o(i);if(Xo){wn(!0);try{o(i)}finally{wn(!1)}}}else d=i;return c.memoizedState=c.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},c.queue=s,s=s.dispatch=sN.bind(null,Ge,s),[c.memoizedState,s]},useRef:function(s){var i=br();return s={current:s},i.memoizedState=s},useState:function(s){s=up(s);var i=s.queue,o=k1.bind(null,Ge,i);return i.dispatch=o,[s.memoizedState,o]},useDebugValue:dp,useDeferredValue:function(s,i){var o=br();return mp(o,s,i)},useTransition:function(){var s=up(!1);return s=I1.bind(null,Ge,s.queue,!0,!1),br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,o){var c=Ge,d=br();if(lt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),St===null)throw Error(r(349));(nt&127)!==0||i1(c,i,o)}d.memoizedState=o;var g={value:o,getSnapshot:i};return d.queue=g,E1(o1.bind(null,c,g,s),[s]),c.flags|=2048,zl(9,{destroy:void 0},a1.bind(null,c,g,o,i),null),o},useId:function(){var s=br(),i=St.identifierPrefix;if(lt){var o=gi,c=pi;o=(c&~(1<<32-It(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=nf++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=W2++,i="_"+i+"r_"+o.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:gp,useFormState:g1,useActionState:g1,useOptimistic:function(s){var i=br();i.memoizedState=i.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=yp.bind(null,Ge,!0,o),o.dispatch=i,[s,i]},useMemoCache:op,useCacheRefresh:function(){return br().memoizedState=rN.bind(null,Ge)},useEffectEvent:function(s){var i=br(),o={impl:s};return i.memoizedState=o,function(){if((pt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},vp={readContext:Fn,use:sf,useCallback:N1,useContext:Fn,useEffect:fp,useImperativeHandle:S1,useInsertionEffect:w1,useLayoutEffect:T1,useMemo:C1,useReducer:af,useRef:_1,useState:function(){return af(ta)},useDebugValue:dp,useDeferredValue:function(s,i){var o=fn();return R1(o,Et.memoizedState,s,i)},useTransition:function(){var s=af(ta)[0],i=fn().memoizedState;return[typeof s=="boolean"?s:eu(s),i]},useSyncExternalStore:s1,useId:L1,useHostTransitionStatus:gp,useFormState:y1,useActionState:y1,useOptimistic:function(s,i){var o=fn();return u1(o,Et,s,i)},useMemoCache:op,useCacheRefresh:j1};vp.useEffectEvent=x1;var U1={readContext:Fn,use:sf,useCallback:N1,useContext:Fn,useEffect:fp,useImperativeHandle:S1,useInsertionEffect:w1,useLayoutEffect:T1,useMemo:C1,useReducer:cp,useRef:_1,useState:function(){return cp(ta)},useDebugValue:dp,useDeferredValue:function(s,i){var o=fn();return Et===null?mp(o,s,i):R1(o,Et.memoizedState,s,i)},useTransition:function(){var s=cp(ta)[0],i=fn().memoizedState;return[typeof s=="boolean"?s:eu(s),i]},useSyncExternalStore:s1,useId:L1,useHostTransitionStatus:gp,useFormState:b1,useActionState:b1,useOptimistic:function(s,i){var o=fn();return Et!==null?u1(o,Et,s,i):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:op,useCacheRefresh:j1};U1.useEffectEvent=x1;function bp(s,i,o,c){i=s.memoizedState,o=o(c,i),o=o==null?i:E({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var _p={enqueueSetState:function(s,i,o){s=s._reactInternals;var c=es(),d=qa(c);d.payload=i,o!=null&&(d.callback=o),i=Ba(s,d,c),i!==null&&(kr(i,s,c),Xc(i,s,c))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var c=es(),d=qa(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Ba(s,d,c),i!==null&&(kr(i,s,c),Xc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=es(),c=qa(o);c.tag=2,i!=null&&(c.callback=i),i=Ba(s,c,o),i!==null&&(kr(i,s,o),Xc(i,s,o))}};function q1(s,i,o,c,d,g,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!zc(o,c)||!zc(d,g):!0}function B1(s,i,o,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==s&&_p.enqueueReplaceState(i,i.state,null)}function Wo(s,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(s=s.defaultProps){o===i&&(o=E({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}function z1(s){qh(s)}function H1(s){console.error(s)}function F1(s){qh(s)}function uf(s,i){try{var o=s.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function G1(s,i,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ep(s,i,o){return o=qa(o),o.tag=3,o.payload={element:null},o.callback=function(){uf(s,i)},o}function $1(s){return s=qa(s),s.tag=3,s}function K1(s,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;s.payload=function(){return d(g)},s.callback=function(){G1(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){G1(i,o,c),typeof d!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function iN(s,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&jl(i,o,d,!0),o=Xr.current,o!==null){switch(o.tag){case 31:case 13:return ws===null?xf():o.alternate===null&&on===0&&(on=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Xh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),$p(s,c,d)),!1;case 22:return o.flags|=65536,c===Xh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),$p(s,c,d)),!1}throw Error(r(435,o.tag))}return $p(s,c,d),xf(),!1}if(lt)return i=Xr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==qm&&(s=Error(r(422),{cause:c}),Gc(bs(s,o)))):(c!==qm&&(i=Error(r(423),{cause:c}),Gc(bs(i,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,c=bs(c,o),d=Ep(s.stateNode,c,d),Wm(s,d),on!==4&&(on=2)),!1;var g=Error(r(520),{cause:c});if(g=bs(g,o),uu===null?uu=[g]:uu.push(g),on!==4&&(on=2),i===null)return!0;c=bs(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=Ep(o.stateNode,c,s),Wm(o,s),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ka===null||!Ka.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$1(d),K1(d,s,o,c),Wm(o,d),!1}o=o.return}while(o!==null);return!1}var xp=Error(r(461)),vn=!1;function Gn(s,i,o,c){i.child=s===null?Wv(i,null,o,c):Yo(i,s.child,o,c)}function Q1(s,i,o,c,d){o=o.render;var g=i.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return Go(i),c=rp(s,i,o,w,g,d),R=sp(),s!==null&&!vn?(ip(s,i,d),na(s,i,d)):(lt&&R&&Vm(i),i.flags|=1,Gn(s,i,c,d),i.child)}function Y1(s,i,o,c,d){if(s===null){var g=o.type;return typeof g=="function"&&!km(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,X1(s,i,g,c,d)):(s=Fh(o.type,null,c,i,i.mode,d),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,!Ip(s,d)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:zc,o(w,c)&&s.ref===i.ref)return na(s,i,d)}return i.flags|=1,s=Xi(g,c),s.ref=i.ref,s.return=i,i.child=s}function X1(s,i,o,c,d){if(s!==null){var g=s.memoizedProps;if(zc(g,c)&&s.ref===i.ref)if(vn=!1,i.pendingProps=c=g,Ip(s,d))(s.flags&131072)!==0&&(vn=!0);else return i.lanes=s.lanes,na(s,i,d)}return wp(s,i,o,c,d)}function W1(s,i,o,c){var d=c.children,g=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=i.child=s.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,i.child=null;return Z1(s,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qh(i,g!==null?g.cachePool:null),g!==null?e1(i,g):Jm(),t1(i);else return c=i.lanes=536870912,Z1(s,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Qh(i,g.cachePool),e1(i,g),Ha(),i.memoizedState=null):(s!==null&&Qh(i,null),Jm(),Ha());return Gn(s,i,d,o),i.child}function ru(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Z1(s,i,o,c,d){var g=Km();return g=g===null?null:{parent:gn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},s!==null&&Qh(i,null),Jm(),t1(i),s!==null&&jl(s,i,c,!0),i.childLanes=d,null}function hf(s,i){return i=df({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function J1(s,i,o){return Yo(i,s.child,null,o),s=hf(i,i.pendingProps),s.flags|=2,Wr(i),i.memoizedState=null,s}function aN(s,i,o){var c=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(lt){if(c.mode==="hidden")return s=hf(i,c),i.lanes=536870912,ru(null,s);if(tp(i),(s=Pt)?(s=f_(s,xs),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:ka!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},o=Mv(s),o.return=i,i.child=o,Hn=i,Pt=null)):s=null,s===null)throw Pa(i);return i.lanes=536870912,null}return hf(i,c)}var g=s.memoizedState;if(g!==null){var w=g.dehydrated;if(tp(i),d)if(i.flags&256)i.flags&=-257,i=J1(s,i,o);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(vn||jl(s,i,o,!1),d=(o&s.childLanes)!==0,vn||d){if(c=St,c!==null&&(w=zi(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Bo(s,w),kr(c,s,w),xp;xf(),i=J1(s,i,o)}else s=g.treeContext,Pt=Ts(w.nextSibling),Hn=i,lt=!0,Ma=null,xs=!1,s!==null&&Uv(i,s),i=hf(i,c),i.flags|=4096;return i}return s=Xi(s.child,{mode:c.mode,children:c.children}),s.ref=i.ref,i.child=s,s.return=i,s}function ff(s,i){var o=i.ref;if(o===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(i.flags|=4194816)}}function wp(s,i,o,c,d){return Go(i),o=rp(s,i,o,c,void 0,d),c=sp(),s!==null&&!vn?(ip(s,i,d),na(s,i,d)):(lt&&c&&Vm(i),i.flags|=1,Gn(s,i,o,d),i.child)}function eb(s,i,o,c,d,g){return Go(i),i.updateQueue=null,o=r1(i,c,o,d),n1(s),c=sp(),s!==null&&!vn?(ip(s,i,g),na(s,i,g)):(lt&&c&&Vm(i),i.flags|=1,Gn(s,i,o,g),i.child)}function tb(s,i,o,c,d){if(Go(i),i.stateNode===null){var g=Il,w=o.contextType;typeof w=="object"&&w!==null&&(g=Fn(w)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_p,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Ym(i),w=o.contextType,g.context=typeof w=="object"&&w!==null?Fn(w):Il,g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(bp(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&_p.enqueueReplaceState(g,g.state,null),Zc(i,c,g,d),Wc(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){g=i.stateNode;var R=i.memoizedProps,q=Wo(o,R);g.props=q;var W=g.context,ie=o.contextType;w=Il,typeof ie=="object"&&ie!==null&&(w=Fn(ie));var ue=o.getDerivedStateFromProps;ie=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||W!==w)&&B1(i,g,c,w),Ua=!1;var ee=i.memoizedState;g.state=ee,Zc(i,c,g,d),Wc(),W=i.memoizedState,R||ee!==W||Ua?(typeof ue=="function"&&(bp(i,o,ue,c),W=i.memoizedState),(q=Ua||q1(i,o,q,c,ee,W,w))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=W),g.props=c,g.state=W,g.context=w,c=q):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Xm(s,i),w=i.memoizedProps,ie=Wo(o,w),g.props=ie,ue=i.pendingProps,ee=g.context,W=o.contextType,q=Il,typeof W=="object"&&W!==null&&(q=Fn(W)),R=o.getDerivedStateFromProps,(W=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ue||ee!==q)&&B1(i,g,c,q),Ua=!1,ee=i.memoizedState,g.state=ee,Zc(i,c,g,d),Wc();var se=i.memoizedState;w!==ue||ee!==se||Ua||s!==null&&s.dependencies!==null&&$h(s.dependencies)?(typeof R=="function"&&(bp(i,o,R,c),se=i.memoizedState),(ie=Ua||q1(i,o,ie,c,ee,se,q)||s!==null&&s.dependencies!==null&&$h(s.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,se,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,se,q)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=se),g.props=c,g.state=se,g.context=q,c=ie):(typeof g.componentDidUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),c=!1)}return g=c,ff(s,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,s!==null&&c?(i.child=Yo(i,s.child,null,d),i.child=Yo(i,null,o,d)):Gn(s,i,o,d),i.memoizedState=g.state,s=i.child):s=na(s,i,d),s}function nb(s,i,o,c){return Ho(),i.flags|=256,Gn(s,i,o,c),i.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ap(s){return{baseLanes:s,cachePool:Gv()}}function Sp(s,i,o){return s=s!==null?s.childLanes&~o:0,i&&(s|=Jr),s}function rb(s,i,o){var c=i.pendingProps,d=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=s!==null&&s.memoizedState===null?!1:(hn.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,s===null){if(lt){if(d?za(i):Ha(),(s=Pt)?(s=f_(s,xs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:ka!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},o=Mv(s),o.return=i,i.child=o,Hn=i,Pt=null)):s=null,s===null)throw Pa(i);return lg(s)?i.lanes=32:i.lanes=536870912,null}var R=c.children;return c=c.fallback,d?(Ha(),d=i.mode,R=df({mode:"hidden",children:R},d),c=zo(c,d,o,null),R.return=i,c.return=i,R.sibling=c,i.child=R,c=i.child,c.memoizedState=Ap(o),c.childLanes=Sp(s,w,o),i.memoizedState=Tp,ru(null,c)):(za(i),Np(i,R))}var q=s.memoizedState;if(q!==null&&(R=q.dehydrated,R!==null)){if(g)i.flags&256?(za(i),i.flags&=-257,i=Cp(s,i,o)):i.memoizedState!==null?(Ha(),i.child=s.child,i.flags|=128,i=null):(Ha(),R=c.fallback,d=i.mode,c=df({mode:"visible",children:c.children},d),R=zo(R,d,o,null),R.flags|=2,c.return=i,R.return=i,c.sibling=R,i.child=c,Yo(i,s.child,null,o),c=i.child,c.memoizedState=Ap(o),c.childLanes=Sp(s,w,o),i.memoizedState=Tp,i=ru(null,c));else if(za(i),lg(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var W=w.dgst;w=W,c=Error(r(419)),c.stack="",c.digest=w,Gc({value:c,source:null,stack:null}),i=Cp(s,i,o)}else if(vn||jl(s,i,o,!1),w=(o&s.childLanes)!==0,vn||w){if(w=St,w!==null&&(c=zi(w,o),c!==0&&c!==q.retryLane))throw q.retryLane=c,Bo(s,c),kr(w,s,c),xp;og(R)||xf(),i=Cp(s,i,o)}else og(R)?(i.flags|=192,i.child=s.child,i=null):(s=q.treeContext,Pt=Ts(R.nextSibling),Hn=i,lt=!0,Ma=null,xs=!1,s!==null&&Uv(i,s),i=Np(i,c.children),i.flags|=4096);return i}return d?(Ha(),R=c.fallback,d=i.mode,q=s.child,W=q.sibling,c=Xi(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,W!==null?R=Xi(W,R):(R=zo(R,d,o,null),R.flags|=2),R.return=i,c.return=i,c.sibling=R,i.child=c,ru(null,c),c=i.child,R=s.child.memoizedState,R===null?R=Ap(o):(d=R.cachePool,d!==null?(q=gn._currentValue,d=d.parent!==q?{parent:q,pool:q}:d):d=Gv(),R={baseLanes:R.baseLanes|o,cachePool:d}),c.memoizedState=R,c.childLanes=Sp(s,w,o),i.memoizedState=Tp,ru(s.child,c)):(za(i),o=s.child,s=o.sibling,o=Xi(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,s!==null&&(w=i.deletions,w===null?(i.deletions=[s],i.flags|=16):w.push(s)),i.child=o,i.memoizedState=null,o)}function Np(s,i){return i=df({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function df(s,i){return s=Yr(22,s,null,i),s.lanes=0,s}function Cp(s,i,o){return Yo(i,s.child,null,o),s=Np(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function sb(s,i,o){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),Hm(s.return,i,o)}function Rp(s,i,o,c,d,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=d,w.treeForkCount=g)}function ib(s,i,o){var c=i.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var w=hn.current,R=(w&2)!==0;if(R?(w=w&1|2,i.flags|=128):w&=1,he(hn,w),Gn(s,i,c,o),c=lt?Fc:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sb(s,o,i);else if(s.tag===19)sb(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(d){case"forwards":for(o=i.child,d=null;o!==null;)s=o.alternate,s!==null&&ef(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Rp(i,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(s=d.alternate,s!==null&&ef(s)===null){i.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}Rp(i,!0,o,null,g,c);break;case"together":Rp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function na(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),$a|=i.lanes,(o&i.childLanes)===0)if(s!==null){if(jl(s,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,o=Xi(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=Xi(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function Ip(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&$h(s)))}function oN(s,i,o){switch(i.tag){case 3:Ie(i,i.stateNode.containerInfo),Va(i,gn,s.memoizedState.cache),Ho();break;case 27:case 5:Qe(i);break;case 4:Ie(i,i.stateNode.containerInfo);break;case 10:Va(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,tp(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(za(i),i.flags|=128,null):(o&i.child.childLanes)!==0?rb(s,i,o):(za(i),s=na(s,i,o),s!==null?s.sibling:null);za(i);break;case 19:var d=(s.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(jl(s,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return ib(s,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(hn,hn.current),c)break;return null;case 22:return i.lanes=0,W1(s,i,o,i.pendingProps);case 24:Va(i,gn,s.memoizedState.cache)}return na(s,i,o)}function ab(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps)vn=!0;else{if(!Ip(s,o)&&(i.flags&128)===0)return vn=!1,oN(s,i,o);vn=(s.flags&131072)!==0}else vn=!1,lt&&(i.flags&1048576)!==0&&Vv(i,Fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(s=Ko(i.elementType),i.type=s,typeof s=="function")km(s)?(c=Wo(s,c),i.tag=1,i=tb(null,i,s,c,o)):(i.tag=0,i=wp(null,i,s,c,o));else{if(s!=null){var d=s.$$typeof;if(d===te){i.tag=11,i=Q1(null,i,s,c,o);break e}else if(d===M){i.tag=14,i=Y1(null,i,s,c,o);break e}}throw i=ge(s)||s,Error(r(306,i,""))}}return i;case 0:return wp(s,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=Wo(c,i.pendingProps),tb(s,i,c,d,o);case 3:e:{if(Ie(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;d=g.element,Xm(s,i),Zc(i,c,null,o);var w=i.memoizedState;if(c=w.cache,Va(i,gn,c),c!==g.cache&&Fm(i,[gn],o,!0),Wc(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=nb(s,i,c,o);break e}else if(c!==d){d=bs(Error(r(424)),i),Gc(d),i=nb(s,i,c,o);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Pt=Ts(s.firstChild),Hn=i,lt=!0,Ma=null,xs=!0,o=Wv(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ho(),c===d){i=na(s,i,o);break e}Gn(s,i,c,o)}i=i.child}return i;case 26:return ff(s,i),s===null?(o=v_(i.type,null,i.pendingProps,null))?i.memoizedState=o:lt||(o=i.type,s=i.pendingProps,c=Rf(Te.current).createElement(o),c[Ht]=i,c[rn]=s,$n(c,o,s),Ft(c),i.stateNode=c):i.memoizedState=v_(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Qe(i),s===null&&lt&&(c=i.stateNode=p_(i.type,i.pendingProps,Te.current),Hn=i,xs=!0,d=Pt,Wa(i.type)?(cg=d,Pt=Ts(c.firstChild)):Pt=d),Gn(s,i,i.pendingProps.children,o),ff(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&lt&&((d=c=Pt)&&(c=PN(c,i.type,i.pendingProps,xs),c!==null?(i.stateNode=c,Hn=i,Pt=Ts(c.firstChild),xs=!1,d=!0):d=!1),d||Pa(i)),Qe(i),d=i.type,g=i.pendingProps,w=s!==null?s.memoizedProps:null,c=g.children,sg(d,g)?c=null:w!==null&&sg(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=rp(s,i,Z2,null,null,o),vu._currentValue=d),ff(s,i),Gn(s,i,c,o),i.child;case 6:return s===null&&lt&&((s=o=Pt)&&(o=VN(o,i.pendingProps,xs),o!==null?(i.stateNode=o,Hn=i,Pt=null,s=!0):s=!1),s||Pa(i)),null;case 13:return rb(s,i,o);case 4:return Ie(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=Yo(i,null,c,o):Gn(s,i,c,o),i.child;case 11:return Q1(s,i,i.type,i.pendingProps,o);case 7:return Gn(s,i,i.pendingProps,o),i.child;case 8:return Gn(s,i,i.pendingProps.children,o),i.child;case 12:return Gn(s,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Va(i,i.type,c.value),Gn(s,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,Go(i),d=Fn(d),c=c(d),i.flags|=1,Gn(s,i,c,o),i.child;case 14:return Y1(s,i,i.type,i.pendingProps,o);case 15:return X1(s,i,i.type,i.pendingProps,o);case 19:return ib(s,i,o);case 31:return aN(s,i,o);case 22:return W1(s,i,o,i.pendingProps);case 24:return Go(i),c=Fn(gn),s===null?(d=Km(),d===null&&(d=St,g=Gm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),i.memoizedState={parent:c,cache:d},Ym(i),Va(i,gn,d)):((s.lanes&o)!==0&&(Xm(s,i),Zc(i,null,null,o),Wc()),d=s.memoizedState,g=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Va(i,gn,c)):(c=g.cache,Va(i,gn,c),c!==d.cache&&Fm(i,[gn],o,!0))),Gn(s,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ra(s){s.flags|=4}function Op(s,i,o,c,d){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(d&335544128)===d)if(s.stateNode.complete)s.flags|=8192;else if(jb())s.flags|=8192;else throw Qo=Xh,Qm}else s.flags&=-16777217}function ob(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!w_(i))if(jb())s.flags|=8192;else throw Qo=Xh,Qm}function mf(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?ai():536870912,s.lanes|=i,$l|=i)}function su(s,i){if(!lt)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Vt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(i)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=c,s.childLanes=o,i}function lN(s,i,o){var c=i.pendingProps;switch(Um(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Vt(i),null;case 3:return o=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ji(gn),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ll(i)?ra(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bm())),Vt(i),null;case 26:var d=i.type,g=i.memoizedState;return s===null?(ra(i),g!==null?(Vt(i),ob(i,g)):(Vt(i),Op(i,d,null,c,o))):g?g!==s.memoizedState?(ra(i),Vt(i),ob(i,g)):(Vt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==c&&ra(i),Vt(i),Op(i,d,s,c,o)),null;case 27:if(We(i),o=Te.current,d=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&ra(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Vt(i),null}s=me.current,Ll(i)?qv(i):(s=p_(d,c,o),i.stateNode=s,ra(i))}return Vt(i),null;case 5:if(We(i),d=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&ra(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Vt(i),null}if(g=me.current,Ll(i))qv(i);else{var w=Rf(Te.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(d,{is:c.is}):w.createElement(d)}}g[Ht]=i,g[rn]=c;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=g;e:switch($n(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ra(i)}}return Vt(i),Op(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,o),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&ra(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Te.current,Ll(i)){if(s=i.stateNode,o=i.memoizedProps,c=null,d=Hn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}s[Ht]=i,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||s_(s.nodeValue,o)),s||Pa(i,!0)}else s=Rf(s).createTextNode(c),s[Ht]=i,i.stateNode=s}return Vt(i),null;case 31:if(o=i.memoizedState,s===null||s.memoizedState!==null){if(c=Ll(i),o!==null){if(s===null){if(!c)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ht]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),s=!1}else o=Bm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return i.flags&256?(Wr(i),i):(Wr(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Vt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=Ll(i),c!==null&&c.dehydrated!==null){if(s===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ht]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),d=!1}else d=Bm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Wr(i),i):(Wr(i),null)}return Wr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==s&&o&&(i.child.flags|=8192),mf(i,i.updateQueue),Vt(i),null);case 4:return Le(),s===null&&Jp(i.stateNode.containerInfo),Vt(i),null;case 10:return Ji(i.type),Vt(i),null;case 19:if(Y(hn),c=i.memoizedState,c===null)return Vt(i),null;if(d=(i.flags&128)!==0,g=c.rendering,g===null)if(d)su(c,!1);else{if(on!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(g=ef(s),g!==null){for(i.flags|=128,su(c,!1),s=g.updateQueue,i.updateQueue=s,mf(i,s),i.subtreeFlags=0,s=o,o=i.child;o!==null;)kv(o,s),o=o.sibling;return he(hn,hn.current&1|2),lt&&Wi(i,c.treeForkCount),i.child}s=s.sibling}c.tail!==null&&Rt()>bf&&(i.flags|=128,d=!0,su(c,!1),i.lanes=4194304)}else{if(!d)if(s=ef(g),s!==null){if(i.flags|=128,d=!0,s=s.updateQueue,i.updateQueue=s,mf(i,s),su(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!lt)return Vt(i),null}else 2*Rt()-c.renderingStartTime>bf&&o!==536870912&&(i.flags|=128,d=!0,su(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(s=c.last,s!==null?s.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=Rt(),s.sibling=null,o=hn.current,he(hn,d?o&1|2:o&1),lt&&Wi(i,c.treeForkCount),s):(Vt(i),null);case 22:case 23:return Wr(i),ep(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),o=i.updateQueue,o!==null&&mf(i,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),s!==null&&Y($o),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ji(gn),Vt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function cN(s,i){switch(Um(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ji(gn),Le(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return We(i),null;case 31:if(i.memoizedState!==null){if(Wr(i),i.alternate===null)throw Error(r(340));Ho()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Wr(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ho()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Y(hn),null;case 4:return Le(),null;case 10:return Ji(i.type),null;case 22:case 23:return Wr(i),ep(),s!==null&&Y($o),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Ji(gn),null;case 25:return null;default:return null}}function lb(s,i){switch(Um(i),i.tag){case 3:Ji(gn),Le();break;case 26:case 27:case 5:We(i);break;case 4:Le();break;case 31:i.memoizedState!==null&&Wr(i);break;case 13:Wr(i);break;case 19:Y(hn);break;case 10:Ji(i.type);break;case 22:case 23:Wr(i),ep(),s!==null&&Y($o);break;case 24:Ji(gn)}}function iu(s,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&s)===s){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==d)}}catch(R){bt(i,i.return,R)}}function Fa(s,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&s)===s){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,d=i;var q=o,W=R;try{W()}catch(ie){bt(d,q,ie)}}}c=c.next}while(c!==g)}}catch(ie){bt(i,i.return,ie)}}function cb(s){var i=s.updateQueue;if(i!==null){var o=s.stateNode;try{Jv(i,o)}catch(c){bt(s,s.return,c)}}}function ub(s,i,o){o.props=Wo(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){bt(s,i,c)}}function au(s,i){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(d){bt(s,i,d)}}function yi(s,i){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){bt(s,i,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){bt(s,i,d)}else o.current=null}function hb(s){var i=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){bt(s,s.return,d)}}function Dp(s,i,o){try{var c=s.stateNode;ON(c,s.type,o,i),c[rn]=i}catch(d){bt(s,s.return,d)}}function fb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Wa(s.type)||s.tag===4}function Lp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Wa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jp(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(s),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=rr));else if(c!==4&&(c===27&&Wa(s.type)&&(o=s.stateNode,i=null),s=s.child,s!==null))for(jp(s,i,o),s=s.sibling;s!==null;)jp(s,i,o),s=s.sibling}function pf(s,i,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(c!==4&&(c===27&&Wa(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(pf(s,i,o),s=s.sibling;s!==null;)pf(s,i,o),s=s.sibling}function mb(s){var i=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);$n(i,c,o),i[Ht]=s,i[rn]=o}catch(g){bt(s,s.return,g)}}var sa=!1,bn=!1,kp=!1,pb=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function uN(s,i){if(s=s.containerInfo,ng=Mf,s=Sv(s),Cm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,R=-1,q=-1,W=0,ie=0,ue=s,ee=null;t:for(;;){for(var se;ue!==o||d!==0&&ue.nodeType!==3||(R=w+d),ue!==g||c!==0&&ue.nodeType!==3||(q=w+c),ue.nodeType===3&&(w+=ue.nodeValue.length),(se=ue.firstChild)!==null;)ee=ue,ue=se;for(;;){if(ue===s)break t;if(ee===o&&++W===d&&(R=w),ee===g&&++ie===c&&(q=w),(se=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=se}o=R===-1||q===-1?null:{start:R,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(rg={focusedElem:s,selectionRange:o},Mf=!1,Dn=i;Dn!==null;)if(i=Dn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Dn=s;else for(;Dn!==null;){switch(i=Dn,g=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)d=s[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=i,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Se=Wo(o.type,d);s=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){bt(o,o.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,o=s.nodeType,o===9)ag(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ag(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,Dn=s;break}Dn=i.return}}function gb(s,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:aa(s,o),c&4&&iu(5,o);break;case 1:if(aa(s,o),c&4)if(s=o.stateNode,i===null)try{s.componentDidMount()}catch(w){bt(o,o.return,w)}else{var d=Wo(o.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(d,i,s.__reactInternalSnapshotBeforeUpdate)}catch(w){bt(o,o.return,w)}}c&64&&cb(o),c&512&&au(o,o.return);break;case 3:if(aa(s,o),c&64&&(s=o.updateQueue,s!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Jv(s,i)}catch(w){bt(o,o.return,w)}}break;case 27:i===null&&c&4&&mb(o);case 26:case 5:aa(s,o),i===null&&c&4&&hb(o),c&512&&au(o,o.return);break;case 12:aa(s,o);break;case 31:aa(s,o),c&4&&bb(s,o);break;case 13:aa(s,o),c&4&&_b(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=bN.bind(null,o),UN(s,o))));break;case 22:if(c=o.memoizedState!==null||sa,!c){i=i!==null&&i.memoizedState!==null||bn,d=sa;var g=bn;sa=c,(bn=i)&&!g?oa(s,o,(o.subtreeFlags&8772)!==0):aa(s,o),sa=d,bn=g}break;case 30:break;default:aa(s,o)}}function yb(s){var i=s.alternate;i!==null&&(s.alternate=null,yb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&oi(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yt=null,Or=!1;function ia(s,i,o){for(o=o.child;o!==null;)vb(s,i,o),o=o.sibling}function vb(s,i,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(fr,o)}catch{}switch(o.tag){case 26:bn||yi(o,i),ia(s,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bn||yi(o,i);var c=Yt,d=Or;Wa(o.type)&&(Yt=o.stateNode,Or=!1),ia(s,i,o),pu(o.stateNode),Yt=c,Or=d;break;case 5:bn||yi(o,i);case 6:if(c=Yt,d=Or,Yt=null,ia(s,i,o),Yt=c,Or=d,Yt!==null)if(Or)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(o.stateNode)}catch(g){bt(o,i,g)}else try{Yt.removeChild(o.stateNode)}catch(g){bt(o,i,g)}break;case 18:Yt!==null&&(Or?(s=Yt,u_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),ec(s)):u_(Yt,o.stateNode));break;case 4:c=Yt,d=Or,Yt=o.stateNode.containerInfo,Or=!0,ia(s,i,o),Yt=c,Or=d;break;case 0:case 11:case 14:case 15:Fa(2,o,i),bn||Fa(4,o,i),ia(s,i,o);break;case 1:bn||(yi(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ub(o,i,c)),ia(s,i,o);break;case 21:ia(s,i,o);break;case 22:bn=(c=bn)||o.memoizedState!==null,ia(s,i,o),bn=c;break;default:ia(s,i,o)}}function bb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ec(s)}catch(o){bt(i,i.return,o)}}}function _b(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ec(s)}catch(o){bt(i,i.return,o)}}function hN(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new pb),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new pb),i;default:throw Error(r(435,s.tag))}}function gf(s,i){var o=hN(s);i.forEach(function(c){if(!o.has(c)){o.add(c);var d=_N.bind(null,s,c);c.then(d,d)}})}function Dr(s,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=s,w=i,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(Wa(R.type)){Yt=R.stateNode,Or=!1;break e}break;case 5:Yt=R.stateNode,Or=!1;break e;case 3:case 4:Yt=R.stateNode.containerInfo,Or=!0;break e}R=R.return}if(Yt===null)throw Error(r(160));vb(g,w,d),Yt=null,Or=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Eb(i,s),i=i.sibling}var $s=null;function Eb(s,i){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Dr(i,s),Lr(s),c&4&&(Fa(3,s,s.return),iu(3,s),Fa(5,s,s.return));break;case 1:Dr(i,s),Lr(s),c&512&&(bn||o===null||yi(o,o.return)),c&64&&sa&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=$s;if(Dr(i,s),Lr(s),c&512&&(bn||o===null||yi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Sr]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),$n(g,c,o),g[Ht]=s,Ft(g),c=g;break e;case"link":var w=E_("link","href",d).get(c+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(g=w[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break t}}g=d.createElement(c),$n(g,c,o),d.head.appendChild(g);break;case"meta":if(w=E_("meta","content",d).get(c+(o.content||""))){for(R=0;R<w.length;R++)if(g=w[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break t}}g=d.createElement(c),$n(g,c,o),d.head.appendChild(g);break;default:throw Error(r(468,c))}g[Ht]=s,Ft(g),c=g}s.stateNode=c}else x_(d,s.type,s.stateNode);else s.stateNode=__(d,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?x_(d,s.type,s.stateNode):__(d,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Dp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Dr(i,s),Lr(s),c&512&&(bn||o===null||yi(o,o.return)),o!==null&&c&4&&Dp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Dr(i,s),Lr(s),c&512&&(bn||o===null||yi(o,o.return)),s.flags&32){d=s.stateNode;try{$t(d,"")}catch(Se){bt(s,s.return,Se)}}c&4&&s.stateNode!=null&&(d=s.memoizedProps,Dp(s,d,o!==null?o.memoizedProps:d)),c&1024&&(kp=!0);break;case 6:if(Dr(i,s),Lr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(Se){bt(s,s.return,Se)}}break;case 3:if(Df=null,d=$s,$s=If(i.containerInfo),Dr(i,s),$s=d,Lr(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ec(i.containerInfo)}catch(Se){bt(s,s.return,Se)}kp&&(kp=!1,xb(s));break;case 4:c=$s,$s=If(s.stateNode.containerInfo),Dr(i,s),Lr(s),$s=c;break;case 12:Dr(i,s),Lr(s);break;case 31:Dr(i,s),Lr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,gf(s,c)));break;case 13:Dr(i,s),Lr(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vf=Rt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,gf(s,c)));break;case 22:d=s.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,W=sa,ie=bn;if(sa=W||d,bn=ie||q,Dr(i,s),bn=ie,sa=W,Lr(s),c&8192)e:for(i=s.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||q||sa||bn||Zo(s)),o=null,i=s;;){if(i.tag===5||i.tag===26){if(o===null){q=o=i;try{if(g=q.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){bt(q,q.return,Se)}}}else if(i.tag===6){if(o===null){q=i;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(Se){bt(q,q.return,Se)}}}else if(i.tag===18){if(o===null){q=i;try{var se=q.stateNode;d?h_(se,!0):h_(q.stateNode,!1)}catch(Se){bt(q,q.return,Se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,gf(s,o))));break;case 19:Dr(i,s),Lr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,gf(s,c)));break;case 30:break;case 21:break;default:Dr(i,s),Lr(s)}}function Lr(s){var i=s.flags;if(i&2){try{for(var o,c=s.return;c!==null;){if(fb(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Lp(s);pf(s,g,d);break;case 5:var w=o.stateNode;o.flags&32&&($t(w,""),o.flags&=-33);var R=Lp(s);pf(s,R,w);break;case 3:case 4:var q=o.stateNode.containerInfo,W=Lp(s);jp(s,W,q);break;default:throw Error(r(161))}}catch(ie){bt(s,s.return,ie)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function xb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;xb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function aa(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gb(s,i.alternate,i),i=i.sibling}function Zo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Fa(4,i,i.return),Zo(i);break;case 1:yi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ub(i,i.return,o),Zo(i);break;case 27:pu(i.stateNode);case 26:case 5:yi(i,i.return),Zo(i);break;case 22:i.memoizedState===null&&Zo(i);break;case 30:Zo(i);break;default:Zo(i)}s=s.sibling}}function oa(s,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=s,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:oa(d,g,o),iu(4,g);break;case 1:if(oa(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){bt(c,c.return,W)}if(c=g,d=c.updateQueue,d!==null){var R=c.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)Zv(q[d],R)}catch(W){bt(c,c.return,W)}}o&&w&64&&cb(g),au(g,g.return);break;case 27:mb(g);case 26:case 5:oa(d,g,o),o&&c===null&&w&4&&hb(g),au(g,g.return);break;case 12:oa(d,g,o);break;case 31:oa(d,g,o),o&&w&4&&bb(d,g);break;case 13:oa(d,g,o),o&&w&4&&_b(d,g);break;case 22:g.memoizedState===null&&oa(d,g,o),au(g,g.return);break;case 30:break;default:oa(d,g,o)}i=i.sibling}}function Mp(s,i){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&$c(o))}function Pp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&$c(s))}function Ks(s,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wb(s,i,o,c),i=i.sibling}function wb(s,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ks(s,i,o,c),d&2048&&iu(9,i);break;case 1:Ks(s,i,o,c);break;case 3:Ks(s,i,o,c),d&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&$c(s)));break;case 12:if(d&2048){Ks(s,i,o,c),s=i.stateNode;try{var g=i.memoizedProps,w=g.id,R=g.onPostCommit;typeof R=="function"&&R(w,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){bt(i,i.return,q)}}else Ks(s,i,o,c);break;case 31:Ks(s,i,o,c);break;case 13:Ks(s,i,o,c);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?Ks(s,i,o,c):ou(s,i):g._visibility&2?Ks(s,i,o,c):(g._visibility|=2,Hl(s,i,o,c,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Mp(w,i);break;case 24:Ks(s,i,o,c),d&2048&&Pp(i.alternate,i);break;default:Ks(s,i,o,c)}}function Hl(s,i,o,c,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=s,w=i,R=o,q=c,W=w.flags;switch(w.tag){case 0:case 11:case 15:Hl(g,w,R,q,d),iu(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Hl(g,w,R,q,d):ou(g,w):(ie._visibility|=2,Hl(g,w,R,q,d)),d&&W&2048&&Mp(w.alternate,w);break;case 24:Hl(g,w,R,q,d),d&&W&2048&&Pp(w.alternate,w);break;default:Hl(g,w,R,q,d)}i=i.sibling}}function ou(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=s,c=i,d=c.flags;switch(c.tag){case 22:ou(o,c),d&2048&&Mp(c.alternate,c);break;case 24:ou(o,c),d&2048&&Pp(c.alternate,c);break;default:ou(o,c)}i=i.sibling}}var lu=8192;function Fl(s,i,o){if(s.subtreeFlags&lu)for(s=s.child;s!==null;)Tb(s,i,o),s=s.sibling}function Tb(s,i,o){switch(s.tag){case 26:Fl(s,i,o),s.flags&lu&&s.memoizedState!==null&&WN(o,$s,s.memoizedState,s.memoizedProps);break;case 5:Fl(s,i,o);break;case 3:case 4:var c=$s;$s=If(s.stateNode.containerInfo),Fl(s,i,o),$s=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=lu,lu=16777216,Fl(s,i,o),lu=c):Fl(s,i,o));break;default:Fl(s,i,o)}}function Ab(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function cu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Dn=c,Nb(c,s)}Ab(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sb(s),s=s.sibling}function Sb(s){switch(s.tag){case 0:case 11:case 15:cu(s),s.flags&2048&&Fa(9,s,s.return);break;case 3:cu(s);break;case 12:cu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,yf(s)):cu(s);break;default:cu(s)}}function yf(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Dn=c,Nb(c,s)}Ab(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Fa(8,i,i.return),yf(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,yf(i));break;default:yf(i)}s=s.sibling}}function Nb(s,i){for(;Dn!==null;){var o=Dn;switch(o.tag){case 0:case 11:case 15:Fa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$c(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Dn=c;else e:for(o=s;Dn!==null;){c=Dn;var d=c.sibling,g=c.return;if(yb(c),c===o){Dn=null;break e}if(d!==null){d.return=g,Dn=d;break e}Dn=g}}}var fN={getCacheForType:function(s){var i=Fn(gn),o=i.data.get(s);return o===void 0&&(o=s(),i.data.set(s,o)),o},cacheSignal:function(){return Fn(gn).controller.signal}},dN=typeof WeakMap=="function"?WeakMap:Map,pt=0,St=null,Je=null,nt=0,vt=0,Zr=null,Ga=!1,Gl=!1,Vp=!1,la=0,on=0,$a=0,Jo=0,Up=0,Jr=0,$l=0,uu=null,jr=null,qp=!1,vf=0,Cb=0,bf=1/0,_f=null,Ka=null,An=0,Qa=null,Kl=null,ca=0,Bp=0,zp=null,Rb=null,hu=0,Hp=null;function es(){return(pt&2)!==0&&nt!==0?nt&-nt:B.T!==null?Yp():nn()}function Ib(){if(Jr===0)if((nt&536870912)===0||lt){var s=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),Jr=s}else Jr=536870912;return s=Xr.current,s!==null&&(s.flags|=32),Jr}function kr(s,i,o){(s===St&&(vt===2||vt===9)||s.cancelPendingCommit!==null)&&(Ql(s,0),Ya(s,nt,Jr,!1)),ls(s,o),((pt&2)===0||s!==St)&&(s===St&&((pt&2)===0&&(Jo|=o),on===4&&Ya(s,nt,Jr,!1)),vi(s))}function Ob(s,i,o){if((pt&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&s.expiredLanes)===0||Mn(s,i),d=c?gN(s,i):Gp(s,i,!0),g=c;do{if(d===0){Gl&&!c&&Ya(s,i,0,!1);break}else{if(o=s.current.alternate,g&&!mN(o)){d=Gp(s,i,!1),g=!1;continue}if(d===2){if(g=i,s.errorRecoveryDisabledLanes&g)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var R=s;d=uu;var q=R.current.memoizedState.isDehydrated;if(q&&(Ql(R,w).flags|=256),w=Gp(R,w,!1),w!==2){if(Vp&&!q){R.errorRecoveryDisabledLanes|=g,Jo|=g,d=4;break e}g=jr,jr=d,g!==null&&(jr===null?jr=g:jr.push.apply(jr,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){Ql(s,0),Ya(s,i,0,!0);break}e:{switch(c=s,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ya(c,i,Jr,!Ga);break e;case 2:jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=vf+300-Rt(),10<d)){if(Ya(c,i,Jr,!Ga),Rn(c,0,!0)!==0)break e;ca=i,c.timeoutHandle=l_(Db.bind(null,c,o,jr,_f,qp,i,Jr,Jo,$l,Ga,g,"Throttled",-0,0),d);break e}Db(c,o,jr,_f,qp,i,Jr,Jo,$l,Ga,g,null,-0,0)}}break}while(!0);vi(s)}function Db(s,i,o,c,d,g,w,R,q,W,ie,ue,ee,se){if(s.timeoutHandle=-1,ue=i.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rr},Tb(i,g,ue);var Se=(g&62914560)===g?vf-Rt():(g&4194048)===g?Cb-Rt():0;if(Se=ZN(ue,Se),Se!==null){ca=g,s.cancelPendingCommit=Se(qb.bind(null,s,i,g,o,c,d,w,R,q,ie,ue,null,ee,se)),Ya(s,g,w,!W);return}}qb(s,i,g,o,c,d,w,R,q)}function mN(s){for(var i=s;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Qr(g(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ya(s,i,o,c){i&=~Up,i&=~Jo,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var d=i;0<d;){var g=31-It(d),w=1<<g;c[g]=-1,d&=~w}o!==0&&Ps(s,o,i)}function Ef(){return(pt&6)===0?(fu(0),!1):!0}function Fp(){if(Je!==null){if(vt===0)var s=Je.return;else s=Je,Zi=Fo=null,ap(s),Vl=null,Qc=0,s=Je;for(;s!==null;)lb(s.alternate,s),s=s.return;Je=null}}function Ql(s,i){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,jN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ca=0,Fp(),St=s,Je=o=Xi(s.current,null),nt=i,vt=0,Zr=null,Ga=!1,Gl=Mn(s,i),Vp=!1,$l=Jr=Up=Jo=$a=on=0,jr=uu=null,qp=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var d=31-It(c),g=1<<d;i|=s[d],c&=~g}return la=i,Bh(),o}function Lb(s,i){Ge=null,B.H=nu,i===Pl||i===Yh?(i=Qv(),vt=3):i===Qm?(i=Qv(),vt=4):vt=i===xp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zr=i,Je===null&&(on=1,uf(s,bs(i,s.current)))}function jb(){var s=Xr.current;return s===null?!0:(nt&4194048)===nt?ws===null:(nt&62914560)===nt||(nt&536870912)!==0?s===ws:!1}function kb(){var s=B.H;return B.H=nu,s===null?nu:s}function Mb(){var s=B.A;return B.A=fN,s}function xf(){on=4,Ga||(nt&4194048)!==nt&&Xr.current!==null||(Gl=!0),($a&134217727)===0&&(Jo&134217727)===0||St===null||Ya(St,nt,Jr,!1)}function Gp(s,i,o){var c=pt;pt|=2;var d=kb(),g=Mb();(St!==s||nt!==i)&&(_f=null,Ql(s,i)),i=!1;var w=on;e:do try{if(vt!==0&&Je!==null){var R=Je,q=Zr;switch(vt){case 8:Fp(),w=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(i=!0);var W=vt;if(vt=0,Zr=null,Yl(s,R,q,W),o&&Gl){w=0;break e}break;default:W=vt,vt=0,Zr=null,Yl(s,R,q,W)}}pN(),w=on;break}catch(ie){Lb(s,ie)}while(!0);return i&&s.shellSuspendCounter++,Zi=Fo=null,pt=c,B.H=d,B.A=g,Je===null&&(St=null,nt=0,Bh()),w}function pN(){for(;Je!==null;)Pb(Je)}function gN(s,i){var o=pt;pt|=2;var c=kb(),d=Mb();St!==s||nt!==i?(_f=null,bf=Rt()+500,Ql(s,i)):Gl=Mn(s,i);e:do try{if(vt!==0&&Je!==null){i=Je;var g=Zr;t:switch(vt){case 1:vt=0,Zr=null,Yl(s,i,g,1);break;case 2:case 9:if($v(g)){vt=0,Zr=null,Vb(i);break}i=function(){vt!==2&&vt!==9||St!==s||(vt=7),vi(s)},g.then(i,i);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:$v(g)?(vt=0,Zr=null,Vb(i)):(vt=0,Zr=null,Yl(s,i,g,7));break;case 5:var w=null;switch(Je.tag){case 26:w=Je.memoizedState;case 5:case 27:var R=Je;if(w?w_(w):R.stateNode.complete){vt=0,Zr=null;var q=R.sibling;if(q!==null)Je=q;else{var W=R.return;W!==null?(Je=W,wf(W)):Je=null}break t}}vt=0,Zr=null,Yl(s,i,g,5);break;case 6:vt=0,Zr=null,Yl(s,i,g,6);break;case 8:Fp(),on=6;break e;default:throw Error(r(462))}}yN();break}catch(ie){Lb(s,ie)}while(!0);return Zi=Fo=null,B.H=c,B.A=d,pt=o,Je!==null?0:(St=null,nt=0,Bh(),on)}function yN(){for(;Je!==null&&!Ra();)Pb(Je)}function Pb(s){var i=ab(s.alternate,s,la);s.memoizedProps=s.pendingProps,i===null?wf(s):Je=i}function Vb(s){var i=s,o=i.alternate;switch(i.tag){case 15:case 0:i=eb(o,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=eb(o,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:ap(i);default:lb(o,i),i=Je=kv(i,la),i=ab(o,i,la)}s.memoizedProps=s.pendingProps,i===null?wf(s):Je=i}function Yl(s,i,o,c){Zi=Fo=null,ap(i),Vl=null,Qc=0;var d=i.return;try{if(iN(s,d,i,o,nt)){on=1,uf(s,bs(o,s.current)),Je=null;return}}catch(g){if(d!==null)throw Je=d,g;on=1,uf(s,bs(o,s.current)),Je=null;return}i.flags&32768?(lt||c===1?s=!0:Gl||(nt&536870912)!==0?s=!1:(Ga=s=!0,(c===2||c===9||c===3||c===6)&&(c=Xr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ub(i,s)):wf(i)}function wf(s){var i=s;do{if((i.flags&32768)!==0){Ub(i,Ga);return}s=i.return;var o=lN(i.alternate,i,la);if(o!==null){Je=o;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=s}while(i!==null);on===0&&(on=5)}function Ub(s,i){do{var o=cN(s.alternate,s);if(o!==null){o.flags&=32767,Je=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(s=s.sibling,s!==null)){Je=s;return}Je=s=o}while(s!==null);on=6,Je=null}function qb(s,i,o,c,d,g,w,R,q){s.cancelPendingCommit=null;do Tf();while(An!==0);if((pt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Lm,Br(s,o,g,w,R,q),s===St&&(Je=St=null,nt=0),Kl=i,Qa=s,ca=o,Bp=g,zp=d,Rb=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,EN(hr,function(){return Gb(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,d=Z.p,Z.p=2,w=pt,pt|=4;try{uN(s,i,o)}finally{pt=w,Z.p=d,B.T=c}}An=1,Bb(),zb(),Hb()}}function Bb(){if(An===1){An=0;var s=Qa,i=Kl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var c=Z.p;Z.p=2;var d=pt;pt|=4;try{Eb(i,s);var g=rg,w=Sv(s.containerInfo),R=g.focusedElem,q=g.selectionRange;if(w!==R&&R&&R.ownerDocument&&Av(R.ownerDocument.documentElement,R)){if(q!==null&&Cm(R)){var W=q.start,ie=q.end;if(ie===void 0&&(ie=W),"selectionStart"in R)R.selectionStart=W,R.selectionEnd=Math.min(ie,R.value.length);else{var ue=R.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),Se=R.textContent.length,Pe=Math.min(q.start,Se),wt=q.end===void 0?Pe:Math.min(q.end,Se);!se.extend&&Pe>wt&&(w=wt,wt=Pe,Pe=w);var K=Tv(R,Pe),G=Tv(R,wt);if(K&&G&&(se.rangeCount!==1||se.anchorNode!==K.node||se.anchorOffset!==K.offset||se.focusNode!==G.node||se.focusOffset!==G.offset)){var X=ue.createRange();X.setStart(K.node,K.offset),se.removeAllRanges(),Pe>wt?(se.addRange(X),se.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),se.addRange(X))}}}}for(ue=[],se=R;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ue.length;R++){var ae=ue[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Mf=!!ng,rg=ng=null}finally{pt=d,Z.p=c,B.T=o}}s.current=i,An=2}}function zb(){if(An===2){An=0;var s=Qa,i=Kl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var c=Z.p;Z.p=2;var d=pt;pt|=4;try{gb(s,i.alternate,i)}finally{pt=d,Z.p=c,B.T=o}}An=3}}function Hb(){if(An===4||An===3){An=0,ki();var s=Qa,i=Kl,o=ca,c=Rb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?An=5:(An=0,Kl=Qa=null,Fb(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Ka=null),dr(o),i=i.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(fr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=B.T,d=Z.p,Z.p=2,B.T=null;try{for(var g=s.onRecoverableError,w=0;w<c.length;w++){var R=c[w];g(R.value,{componentStack:R.stack})}}finally{B.T=i,Z.p=d}}(ca&3)!==0&&Tf(),vi(s),d=s.pendingLanes,(o&261930)!==0&&(d&42)!==0?s===Hp?hu++:(hu=0,Hp=s):hu=0,fu(0)}}function Fb(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,$c(i)))}function Tf(){return Bb(),zb(),Hb(),Gb()}function Gb(){if(An!==5)return!1;var s=Qa,i=Bp;Bp=0;var o=dr(ca),c=B.T,d=Z.p;try{Z.p=32>o?32:o,B.T=null,o=zp,zp=null;var g=Qa,w=ca;if(An=0,Kl=Qa=null,ca=0,(pt&6)!==0)throw Error(r(331));var R=pt;if(pt|=4,Sb(g.current),wb(g,g.current,w,o),pt=R,fu(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(fr,g)}catch{}return!0}finally{Z.p=d,B.T=c,Fb(s,i)}}function $b(s,i,o){i=bs(o,i),i=Ep(s.stateNode,i,2),s=Ba(s,i,2),s!==null&&(ls(s,2),vi(s))}function bt(s,i,o){if(s.tag===3)$b(s,s,o);else for(;i!==null;){if(i.tag===3){$b(i,s,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ka===null||!Ka.has(c))){s=bs(o,s),o=$1(2),c=Ba(i,o,2),c!==null&&(K1(o,c,i,s),ls(c,2),vi(c));break}}i=i.return}}function $p(s,i,o){var c=s.pingCache;if(c===null){c=s.pingCache=new dN;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(Vp=!0,d.add(o),s=vN.bind(null,s,i,o),i.then(s,s))}function vN(s,i,o){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,St===s&&(nt&o)===o&&(on===4||on===3&&(nt&62914560)===nt&&300>Rt()-vf?(pt&2)===0&&Ql(s,0):Up|=o,$l===nt&&($l=0)),vi(s)}function Kb(s,i){i===0&&(i=ai()),s=Bo(s,i),s!==null&&(ls(s,i),vi(s))}function bN(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),Kb(s,o)}function _N(s,i){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),Kb(s,o)}function EN(s,i){return Ct(s,i)}var Af=null,Xl=null,Kp=!1,Sf=!1,Qp=!1,Xa=0;function vi(s){s!==Xl&&s.next===null&&(Xl===null?Af=Xl=s:Xl=Xl.next=s),Sf=!0,Kp||(Kp=!0,wN())}function fu(s,i){if(!Qp&&Sf){Qp=!0;do for(var o=!1,c=Af;c!==null;){if(s!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var w=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-It(42|s)+1)-1,g&=d&~(w&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Wb(c,g))}else g=nt,g=Rn(c,c===St?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Mn(c,g)||(o=!0,Wb(c,g));c=c.next}while(o);Qp=!1}}function xN(){Qb()}function Qb(){Sf=Kp=!1;var s=0;Xa!==0&&LN()&&(s=Xa);for(var i=Rt(),o=null,c=Af;c!==null;){var d=c.next,g=Yb(c,i);g===0?(c.next=null,o===null?Af=d:o.next=d,d===null&&(Xl=o)):(o=c,(s!==0||(g&3)!==0)&&(Sf=!0)),c=d}An!==0&&An!==5||fu(s),Xa!==0&&(Xa=0)}function Yb(s,i){for(var o=s.suspendedLanes,c=s.pingedLanes,d=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var w=31-It(g),R=1<<w,q=d[w];q===-1?((R&o)===0||(R&c)!==0)&&(d[w]=qi(R,i)):q<=i&&(s.expiredLanes|=R),g&=~R}if(i=St,o=nt,o=Rn(s,s===i?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===i&&(vt===2||vt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&xr(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Mn(s,o)){if(i=o&-o,i===s.callbackPriority)return i;switch(c!==null&&xr(c),dr(o)){case 2:case 8:o=Ur;break;case 32:o=hr;break;case 268435456:o=jn;break;default:o=hr}return c=Xb.bind(null,s),o=Ct(o,c),s.callbackPriority=i,s.callbackNode=o,i}return c!==null&&c!==null&&xr(c),s.callbackPriority=2,s.callbackNode=null,2}function Xb(s,i){if(An!==0&&An!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Tf()&&s.callbackNode!==o)return null;var c=nt;return c=Rn(s,s===St?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Ob(s,c,i),Yb(s,Rt()),s.callbackNode!=null&&s.callbackNode===o?Xb.bind(null,s):null)}function Wb(s,i){if(Tf())return null;Ob(s,i,!0)}function wN(){kN(function(){(pt&6)!==0?Ct(Mi,xN):Qb()})}function Yp(){if(Xa===0){var s=kl;s===0&&(s=kn,kn<<=1,(kn&261888)===0&&(kn=256)),Xa=s}return Xa}function Zb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:fi(""+s)}function Jb(s,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,s.id&&o.setAttribute("form",s.id),i.parentNode.insertBefore(o,i),s=new FormData(s),o.parentNode.removeChild(o),s}function TN(s,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var g=Zb((d[rn]||null).action),w=c.submitter;w&&(i=(i=w[rn]||null)?Zb(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var R=new Ae("action","action",null,c,d);s.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xa!==0){var q=w?Jb(d,w):new FormData(d);pp(o,{pending:!0,data:q,method:d.method,action:g},null,q)}}else typeof g=="function"&&(R.preventDefault(),q=w?Jb(d,w):new FormData(d),pp(o,{pending:!0,data:q,method:d.method,action:g},g,q))},currentTarget:d}]})}}for(var Xp=0;Xp<Dm.length;Xp++){var Wp=Dm[Xp],AN=Wp.toLowerCase(),SN=Wp[0].toUpperCase()+Wp.slice(1);Gs(AN,"on"+SN)}Gs(Rv,"onAnimationEnd"),Gs(Iv,"onAnimationIteration"),Gs(Ov,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(z2,"onTransitionRun"),Gs(H2,"onTransitionStart"),Gs(F2,"onTransitionCancel"),Gs(Dv,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function e_(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var R=c[w],q=R.instance,W=R.currentTarget;if(R=R.listener,q!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=W;try{g(d)}catch(ie){qh(ie)}d.currentTarget=null,g=q}else for(w=0;w<c.length;w++){if(R=c[w],q=R.instance,W=R.currentTarget,R=R.listener,q!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=W;try{g(d)}catch(ie){qh(ie)}d.currentTarget=null,g=q}}}}function et(s,i){var o=i[Zt];o===void 0&&(o=i[Zt]=new Set);var c=s+"__bubble";o.has(c)||(t_(i,s,2,!1),o.add(c))}function Zp(s,i,o){var c=0;i&&(c|=4),t_(o,s,c,i)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Jp(s){if(!s[Nf]){s[Nf]=!0,Hi.forEach(function(o){o!=="selectionchange"&&(NN.has(o)||Zp(o,!1,s),Zp(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Nf]||(i[Nf]=!0,Zp("selectionchange",!1,i))}}function t_(s,i,o,c){switch(I_(i)){case 2:var d=tC;break;case 8:d=nC;break;default:d=mg}o=d.bind(null,i,o,s),d=void 0,!gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?s.addEventListener(i,o,{capture:!0,passive:d}):s.addEventListener(i,o,!0):d!==void 0?s.addEventListener(i,o,{passive:d}):s.addEventListener(i,o,!1)}function eg(s,i,o,c,d){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===d)break;if(w===4)for(w=c.return;w!==null;){var q=w.tag;if((q===3||q===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;R!==null;){if(w=jt(R),w===null)return;if(q=w.tag,q===5||q===6||q===26||q===27){c=g=w;continue e}R=R.parentNode}}c=c.return}ps(function(){var W=g,ie=qn(o),ue=[];e:{var ee=Lv.get(s);if(ee!==void 0){var se=Ae,Se=s;switch(s){case"keypress":if(_(o)===0)break e;case"keydown":case"keyup":se=Ph;break;case"focusin":Se="focus",se=zn;break;case"focusout":Se="blur",se=zn;break;case"beforeblur":case"afterblur":se=zn;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=b;break;case Rv:case Iv:case Ov:se=Po;break;case Dv:se=D;break;case"scroll":case"scrollend":se=Xe;break;case"wheel":se=re;break;case"copy":case"cut":case"paste":se=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Yi;break;case"toggle":case"beforetoggle":se=Fe}var Pe=(i&4)!==0,wt=!Pe&&(s==="scroll"||s==="scrollend"),K=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var G=W,X;G!==null;){var ae=G;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||K===null||(ae=sr(G,K),ae!=null&&Pe.push(mu(G,ae,X))),wt)break;G=G.return}0<Pe.length&&(ee=new se(ee,Se,null,o,ie),ue.push({event:ee,listeners:Pe}))}}if((i&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",ee&&o!==ln&&(Se=o.relatedTarget||o.fromElement)&&(jt(Se)||Se[Ar]))break e;if((se||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(Se=o.relatedTarget||o.toElement,se=W,Se=Se?jt(Se):null,Se!==null&&(wt=l(Se),Pe=Se.tag,Se!==wt||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(se=null,Se=W),se!==Se)){if(Pe=Mt,ae="onMouseLeave",K="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=Yi,ae="onPointerLeave",K="onPointerEnter",G="pointer"),wt=se==null?ee:Pn(se),X=Se==null?ee:Pn(Se),ee=new Pe(ae,G+"leave",se,o,ie),ee.target=wt,ee.relatedTarget=X,ae=null,jt(ie)===W&&(Pe=new Pe(K,G+"enter",Se,o,ie),Pe.target=X,Pe.relatedTarget=wt,ae=Pe),wt=ae,se&&Se)t:{for(Pe=CN,K=se,G=Se,X=0,ae=K;ae;ae=Pe(ae))X++;ae=0;for(var je=G;je;je=Pe(je))ae++;for(;0<X-ae;)K=Pe(K),X--;for(;0<ae-X;)G=Pe(G),ae--;for(;X--;){if(K===G||G!==null&&K===G.alternate){Pe=K;break t}K=Pe(K),G=Pe(G)}Pe=null}else Pe=null;se!==null&&n_(ue,ee,se,Pe,!1),Se!==null&&wt!==null&&n_(ue,wt,Se,Pe,!0)}}e:{if(ee=W?Pn(W):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var ht=vv;else if(gv(ee))if(bv)ht=U2;else{ht=P2;var Ce=M2}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&hi(W.elementType)&&(ht=vv):ht=V2;if(ht&&(ht=ht(s,W))){yv(ue,ht,o,ie);break e}Ce&&Ce(s,ee,W),s==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&Gi(ee,"number",ee.value)}switch(Ce=W?Pn(W):window,s){case"focusin":(gv(Ce)||Ce.contentEditable==="true")&&(Nl=Ce,Rm=W,Hc=null);break;case"focusout":Hc=Rm=Nl=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,Nv(ue,o,ie);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":Nv(ue,o,ie)}var Ke;if(mt)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Sl?Vo(s,o)&&(rt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(mi&&o.locale!=="ko"&&(Sl||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Sl&&(Ke=Ki()):(yr=ie,qs="value"in yr?yr.value:yr.textContent,Sl=!0)),Ce=Cf(W,rt),0<Ce.length&&(rt=new di(rt,s,null,o,ie),ue.push({event:rt,listeners:Ce}),Ke?rt.data=Ke:(Ke=Al(o),Ke!==null&&(rt.data=Ke)))),(Ke=ys?D2(s,o):L2(s,o))&&(rt=Cf(W,"onBeforeInput"),0<rt.length&&(Ce=new di("onBeforeInput","beforeinput",null,o,ie),ue.push({event:Ce,listeners:rt}),Ce.data=Ke)),TN(ue,s,W,o,ie)}e_(ue,i)})}function mu(s,i,o){return{instance:s,listener:i,currentTarget:o}}function Cf(s,i){for(var o=i+"Capture",c=[];s!==null;){var d=s,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=sr(s,o),d!=null&&c.unshift(mu(s,d,g)),d=sr(s,i),d!=null&&c.push(mu(s,d,g))),s.tag===3)return c;s=s.return}return[]}function CN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function n_(s,i,o,c,d){for(var g=i._reactName,w=[];o!==null&&o!==c;){var R=o,q=R.alternate,W=R.stateNode;if(R=R.tag,q!==null&&q===c)break;R!==5&&R!==26&&R!==27||W===null||(q=W,d?(W=sr(o,g),W!=null&&w.unshift(mu(o,W,q))):d||(W=sr(o,g),W!=null&&w.push(mu(o,W,q)))),o=o.return}w.length!==0&&s.push({event:i,listeners:w})}var RN=/\r\n?/g,IN=/\u0000|\uFFFD/g;function r_(s){return(typeof s=="string"?s:""+s).replace(RN,`
`).replace(IN,"")}function s_(s,i){return i=r_(i),r_(s)===i}function xt(s,i,o,c,d,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||$t(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&$t(s,""+c);break;case"className":Un(s,"class",c);break;case"tabIndex":Un(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(s,o,c);break;case"style":nr(s,c,g);break;case"data":if(i!=="object"){Un(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=fi(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&xt(s,i,"name",d.name,d,null),xt(s,i,"formEncType",d.formEncType,d,null),xt(s,i,"formMethod",d.formMethod,d,null),xt(s,i,"formTarget",d.formTarget,d,null)):(xt(s,i,"encType",d.encType,d,null),xt(s,i,"method",d.method,d,null),xt(s,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=fi(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=rr);break;case"onScroll":c!=null&&et("scroll",s);break;case"onScrollEnd":c!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=fi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":et("beforetoggle",s),et("toggle",s),li(s,"popover",c);break;case"xlinkActuate":Gt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":li(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=La.get(o)||o,li(s,o,c))}}function tg(s,i,o,c,d,g){switch(o){case"style":nr(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof c=="string"?$t(s,c):(typeof c=="number"||typeof c=="bigint")&&$t(s,""+c);break;case"onScroll":c!=null&&et("scroll",s);break;case"onScrollEnd":c!=null&&et("scrollend",s);break;case"onClick":c!=null&&(s.onclick=rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!us.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),g=s[rn]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(i,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(i,c,d);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):li(s,o,c)}}}function $n(s,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:xt(s,i,g,w,o,null)}}d&&xt(s,i,"srcSet",o.srcSet,o,null),c&&xt(s,i,"src",o.src,o,null);return;case"input":et("invalid",s);var R=g=w=d=null,q=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var ie=o[c];if(ie!=null)switch(c){case"name":d=ie;break;case"type":w=ie;break;case"checked":q=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,i));break;default:xt(s,i,c,ie,o,null)}}ui(s,g,R,q,W,w,d,!1);return;case"select":et("invalid",s),c=w=g=null;for(d in o)if(o.hasOwnProperty(d)&&(R=o[d],R!=null))switch(d){case"value":g=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:xt(s,i,d,R,o,null)}i=g,o=w,s.multiple=!!c,i!=null?fs(s,!!c,i,!1):o!=null&&fs(s,!!c,o,!0);return;case"textarea":et("invalid",s),g=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":d=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:xt(s,i,w,R,o,null)}pn(s,c,d,g);return;case"option":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:xt(s,i,q,c,o,null)}return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(c=0;c<du.length;c++)et(du[c],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:xt(s,i,W,c,o,null)}return;default:if(hi(i)){for(ie in o)o.hasOwnProperty(ie)&&(c=o[ie],c!==void 0&&tg(s,i,ie,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&xt(s,i,R,c,o,null))}function ON(s,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,R=null,q=null,W=null,ie=null;for(se in o){var ue=o[se];if(o.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":q=ue;default:c.hasOwnProperty(se)||xt(s,i,se,null,c,ue)}}for(var ee in c){var se=c[ee];if(ue=o[ee],c.hasOwnProperty(ee)&&(se!=null||ue!=null))switch(ee){case"type":g=se;break;case"name":d=se;break;case"checked":W=se;break;case"defaultChecked":ie=se;break;case"value":w=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,i));break;default:se!==ue&&xt(s,i,ee,se,c,ue)}}ci(s,w,R,q,W,ie,g,d);return;case"select":se=w=R=ee=null;for(g in o)if(q=o[g],o.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":se=q;default:c.hasOwnProperty(g)||xt(s,i,g,null,c,q)}for(d in c)if(g=c[d],q=o[d],c.hasOwnProperty(d)&&(g!=null||q!=null))switch(d){case"value":ee=g;break;case"defaultValue":R=g;break;case"multiple":w=g;default:g!==q&&xt(s,i,d,g,c,q)}i=R,o=w,c=se,ee!=null?fs(s,!!o,ee,!1):!!c!=!!o&&(i!=null?fs(s,!!o,i,!0):fs(s,!!o,o?[]:"",!1));return;case"textarea":se=ee=null;for(R in o)if(d=o[R],o.hasOwnProperty(R)&&d!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:xt(s,i,R,null,c,d)}for(w in c)if(d=c[w],g=o[w],c.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":ee=d;break;case"defaultValue":se=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&xt(s,i,w,d,c,g)}ds(s,ee,se);return;case"option":for(var Se in o)if(ee=o[Se],o.hasOwnProperty(Se)&&ee!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:xt(s,i,Se,null,c,ee)}for(q in c)if(ee=c[q],se=o[q],c.hasOwnProperty(q)&&ee!==se&&(ee!=null||se!=null))switch(q){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:xt(s,i,q,ee,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)ee=o[Pe],o.hasOwnProperty(Pe)&&ee!=null&&!c.hasOwnProperty(Pe)&&xt(s,i,Pe,null,c,ee);for(W in c)if(ee=c[W],se=o[W],c.hasOwnProperty(W)&&ee!==se&&(ee!=null||se!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:xt(s,i,W,ee,c,se)}return;default:if(hi(i)){for(var wt in o)ee=o[wt],o.hasOwnProperty(wt)&&ee!==void 0&&!c.hasOwnProperty(wt)&&tg(s,i,wt,void 0,c,ee);for(ie in c)ee=c[ie],se=o[ie],!c.hasOwnProperty(ie)||ee===se||ee===void 0&&se===void 0||tg(s,i,ie,ee,c,se);return}}for(var K in o)ee=o[K],o.hasOwnProperty(K)&&ee!=null&&!c.hasOwnProperty(K)&&xt(s,i,K,null,c,ee);for(ue in c)ee=c[ue],se=o[ue],!c.hasOwnProperty(ue)||ee===se||ee==null&&se==null||xt(s,i,ue,ee,c,se)}function i_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,w=d.initiatorType,R=d.duration;if(g&&R&&i_(w)){for(w=0,R=d.responseEnd,c+=1;c<o.length;c++){var q=o[c],W=q.startTime;if(W>R)break;var ie=q.transferSize,ue=q.initiatorType;ie&&i_(ue)&&(q=q.responseEnd,w+=ie*(q<R?1:(R-W)/(q-W)))}if(--c,i+=8*(g+w)/(d.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ng=null,rg=null;function Rf(s){return s.nodeType===9?s:s.ownerDocument}function a_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function sg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ig=null;function LN(){var s=window.event;return s&&s.type==="popstate"?s===ig?!1:(ig=s,!0):(ig=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,jN=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,kN=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(s){return c_.resolve(null).then(s).catch(MN)}:l_;function MN(s){setTimeout(function(){throw s})}function Wa(s){return s==="head"}function u_(s,i){var o=i,c=0;do{var d=o.nextSibling;if(s.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(d),ec(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")pu(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,pu(o);for(var g=o.firstChild;g;){var w=g.nextSibling,R=g.nodeName;g[Sr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&pu(s.ownerDocument.body);o=d}while(o);ec(i)}function h_(s,i){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function ag(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),oi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function PN(s,i,o,c){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Sr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Ts(s.nextSibling),s===null)break}return null}function VN(s,i,o){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ts(s.nextSibling),s===null))return null;return s}function f_(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=Ts(s.nextSibling),s===null))return null;return s}function og(s){return s.data==="$?"||s.data==="$~"}function lg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function UN(s,i){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Ts(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var cg=null;function d_(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(i===0)return Ts(s.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}s=s.nextSibling}return null}function m_(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return s;i--}else o!=="/$"&&o!=="/&"||i++}s=s.previousSibling}return null}function p_(s,i,o){switch(i=Rf(o),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function pu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);oi(s)}var As=new Map,g_=new Set;function If(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ua=Z.d;Z.d={f:qN,r:BN,D:zN,C:HN,L:FN,m:GN,X:KN,S:$N,M:QN};function qN(){var s=ua.f(),i=Ef();return s||i}function BN(s){var i=er(s);i!==null&&i.tag===5&&i.type==="form"?D1(i):ua.r(s)}var Wl=typeof document>"u"?null:document;function y_(s,i,o){var c=Wl;if(c&&typeof i=="string"&&i){var d=In(i);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),g_.has(d)||(g_.add(d),s={rel:s,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),$n(i,"link",s),Ft(i),c.head.appendChild(i)))}}function zN(s){ua.D(s),y_("dns-prefetch",s,null)}function HN(s,i){ua.C(s,i),y_("preconnect",s,i)}function FN(s,i,o){ua.L(s,i,o);var c=Wl;if(c&&s&&i){var d='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+In(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+In(o.imageSizes)+'"]')):d+='[href="'+In(s)+'"]';var g=d;switch(i){case"style":g=Zl(s);break;case"script":g=Jl(s)}As.has(g)||(s=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:s,as:i},o),As.set(g,s),c.querySelector(d)!==null||i==="style"&&c.querySelector(gu(g))||i==="script"&&c.querySelector(yu(g))||(i=c.createElement("link"),$n(i,"link",s),Ft(i),c.head.appendChild(i)))}}function GN(s,i){ua.m(s,i);var o=Wl;if(o&&s){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+In(c)+'"][href="'+In(s)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Jl(s)}if(!As.has(g)&&(s=E({rel:"modulepreload",href:s},i),As.set(g,s),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(g)))return}c=o.createElement("link"),$n(c,"link",s),Ft(c),o.head.appendChild(c)}}}function $N(s,i,o){ua.S(s,i,o);var c=Wl;if(c&&s){var d=Nr(c).hoistableStyles,g=Zl(s);i=i||"default";var w=d.get(g);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(gu(g)))R.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":i},o),(o=As.get(g))&&ug(s,o);var q=w=c.createElement("link");Ft(q),$n(q,"link",s),q._p=new Promise(function(W,ie){q.onload=W,q.onerror=ie}),q.addEventListener("load",function(){R.loading|=1}),q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Of(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:R},d.set(g,w)}}}function KN(s,i){ua.X(s,i);var o=Wl;if(o&&s){var c=Nr(o).hoistableScripts,d=Jl(s),g=c.get(d);g||(g=o.querySelector(yu(d)),g||(s=E({src:s,async:!0},i),(i=As.get(d))&&hg(s,i),g=o.createElement("script"),Ft(g),$n(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function QN(s,i){ua.M(s,i);var o=Wl;if(o&&s){var c=Nr(o).hoistableScripts,d=Jl(s),g=c.get(d);g||(g=o.querySelector(yu(d)),g||(s=E({src:s,async:!0,type:"module"},i),(i=As.get(d))&&hg(s,i),g=o.createElement("script"),Ft(g),$n(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function v_(s,i,o,c){var d=(d=Te.current)?If(d):null;if(!d)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Zl(o.href),o=Nr(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Zl(o.href);var g=Nr(d).hoistableStyles,w=g.get(s);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,w),(g=d.querySelector(gu(s)))&&!g._p&&(w.instance=g,w.state.loading=5),As.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},As.set(s,o),g||YN(d,s,o,w.state))),i&&c===null)throw Error(r(528,""));return w}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Jl(o),o=Nr(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Zl(s){return'href="'+In(s)+'"'}function gu(s){return'link[rel="stylesheet"]['+s+"]"}function b_(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function YN(s,i,o,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),$n(i,"link",o),Ft(i),s.head.appendChild(i))}function Jl(s){return'[src="'+In(s)+'"]'}function yu(s){return"script[async]"+s}function __(s,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+In(o.href)+'"]');if(c)return i.instance=c,Ft(c),c;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ft(c),$n(c,"style",d),Of(c,o.precedence,s),i.instance=c;case"stylesheet":d=Zl(o.href);var g=s.querySelector(gu(d));if(g)return i.state.loading|=4,i.instance=g,Ft(g),g;c=b_(o),(d=As.get(d))&&ug(c,d),g=(s.ownerDocument||s).createElement("link"),Ft(g);var w=g;return w._p=new Promise(function(R,q){w.onload=R,w.onerror=q}),$n(g,"link",c),i.state.loading|=4,Of(g,o.precedence,s),i.instance=g;case"script":return g=Jl(o.src),(d=s.querySelector(yu(g)))?(i.instance=d,Ft(d),d):(c=o,(d=As.get(g))&&(c=E({},o),hg(c,d)),s=s.ownerDocument||s,d=s.createElement("script"),Ft(d),$n(d,"link",c),s.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Of(c,o.precedence,s));return i.instance}function Of(s,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===i)g=R;else if(g!==d)break}g?g.parentNode.insertBefore(s,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(s,i.firstChild))}function ug(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function hg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Df=null;function E_(s,i,o){if(Df===null){var c=new Map,d=Df=new Map;d.set(o,c)}else d=Df,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var g=o[d];if(!(g[Sr]||g[Ht]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=s+w;var R=c.get(w);R?R.push(g):c.set(w,[g])}}return c}function x_(s,i,o){s=s.ownerDocument||s,s.head.insertBefore(o,i==="title"?s.querySelector("head > title"):null)}function XN(s,i,o){if(o===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function w_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function WN(s,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Zl(c.href),g=i.querySelector(gu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Lf.bind(s),i.then(s,s)),o.state.loading|=4,o.instance=g,Ft(g);return}g=i.ownerDocument||i,c=b_(c),(d=As.get(d))&&ug(c,d),g=g.createElement("link"),Ft(g);var w=g;w._p=new Promise(function(R,q){w.onload=R,w.onerror=q}),$n(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Lf.bind(s),i.addEventListener("load",o),i.addEventListener("error",o))}}var fg=0;function ZN(s,i){return s.stylesheets&&s.count===0&&kf(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&kf(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+i);0<s.imgBytes&&fg===0&&(fg=62500*DN());var d=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&kf(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>fg?50:800)+i);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var jf=null;function kf(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,jf=new Map,i.forEach(JN,s),jf=null,Lf.call(s))}function JN(s,i){if(!(i.state.loading&4)){var o=jf.get(s);if(o)var c=o.get(null);else{o=new Map,jf.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=i.instance,w=d.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,d),o.set(w,d),this.count++,c=Lf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),i.state.loading|=4}}var vu={$$typeof:J,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function eC(s,i,o,c,d,g,w,R,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function T_(s,i,o,c,d,g,w,R,q,W,ie,ue){return s=new eC(s,i,o,w,q,W,ie,ue,R),i=1,g===!0&&(i|=24),g=Yr(3,null,null,i),s.current=g,g.stateNode=s,i=Gm(),i.refCount++,s.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Ym(g),s}function A_(s){return s?(s=Il,s):Il}function S_(s,i,o,c,d,g){d=A_(d),c.context===null?c.context=d:c.pendingContext=d,c=qa(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ba(s,c,i),o!==null&&(kr(o,s,i),Xc(o,s,i))}function N_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function dg(s,i){N_(s,i),(s=s.alternate)&&N_(s,i)}function C_(s){if(s.tag===13||s.tag===31){var i=Bo(s,67108864);i!==null&&kr(i,s,67108864),dg(s,67108864)}}function R_(s){if(s.tag===13||s.tag===31){var i=es();i=cs(i);var o=Bo(s,i);o!==null&&kr(o,s,i),dg(s,i)}}var Mf=!0;function tC(s,i,o,c){var d=B.T;B.T=null;var g=Z.p;try{Z.p=2,mg(s,i,o,c)}finally{Z.p=g,B.T=d}}function nC(s,i,o,c){var d=B.T;B.T=null;var g=Z.p;try{Z.p=8,mg(s,i,o,c)}finally{Z.p=g,B.T=d}}function mg(s,i,o,c){if(Mf){var d=pg(c);if(d===null)eg(s,i,c,Pf,o),O_(s,c);else if(sC(d,s,i,o,c))c.stopPropagation();else if(O_(s,c),i&4&&-1<rC.indexOf(s)){for(;d!==null;){var g=er(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Jn(g.pendingLanes);if(w!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var q=1<<31-It(w);R.entanglements[1]|=q,w&=~q}vi(g),(pt&6)===0&&(bf=Rt()+500,fu(0))}}break;case 31:case 13:R=Bo(g,2),R!==null&&kr(R,g,2),Ef(),dg(g,2)}if(g=pg(c),g===null&&eg(s,i,c,Pf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else eg(s,i,c,null,o)}}function pg(s){return s=qn(s),gg(s)}var Pf=null;function gg(s){if(Pf=null,s=jt(s),s!==null){var i=l(s);if(i===null)s=null;else{var o=i.tag;if(o===13){if(s=u(i),s!==null)return s;s=null}else if(o===31){if(s=f(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Pf=s,null}function I_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wr()){case Mi:return 2;case Ur:return 8;case hr:case Pi:return 32;case jn:return 268435456;default:return 32}default:return 32}}var yg=!1,Za=null,Ja=null,eo=null,bu=new Map,_u=new Map,to=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(s,i){switch(s){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":bu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(i.pointerId)}}function Eu(s,i,o,c,d,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=er(i),i!==null&&C_(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),s)}function sC(s,i,o,c,d){switch(i){case"focusin":return Za=Eu(Za,s,i,o,c,d),!0;case"dragenter":return Ja=Eu(Ja,s,i,o,c,d),!0;case"mouseover":return eo=Eu(eo,s,i,o,c,d),!0;case"pointerover":var g=d.pointerId;return bu.set(g,Eu(bu.get(g)||null,s,i,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,_u.set(g,Eu(_u.get(g)||null,s,i,o,c,d)),!0}return!1}function D_(s){var i=jt(s.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){s.blockedOn=i,mr(s.priority,function(){R_(o)});return}}else if(i===31){if(i=f(o),i!==null){s.blockedOn=i,mr(s.priority,function(){R_(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=pg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);ln=c,o.target.dispatchEvent(c),ln=null}else return i=er(o),i!==null&&C_(i),s.blockedOn=o,!1;i.shift()}return!0}function L_(s,i,o){Vf(s)&&o.delete(i)}function iC(){yg=!1,Za!==null&&Vf(Za)&&(Za=null),Ja!==null&&Vf(Ja)&&(Ja=null),eo!==null&&Vf(eo)&&(eo=null),bu.forEach(L_),_u.forEach(L_)}function Uf(s,i){s.blockedOn===i&&(s.blockedOn=null,yg||(yg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,iC)))}var qf=null;function j_(s){qf!==s&&(qf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qf===s&&(qf=null);for(var i=0;i<s.length;i+=3){var o=s[i],c=s[i+1],d=s[i+2];if(typeof c!="function"){if(gg(c||o)===null)continue;break}var g=er(o);g!==null&&(s.splice(i,3),i-=3,pp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function ec(s){function i(q){return Uf(q,s)}Za!==null&&Uf(Za,s),Ja!==null&&Uf(Ja,s),eo!==null&&Uf(eo,s),bu.forEach(i),_u.forEach(i);for(var o=0;o<to.length;o++){var c=to[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<to.length&&(o=to[0],o.blockedOn===null);)D_(o),o.blockedOn===null&&to.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],w=d[rn]||null;if(typeof g=="function")w||j_(o);else if(w){var R=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[rn]||null)R=w.formAction;else if(gg(d)!==null)continue}else R=w.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),j_(o)}}}function k_(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function vg(s){this._internalRoot=s}Bf.prototype.render=vg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=es();S_(o,c,s,i,null,null)},Bf.prototype.unmount=vg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;S_(s.current,2,null,s,null,null),Ef(),i[Ar]=null}};function Bf(s){this._internalRoot=s}Bf.prototype.unstable_scheduleHydration=function(s){if(s){var i=nn();s={blockedOn:null,target:s,priority:i};for(var o=0;o<to.length&&i!==0&&i<to[o].priority;o++);to.splice(o,0,s),o===0&&D_(s)}};var M_=e.version;if(M_!=="19.2.1")throw Error(r(527,M_,"19.2.1"));Z.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var aC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{fr=zf.inject(aC),Wt=zf}catch{}}return wu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var o=!1,c="",d=z1,g=H1,w=F1;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=T_(s,1,!1,null,null,o,c,null,d,g,w,k_),s[Ar]=i.current,Jp(s),new vg(i)},wu.hydrateRoot=function(s,i,o){if(!a(s))throw Error(r(299));var c=!1,d="",g=z1,w=H1,R=F1,q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),i=T_(s,1,!0,i,o??null,c,d,q,g,w,R,k_),i.context=A_(null),o=i.current,c=es(),c=cs(c),d=qa(c),d.callback=null,Ba(o,d,c),o=c,i.current.lanes=o,ls(i,o),vi(i),s[Ar]=i.current,Jp(s),new Bf(i)},wu.version="19.2.1",wu}var $_;function yC(){if($_)return Eg.exports;$_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eg.exports=gC(),Eg.exports}var vC=yC();var K_="popstate";function bC(n={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=ml(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ty("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Gu(l))}function r(a,l){is(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return EC(e,t,r,n)}function Xt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function is(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _C(){return Math.random().toString(36).substring(2,10)}function Q_(n,e){return{usr:n.state,key:n.key,idx:e}}function ty(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:t,key:e&&e.key||r||_C()}}function Gu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ml(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function EC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function E(){f="POP";let I=v(),z=I==null?null:I-p;p=I,m&&m({action:f,location:L.location,delta:z})}function x(I,z){f="PUSH";let $=ty(L.location,I,z);t&&t($,I),p=v()+1;let J=Q_($,p),te=L.createHref($);try{u.pushState(J,"",te)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(te)}l&&m&&m({action:f,location:L.location,delta:1})}function A(I,z){f="REPLACE";let $=ty(L.location,I,z);t&&t($,I),p=v();let J=Q_($,p),te=L.createHref($);u.replaceState(J,"",te),l&&m&&m({action:f,location:L.location,delta:0})}function C(I){return xC(I)}let L={get action(){return f},get location(){return n(a,u)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(K_,E),m=I,()=>{a.removeEventListener(K_,E),m=null}},createHref(I){return e(a,I)},createURL:C,encodeLocation(I){let z=C(I);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:A,go(I){return u.go(I)}};return L}function xC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Gu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Pw(n,e,t="/"){return wC(n,e,t,!1)}function wC(n,e,t,r){let a=typeof e=="string"?ml(e):e,l=ga(a.pathname||"/",t);if(l==null)return null;let u=Vw(n);TC(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=kC(l);f=LC(u[m],p,r)}return f}function Vw(n,e=[],t=[],r="",a=!1){let l=(u,f,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;Xt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=ma([r,v.relativePath]),x=t.concat(v);u.children&&u.children.length>0&&(Xt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Vw(u.children,e,x,E,m)),!(u.path==null&&!u.index)&&e.push({path:E,score:OC(E,u.index),routesMeta:x})};return n.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of Uw(u.path))l(u,f,!0,m)}),e}function Uw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=Uw(r.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function TC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AC=/^:[\w-]+$/,SC=3,NC=2,CC=1,RC=10,IC=-2,Y_=n=>n==="*";function OC(n,e){let t=n.split("/"),r=t.length;return t.some(Y_)&&(r+=IC),e&&(r+=NC),t.filter(a=>!Y_(a)).reduce((a,l)=>a+(AC.test(l)?SC:l===""?CC:RC),r)}function DC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function LC(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",u=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),x=m.route;if(!E&&p&&t&&!r[r.length-1].route.index&&(E=Ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:ma([l,E.pathname]),pathnameBase:qC(ma([l,E.pathnameBase])),route:x}),E.pathnameBase!=="/"&&(l=ma([l,E.pathnameBase]))}return u}function Ed(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:E},x)=>{if(v==="*"){let C=f[x]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=f[x];return E&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function jC(n,e=!1,t=!0){is(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function kC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return is(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var MC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PC=n=>MC.test(n);function VC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?ml(n):n,l;if(t)if(PC(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),is(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=X_(t.substring(1),"/"):l=X_(t,e)}else l=e;return{pathname:l,search:BC(r),hash:zC(a)}}function X_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ag(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qy(n){let e=UC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Yy(n,e,t,r=!1){let a;typeof n=="string"?a=ml(n):(a={...n},Xt(!a.pathname||!a.pathname.includes("?"),Ag("?","pathname","search",a)),Xt(!a.pathname||!a.pathname.includes("#"),Ag("#","pathname","hash",a)),Xt(!a.search||!a.search.includes("#"),Ag("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),E-=1;a.pathname=x.join("/")}f=E>=0?e[E]:"/"}let m=VC(a,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ma=n=>n.join("/").replace(/\/\/+/g,"/"),qC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function FC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qw=["POST","PUT","PATCH","DELETE"];new Set(qw);var GC=["GET",...qw];new Set(GC);var Cc=H.createContext(null);Cc.displayName="DataRouter";var Kd=H.createContext(null);Kd.displayName="DataRouterState";H.createContext(!1);var Bw=H.createContext({isTransitioning:!1});Bw.displayName="ViewTransition";var $C=H.createContext(new Map);$C.displayName="Fetchers";var KC=H.createContext(null);KC.displayName="Await";var js=H.createContext(null);js.displayName="Navigation";var lh=H.createContext(null);lh.displayName="Location";var ks=H.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var Xy=H.createContext(null);Xy.displayName="RouteError";function QC(n,{relative:e}={}){Xt(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=H.useContext(js),{hash:a,pathname:l,search:u}=uh(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ma([t,l])),r.createHref({pathname:f,search:u,hash:a})}function Rc(){return H.useContext(lh)!=null}function Co(){return Xt(Rc(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(lh).location}var zw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hw(n){H.useContext(js).static||H.useLayoutEffect(n)}function Oi(){let{isDataRoute:n}=H.useContext(ks);return n?cR():YC()}function YC(){Xt(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Cc),{basename:e,navigator:t}=H.useContext(js),{matches:r}=H.useContext(ks),{pathname:a}=Co(),l=JSON.stringify(Qy(r)),u=H.useRef(!1);return Hw(()=>{u.current=!0}),H.useCallback((m,p={})=>{if(is(u.current,zw),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=Yy(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ma([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}var XC=H.createContext(null);function WC(n){let e=H.useContext(ks).outlet;return H.useMemo(()=>e&&H.createElement(XC.Provider,{value:n},e),[e,n])}function ch(){let{matches:n}=H.useContext(ks),e=n[n.length-1];return e?e.params:{}}function uh(n,{relative:e}={}){let{matches:t}=H.useContext(ks),{pathname:r}=Co(),a=JSON.stringify(Qy(t));return H.useMemo(()=>Yy(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function ZC(n,e){return Fw(n,e)}function Fw(n,e,t,r,a){Xt(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=H.useContext(js),{matches:u}=H.useContext(ks),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";Gw(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let x=Co(),A;if(e){let $=typeof e=="string"?ml(e):e;Xt(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=x;let C=A.pathname||"/",L=C;if(v!=="/"){let $=v.replace(/^\//,"").split("/");L="/"+C.replace(/^\//,"").split("/").slice($.length).join("/")}let I=Pw(n,{pathname:L});is(E||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),is(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=rR(I&&I.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:ma([v,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:ma([v,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,t,r,a);return e&&z?H.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function JC(){let n=lR(),e=HC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:a},t):null,u)}var eR=H.createElement(JC,null),tR=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?H.createElement(ks.Provider,{value:this.props.routeContext},H.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nR({routeContext:n,match:e,children:t}){let r=H.useContext(Cc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ks.Provider,{value:n},t)}function rR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let v=l.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);Xt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=v),E.route.id){let{loaderData:x,errors:A}=t,C=E.route.loader&&!x.hasOwnProperty(E.route.id)&&(!A||A[E.route.id]===void 0);if(E.route.lazy||C){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=t&&r?(v,E)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:FC(t.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,x)=>{let A,C=!1,L=null,I=null;t&&(A=u&&E.route.id?u[E.route.id]:void 0,L=E.route.errorElement||eR,f&&(m<0&&x===0?(Gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,I=null):m===x&&(C=!0,I=E.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,x+1)),$=()=>{let J;return A?J=L:C?J=I:E.route.Component?J=H.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=v,H.createElement(nR,{match:E,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:J})};return t&&(E.route.ErrorBoundary||E.route.errorElement||x===0)?H.createElement(tR,{location:t.location,revalidation:t.revalidation,component:L,error:A,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):$()},null)}function Wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(n){let e=H.useContext(Cc);return Xt(e,Wy(n)),e}function iR(n){let e=H.useContext(Kd);return Xt(e,Wy(n)),e}function aR(n){let e=H.useContext(ks);return Xt(e,Wy(n)),e}function Zy(n){let e=aR(n),t=e.matches[e.matches.length-1];return Xt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oR(){return Zy("useRouteId")}function lR(){let n=H.useContext(Xy),e=iR("useRouteError"),t=Zy("useRouteError");return n!==void 0?n:e.errors?.[t]}function cR(){let{router:n}=sR("useNavigate"),e=Zy("useNavigate"),t=H.useRef(!1);return Hw(()=>{t.current=!0}),H.useCallback(async(a,l={})=>{is(t.current,zw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var W_={};function Gw(n,e,t){!e&&!W_[n]&&(W_[n]=!0,is(!1,t))}H.memo(uR);function uR({routes:n,future:e,state:t,unstable_onError:r}){return Fw(n,void 0,t,r,e)}function hR({to:n,replace:e,state:t,relative:r}){Xt(Rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=H.useContext(js);is(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=H.useContext(ks),{pathname:u}=Co(),f=Oi(),m=Yy(n,Qy(l),u,r==="path"),p=JSON.stringify(m);return H.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function fR(n){return WC(n.context)}function Sn(n){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Xt(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof t=="string"&&(t=ml(t));let{pathname:p="/",search:v="",hash:E="",state:x=null,key:A="default"}=t,C=H.useMemo(()=>{let L=ga(p,f);return L==null?null:{location:{pathname:L,search:v,hash:E,state:x,key:A},navigationType:r}},[f,p,v,E,x,A,r]);return is(C!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:H.createElement(js.Provider,{value:m},H.createElement(lh.Provider,{children:e,value:C}))}function mR({children:n,location:e}){return ZC(ny(n),e)}function ny(n,e=[]){let t=[];return H.Children.forEach(n,(r,a)=>{if(!H.isValidElement(r))return;let l=[...e,a];if(r.type===H.Fragment){t.push.apply(t,ny(r.props.children,l));return}Xt(r.type===Sn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ny(r.props.children,l)),t.push(u)}),t}var ld="get",cd="application/x-www-form-urlencoded";function Qd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function pR(n){return Qd(n)&&n.tagName.toLowerCase()==="button"}function gR(n){return Qd(n)&&n.tagName.toLowerCase()==="form"}function yR(n){return Qd(n)&&n.tagName.toLowerCase()==="input"}function vR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bR(n,e){return n.button===0&&(!e||e==="_self")&&!vR(n)}var Hf=null;function _R(){if(Hf===null)try{new FormData(document.createElement("form"),0),Hf=!1}catch{Hf=!0}return Hf}var ER=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sg(n){return n!=null&&!ER.has(n)?(is(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):n}function xR(n,e){let t,r,a,l,u;if(gR(n)){let f=n.getAttribute("action");r=f?ga(f,e):null,t=n.getAttribute("method")||ld,a=Sg(n.getAttribute("enctype"))||cd,l=new FormData(n)}else if(pR(n)||yR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?ga(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||ld,a=Sg(n.getAttribute("formenctype"))||Sg(f.getAttribute("enctype"))||cd,l=new FormData(f,n),!_R()){let{name:p,type:v,value:E}=n;if(v==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,E)}}else{if(Qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ld,r=null,a=cd,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ga(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function TR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await TR(l,t);return u.links?u.links():[]}return[]}));return IR(r.flat(1).filter(AR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Z_(n,e,t,r,a,l){let u=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function NR(n,e,{includeHydrateFallback:t}={}){return CR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function CR(n){return[...new Set(n)]}function RR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function IR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(RR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function $w(){let n=H.useContext(Cc);return Jy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function OR(){let n=H.useContext(Kd);return Jy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var e0=H.createContext(void 0);e0.displayName="FrameworkContext";function Kw(){let n=H.useContext(e0);return Jy(n,"You must render this element inside a <HydratedRouter> element"),n}function DR(n,e){let t=H.useContext(e0),[r,a]=H.useState(!1),[l,u]=H.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,x=H.useRef(null);H.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let L=z=>{z.forEach($=>{u($.isIntersecting)})},I=new IntersectionObserver(L,{threshold:.5});return x.current&&I.observe(x.current),()=>{I.disconnect()}}},[n]),H.useEffect(()=>{if(r){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[r]);let A=()=>{a(!0)},C=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:Tu(f,A),onBlur:Tu(m,C),onMouseEnter:Tu(p,A),onMouseLeave:Tu(v,C),onTouchStart:Tu(E,A)}]:[!1,x,{}]}function Tu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function LR({page:n,...e}){let{router:t}=$w(),r=H.useMemo(()=>Pw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?H.createElement(kR,{page:n,matches:r,...e}):null}function jR(n){let{manifest:e,routeModules:t}=Kw(),[r,a]=H.useState([]);return H.useEffect(()=>{let l=!1;return SR(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),r}function kR({page:n,matches:e,...t}){let r=Co(),{manifest:a,routeModules:l}=Kw(),{basename:u}=$w(),{loaderData:f,matches:m}=OR(),p=H.useMemo(()=>Z_(n,e,m,a,r,"data"),[n,e,m,a,r]),v=H.useMemo(()=>Z_(n,e,m,a,r,"assets"),[n,e,m,a,r]),E=H.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,L=!1;if(e.forEach(z=>{let $=a.routes[z.route.id];!$||!$.hasLoader||(!p.some(J=>J.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||$.hasClientLoader?L=!0:C.add(z.route.id))}),C.size===0)return[];let I=wR(n,u,"data");return L&&C.size>0&&I.searchParams.set("_routes",e.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[I.pathname+I.search]},[u,f,r,a,p,e,n,l]),x=H.useMemo(()=>NR(v,a),[v,a]),A=jR(v);return H.createElement(H.Fragment,null,E.map(C=>H.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),x.map(C=>H.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),A.map(({key:C,link:L})=>H.createElement("link",{key:C,nonce:t.nonce,...L})))}function MR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qw&&(window.__reactRouterVersion="7.10.1")}catch{}function PR({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=H.useRef();a.current==null&&(a.current=bC({window:r,v5Compat:!0}));let l=a.current,[u,f]=H.useState({action:l.action,location:l.location}),m=H.useCallback(p=>{t===!1?f(p):H.startTransition(()=>f(p))},[t]);return H.useLayoutEffect(()=>l.listen(m),[l,m]),H.createElement(dR,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var Yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=H.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:E,...x},A){let{basename:C,unstable_useTransitions:L}=H.useContext(js),I=typeof p=="string"&&Yw.test(p),z,$=!1;if(typeof p=="string"&&I&&(z=p,Qw))try{let F=new URL(window.location.href),S=p.startsWith("//")?new URL(F.protocol+p):new URL(p),k=ga(S.pathname,C);S.origin===F.origin&&k!=null?p=k+S.search+S.hash:$=!0}catch{is(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=QC(p,{relative:a}),[te,de,xe]=DR(r,x),M=qR(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:E,unstable_useTransitions:L});function j(F){e&&e(F),F.defaultPrevented||M(F)}let P=H.createElement("a",{...x,...xe,href:z||J,onClick:$||l?e:j,ref:MR(A,de),target:m,"data-discover":!I&&t==="render"?"true":void 0});return te&&!I?H.createElement(H.Fragment,null,P,H.createElement(LR,{page:J})):P});Nt.displayName="Link";var Xw=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let E=uh(u,{relative:p.relative}),x=Co(),A=H.useContext(Kd),{navigator:C,basename:L}=H.useContext(js),I=A!=null&&GR(E)&&f===!0,z=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,$=x.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||($=$.toLowerCase(),J=J?J.toLowerCase():null,z=z.toLowerCase()),J&&L&&(J=ga(J,L)||J);const te=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let de=$===z||!a&&$.startsWith(z)&&$.charAt(te)==="/",xe=J!=null&&(J===z||!a&&J.startsWith(z)&&J.charAt(z.length)==="/"),M={isActive:de,isPending:xe,isTransitioning:I},j=de?e:void 0,P;typeof r=="function"?P=r(M):P=[r,de?"active":null,xe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(M):l;return H.createElement(Nt,{...p,"aria-current":j,className:P,ref:v,style:F,to:u,viewTransition:f},typeof m=="function"?m(M):m)});Xw.displayName="NavLink";var VR=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:u=ld,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:E,...x},A)=>{let{unstable_useTransitions:C}=H.useContext(js),L=HR(),I=FR(f,{relative:p}),z=u.toLowerCase()==="get"?"get":"post",$=typeof f=="string"&&Yw.test(f),J=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let de=te.nativeEvent.submitter,xe=de?.getAttribute("formmethod")||u,M=()=>L(de||te.currentTarget,{fetcherKey:e,method:xe,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:E});C&&t!==!1?H.startTransition(()=>M()):M()};return H.createElement("form",{ref:A,method:z,action:I,onSubmit:r?m:J,...x,"data-discover":!$&&n==="render"?"true":void 0})});VR.displayName="Form";function UR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(n){let e=H.useContext(Cc);return Xt(e,UR(n)),e}function qR(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_useTransitions:f}={}){let m=Oi(),p=Co(),v=uh(n,{relative:l});return H.useCallback(E=>{if(bR(E,e)){E.preventDefault();let x=t!==void 0?t:Gu(p)===Gu(v),A=()=>m(n,{replace:x,state:r,preventScrollReset:a,relative:l,viewTransition:u});f?H.startTransition(()=>A()):A()}},[p,m,v,t,r,e,n,a,l,u,f])}var BR=0,zR=()=>`__${String(++BR)}__`;function HR(){let{router:n}=Ww("useSubmit"),{basename:e}=H.useContext(js),t=oR(),r=n.fetch,a=n.navigate;return H.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:v,body:E}=xR(l,e);if(u.navigate===!1){let x=u.fetcherKey||zR();await r(x,t,u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,t])}function FR(n,{relative:e}={}){let{basename:t}=H.useContext(js),r=H.useContext(ks);Xt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...uh(n||".",{relative:e})},u=Co();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ma([t,l.pathname])),Gu(l)}function GR(n,{relative:e}={}){let t=H.useContext(Bw);Xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ww("useViewTransitionState"),a=uh(n,{relative:e});if(!t.isTransitioning)return!1;let l=ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ed(a.pathname,u)!=null||Ed(a.pathname,l)!=null}const $R=()=>{};var J_={};const Zw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},KR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,E=(l&3)<<4|f>>4;let x=(f&15)<<2|p>>6,A=p&63;m||(A=64,u||(x=64)),r.push(t[v],t[E],t[x],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new QR;const x=l<<2|f>>4;if(r.push(x),p!==64){const A=f<<4&240|p>>2;if(r.push(A),E!==64){const C=p<<6&192|E;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YR=function(n){const e=Zw(n);return Jw.encodeByteArray(e,!0)},xd=function(n){return YR(n).replace(/\./g,"")},eT=function(n){try{return Jw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WR=()=>XR().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof J_>"u")return;const n=J_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&eT(n[1]);return e&&JSON.parse(e)},Yd=()=>{try{return $R()||WR()||ZR()||JR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tT=n=>Yd()?.emulatorHosts?.[n],e4=n=>{const e=tT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nT=()=>Yd()?.config,rT=n=>Yd()?.[`_${n}`];class t4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ic(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sT(n){return(await fetch(n,{credentials:"include"})).ok}function n4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xd(JSON.stringify(t)),xd(JSON.stringify(u)),""].join(".")}const Pu={};function r4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?n.emulator.push(e):n.prod.push(e);return n}function s4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let eE=!1;function iT(n,e){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||Pu[n]===e||Pu[n]||eE)return;Pu[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",l=r4().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{eE=!0,u()},x}function v(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function E(){const x=s4(r),A=t("text"),C=document.getElementById(A)||document.createElement("span"),L=t("learnmore"),I=document.getElementById(L)||document.createElement("a"),z=t("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const J=x.element;f(J),v(I,L);const te=p();m($,z),J.append($,C,I,te),document.body.appendChild(J)}l?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ur())}function a4(){const n=Yd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function c4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u4(){const n=ur();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function h4(){return!a4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f4(){try{return typeof indexedDB=="object"}catch{return!1}}function d4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const m4="FirebaseError";class wa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=m4,Object.setPrototypeOf(this,wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?p4(l,r):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new wa(a,f,r)}}function p4(n,e){return n.replace(g4,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const g4=/\{\$([^}]+)}/g;function y4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],u=e[a];if(tE(l)&&tE(u)){if(!sl(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function tE(n){return n!==null&&typeof n=="object"}function fh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ru(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function v4(n,e){const t=new b4(n,e);return t.subscribe.bind(t)}class b4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Ng),a.error===void 0&&(a.error=Ng),a.complete===void 0&&(a.complete=Ng);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ng(){}function Cn(n){return n&&n._delegate?n._delegate:n}class il{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const el="[DEFAULT]";class E4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new t4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w4(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x4(n){return n===el?void 0:n}function w4(n){return n.instantiationMode==="EAGER"}class T4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var st;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(st||(st={}));const A4={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},S4=st.INFO,N4={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},C4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=N4[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t0{constructor(e){this.name=e,this._logLevel=S4,this._logHandler=C4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const R4=(n,e)=>e.some(t=>n instanceof t);let nE,rE;function I4(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aT=new WeakMap,ry=new WeakMap,oT=new WeakMap,Cg=new WeakMap,n0=new WeakMap;function D4(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(mo(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&aT.set(t,n)}).catch(()=>{}),n0.set(e,n),e}function L4(n){if(ry.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});ry.set(n,e)}let sy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ry.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function j4(n){sy=n(sy)}function k4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rg(this),e,...t);return oT.set(r,e.sort?e.sort():[e]),mo(r)}:O4().includes(n)?function(...e){return n.apply(Rg(this),e),mo(aT.get(this))}:function(...e){return mo(n.apply(Rg(this),e))}}function M4(n){return typeof n=="function"?k4(n):(n instanceof IDBTransaction&&L4(n),R4(n,I4())?new Proxy(n,sy):n)}function mo(n){if(n instanceof IDBRequest)return D4(n);if(Cg.has(n))return Cg.get(n);const e=M4(n);return e!==n&&(Cg.set(n,e),n0.set(e,n)),e}const Rg=n=>n0.get(n);function P4(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=mo(u);return r&&u.addEventListener("upgradeneeded",m=>{r(mo(u.result),m.oldVersion,m.newVersion,mo(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const V4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],Ig=new Map;function sE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ig.get(e))return Ig.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=U4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||V4.includes(t)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return Ig.set(e,l),l}j4(n=>({...n,get:(e,t,r)=>sE(e,t)||n.get(e,t,r),has:(e,t)=>!!sE(e,t)||n.has(e,t)}));class q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function B4(n){return n.getComponent()?.type==="VERSION"}const iy="@firebase/app",iE="0.14.6";const ya=new t0("@firebase/app"),z4="@firebase/app-compat",H4="@firebase/analytics-compat",F4="@firebase/analytics",G4="@firebase/app-check-compat",$4="@firebase/app-check",K4="@firebase/auth",Q4="@firebase/auth-compat",Y4="@firebase/database",X4="@firebase/data-connect",W4="@firebase/database-compat",Z4="@firebase/functions",J4="@firebase/functions-compat",eI="@firebase/installations",tI="@firebase/installations-compat",nI="@firebase/messaging",rI="@firebase/messaging-compat",sI="@firebase/performance",iI="@firebase/performance-compat",aI="@firebase/remote-config",oI="@firebase/remote-config-compat",lI="@firebase/storage",cI="@firebase/storage-compat",uI="@firebase/firestore",hI="@firebase/ai",fI="@firebase/firestore-compat",dI="firebase",mI="12.6.0";const ay="[DEFAULT]",pI={[iy]:"fire-core",[z4]:"fire-core-compat",[F4]:"fire-analytics",[H4]:"fire-analytics-compat",[$4]:"fire-app-check",[G4]:"fire-app-check-compat",[K4]:"fire-auth",[Q4]:"fire-auth-compat",[Y4]:"fire-rtdb",[X4]:"fire-data-connect",[W4]:"fire-rtdb-compat",[Z4]:"fire-fn",[J4]:"fire-fn-compat",[eI]:"fire-iid",[tI]:"fire-iid-compat",[nI]:"fire-fcm",[rI]:"fire-fcm-compat",[sI]:"fire-perf",[iI]:"fire-perf-compat",[aI]:"fire-rc",[oI]:"fire-rc-compat",[lI]:"fire-gcs",[cI]:"fire-gcs-compat",[uI]:"fire-fst",[fI]:"fire-fst-compat",[hI]:"fire-vertex","fire-js":"fire-js",[dI]:"fire-js-all"};const wd=new Map,gI=new Map,oy=new Map;function aE(n,e){try{n.container.addComponent(e)}catch(t){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yc(n){const e=n.name;if(oy.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,n);for(const t of wd.values())aE(t,n);for(const t of gI.values())aE(t,n);return!0}function r0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ts(n){return n==null?!1:n.settings!==void 0}const yI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new hh("app","Firebase",yI);class vI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}const Oc=mI;function lT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ay,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw po.create("bad-app-name",{appName:String(a)});if(t||(t=nT()),!t)throw po.create("no-options");const l=wd.get(a);if(l){if(sl(t,l.options)&&sl(r,l.config))return l;throw po.create("duplicate-app",{appName:a})}const u=new T4(a);for(const m of oy.values())u.addComponent(m);const f=new vI(t,r,u);return wd.set(a,f),f}function cT(n=ay){const e=wd.get(n);if(!e&&n===ay&&nT())return lT();if(!e)throw po.create("no-app",{appName:n});return e}function go(n,e,t){let r=pI[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(u.join(" "));return}yc(new il(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const bI="firebase-heartbeat-database",_I=1,$u="firebase-heartbeat-store";let Og=null;function uT(){return Og||(Og=P4(bI,_I,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw po.create("idb-open",{originalErrorMessage:n.message})})),Og}async function EI(n){try{const t=(await uT()).transaction($u),r=await t.objectStore($u).get(hT(n));return await t.done,r}catch(e){if(e instanceof wa)ya.warn(e.message);else{const t=po.create("idb-get",{originalErrorMessage:e?.message});ya.warn(t.message)}}}async function oE(n,e){try{const r=(await uT()).transaction($u,"readwrite");await r.objectStore($u).put(e,hT(n)),await r.done}catch(t){if(t instanceof wa)ya.warn(t.message);else{const r=po.create("idb-set",{originalErrorMessage:t?.message});ya.warn(r.message)}}}function hT(n){return`${n.name}!${n.options.appId}`}const xI=1024,wI=30;class TI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>wI){const a=NI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lE(),{heartbeatsToSend:t,unsentEntries:r}=AI(this._heartbeatsCache.heartbeats),a=xd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ya.warn(e),""}}}function lE(){return new Date().toISOString().substring(0,10)}function AI(n,e=xI){const t=[];let r=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),cE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),cE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class SI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f4()?d4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cE(n){return xd(JSON.stringify({version:2,heartbeats:n})).length}function NI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function CI(n){yc(new il("platform-logger",e=>new q4(e),"PRIVATE")),yc(new il("heartbeat",e=>new TI(e),"PRIVATE")),go(iy,iE,n),go(iy,iE,"esm2020"),go("fire-js","")}CI("");var RI="firebase",II="12.6.0";go(RI,II,"app");function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OI=fT,dT=new hh("auth","Firebase",fT());const Td=new t0("@firebase/auth");function DI(n,...e){Td.logLevel<=st.WARN&&Td.warn(`Auth (${Oc}): ${n}`,...e)}function ud(n,...e){Td.logLevel<=st.ERROR&&Td.error(`Auth (${Oc}): ${n}`,...e)}function Ds(n,...e){throw i0(n,...e)}function Js(n,...e){return i0(n,...e)}function s0(n,e,t){const r={...OI(),[e]:t};return new hh("auth","Firebase",r).create(e,{appName:n.name})}function pa(n){return s0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LI(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ds(n,"argument-error"),s0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dT.create(n,...e)}function Ve(n,e,...t){if(!n)throw i0(e,...t)}function fa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ud(e),new Error(e)}function va(n,e){n||fa(e)}function ly(){return typeof self<"u"&&self.location?.href||""}function jI(){return uE()==="http:"||uE()==="https:"}function uE(){return typeof self<"u"&&self.location?.protocol||null}function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jI()||l4()||"connection"in navigator)?navigator.onLine:!0}function MI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class dh{constructor(e,t){this.shortDelay=e,this.longDelay=t,va(t>e,"Short delay should be less than long delay!"),this.isMobile=i4()||c4()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function a0(n,e){va(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class mT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UI=new dh(3e4,6e4);function Ro(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ta(n,e,t,r,a={}){return pT(n,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const f=fh({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return o4()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ic(n.emulatorConfig.host)&&(p.credentials="include"),mT.fetch()(await gT(n,n.config.apiHost,t,f),p)})}async function pT(n,e,t){n._canInitEmulator=!1;const r={...PI,...e};try{const a=new BI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ff(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Ff(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Ff(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw s0(n,v,p);Ds(n,v)}}catch(a){if(a instanceof wa)throw a;Ds(n,"network-request-failed",{message:String(a)})}}async function mh(n,e,t,r,a={}){const l=await Ta(n,e,t,r,a);return"mfaPendingCredential"in l&&Ds(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function gT(n,e,t,r){const a=`${e}${t}?${r}`,l=n,u=l.config.emulator?a0(n.config,a):`${n.config.apiScheme}://${a}`;return VI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function qI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),UI.get())})}}function Ff(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Js(n,e,r);return a.customData._tokenResponse=t,a}function hE(n){return n!==void 0&&n.enterprise!==void 0}class zI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HI(n,e){return Ta(n,"GET","/v2/recaptchaConfig",Ro(n,e))}async function FI(n,e){return Ta(n,"POST","/v1/accounts:delete",e)}async function Ad(n,e){return Ta(n,"POST","/v1/accounts:lookup",e)}function Vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GI(n,e=!1){const t=Cn(n),r=await t.getIdToken(e),a=o0(r);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:Vu(Dg(a.auth_time)),issuedAtTime:Vu(Dg(a.iat)),expirationTime:Vu(Dg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Dg(n){return Number(n)*1e3}function o0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const a=eT(t);return a?JSON.parse(a):(ud("Failed to decode base64 JWT payload"),null)}catch(a){return ud("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fE(n){const e=o0(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wa&&$I(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $I({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class KI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sd(n){const e=n.auth,t=await n.getIdToken(),r=await vc(n,Ad(e,{idToken:t}));Ve(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?yT(a.providerUserInfo):[],u=YI(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new cy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function QI(n){const e=Cn(n);await Sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function yT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function XI(n,e){const t=await pT(n,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await gT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return n.emulatorConfig&&Ic(n.emulatorConfig.host)&&(m.credentials="include"),mT.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WI(n,e){return Ta(n,"POST","/v2/accounts:revokeToken",Ro(n,e))}class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=fE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await XI(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,u=new cc;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return fa("not implemented")}}function ro(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zs{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new KI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await vc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GI(this,e)}reload(){return QI(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ts(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await vc(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:x,isAnonymous:A,providerData:C,stsTokenManager:L}=t;Ve(E&&L,e,"internal-error");const I=cc.fromJSON(this.name,L);Ve(typeof E=="string",e,"internal-error"),ro(r,e.name),ro(a,e.name),Ve(typeof x=="boolean",e,"internal-error"),Ve(typeof A=="boolean",e,"internal-error"),ro(l,e.name),ro(u,e.name),ro(f,e.name),ro(m,e.name),ro(p,e.name),ro(v,e.name);const z=new Zs({uid:E,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:p,lastLoginAt:v});return C&&Array.isArray(C)&&(z.providerData=C.map($=>({...$}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,t,r=!1){const a=new cc;a.updateFromServerResponse(t);const l=new Zs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Sd(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?yT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new cc;f.updateFromIdToken(r);const m=new Zs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new cy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const dE=new Map;function da(n){va(n instanceof Function,"Expected a class definition");let e=dE.get(n);return e?(va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dE.set(n,e),e)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vT.type="NONE";const mE=vT;function hd(n,e,t){return`firebase:${n}:${e}:${t}`}class uc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=hd(this.userKey,a.apiKey,l),this.fullPersistenceKey=hd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ad(this.auth,{idToken:e}).catch(()=>{});return t?Zs._fromGetAccountInfoResponse(this.auth,t,e):null}return Zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new uc(da(mE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||da(mE);const u=hd(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(u);if(v){let E;if(typeof v=="string"){const x=await Ad(e,{idToken:v}).catch(()=>{});if(!x)break;E=await Zs._fromGetAccountInfoResponse(e,x,v)}else E=Zs._fromJSON(e,v);p!==l&&(f=E),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new uc(l,e,r):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new uc(l,e,r))}}function pE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(AT(e))return"Webos";if(_T(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(wT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function bT(n=ur()){return/firefox\//i.test(n)}function _T(n=ur()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(n=ur()){return/crios\//i.test(n)}function xT(n=ur()){return/iemobile/i.test(n)}function wT(n=ur()){return/android/i.test(n)}function TT(n=ur()){return/blackberry/i.test(n)}function AT(n=ur()){return/webos/i.test(n)}function l0(n=ur()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZI(n=ur()){return l0(n)&&!!window.navigator?.standalone}function JI(){return u4()&&document.documentMode===10}function ST(n=ur()){return l0(n)||wT(n)||AT(n)||TT(n)||/windows phone/i.test(n)||xT(n)}function NT(n,e=[]){let t;switch(n){case"Browser":t=pE(ur());break;case"Worker":t=`${pE(ur())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oc}/${r}`}class e3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function t3(n,e={}){return Ta(n,"GET","/v2/passwordPolicy",Ro(n,e))}const n3=6;class r3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??n3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class s3{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new e3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=da(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ad(this,{idToken:e}),r=await Zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ts(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ts(this.app))return Promise.reject(pa(this));const t=e?Cn(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ts(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ts(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t3(this),t=new r3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await WI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&da(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await uc.create(this,[da(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Io(n){return Cn(n)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=v4(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i3(n){Xd=n}function CT(n){return Xd.loadJS(n)}function a3(){return Xd.recaptchaEnterpriseScript}function o3(){return Xd.gapiScript}function l3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class c3{constructor(){this.enterprise=new u3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class u3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const h3="recaptcha-enterprise",RT="NO_RECAPTCHA";class f3{constructor(e){this.type=h3,this.auth=Io(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{HI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new zI(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;hE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(RT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(f=>{if(!t&&hE(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=a3();m.length!==0&&(m+=f),CT(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function yE(n,e,t,r=!1,a=!1){const l=new f3(n);let u;if(a)u=RT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function uy(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await yE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await yE(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}function d3(n,e){const t=r0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(sl(l,e??{}))return a;Ds(a,"already-initialized")}return t.initialize({options:e})}function m3(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(da);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function p3(n,e,t){const r=Io(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=IT(e),{host:u,port:f}=g3(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(sl(p,r.config.emulator)&&sl(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ic(u)?(sT(`${l}//${u}${m}`),iT("Auth",!0)):y3()}function IT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function g3(n){const e=IT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:vE(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:vE(u)}}}function vE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function y3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class c0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fa("not implemented")}_getIdTokenResponse(e){return fa("not implemented")}_linkToIdToken(e,t){return fa("not implemented")}_getReauthenticationResolver(e){return fa("not implemented")}}async function v3(n,e){return Ta(n,"POST","/v1/accounts:signUp",e)}async function b3(n,e){return mh(n,"POST","/v1/accounts:signInWithPassword",Ro(n,e))}async function _3(n,e){return mh(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}async function E3(n,e){return mh(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}class Ku extends c0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ku(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ku(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(e,t,"signInWithPassword",b3);case"emailLink":return _3(e,{email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(e,r,"signUpPassword",v3);case"emailLink":return E3(e,{idToken:t,email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hc(n,e){return mh(n,"POST","/v1/accounts:signInWithIdp",Ro(n,e))}const x3="http://localhost";class al extends c0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ds("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const u=new al(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return hc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,hc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hc(e,t)}buildRequest(){const e={requestUri:x3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fh(t)}return e}}function w3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T3(n){const e=Cu(Ru(n)).link,t=e?Cu(Ru(e)).deep_link_id:null,r=Cu(Ru(n)).deep_link_id;return(r?Cu(Ru(r)).link:null)||r||t||e||n}class u0{constructor(e){const t=Cu(Ru(e)),r=t.apiKey??null,a=t.oobCode??null,l=w3(t.mode??null);Ve(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=T3(e);try{return new u0(t)}catch{return null}}}class Dc{constructor(){this.providerId=Dc.PROVIDER_ID}static credential(e,t){return Ku._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=u0.parseLink(t);return Ve(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}Dc.PROVIDER_ID="password";Dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class h0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ph extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class io extends ph{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";class Ei extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return al._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ei.credential(t,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";class ao extends ph{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";class oo extends ph{constructor(){super("twitter.com")}static credential(e,t){return al._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oo.credential(t,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";async function A3(n,e){return mh(n,"POST","/v1/accounts:signUp",Ro(n,e))}class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Zs._fromIdTokenResponse(e,r,a),u=bE(r);return new ol({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=bE(r);return new ol({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function bE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nd extends wa{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Nd(e,t,r,a)}}function OT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(n,l,e,r):l})}async function S3(n,e,t=!1){const r=await vc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ol._forOperation(n,"link",r)}async function N3(n,e,t=!1){const{auth:r}=n;if(ts(r.app))return Promise.reject(pa(r));const a="reauthenticate";try{const l=await vc(n,OT(r,a,e,n),t);Ve(l.idToken,r,"internal-error");const u=o0(l.idToken);Ve(u,r,"internal-error");const{sub:f}=u;return Ve(n.uid===f,r,"user-mismatch"),ol._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ds(r,"user-mismatch"),l}}async function DT(n,e,t=!1){if(ts(n.app))return Promise.reject(pa(n));const r="signIn",a=await OT(n,r,e),l=await ol._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function C3(n,e){return DT(Io(n),e)}async function LT(n){const e=Io(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R3(n,e,t){if(ts(n.app))return Promise.reject(pa(n));const r=Io(n),u=await uy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&LT(n),m}),f=await ol._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function I3(n,e,t){return ts(n.app)?Promise.reject(pa(n)):C3(Cn(n),Dc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LT(n),r})}async function O3(n,e){return Ta(n,"POST","/v1/accounts:update",e)}async function D3(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Cn(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await vc(r,O3(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function L3(n,e,t,r){return Cn(n).onIdTokenChanged(e,t,r)}function j3(n,e,t){return Cn(n).beforeAuthStateChanged(e,t)}function gh(n,e,t,r){return Cn(n).onAuthStateChanged(e,t,r)}function k3(n){return Cn(n).signOut()}const Cd="__sak";class jT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const M3=1e3,P3=10;class kT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);JI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,P3):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},M3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kT.type="LOCAL";const V3=kT;class MT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MT.type="SESSION";const PT=MT;function U3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(u).map(async p=>p(t.origin,l)),m=await U3(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];function f0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class q3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=f0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(E){const x=E;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function xi(){return window}function B3(n){xi().location.href=n}function VT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function z3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H3(){return navigator?.serviceWorker?.controller||null}function F3(){return VT()?self:null}const UT="firebaseLocalStorageDb",G3=1,Rd="firebaseLocalStorage",qT="fbase_key";class yh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zd(n,e){return n.transaction([Rd],e?"readwrite":"readonly").objectStore(Rd)}function $3(){const n=indexedDB.deleteDatabase(UT);return new yh(n).toPromise()}function hy(){const n=indexedDB.open(UT,G3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Rd,{keyPath:qT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Rd)?e(r):(r.close(),await $3(),e(await hy()))})})}async function _E(n,e,t){const r=Zd(n,!0).put({[qT]:e,value:t});return new yh(r).toPromise()}async function K3(n,e){const t=Zd(n,!1).get(e),r=await new yh(t).toPromise();return r===void 0?null:r.value}function EE(n,e){const t=Zd(n,!0).delete(e);return new yh(t).toPromise()}const Q3=800,Y3=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Y3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(F3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await z3(),!this.activeServiceWorker)return;this.sender=new q3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await _E(e,Cd,"1"),await EE(e,Cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_E(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>K3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>EE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zd(a,!1).getAll();return new yh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const X3=BT;new dh(3e4,6e4);function zT(n,e){return e?da(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class d0 extends c0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W3(n){return DT(n.auth,new d0(n),n.bypassAuthState)}function Z3(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),N3(t,new d0(n),n.bypassAuthState)}async function J3(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),S3(t,new d0(n),n.bypassAuthState)}class HT{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W3;case"linkViaPopup":case"linkViaRedirect":return J3;case"reauthViaPopup":case"reauthViaRedirect":return Z3;default:Ds(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eO=new dh(2e3,1e4);async function FT(n,e,t){if(ts(n.app))return Promise.reject(Js(n,"operation-not-supported-in-this-environment"));const r=Io(n);LI(n,e,h0);const a=zT(r,t);return new tl(r,"signInViaPopup",e,a).executeNotNull()}class tl extends HT{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=f0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}tl.currentPopupAction=null;const tO="pendingRedirect",fd=new Map;class nO extends HT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const r=await rO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rO(n,e){const t=aO(e),r=iO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function sO(n,e){fd.set(n._key(),e)}function iO(n){return da(n._redirectPersistence)}function aO(n){return hd(tO,n.config.apiKey,n.name)}async function oO(n,e,t=!1){if(ts(n.app))return Promise.reject(pa(n));const r=Io(n),a=zT(r,e),u=await new nO(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const lO=600*1e3;class cO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!GT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Js(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lO&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function uO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(n);default:return!1}}async function hO(n,e={}){return Ta(n,"GET","/v1/projects",e)}const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dO=/^https?/;async function mO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await hO(n);for(const t of e)try{if(pO(t))return}catch{}Ds(n,"unauthorized-domain")}function pO(n){const e=ly(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!dO.test(t))return!1;if(fO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const gO=new dh(3e4,6e4);function wE(){const n=xi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yO(n){return new Promise((e,t)=>{function r(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),t(Js(n,"network-request-failed"))},timeout:gO.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const a=l3("iframefcb");return xi()[a]=()=>{gapi.load?r():t(Js(n,"network-request-failed"))},CT(`${o3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw dd=null,e})}let dd=null;function vO(n){return dd=dd||yO(n),dd}const bO=new dh(5e3,15e3),_O="__/auth/iframe",EO="emulator/auth/iframe",xO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TO(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?a0(e,EO):`https://${n.config.authDomain}/${_O}`,r={apiKey:e.apiKey,appName:n.name,v:Oc},a=wO.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${fh(r).slice(1)}`}async function AO(n){const e=await vO(n),t=xi().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:TO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Js(n,"network-request-failed"),f=xi().setTimeout(()=>{l(u)},bO.get());function m(){xi().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(u)})}))}const SO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,CO=600,RO="_blank",IO="http://localhost";class TE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OO(n,e,t,r=NO,a=CO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m={...SO,width:r.toString(),height:a.toString(),top:l,left:u},p=ur().toLowerCase();t&&(f=ET(p)?RO:t),bT(p)&&(e=e||IO,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[A,C])=>`${x}${A}=${C},`,"");if(ZI(p)&&f!=="_self")return DO(e||"",f),new TE(null);const E=window.open(e||"",f,v);Ve(E,n,"popup-blocked");try{E.focus()}catch{}return new TE(E)}function DO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const LO="__/auth/handler",jO="emulator/auth/handler",kO=encodeURIComponent("fac");async function AE(n,e,t,r,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Oc,eventId:a};if(e instanceof h0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",y4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof ph){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),p=m?`#${kO}=${encodeURIComponent(m)}`:"";return`${MO(n)}?${fh(f).slice(1)}${p}`}function MO({config:n}){return n.emulator?a0(n,jO):`https://${n.authDomain}/${LO}`}const Lg="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=oO,this._overrideRedirectResult=sO}async _openPopup(e,t,r,a){va(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await AE(e,t,r,ly(),a);return OO(e,l,f0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await AE(e,t,r,ly(),a);return B3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(va(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await AO(e),r=new cO(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lg,{type:Lg},a=>{const l=a?.[0]?.[Lg];l!==void 0&&t(!!l),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ST()||_T()||l0()}}const VO=PO;var SE="@firebase/auth",NE="1.11.1";class UO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BO(n){yc(new il("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(n)},p=new s3(r,a,l,m);return m3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),yc(new il("auth-internal",e=>{const t=Io(e.getProvider("auth").getImmediate());return(r=>new UO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(SE,NE,qO(n)),go(SE,NE,"esm2020")}const zO=300,HO=rT("authIdTokenMaxAge")||zO;let CE=null;const FO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>HO)return;const a=t?.token;CE!==a&&(CE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function GO(n=cT()){const e=r0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=d3(n,{popupRedirectResolver:VO,persistence:[X3,V3,PT]}),r=rT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=FO(l.toString());j3(t,u,()=>u(t.currentUser)),L3(t,f=>u(f))}}const a=tT("auth");return a&&p3(t,`http://${a}`),t}function $O(){return document.getElementsByTagName("head")?.[0]??document}i3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Js("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",$O().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BO("Browser");var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yo,$T;(function(){var n;function e(M,j){function P(){}P.prototype=j.prototype,M.F=j.prototype,M.prototype=new P,M.prototype.constructor=M,M.D=function(F,S,k){for(var N=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)N[ge-2]=arguments[ge];return j.prototype[S].apply(F,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,j,P){P||(P=0);const F=Array(16);if(typeof j=="string")for(var S=0;S<16;++S)F[S]=j.charCodeAt(P++)|j.charCodeAt(P++)<<8|j.charCodeAt(P++)<<16|j.charCodeAt(P++)<<24;else for(S=0;S<16;++S)F[S]=j[P++]|j[P++]<<8|j[P++]<<16|j[P++]<<24;j=M.g[0],P=M.g[1],S=M.g[2];let k=M.g[3],N;N=j+(k^P&(S^k))+F[0]+3614090360&4294967295,j=P+(N<<7&4294967295|N>>>25),N=k+(S^j&(P^S))+F[1]+3905402710&4294967295,k=j+(N<<12&4294967295|N>>>20),N=S+(P^k&(j^P))+F[2]+606105819&4294967295,S=k+(N<<17&4294967295|N>>>15),N=P+(j^S&(k^j))+F[3]+3250441966&4294967295,P=S+(N<<22&4294967295|N>>>10),N=j+(k^P&(S^k))+F[4]+4118548399&4294967295,j=P+(N<<7&4294967295|N>>>25),N=k+(S^j&(P^S))+F[5]+1200080426&4294967295,k=j+(N<<12&4294967295|N>>>20),N=S+(P^k&(j^P))+F[6]+2821735955&4294967295,S=k+(N<<17&4294967295|N>>>15),N=P+(j^S&(k^j))+F[7]+4249261313&4294967295,P=S+(N<<22&4294967295|N>>>10),N=j+(k^P&(S^k))+F[8]+1770035416&4294967295,j=P+(N<<7&4294967295|N>>>25),N=k+(S^j&(P^S))+F[9]+2336552879&4294967295,k=j+(N<<12&4294967295|N>>>20),N=S+(P^k&(j^P))+F[10]+4294925233&4294967295,S=k+(N<<17&4294967295|N>>>15),N=P+(j^S&(k^j))+F[11]+2304563134&4294967295,P=S+(N<<22&4294967295|N>>>10),N=j+(k^P&(S^k))+F[12]+1804603682&4294967295,j=P+(N<<7&4294967295|N>>>25),N=k+(S^j&(P^S))+F[13]+4254626195&4294967295,k=j+(N<<12&4294967295|N>>>20),N=S+(P^k&(j^P))+F[14]+2792965006&4294967295,S=k+(N<<17&4294967295|N>>>15),N=P+(j^S&(k^j))+F[15]+1236535329&4294967295,P=S+(N<<22&4294967295|N>>>10),N=j+(S^k&(P^S))+F[1]+4129170786&4294967295,j=P+(N<<5&4294967295|N>>>27),N=k+(P^S&(j^P))+F[6]+3225465664&4294967295,k=j+(N<<9&4294967295|N>>>23),N=S+(j^P&(k^j))+F[11]+643717713&4294967295,S=k+(N<<14&4294967295|N>>>18),N=P+(k^j&(S^k))+F[0]+3921069994&4294967295,P=S+(N<<20&4294967295|N>>>12),N=j+(S^k&(P^S))+F[5]+3593408605&4294967295,j=P+(N<<5&4294967295|N>>>27),N=k+(P^S&(j^P))+F[10]+38016083&4294967295,k=j+(N<<9&4294967295|N>>>23),N=S+(j^P&(k^j))+F[15]+3634488961&4294967295,S=k+(N<<14&4294967295|N>>>18),N=P+(k^j&(S^k))+F[4]+3889429448&4294967295,P=S+(N<<20&4294967295|N>>>12),N=j+(S^k&(P^S))+F[9]+568446438&4294967295,j=P+(N<<5&4294967295|N>>>27),N=k+(P^S&(j^P))+F[14]+3275163606&4294967295,k=j+(N<<9&4294967295|N>>>23),N=S+(j^P&(k^j))+F[3]+4107603335&4294967295,S=k+(N<<14&4294967295|N>>>18),N=P+(k^j&(S^k))+F[8]+1163531501&4294967295,P=S+(N<<20&4294967295|N>>>12),N=j+(S^k&(P^S))+F[13]+2850285829&4294967295,j=P+(N<<5&4294967295|N>>>27),N=k+(P^S&(j^P))+F[2]+4243563512&4294967295,k=j+(N<<9&4294967295|N>>>23),N=S+(j^P&(k^j))+F[7]+1735328473&4294967295,S=k+(N<<14&4294967295|N>>>18),N=P+(k^j&(S^k))+F[12]+2368359562&4294967295,P=S+(N<<20&4294967295|N>>>12),N=j+(P^S^k)+F[5]+4294588738&4294967295,j=P+(N<<4&4294967295|N>>>28),N=k+(j^P^S)+F[8]+2272392833&4294967295,k=j+(N<<11&4294967295|N>>>21),N=S+(k^j^P)+F[11]+1839030562&4294967295,S=k+(N<<16&4294967295|N>>>16),N=P+(S^k^j)+F[14]+4259657740&4294967295,P=S+(N<<23&4294967295|N>>>9),N=j+(P^S^k)+F[1]+2763975236&4294967295,j=P+(N<<4&4294967295|N>>>28),N=k+(j^P^S)+F[4]+1272893353&4294967295,k=j+(N<<11&4294967295|N>>>21),N=S+(k^j^P)+F[7]+4139469664&4294967295,S=k+(N<<16&4294967295|N>>>16),N=P+(S^k^j)+F[10]+3200236656&4294967295,P=S+(N<<23&4294967295|N>>>9),N=j+(P^S^k)+F[13]+681279174&4294967295,j=P+(N<<4&4294967295|N>>>28),N=k+(j^P^S)+F[0]+3936430074&4294967295,k=j+(N<<11&4294967295|N>>>21),N=S+(k^j^P)+F[3]+3572445317&4294967295,S=k+(N<<16&4294967295|N>>>16),N=P+(S^k^j)+F[6]+76029189&4294967295,P=S+(N<<23&4294967295|N>>>9),N=j+(P^S^k)+F[9]+3654602809&4294967295,j=P+(N<<4&4294967295|N>>>28),N=k+(j^P^S)+F[12]+3873151461&4294967295,k=j+(N<<11&4294967295|N>>>21),N=S+(k^j^P)+F[15]+530742520&4294967295,S=k+(N<<16&4294967295|N>>>16),N=P+(S^k^j)+F[2]+3299628645&4294967295,P=S+(N<<23&4294967295|N>>>9),N=j+(S^(P|~k))+F[0]+4096336452&4294967295,j=P+(N<<6&4294967295|N>>>26),N=k+(P^(j|~S))+F[7]+1126891415&4294967295,k=j+(N<<10&4294967295|N>>>22),N=S+(j^(k|~P))+F[14]+2878612391&4294967295,S=k+(N<<15&4294967295|N>>>17),N=P+(k^(S|~j))+F[5]+4237533241&4294967295,P=S+(N<<21&4294967295|N>>>11),N=j+(S^(P|~k))+F[12]+1700485571&4294967295,j=P+(N<<6&4294967295|N>>>26),N=k+(P^(j|~S))+F[3]+2399980690&4294967295,k=j+(N<<10&4294967295|N>>>22),N=S+(j^(k|~P))+F[10]+4293915773&4294967295,S=k+(N<<15&4294967295|N>>>17),N=P+(k^(S|~j))+F[1]+2240044497&4294967295,P=S+(N<<21&4294967295|N>>>11),N=j+(S^(P|~k))+F[8]+1873313359&4294967295,j=P+(N<<6&4294967295|N>>>26),N=k+(P^(j|~S))+F[15]+4264355552&4294967295,k=j+(N<<10&4294967295|N>>>22),N=S+(j^(k|~P))+F[6]+2734768916&4294967295,S=k+(N<<15&4294967295|N>>>17),N=P+(k^(S|~j))+F[13]+1309151649&4294967295,P=S+(N<<21&4294967295|N>>>11),N=j+(S^(P|~k))+F[4]+4149444226&4294967295,j=P+(N<<6&4294967295|N>>>26),N=k+(P^(j|~S))+F[11]+3174756917&4294967295,k=j+(N<<10&4294967295|N>>>22),N=S+(j^(k|~P))+F[2]+718787259&4294967295,S=k+(N<<15&4294967295|N>>>17),N=P+(k^(S|~j))+F[9]+3951481745&4294967295,M.g[0]=M.g[0]+j&4294967295,M.g[1]=M.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+S&4294967295,M.g[3]=M.g[3]+k&4294967295}r.prototype.v=function(M,j){j===void 0&&(j=M.length);const P=j-this.blockSize,F=this.C;let S=this.h,k=0;for(;k<j;){if(S==0)for(;k<=P;)a(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<j;)if(F[S++]=M.charCodeAt(k++),S==this.blockSize){a(this,F),S=0;break}}else for(;k<j;)if(F[S++]=M[k++],S==this.blockSize){a(this,F),S=0;break}}this.h=S,this.o+=j},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var j=1;j<M.length-8;++j)M[j]=0;j=this.o*8;for(var P=M.length-8;P<M.length;++P)M[P]=j&255,j/=256;for(this.v(M),M=Array(16),j=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)M[j++]=this.g[P]>>>F&255;return M};function l(M,j){var P=f;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=j(M)}function u(M,j){this.h=j;const P=[];let F=!0;for(let S=M.length-1;S>=0;S--){const k=M[S]|0;F&&k==j||(P[S]=k,F=!1)}this.g=P}var f={};function m(M){return-128<=M&&M<128?l(M,function(j){return new u([j|0],j<0?-1:0)}):new u([M|0],M<0?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return E;if(M<0)return I(p(-M));const j=[];let P=1;for(let F=0;M>=P;F++)j[F]=M/P|0,P*=4294967296;return new u(j,0)}function v(M,j){if(M.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(M.charAt(0)=="-")return I(v(M.substring(1),j));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(j,8));let F=E;for(let k=0;k<M.length;k+=8){var S=Math.min(8,M.length-k);const N=parseInt(M.substring(k,k+S),j);S<8?(S=p(Math.pow(j,S)),F=F.j(S).add(p(N))):(F=F.j(P),F=F.add(p(N)))}return F}var E=m(0),x=m(1),A=m(16777216);n=u.prototype,n.m=function(){if(L(this))return-I(this).m();let M=0,j=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);M+=(F>=0?F:4294967296+F)*j,j*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(L(this))return"-"+I(this).toString(M);const j=p(Math.pow(M,6));var P=this;let F="";for(;;){const S=te(P,j).g;P=z(P,S.j(j));let k=((P.g.length>0?P.g[0]:P.h)>>>0).toString(M);if(P=S,C(P))return k+F;for(;k.length<6;)k="0"+k;F=k+F}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(let j=0;j<M.g.length;j++)if(M.g[j]!=0)return!1;return!0}function L(M){return M.h==-1}n.l=function(M){return M=z(this,M),L(M)?-1:C(M)?0:1};function I(M){const j=M.g.length,P=[];for(let F=0;F<j;F++)P[F]=~M.g[F];return new u(P,~M.h).add(x)}n.abs=function(){return L(this)?I(this):this},n.add=function(M){const j=Math.max(this.g.length,M.g.length),P=[];let F=0;for(let S=0;S<=j;S++){let k=F+(this.i(S)&65535)+(M.i(S)&65535),N=(k>>>16)+(this.i(S)>>>16)+(M.i(S)>>>16);F=N>>>16,k&=65535,N&=65535,P[S]=N<<16|k}return new u(P,P[P.length-1]&-2147483648?-1:0)};function z(M,j){return M.add(I(j))}n.j=function(M){if(C(this)||C(M))return E;if(L(this))return L(M)?I(this).j(I(M)):I(I(this).j(M));if(L(M))return I(this.j(I(M)));if(this.l(A)<0&&M.l(A)<0)return p(this.m()*M.m());const j=this.g.length+M.g.length,P=[];for(var F=0;F<2*j;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let S=0;S<M.g.length;S++){const k=this.i(F)>>>16,N=this.i(F)&65535,ge=M.i(S)>>>16,pe=M.i(S)&65535;P[2*F+2*S]+=N*pe,$(P,2*F+2*S),P[2*F+2*S+1]+=k*pe,$(P,2*F+2*S+1),P[2*F+2*S+1]+=N*ge,$(P,2*F+2*S+1),P[2*F+2*S+2]+=k*ge,$(P,2*F+2*S+2)}for(M=0;M<j;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=j;M<2*j;M++)P[M]=0;return new u(P,0)};function $(M,j){for(;(M[j]&65535)!=M[j];)M[j+1]+=M[j]>>>16,M[j]&=65535,j++}function J(M,j){this.g=M,this.h=j}function te(M,j){if(C(j))throw Error("division by zero");if(C(M))return new J(E,E);if(L(M))return j=te(I(M),j),new J(I(j.g),I(j.h));if(L(j))return j=te(M,I(j)),new J(I(j.g),j.h);if(M.g.length>30){if(L(M)||L(j))throw Error("slowDivide_ only works with positive integers.");for(var P=x,F=j;F.l(M)<=0;)P=de(P),F=de(F);var S=xe(P,1),k=xe(F,1);for(F=xe(F,2),P=xe(P,2);!C(F);){var N=k.add(F);N.l(M)<=0&&(S=S.add(P),k=N),F=xe(F,1),P=xe(P,1)}return j=z(M,S.j(j)),new J(S,j)}for(S=E;M.l(j)>=0;){for(P=Math.max(1,Math.floor(M.m()/j.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),k=p(P),N=k.j(j);L(N)||N.l(M)>0;)P-=F,k=p(P),N=k.j(j);C(k)&&(k=x),S=S.add(k),M=z(M,N)}return new J(S,M)}n.B=function(M){return te(this,M).h},n.and=function(M){const j=Math.max(this.g.length,M.g.length),P=[];for(let F=0;F<j;F++)P[F]=this.i(F)&M.i(F);return new u(P,this.h&M.h)},n.or=function(M){const j=Math.max(this.g.length,M.g.length),P=[];for(let F=0;F<j;F++)P[F]=this.i(F)|M.i(F);return new u(P,this.h|M.h)},n.xor=function(M){const j=Math.max(this.g.length,M.g.length),P=[];for(let F=0;F<j;F++)P[F]=this.i(F)^M.i(F);return new u(P,this.h^M.h)};function de(M){const j=M.g.length+1,P=[];for(let F=0;F<j;F++)P[F]=M.i(F)<<1|M.i(F-1)>>>31;return new u(P,M.h)}function xe(M,j){const P=j>>5;j%=32;const F=M.g.length-P,S=[];for(let k=0;k<F;k++)S[k]=j>0?M.i(k+P)>>>j|M.i(k+P+1)<<32-j:M.i(k+P);return new u(S,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$T=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,yo=u}).apply(typeof RE<"u"?RE:typeof self<"u"?self:typeof window<"u"?window:{});var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KT,Iu,QT,md,fy,YT,XT,WT;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gf=="object"&&Gf];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(h,b){if(b)e:{var T=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var Q=h[D];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],D=T[h],b=b(D),b!=D&&b!=null&&e(T,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var T=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&T.push([D,b[D]]);return T}});var l=l||{},u=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,T){return h.call.apply(h.bind,arguments)}function p(h,b,T){return p=m,p.apply(null,arguments)}function v(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function E(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(D,Q,re){for(var _e=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)_e[Fe-2]=arguments[Fe];return b.prototype[Q].apply(D,_e)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const b=h.length;if(b>0){const T=Array(b);for(let D=0;D<b;D++)T[D]=h[D];return T}return[]}function C(h,b){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const re=Q.length||0;h.length=T+re;for(let _e=0;_e<re;_e++)h[T+_e]=Q[_e]}else h.push(Q)}}class L{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(h){u.setTimeout(()=>{throw h},0)}function z(){var h=M;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class ${constructor(){this.h=this.g=null}add(b,T){const D=J.get();D.set(b,T),this.h?this.h.next=D:this.g=D,this.h=D}}var J=new L(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,xe=!1,M=new $,j=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(P)}};function P(){for(var h;h=z();){try{h.h.call(h.g)}catch(T){I(T)}var b=J;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}xe=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ge(h,b){S.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}E(ge,S),ge.prototype.init=function(h,b){const T=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),B=0;function Z(h,b,T,D,Q){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!D,this.ha=Q,this.key=++B,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h,b,T){for(const D in h)b.call(T,h[D],D,h)}function ve(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function V(h){const b={};for(const T in h)b[T]=h[T];return b}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,b){let T,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(T in D)h[T]=D[T];for(let re=0;re<Y.length;re++)T=Y[re],Object.prototype.hasOwnProperty.call(D,T)&&(h[T]=D[T])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,b,T,D,Q){const re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);const _e=Te(h,b,D,Q);return _e>-1?(b=h[_e],T||(b.fa=!1)):(b=new Z(b,this.src,re,!!D,Q),b.fa=T,h.push(b)),b};function ye(h,b){const T=b.type;if(T in h.g){var D=h.g[T],Q=Array.prototype.indexOf.call(D,b,void 0),re;(re=Q>=0)&&Array.prototype.splice.call(D,Q,1),re&&(ce(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Te(h,b,T,D){for(let Q=0;Q<h.length;++Q){const re=h[Q];if(!re.da&&re.listener==b&&re.capture==!!T&&re.ha==D)return Q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Ie={};function Le(h,b,T,D,Q){if(Array.isArray(b)){for(let re=0;re<b.length;re++)Le(h,b[re],T,D,Q);return null}return T=ji(T),h&&h[pe]?h.J(b,T,f(D)?!!D.capture:!1,Q):Qe(h,b,T,!1,D,Q)}function Qe(h,b,T,D,Q,re){if(!b)throw Error("Invalid event type");const _e=f(Q)?!!Q.capture:!!Q;let Fe=Vr(h);if(Fe||(h[De]=Fe=new me(h)),T=Fe.add(b,T,D,_e,re),T.proxy)return T;if(D=We(),T.proxy=D,D.src=h,D.listener=T,h.addEventListener)k||(Q=_e),Q===void 0&&(Q=!1),h.addEventListener(b.toString(),D,Q);else if(h.attachEvent)h.attachEvent(dt(b.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function We(){function h(T){return b.call(h.src,h.listener,T)}const b=tn;return h}function tt(h,b,T,D,Q){if(Array.isArray(b))for(var re=0;re<b.length;re++)tt(h,b[re],T,D,Q);else D=f(D)?!!D.capture:!!D,T=ji(T),h&&h[pe]?(h=h.i,re=String(b).toString(),re in h.g&&(b=h.g[re],T=Te(b,T,D,Q),T>-1&&(ce(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[re],h.h--)))):h&&(h=Vr(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Te(b,T,D,Q)),(T=h>-1?b[h]:null)&&ot(T))}function ot(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[pe])ye(b.i,h);else{var T=h.type,D=h.proxy;b.removeEventListener?b.removeEventListener(T,D,h.capture):b.detachEvent?b.detachEvent(dt(T),D):b.addListener&&b.removeListener&&b.removeListener(D),(T=Vr(b))?(ye(T,h),T.h==0&&(T.src=null,b[De]=null)):ce(h)}}}function dt(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function tn(h,b){if(h.da)h=!0;else{b=new ge(b,this);const T=h.listener,D=h.ha||h.src;h.fa&&ot(h),h=T.call(D,b)}return h}function Vr(h){return h=h[De],h instanceof me?h:null}var ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function ji(h){return typeof h=="function"?h:(h[ii]||(h[ii]=function(b){return h.handleEvent(b)}),h[ii])}function zt(){F.call(this),this.i=new me(this),this.M=this,this.G=null}E(zt,F),zt.prototype[pe]=!0,zt.prototype.removeEventListener=function(h,b,T,D){tt(this,h,b,T,D)};function Ct(h,b){var T,D=h.G;if(D)for(T=[];D;D=D.G)T.push(D);if(h=h.M,D=b.type||b,typeof b=="string")b=new S(b,h);else if(b instanceof S)b.target=b.target||h;else{var Q=b;b=new S(D,h),he(b,Q)}Q=!0;let re,_e;if(T)for(_e=T.length-1;_e>=0;_e--)re=b.g=T[_e],Q=xr(re,D,!0,b)&&Q;if(re=b.g=h,Q=xr(re,D,!0,b)&&Q,Q=xr(re,D,!1,b)&&Q,T)for(_e=0;_e<T.length;_e++)re=b.g=T[_e],Q=xr(re,D,!1,b)&&Q}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let D=0;D<T.length;D++)ce(T[D]);delete h.g[b],h.h--}}this.G=null},zt.prototype.J=function(h,b,T,D){return this.i.add(String(h),b,!1,T,D)},zt.prototype.K=function(h,b,T,D){return this.i.add(String(h),b,!0,T,D)};function xr(h,b,T,D){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let re=0;re<b.length;++re){const _e=b[re];if(_e&&!_e.da&&_e.capture==T){const Fe=_e.listener,un=_e.ha||_e.src;_e.fa&&ye(h.i,_e),Q=Fe.call(un,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Ra(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(h,b||0)}function ki(h){h.g=Ra(()=>{h.g=null,h.i&&(h.i=!1,ki(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Rt extends F{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ki(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(h){F.call(this),this.h=h,this.g={}}E(wr,F);var Mi=[];function Ur(h){be(h.g,function(b,T){this.g.hasOwnProperty(T)&&ot(b)},h),h.g={}}wr.prototype.N=function(){wr.Z.N.call(this),Ur(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=u.JSON.stringify,Pi=u.JSON.parse,jn=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Vi(){}function Ui(){}var fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){S.call(this,"d")}E(Wt,S);function wn(){S.call(this,"c")}E(wn,S);var It={},Ms=null;function Tr(){return Ms=Ms||new zt}It.Ia="serverreachability";function Zn(h){S.call(this,It.Ia,h)}E(Zn,S);function kn(h){const b=Tr();Ct(b,new Zn(b))}It.STAT_EVENT="statevent";function qr(h,b){S.call(this,It.STAT_EVENT,h),this.stat=b}E(qr,S);function _t(h){const b=Tr();Ct(b,new qr(b,h))}It.Ja="timingevent";function Jn(h,b){S.call(this,It.Ja,h),this.size=b}E(Jn,S);function Rn(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},b)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function qi(h,b,T,D,Q,re){h.info(function(){if(h.g)if(re){var _e="",Fe=re.split("&");for(let mt=0;mt<Fe.length;mt++){var un=Fe[mt].split("=");if(un.length>1){const Qt=un[0];un=un[1];const ys=Qt.split("_");_e=ys.length>=2&&ys[1]=="type"?_e+(Qt+"="+un+"&"):_e+(Qt+"=redacted&")}}}else _e=null;else _e=re;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+b+`
`+T+`
`+_e})}function ai(h,b,T,D,Q,re,_e){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+b+`
`+T+`
`+re+" "+_e})}function Tn(h,b,T,D){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Br(h,T)+(D?" "+D:"")})}function ls(h,b){h.info(function(){return"TIMEOUT: "+b})}Mn.prototype.info=function(){};function Br(h,b){if(!h.g)return b;if(!b)return null;try{const re=JSON.parse(b);if(re){for(h=0;h<re.length;h++)if(Array.isArray(re[h])){var T=re[h];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let _e=1;_e<D.length;_e++)D[_e]=""}}}}return hr(re)}catch{return b}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zi;function cs(){}E(cs,Vi),cs.prototype.g=function(){return new XMLHttpRequest},zi=new cs;function dr(h){return encodeURIComponent(String(h))}function nn(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function mr(h,b,T,D){this.j=h,this.i=b,this.l=T,this.S=D||1,this.V=new wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var Ht={},rn={};function Ar(h,b,T){h.M=1,h.A=hs(Gt(b)),h.u=T,h.R=!0,Zt(h,null)}function Zt(h,b){h.F=Date.now(),Sr(h),h.B=Gt(h.A);var T=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),hi(T.i,"t",D),h.C=0,T=h.j.L,h.h=new pr,h.g=kh(h.j,T?b:null,!h.u),h.P>0&&(h.O=new Rt(p(h.Y,h,h.g),h.P)),b=h.V,T=h.g,D=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Mi[0]=Q.toString()),Q=Mi);for(let re=0;re<Q.length;re++){const _e=Le(T,Q[re],D||b.handleEvent,!1,b.h||b);if(!_e)break;b.g[_e.key]=_e}b=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),kn(),qi(h.i,h.v,h.B,h.l,h.S,h.u)}mr.prototype.ba=function(h){h=h.target;const b=this.O;b&&U(h)==3?b.j():this.Y(h)},mr.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=U(this.g),un=this.g.ya(),mt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||ne(this.g)))){this.K||Fe!=4||un==7||(un==8||mt<=0?kn(3):kn(2)),jt(this);var b=this.g.ca();this.X=b;var T=Mo(this);if(this.o=b==200,ai(this.i,this.v,this.B,this.l,this.S,Fe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var re=D;break t}}re=null}if(h=re)Tn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nr(this,h);else{this.o=!1,this.m=3,_t(12),Pn(this),er(this);break e}}if(this.R){h=!0;let Qt;for(;!this.K&&this.C<T.length;)if(Qt=Oa(this,T),Qt==rn){Fe==4&&(this.m=4,_t(14),h=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Ht){this.m=4,_t(15),Tn(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Tn(this.i,this.l,Qt,null),Nr(this,Qt);if(Ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||T.length!=0||this.h.h||(this.m=1,_t(16),h=!1),this.o=this.o&&h,!h)Tn(this.i,this.l,T,"[Invalid Chunked Response]"),Pn(this),er(this);else if(T.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Kr(_e),_e.P=!0,_t(11))}}else Tn(this.i,this.l,T,null),Nr(this,T);Fe==4&&Pn(this),this.o&&!this.K&&(Fe==4?Qi(this.j,this):(this.o=!1,Sr(this)))}else Me(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Pn(this),er(this)}}}catch{}finally{}};function Mo(h){if(!Ia(h))return h.g.la();const b=ne(h.g);if(b==="")return"";let T="";const D=b.length,Q=U(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Pn(h),er(h),"";h.h.i=new u.TextDecoder}for(let re=0;re<D;re++)h.h.h=!0,T+=h.h.i.decode(b[re],{stream:!(Q&&re==D-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function Ia(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Oa(h,b){var T=h.C,D=b.indexOf(`
`,T);return D==-1?rn:(T=Number(b.substring(T,D)),isNaN(T)?Ht:(D+=1,D+T>b.length?rn:(b=b.slice(D,D+T),h.C=D+T,b)))}mr.prototype.cancel=function(){this.K=!0,Pn(this)};function Sr(h){h.T=Date.now()+h.H,oi(h,h.H)}function oi(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Rn(p(h.aa,h),b)}function jt(h){h.D&&(u.clearTimeout(h.D),h.D=null)}mr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ls(this.i,this.B),this.M!=2&&(kn(),_t(17)),Pn(this),this.m=2,er(this)):oi(this,this.T-h)};function er(h){h.j.I==0||h.K||Qi(h.j,h)}function Pn(h){jt(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Ur(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Nr(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||Vn(T.h,h))){if(!h.L&&Vn(T.h,h)&&T.I==3){try{var D=T.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)zs(T),yt(T);else break e;zn(T),_t(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Rn(p(T.Va,T),6e3));gr(T.h)<=1&&T.ta&&(T.ta=void 0)}else di(T,11)}else if((h.L||T.g==h)&&zs(T),!N(b))for(Q=T.Ba.g.parse(b),b=0;b<Q.length;b++){let mt=Q[b];const Qt=mt[0];if(!(Qt<=T.K))if(T.K=Qt,mt=mt[1],T.I==2)if(mt[0]=="c"){T.M=mt[1],T.ba=mt[2];const ys=mt[3];ys!=null&&(T.ka=ys,T.j.info("VER="+T.ka));const mi=mt[4];mi!=null&&(T.za=mi,T.j.info("SVER="+T.za));const Hs=mt[5];Hs!=null&&typeof Hs=="number"&&Hs>0&&(D=1.5*Hs,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Fs=h.g;if(Fs){const Vo=Fs.g?Fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vo){var re=D.h;re.g||Vo.indexOf("spdy")==-1&&Vo.indexOf("quic")==-1&&Vo.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(tr(re,re.h),re.h=null))}if(D.G){const Al=Fs.g?Fs.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(D.wa=Al,ct(D.J,D.G,Al))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var _e=h;if(D.na=jh(D,D.L?D.ba:null,D.W),_e.L){Vs(D.h,_e);var Fe=_e,un=D.O;un&&(Fe.H=un),Fe.D&&(jt(Fe),Sr(Fe)),D.g=_e}else $r(D);T.i.length>0&&At(T)}else mt[0]!="stop"&&mt[0]!="close"||di(T,7);else T.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?di(T,7):Xe(T):mt[0]!="noop"&&T.l&&T.l.qa(mt),T.A=0)}}kn(4)}catch{}}var Ft=class{constructor(h,b){this.g=h,this.map=b}};function Hi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function us(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gr(h){return h.h?1:h.g?h.g.size:0}function Vn(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function tr(h,b){h.g?h.g.add(b):h.h=b}function Vs(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Hi.prototype.cancel=function(){if(this.i=Fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fi(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return A(h.i)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function li(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const D=h[T].indexOf("=");let Q,re=null;D>=0?(Q=h[T].substring(0,D),re=h[T].substring(D+1)):Q=h[T],b(Q,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Un(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Un?(this.l=h.l,kt(this,h.j),this.o=h.o,this.g=h.g,Cr(this,h.u),this.h=h.h,zr(this,La(h.i)),this.m=h.m):h&&(b=String(h).match(Da))?(this.l=!1,kt(this,b[1]||"",!0),this.o=Rr(b[2]||""),this.g=Rr(b[3]||"",!0),Cr(this,b[4]),this.h=Rr(b[5]||"",!0),zr(this,b[6]||"",!0),this.m=Rr(b[7]||"")):(this.l=!1,this.i=new pn(null,this.l))}Un.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Us(b,ci,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Us(b,ci,!0),"@"),h.push(dr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Us(T,T.charAt(0)=="/"?Gi:ui,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Us(T,ds)),h.join("")},Un.prototype.resolve=function(h){const b=Gt(this);let T=!!h.j;T?kt(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var D=h.h;if(T)Cr(b,h.u);else if(T=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(D=b.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const re=[];for(let _e=0;_e<Q.length;){const Fe=Q[_e++];Fe=="."?D&&_e==Q.length&&re.push(""):Fe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),D&&_e==Q.length&&re.push("")):(re.push(Fe),D=!0)}D=re.join("/")}else D=Q}return T?b.h=D:T=h.i.toString()!=="",T?zr(b,La(h.i)):T=!!h.m,T&&(b.m=h.m),b};function Gt(h){return new Un(h)}function kt(h,b,T){h.j=T?Rr(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Cr(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function zr(h,b,T){b instanceof pn?(h.i=b,fi(h.i,h.l)):(T||(b=Us(b,fs)),h.i=new pn(b,h.l))}function ct(h,b,T){h.i.set(b,T)}function hs(h){return ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Rr(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,In),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function In(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ci=/[#\/\?@]/g,ui=/[#\?:]/g,Gi=/[#\?]/g,fs=/[#\?@]/g,ds=/#/g;function pn(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function $t(h){h.g||(h.g=new Map,h.h=0,h.i&&li(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=pn.prototype,n.add=function(h,b){$t(this),this.i=null,h=ms(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function Ir(h,b){$t(h),b=ms(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function $i(h,b){return $t(h),b=ms(h,b),h.g.has(b)}n.forEach=function(h,b){$t(this),this.g.forEach(function(T,D){T.forEach(function(Q){h.call(b,Q,D,this)},this)},this)};function nr(h,b){$t(h);let T=[];if(typeof b=="string")$i(h,b)&&(T=T.concat(h.g.get(ms(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}n.set=function(h,b){return $t(this),this.i=null,h=ms(this,h),$i(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},n.get=function(h,b){return h?(h=nr(this,h),h.length>0?String(h[0]):b):b};function hi(h,b,T){Ir(h,b),T.length>0&&(h.i=null,h.g.set(ms(h,b),A(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var T=b[D];const Q=dr(T);T=nr(this,T);for(let re=0;re<T.length;re++){let _e=Q;T[re]!==""&&(_e+="="+dr(T[re])),h.push(_e)}}return this.i=h.join("&")};function La(h){const b=new pn;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function ms(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function fi(h,b){b&&!h.j&&($t(h),h.i=null,h.g.forEach(function(T,D){const Q=D.toLowerCase();D!=Q&&(Ir(this,D),hi(this,Q,T))},h)),h.j=b}function rr(h,b){const T=new Mn;if(u.Image){const D=new Image;D.onload=v(qn,T,"TestLoadImage: loaded",!0,b,D),D.onerror=v(qn,T,"TestLoadImage: error",!1,b,D),D.onabort=v(qn,T,"TestLoadImage: abort",!1,b,D),D.ontimeout=v(qn,T,"TestLoadImage: timeout",!1,b,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else b(!1)}function ln(h,b){const T=new Mn,D=new AbortController,Q=setTimeout(()=>{D.abort(),qn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:D.signal}).then(re=>{clearTimeout(Q),re.ok?qn(T,"TestPingServer: ok",!0,b):qn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),qn(T,"TestPingServer: error",!1,b)})}function qn(h,b,T,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(T)}catch{}}function Hr(){this.g=new jn}function Bn(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Bn,Vi),Bn.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(h,b){zt.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Fr,zt),n=Fr.prototype,n.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,sr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?ps(this):sr(this),this.readyState==3&&Gr(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ps(this))},n.Na=function(h){this.g&&(this.response=h,ps(this))},n.ga=function(){this.g&&ps(this)};function ps(h){h.readyState=4,h.l=null,h.j=null,h.B=null,sr(h)}n.setRequestHeader=function(h,b){this.A.append(h,b)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function sr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let b="";return be(h,function(T,D){b+=D,b+=":",b+=T,b+=`\r
`}),b}function gs(h,b,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=On(T),typeof h=="string"?T!=null&&dr(T):ct(h,b,T))}function Ye(h){zt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,zt);var yr=/^https?$/i,qs=["POST","PUT"];n=Ye.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,b,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zi.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(re){Bs(this,re);return}if(h=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)T.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const re of D.keys())T.set(re,D.get(re));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(qs,b,void 0)>=0)||D||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,_e]of T)this.g.setRequestHeader(re,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(re){Bs(this,re)}};function Bs(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Ki(h),O(h)}function Ki(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ct(this,"complete"),Ct(this,"abort"),O(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),O(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_(this):this.Xa())},n.Xa=function(){_(this)};function _(h){if(h.h&&typeof l<"u"){if(h.v&&U(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ct(h,"readystatechange"),U(h)==4){h.h=!1;try{const re=h.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var D;if(D=re===0){let _e=String(h.D).match(Da)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),D=!yr.test(_e?_e.toLowerCase():"")}T=D}if(T)Ct(h,"complete"),Ct(h,"success");else{h.o=6;try{var Q=U(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Ki(h)}}finally{O(h)}}}}function O(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||Ct(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function U(h){return h.g?h.g.readyState:0}n.ca=function(){try{return U(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Pi(b)}};function ne(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Me(h){const b={};h=(h.g&&U(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(N(h[D]))continue;var T=nn(h[D]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=b[Q]||[];b[Q]=re,re.push(T)}ve(b,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ae(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function $e(h){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ae("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ae("baseRetryDelayMs",5e3,h),this.Za=Ae("retryDelaySeedMs",1e4,h),this.Ta=Ae("forwardChannelMaxRetries",2,h),this.va=Ae("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Hi(h&&h.concurrentRequestLimit),this.Ba=new Hr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$e.prototype,n.ka=8,n.I=1,n.connect=function(h,b,T,D){_t(0),this.W=h,this.H=b||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=jh(this,null,this.W),At(this)};function Xe(h){if(Ze(h),h.I==3){var b=h.V++,T=Gt(h.J);if(ct(T,"SID",h.M),ct(T,"RID",b),ct(T,"TYPE","terminate"),Kt(h,T),b=new mr(h,h.j,b),b.M=2,b.A=hs(Gt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.A,T=!0),T||(b.g=kh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Sr(b)}Lh(h)}function yt(h){h.g&&(Kr(h),h.g.cancel(),h.g=null)}function Ze(h){yt(h),h.v&&(u.clearTimeout(h.v),h.v=null),zs(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function At(h){if(!us(h.h)&&!h.m){h.m=!0;var b=h.Ea;de||j(),xe||(de(),xe=!0),M.add(b,h),h.D=0}}function cn(h,b){return gr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Rn(p(h.Ea,h,b),Dh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new mr(this,this.j,h);let re=this.o;if(this.U&&(re?(re=V(re),he(re,this.U)):re=this.U),this.u!==null||this.R||(Q.J=re,re=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=sn(this,Q,b),T=Gt(this.J),ct(T,"RID",h),ct(T,"CVER",22),this.G&&ct(T,"X-HTTP-Session-Id",this.G),Kt(this,T),re&&(this.R?b="headers="+dr(On(re))+"&"+b:this.u&&gs(T,this.u,re)),tr(this.h,Q),this.Ra&&ct(T,"TYPE","init"),this.S?(ct(T,"$req",b),ct(T,"SID","null"),Q.U=!0,Ar(Q,T,null)):Ar(Q,T,b),this.I=2}}else this.I==3&&(h?Mt(this,h):this.i.length==0||us(this.h)||Mt(this))};function Mt(h,b){var T;b?T=b.l:T=h.V++;const D=Gt(h.J);ct(D,"SID",h.M),ct(D,"RID",T),ct(D,"AID",h.K),Kt(h,D),h.u&&h.o&&gs(D,h.u,h.o),T=new mr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=sn(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tr(h.h,T),Ar(T,D,b)}function Kt(h,b){h.H&&be(h.H,function(T,D){ct(b,D,T)}),h.l&&be({},function(T,D){ct(b,D,T)})}function sn(h,b,T){T=Math.min(h.i.length,T);const D=h.l?p(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Fe=-1;for(;;){const un=["count="+T];Fe==-1?T>0?(Fe=Q[0].g,un.push("ofs="+Fe)):Fe=0:un.push("ofs="+Fe);let mt=!0;for(let Qt=0;Qt<T;Qt++){var re=Q[Qt].g;const ys=Q[Qt].map;if(re-=Fe,re<0)Fe=Math.max(0,Q[Qt].g-100),mt=!1;else try{re="req"+re+"_"||"";try{var _e=ys instanceof Map?ys:Object.entries(ys);for(const[mi,Hs]of _e){let Fs=Hs;f(Hs)&&(Fs=hr(Hs)),un.push(re+mi+"="+encodeURIComponent(Fs))}}catch(mi){throw un.push(re+"type="+encodeURIComponent("_badmap")),mi}}catch{D&&D(ys)}}if(mt){_e=un.join("&");break e}}_e=void 0}return h=h.i.splice(0,T),b.G=h,_e}function $r(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;de||j(),xe||(de(),xe=!0),M.add(b,h),h.A=0}}function zn(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Rn(p(h.Da,h),Dh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Rn(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),yt(this),Po(this))};function Kr(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Po(h){h.g=new mr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Gt(h.na);ct(b,"RID","rpc"),ct(b,"SID",h.M),ct(b,"AID",h.K),ct(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&ct(b,"TO",h.ia),ct(b,"TYPE","xmlhttp"),Kt(h,b),h.u&&h.o&&gs(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=hs(Gt(b)),T.u=null,T.R=!0,Zt(T,h)}n.Va=function(){this.C!=null&&(this.C=null,yt(this),zn(this),_t(19))};function zs(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Qi(h,b){var T=null;if(h.g==b){zs(h),Kr(h),h.g=null;var D=2}else if(Vn(h.h,b))T=b.G,Vs(h.h,b),D=1;else return;if(h.I!=0){if(b.o)if(D==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Q=h.D;D=Tr(),Ct(D,new Jn(D,T)),At(h)}else $r(h);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(D==1&&cn(h,b)||D==2&&zn(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),Q){case 1:di(h,5);break;case 4:di(h,10);break;case 3:di(h,6);break;default:di(h,2)}}}function Dh(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function di(h,b){if(h.j.info("Error code "+b),b==2){var T=p(h.bb,h),D=h.Ua;const Q=!D;D=new Un(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||kt(D,"https"),hs(D),Q?rr(D.toString(),T):ln(D.toString(),T)}else _t(2);h.I=0,h.l&&h.l.pa(b),Lh(h),Ze(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Lh(h){if(h.I=0,h.ja=[],h.l){const b=Fi(h.h);(b.length!=0||h.i.length!=0)&&(C(h.ja,b),C(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function jh(h,b,T){var D=T instanceof Un?Gt(T):new Un(T);if(D.g!="")b&&(D.g=b+"."+D.g),Cr(D,D.u);else{var Q=u.location;D=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const re=new Un(null);D&&kt(re,D),b&&(re.g=b),Q&&Cr(re,Q),T&&(re.h=T),D=re}return T=h.G,b=h.wa,T&&b&&ct(D,T,b),ct(D,"VER",h.ka),Kt(h,D),D}function kh(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new Ye(new Bn({ab:T})):new Ye(h.ma),b.Fa(h.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}n=Mh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ja(){}ja.prototype.g=function(h,b){return new vr(h,b)};function vr(h,b){zt.call(this),this.g=new $e(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!N(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Yi(this)}E(vr,zt),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Xe(this.g)},vr.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=hr(h),h=T);b.i.push(new Ft(b.Ya++,h)),b.I==3&&At(b)},vr.prototype.N=function(){this.g.l=null,delete this.j,Xe(this.g),delete this.g,vr.Z.N.call(this)};function Ph(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const T in b){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}E(Ph,Wt);function Vh(){wn.call(this),this.status=1}E(Vh,wn);function Yi(h){this.g=h}E(Yi,Mh),Yi.prototype.ra=function(){Ct(this.g,"a")},Yi.prototype.qa=function(h){Ct(this.g,new Ph(h))},Yi.prototype.pa=function(h){Ct(this.g,new Vh)},Yi.prototype.oa=function(){Ct(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,WT=function(){return new ja},XT=function(){return Tr()},YT=It,fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,md=Ps,Bi.COMPLETE="complete",QT=Bi,Ui.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Iu=Ui,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,KT=Ye}).apply(typeof Gf<"u"?Gf:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",OE="4.9.2";class or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");let Lc="12.3.0";const ll=new t0("@firebase/firestore");function tc(){return ll.logLevel}function we(n,...e){if(ll.logLevel<=st.DEBUG){const t=e.map(m0);ll.debug(`Firestore (${Lc}): ${n}`,...t)}}function ba(n,...e){if(ll.logLevel<=st.ERROR){const t=e.map(m0);ll.error(`Firestore (${Lc}): ${n}`,...t)}}function bc(n,...e){if(ll.logLevel<=st.WARN){const t=e.map(m0);ll.warn(`Firestore (${Lc}): ${n}`,...t)}}function m0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ZT(n,r,t)}function ZT(n,e,t){let r=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ba(r),new Error(r)}function gt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||ZT(e,a,r)}function Be(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends wa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class JT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(or.UNAUTHENTICATED)))}shutdown(){}}class QO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YO{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new JT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new or(e)}}class XO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new XO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(or.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ts(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new DE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class p0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=JO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function it(n,e){return n<e?-1:n>e?1:0}function dy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return jg(a)===jg(l)?it(a,l):jg(a)?1:-1}return it(n.length,e.length)}const e6=55296,t6=57343;function jg(n){const e=n.charCodeAt(0);return e>=e6&&e<=t6}function _c(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const LE="__name__";class _i{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=_i.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return it(e.length,t.length)}static compareSegments(e,t){const r=_i.isNumericId(e),a=_i.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?_i.extractNumericId(e).compare(_i.extractNumericId(t)):dy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class Dt extends _i{construct(e,t,r){return new Dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Dt(t)}static emptyPath(){return new Dt([])}}const n6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends _i{construct(e,t,r){return new Qn(e,t,r)}static isValidIdentifier(e){return n6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new Qn([LE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ee(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(r+=f,a++):(l(),a++)}if(l(),u)throw new Ee(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Dt.fromString(e))}static fromName(e){return new ke(Dt.fromString(e).popFirst(5))}static empty(){return new ke(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Dt(e.slice()))}}function eA(n,e,t){if(!t)throw new Ee(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r6(n,e,t,r){if(e===!0&&r===!0)throw new Ee(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jE(n){if(!ke.isDocumentKey(n))throw new Ee(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(ke.isDocumentKey(n))throw new Ee(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Ls(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jd(n);throw new Ee(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xn(n,e){const t={typeString:n};return e&&(t.value=e),t}function vh(n,e){if(!tA(n))throw new Ee(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new Ee(le.INVALID_ARGUMENT,t);return!0}const ME=-62135596800,PE=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*PE);return new qt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ME)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vh(e,qt._jsonSchema))return new qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ME;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qt._jsonSchemaVersion="firestore/timestamp/1.0",qt._jsonSchema={type:xn("string",qt._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new qt(0,0))}static max(){return new ze(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qu=-1;function s6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new qt(t+1,0):new qt(t,r));return new Eo(a,ke.empty(),e)}function i6(n){return new Eo(n.readTime,n.key,Qu)}class Eo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Eo(ze.min(),ke.empty(),Qu)}static max(){return new Eo(ze.max(),ke.empty(),Qu)}}function a6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:it(n.largestBatchId,e.largestBatchId))}const o6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jc(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==o6)throw n;we("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.reject(t)}static resolve(e){return new fe(((t,r)=>{t(e)}))}static reject(e){return new fe(((t,r)=>{r(e)}))}static waitFor(e){return new fe(((t,r)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&t()}),(m=>r(m)))})),u=!0,l===a&&t()}))}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next((a=>a?fe.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new fe(((r,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((v=>{u[p]=v,++f,f===l&&r(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new fe(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function c6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kc(n){return n.name==="IndexedDbTransactionError"}class em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;const g0=-1;function tm(n){return n==null}function Id(n){return n===0&&1/n==-1/0}function u6(n){return typeof n=="number"&&Number.isInteger(n)&&!Id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const nA="";function h6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VE(e)),e=f6(n.get(t),e);return VE(e)}function f6(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case nA:t+="";break;default:t+=l}}return t}function VE(n){return n+nA+""}function UE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d6(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function rA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class en{constructor(e,t){this.comparator=e,this.root=t||Kn.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Kn.RED,this.left=a??Kn.EMPTY,this.right=l??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Kn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Kn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ns{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new ns([])}unionWith(e){let t=new Nn(Qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ns(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class sA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sA("Invalid base64 string: "+l):l}})(e);return new Xn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const m6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=m6.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(n.seconds),nanos:dn(n.nanos)}}function dn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?Xn.fromBase64String(n):Xn.fromUint8Array(n)}const iA="server_timestamp",aA="__type__",oA="__previous_value__",lA="__local_write_time__";function y0(n){return(n?.mapValue?.fields||{})[aA]?.stringValue===iA}function nm(n){const e=n.mapValue.fields[oA];return y0(e)?nm(e):e}function Yu(n){const e=xo(n.mapValue.fields[lA].timestampValue);return new qt(e.seconds,e.nanos)}class p6{constructor(e,t,r,a,l,u,f,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Od="(default)";class Xu{constructor(e,t){this.projectId=e,this.database=t||Od}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===Od}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}const cA="__type__",g6="__max__",Kf={mapValue:{}},uA="__vector__",Dd="value";function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?y0(n)?4:v6(n)?9007199254740991:y6(n)?10:11:Ue(28295,{value:n})}function Ri(n,e){if(n===e)return!0;const t=To(n);if(t!==To(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yu(n).isEqual(Yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=xo(a.timestampValue),f=xo(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return wo(a.bytesValue).isEqual(wo(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return dn(a.geoPointValue.latitude)===dn(l.geoPointValue.latitude)&&dn(a.geoPointValue.longitude)===dn(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return dn(a.integerValue)===dn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=dn(a.doubleValue),f=dn(l.doubleValue);return u===f?Id(u)===Id(f):isNaN(u)&&isNaN(f)}return!1})(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(UE(u)!==UE(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Ri(u[m],f[m])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function Wu(n,e){return(n.values||[]).find((t=>Ri(t,e)))!==void 0}function Ec(n,e){if(n===e)return 0;const t=To(n),r=To(e);if(t!==r)return it(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return it(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=dn(l.integerValue||l.doubleValue),m=dn(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return BE(n.timestampValue,e.timestampValue);case 4:return BE(Yu(n),Yu(e));case 5:return dy(n.stringValue,e.stringValue);case 6:return(function(l,u){const f=wo(l),m=wo(u);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=it(f[p],m[p]);if(v!==0)return v}return it(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=it(dn(l.latitude),dn(u.latitude));return f!==0?f:it(dn(l.longitude),dn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return zE(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[Dd]?.arrayValue,v=m[Dd]?.arrayValue,E=it(p?.values?.length||0,v?.values?.length||0);return E!==0?E:zE(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Kf.mapValue&&u===Kf.mapValue)return 0;if(l===Kf.mapValue)return 1;if(u===Kf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const x=dy(m[E],v[E]);if(x!==0)return x;const A=Ec(f[m[E]],p[v[E]]);if(A!==0)return A}return it(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function BE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return it(n,e);const t=xo(n),r=xo(e),a=it(t.seconds,r.seconds);return a!==0?a:it(t.nanos,r.nanos)}function zE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ec(t[a],r[a]);if(l)return l}return it(t.length,r.length)}function xc(n){return my(n)}function my(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=xo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return wo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ke.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=my(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${my(t.fields[u])}`;return a+"}"})(n.mapValue):Ue(61005,{value:n})}function pd(n){switch(To(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(n);return e?16+pd(e):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+pd(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Oo(r.fields,((l,u)=>{a+=l.length+pd(u)})),a})(n.mapValue);default:throw Ue(13486,{value:n})}}function HE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function v0(n){return!!n&&"arrayValue"in n}function FE(n){return!!n&&"nullValue"in n}function GE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gd(n){return!!n&&"mapValue"in n}function y6(n){return(n?.mapValue?.fields||{})[cA]?.stringValue===uA}function Uu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Uu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(n.arrayValue.values[t]);return e}return{...n}}function v6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g6}class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=Qn.emptyPath(),r={},a=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=f.popLast()}u?r[f.lastSegment()]=Uu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];gd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Oo(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Pr(Uu(this.value))}}function hA(n){const e=[];return Oo(n.fields,((t,r)=>{const a=new Qn([t]);if(gd(r)){const l=hA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ns(e)}class lr{constructor(e,t,r,a,l,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new lr(e,0,ze.min(),ze.min(),ze.min(),Pr.empty(),0)}static newFoundDocument(e,t,r,a){return new lr(e,1,t,ze.min(),r,a,0)}static newNoDocument(e,t){return new lr(e,2,t,ze.min(),ze.min(),Pr.empty(),0)}static newUnknownDocument(e,t){return new lr(e,3,t,ze.min(),ze.min(),Pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ld{constructor(e,t){this.position=e,this.inclusive=t}}function $E(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?r=ke.comparator(ke.fromName(u.referenceValue),t.key):r=Ec(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function KE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}class Zu{constructor(e,t="asc"){this.field=e,this.dir=t}}function b6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class fA{}class En extends fA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new E6(e,t,r):t==="array-contains"?new T6(e,r):t==="in"?new A6(e,r):t==="not-in"?new S6(e,r):t==="array-contains-any"?new N6(e,r):new En(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new x6(e,r):new w6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ec(t,this.value)):t!==null&&To(this.value)===To(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends fA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ti(e,t)}matches(e){return dA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dA(n){return n.op==="and"}function mA(n){return _6(n)&&dA(n)}function _6(n){for(const e of n.filters)if(e instanceof ti)return!1;return!0}function gy(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+xc(n.value);if(mA(n))return n.filters.map((e=>gy(e))).join(",");{const e=n.filters.map((t=>gy(t))).join(",");return`${n.op}(${e})`}}function pA(n,e){return n instanceof En?(function(r,a){return a instanceof En&&r.op===a.op&&r.field.isEqual(a.field)&&Ri(r.value,a.value)})(n,e):n instanceof ti?(function(r,a){return a instanceof ti&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,f)=>l&&pA(u,a.filters[f])),!0):!1})(n,e):void Ue(19439)}function gA(n){return n instanceof En?(function(t){return`${t.field.canonicalString()} ${t.op} ${xc(t.value)}`})(n):n instanceof ti?(function(t){return t.op.toString()+" {"+t.getFilters().map(gA).join(" ,")+"}"})(n):"Filter"}class E6 extends En{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class x6 extends En{constructor(e,t){super(e,"in",t),this.keys=yA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class w6 extends En{constructor(e,t){super(e,"not-in",t),this.keys=yA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yA(n,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class T6 extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return v0(t)&&Wu(t.arrayValue,this.value)}}class A6 extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class S6 extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class N6 extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!v0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Wu(this.value.arrayValue,r)))}}class C6{constructor(e,t=null,r=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function QE(n,e=null,t=[],r=[],a=null,l=null,u=null){return new C6(n,e,t,r,a,l,u)}function b0(n){const e=Be(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>gy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>xc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>xc(r))).join(",")),e.Te=t}return e.Te}function _0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!b6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KE(n.startAt,e.startAt)&&KE(n.endAt,e.endAt)}function yy(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Mc{constructor(e,t=null,r=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R6(n,e,t,r,a,l,u,f){return new Mc(n,e,t,r,a,l,u,f)}function E0(n){return new Mc(n)}function YE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vA(n){return n.collectionGroup!==null}function qu(n){const e=Be(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Nn(Qn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zu(l,r))})),t.has(Qn.keyField().canonicalString())||e.Ie.push(new Zu(Qn.keyField(),r))}return e.Ie}function Ti(n){const e=Be(n);return e.Ee||(e.Ee=bA(e,qu(n))),e.Ee}function I6(n){const e=Be(n);return e.de||(e.de=bA(e,n.explicitOrderBy)),e.de}function bA(n,e){if(n.limitType==="F")return QE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zu(a.field,l)}));const t=n.endAt?new Ld(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ld(n.startAt.position,n.startAt.inclusive):null;return QE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vy(n,e){const t=n.filters.concat([e]);return new Mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function by(n,e,t){return new Mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rm(n,e){return _0(Ti(n),Ti(e))&&n.limitType===e.limitType}function _A(n){return`${b0(Ti(n))}|lt:${n.limitType}`}function nc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>gA(a))).join(", ")}]`),tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>xc(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>xc(a))).join(",")),`Target(${r})`})(Ti(n))}; limitType=${n.limitType})`}function sm(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ke.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of qu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,f,m){const p=$E(u,f,m);return u.inclusive?p<=0:p<0})(r.startAt,qu(r),a)||r.endAt&&!(function(u,f,m){const p=$E(u,f,m);return u.inclusive?p>=0:p>0})(r.endAt,qu(r),a))})(n,e)}function O6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EA(n){return(e,t)=>{let r=!1;for(const a of qu(n)){const l=D6(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function D6(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ec(m,p):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}class pl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}const L6=new en(ke.comparator);function _a(){return L6}const xA=new en(ke.comparator);function Ou(...n){let e=xA;for(const t of n)e=e.insert(t.key,t);return e}function wA(n){let e=xA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function nl(){return Bu()}function TA(){return Bu()}function Bu(){return new pl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const j6=new en(ke.comparator),k6=new Nn(ke.comparator);function at(...n){let e=k6;for(const t of n)e=e.add(t);return e}const M6=new Nn(it);function P6(){return M6}function x0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function AA(n){return{integerValue:""+n}}function V6(n,e){return u6(e)?AA(e):x0(n,e)}class im{constructor(){this._=void 0}}function U6(n,e,t){return n instanceof Ju?(function(a,l){const u={fields:{[aA]:{stringValue:iA},[lA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&y0(l)&&(l=nm(l)),l&&(u.fields[oA]=l),{mapValue:u}})(t,e):n instanceof eh?NA(n,e):n instanceof th?CA(n,e):(function(a,l){const u=SA(a,l),f=XE(u)+XE(a.Ae);return py(u)&&py(a.Ae)?AA(f):x0(a.serializer,f)})(n,e)}function q6(n,e,t){return n instanceof eh?NA(n,e):n instanceof th?CA(n,e):t}function SA(n,e){return n instanceof jd?(function(r){return py(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Ju extends im{}class eh extends im{constructor(e){super(),this.elements=e}}function NA(n,e){const t=RA(e);for(const r of n.elements)t.some((a=>Ri(a,r)))||t.push(r);return{arrayValue:{values:t}}}class th extends im{constructor(e){super(),this.elements=e}}function CA(n,e){let t=RA(e);for(const r of n.elements)t=t.filter((a=>!Ri(a,r)));return{arrayValue:{values:t}}}class jd extends im{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function XE(n){return dn(n.integerValue||n.doubleValue)}function RA(n){return v0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class B6{constructor(e,t){this.field=e,this.transform=t}}function z6(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof eh&&a instanceof eh||r instanceof th&&a instanceof th?_c(r.elements,a.elements,Ri):r instanceof jd&&a instanceof jd?Ri(r.Ae,a.Ae):r instanceof Ju&&a instanceof Ju})(n.transform,e.transform)}class H6{constructor(e,t){this.version=e,this.transformResults=t}}class Os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class am{}function IA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new w0(n.key,Os.none()):new bh(n.key,n.data,Os.none());{const t=n.data,r=Pr.empty();let a=new Nn(Qn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Do(n.key,r,new ns(a.toArray()),Os.none())}}function F6(n,e,t){n instanceof bh?(function(a,l,u){const f=a.value.clone(),m=ZE(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Do?(function(a,l,u){if(!yd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=ZE(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(OA(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function zu(n,e,t,r){return n instanceof bh?(function(l,u,f,m){if(!yd(l.precondition,u))return f;const p=l.value.clone(),v=JE(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Do?(function(l,u,f,m){if(!yd(l.precondition,u))return f;const p=JE(l.fieldTransforms,m,u),v=u.data;return v.setAll(OA(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(l,u,f){return yd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,e,t)}function G6(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=SA(r.transform,a||null);l!=null&&(t===null&&(t=Pr.empty()),t.set(r.field,l))}return t||null}function WE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&_c(r,a,((l,u)=>z6(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bh extends am{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Do extends am{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function OA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function ZE(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);r.set(l.field,q6(u,f,t[a]))}return r}function JE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);r.set(a.field,U6(l,u,e))}return r}class w0 extends am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $6 extends am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K6{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&F6(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const m=IA(u,f);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),at())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,((t,r)=>WE(t,r)))&&_c(this.baseMutations,e.baseMutations,((t,r)=>WE(t,r)))}}class T0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return j6})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new T0(e,t,r,a)}}class Q6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y6{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class X6{constructor(e,t){this.count=e,this.unchangedNames=t}}var _n,ut;function W6(n){switch(n){case le.OK:return Ue(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function DA(n){if(n===void 0)return ba("GRPC error has no .code"),le.UNKNOWN;switch(n){case _n.OK:return le.OK;case _n.CANCELLED:return le.CANCELLED;case _n.UNKNOWN:return le.UNKNOWN;case _n.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case _n.INTERNAL:return le.INTERNAL;case _n.UNAVAILABLE:return le.UNAVAILABLE;case _n.UNAUTHENTICATED:return le.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case _n.NOT_FOUND:return le.NOT_FOUND;case _n.ALREADY_EXISTS:return le.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return le.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case _n.ABORTED:return le.ABORTED;case _n.OUT_OF_RANGE:return le.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return le.UNIMPLEMENTED;case _n.DATA_LOSS:return le.DATA_LOSS;default:return Ue(39323,{code:n})}}(ut=_n||(_n={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function Z6(){return new TextEncoder}const J6=new yo([4294967295,4294967295],0);function ex(n){const e=Z6().encode(n),t=new $T;return t.update(e),new Uint8Array(t.digest())}function tx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yo([t,r],0),new yo([a,l],0)]}class A0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Du(`Invalid padding: ${t}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Du(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=yo.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(yo.fromNumber(r)));return a.compare(J6)===1&&(a=new yo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ex(e),[r,a]=tx(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new A0(l,a,t);return r.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=ex(e),[r,a]=tx(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class om{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new om(ze.min(),a,new en(it),_a(),at())}}class _h{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _h(r,t,at(),at(),at())}}class vd{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class LA{constructor(e,t){this.targetId=e,this.Ce=t}}class jA{constructor(e,t,r=Xn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class nx{constructor(){this.ve=0,this.Fe=rx(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),t=at(),r=at();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ue(38017,{changeType:l})}})),new _h(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=rx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e5{constructor(e){this.Ge=e,this.ze=new Map,this.je=_a(),this.Je=Qf(),this.He=Qf(),this.Ye=new en(it)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(yy(l))if(r===0){const u=new ke(l.path);this.et(t,u,lr.newNoDocument(u,ze.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=wo(r).toUint8Array()}catch(m){if(m instanceof sA)return bc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new A0(u,a,l)}catch(m){return bc(m instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&yy(f.target)){const m=new ke(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,lr.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=at();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new om(e,t,this.Ye,this.je,r);return this.je=_a(),this.Je=Qf(),this.He=Qf(),this.Ye=new en(it),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new nx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nn(it),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nn(it),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qf(){return new en(ke.comparator)}function rx(){return new en(ke.comparator)}const t5={asc:"ASCENDING",desc:"DESCENDING"},n5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r5={and:"AND",or:"OR"};class s5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _y(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function kd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function i5(n,e){return kd(n,e.toTimestamp())}function Ai(n){return gt(!!n,49232),ze.fromTimestamp((function(t){const r=xo(t);return new qt(r.seconds,r.nanos)})(n))}function S0(n,e){return Ey(n,e).canonicalString()}function Ey(n,e){const t=(function(a){return new Dt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function MA(n){const e=Dt.fromString(n);return gt(zA(e),10190,{key:e.toString()}),e}function xy(n,e){return S0(n.databaseId,e.path)}function kg(n,e){const t=MA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(VA(t))}function PA(n,e){return S0(n.databaseId,e)}function a5(n){const e=MA(n);return e.length===4?Dt.emptyPath():VA(e)}function wy(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VA(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sx(n,e,t){return{name:xy(n,e),fields:t.value.mapValue.fields}}function o5(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ue(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(gt(v===void 0||typeof v=="string",58123),Xn.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Xn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const v=p.code===void 0?le.UNKNOWN:DA(p.code);return new Ee(v,p.message||"")})(u);t=new jA(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=kg(n,r.document.name),l=Ai(r.document.updateTime),u=r.document.createTime?Ai(r.document.createTime):ze.min(),f=new Pr({mapValue:{fields:r.document.fields}}),m=lr.newFoundDocument(a,l,u,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new vd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=kg(n,r.document),l=r.readTime?Ai(r.readTime):ze.min(),u=lr.newNoDocument(a,l),f=r.removedTargetIds||[];t=new vd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=kg(n,r.document),l=r.removedTargetIds||[];t=new vd([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new X6(a,l),f=r.targetId;t=new LA(f,u)}}return t}function l5(n,e){let t;if(e instanceof bh)t={update:sx(n,e.key,e.value)};else if(e instanceof w0)t={delete:xy(n,e.key)};else if(e instanceof Do)t={update:sx(n,e.key,e.data),updateMask:y5(e.fieldMask)};else{if(!(e instanceof $6))return Ue(16599,{Vt:e.type});t={verify:xy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const f=u.transform;if(f instanceof Ju)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof eh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof th)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ue(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:i5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)})(n,e.precondition)),t}function c5(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Ai(a.updateTime):Ai(l);return u.isEqual(ze.min())&&(u=Ai(l)),new H6(u,a.transformResults||[])})(t,e)))):[]}function u5(n,e){return{documents:[PA(n,e.path)]}}function UA(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=PA(n,a);const l=(function(p){if(p.length!==0)return BA(ti.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(x){return{field:lo(x.field),direction:m5(x.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=_y(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function h5(n,e,t,r){const{ft:a,parent:l}=UA(n,e),u={},f=[];let m=0;return t.forEach((p=>{const v="aggregate_"+m++;u[v]=p.alias,p.aggregateType==="count"?f.push({alias:v,count:{}}):p.aggregateType==="avg"?f.push({alias:v,avg:{field:lo(p.fieldPath)}}):p.aggregateType==="sum"&&f.push({alias:v,sum:{field:lo(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:a.structuredQuery},parent:a.parent},gt:u,parent:l}}function f5(n){let e=a5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){gt(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const x=qA(E);return x instanceof ti&&mA(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((x=>(function(C){return new Zu(rc(C.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(x)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let x;return x=typeof E=="object"?E.value:E,tm(x)?null:x})(t.limit));let m=null;t.startAt&&(m=(function(E){const x=!!E.before,A=E.values||[];return new Ld(A,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(E){const x=!E.before,A=E.values||[];return new Ld(A,x)})(t.endAt)),R6(e,a,u,l,f,"F",m,p)}function d5(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rc(t.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rc(t.unaryFilter.field);return En.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rc(t.unaryFilter.field);return En.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rc(t.unaryFilter.field);return En.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return En.create(rc(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ti.create(t.compositeFilter.filters.map((r=>qA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function m5(n){return t5[n]}function p5(n){return n5[n]}function g5(n){return r5[n]}function lo(n){return{fieldPath:n.canonicalString()}}function rc(n){return Qn.fromServerFormat(n.fieldPath)}function BA(n){return n instanceof En?(function(t){if(t.op==="=="){if(GE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NAN"}};if(FE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NAN"}};if(FE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(t.field),op:p5(t.op),value:t.value}}})(n):n instanceof ti?(function(t){const r=t.getFilters().map((a=>BA(a)));return r.length===1?r[0]:{compositeFilter:{op:g5(t.op),filters:r}}})(n):Ue(54877,{filter:n})}function y5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ho{constructor(e,t,r,a,l=ze.min(),u=ze.min(),f=Xn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class v5{constructor(e){this.yt=e}}function b5(n){const e=f5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?by(e,e.limit,"L"):e}class _5{constructor(){this.Cn=new E5}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Eo.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class E5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Nn(Dt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Nn(Dt.comparator)).toArray()}}const ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(HA,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class wc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wc(0)}static cr(){return new wc(-1)}}const ax="LruGarbageCollector",x5=1048576;function ox([n,e],[t,r]){const a=it(n,t);return a===0?it(e,r):a}class w5{constructor(e){this.Ir=e,this.buffer=new Nn(ox),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ox(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class T5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(ax,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kc(t)?we(ax,"Ignoring IndexedDB error during garbage collection: ",t):await jc(t)}await this.Vr(3e5)}))}}class A5{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(em.ce);const r=new w5(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(ix)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ix):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,u,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(r=E,f=Date.now(),this.removeTargets(e,r,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),tc()<=st.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function S5(n,e){return new A5(n,e)}class N5{constructor(){this.changes=new pl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class C5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class R5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&zu(r.mutation,a,ns.empty(),qt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=at()){const a=nl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let u=Ou();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=nl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,at())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,r,a){let l=_a();const u=Bu(),f=(function(){return Bu()})();return t.forEach(((m,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Do)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),zu(v.mutation,p,v.mutation.getFieldMask(),qt.now())):u.set(p.key,ns.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>f.set(p,new C5(v,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=Bu();let a=new en(((u,f)=>u-f)),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let v=r.get(m)||ns.empty();v=f.applyToLocalView(p,v),r.set(m,v);const E=(a.get(f.batchId)||at()).add(m);a=a.insert(f.batchId,E)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,E=TA();v.forEach((x=>{if(!l.has(x)){const A=IA(t.get(x),r.get(x));A!==null&&E.set(x,A),l=l.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return fe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):fe.resolve(nl());let f=Qu,m=l;return u.next((p=>fe.forEach(p,((v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,at()))).next((v=>({batchId:f,changes:wA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((r=>{let a=Ou();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let u=Ou();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(m=>{const p=(function(E,x){return new Mc(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((E,x)=>{u=u.insert(E,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,lr.newInvalidDocument(v)))}));let f=Ou();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&zu(v.mutation,p,ns.empty(),qt.now()),sm(t,p)&&(f=f.insert(m,p))})),f}))}}class I5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ai(a.createTime)}})(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:b5(a.bundledQuery),readTime:Ai(a.readTime)}})(t)),fe.resolve()}}class O5{constructor(){this.overlays=new en(ke.comparator),this.qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=nl();return fe.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),fe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const a=nl(),l=t.length+1,u=new ke(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new en(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=nl(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=nl(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return fe.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Q6(t,r));let l=this.qr.get(t);l===void 0&&(l=at(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class D5{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}class N0{constructor(){this.Qr=new Nn(Ln.$r),this.Ur=new Nn(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ln(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ln(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ke(new Dt([])),r=new Ln(t,e),a=new Ln(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new Dt([])),r=new Ln(t,e),a=new Ln(t,e+1);let l=at();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Ln(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||it(e.Yr,t.Yr)}static Kr(e,t){return it(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}class L5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nn(Ln.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K6(l,t,r,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new Ln(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?g0:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ln(t,0),a=new Ln(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(it);return t.forEach((a=>{const l=new Ln(a,0),u=new Ln(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{r=r.add(f.Yr)}))})),fe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ke.isDocumentKey(l)||(l=l.child(""));const u=new Ln(new ke(l),0);let f=new Nn(it);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),u),fe.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){gt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return fe.forEach(t.mutations,(a=>{const l=new Ln(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ln(t,0),a=this.Zr.firstAfterOrEqual(r);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class j5{constructor(e){this.ri=e,this.docs=(function(){return new en(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(t))}getEntries(e,t){let r=_a();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():lr.newInvalidDocument(a))})),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=_a();const u=t.path,f=new ke(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||a6(i6(v),r)<=0||(a.has(v.key)||sm(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ue(9500)}ii(e,t){return fe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new k5(this)}getSize(e){return fe.resolve(this.size)}}class k5 extends N5{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),fe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class M5{constructor(e){this.persistence=e,this.si=new pl((t=>b0(t)),_0),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new N0,this.targetCount=0,this.ai=wc.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),fe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Pr(t),fe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),fe.waitFor(l).next((()=>a))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this._i.containsKey(t))}}class FA{constructor(e,t){this.ui={},this.overlays={},this.ci=new em(0),this.li=!1,this.li=!0,this.hi=new D5,this.referenceDelegate=e(this),this.Pi=new M5(this),this.indexManager=new _5,this.remoteDocumentCache=(function(a){return new j5(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new v5(t),this.Ii=new I5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new L5(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const a=new P5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return fe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class P5 extends l6{constructor(e){super(),this.currentSequenceNumber=e}}class C0{constructor(e){this.persistence=e,this.Ri=new N0,this.Vi=null}static mi(e){return new C0(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(r=>{const a=ke.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ze.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return fe.or([()=>fe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Md{constructor(e,t){this.persistence=e,this.pi=new pl((r=>h6(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=S5(this,t)}static mi(e,t){return new Md(e,t)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return fe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?fe.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((f=>{f||(r++,l.removeEntry(u,ze.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pd(e.data.value)),t}br(e,t,r){return fe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return fe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class R0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=at(),a=at();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new R0(e,t.fromCache,r,a)}}class V5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class U5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h4()?8:c6(ur())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new V5;return this.Ss(e,t,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(tc()<=st.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",nc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(tc()<=st.DEBUG&&we("QueryEngine","Query:",nc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(tc()<=st.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",nc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):fe.resolve())}ys(e,t){if(YE(t))return fe.resolve(null);let r=Ti(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=by(t,null,"F"),r=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=at(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(t,f);return this.Cs(t,p,u,m.readTime)?this.ys(e,by(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,r,a){return YE(t)||a.isEqual(ze.min())?fe.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,a)?fe.resolve(null):(tc()<=st.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nc(t)),this.vs(e,u,t,s6(a,Qu)).next((f=>f)))}))}Ds(e,t){let r=new Nn(EA(e));return t.forEach(((a,l)=>{sm(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return tc()<=st.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",nc(t)),this.ps.getDocumentsMatchingQuery(e,t,Eo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const I0="LocalStore",q5=3e8;class B5{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new en(it),this.xs=new pl((l=>b0(l)),_0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function z5(n,e,t,r){return new B5(n,e,t,r)}async function GA(n,e){const t=Be(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],f=[];let m=at();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function H5(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const E=p.batch,x=E.keys();let A=fe.resolve();return x.forEach((C=>{A=A.next((()=>v.getEntry(m,C))).next((L=>{const I=p.docVersions.get(C);gt(I!==null,48541),L.version.compareTo(I)<0&&(E.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=at();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function $A(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function F5(n,e){const t=Be(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,E)=>{const x=a.get(E);if(!x)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,E))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(Xn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),a=a.insert(E,A),(function(L,I,z){return L.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=q5?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(x,A,v)&&f.push(t.Pi.updateTargetData(l,A))}));let m=_a(),p=at();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(G5(l,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!r.isEqual(ze.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(v)}return fe.waitFor(f).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function G5(n,e,t){let r=at(),a=at();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=_a();return t.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(ze.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):we(I0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function $5(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=g0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function K5(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,fe.resolve(a)):t.Pi.allocateTargetId(r).next((u=>(a=new ho(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ty(n,e,t){const r=Be(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!kc(u))throw u;we(I0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function lx(n,e,t){const r=Be(n);let a=ze.min(),l=at();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const E=Be(m),x=E.xs.get(v);return x!==void 0?fe.resolve(E.Ms.get(x)):E.Pi.getTargetData(p,v)})(r,u,Ti(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:ze.min(),t?l:at()))).next((f=>(Q5(r,O6(e),f),{documents:f,Qs:l})))))}function Q5(n,e,t){let r=n.Os.get(e)||ze.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class cx{constructor(){this.activeTargetIds=P6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y5{constructor(){this.Mo=new cx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X5{Oo(e){}shutdown(){}}const ux="ConnectivityMonitor";class hx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(ux,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yf=null;function Ay(){return Yf===null?Yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yf++,"0x"+Yf.toString(16)}const Mg="RestConnection",W5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Od?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const u=Ay(),f=this.zo(e,t.toUriEncodedString());we(Mg,`Sending RPC '${e}' ${u}:`,f,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=Ic(p);return this.Jo(e,f,m,r,v).then((E=>(we(Mg,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw bc(Mg,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",r),E}))}Ho(e,t,r,a,l,u){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=W5[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class J5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ar="WebChannelConnection";class eD extends Z5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const u=Ay();return new Promise(((f,m)=>{const p=new KT;p.setWithCredentials(!0),p.listenOnce(QT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case md.NO_ERROR:const E=p.getResponseJson();we(ar,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case md.TIMEOUT:we(ar,`RPC '${e}' ${u} timed out`),m(new Ee(le.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const x=p.getStatus();if(we(ar,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A?.error;if(C&&C.status&&C.message){const L=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf($)>=0?$:le.UNKNOWN})(C.status);m(new Ee(L,C.message))}else m(new Ee(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(le.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{we(ar,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);we(ar,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Ay(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=WT(),f=XT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=l.join("");we(ar,`Creating RPC '${e}' stream ${a}: ${v}`,m);const E=u.createWebChannel(v,m);this.I_(E);let x=!1,A=!1;const C=new J5({Yo:I=>{A?we(ar,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(x||(we(ar,`Opening RPC '${e}' stream ${a} transport.`),E.open(),x=!0),we(ar,`RPC '${e}' stream ${a} sending:`,I),E.send(I))},Zo:()=>E.close()}),L=(I,z,$)=>{I.listen(z,(J=>{try{$(J)}catch(te){setTimeout((()=>{throw te}),0)}}))};return L(E,Iu.EventType.OPEN,(()=>{A||(we(ar,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),L(E,Iu.EventType.CLOSE,(()=>{A||(A=!0,we(ar,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(E))})),L(E,Iu.EventType.ERROR,(I=>{A||(A=!0,bc(ar,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),C.a_(new Ee(le.UNAVAILABLE,"The operation could not be completed")))})),L(E,Iu.EventType.MESSAGE,(I=>{if(!A){const z=I.data[0];gt(!!z,16349);const $=z,J=$?.error||$[0]?.error;if(J){we(ar,`RPC '${e}' stream ${a} received error:`,J);const te=J.status;let de=(function(j){const P=_n[j];if(P!==void 0)return DA(P)})(te),xe=J.message;de===void 0&&(de=le.INTERNAL,xe="Unknown error status: "+te+" with message "+J.message),A=!0,C.a_(new Ee(de,xe)),E.close()}else we(ar,`RPC '${e}' stream ${a} received:`,z),C.u_(z)}})),L(f,YT.STAT_EVENT,(I=>{I.stat===fy.PROXY?we(ar,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===fy.NOPROXY&&we(ar,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pg(){return typeof document<"u"?document:null}function lm(n){return new s5(n,!0)}class KA{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fx="PersistentStream";class QA{constructor(e,t,r,a,l,u,f,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(ba(t.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ee(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(fx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(we(fx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tD extends QA{constructor(e,t,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=o5(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ze.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?Ai(u.readTime):ze.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=wy(this.serializer),t.addTarget=(function(l,u){let f;const m=u.target;if(f=yy(m)?{documents:u5(l,m)}:{query:UA(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=kA(l,u.resumeToken);const p=_y(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(ze.min())>0){f.readTime=kd(l,u.snapshotVersion.toTimestamp());const p=_y(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=d5(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=wy(this.serializer),t.removeTarget=e,this.q_(t)}}class nD extends QA{constructor(e,t,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=c5(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=wy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>l5(this.serializer,r)))};this.q_(t)}}class rD{}class sD extends rD{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Ey(t,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(le.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Ey(t,r),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(t),this.aa=!1):we("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const cl="RemoteStore";class aD{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{gl(this)&&(we(cl,"Restarting streams for network reachability change."),await(async function(m){const p=Be(m);p.Ea.add(4),await Eh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await cm(p)})(this))}))})),this.Ra=new iD(r,a)}}async function cm(n){if(gl(n))for(const e of n.da)await e(!0)}async function Eh(n){for(const e of n.da)await e(!1)}function YA(n,e){const t=Be(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),j0(t)?L0(t):Pc(t).O_()&&D0(t,e))}function O0(n,e){const t=Be(n),r=Pc(t);t.Ia.delete(e),r.O_()&&XA(t,e),t.Ia.size===0&&(r.O_()?r.L_():gl(t)&&t.Ra.set("Unknown"))}function D0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pc(n).Y_(e)}function XA(n,e){n.Va.Ue(e),Pc(n).Z_(e)}function L0(n){n.Va=new e5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Pc(n).start(),n.Ra.ua()}function j0(n){return gl(n)&&!Pc(n).x_()&&n.Ia.size>0}function gl(n){return Be(n).Ea.size===0}function WA(n){n.Va=void 0}async function oD(n){n.Ra.set("Online")}async function lD(n){n.Ia.forEach(((e,t)=>{D0(n,e)}))}async function cD(n,e){WA(n),j0(n)?(n.Ra.ha(e),L0(n)):n.Ra.set("Unknown")}async function uD(n,e,t){if(n.Ra.set("Online"),e instanceof jA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){we(cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pd(n,r)}else if(e instanceof vd?n.Va.Ze(e):e instanceof LA?n.Va.st(e):n.Va.tt(e),!t.isEqual(ze.min()))try{const r=await $A(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(Xn.EMPTY_BYTE_STRING,v.snapshotVersion)),XA(l,m);const E=new ho(v.target,m,p,v.sequenceNumber);D0(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){we(cl,"Failed to raise snapshot:",r),await Pd(n,r)}}async function Pd(n,e,t){if(!kc(e))throw e;n.Ea.add(1),await Eh(n),n.Ra.set("Offline"),t||(t=()=>$A(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{we(cl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cm(n)}))}function ZA(n,e){return e().catch((t=>Pd(n,t,e)))}async function um(n){const e=Be(n),t=Ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:g0;for(;hD(e);)try{const a=await $5(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,fD(e,a)}catch(a){await Pd(e,a)}JA(e)&&eS(e)}function hD(n){return gl(n)&&n.Ta.length<10}function fD(n,e){n.Ta.push(e);const t=Ao(n);t.O_()&&t.X_&&t.ea(e.mutations)}function JA(n){return gl(n)&&!Ao(n).x_()&&n.Ta.length>0}function eS(n){Ao(n).start()}async function dD(n){Ao(n).ra()}async function mD(n){const e=Ao(n);for(const t of n.Ta)e.ea(t.mutations)}async function pD(n,e,t){const r=n.Ta.shift(),a=T0.from(r,e,t);await ZA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await um(n)}async function gD(n,e){e&&Ao(n).X_&&await(async function(r,a){if((function(u){return W6(u)&&u!==le.ABORTED})(a.code)){const l=r.Ta.shift();Ao(r).B_(),await ZA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await um(r)}})(n,e),JA(n)&&eS(n)}async function dx(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),we(cl,"RemoteStore received new credentials");const r=gl(t);t.Ea.add(3),await Eh(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cm(t)}async function yD(n,e){const t=Be(n);e?(t.Ea.delete(2),await cm(t)):e||(t.Ea.add(2),await Eh(t),t.Ra.set("Unknown"))}function Pc(n){return n.ma||(n.ma=(function(t,r,a){const l=Be(t);return l.sa(),new tD(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:oD.bind(null,n),t_:lD.bind(null,n),r_:cD.bind(null,n),H_:uD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),j0(n)?L0(n):n.Ra.set("Unknown")):(await n.ma.stop(),WA(n))}))),n.ma}function Ao(n){return n.fa||(n.fa=(function(t,r,a){const l=Be(t);return l.sa(),new nD(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:dD.bind(null,n),r_:gD.bind(null,n),ta:mD.bind(null,n),na:pD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await um(n)):(await n.fa.stop(),n.Ta.length>0&&(we(cl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class k0{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const u=Date.now()+r,f=new k0(e,t,u,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(n,e){if(ba("AsyncQueue",`${e}: ${n}`),kc(n))return new Ee(le.UNAVAILABLE,`${e}: ${n}`);throw n}class fc{static emptySet(e){return new fc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=Ou(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mx{constructor(){this.ga=new en(ke.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Tc{constructor(e,t,r,a,l,u,f,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new Tc(e,t,fc.emptySet(t),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class vD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bD{constructor(){this.queries=px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Be(t),l=a.queries;a.queries=px(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(r)}))})(this,new Ee(le.ABORTED,"Firestore shutting down"))}}function px(){return new pl((n=>_A(n)),rm)}async function tS(n,e){const t=Be(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new vD,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=M0(u,`Initialization of query '${nc(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&P0(t)}async function nS(n,e){const t=Be(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _D(n,e){const t=Be(n);let r=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(r=!0);u.wa=a}}r&&P0(t)}function ED(n,e,t){const r=Be(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function P0(n){n.Ca.forEach((e=>{e.next()}))}var Sy,gx;(gx=Sy||(Sy={})).Ma="default",gx.Cache="cache";class rS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sy.Cache}}class sS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class xD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=EA(e),this.tu=new fc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new mx,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const x=a.get(v),A=sm(this.query,E)?E:null,C=!!x&&this.mutatedKeys.has(x.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;x&&A?x.data.isEqual(A.data)?C!==L&&(r.track({type:3,doc:A}),I=!0):this.su(x,A)||(r.track({type:2,doc:A}),I=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!x&&A?(r.track({type:0,doc:A}),I=!0):x&&!A&&(r.track({type:1,doc:x}),I=!0,(m||p)&&(f=!0)),I&&(A?(u=u.add(A),l=L?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(A,C){const L=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:I})}};return L(A)-L(C)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Tc(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new iS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new sS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=at();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Tc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V0="SyncEngine";class wD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TD{constructor(e){this.key=e,this.hu=!1}}class AD{constructor(e,t,r,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new pl((f=>_A(f)),rm),this.Iu=new Map,this.Eu=new Set,this.du=new en(ke.comparator),this.Au=new Map,this.Ru=new N0,this.Vu={},this.mu=new Map,this.fu=wc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SD(n,e,t=!0){const r=hS(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await aS(r,e,t,!0),a}async function ND(n,e){const t=hS(n);await aS(t,e,!0,!1)}async function aS(n,e,t,r){const a=await K5(n.localStore,Ti(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await CD(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&YA(n.remoteStore,a),f}async function CD(n,e,t,r,a){n.pu=(E,x,A)=>(async function(L,I,z,$){let J=I.view.ru(z);J.Cs&&(J=await lx(L.localStore,I.query,!1).then((({documents:M})=>I.view.ru(M,J))));const te=$&&$.targetChanges.get(I.targetId),de=$&&$.targetMismatches.get(I.targetId)!=null,xe=I.view.applyChanges(J,L.isPrimaryClient,te,de);return vx(L,I.targetId,xe.au),xe.snapshot})(n,E,x,A);const l=await lx(n.localStore,e,!0),u=new xD(e,l.Qs),f=u.ru(l.documents),m=_h.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(f,n.isPrimaryClient,m);vx(n,t,p.au);const v=new wD(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function RD(n,e,t){const r=Be(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!rm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ty(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&O0(r.remoteStore,a.targetId),Ny(r,a.targetId)})).catch(jc)):(Ny(r,a.targetId),await Ty(r.localStore,a.targetId,!0))}async function ID(n,e){const t=Be(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),O0(t.remoteStore,r.targetId))}async function OD(n,e,t){const r=VD(n);try{const a=await(function(u,f){const m=Be(u),p=qt.now(),v=f.reduce(((A,C)=>A.add(C.key)),at());let E,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let C=_a(),L=at();return m.Ns.getEntries(A,v).next((I=>{C=I,C.forEach(((z,$)=>{$.isValidDocument()||(L=L.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,C))).next((I=>{E=I;const z=[];for(const $ of f){const J=G6($,E.get($.key).overlayedDocument);J!=null&&z.push(new Do($.key,J,hA(J.value.mapValue),Os.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,z,f)})).next((I=>{x=I;const z=I.applyToLocalDocumentSet(E,L);return m.documentOverlayCache.saveOverlays(A,I.batchId,z)}))})).then((()=>({batchId:x.batchId,changes:wA(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new en(it)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,t),await xh(r,a.changes),await um(r.remoteStore)}catch(a){const l=M0(a,"Failed to persist write");t.reject(l)}}async function oS(n,e){const t=Be(n);try{const r=await F5(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?gt(u.hu,14607):a.removedDocuments.size>0&&(gt(u.hu,42227),u.hu=!1))})),await xh(t,r,e)}catch(r){await jc(r)}}function yx(n,e,t){const r=Be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Be(u);m.onlineState=f;let p=!1;m.queries.forEach(((v,E)=>{for(const x of E.Sa)x.va(f)&&(p=!0)})),p&&P0(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DD(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new en(ke.comparator);u=u.insert(l,lr.newNoDocument(l,ze.min()));const f=at().add(l),m=new om(ze.min(),new Map,new en(it),u,f);await oS(r,m),r.du=r.du.remove(l),r.Au.delete(e),U0(r)}else await Ty(r.localStore,e,!1).then((()=>Ny(r,e,t))).catch(jc)}async function LD(n,e){const t=Be(n),r=e.batch.batchId;try{const a=await H5(t.localStore,e);cS(t,r,null),lS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await xh(t,a)}catch(a){await jc(a)}}async function jD(n,e,t){const r=Be(n);try{const a=await(function(u,f){const m=Be(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((E=>(gt(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(p,E)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);cS(r,e,t),lS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await xh(r,a)}catch(a){await jc(a)}}function lS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function cS(n,e,t){const r=Be(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||uS(n,r)}))}function uS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(O0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),U0(n))}function vx(n,e,t){for(const r of t)r instanceof sS?(n.Ru.addReference(r.key,e),kD(n,r)):r instanceof iS?(we(V0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||uS(n,r.key)):Ue(19791,{wu:r})}function kD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(we(V0,"New document in limbo: "+t),n.Eu.add(r),U0(n))}function U0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ke(Dt.fromString(e)),r=n.fu.next();n.Au.set(r,new TD(t)),n.du=n.du.insert(t,r),YA(n.remoteStore,new ho(Ti(E0(t.path)),r,"TargetPurposeLimboResolution",em.ce))}}async function xh(n,e,t){const r=Be(n),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,m)=>{u.push(r.pu(m,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=R0.As(m.targetId,p);l.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(m,p){const v=Be(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>fe.forEach(p,(x=>fe.forEach(x.Es,(A=>v.persistence.referenceDelegate.addReference(E,x.targetId,A))).next((()=>fe.forEach(x.ds,(A=>v.persistence.referenceDelegate.removeReference(E,x.targetId,A)))))))))}catch(E){if(!kc(E))throw E;we(I0,"Failed to update sequence numbers: "+E)}for(const E of p){const x=E.targetId;if(!E.fromCache){const A=v.Ms.get(x),C=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(x,L)}}})(r.localStore,l))}async function MD(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){we(V0,"User change. New user:",e.toKey());const r=await GA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ee(le.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xh(t,r.Ls)}}function PD(n,e){const t=Be(n),r=t.Au.get(e);if(r&&r.hu)return at().add(r.key);{let a=at();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const f=t.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function hS(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DD.bind(null,e),e.Pu.H_=_D.bind(null,e.eventManager),e.Pu.yu=ED.bind(null,e.eventManager),e}function VD(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jD.bind(null,e),e}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return z5(this.persistence,new U5,e.initialUser,this.serializer)}Cu(e){return new FA(C0.mi,this.serializer)}Du(e){return new Y5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class UD extends Vd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){gt(this.persistence.referenceDelegate instanceof Md,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new T5(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new FA((r=>Md.mi(r,t)),this.serializer)}}class Cy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bD})()}createDatastore(e){const t=lm(e.databaseInfo.databaseId),r=(function(l){return new eD(l)})(e.databaseInfo);return(function(l,u,f,m){return new sD(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,u,f){return new aD(r,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>yx(this.syncEngine,t,0)),(function(){return hx.v()?new hx:new X5})())}createSyncEngine(e,t){return(function(a,l,u,f,m,p,v){const E=new AD(a,l,u,f,m,p);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Be(t);we(cl,"RemoteStore shutting down."),r.Ea.add(5),await Eh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cy.provider={build:()=>new Cy};class fS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const So="FirestoreClient";class qD{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=or.UNAUTHENTICATED,this.clientId=p0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{we(So,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(we(So,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=M0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vg(n,e){n.asyncQueue.verifyOperationInProgress(),we(So,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await GA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await BD(n);we(So,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>dx(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>dx(e.remoteStore,a))),n._onlineComponents=e}async function BD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(So,"Using user provided OfflineComponentProvider");try{await Vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;bc("Error using user provided cache. Falling back to memory cache: "+t),await Vg(n,new Vd)}}else we(So,"Using default OfflineComponentProvider"),await Vg(n,new UD(void 0));return n._offlineComponents}async function q0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(So,"Using user provided OnlineComponentProvider"),await bx(n,n._uninitializedComponentsProvider._online)):(we(So,"Using default OnlineComponentProvider"),await bx(n,new Cy))),n._onlineComponents}function zD(n){return q0(n).then((e=>e.syncEngine))}function HD(n){return q0(n).then((e=>e.datastore))}async function dS(n){const e=await q0(n),t=e.eventManager;return t.onListen=SD.bind(null,e.syncEngine),t.onUnlisten=RD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ND.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ID.bind(null,e.syncEngine),t}function FD(n,e,t={}){const r=new wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new fS({next:x=>{v.Nu(),u.enqueueAndForget((()=>nS(l,E)));const A=x.docs.has(f);!A&&x.fromCache?p.reject(new Ee(le.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&m&&m.source==="server"?p.reject(new Ee(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),E=new rS(E0(f.path),v,{includeMetadataChanges:!0,qa:!0});return tS(l,E)})(await dS(n),n.asyncQueue,e,t,r))),r.promise}function GD(n,e,t={}){const r=new wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new fS({next:x=>{v.Nu(),u.enqueueAndForget((()=>nS(l,E))),x.fromCache&&m.source==="server"?p.reject(new Ee(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),E=new rS(f,v,{includeMetadataChanges:!0,qa:!0});return tS(l,E)})(await dS(n),n.asyncQueue,e,t,r))),r.promise}function $D(n,e,t){const r=new wi;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await HD(n);r.resolve((async function(u,f,m){const p=Be(u),{request:v,gt:E,parent:x}=h5(p.serializer,I6(f),m);p.connection.$o||delete v.parent;const A=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,x,v,1)).filter((L=>!!L.result));gt(A.length===1,64727);const C=A[0].result?.aggregateFields;return Object.keys(C).reduce(((L,I)=>(L[E[I]]=C[I],L)),{})})(a,e,t))}catch(a){r.reject(a)}})),r.promise}function mS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const _x=new Map;const pS="firestore.googleapis.com",Ex=!0;class xx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=Ex}else this.host=e.host,this.ssl=e.ssl??Ex;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x5)throw new Ee(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KO;switch(r.type){case"firstParty":return new WO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=_x.get(t);r&&(we("ComponentProvider","Removing Datastore"),_x.delete(t),r.terminate())})(this),Promise.resolve()}}function KD(n,e,t,r={}){n=Ls(n,hm);const a=Ic(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(sT(`https://${f}`),iT("Firestore",!0)),l.host!==pS&&l.host!==f&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:r};if(!sl(m,u)&&(n._setSettings(m),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=or.MOCK_USER;else{p=n4(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ee(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new or(E)}n._authCredentials=new QO(new JT(p,v))}}class yl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(vh(t,mn._jsonSchema))return new mn(e,r||null,new ke(Dt.fromString(t.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:xn("string",mn._jsonSchemaVersion),referencePath:xn("string")};class vo extends yl{constructor(e,t,r){super(e,t,E0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new ke(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function Lt(n,e,...t){if(n=Cn(n),eA("collection","path",e),n instanceof hm){const r=Dt.fromString(e,...t);return kE(r),new vo(n,null,r)}{if(!(n instanceof mn||n instanceof vo))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return kE(r),new vo(n.firestore,null,r)}}function Tt(n,e,...t){if(n=Cn(n),arguments.length===1&&(e=p0.newId()),eA("doc","path",e),n instanceof hm){const r=Dt.fromString(e,...t);return jE(r),new mn(n,null,new ke(r))}{if(!(n instanceof mn||n instanceof vo))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return jE(r),new mn(n.firestore,n instanceof vo?n.converter:null,new ke(r))}}const wx="AsyncQueue";class Tx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KA(this,"async_queue_retry"),this._c=()=>{const r=Pg();r&&we(wx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kc(e))throw e;we(wx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",Ax(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=k0.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ue(47125,{Pc:Ax(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ax(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Lo extends hm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Tx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tx(e),this._firestoreClient=void 0,await e}}}function QD(n,e){const t=typeof n=="object"?n:cT(),r=typeof n=="string"?n:Od,a=r0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=e4("firestore");l&&KD(a,...l)}return a}function fm(n){if(n._terminated)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YD(n),n._firestoreClient}function YD(n){const e=n._freezeSettings(),t=(function(a,l,u,f){return new p6(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,mS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new qD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class XD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class WD{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(Xn.fromBase64String(e))}catch(t){throw new Ee(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cs(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vh(e,Cs._jsonSchema))return Cs.fromBase64String(e.bytes)}}Cs._jsonSchemaVersion="firestore/bytes/1.0",Cs._jsonSchema={type:xn("string",Cs._jsonSchemaVersion),bytes:xn("string")};class dm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mm{constructor(e){this._methodName=e}}class Si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(vh(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:xn("string",Si._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};class Ni{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vh(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ni(e.vectorValues);throw new Ee(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:xn("string",Ni._jsonSchemaVersion),vectorValues:xn("object")};const ZD=/^__.*__$/;class JD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Do(e,this.data,this.fieldMask,t,this.fieldTransforms):new bh(e,this.data,t,this.fieldTransforms)}}class gS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Do(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class B0{constructor(e,t,r,a,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new B0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yS(this.Ac)&&ZD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lm(e)}Cc(e,t,r,a=!1){return new B0({Ac:e,methodName:t,Dc:r,path:Qn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(n){const e=n._freezeSettings(),t=lm(n._databaseId);return new eL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vS(n,e,t,r,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);H0("Data must be an object, but it was:",u,r);const f=bS(r,u);let m,p;if(l.merge)m=new ns(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const x=Ry(e,E,t);if(!u.contains(x))throw new Ee(le.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ES(v,x)||v.push(x)}m=new ns(v),p=u.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,p=u.fieldTransforms;return new JD(new Pr(f),m,p)}class gm extends mm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}class z0 extends mm{_toFieldTransform(e){return new B6(e.path,new Ju)}isEqual(e){return e instanceof z0}}function tL(n,e,t,r){const a=n.Cc(1,e,t);H0("Data must be an object, but it was:",a,r);const l=[],u=Pr.empty();Oo(r,((m,p)=>{const v=F0(e,m,t);p=Cn(p);const E=a.yc(v);if(p instanceof gm)l.push(v);else{const x=wh(p,E);x!=null&&(l.push(v),u.set(v,x))}}));const f=new ns(l);return new gS(u,f,a.fieldTransforms)}function nL(n,e,t,r,a,l){const u=n.Cc(1,e,t),f=[Ry(e,r,t)],m=[a];if(l.length%2!=0)throw new Ee(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(Ry(e,l[x])),m.push(l[x+1]);const p=[],v=Pr.empty();for(let x=f.length-1;x>=0;--x)if(!ES(p,f[x])){const A=f[x];let C=m[x];C=Cn(C);const L=u.yc(A);if(C instanceof gm)p.push(A);else{const I=wh(C,L);I!=null&&(p.push(A),v.set(A,I))}}const E=new ns(p);return new gS(v,E,u.fieldTransforms)}function rL(n,e,t,r=!1){return wh(t,n.Cc(r?4:3,e))}function wh(n,e){if(_S(n=Cn(n)))return H0("Unsupported field value:",e,n),bS(n,e);if(n instanceof mm)return(function(r,a){if(!yS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const f of r){let m=wh(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V6(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=qt.fromDate(r);return{timestampValue:kd(a.serializer,l)}}if(r instanceof qt){const l=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(a.serializer,l)}}if(r instanceof Si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:kA(a.serializer,r._byteString)};if(r instanceof mn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ni)return(function(u,f){return{mapValue:{fields:{[cA]:{stringValue:uA},[Dd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return x0(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Jd(r)}`)})(n,e)}function bS(n,e){const t={};return rA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,((r,a)=>{const l=wh(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function _S(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Si||n instanceof Cs||n instanceof mn||n instanceof mm||n instanceof Ni)}function H0(n,e,t){if(!_S(t)||!tA(t)){const r=Jd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ry(n,e,t){if((e=Cn(e))instanceof dm)return e._internalPath;if(typeof e=="string")return F0(n,e);throw Ud("Field path arguments must be of type string or ",n,!1,void 0,t)}const sL=new RegExp("[~\\*/\\[\\]]");function F0(n,e,t){if(e.search(sL)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dm(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ud(n,e,t,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new Ee(le.INVALID_ARGUMENT,f+n+m)}function ES(n,e){return n.some((t=>t.isEqual(e)))}class xS{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(G0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iL extends xS{data(){return super.data()}}function G0(n,e){return typeof e=="string"?F0(n,e):e instanceof dm?e._internalPath:e._delegate._internalPath}function aL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}class wS extends $0{}function Aa(n,e,...t){let r=[];e instanceof $0&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((m=>m instanceof Q0)).length,f=l.filter((m=>m instanceof K0)).length;if(u>1||u>0&&f>0)throw new Ee(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class K0 extends wS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new K0(e,t,r)}_apply(e){const t=this._parse(e);return TS(e._query,t),new yl(e.firestore,e.converter,vy(e._query,t))}_parse(e){const t=pm(e.firestore);return(function(l,u,f,m,p,v,E){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Nx(E,v);const C=[];for(const L of E)C.push(Sx(m,l,L));x={arrayValue:{values:C}}}else x=Sx(m,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Nx(E,v),x=rL(f,u,E,v==="in"||v==="not-in");return En.create(p,v,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Q0 extends $0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Q0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)TS(u,m),u=vy(u,m)})(e._query,t),new yl(e.firestore,e.converter,vy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y0 extends wS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Y0(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new Ee(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(l,u)})(e._query,this._field,this._direction);return new yl(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Mc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function Sa(n,e="asc"){const t=e,r=G0("orderBy",n);return Y0._create(r,t)}function Sx(n,e,t){if(typeof(t=Cn(t))=="string"){if(t==="")throw new Ee(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vA(e)&&t.indexOf("/")!==-1)throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Dt.fromString(t));if(!ke.isDocumentKey(r))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HE(n,new ke(r))}if(t instanceof mn)return HE(n,t._key);throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(t)}.`)}function Nx(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(n,e){const t=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oL{convertValue(e,t="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oo(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Dd].arrayValue?.values?.map((r=>dn(r.doubleValue)));return new Ni(t)}convertGeoPoint(e){return new Si(dn(e.latitude),dn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=xo(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dt.fromString(e);gt(zA(r),9688,{name:e});const a=new Xu(r.get(1),r.get(3)),l=new ke(r.popFirst(5));return a.isEqual(t)||ba(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function AS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}function lL(){return new XD("count")}class Lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rl extends xS{constructor(e,t,r,a,l,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(G0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=rl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",rl._jsonSchema={type:xn("string",rl._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class bd extends rl{data(e={}){return super.data(e)}}class dc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Lu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new bd(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new bd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new bd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:cL(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=p0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}function as(n){n=Ls(n,mn);const e=Ls(n.firestore,Lo);return FD(fm(e),n._key).then((t=>uL(e,n,t)))}dc._jsonSchemaVersion="firestore/querySnapshot/1.0",dc._jsonSchema={type:xn("string",dc._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};class X0 extends oL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function Wn(n){n=Ls(n,yl);const e=Ls(n.firestore,Lo),t=fm(e),r=new X0(e);return aL(n._query),GD(t,n._query).then((a=>new dc(e,r,n,a)))}function qd(n,e,t){n=Ls(n,mn);const r=Ls(n.firestore,Lo),a=AS(n.converter,e,t);return ym(r,[vS(pm(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Os.none())])}function Th(n,e,t,...r){n=Ls(n,mn);const a=Ls(n.firestore,Lo),l=pm(a);let u;return u=typeof(e=Cn(e))=="string"||e instanceof dm?nL(l,"updateDoc",n._key,e,t,r):tL(l,"updateDoc",n._key,e),ym(a,[u.toMutation(n._key,Os.exists(!0))])}function Ah(n){return ym(Ls(n.firestore,Lo),[new w0(n._key,Os.none())])}function Sh(n,e){const t=Ls(n.firestore,Lo),r=Tt(n),a=AS(n.converter,e);return ym(t,[vS(pm(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Os.exists(!1))]).then((()=>r))}function ym(n,e){return(function(r,a){const l=new wi;return r.asyncQueue.enqueueAndForget((async()=>OD(await zD(r),a,l))),l.promise})(fm(n),e)}function uL(n,e,t){const r=t.docs.get(e._key),a=new X0(n);return new rl(n,a,e._key,r,new Lu(t.hasPendingWrites,t.fromCache),e.converter)}function Xf(n){return hL(n,{count:lL()})}function hL(n,e){const t=Ls(n.firestore,Lo),r=fm(t),a=d6(e,((l,u)=>new Y6(u,l.aggregateType,l._internalFieldPath)));return $D(r,n._query,a).then((l=>(function(f,m,p){const v=new X0(f);return new WD(m,v,p)})(t,n,l)))}function Ac(){return new z0("serverTimestamp")}(function(e,t=!0){(function(a){Lc=a})(Oc),yc(new il("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),f=new Lo(new YO(r.getProvider("auth-internal")),new ZO(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),go(IE,OE,e),go(IE,OE,"esm2020")})();const fL={apiKey:"AIzaSyB3nTJlyM3K-XpvEUrXyk3leiVeMxzkTiU",authDomain:"forexvolcano-21180.firebaseapp.com",projectId:"forexvolcano-21180",storageBucket:"forexvolcano-21180.firebasestorage.app",messagingSenderId:"264687169302",appId:"1:264687169302:web:83322d7adc303b1f0c2a37",measurementId:"G-XTB0D1TPS6"},SS=lT(fL),Jt=GO(SS),qe=QD(SS),dL=()=>{const[n,e]=H.useState(null),[t,r]=H.useState(!1),a=Oi();H.useEffect(()=>{const u=gh(Jt,async f=>{if(e(f),f)try{const m=await as(Tt(qe,"users",f.uid));m.exists()&&m.data().role==="admin"?r(!0):r(!1)}catch(m){console.error("Error checking admin role:",m),r(!1)}else r(!1)});return()=>u()},[]);const l=async()=>{try{await k3(Jt),a("/")}catch(u){console.error("Error logging out",u)}};return y.jsx("nav",{className:"bg-surface border-b border-gray-800 sticky top-0 z-50",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(Nt,{to:"/",className:"flex-shrink-0",children:y.jsxs("span",{className:"text-secondary text-2xl font-bold tracking-tighter",children:["Forex",y.jsx("span",{className:"text-accent",children:"Volcano"})]})}),y.jsx("div",{className:"hidden md:block",children:y.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[y.jsx(Nt,{to:"/analysis",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Analysis"}),y.jsx(Nt,{to:"/academy",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Academy"}),y.jsx(Nt,{to:"/news",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"News"})]})})]}),y.jsx("div",{className:"hidden md:block",children:y.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:n?y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(Nt,{to:"/dashboard",className:"text-primary hover:text-green-400 font-medium px-3 py-2",children:"Dashboard"}),t&&y.jsx(Nt,{to:"/admin",className:"text-accent hover:text-orange-400 font-medium px-3 py-2",children:"Admin Panel"}),y.jsx("button",{onClick:l,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]}):y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(Nt,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),y.jsx(Nt,{to:"/register",className:"bg-primary hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Get Started"})]})})}),y.jsx("div",{className:"-mr-2 flex md:hidden",children:y.jsxs("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[y.jsx("span",{className:"sr-only",children:"Open main menu"}),y.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},mL=()=>y.jsx("footer",{className:"bg-[#05080f] border-t border-gray-800/50 py-12",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[y.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[y.jsxs(Nt,{to:"/",className:"text-2xl font-bold tracking-tighter text-secondary",children:["Forex",y.jsx("span",{className:"text-accent",children:"Volcano"})]}),y.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[" ",new Date().getFullYear()," ForexVolcano. All rights reserved."]})]}),y.jsxs("div",{className:"flex space-x-8",children:[y.jsx(Nt,{to:"/analysis",className:"text-gray-400 hover:text-white transition-colors",children:"Analysis"}),y.jsx(Nt,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"News"}),y.jsx(Nt,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})]})]})})}),Cx={primary:"bg-primary hover:bg-green-500 text-white shadow-lg shadow-green-900/20",secondary:"bg-secondary hover:bg-red-500 text-white shadow-lg shadow-red-900/20",accent:"bg-accent hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",outline:"border-2 border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white bg-transparent",ghost:"text-slate-400 hover:text-white hover:bg-white/5"},Rx={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base font-semibold",lg:"px-8 py-4 text-lg font-bold"},Bt=({children:n,variant:e="primary",size:t="md",to:r=null,onClick:a,className:l="",...u})=>{const f="inline-flex items-center justify-center rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e17] focus:ring-slate-400",m=Cx[e]||Cx.primary,p=Rx[t]||Rx.md,v=`${f} ${m} ${p} ${l}`;return r?y.jsx(Nt,{to:r,className:v,...u,children:n}):y.jsx("button",{onClick:a,className:v,...u,children:n})},pL=()=>y.jsxs("div",{className:"relative overflow-hidden bg-background pt-16 pb-32 lg:pt-32 lg:pb-40",children:[y.jsxs("div",{className:"absolute top-0 left-1/2 w-full -translate-x-1/2 h-full z-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute top-[10%] right-[20%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[80px]"})]}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-white mb-6",children:["Predict the ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent",children:"Eruption"})]}),y.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-400 mb-10",children:"Professional Forex education and institutional-grade analysis. Stop guessing. Start trading with the precision of a geologist."}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[y.jsx(Bt,{to:"/register",variant:"primary",size:"lg",children:"Start Learning Free"}),y.jsx(Bt,{to:"/analysis",variant:"outline",size:"lg",children:"View Daily Analysis"})]}),y.jsxs("div",{className:"mt-16 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent z-10 h-20 bottom-0 pointer-events-none"}),y.jsxs("div",{className:"inline-flex items-center gap-8 py-3 px-8 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm shadow-2xl",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"EUR/USD"}),y.jsx("span",{className:"text-primary text-sm",children:" 1.0842"})]}),y.jsx("div",{className:"w-px h-4 bg-gray-700"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"GBP/USD"}),y.jsx("span",{className:"text-secondary text-sm",children:" 1.2615"})]}),y.jsx("div",{className:"w-px h-4 bg-gray-700"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"XAU/USD"}),y.jsx("span",{className:"text-accent text-sm",children:" 2045.50"})]})]})]})]})]}),gL=[{title:"Structured Learning Path",description:'From "What is a Pip?" to institutional order flow. Our curriculum guides you step-by-step through the chaos.',icon:y.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),borderColor:"border-primary/20",iconBg:"bg-primary/10"},{title:"Daily Market Analysis",description:`Don't trade alone. Get daily "Volcano Watch" reports identifying high-probability setups before they erupt.`,icon:y.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),borderColor:"border-secondary/20",iconBg:"bg-secondary/10"},{title:"Risk Management",description:"The volcano is dangerous. Learn how to survive. Our strict risk protocols are the core of our philosophy.",icon:y.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),borderColor:"border-accent/20",iconBg:"bg-accent/10"}],yL=()=>y.jsx("div",{className:"py-24 bg-surface",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-base text-accent font-semibold tracking-wide uppercase",children:"Why Choose Us"}),y.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"A Better Way to Trade"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:gL.map((n,e)=>y.jsxs("div",{className:`p-8 bg-background/50 border ${n.borderColor} rounded-2xl hover:bg-background transition-all duration-300`,children:[y.jsx("div",{className:`w-12 h-12 ${n.iconBg} rounded-lg flex items-center justify-center mb-6`,children:n.icon}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:n.title}),y.jsx("p",{className:"text-gray-400 leading-relaxed",children:n.description})]},e))})]})}),vL=()=>y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(pL,{}),y.jsx(yL,{})]}),NS=({title:n,subtitle:e,image:t,content:r,footer:a,badges:l=[],className:u=""})=>y.jsxs("div",{className:`group relative flex flex-col overflow-hidden rounded-2xl bg-surface border border-gray-800 transition-all duration-300 hover:border-gray-700 hover:shadow-2xl hover:shadow-primary/5 ${u}`,children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),t&&y.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-900",children:[y.jsx("img",{src:t,alt:n,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:f=>{f.target.style.display="none",f.target.parentElement.classList.add("flex","items-center","justify-center","bg-gray-800"),f.target.parentElement.innerHTML='<span class="text-4xl"></span>'}}),l.length>0&&y.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:l.map((f,m)=>y.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded uppercase tracking-wider ${f.color||"bg-gray-800 text-white"}`,children:f.text},m))})]}),y.jsxs("div",{className:"flex flex-1 flex-col p-6 z-10",children:[e&&y.jsx("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-400",children:e}),y.jsx("h3",{className:"mb-3 text-xl font-bold text-white group-hover:text-primary transition-colors",children:n}),y.jsx("p",{className:"flex-1 text-gray-400 line-clamp-3 mb-6",children:r}),a&&y.jsx("div",{className:"mt-auto border-t border-gray-800 pt-4",children:a})]})]}),Ix=[{id:"1",pair:"EUR/USD",direction:"Bearish",title:"EUR/USD Forming Head and Shoulders on 4H",content:"Price has failed to break the 1.0900 resistance level multiple times. We are observing a clear H&S pattern formation. If the neckline at 1.0820 breaks, we expect a sharp decline towards the 1.0750 liquidity zone.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",pair:"XAU/USD",direction:"Bullish",title:"Gold Preparing for Eruption Above 2050",content:"Geopolitical tensions and a weakening dollar suggest Gold is accumulating for a massive leg up. Watch for a retest of 2035 as a potential entry point for long positions targeting new highs.",author:"Analyst Sarah",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"},{id:"3",pair:"GBP/JPY",direction:"Bullish",title:"The Dragon is Waking Up",content:"GJ is respecting the ascending trendline perfectly. The recent pullback to 182.00 was rejected strongly. We are looking for continuation towards 185.00 level.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"}],bL=()=>{const[n,e]=H.useState([]),[t,r]=H.useState(!0),[a,l]=H.useState("All");H.useEffect(()=>{(async()=>{try{const v=Aa(Lt(qe,"analysis"),Sa("timestamp","desc"));let x=(await Wn(v)).docs.map(A=>({id:A.id,...A.data()}));if(Jt.currentUser){const A=await as(Tt(qe,"users",Jt.currentUser.uid));if(A.exists()){const C=A.data().preferences;C&&C.analysisCurrencies&&C.analysisCurrencies.length>0&&(x=x.filter(L=>C.analysisCurrencies.includes(L.pair)))}}x.length>0?e(x):Jt.currentUser?e([]):e(Ix)}catch(v){console.error("Error fetching analysis:",v),e(Ix)}finally{r(!1)}})()},[]);const u=a==="All"?n:n.filter(p=>p.pair===a),f=["All",...new Set(n.map(p=>p.pair))],m=p=>{if(!p)return"";const v=p.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),E=document.createElement("DIV");return E.innerHTML=v,(E.textContent||E.innerText||"").trim()};return y.jsx("div",{className:"bg-background min-h-screen py-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",y.jsx("span",{className:"text-primary",children:"Analysis"})]}),y.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Daily technical breakdowns and trade setups from our experts."})]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:f.map(p=>y.jsx("button",{onClick:()=>l(p),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${a===p?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:p},p))}),t?y.jsx("div",{className:"text-center text-white py-20",children:"Loading Volcano Data..."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(p=>{const v=p.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return y.jsx(Nt,{to:`/analysis/${p.id}`,className:"block group",children:y.jsx(NS,{title:p.title,image:p.image||p.chart_image_url,content:m(p.content),subtitle:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-gray-500 text-xs",children:p.timestamp?.seconds?new Date(p.timestamp.seconds*1e3).toLocaleDateString():p.timestamp||new Date().toLocaleDateString()}),y.jsx("span",{className:"text-gray-600",children:""}),y.jsxs("span",{className:"text-gray-500 text-xs text-accent",children:["By ",p.analystName||p.author||"Admin"]})]}),badges:[{text:p.pair,color:"bg-surface border border-gray-700 text-white"},{text:p.direction,color:v}],footer:y.jsxs(Bt,{variant:"ghost",size:"sm",className:"w-full justify-between group-hover:text-white",children:["Read Full Breakdown",y.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})},p.id)})})]})})},_L=()=>{const{id:n}=ch(),e=Oi(),[t,r]=H.useState(null),[a,l]=H.useState(!0);if(H.useEffect(()=>{(async()=>{try{const p=Tt(qe,"analysis",n),v=await as(p);v.exists()?r({id:v.id,...v.data()}):(console.log("No such document!"),e("/analysis"))}catch(p){console.error("Error fetching analysis detail:",p)}finally{l(!1)}})()},[n,e]),a)return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const u=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString(),f=t.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return y.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx(Bt,{variant:"ghost",onClick:()=>e("/analysis"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to Analysis"}),y.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[(t.image||t.chart_image_url)&&y.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[y.jsx("img",{src:t.image||t.chart_image_url,alt:t.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),y.jsxs("div",{className:"p-8 sm:p-12",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[y.jsx("span",{className:"text-gray-400 text-sm",children:u}),y.jsx("span",{className:"text-gray-600",children:""}),y.jsx("span",{className:"text-accent text-sm uppercase tracking-wider font-bold",children:t.analysisType||"Technical Analysis"})]}),y.jsxs("div",{className:"flex gap-3 mb-6",children:[y.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide bg-surface border border-gray-700 text-white",children:t.pair}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${f}`,children:t.direction})]}),y.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),y.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 mb-16",dangerouslySetInnerHTML:{__html:t.content}}),(t.analystName||t.analystBio)&&y.jsxs("div",{className:"border-t border-gray-800 pt-12 mt-12 mb-8",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-8",children:"Meet Your Analyst"}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-8 bg-black/20 p-8 rounded-2xl border border-gray-800/50",children:[y.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 shrink-0 rounded-full overflow-hidden ring-4 ring-primary/20",children:y.jsx("img",{src:t.analystImage||"https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=400&auto=format&fit=crop&q=60",alt:t.analystName||"Analyst",className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"text-center sm:text-left",children:[y.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:t.analystName||"Volcano Analyst"}),y.jsx("p",{className:"text-gray-400 leading-relaxed mb-4 whitespace-pre-wrap",children:t.analystBio||"Professional market analyst at Forex Volcano."}),y.jsxs("div",{className:"flex gap-4",children:[t.twitter&&y.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),t.linkedin&&y.jsx("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})}),t.telegram&&y.jsx("a",{href:t.telegram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})]})]})]})]})})},Ox=[{id:"1",title:"NFP Smashes Expectations: 350k Jobs Added",impact:"High",affectedCurrencies:["USD","XAU","JPY"],content:"The Non-Farm Payrolls report showed a surprise surge in job creation, sending the Dollar Index (DXY) rocketing past 104.50. Traders should watch for pullbacks on Gold.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",title:"ECB Signals Rate Cuts in June",impact:"Medium",affectedCurrencies:["EUR","GBP"],content:"Lagarde hinted that inflation is under control, opening the door for a 25bps cut. Euro is showing weakness against the Pound.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"},{id:"3",title:"BoJ Maintains Ultra-Loose Policy",impact:"Low",affectedCurrencies:["JPY"],content:"No surprises from the Bank of Japan. Yield Curve Control remains in place. USD/JPY is drifting sideways in a tight range.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"}],EL={High:"bg-red-500/20 text-red-500 border border-red-500/50",Medium:"bg-orange-500/20 text-orange-500 border border-orange-500/50",Low:"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50"},xL=()=>{const[n,e]=H.useState([]),[t,r]=H.useState(!0),a=l=>{if(!l)return"";const u=l.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),f=document.createElement("DIV");return f.innerHTML=u,(f.textContent||f.innerText||"").trim()};return H.useEffect(()=>{(async()=>{try{const u=Aa(Lt(qe,"news"),Sa("timestamp","desc"));let m=(await Wn(u)).docs.map(p=>({id:p.id,...p.data()}));if(Jt.currentUser){const p=await as(Tt(qe,"users",Jt.currentUser.uid));if(p.exists()){const v=p.data().preferences;v&&v.newsImpacts&&v.newsImpacts.length>0&&(m=m.filter(E=>v.newsImpacts.includes(E.impact)))}}m.length>0?e(m):Jt.currentUser?e([]):e(Ox)}catch(u){console.error("Error fetching news:",u),e(Ox)}finally{r(!1)}})()},[]),y.jsx("div",{className:"bg-background min-h-screen py-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",y.jsx("span",{className:"text-accent",children:"News"})]}),y.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Stay ahead of the volatility with real-time economic updates."})]}),t?y.jsx("div",{className:"text-center text-white py-20",children:"Loading Earth-shaking Events..."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(l=>y.jsx(Nt,{to:`/news/${l.id}`,className:"block group",children:y.jsx(NS,{title:l.title,image:l.image,content:a(l.content),subtitle:y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"text-gray-500 text-xs",children:l.timestamp?.seconds?new Date(l.timestamp.seconds*1e3).toLocaleDateString():l.timestamp||new Date().toLocaleDateString()})}),badges:[{text:l.impact,color:EL[l.impact]||"bg-gray-800 text-white"},...(l.affectedCurrencies||[]).map(u=>({text:u,color:"bg-surface border border-gray-700 text-white"}))]})},l.id))})]})})},wL=()=>{const{id:n}=ch(),e=Oi(),[t,r]=H.useState(null),[a,l]=H.useState(!0);if(H.useEffect(()=>{(async()=>{try{const m=Tt(qe,"news",n),p=await as(m);p.exists()?r({id:p.id,...p.data()}):(console.log("No such document!"),e("/news"))}catch(m){console.error("Error fetching news detail:",m)}finally{l(!1)}})()},[n,e]),a)return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const u=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString();return y.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx(Bt,{variant:"ghost",onClick:()=>e("/news"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to News"}),y.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[t.image&&y.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[y.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),y.jsxs("div",{className:"p-8 sm:p-12",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[y.jsx("span",{className:"text-gray-400 text-sm",children:u}),y.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                                ${t.impact==="High"?"bg-red-500/20 text-red-400":t.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:[t.impact," Impact"]}),t.affectedCurrencies&&t.affectedCurrencies.map&&t.affectedCurrencies.map(f=>y.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300 border border-gray-700",children:f},f))]}),y.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),y.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:t.content}})]})]})]})})},TL=()=>{const[n,e]=H.useState(""),[t,r]=H.useState(""),[a,l]=H.useState(""),[u,f]=H.useState(!1),m=Oi(),p=async x=>{try{const A=await as(Tt(qe,"users",x));A.exists()&&A.data().role==="admin"?m("/admin"):m("/dashboard")}catch(A){console.error("Error checking role:",A),m("/dashboard")}},v=async x=>{x.preventDefault(),l(""),f(!0);try{const A=await I3(Jt,n,t);await p(A.user.uid)}catch(A){console.error(A),l("Failed to login. Please check your credentials.")}finally{f(!1)}},E=async()=>{try{const x=new Ei,A=await FT(Jt,x);await p(A.user.uid)}catch(x){console.error(x),l("Failed to sign in with Google")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Sign in to ",y.jsx("span",{className:"text-secondary",children:"Volcano"})]}),y.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",y.jsx(Nt,{to:"/register",className:"font-medium text-primary hover:text-green-400",children:"start your 14-day free trial"})]})]}),y.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:y.jsxs("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:[y.jsxs("form",{className:"space-y-6",onSubmit:v,children:[a&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:a}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>e(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:x=>r(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsx("div",{children:y.jsx(Bt,{type:"submit",variant:"primary",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:u,children:u?"Signing in...":"Sign in"})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:y.jsx("div",{children:y.jsxs("button",{type:"button",onClick:E,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Sign in with Google"}),y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})})]})},AL=()=>{const[n,e]=H.useState(""),[t,r]=H.useState(""),[a,l]=H.useState(""),[u,f]=H.useState(""),[m,p]=H.useState(!1),v=Oi(),E=async A=>{A.preventDefault(),f(""),p(!0);try{const L=(await R3(Jt,t,a)).user;await D3(L,{displayName:n}),await qd(Tt(qe,"users",L.uid),{uid:L.uid,username:n,email:t,role:"user",createdAt:new Date().toISOString(),avatar_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=random`}),v("/dashboard")}catch(C){console.error(C),C.code==="auth/email-already-in-use"?f("Email already in use."):f("Failed to create account. Please try again.")}finally{p(!1)}},x=async()=>{try{const A=new Ei,L=(await FT(Jt,A)).user;await qd(Tt(qe,"users",L.uid),{uid:L.uid,username:L.displayName,email:L.email,role:"user",createdAt:new Date().toISOString(),avatar_url:L.photoURL},{merge:!0}),v("/dashboard")}catch(A){console.error(A),f("Failed to sign up with Google")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Join the ",y.jsx("span",{className:"text-secondary",children:"Eruption"})]}),y.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Already have an account?"," ",y.jsx(Nt,{to:"/login",className:"font-medium text-primary hover:text-green-400",children:"Sign in"})]})]}),y.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsx("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:y.jsxs("form",{className:"space-y-6",onSubmit:E,children:[u&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:u}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:n,onChange:A=>e(A.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:A=>r(A.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:a,onChange:A=>l(A.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsx("div",{children:y.jsx(Bt,{type:"submit",variant:"primary",className:"w-full justify-center",disabled:m,children:m?"Creating Account...":"Sign up"})})]})}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:y.jsx("div",{children:y.jsxs("button",{type:"button",onClick:x,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Sign up with Google"}),y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})]})},SL=({userProfile:n,setUserProfile:e})=>{const[t,r]=H.useState(n?.preferences||{newsImpacts:["High","Medium","Low"],analysisCurrencies:["XAUUSD","EURUSD","GBPUSD","BTCUSD","US30"],analysisTypes:["Technical","Fundamental"]}),[a,l]=H.useState(!1),u=async()=>{l(!0);try{await qd(Tt(qe,"users",Jt.currentUser.uid),{preferences:t},{merge:!0}),e({...n,preferences:t}),alert("Preferences saved!")}catch(m){console.error("Error saving preferences:",m),alert("Failed to save.")}finally{l(!1)}},f=(m,p)=>{r(v=>{const E=v[m]||[];return E.includes(p)?{...v,[m]:E.filter(x=>x!==p)}:{...v,[m]:[...E,p]}})};return y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Dashboard Customization"}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"News Notifications"}),y.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select which news impacts you want to see."}),y.jsx("div",{className:"flex gap-4",children:["High","Medium","Low"].map(m=>y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:t.newsImpacts?.includes(m),onChange:()=>f("newsImpacts",m),className:"form-checkbox text-primary rounded bg-gray-900 border-gray-700"}),y.jsxs("span",{className:"text-gray-300",children:[m," Impact"]})]},m))})]}),y.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[y.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Analysis Filters"}),y.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Choose your favorite pairs to track."}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["XAUUSD","EURUSD","GBPUSD","USDJPY","BTCUSD","ETHUSD","US30","NAS100"].map(m=>y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:t.analysisCurrencies?.includes(m),onChange:()=>f("analysisCurrencies",m),className:"form-checkbox text-primary rounded bg-gray-900 border-gray-700"}),y.jsx("span",{className:"text-gray-300",children:m})]},m))})]})]}),y.jsx("div",{className:"mt-8",children:y.jsx(Bt,{onClick:u,disabled:a,children:a?"Saving...":"Save Preferences"})})]})},NL=()=>{const[n,e]=H.useState(null),[t,r]=H.useState(!0),[a,l]=H.useState("overview"),[u,f]=H.useState([]),[m,p]=H.useState({totalProgress:0,completed:0,avgQuiz:0});H.useEffect(()=>{(async()=>{if(Jt.currentUser)try{const x=Tt(qe,"users",Jt.currentUser.uid),A=await as(x);A.exists()&&e(A.data());const C=await Wn(Lt(qe,"users",Jt.currentUser.uid,"course_progress")),L={};if(C.docs.forEach(I=>{L[I.id]=I.data()}),Object.keys(L).length>0){const $=(await Wn(Lt(qe,"courses"))).docs.map(te=>({id:te.id,...te.data()})).filter(te=>L[te.id]).map(te=>{const de=L[te.id],xe=de.completedLessonIds?.length||0;return{...te,completedCount:xe,lastAccessed:de.lastAccessed}});f($);const J=$.reduce((te,de)=>te+de.completedCount,0);p({totalProgress:J,completed:$.length,avgQuiz:0})}}catch(x){console.error("Error fetching user data:",x)}finally{r(!1)}})()},[]);const v=n?.username||Jt.currentUser?.displayName||"Trader";return y.jsxs("div",{className:"min-h-screen bg-background text-white animate-fade-in",children:[y.jsx("div",{className:"bg-surface border-b border-gray-800",children:y.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:y.jsx("img",{src:n?.avatar_url||`https://ui-avatars.com/api/?name=${v}`,alt:"Profile",className:"h-full w-full rounded-full bg-background object-cover"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",y.jsx("span",{className:"text-primary",children:v})]}),y.jsx("p",{className:"mt-1 text-gray-400",children:"Ready to dominate the markets today?"})]})]})})}),y.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"flex space-x-6 mb-8 border-b border-gray-800",children:[y.jsx("button",{onClick:()=>l("overview"),className:`pb-4 px-2 font-medium transition-colors ${a==="overview"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-white"}`,children:"My Learning"}),y.jsx("button",{onClick:()=>l("settings"),className:`pb-4 px-2 font-medium transition-colors ${a==="settings"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-white"}`,children:"Settings & Preferences"})]}),a==="overview"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-12",children:[y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Lessons Completed"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-white",children:m.totalProgress})]})}),y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Active Courses"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-primary",children:m.completed})]})}),y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Quiz Score Avg"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-secondary",children:"N/A"})]})})]}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Courses"}),u.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(E=>y.jsxs("div",{className:"bg-surface rounded-xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-colors group",children:[y.jsxs("div",{className:"h-48 overflow-hidden relative",children:[y.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),y.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(Nt,{to:`/academy/${E.path||"General"}/${E.id}`,children:y.jsx(Bt,{variant:"primary",size:"sm",children:"Continue Learning"})})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:E.title}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[y.jsx("span",{children:"Lessons Completed"}),y.jsx("span",{children:E.completedCount})]}),y.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:y.jsx("div",{className:"h-2 rounded-full bg-secondary",style:{width:`${Math.min(E.completedCount/10*100,100)}%`}})})]})]})]},E.id))}):y.jsxs("div",{className:"text-center py-20 bg-surface rounded-xl border border-gray-800",children:[y.jsx("p",{className:"text-gray-400 mb-4",children:"You haven't started any courses yet."}),y.jsx(Nt,{to:"/academy",children:y.jsx(Bt,{children:"Explore Academy"})})]})]}):y.jsx(SL,{userProfile:n,setUserProfile:e})]})]})},CL=()=>{const[n,e]=H.useState(!1),[t,r]=H.useState(!0),a=Oi();return H.useEffect(()=>{const l=gh(Jt,async u=>{if(u)try{const f=await as(Tt(qe,"users",u.uid));f.exists()&&f.data().role==="admin"?e(!0):a("/dashboard")}catch(f){console.error("Admin check failed",f),a("/dashboard")}else a("/login");r(!1)});return()=>l()},[a]),t?y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),y.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):n?y.jsxs("div",{className:"min-h-screen bg-background flex",children:[y.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[y.jsx("div",{className:"p-6 border-b border-gray-800",children:y.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",y.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),y.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[y.jsx(Au,{to:"/admin",end:!0,children:"Dashboard"}),y.jsx(Au,{to:"/admin/news",children:"Manage News"}),y.jsx(Au,{to:"/admin/analysis",children:"Manage Analysis"}),y.jsx(Au,{to:"/admin/courses",children:"Manage Courses"}),y.jsx(Au,{to:"/admin/profile",children:"Analyst Profile"})]}),y.jsxs("div",{className:"p-4 border-t border-gray-800",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),y.jsxs("div",{className:"text-sm",children:[y.jsx("div",{className:"text-white font-medium",children:"Administrator"}),y.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),y.jsx(Bt,{variant:"outline",size:"sm",className:"w-full",onClick:()=>a("/"),children:"Exit to Site"})]})]}),y.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[y.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),y.jsx(Bt,{size:"sm",onClick:()=>a("/"),children:"Exit"})]}),y.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:y.jsx(fR,{})})]}):null},Au=({to:n,children:e,end:t=!1})=>y.jsx(Xw,{to:n,end:t,className:({isActive:r})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:e}),RL=()=>{const[n,e]=H.useState({users:0,courses:0,analysis:0,news:0}),[t,r]=H.useState(!0);return H.useEffect(()=>{(async()=>{try{const l=await Xf(Lt(qe,"users")),u=await Xf(Lt(qe,"courses")),f=await Xf(Lt(qe,"analysis")),m=await Xf(Lt(qe,"news"));e({users:l.data().count,courses:u.data().count,analysis:f.data().count,news:m.data().count})}catch(l){console.error("Error fetching stats:",l)}finally{r(!1)}})()},[]),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"System Overview"}),y.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[y.jsx(Wf,{title:"Total Users",value:t?"...":n.users,change:"Registered",color:"primary"}),y.jsx(Wf,{title:"Active Courses",value:t?"...":n.courses,change:"Live",color:"white"}),y.jsx(Wf,{title:"Analysis Posts",value:t?"...":n.analysis,change:"Market Updates",color:"secondary"}),y.jsx(Wf,{title:"News Alerts",value:t?"...":n.news,change:"Published",color:"accent"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(Ug,{label:"Post New Analysis",to:"/admin/analysis"}),y.jsx(Ug,{label:"Broadcast News Alert",to:"/admin/news"}),y.jsx(Ug,{label:"Review New User Signups",to:"#"})]})]}),y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"System Status"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(qg,{label:"Database Connection",status:"Healthy"}),y.jsx(qg,{label:"Auth Service",status:"Healthy"}),y.jsx(qg,{label:"API Latency",status:"24ms"})]})]})]})]})},Wf=({title:n,value:e,change:t,color:r})=>{const a={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white"};return y.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-gray-800",children:[y.jsx("p",{className:"text-sm font-medium text-gray-400",children:n}),y.jsxs("div",{className:"mt-2 flex items-baseline",children:[y.jsx("p",{className:`text-3xl font-semibold ${a[r]||"text-white"}`,children:e}),y.jsx("p",{className:"ml-2 text-sm text-gray-500",children:t})]})]})},Ug=({label:n,to:e})=>y.jsxs(Nt,{to:e,className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:[y.jsx("span",{className:"text-gray-300",children:n}),y.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),qg=({label:n,status:e})=>y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-gray-400",children:n}),y.jsxs("span",{className:"flex items-center text-primary text-sm font-medium",children:[y.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mr-2"}),e]})]});var CS=typeof global=="object"&&global&&global.Object===Object&&global,IL=typeof self=="object"&&self&&self.Object===Object&&self,Di=CS||IL||Function("return this")(),No=Di.Symbol,RS=Object.prototype,OL=RS.hasOwnProperty,DL=RS.toString,Su=No?No.toStringTag:void 0;function LL(n){var e=OL.call(n,Su),t=n[Su];try{n[Su]=void 0;var r=!0}catch{}var a=DL.call(n);return r&&(e?n[Su]=t:delete n[Su]),a}var jL=Object.prototype,kL=jL.toString;function ML(n){return kL.call(n)}var PL="[object Null]",VL="[object Undefined]",Dx=No?No.toStringTag:void 0;function Vc(n){return n==null?n===void 0?VL:PL:Dx&&Dx in Object(n)?LL(n):ML(n)}function Ea(n){return n!=null&&typeof n=="object"}var ul=Array.isArray;function jo(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function IS(n){return n}var UL="[object AsyncFunction]",qL="[object Function]",BL="[object GeneratorFunction]",zL="[object Proxy]";function W0(n){if(!jo(n))return!1;var e=Vc(n);return e==qL||e==BL||e==UL||e==zL}var Bg=Di["__core-js_shared__"],Lx=(function(){var n=/[^.]+$/.exec(Bg&&Bg.keys&&Bg.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function HL(n){return!!Lx&&Lx in n}var FL=Function.prototype,GL=FL.toString;function vl(n){if(n!=null){try{return GL.call(n)}catch{}try{return n+""}catch{}}return""}var $L=/[\\^$.*+?()[\]{}|]/g,KL=/^\[object .+?Constructor\]$/,QL=Function.prototype,YL=Object.prototype,XL=QL.toString,WL=YL.hasOwnProperty,ZL=RegExp("^"+XL.call(WL).replace($L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JL(n){if(!jo(n)||HL(n))return!1;var e=W0(n)?ZL:KL;return e.test(vl(n))}function ej(n,e){return n?.[e]}function bl(n,e){var t=ej(n,e);return JL(t)?t:void 0}var Iy=bl(Di,"WeakMap"),jx=Object.create,tj=(function(){function n(){}return function(e){if(!jo(e))return{};if(jx)return jx(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function nj(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function rj(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var sj=800,ij=16,aj=Date.now;function oj(n){var e=0,t=0;return function(){var r=aj(),a=ij-(r-t);if(t=r,a>0){if(++e>=sj)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function lj(n){return function(){return n}}var Bd=(function(){try{var n=bl(Object,"defineProperty");return n({},"",{}),n}catch{}})(),cj=Bd?function(n,e){return Bd(n,"toString",{configurable:!0,enumerable:!1,value:lj(e),writable:!0})}:IS,uj=oj(cj);function hj(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var fj=9007199254740991,dj=/^(?:0|[1-9]\d*)$/;function OS(n,e){var t=typeof n;return e=e??fj,!!e&&(t=="number"||t!="symbol"&&dj.test(n))&&n>-1&&n%1==0&&n<e}function Z0(n,e,t){e=="__proto__"&&Bd?Bd(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Nh(n,e){return n===e||n!==n&&e!==e}var mj=Object.prototype,pj=mj.hasOwnProperty;function DS(n,e,t){var r=n[e];(!(pj.call(n,e)&&Nh(r,t))||t===void 0&&!(e in n))&&Z0(n,e,t)}function gj(n,e,t,r){var a=!t;t||(t={});for(var l=-1,u=e.length;++l<u;){var f=e[l],m=void 0;m===void 0&&(m=n[f]),a?Z0(t,f,m):DS(t,f,m)}return t}var kx=Math.max;function yj(n,e,t){return e=kx(e===void 0?n.length-1:e,0),function(){for(var r=arguments,a=-1,l=kx(r.length-e,0),u=Array(l);++a<l;)u[a]=r[e+a];a=-1;for(var f=Array(e+1);++a<e;)f[a]=r[a];return f[e]=t(u),nj(n,this,f)}}function vj(n,e){return uj(yj(n,e,IS),n+"")}var bj=9007199254740991;function LS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=bj}function vm(n){return n!=null&&LS(n.length)&&!W0(n)}function _j(n,e,t){if(!jo(t))return!1;var r=typeof e;return(r=="number"?vm(t)&&OS(e,t.length):r=="string"&&e in t)?Nh(t[e],n):!1}function Ej(n){return vj(function(e,t){var r=-1,a=t.length,l=a>1?t[a-1]:void 0,u=a>2?t[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,u&&_j(t[0],t[1],u)&&(l=a<3?void 0:l,a=1),e=Object(e);++r<a;){var f=t[r];f&&n(e,f,r,l)}return e})}var xj=Object.prototype;function J0(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||xj;return n===t}function wj(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Tj="[object Arguments]";function Mx(n){return Ea(n)&&Vc(n)==Tj}var jS=Object.prototype,Aj=jS.hasOwnProperty,Sj=jS.propertyIsEnumerable,Oy=Mx((function(){return arguments})())?Mx:function(n){return Ea(n)&&Aj.call(n,"callee")&&!Sj.call(n,"callee")};function Nj(){return!1}var kS=typeof rs=="object"&&rs&&!rs.nodeType&&rs,Px=kS&&typeof ss=="object"&&ss&&!ss.nodeType&&ss,Cj=Px&&Px.exports===kS,Vx=Cj?Di.Buffer:void 0,Rj=Vx?Vx.isBuffer:void 0,nh=Rj||Nj,Ij="[object Arguments]",Oj="[object Array]",Dj="[object Boolean]",Lj="[object Date]",jj="[object Error]",kj="[object Function]",Mj="[object Map]",Pj="[object Number]",Vj="[object Object]",Uj="[object RegExp]",qj="[object Set]",Bj="[object String]",zj="[object WeakMap]",Hj="[object ArrayBuffer]",Fj="[object DataView]",Gj="[object Float32Array]",$j="[object Float64Array]",Kj="[object Int8Array]",Qj="[object Int16Array]",Yj="[object Int32Array]",Xj="[object Uint8Array]",Wj="[object Uint8ClampedArray]",Zj="[object Uint16Array]",Jj="[object Uint32Array]",Ut={};Ut[Gj]=Ut[$j]=Ut[Kj]=Ut[Qj]=Ut[Yj]=Ut[Xj]=Ut[Wj]=Ut[Zj]=Ut[Jj]=!0;Ut[Ij]=Ut[Oj]=Ut[Hj]=Ut[Dj]=Ut[Fj]=Ut[Lj]=Ut[jj]=Ut[kj]=Ut[Mj]=Ut[Pj]=Ut[Vj]=Ut[Uj]=Ut[qj]=Ut[Bj]=Ut[zj]=!1;function ek(n){return Ea(n)&&LS(n.length)&&!!Ut[Vc(n)]}function ev(n){return function(e){return n(e)}}var MS=typeof rs=="object"&&rs&&!rs.nodeType&&rs,Hu=MS&&typeof ss=="object"&&ss&&!ss.nodeType&&ss,tk=Hu&&Hu.exports===MS,zg=tk&&CS.process,Sc=(function(){try{var n=Hu&&Hu.require&&Hu.require("util").types;return n||zg&&zg.binding&&zg.binding("util")}catch{}})(),Ux=Sc&&Sc.isTypedArray,tv=Ux?ev(Ux):ek,nk=Object.prototype,rk=nk.hasOwnProperty;function PS(n,e){var t=ul(n),r=!t&&Oy(n),a=!t&&!r&&nh(n),l=!t&&!r&&!a&&tv(n),u=t||r||a||l,f=u?wj(n.length,String):[],m=f.length;for(var p in n)(e||rk.call(n,p))&&!(u&&(p=="length"||a&&(p=="offset"||p=="parent")||l&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||OS(p,m)))&&f.push(p);return f}function VS(n,e){return function(t){return n(e(t))}}var sk=VS(Object.keys,Object),ik=Object.prototype,ak=ik.hasOwnProperty;function ok(n){if(!J0(n))return sk(n);var e=[];for(var t in Object(n))ak.call(n,t)&&t!="constructor"&&e.push(t);return e}function lk(n){return vm(n)?PS(n):ok(n)}function ck(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var uk=Object.prototype,hk=uk.hasOwnProperty;function fk(n){if(!jo(n))return ck(n);var e=J0(n),t=[];for(var r in n)r=="constructor"&&(e||!hk.call(n,r))||t.push(r);return t}function US(n){return vm(n)?PS(n,!0):fk(n)}var rh=bl(Object,"create");function dk(){this.__data__=rh?rh(null):{},this.size=0}function mk(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var pk="__lodash_hash_undefined__",gk=Object.prototype,yk=gk.hasOwnProperty;function vk(n){var e=this.__data__;if(rh){var t=e[n];return t===pk?void 0:t}return yk.call(e,n)?e[n]:void 0}var bk=Object.prototype,_k=bk.hasOwnProperty;function Ek(n){var e=this.__data__;return rh?e[n]!==void 0:_k.call(e,n)}var xk="__lodash_hash_undefined__";function wk(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=rh&&e===void 0?xk:e,this}function hl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}hl.prototype.clear=dk;hl.prototype.delete=mk;hl.prototype.get=vk;hl.prototype.has=Ek;hl.prototype.set=wk;function Tk(){this.__data__=[],this.size=0}function bm(n,e){for(var t=n.length;t--;)if(Nh(n[t][0],e))return t;return-1}var Ak=Array.prototype,Sk=Ak.splice;function Nk(n){var e=this.__data__,t=bm(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Sk.call(e,t,1),--this.size,!0}function Ck(n){var e=this.__data__,t=bm(e,n);return t<0?void 0:e[t][1]}function Rk(n){return bm(this.__data__,n)>-1}function Ik(n,e){var t=this.__data__,r=bm(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Na(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Na.prototype.clear=Tk;Na.prototype.delete=Nk;Na.prototype.get=Ck;Na.prototype.has=Rk;Na.prototype.set=Ik;var sh=bl(Di,"Map");function Ok(){this.size=0,this.__data__={hash:new hl,map:new(sh||Na),string:new hl}}function Dk(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function _m(n,e){var t=n.__data__;return Dk(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Lk(n){var e=_m(this,n).delete(n);return this.size-=e?1:0,e}function jk(n){return _m(this,n).get(n)}function kk(n){return _m(this,n).has(n)}function Mk(n,e){var t=_m(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function _l(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_l.prototype.clear=Ok;_l.prototype.delete=Lk;_l.prototype.get=jk;_l.prototype.has=kk;_l.prototype.set=Mk;function Pk(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}var qS=VS(Object.getPrototypeOf,Object),Vk="[object Object]",Uk=Function.prototype,qk=Object.prototype,BS=Uk.toString,Bk=qk.hasOwnProperty,zk=BS.call(Object);function Hk(n){if(!Ea(n)||Vc(n)!=Vk)return!1;var e=qS(n);if(e===null)return!0;var t=Bk.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&BS.call(t)==zk}function Fk(){this.__data__=new Na,this.size=0}function Gk(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function $k(n){return this.__data__.get(n)}function Kk(n){return this.__data__.has(n)}var Qk=200;function Yk(n,e){var t=this.__data__;if(t instanceof Na){var r=t.__data__;if(!sh||r.length<Qk-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new _l(r)}return t.set(n,e),this.size=t.size,this}function Ci(n){var e=this.__data__=new Na(n);this.size=e.size}Ci.prototype.clear=Fk;Ci.prototype.delete=Gk;Ci.prototype.get=$k;Ci.prototype.has=Kk;Ci.prototype.set=Yk;var zS=typeof rs=="object"&&rs&&!rs.nodeType&&rs,qx=zS&&typeof ss=="object"&&ss&&!ss.nodeType&&ss,Xk=qx&&qx.exports===zS,Bx=Xk?Di.Buffer:void 0,zx=Bx?Bx.allocUnsafe:void 0;function HS(n,e){if(e)return n.slice();var t=n.length,r=zx?zx(t):new n.constructor(t);return n.copy(r),r}function Wk(n,e){for(var t=-1,r=n==null?0:n.length,a=0,l=[];++t<r;){var u=n[t];e(u,t,n)&&(l[a++]=u)}return l}function Zk(){return[]}var Jk=Object.prototype,eM=Jk.propertyIsEnumerable,Hx=Object.getOwnPropertySymbols,tM=Hx?function(n){return n==null?[]:(n=Object(n),Wk(Hx(n),function(e){return eM.call(n,e)}))}:Zk;function nM(n,e,t){var r=e(n);return ul(n)?r:Pk(r,t(n))}function Dy(n){return nM(n,lk,tM)}var Ly=bl(Di,"DataView"),jy=bl(Di,"Promise"),ky=bl(Di,"Set"),Fx="[object Map]",rM="[object Object]",Gx="[object Promise]",$x="[object Set]",Kx="[object WeakMap]",Qx="[object DataView]",sM=vl(Ly),iM=vl(sh),aM=vl(jy),oM=vl(ky),lM=vl(Iy),Ys=Vc;(Ly&&Ys(new Ly(new ArrayBuffer(1)))!=Qx||sh&&Ys(new sh)!=Fx||jy&&Ys(jy.resolve())!=Gx||ky&&Ys(new ky)!=$x||Iy&&Ys(new Iy)!=Kx)&&(Ys=function(n){var e=Vc(n),t=e==rM?n.constructor:void 0,r=t?vl(t):"";if(r)switch(r){case sM:return Qx;case iM:return Fx;case aM:return Gx;case oM:return $x;case lM:return Kx}return e});var cM=Object.prototype,uM=cM.hasOwnProperty;function hM(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&uM.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var zd=Di.Uint8Array;function nv(n){var e=new n.constructor(n.byteLength);return new zd(e).set(new zd(n)),e}function fM(n,e){var t=nv(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var dM=/\w*$/;function mM(n){var e=new n.constructor(n.source,dM.exec(n));return e.lastIndex=n.lastIndex,e}var Yx=No?No.prototype:void 0,Xx=Yx?Yx.valueOf:void 0;function pM(n){return Xx?Object(Xx.call(n)):{}}function FS(n,e){var t=e?nv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var gM="[object Boolean]",yM="[object Date]",vM="[object Map]",bM="[object Number]",_M="[object RegExp]",EM="[object Set]",xM="[object String]",wM="[object Symbol]",TM="[object ArrayBuffer]",AM="[object DataView]",SM="[object Float32Array]",NM="[object Float64Array]",CM="[object Int8Array]",RM="[object Int16Array]",IM="[object Int32Array]",OM="[object Uint8Array]",DM="[object Uint8ClampedArray]",LM="[object Uint16Array]",jM="[object Uint32Array]";function kM(n,e,t){var r=n.constructor;switch(e){case TM:return nv(n);case gM:case yM:return new r(+n);case AM:return fM(n);case SM:case NM:case CM:case RM:case IM:case OM:case DM:case LM:case jM:return FS(n,t);case vM:return new r;case bM:case xM:return new r(n);case _M:return mM(n);case EM:return new r;case wM:return pM(n)}}function GS(n){return typeof n.constructor=="function"&&!J0(n)?tj(qS(n)):{}}var MM="[object Map]";function PM(n){return Ea(n)&&Ys(n)==MM}var Wx=Sc&&Sc.isMap,VM=Wx?ev(Wx):PM,UM="[object Set]";function qM(n){return Ea(n)&&Ys(n)==UM}var Zx=Sc&&Sc.isSet,BM=Zx?ev(Zx):qM,zM=1,$S="[object Arguments]",HM="[object Array]",FM="[object Boolean]",GM="[object Date]",$M="[object Error]",KS="[object Function]",KM="[object GeneratorFunction]",QM="[object Map]",YM="[object Number]",QS="[object Object]",XM="[object RegExp]",WM="[object Set]",ZM="[object String]",JM="[object Symbol]",e9="[object WeakMap]",t9="[object ArrayBuffer]",n9="[object DataView]",r9="[object Float32Array]",s9="[object Float64Array]",i9="[object Int8Array]",a9="[object Int16Array]",o9="[object Int32Array]",l9="[object Uint8Array]",c9="[object Uint8ClampedArray]",u9="[object Uint16Array]",h9="[object Uint32Array]",Ot={};Ot[$S]=Ot[HM]=Ot[t9]=Ot[n9]=Ot[FM]=Ot[GM]=Ot[r9]=Ot[s9]=Ot[i9]=Ot[a9]=Ot[o9]=Ot[QM]=Ot[YM]=Ot[QS]=Ot[XM]=Ot[WM]=Ot[ZM]=Ot[JM]=Ot[l9]=Ot[c9]=Ot[u9]=Ot[h9]=!0;Ot[$M]=Ot[KS]=Ot[e9]=!1;function _d(n,e,t,r,a,l){var u,f=e&zM;if(u!==void 0)return u;if(!jo(n))return n;var m=ul(n);if(m)u=hM(n);else{var p=Ys(n),v=p==KS||p==KM;if(nh(n))return HS(n,f);if(p==QS||p==$S||v&&!a)u=v?{}:GS(n);else{if(!Ot[p])return a?n:{};u=kM(n,p,f)}}l||(l=new Ci);var E=l.get(n);if(E)return E;l.set(n,u),BM(n)?n.forEach(function(C){u.add(_d(C,e,t,C,n,l))}):VM(n)&&n.forEach(function(C,L){u.set(L,_d(C,e,t,L,n,l))});var x=Dy,A=m?void 0:x(n);return hj(A||n,function(C,L){A&&(L=C,C=n[L]),DS(u,L,_d(C,e,t,L,n,l))}),u}var f9=1,d9=4;function mc(n){return _d(n,f9|d9)}var m9="__lodash_hash_undefined__";function p9(n){return this.__data__.set(n,m9),this}function g9(n){return this.__data__.has(n)}function Hd(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new _l;++e<t;)this.add(n[e])}Hd.prototype.add=Hd.prototype.push=p9;Hd.prototype.has=g9;function y9(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function v9(n,e){return n.has(e)}var b9=1,_9=2;function YS(n,e,t,r,a,l){var u=t&b9,f=n.length,m=e.length;if(f!=m&&!(u&&m>f))return!1;var p=l.get(n),v=l.get(e);if(p&&v)return p==e&&v==n;var E=-1,x=!0,A=t&_9?new Hd:void 0;for(l.set(n,e),l.set(e,n);++E<f;){var C=n[E],L=e[E];if(r)var I=u?r(L,C,E,e,n,l):r(C,L,E,n,e,l);if(I!==void 0){if(I)continue;x=!1;break}if(A){if(!y9(e,function(z,$){if(!v9(A,$)&&(C===z||a(C,z,t,r,l)))return A.push($)})){x=!1;break}}else if(!(C===L||a(C,L,t,r,l))){x=!1;break}}return l.delete(n),l.delete(e),x}function E9(n){var e=-1,t=Array(n.size);return n.forEach(function(r,a){t[++e]=[a,r]}),t}function x9(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var w9=1,T9=2,A9="[object Boolean]",S9="[object Date]",N9="[object Error]",C9="[object Map]",R9="[object Number]",I9="[object RegExp]",O9="[object Set]",D9="[object String]",L9="[object Symbol]",j9="[object ArrayBuffer]",k9="[object DataView]",Jx=No?No.prototype:void 0,Hg=Jx?Jx.valueOf:void 0;function M9(n,e,t,r,a,l,u){switch(t){case k9:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case j9:return!(n.byteLength!=e.byteLength||!l(new zd(n),new zd(e)));case A9:case S9:case R9:return Nh(+n,+e);case N9:return n.name==e.name&&n.message==e.message;case I9:case D9:return n==e+"";case C9:var f=E9;case O9:var m=r&w9;if(f||(f=x9),n.size!=e.size&&!m)return!1;var p=u.get(n);if(p)return p==e;r|=T9,u.set(n,e);var v=YS(f(n),f(e),r,a,l,u);return u.delete(n),v;case L9:if(Hg)return Hg.call(n)==Hg.call(e)}return!1}var P9=1,V9=Object.prototype,U9=V9.hasOwnProperty;function q9(n,e,t,r,a,l){var u=t&P9,f=Dy(n),m=f.length,p=Dy(e),v=p.length;if(m!=v&&!u)return!1;for(var E=m;E--;){var x=f[E];if(!(u?x in e:U9.call(e,x)))return!1}var A=l.get(n),C=l.get(e);if(A&&C)return A==e&&C==n;var L=!0;l.set(n,e),l.set(e,n);for(var I=u;++E<m;){x=f[E];var z=n[x],$=e[x];if(r)var J=u?r($,z,x,e,n,l):r(z,$,x,n,e,l);if(!(J===void 0?z===$||a(z,$,t,r,l):J)){L=!1;break}I||(I=x=="constructor")}if(L&&!I){var te=n.constructor,de=e.constructor;te!=de&&"constructor"in n&&"constructor"in e&&!(typeof te=="function"&&te instanceof te&&typeof de=="function"&&de instanceof de)&&(L=!1)}return l.delete(n),l.delete(e),L}var B9=1,ew="[object Arguments]",tw="[object Array]",Zf="[object Object]",z9=Object.prototype,nw=z9.hasOwnProperty;function H9(n,e,t,r,a,l){var u=ul(n),f=ul(e),m=u?tw:Ys(n),p=f?tw:Ys(e);m=m==ew?Zf:m,p=p==ew?Zf:p;var v=m==Zf,E=p==Zf,x=m==p;if(x&&nh(n)){if(!nh(e))return!1;u=!0,v=!1}if(x&&!v)return l||(l=new Ci),u||tv(n)?YS(n,e,t,r,a,l):M9(n,e,m,t,r,a,l);if(!(t&B9)){var A=v&&nw.call(n,"__wrapped__"),C=E&&nw.call(e,"__wrapped__");if(A||C){var L=A?n.value():n,I=C?e.value():e;return l||(l=new Ci),a(L,I,t,r,l)}}return x?(l||(l=new Ci),q9(n,e,t,r,a,l)):!1}function XS(n,e,t,r,a){return n===e?!0:n==null||e==null||!Ea(n)&&!Ea(e)?n!==n&&e!==e:H9(n,e,t,r,XS,a)}function F9(n){return function(e,t,r){for(var a=-1,l=Object(e),u=r(e),f=u.length;f--;){var m=u[++a];if(t(l[m],m,l)===!1)break}return e}}var G9=F9();function My(n,e,t){(t!==void 0&&!Nh(n[e],t)||t===void 0&&!(e in n))&&Z0(n,e,t)}function $9(n){return Ea(n)&&vm(n)}function Py(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function K9(n){return gj(n,US(n))}function Q9(n,e,t,r,a,l,u){var f=Py(n,t),m=Py(e,t),p=u.get(m);if(p){My(n,t,p);return}var v=l?l(f,m,t+"",n,e,u):void 0,E=v===void 0;if(E){var x=ul(m),A=!x&&nh(m),C=!x&&!A&&tv(m);v=m,x||A||C?ul(f)?v=f:$9(f)?v=rj(f):A?(E=!1,v=HS(m,!0)):C?(E=!1,v=FS(m,!0)):v=[]:Hk(m)||Oy(m)?(v=f,Oy(f)?v=K9(f):(!jo(f)||W0(f))&&(v=GS(m))):E=!1}E&&(u.set(m,v),a(v,m,r,l,u),u.delete(m)),My(n,t,v)}function WS(n,e,t,r,a){n!==e&&G9(e,function(l,u){if(a||(a=new Ci),jo(l))Q9(n,e,u,t,WS,r,a);else{var f=r?r(Py(n,u),l,u+"",n,e,a):void 0;f===void 0&&(f=l),My(n,u,f)}},US)}function co(n,e){return XS(n,e)}var bo=Ej(function(n,e,t){WS(n,e,t)}),Oe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Oe||{});class Ii{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const a=Oe.TYPE&Oe.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Oe.LEVEL|a:Oe.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class pc extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const ZS=class Vy{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const a=this.query(t);if(a==null)throw new pc(`Unable to create ${t} blot`);const l=a,u=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:l.create(r),f=new l(e,u,r);return Vy.blots.set(f.domNode,f),f}find(e,t=!1){return Vy.find(e,t)}query(e,t=Oe.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Oe.LEVEL&Oe.BLOCK?r=this.types.block:e&Oe.LEVEL&Oe.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(r=this.classes[a],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Oe.LEVEL&r.scope&&t&Oe.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,a="attrName"in t;if(!r&&!a)throw new pc("Invalid definition");if(r&&t.blotName==="abstract")throw new pc("Cannot register abstract class");const l=r?t.blotName:a?t.attrName:void 0;return this.types[l]=t,a?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(u=>u.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(u=>{(this.tags[u]==null||t.className==null)&&(this.tags[u]=t)}))),t})}};ZS.blots=new WeakMap;let Nc=ZS;function rw(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class Y9 extends Ii{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){rw(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(rw(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ri=Y9;function Fg(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class X9 extends Ii{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Fg(this.keyName)]=t,!0):!1}remove(e){e.style[Fg(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Fg(this.keyName)];return this.canAdd(e,t)?t:""}}const ko=X9;class W9{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Nc.find(this.domNode);if(e==null)return;const t=Ii.keys(this.domNode),r=ri.keys(this.domNode),a=ko.keys(this.domNode);t.concat(r).concat(a).forEach(l=>{const u=e.scroll.query(l,Oe.ATTRIBUTE);u instanceof Ii&&(this.attributes[u.attrName]=u)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Em=W9,JS=class{constructor(e,t){this.scroll=e,this.domNode=t,Nc.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new pc("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Nc.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,a){const l=this.isolate(e,t);if(this.scroll.query(r,Oe.BLOT)!=null&&a)l.wrap(r,a);else if(this.scroll.query(r,Oe.ATTRIBUTE)!=null){const u=this.scroll.create(this.statics.scope);l.wrap(u),u.format(r,a)}}insertAt(e,t,r){const a=r==null?this.scroll.create("text",t):this.scroll.create(t,r),l=this.split(e);this.parent.insertBefore(a,l||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new pc(`Cannot wrap ${e}`);return r.appendChild(this),r}};JS.blotName="abstract";let e2=JS;const t2=class extends e2{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};t2.scope=Oe.INLINE_BLOT;let Z9=t2;const cr=Z9;class J9{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),a=0;for(;r;){if(r===e)return a;a+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let a=r();for(;a;){const l=a.length();if(e<l||t&&e===l&&(a.next==null||a.next.length()!==0))return[a,e];e-=l,a=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[a,l]=this.find(e);let u=e-l;const f=this.iterator(a);let m=f();for(;m&&u<e+t;){const p=m.length();e>u?r(m,e-u,Math.min(t,u+p-e)):r(m,0,Math.min(p,e+t-u)),u+=p,m=f()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let a=r();for(;a;)t=e(t,a),a=r();return t}}function sw(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Oe.INLINE);return Array.from(n.childNodes).forEach(a=>{r.domNode.appendChild(a)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const n2=class so extends e2{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,so.uiClass&&this.uiNode.classList.add(so.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new J9,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=sw(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof pc)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,a,l)=>{r.deleteAt(a,l)})}descendant(e,t=0){const[r,a]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,a]:r instanceof so?r.descendant(e,a):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let a=[],l=r;return this.children.forEachAt(t,r,(u,f,m)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&a.push(u),u instanceof so&&(a=a.concat(u.descendants(e,f,l))),l-=m}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Oe.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof so?t.unwrap():t.remove())})}formatAt(e,t,r,a){this.children.forEachAt(e,t,(l,u,f)=>{l.formatAt(u,f,r,a)})}insertAt(e,t,r){const[a,l]=this.children.find(e);if(a)a.insertAt(l,t,r);else{const u=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(u)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,a]=this.children.find(e,t),l=[[this,e]];return r instanceof so?l.concat(r.path(a,t)):(r!=null&&l.push([r,a]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof so&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(a,l,u)=>{const f=a.split(l,t);f!=null&&r.appendChild(f)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],a=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(r.push(...l.addedNodes),a.push(...l.removedNodes))}),a.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(l);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),r.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,u)=>l===u?0:l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let u=null;l.nextSibling!=null&&(u=this.scroll.find(l.nextSibling));const f=sw(l,this.scroll);(f.next!==u||f.next==null)&&(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,u||void 0))}),this.enforceAllowedChildren()}};n2.uiClass="";let e8=n2;const ei=e8;function t8(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const sc=class ic extends ei{static create(e){return super.create(e)}static formats(e,t){const r=t.query(ic.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Em(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof ic||(r=r.wrap(ic.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Oe.INLINE);if(r==null)return;r instanceof Ii?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.formats()[r]!=null||this.scroll.query(r,Oe.ATTRIBUTE)?this.isolate(e,t).format(r,a):super.formatAt(e,t,r,a)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof ic&&r.prev===this&&t8(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof ic&&this.attributes.move(r),r}};sc.allowedChildren=[sc,cr],sc.blotName="inline",sc.scope=Oe.INLINE_BLOT,sc.tagName="SPAN";let n8=sc;const rv=n8,ac=class Uy extends ei{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Uy.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Em(this.domNode)}format(e,t){const r=this.scroll.query(e,Oe.BLOCK);r!=null&&(r instanceof Ii?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(Uy.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.scroll.query(r,Oe.BLOCK)!=null?this.format(r,a):super.formatAt(e,t,r,a)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Oe.INLINE)!=null)super.insertAt(e,t,r);else{const a=this.split(e);if(a!=null){const l=this.scroll.create(t,r);a.parent.insertBefore(l,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};ac.blotName="block",ac.scope=Oe.BLOCK_BLOT,ac.tagName="P",ac.allowedChildren=[rv,ac,cr];let r8=ac;const ih=r8,qy=class extends ei{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};qy.blotName="container",qy.scope=Oe.BLOCK_BLOT;let s8=qy;const xm=s8;class i8 extends cr{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,a){e===0&&t===this.length()?this.format(r,a):super.formatAt(e,t,r,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const os=i8,a8={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},o8=100,oc=class extends ei{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,a8),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Oe.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,a){this.update(),super.formatAt(e,t,r,a)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const l=(m,p=!0)=>{m==null||m===this||m.domNode.parentNode!=null&&(r.has(m.domNode)||r.set(m.domNode,[]),p&&l(m.parent))},u=m=>{r.has(m.domNode)&&(m instanceof ei&&m.children.forEach(u),r.delete(m.domNode),m.optimize(t))};let f=e;for(let m=0;f.length>0;m+=1){if(m>=o8)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(p=>{const v=this.find(p.target,!0);v!=null&&(v.domNode===p.target&&(p.type==="childList"?(l(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(E=>{const x=this.find(E,!1);l(x,!1),x instanceof ei&&x.children.forEach(A=>{l(A,!1)})})):p.type==="attributes"&&l(v.prev)),l(v))}),this.children.forEach(u),f=Array.from(this.observer.takeRecords()),a=f.slice();a.length>0;)e.push(a.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(a=>{const l=this.find(a.target,!0);return l==null?null:r.has(l.domNode)?(r.get(l.domNode).push(a),null):(r.set(l.domNode,[a]),l)}).forEach(a=>{a!=null&&a!==this&&r.has(a.domNode)&&a.update(r.get(a.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};oc.blotName="scroll",oc.defaultChild=ih,oc.allowedChildren=[ih,xm],oc.scope=Oe.BLOCK_BLOT,oc.tagName="DIV";let l8=oc;const sv=l8,By=class r2 extends cr{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof r2&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};By.blotName="text",By.scope=Oe.INLINE_BLOT;let c8=By;const Fd=c8,u8=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ii,AttributorStore:Em,BlockBlot:ih,ClassAttributor:ri,ContainerBlot:xm,EmbedBlot:os,InlineBlot:rv,LeafBlot:cr,ParentBlot:ei,Registry:Nc,Scope:Oe,ScrollBlot:sv,StyleAttributor:ko,TextBlot:Fd},Symbol.toStringTag,{value:"Module"}));var Jf={exports:{}},Gg,iw;function h8(){if(iw)return Gg;iw=1;var n=-1,e=1,t=0;function r(S,k,N,ge,pe){if(S===k)return S?[[t,S]]:[];if(N!=null){var B=P(S,k,N);if(B)return B}var Z=f(S,k),ce=S.substring(0,Z);S=S.substring(Z),k=k.substring(Z),Z=p(S,k);var be=S.substring(S.length-Z);S=S.substring(0,S.length-Z),k=k.substring(0,k.length-Z);var ve=a(S,k);return ce&&ve.unshift([t,ce]),be&&ve.push([t,be]),$(ve,pe),ge&&E(ve),ve}function a(S,k){var N;if(!S)return[[e,k]];if(!k)return[[n,S]];var ge=S.length>k.length?S:k,pe=S.length>k.length?k:S,B=ge.indexOf(pe);if(B!==-1)return N=[[e,ge.substring(0,B)],[t,pe],[e,ge.substring(B+pe.length)]],S.length>k.length&&(N[0][0]=N[2][0]=n),N;if(pe.length===1)return[[n,S],[e,k]];var Z=v(S,k);if(Z){var ce=Z[0],be=Z[1],ve=Z[2],V=Z[3],Y=Z[4],he=r(ce,ve),me=r(be,V);return he.concat([[t,Y]],me)}return l(S,k)}function l(S,k){for(var N=S.length,ge=k.length,pe=Math.ceil((N+ge)/2),B=pe,Z=2*pe,ce=new Array(Z),be=new Array(Z),ve=0;ve<Z;ve++)ce[ve]=-1,be[ve]=-1;ce[B+1]=0,be[B+1]=0;for(var V=N-ge,Y=V%2!==0,he=0,me=0,ye=0,Te=0,De=0;De<pe;De++){for(var Ie=-De+he;Ie<=De-me;Ie+=2){var Le=B+Ie,Qe;Ie===-De||Ie!==De&&ce[Le-1]<ce[Le+1]?Qe=ce[Le+1]:Qe=ce[Le-1]+1;for(var We=Qe-Ie;Qe<N&&We<ge&&S.charAt(Qe)===k.charAt(We);)Qe++,We++;if(ce[Le]=Qe,Qe>N)me+=2;else if(We>ge)he+=2;else if(Y){var tt=B+V-Ie;if(tt>=0&&tt<Z&&be[tt]!==-1){var ot=N-be[tt];if(Qe>=ot)return u(S,k,Qe,We)}}}for(var dt=-De+ye;dt<=De-Te;dt+=2){var tt=B+dt,ot;dt===-De||dt!==De&&be[tt-1]<be[tt+1]?ot=be[tt+1]:ot=be[tt-1]+1;for(var tn=ot-dt;ot<N&&tn<ge&&S.charAt(N-ot-1)===k.charAt(ge-tn-1);)ot++,tn++;if(be[tt]=ot,ot>N)Te+=2;else if(tn>ge)ye+=2;else if(!Y){var Le=B+V-dt;if(Le>=0&&Le<Z&&ce[Le]!==-1){var Qe=ce[Le],We=B+Qe-Le;if(ot=N-ot,Qe>=ot)return u(S,k,Qe,We)}}}}return[[n,S],[e,k]]}function u(S,k,N,ge){var pe=S.substring(0,N),B=k.substring(0,ge),Z=S.substring(N),ce=k.substring(ge),be=r(pe,B),ve=r(Z,ce);return be.concat(ve)}function f(S,k){if(!S||!k||S.charAt(0)!==k.charAt(0))return 0;for(var N=0,ge=Math.min(S.length,k.length),pe=ge,B=0;N<pe;)S.substring(B,pe)==k.substring(B,pe)?(N=pe,B=N):ge=pe,pe=Math.floor((ge-N)/2+N);return J(S.charCodeAt(pe-1))&&pe--,pe}function m(S,k){var N=S.length,ge=k.length;if(N==0||ge==0)return 0;N>ge?S=S.substring(N-ge):N<ge&&(k=k.substring(0,N));var pe=Math.min(N,ge);if(S==k)return pe;for(var B=0,Z=1;;){var ce=S.substring(pe-Z),be=k.indexOf(ce);if(be==-1)return B;Z+=be,(be==0||S.substring(pe-Z)==k.substring(0,Z))&&(B=Z,Z++)}}function p(S,k){if(!S||!k||S.slice(-1)!==k.slice(-1))return 0;for(var N=0,ge=Math.min(S.length,k.length),pe=ge,B=0;N<pe;)S.substring(S.length-pe,S.length-B)==k.substring(k.length-pe,k.length-B)?(N=pe,B=N):ge=pe,pe=Math.floor((ge-N)/2+N);return te(S.charCodeAt(S.length-pe))&&pe--,pe}function v(S,k){var N=S.length>k.length?S:k,ge=S.length>k.length?k:S;if(N.length<4||ge.length*2<N.length)return null;function pe(me,ye,Te){for(var De=me.substring(Te,Te+Math.floor(me.length/4)),Ie=-1,Le="",Qe,We,tt,ot;(Ie=ye.indexOf(De,Ie+1))!==-1;){var dt=f(me.substring(Te),ye.substring(Ie)),tn=p(me.substring(0,Te),ye.substring(0,Ie));Le.length<tn+dt&&(Le=ye.substring(Ie-tn,Ie)+ye.substring(Ie,Ie+dt),Qe=me.substring(0,Te-tn),We=me.substring(Te+dt),tt=ye.substring(0,Ie-tn),ot=ye.substring(Ie+dt))}return Le.length*2>=me.length?[Qe,We,tt,ot,Le]:null}var B=pe(N,ge,Math.ceil(N.length/4)),Z=pe(N,ge,Math.ceil(N.length/2)),ce;if(!B&&!Z)return null;Z?B?ce=B[4].length>Z[4].length?B:Z:ce=Z:ce=B;var be,ve,V,Y;S.length>k.length?(be=ce[0],ve=ce[1],V=ce[2],Y=ce[3]):(V=ce[0],Y=ce[1],be=ce[2],ve=ce[3]);var he=ce[4];return[be,ve,V,Y,he]}function E(S){for(var k=!1,N=[],ge=0,pe=null,B=0,Z=0,ce=0,be=0,ve=0;B<S.length;)S[B][0]==t?(N[ge++]=B,Z=be,ce=ve,be=0,ve=0,pe=S[B][1]):(S[B][0]==e?be+=S[B][1].length:ve+=S[B][1].length,pe&&pe.length<=Math.max(Z,ce)&&pe.length<=Math.max(be,ve)&&(S.splice(N[ge-1],0,[n,pe]),S[N[ge-1]+1][0]=e,ge--,ge--,B=ge>0?N[ge-1]:-1,Z=0,ce=0,be=0,ve=0,pe=null,k=!0)),B++;for(k&&$(S),z(S),B=1;B<S.length;){if(S[B-1][0]==n&&S[B][0]==e){var V=S[B-1][1],Y=S[B][1],he=m(V,Y),me=m(Y,V);he>=me?(he>=V.length/2||he>=Y.length/2)&&(S.splice(B,0,[t,Y.substring(0,he)]),S[B-1][1]=V.substring(0,V.length-he),S[B+1][1]=Y.substring(he),B++):(me>=V.length/2||me>=Y.length/2)&&(S.splice(B,0,[t,V.substring(0,me)]),S[B-1][0]=e,S[B-1][1]=Y.substring(0,Y.length-me),S[B+1][0]=n,S[B+1][1]=V.substring(me),B++),B++}B++}}var x=/[^a-zA-Z0-9]/,A=/\s/,C=/[\r\n]/,L=/\n\r?\n$/,I=/^\r?\n\r?\n/;function z(S){function k(me,ye){if(!me||!ye)return 6;var Te=me.charAt(me.length-1),De=ye.charAt(0),Ie=Te.match(x),Le=De.match(x),Qe=Ie&&Te.match(A),We=Le&&De.match(A),tt=Qe&&Te.match(C),ot=We&&De.match(C),dt=tt&&me.match(L),tn=ot&&ye.match(I);return dt||tn?5:tt||ot?4:Ie&&!Qe&&We?3:Qe||We?2:Ie||Le?1:0}for(var N=1;N<S.length-1;){if(S[N-1][0]==t&&S[N+1][0]==t){var ge=S[N-1][1],pe=S[N][1],B=S[N+1][1],Z=p(ge,pe);if(Z){var ce=pe.substring(pe.length-Z);ge=ge.substring(0,ge.length-Z),pe=ce+pe.substring(0,pe.length-Z),B=ce+B}for(var be=ge,ve=pe,V=B,Y=k(ge,pe)+k(pe,B);pe.charAt(0)===B.charAt(0);){ge+=pe.charAt(0),pe=pe.substring(1)+B.charAt(0),B=B.substring(1);var he=k(ge,pe)+k(pe,B);he>=Y&&(Y=he,be=ge,ve=pe,V=B)}S[N-1][1]!=be&&(be?S[N-1][1]=be:(S.splice(N-1,1),N--),S[N][1]=ve,V?S[N+1][1]=V:(S.splice(N+1,1),N--))}N++}}function $(S,k){S.push([t,""]);for(var N=0,ge=0,pe=0,B="",Z="",ce;N<S.length;){if(N<S.length-1&&!S[N][1]){S.splice(N,1);continue}switch(S[N][0]){case e:pe++,Z+=S[N][1],N++;break;case n:ge++,B+=S[N][1],N++;break;case t:var be=N-pe-ge-1;if(k){if(be>=0&&xe(S[be][1])){var ve=S[be][1].slice(-1);if(S[be][1]=S[be][1].slice(0,-1),B=ve+B,Z=ve+Z,!S[be][1]){S.splice(be,1),N--;var V=be-1;S[V]&&S[V][0]===e&&(pe++,Z=S[V][1]+Z,V--),S[V]&&S[V][0]===n&&(ge++,B=S[V][1]+B,V--),be=V}}if(de(S[N][1])){var ve=S[N][1].charAt(0);S[N][1]=S[N][1].slice(1),B+=ve,Z+=ve}}if(N<S.length-1&&!S[N][1]){S.splice(N,1);break}if(B.length>0||Z.length>0){B.length>0&&Z.length>0&&(ce=f(Z,B),ce!==0&&(be>=0?S[be][1]+=Z.substring(0,ce):(S.splice(0,0,[t,Z.substring(0,ce)]),N++),Z=Z.substring(ce),B=B.substring(ce)),ce=p(Z,B),ce!==0&&(S[N][1]=Z.substring(Z.length-ce)+S[N][1],Z=Z.substring(0,Z.length-ce),B=B.substring(0,B.length-ce)));var Y=pe+ge;B.length===0&&Z.length===0?(S.splice(N-Y,Y),N=N-Y):B.length===0?(S.splice(N-Y,Y,[e,Z]),N=N-Y+1):Z.length===0?(S.splice(N-Y,Y,[n,B]),N=N-Y+1):(S.splice(N-Y,Y,[n,B],[e,Z]),N=N-Y+2)}N!==0&&S[N-1][0]===t?(S[N-1][1]+=S[N][1],S.splice(N,1)):N++,pe=0,ge=0,B="",Z="";break}}S[S.length-1][1]===""&&S.pop();var he=!1;for(N=1;N<S.length-1;)S[N-1][0]===t&&S[N+1][0]===t&&(S[N][1].substring(S[N][1].length-S[N-1][1].length)===S[N-1][1]?(S[N][1]=S[N-1][1]+S[N][1].substring(0,S[N][1].length-S[N-1][1].length),S[N+1][1]=S[N-1][1]+S[N+1][1],S.splice(N-1,1),he=!0):S[N][1].substring(0,S[N+1][1].length)==S[N+1][1]&&(S[N-1][1]+=S[N+1][1],S[N][1]=S[N][1].substring(S[N+1][1].length)+S[N+1][1],S.splice(N+1,1),he=!0)),N++;he&&$(S,k)}function J(S){return S>=55296&&S<=56319}function te(S){return S>=56320&&S<=57343}function de(S){return te(S.charCodeAt(0))}function xe(S){return J(S.charCodeAt(S.length-1))}function M(S){for(var k=[],N=0;N<S.length;N++)S[N][1].length>0&&k.push(S[N]);return k}function j(S,k,N,ge){return xe(S)||de(ge)?null:M([[t,S],[n,k],[e,N],[t,ge]])}function P(S,k,N){var ge=typeof N=="number"?{index:N,length:0}:N.oldRange,pe=typeof N=="number"?null:N.newRange,B=S.length,Z=k.length;if(ge.length===0&&(pe===null||pe.length===0)){var ce=ge.index,be=S.slice(0,ce),ve=S.slice(ce),V=pe?pe.index:null;e:{var Y=ce+Z-B;if(V!==null&&V!==Y||Y<0||Y>Z)break e;var he=k.slice(0,Y),me=k.slice(Y);if(me!==ve)break e;var ye=Math.min(ce,Y),Te=be.slice(0,ye),De=he.slice(0,ye);if(Te!==De)break e;var Ie=be.slice(ye),Le=he.slice(ye);return j(Te,Ie,Le,ve)}e:{if(V!==null&&V!==ce)break e;var Qe=ce,he=k.slice(0,Qe),me=k.slice(Qe);if(he!==be)break e;var We=Math.min(B-Qe,Z-Qe),tt=ve.slice(ve.length-We),ot=me.slice(me.length-We);if(tt!==ot)break e;var Ie=ve.slice(0,ve.length-We),Le=me.slice(0,me.length-We);return j(be,Ie,Le,tt)}}if(ge.length>0&&pe&&pe.length===0)e:{var Te=S.slice(0,ge.index),tt=S.slice(ge.index+ge.length),ye=Te.length,We=tt.length;if(Z<ye+We)break e;var De=k.slice(0,ye),ot=k.slice(Z-We);if(Te!==De||tt!==ot)break e;var Ie=S.slice(ye,B-We),Le=k.slice(ye,Z-We);return j(Te,Ie,Le,tt)}return null}function F(S,k,N,ge){return r(S,k,N,ge,!0)}return F.INSERT=e,F.DELETE=n,F.EQUAL=t,Gg=F,Gg}var ju={exports:{}};ju.exports;var aw;function s2(){return aw||(aw=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=9007199254740991,l="[object Arguments]",u="[object Array]",f="[object Boolean]",m="[object Date]",p="[object Error]",v="[object Function]",E="[object GeneratorFunction]",x="[object Map]",A="[object Number]",C="[object Object]",L="[object Promise]",I="[object RegExp]",z="[object Set]",$="[object String]",J="[object Symbol]",te="[object WeakMap]",de="[object ArrayBuffer]",xe="[object DataView]",M="[object Float32Array]",j="[object Float64Array]",P="[object Int8Array]",F="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",N="[object Uint8ClampedArray]",ge="[object Uint16Array]",pe="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,ce=/^\[object .+?Constructor\]$/,be=/^(?:0|[1-9]\d*)$/,ve={};ve[l]=ve[u]=ve[de]=ve[xe]=ve[f]=ve[m]=ve[M]=ve[j]=ve[P]=ve[F]=ve[S]=ve[x]=ve[A]=ve[C]=ve[I]=ve[z]=ve[$]=ve[J]=ve[k]=ve[N]=ve[ge]=ve[pe]=!0,ve[p]=ve[v]=ve[te]=!1;var V=typeof uo=="object"&&uo&&uo.Object===Object&&uo,Y=typeof self=="object"&&self&&self.Object===Object&&self,he=V||Y||Function("return this")(),me=e&&!e.nodeType&&e,ye=me&&!0&&n&&!n.nodeType&&n,Te=ye&&ye.exports===me;function De(_,O){return _.set(O[0],O[1]),_}function Ie(_,O){return _.add(O),_}function Le(_,O){for(var U=-1,ne=_?_.length:0;++U<ne&&O(_[U],U,_)!==!1;);return _}function Qe(_,O){for(var U=-1,ne=O.length,Me=_.length;++U<ne;)_[Me+U]=O[U];return _}function We(_,O,U,ne){for(var Me=-1,Ae=_?_.length:0;++Me<Ae;)U=O(U,_[Me],Me,_);return U}function tt(_,O){for(var U=-1,ne=Array(_);++U<_;)ne[U]=O(U);return ne}function ot(_,O){return _?.[O]}function dt(_){var O=!1;if(_!=null&&typeof _.toString!="function")try{O=!!(_+"")}catch{}return O}function tn(_){var O=-1,U=Array(_.size);return _.forEach(function(ne,Me){U[++O]=[Me,ne]}),U}function Vr(_,O){return function(U){return _(O(U))}}function ii(_){var O=-1,U=Array(_.size);return _.forEach(function(ne){U[++O]=ne}),U}var ji=Array.prototype,zt=Function.prototype,Ct=Object.prototype,xr=he["__core-js_shared__"],Ra=(function(){var _=/[^.]+$/.exec(xr&&xr.keys&&xr.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})(),ki=zt.toString,Rt=Ct.hasOwnProperty,wr=Ct.toString,Mi=RegExp("^"+ki.call(Rt).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=Te?he.Buffer:void 0,hr=he.Symbol,Pi=he.Uint8Array,jn=Vr(Object.getPrototypeOf,Object),Vi=Object.create,Ui=Ct.propertyIsEnumerable,fr=ji.splice,Wt=Object.getOwnPropertySymbols,wn=Ur?Ur.isBuffer:void 0,It=Vr(Object.keys,Object),Ms=pn(he,"DataView"),Tr=pn(he,"Map"),Zn=pn(he,"Promise"),kn=pn(he,"Set"),qr=pn(he,"WeakMap"),_t=pn(Object,"create"),Jn=ln(Ms),Rn=ln(Tr),Mn=ln(Zn),qi=ln(kn),ai=ln(qr),Tn=hr?hr.prototype:void 0,ls=Tn?Tn.valueOf:void 0;function Br(_){var O=-1,U=_?_.length:0;for(this.clear();++O<U;){var ne=_[O];this.set(ne[0],ne[1])}}function Ps(){this.__data__=_t?_t(null):{}}function Bi(_){return this.has(_)&&delete this.__data__[_]}function zi(_){var O=this.__data__;if(_t){var U=O[_];return U===r?void 0:U}return Rt.call(O,_)?O[_]:void 0}function cs(_){var O=this.__data__;return _t?O[_]!==void 0:Rt.call(O,_)}function dr(_,O){var U=this.__data__;return U[_]=_t&&O===void 0?r:O,this}Br.prototype.clear=Ps,Br.prototype.delete=Bi,Br.prototype.get=zi,Br.prototype.has=cs,Br.prototype.set=dr;function nn(_){var O=-1,U=_?_.length:0;for(this.clear();++O<U;){var ne=_[O];this.set(ne[0],ne[1])}}function mr(){this.__data__=[]}function pr(_){var O=this.__data__,U=Vn(O,_);if(U<0)return!1;var ne=O.length-1;return U==ne?O.pop():fr.call(O,U,1),!0}function Ht(_){var O=this.__data__,U=Vn(O,_);return U<0?void 0:O[U][1]}function rn(_){return Vn(this.__data__,_)>-1}function Ar(_,O){var U=this.__data__,ne=Vn(U,_);return ne<0?U.push([_,O]):U[ne][1]=O,this}nn.prototype.clear=mr,nn.prototype.delete=pr,nn.prototype.get=Ht,nn.prototype.has=rn,nn.prototype.set=Ar;function Zt(_){var O=-1,U=_?_.length:0;for(this.clear();++O<U;){var ne=_[O];this.set(ne[0],ne[1])}}function Mo(){this.__data__={hash:new Br,map:new(Tr||nn),string:new Br}}function Ia(_){return ds(this,_).delete(_)}function Oa(_){return ds(this,_).get(_)}function Sr(_){return ds(this,_).has(_)}function oi(_,O){return ds(this,_).set(_,O),this}Zt.prototype.clear=Mo,Zt.prototype.delete=Ia,Zt.prototype.get=Oa,Zt.prototype.has=Sr,Zt.prototype.set=oi;function jt(_){this.__data__=new nn(_)}function er(){this.__data__=new nn}function Pn(_){return this.__data__.delete(_)}function Nr(_){return this.__data__.get(_)}function Ft(_){return this.__data__.has(_)}function Hi(_,O){var U=this.__data__;if(U instanceof nn){var ne=U.__data__;if(!Tr||ne.length<t-1)return ne.push([_,O]),this;U=this.__data__=new Zt(ne)}return U.set(_,O),this}jt.prototype.clear=er,jt.prototype.delete=Pn,jt.prototype.get=Nr,jt.prototype.has=Ft,jt.prototype.set=Hi;function us(_,O){var U=Fr(_)||Bn(_)?tt(_.length,String):[],ne=U.length,Me=!!ne;for(var Ae in _)Rt.call(_,Ae)&&!(Me&&(Ae=="length"||La(Ae,ne)))&&U.push(Ae);return U}function gr(_,O,U){var ne=_[O];(!(Rt.call(_,O)&&Hr(ne,U))||U===void 0&&!(O in _))&&(_[O]=U)}function Vn(_,O){for(var U=_.length;U--;)if(Hr(_[U][0],O))return U;return-1}function tr(_,O){return _&&ui(O,qs(O),_)}function Vs(_,O,U,ne,Me,Ae,$e){var Xe;if(ne&&(Xe=Ae?ne(_,Me,Ae,$e):ne(_)),Xe!==void 0)return Xe;if(!Ye(_))return _;var yt=Fr(_);if(yt){if(Xe=$i(_),!O)return ci(_,Xe)}else{var Ze=Ir(_),At=Ze==v||Ze==E;if(sr(_))return kt(_,O);if(Ze==C||Ze==l||At&&!Ae){if(dt(_))return Ae?_:{};if(Xe=nr(At?{}:_),!O)return Gi(_,tr(Xe,_))}else{if(!ve[Ze])return Ae?_:{};Xe=hi(_,Ze,Vs,O)}}$e||($e=new jt);var cn=$e.get(_);if(cn)return cn;if($e.set(_,Xe),!yt)var Mt=U?fs(_):qs(_);return Le(Mt||_,function(Kt,sn){Mt&&(sn=Kt,Kt=_[sn]),gr(Xe,sn,Vs(Kt,O,U,ne,sn,_,$e))}),Xe}function Fi(_){return Ye(_)?Vi(_):{}}function Da(_,O,U){var ne=O(_);return Fr(_)?ne:Qe(ne,U(_))}function li(_){return wr.call(_)}function Un(_){if(!Ye(_)||fi(_))return!1;var O=On(_)||dt(_)?Mi:ce;return O.test(ln(_))}function Gt(_){if(!rr(_))return It(_);var O=[];for(var U in Object(_))Rt.call(_,U)&&U!="constructor"&&O.push(U);return O}function kt(_,O){if(O)return _.slice();var U=new _.constructor(_.length);return _.copy(U),U}function Cr(_){var O=new _.constructor(_.byteLength);return new Pi(O).set(new Pi(_)),O}function zr(_,O){var U=O?Cr(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.byteLength)}function ct(_,O,U){var ne=O?U(tn(_),!0):tn(_);return We(ne,De,new _.constructor)}function hs(_){var O=new _.constructor(_.source,Z.exec(_));return O.lastIndex=_.lastIndex,O}function Rr(_,O,U){var ne=O?U(ii(_),!0):ii(_);return We(ne,Ie,new _.constructor)}function Us(_){return ls?Object(ls.call(_)):{}}function In(_,O){var U=O?Cr(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.length)}function ci(_,O){var U=-1,ne=_.length;for(O||(O=Array(ne));++U<ne;)O[U]=_[U];return O}function ui(_,O,U,ne){U||(U={});for(var Me=-1,Ae=O.length;++Me<Ae;){var $e=O[Me],Xe=void 0;gr(U,$e,Xe===void 0?_[$e]:Xe)}return U}function Gi(_,O){return ui(_,$t(_),O)}function fs(_){return Da(_,qs,$t)}function ds(_,O){var U=_.__data__;return ms(O)?U[typeof O=="string"?"string":"hash"]:U.map}function pn(_,O){var U=ot(_,O);return Un(U)?U:void 0}var $t=Wt?Vr(Wt,Object):Bs,Ir=li;(Ms&&Ir(new Ms(new ArrayBuffer(1)))!=xe||Tr&&Ir(new Tr)!=x||Zn&&Ir(Zn.resolve())!=L||kn&&Ir(new kn)!=z||qr&&Ir(new qr)!=te)&&(Ir=function(_){var O=wr.call(_),U=O==C?_.constructor:void 0,ne=U?ln(U):void 0;if(ne)switch(ne){case Jn:return xe;case Rn:return x;case Mn:return L;case qi:return z;case ai:return te}return O});function $i(_){var O=_.length,U=_.constructor(O);return O&&typeof _[0]=="string"&&Rt.call(_,"index")&&(U.index=_.index,U.input=_.input),U}function nr(_){return typeof _.constructor=="function"&&!rr(_)?Fi(jn(_)):{}}function hi(_,O,U,ne){var Me=_.constructor;switch(O){case de:return Cr(_);case f:case m:return new Me(+_);case xe:return zr(_,ne);case M:case j:case P:case F:case S:case k:case N:case ge:case pe:return In(_,ne);case x:return ct(_,ne,U);case A:case $:return new Me(_);case I:return hs(_);case z:return Rr(_,ne,U);case J:return Us(_)}}function La(_,O){return O=O??a,!!O&&(typeof _=="number"||be.test(_))&&_>-1&&_%1==0&&_<O}function ms(_){var O=typeof _;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?_!=="__proto__":_===null}function fi(_){return!!Ra&&Ra in _}function rr(_){var O=_&&_.constructor,U=typeof O=="function"&&O.prototype||Ct;return _===U}function ln(_){if(_!=null){try{return ki.call(_)}catch{}try{return _+""}catch{}}return""}function qn(_){return Vs(_,!0,!0)}function Hr(_,O){return _===O||_!==_&&O!==O}function Bn(_){return ps(_)&&Rt.call(_,"callee")&&(!Ui.call(_,"callee")||wr.call(_)==l)}var Fr=Array.isArray;function Gr(_){return _!=null&&gs(_.length)&&!On(_)}function ps(_){return yr(_)&&Gr(_)}var sr=wn||Ki;function On(_){var O=Ye(_)?wr.call(_):"";return O==v||O==E}function gs(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=a}function Ye(_){var O=typeof _;return!!_&&(O=="object"||O=="function")}function yr(_){return!!_&&typeof _=="object"}function qs(_){return Gr(_)?us(_):Gt(_)}function Bs(){return[]}function Ki(){return!1}n.exports=qn})(ju,ju.exports)),ju.exports}var ku={exports:{}};ku.exports;var ow;function i2(){return ow||(ow=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=1,l=2,u=9007199254740991,f="[object Arguments]",m="[object Array]",p="[object AsyncFunction]",v="[object Boolean]",E="[object Date]",x="[object Error]",A="[object Function]",C="[object GeneratorFunction]",L="[object Map]",I="[object Number]",z="[object Null]",$="[object Object]",J="[object Promise]",te="[object Proxy]",de="[object RegExp]",xe="[object Set]",M="[object String]",j="[object Symbol]",P="[object Undefined]",F="[object WeakMap]",S="[object ArrayBuffer]",k="[object DataView]",N="[object Float32Array]",ge="[object Float64Array]",pe="[object Int8Array]",B="[object Int16Array]",Z="[object Int32Array]",ce="[object Uint8Array]",be="[object Uint8ClampedArray]",ve="[object Uint16Array]",V="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,ye={};ye[N]=ye[ge]=ye[pe]=ye[B]=ye[Z]=ye[ce]=ye[be]=ye[ve]=ye[V]=!0,ye[f]=ye[m]=ye[S]=ye[v]=ye[k]=ye[E]=ye[x]=ye[A]=ye[L]=ye[I]=ye[$]=ye[de]=ye[xe]=ye[M]=ye[F]=!1;var Te=typeof uo=="object"&&uo&&uo.Object===Object&&uo,De=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Te||De||Function("return this")(),Le=e&&!e.nodeType&&e,Qe=Le&&!0&&n&&!n.nodeType&&n,We=Qe&&Qe.exports===Le,tt=We&&Te.process,ot=(function(){try{return tt&&tt.binding&&tt.binding("util")}catch{}})(),dt=ot&&ot.isTypedArray;function tn(_,O){for(var U=-1,ne=_==null?0:_.length,Me=0,Ae=[];++U<ne;){var $e=_[U];O($e,U,_)&&(Ae[Me++]=$e)}return Ae}function Vr(_,O){for(var U=-1,ne=O.length,Me=_.length;++U<ne;)_[Me+U]=O[U];return _}function ii(_,O){for(var U=-1,ne=_==null?0:_.length;++U<ne;)if(O(_[U],U,_))return!0;return!1}function ji(_,O){for(var U=-1,ne=Array(_);++U<_;)ne[U]=O(U);return ne}function zt(_){return function(O){return _(O)}}function Ct(_,O){return _.has(O)}function xr(_,O){return _?.[O]}function Ra(_){var O=-1,U=Array(_.size);return _.forEach(function(ne,Me){U[++O]=[Me,ne]}),U}function ki(_,O){return function(U){return _(O(U))}}function Rt(_){var O=-1,U=Array(_.size);return _.forEach(function(ne){U[++O]=ne}),U}var wr=Array.prototype,Mi=Function.prototype,Ur=Object.prototype,hr=Ie["__core-js_shared__"],Pi=Mi.toString,jn=Ur.hasOwnProperty,Vi=(function(){var _=/[^.]+$/.exec(hr&&hr.keys&&hr.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})(),Ui=Ur.toString,fr=RegExp("^"+Pi.call(jn).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=We?Ie.Buffer:void 0,wn=Ie.Symbol,It=Ie.Uint8Array,Ms=Ur.propertyIsEnumerable,Tr=wr.splice,Zn=wn?wn.toStringTag:void 0,kn=Object.getOwnPropertySymbols,qr=Wt?Wt.isBuffer:void 0,_t=ki(Object.keys,Object),Jn=$t(Ie,"DataView"),Rn=$t(Ie,"Map"),Mn=$t(Ie,"Promise"),qi=$t(Ie,"Set"),ai=$t(Ie,"WeakMap"),Tn=$t(Object,"create"),ls=ln(Jn),Br=ln(Rn),Ps=ln(Mn),Bi=ln(qi),zi=ln(ai),cs=wn?wn.prototype:void 0,dr=cs?cs.valueOf:void 0;function nn(_){var O=-1,U=_==null?0:_.length;for(this.clear();++O<U;){var ne=_[O];this.set(ne[0],ne[1])}}function mr(){this.__data__=Tn?Tn(null):{},this.size=0}function pr(_){var O=this.has(_)&&delete this.__data__[_];return this.size-=O?1:0,O}function Ht(_){var O=this.__data__;if(Tn){var U=O[_];return U===r?void 0:U}return jn.call(O,_)?O[_]:void 0}function rn(_){var O=this.__data__;return Tn?O[_]!==void 0:jn.call(O,_)}function Ar(_,O){var U=this.__data__;return this.size+=this.has(_)?0:1,U[_]=Tn&&O===void 0?r:O,this}nn.prototype.clear=mr,nn.prototype.delete=pr,nn.prototype.get=Ht,nn.prototype.has=rn,nn.prototype.set=Ar;function Zt(_){var O=-1,U=_==null?0:_.length;for(this.clear();++O<U;){var ne=_[O];this.set(ne[0],ne[1])}}function Mo(){this.__data__=[],this.size=0}function Ia(_){var O=this.__data__,U=kt(O,_);if(U<0)return!1;var ne=O.length-1;return U==ne?O.pop():Tr.call(O,U,1),--this.size,!0}function Oa(_){var O=this.__data__,U=kt(O,_);return U<0?void 0:O[U][1]}function Sr(_){return kt(this.__data__,_)>-1}function oi(_,O){var U=this.__data__,ne=kt(U,_);return ne<0?(++this.size,U.push([_,O])):U[ne][1]=O,this}Zt.prototype.clear=Mo,Zt.prototype.delete=Ia,Zt.prototype.get=Oa,Zt.prototype.has=Sr,Zt.prototype.set=oi;function jt(_){var O=-1,U=_==null?0:_.length;for(this.clear();++O<U;){var ne=_[O];this.set(ne[0],ne[1])}}function er(){this.size=0,this.__data__={hash:new nn,map:new(Rn||Zt),string:new nn}}function Pn(_){var O=pn(this,_).delete(_);return this.size-=O?1:0,O}function Nr(_){return pn(this,_).get(_)}function Ft(_){return pn(this,_).has(_)}function Hi(_,O){var U=pn(this,_),ne=U.size;return U.set(_,O),this.size+=U.size==ne?0:1,this}jt.prototype.clear=er,jt.prototype.delete=Pn,jt.prototype.get=Nr,jt.prototype.has=Ft,jt.prototype.set=Hi;function us(_){var O=-1,U=_==null?0:_.length;for(this.__data__=new jt;++O<U;)this.add(_[O])}function gr(_){return this.__data__.set(_,r),this}function Vn(_){return this.__data__.has(_)}us.prototype.add=us.prototype.push=gr,us.prototype.has=Vn;function tr(_){var O=this.__data__=new Zt(_);this.size=O.size}function Vs(){this.__data__=new Zt,this.size=0}function Fi(_){var O=this.__data__,U=O.delete(_);return this.size=O.size,U}function Da(_){return this.__data__.get(_)}function li(_){return this.__data__.has(_)}function Un(_,O){var U=this.__data__;if(U instanceof Zt){var ne=U.__data__;if(!Rn||ne.length<t-1)return ne.push([_,O]),this.size=++U.size,this;U=this.__data__=new jt(ne)}return U.set(_,O),this.size=U.size,this}tr.prototype.clear=Vs,tr.prototype.delete=Fi,tr.prototype.get=Da,tr.prototype.has=li,tr.prototype.set=Un;function Gt(_,O){var U=Bn(_),ne=!U&&Hr(_),Me=!U&&!ne&&Gr(_),Ae=!U&&!ne&&!Me&&yr(_),$e=U||ne||Me||Ae,Xe=$e?ji(_.length,String):[],yt=Xe.length;for(var Ze in _)jn.call(_,Ze)&&!($e&&(Ze=="length"||Me&&(Ze=="offset"||Ze=="parent")||Ae&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||hi(Ze,yt)))&&Xe.push(Ze);return Xe}function kt(_,O){for(var U=_.length;U--;)if(qn(_[U][0],O))return U;return-1}function Cr(_,O,U){var ne=O(_);return Bn(_)?ne:Vr(ne,U(_))}function zr(_){return _==null?_===void 0?P:z:Zn&&Zn in Object(_)?Ir(_):rr(_)}function ct(_){return Ye(_)&&zr(_)==f}function hs(_,O,U,ne,Me){return _===O?!0:_==null||O==null||!Ye(_)&&!Ye(O)?_!==_&&O!==O:Rr(_,O,U,ne,hs,Me)}function Rr(_,O,U,ne,Me,Ae){var $e=Bn(_),Xe=Bn(O),yt=$e?m:nr(_),Ze=Xe?m:nr(O);yt=yt==f?$:yt,Ze=Ze==f?$:Ze;var At=yt==$,cn=Ze==$,Mt=yt==Ze;if(Mt&&Gr(_)){if(!Gr(O))return!1;$e=!0,At=!1}if(Mt&&!At)return Ae||(Ae=new tr),$e||yr(_)?ui(_,O,U,ne,Me,Ae):Gi(_,O,yt,U,ne,Me,Ae);if(!(U&a)){var Kt=At&&jn.call(_,"__wrapped__"),sn=cn&&jn.call(O,"__wrapped__");if(Kt||sn){var $r=Kt?_.value():_,zn=sn?O.value():O;return Ae||(Ae=new tr),Me($r,zn,U,ne,Ae)}}return Mt?(Ae||(Ae=new tr),fs(_,O,U,ne,Me,Ae)):!1}function Us(_){if(!gs(_)||ms(_))return!1;var O=sr(_)?fr:he;return O.test(ln(_))}function In(_){return Ye(_)&&On(_.length)&&!!ye[zr(_)]}function ci(_){if(!fi(_))return _t(_);var O=[];for(var U in Object(_))jn.call(_,U)&&U!="constructor"&&O.push(U);return O}function ui(_,O,U,ne,Me,Ae){var $e=U&a,Xe=_.length,yt=O.length;if(Xe!=yt&&!($e&&yt>Xe))return!1;var Ze=Ae.get(_);if(Ze&&Ae.get(O))return Ze==O;var At=-1,cn=!0,Mt=U&l?new us:void 0;for(Ae.set(_,O),Ae.set(O,_);++At<Xe;){var Kt=_[At],sn=O[At];if(ne)var $r=$e?ne(sn,Kt,At,O,_,Ae):ne(Kt,sn,At,_,O,Ae);if($r!==void 0){if($r)continue;cn=!1;break}if(Mt){if(!ii(O,function(zn,Kr){if(!Ct(Mt,Kr)&&(Kt===zn||Me(Kt,zn,U,ne,Ae)))return Mt.push(Kr)})){cn=!1;break}}else if(!(Kt===sn||Me(Kt,sn,U,ne,Ae))){cn=!1;break}}return Ae.delete(_),Ae.delete(O),cn}function Gi(_,O,U,ne,Me,Ae,$e){switch(U){case k:if(_.byteLength!=O.byteLength||_.byteOffset!=O.byteOffset)return!1;_=_.buffer,O=O.buffer;case S:return!(_.byteLength!=O.byteLength||!Ae(new It(_),new It(O)));case v:case E:case I:return qn(+_,+O);case x:return _.name==O.name&&_.message==O.message;case de:case M:return _==O+"";case L:var Xe=Ra;case xe:var yt=ne&a;if(Xe||(Xe=Rt),_.size!=O.size&&!yt)return!1;var Ze=$e.get(_);if(Ze)return Ze==O;ne|=l,$e.set(_,O);var At=ui(Xe(_),Xe(O),ne,Me,Ae,$e);return $e.delete(_),At;case j:if(dr)return dr.call(_)==dr.call(O)}return!1}function fs(_,O,U,ne,Me,Ae){var $e=U&a,Xe=ds(_),yt=Xe.length,Ze=ds(O),At=Ze.length;if(yt!=At&&!$e)return!1;for(var cn=yt;cn--;){var Mt=Xe[cn];if(!($e?Mt in O:jn.call(O,Mt)))return!1}var Kt=Ae.get(_);if(Kt&&Ae.get(O))return Kt==O;var sn=!0;Ae.set(_,O),Ae.set(O,_);for(var $r=$e;++cn<yt;){Mt=Xe[cn];var zn=_[Mt],Kr=O[Mt];if(ne)var Po=$e?ne(Kr,zn,Mt,O,_,Ae):ne(zn,Kr,Mt,_,O,Ae);if(!(Po===void 0?zn===Kr||Me(zn,Kr,U,ne,Ae):Po)){sn=!1;break}$r||($r=Mt=="constructor")}if(sn&&!$r){var zs=_.constructor,Qi=O.constructor;zs!=Qi&&"constructor"in _&&"constructor"in O&&!(typeof zs=="function"&&zs instanceof zs&&typeof Qi=="function"&&Qi instanceof Qi)&&(sn=!1)}return Ae.delete(_),Ae.delete(O),sn}function ds(_){return Cr(_,qs,$i)}function pn(_,O){var U=_.__data__;return La(O)?U[typeof O=="string"?"string":"hash"]:U.map}function $t(_,O){var U=xr(_,O);return Us(U)?U:void 0}function Ir(_){var O=jn.call(_,Zn),U=_[Zn];try{_[Zn]=void 0;var ne=!0}catch{}var Me=Ui.call(_);return ne&&(O?_[Zn]=U:delete _[Zn]),Me}var $i=kn?function(_){return _==null?[]:(_=Object(_),tn(kn(_),function(O){return Ms.call(_,O)}))}:Bs,nr=zr;(Jn&&nr(new Jn(new ArrayBuffer(1)))!=k||Rn&&nr(new Rn)!=L||Mn&&nr(Mn.resolve())!=J||qi&&nr(new qi)!=xe||ai&&nr(new ai)!=F)&&(nr=function(_){var O=zr(_),U=O==$?_.constructor:void 0,ne=U?ln(U):"";if(ne)switch(ne){case ls:return k;case Br:return L;case Ps:return J;case Bi:return xe;case zi:return F}return O});function hi(_,O){return O=O??u,!!O&&(typeof _=="number"||me.test(_))&&_>-1&&_%1==0&&_<O}function La(_){var O=typeof _;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?_!=="__proto__":_===null}function ms(_){return!!Vi&&Vi in _}function fi(_){var O=_&&_.constructor,U=typeof O=="function"&&O.prototype||Ur;return _===U}function rr(_){return Ui.call(_)}function ln(_){if(_!=null){try{return Pi.call(_)}catch{}try{return _+""}catch{}}return""}function qn(_,O){return _===O||_!==_&&O!==O}var Hr=ct((function(){return arguments})())?ct:function(_){return Ye(_)&&jn.call(_,"callee")&&!Ms.call(_,"callee")},Bn=Array.isArray;function Fr(_){return _!=null&&On(_.length)&&!sr(_)}var Gr=qr||Ki;function ps(_,O){return hs(_,O)}function sr(_){if(!gs(_))return!1;var O=zr(_);return O==A||O==C||O==p||O==te}function On(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=u}function gs(_){var O=typeof _;return _!=null&&(O=="object"||O=="function")}function Ye(_){return _!=null&&typeof _=="object"}var yr=dt?zt(dt):In;function qs(_){return Fr(_)?Gt(_):ci(_)}function Bs(){return[]}function Ki(){return!1}n.exports=ps})(ku,ku.exports)),ku.exports}var ed={},lw;function f8(){if(lw)return ed;lw=1,Object.defineProperty(ed,"__esModule",{value:!0});const n=s2(),e=i2();var t;return(function(r){function a(m={},p={},v=!1){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});let E=n(p);v||(E=Object.keys(E).reduce((x,A)=>(E[A]!=null&&(x[A]=E[A]),x),{}));for(const x in m)m[x]!==void 0&&p[x]===void 0&&(E[x]=m[x]);return Object.keys(E).length>0?E:void 0}r.compose=a;function l(m={},p={}){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});const v=Object.keys(m).concat(Object.keys(p)).reduce((E,x)=>(e(m[x],p[x])||(E[x]=p[x]===void 0?null:p[x]),E),{});return Object.keys(v).length>0?v:void 0}r.diff=l;function u(m={},p={}){m=m||{};const v=Object.keys(p).reduce((E,x)=>(p[x]!==m[x]&&m[x]!==void 0&&(E[x]=p[x]),E),{});return Object.keys(m).reduce((E,x)=>(m[x]!==p[x]&&p[x]===void 0&&(E[x]=null),E),v)}r.invert=u;function f(m,p,v=!1){if(typeof m!="object")return p;if(typeof p!="object")return;if(!v)return p;const E=Object.keys(p).reduce((x,A)=>(m[A]===void 0&&(x[A]=p[A]),x),{});return Object.keys(E).length>0?E:void 0}r.transform=f})(t||(t={})),ed.default=t,ed}var td={},cw;function a2(){if(cw)return td;cw=1,Object.defineProperty(td,"__esModule",{value:!0});var n;return(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(n||(n={})),td.default=n,td}var nd={},uw;function d8(){if(uw)return nd;uw=1,Object.defineProperty(nd,"__esModule",{value:!0});const n=a2();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const a=this.ops[this.index];if(a){const l=this.offset,u=n.default.length(a);if(r>=u-l?(r=u-l,this.index+=1,this.offset=0):this.offset+=r,typeof a.delete=="number")return{delete:r};{const f={};return a.attributes&&(f.attributes=a.attributes),typeof a.retain=="number"?f.retain=r:typeof a.retain=="object"&&a.retain!==null?f.retain=a.retain:typeof a.insert=="string"?f.insert=a.insert.substr(l,r):f.insert=a.insert,f}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,a=this.index,l=this.next(),u=this.ops.slice(this.index);return this.offset=r,this.index=a,[l].concat(u)}}else return[]}}return nd.default=e,nd}var hw;function m8(){return hw||(hw=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=h8(),r=s2(),a=i2(),l=f8();e.AttributeMap=l.default;const u=a2();e.Op=u.default;const f=d8();e.OpIterator=f.default;const m="\0",p=(E,x)=>{if(typeof E!="object"||E===null)throw new Error(`cannot retain a ${typeof E}`);if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);const A=Object.keys(E)[0];if(!A||A!==Object.keys(x)[0])throw new Error(`embed types not matched: ${A} != ${Object.keys(x)[0]}`);return[A,E[A],x[A]]};class v{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,A){this.handlers[x]=A}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){const A=this.handlers[x];if(!A)throw new Error(`no handlers for embed type "${x}"`);return A}insert(x,A){const C={};return typeof x=="string"&&x.length===0?this:(C.insert=x,A!=null&&typeof A=="object"&&Object.keys(A).length>0&&(C.attributes=A),this.push(C))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,A){if(typeof x=="number"&&x<=0)return this;const C={retain:x};return A!=null&&typeof A=="object"&&Object.keys(A).length>0&&(C.attributes=A),this.push(C)}push(x){let A=this.ops.length,C=this.ops[A-1];if(x=r(x),typeof C=="object"){if(typeof x.delete=="number"&&typeof C.delete=="number")return this.ops[A-1]={delete:C.delete+x.delete},this;if(typeof C.delete=="number"&&x.insert!=null&&(A-=1,C=this.ops[A-1],typeof C!="object"))return this.ops.unshift(x),this;if(a(x.attributes,C.attributes)){if(typeof x.insert=="string"&&typeof C.insert=="string")return this.ops[A-1]={insert:C.insert+x.insert},typeof x.attributes=="object"&&(this.ops[A-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof C.retain=="number")return this.ops[A-1]={retain:C.retain+x.retain},typeof x.attributes=="object"&&(this.ops[A-1].attributes=x.attributes),this}}return A===this.ops.length?this.ops.push(x):this.ops.splice(A,0,x),this}chop(){const x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){const A=[],C=[];return this.forEach(L=>{(x(L)?A:C).push(L)}),[A,C]}reduce(x,A){return this.ops.reduce(x,A)}changeLength(){return this.reduce((x,A)=>A.insert?x+u.default.length(A):A.delete?x-A.delete:x,0)}length(){return this.reduce((x,A)=>x+u.default.length(A),0)}slice(x=0,A=1/0){const C=[],L=new f.default(this.ops);let I=0;for(;I<A&&L.hasNext();){let z;I<x?z=L.next(x-I):(z=L.next(A-I),C.push(z)),I+=u.default.length(z)}return new v(C)}compose(x){const A=new f.default(this.ops),C=new f.default(x.ops),L=[],I=C.peek();if(I!=null&&typeof I.retain=="number"&&I.attributes==null){let $=I.retain;for(;A.peekType()==="insert"&&A.peekLength()<=$;)$-=A.peekLength(),L.push(A.next());I.retain-$>0&&C.next(I.retain-$)}const z=new v(L);for(;A.hasNext()||C.hasNext();)if(C.peekType()==="insert")z.push(C.next());else if(A.peekType()==="delete")z.push(A.next());else{const $=Math.min(A.peekLength(),C.peekLength()),J=A.next($),te=C.next($);if(te.retain){const de={};if(typeof J.retain=="number")de.retain=typeof te.retain=="number"?$:te.retain;else if(typeof te.retain=="number")J.retain==null?de.insert=J.insert:de.retain=J.retain;else{const M=J.retain==null?"insert":"retain",[j,P,F]=p(J[M],te.retain),S=v.getHandler(j);de[M]={[j]:S.compose(P,F,M==="retain")}}const xe=l.default.compose(J.attributes,te.attributes,typeof J.retain=="number");if(xe&&(de.attributes=xe),z.push(de),!C.hasNext()&&a(z.ops[z.ops.length-1],de)){const M=new v(A.rest());return z.concat(M).chop()}}else typeof te.delete=="number"&&(typeof J.retain=="number"||typeof J.retain=="object"&&J.retain!==null)&&z.push(te)}return z.chop()}concat(x){const A=new v(this.ops.slice());return x.ops.length>0&&(A.push(x.ops[0]),A.ops=A.ops.concat(x.ops.slice(1))),A}diff(x,A){if(this.ops===x.ops)return new v;const C=[this,x].map(J=>J.map(te=>{if(te.insert!=null)return typeof te.insert=="string"?te.insert:m;const de=J===x?"on":"with";throw new Error("diff() called "+de+" non-document")}).join("")),L=new v,I=t(C[0],C[1],A,!0),z=new f.default(this.ops),$=new f.default(x.ops);return I.forEach(J=>{let te=J[1].length;for(;te>0;){let de=0;switch(J[0]){case t.INSERT:de=Math.min($.peekLength(),te),L.push($.next(de));break;case t.DELETE:de=Math.min(te,z.peekLength()),z.next(de),L.delete(de);break;case t.EQUAL:de=Math.min(z.peekLength(),$.peekLength(),te);const xe=z.next(de),M=$.next(de);a(xe.insert,M.insert)?L.retain(de,l.default.diff(xe.attributes,M.attributes)):L.push(M).delete(de);break}te-=de}}),L.chop()}eachLine(x,A=`
`){const C=new f.default(this.ops);let L=new v,I=0;for(;C.hasNext();){if(C.peekType()!=="insert")return;const z=C.peek(),$=u.default.length(z)-C.peekLength(),J=typeof z.insert=="string"?z.insert.indexOf(A,$)-$:-1;if(J<0)L.push(C.next());else if(J>0)L.push(C.next(J));else{if(x(L,C.next(1).attributes||{},I)===!1)return;I+=1,L=new v}}L.length()>0&&x(L,{},I)}invert(x){const A=new v;return this.reduce((C,L)=>{if(L.insert)A.delete(u.default.length(L));else{if(typeof L.retain=="number"&&L.attributes==null)return A.retain(L.retain),C+L.retain;if(L.delete||typeof L.retain=="number"){const I=L.delete||L.retain;return x.slice(C,C+I).forEach($=>{L.delete?A.push($):L.retain&&L.attributes&&A.retain(u.default.length($),l.default.invert(L.attributes,$.attributes))}),C+I}else if(typeof L.retain=="object"&&L.retain!==null){const I=x.slice(C,C+1),z=new f.default(I.ops).next(),[$,J,te]=p(L.retain,z.insert),de=v.getHandler($);return A.retain({[$]:de.invert(J,te)},l.default.invert(L.attributes,z.attributes)),C+1}}return C},0),A.chop()}transform(x,A=!1){if(A=!!A,typeof x=="number")return this.transformPosition(x,A);const C=x,L=new f.default(this.ops),I=new f.default(C.ops),z=new v;for(;L.hasNext()||I.hasNext();)if(L.peekType()==="insert"&&(A||I.peekType()!=="insert"))z.retain(u.default.length(L.next()));else if(I.peekType()==="insert")z.push(I.next());else{const $=Math.min(L.peekLength(),I.peekLength()),J=L.next($),te=I.next($);if(J.delete)continue;if(te.delete)z.push(te);else{const de=J.retain,xe=te.retain;let M=typeof xe=="object"&&xe!==null?xe:$;if(typeof de=="object"&&de!==null&&typeof xe=="object"&&xe!==null){const j=Object.keys(de)[0];if(j===Object.keys(xe)[0]){const P=v.getHandler(j);P&&(M={[j]:P.transform(de[j],xe[j],A)})}}z.retain(M,l.default.transform(J.attributes,te.attributes,A))}}return z.chop()}transformPosition(x,A=!1){A=!!A;const C=new f.default(this.ops);let L=0;for(;C.hasNext()&&L<=x;){const I=C.peekLength(),z=C.peekType();if(C.next(),z==="delete"){x-=Math.min(I,x-L);continue}else z==="insert"&&(L<x||!A)&&(x+=I);L+=I}return x}}v.Op=u.default,v.OpIterator=f.default,v.AttributeMap=l.default,v.handlers={},e.default=v,n.exports=v,n.exports.default=v})(Jf,Jf.exports)),Jf.exports}var Is=m8();const Re=$y(Is);class si extends os{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}si.blotName="break";si.tagName="BR";let ni=class extends Fd{};const p8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wm(n){return n.replace(/[&<>"']/g,e=>p8[e])}class _r extends rv{static allowedChildren=[_r,si,os,ni];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=_r.order.indexOf(e),a=_r.order.indexOf(t);return r>=0||a>=0?r-a:e===t?0:e<t?-1:1}formatAt(e,t,r,a){if(_r.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Oe.BLOT)){const l=this.isolate(e,t);a&&l.wrap(r,a)}else super.formatAt(e,t,r,a)}optimize(e){if(super.optimize(e),this.parent instanceof _r&&_r.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const fw=1;class Yn extends ih{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=o2(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,a){t<=0||(this.scroll.query(r,Oe.BLOCK)?e+t===this.length()&&this.format(r,a):super.formatAt(e,Math.min(t,this.length()-e-1),r,a),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const a=t.split(`
`),l=a.shift();l.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let u=this;a.reduce((f,m)=>(u=u.split(f,!0),u.insertAt(0,m),m.length),e+l.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof si&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+fw),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-fw)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const r=super.split(e,t);return this.cache={},r}}Yn.blotName="block";Yn.tagName="P";Yn.defaultChild=si;Yn.allowedChildren=[si,_r,os,ni];class Rs extends os{attach(){super.attach(),this.attributes=new Em(this.domNode)}delta(){return new Re().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Oe.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,a){this.format(r,a)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const a=t.split(`
`),l=a.pop(),u=a.map(m=>{const p=this.scroll.create(Yn.blotName);return p.insertAt(0,m),p}),f=this.split(e);u.forEach(m=>{this.parent.insertBefore(m,f)}),l&&this.parent.insertBefore(this.scroll.create("text",l),f)}}Rs.scope=Oe.BLOCK_BLOT;function o2(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(cr).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),Ss(r,{},e)),new Re).insert(`
`,Ss(n))}function Ss(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:Ss(n.parent,e,t)}class Xs extends os{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Xs.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,a=0;for(;r!=null&&r.statics.scope!==Oe.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Xs.CONTENTS.length,r.optimize(),r.formatAt(a,Xs.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof ni?this.prev:null,r=t?t.length():0,a=this.next instanceof ni?this.next:null,l=a?a.text:"",{textNode:u}=this,f=u.data.split(Xs.CONTENTS).join("");u.data=Xs.CONTENTS;let m;if(t)m=t,(f||a)&&(t.insertAt(t.length(),f+l),a&&a.remove());else if(a)m=a,a.insertAt(0,f);else{const p=document.createTextNode(f);m=this.scroll.create(p),this.parent.insertBefore(m,this)}if(this.remove(),e){const p=(x,A)=>t&&x===t.domNode?A:x===u?r+A-1:a&&x===a.domNode?r+f.length+A:null,v=p(e.start.node,e.start.offset),E=p(e.end.node,e.end.offset);if(v!==null&&E!==null)return{startNode:m.domNode,startOffset:v,endNode:m.domNode,endOffset:E}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Xs.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var $g={exports:{}},dw;function g8(){return dw||(dw=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function a(m,p,v){this.fn=m,this.context=p,this.once=v||!1}function l(m,p,v,E,x){if(typeof v!="function")throw new TypeError("The listener must be a function");var A=new a(v,E||m,x),C=t?t+p:p;return m._events[C]?m._events[C].fn?m._events[C]=[m._events[C],A]:m._events[C].push(A):(m._events[C]=A,m._eventsCount++),m}function u(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],v,E;if(this._eventsCount===0)return p;for(E in v=this._events)e.call(v,E)&&p.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(v)):p},f.prototype.listeners=function(p){var v=t?t+p:p,E=this._events[v];if(!E)return[];if(E.fn)return[E.fn];for(var x=0,A=E.length,C=new Array(A);x<A;x++)C[x]=E[x].fn;return C},f.prototype.listenerCount=function(p){var v=t?t+p:p,E=this._events[v];return E?E.fn?1:E.length:0},f.prototype.emit=function(p,v,E,x,A,C){var L=t?t+p:p;if(!this._events[L])return!1;var I=this._events[L],z=arguments.length,$,J;if(I.fn){switch(I.once&&this.removeListener(p,I.fn,void 0,!0),z){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,v),!0;case 3:return I.fn.call(I.context,v,E),!0;case 4:return I.fn.call(I.context,v,E,x),!0;case 5:return I.fn.call(I.context,v,E,x,A),!0;case 6:return I.fn.call(I.context,v,E,x,A,C),!0}for(J=1,$=new Array(z-1);J<z;J++)$[J-1]=arguments[J];I.fn.apply(I.context,$)}else{var te=I.length,de;for(J=0;J<te;J++)switch(I[J].once&&this.removeListener(p,I[J].fn,void 0,!0),z){case 1:I[J].fn.call(I[J].context);break;case 2:I[J].fn.call(I[J].context,v);break;case 3:I[J].fn.call(I[J].context,v,E);break;case 4:I[J].fn.call(I[J].context,v,E,x);break;default:if(!$)for(de=1,$=new Array(z-1);de<z;de++)$[de-1]=arguments[de];I[J].fn.apply(I[J].context,$)}}return!0},f.prototype.on=function(p,v,E){return l(this,p,v,E,!1)},f.prototype.once=function(p,v,E){return l(this,p,v,E,!0)},f.prototype.removeListener=function(p,v,E,x){var A=t?t+p:p;if(!this._events[A])return this;if(!v)return u(this,A),this;var C=this._events[A];if(C.fn)C.fn===v&&(!x||C.once)&&(!E||C.context===E)&&u(this,A);else{for(var L=0,I=[],z=C.length;L<z;L++)(C[L].fn!==v||x&&!C[L].once||E&&C[L].context!==E)&&I.push(C[L]);I.length?this._events[A]=I.length===1?I[0]:I:u(this,A)}return this},f.prototype.removeAllListeners=function(p){var v;return p?(v=t?t+p:p,this._events[v]&&u(this,v)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f})($g)),$g.exports}var y8=g8();const v8=$y(y8),zy=new WeakMap,Hy=["error","warn","log","info"];let Fy="warn";function l2(n){if(Fy&&Hy.indexOf(n)<=Hy.indexOf(Fy)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Ca(n){return Hy.reduce((e,t)=>(e[t]=l2.bind(console,t,n),e),{})}Ca.level=n=>{Fy=n};l2.level=Ca.level;const Kg=Ca("quill:events"),b8=["selectionchange","mousedown","mouseup","click"];b8.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const l=zy.get(a);l&&l.emitter&&l.emitter.handleDOM(...t)})})});class Ne extends v8{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Kg.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Kg.log.call(Kg,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(l=>{let{node:u,handler:f}=l;(e.target===u||u.contains(e.target))&&f(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const Qg=Ca("quill:selection");class fl{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class _8{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new fl(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ne.sources.USER),1)}),this.emitter.on(Ne.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ne.events.SCROLL_UPDATE,(a,l)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const u=l.some(f=>f.type==="characterData"||f.type==="childList"||f.type==="attributes"&&f.target===this.root);this.update(u?Ne.sources.SILENT:a)}catch{}})}),this.emitter.on(Ne.events.SCROLL_OPTIMIZE,(r,a)=>{if(a.range){const{startNode:l,startOffset:u,endNode:f,endOffset:m}=a.range;this.setNativeRange(l,u,f,m),this.update(Ne.sources.SILENT)}}),this.update(Ne.sources.SILENT)}handleComposition(){this.emitter.on(Ne.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ne.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ne.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Oe.BLOCK))){if(r.start.node!==this.cursor.textNode){const a=this.scroll.find(r.start.node,!1);if(a==null)return;if(a instanceof cr){const l=a.split(r.start.offset);a.parent.insertBefore(this.cursor,l)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let a,[l,u]=this.scroll.leaf(e);if(l==null)return null;if(t>0&&u===l.length()){const[v]=this.scroll.leaf(e+1);if(v){const[E]=this.scroll.line(e),[x]=this.scroll.line(e+1);E===x&&(l=v,u=0)}}[a,u]=l.position(u,!0);const f=document.createRange();if(t>0)return f.setStart(a,u),[l,u]=this.scroll.leaf(e+t),l==null?null:([a,u]=l.position(u,!0),f.setEnd(a,u),f.getBoundingClientRect());let m="left",p;if(a instanceof Text){if(!a.data.length)return null;u<a.data.length?(f.setStart(a,u),f.setEnd(a,u+1)):(f.setStart(a,u-1),f.setEnd(a,u),m="right"),p=f.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;p=l.domNode.getBoundingClientRect(),u>0&&(m="right")}return{bottom:p.top+p.height,height:p.height,left:p[m],right:p[m],top:p.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return Qg.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Yg(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(u=>{const[f,m]=u,p=this.scroll.find(f,!0),v=p.offset(this.scroll);return m===0?v:p instanceof cr?v+p.index(f,m):v+p.length()}),a=Math.min(Math.max(...r),this.scroll.length()-1),l=Math.min(a,...r);return new fl(l,a-l)}normalizeNative(e){if(!Yg(this.root,e.startContainer)||!e.collapsed&&!Yg(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:a,offset:l}=r;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>l)a=a.childNodes[l],l=0;else if(a.childNodes.length===l)a=a.lastChild,a instanceof Text?l=a.data.length:a.childNodes.length>0?l=a.childNodes.length:l=a.childNodes.length+1;else break;r.node=a,r.offset=l}),t}rangeToNative(e){const t=this.scroll.length(),r=(a,l)=>{a=Math.min(t-1,a);const[u,f]=this.scroll.leaf(a);return u?u.position(f,l):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Qg.info("setNativeRange",e,t,r,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const u=document.getSelection();if(u!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:f}=this.getNativeRange()||{};if(f==null||l||e!==f.startContainer||t!==f.startOffset||r!==f.endContainer||a!==f.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(a=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const m=document.createRange();m.setStart(e,t),m.setEnd(r,a),u.removeAllRanges(),u.addRange(m)}}else u.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;if(typeof t=="string"&&(r=t,t=!1),Qg.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.lastRange,[r,a]=this.getRange();if(this.lastRange=r,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!co(t,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}const l=[Ne.events.SELECTION_CHANGE,mc(this.lastRange),mc(t),e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...l),e!==Ne.sources.SILENT&&this.emitter.emit(...l)}}}function Yg(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const E8=/^[ -~]*$/;class x8{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=mw(e),a=new Re;return T8(r.ops.slice()).reduce((u,f)=>{const m=Is.Op.length(f);let p=f.attributes||{},v=!1,E=!1;if(f.insert!=null){if(a.retain(m),typeof f.insert=="string"){const C=f.insert;E=!C.endsWith(`
`)&&(t<=u||!!this.scroll.descendant(Rs,u)[0]),this.scroll.insertAt(u,C);const[L,I]=this.scroll.line(u);let z=bo({},Ss(L));if(L instanceof Yn){const[$]=L.descendant(cr,I);$&&(z=bo(z,Ss($)))}p=Is.AttributeMap.diff(z,p)||{}}else if(typeof f.insert=="object"){const C=Object.keys(f.insert)[0];if(C==null)return u;const L=this.scroll.query(C,Oe.INLINE)!=null;if(L)(t<=u||this.scroll.descendant(Rs,u)[0])&&(E=!0);else if(u>0){const[I,z]=this.scroll.descendant(cr,u-1);I instanceof ni?I.value()[z]!==`
`&&(v=!0):I instanceof os&&I.statics.scope===Oe.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(u,C,f.insert[C]),L){const[I]=this.scroll.descendant(cr,u);if(I){const z=bo({},Ss(I));p=Is.AttributeMap.diff(z,p)||{}}}}t+=m}else if(a.push(f),f.retain!==null&&typeof f.retain=="object"){const C=Object.keys(f.retain)[0];if(C==null)return u;this.scroll.updateEmbedAt(u,C,f.retain[C])}Object.keys(p).forEach(C=>{this.scroll.formatAt(u,m,C,p[C])});const x=v?1:0,A=E?1:0;return t+=x+A,a.retain(x),a.delete(A),u+m+x+A},0),a.reduce((u,f)=>typeof f.delete=="number"?(this.scroll.deleteAt(u,f.delete),u):u+Is.Op.length(f),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Re().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(l=>{this.scroll.lines(e,Math.max(t,1)).forEach(u=>{u.format(l,r[l])})}),this.scroll.optimize();const a=new Re().retain(e).retain(t,mc(r));return this.update(a)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(l=>{this.scroll.formatAt(e,t,l,r[l])});const a=new Re().retain(e).retain(t,mc(r));return this.update(a)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Re)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],a=[];t===0?this.scroll.path(e).forEach(f=>{const[m]=f;m instanceof Yn?r.push(m):m instanceof cr&&a.push(m)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(cr,e,t));const[l,u]=[r,a].map(f=>{const m=f.shift();if(m==null)return{};let p=Ss(m);for(;Object.keys(p).length>0;){const v=f.shift();if(v==null)return p;p=w8(Ss(v),p)}return p});return{...l,...u}}getHTML(e,t){const[r,a]=this.scroll.line(e);if(r){const l=r.length();return r.length()>=a+t&&!(a===0&&t===l)?ah(r,a,t,!0):ah(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=mw(t),a=new Re().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(a)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new Re().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(a=>{this.scroll.formatAt(e,t.length,a,r[a])}),this.update(new Re().retain(e).insert(t,mc(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Yn.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof si}removeFormat(e,t){const r=this.getText(e,t),[a,l]=this.scroll.line(e+t);let u=0,f=new Re;a!=null&&(u=a.length()-l,f=a.delta().slice(l,l+u-1).insert(`
`));const p=this.getContents(e,t+u).diff(new Re().insert(r).concat(f)),v=new Re().retain(e).concat(p);return this.applyDelta(v)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(E8)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),u=Ss(l),f=l.offset(this.scroll),m=t[0].oldValue.replace(Xs.CONTENTS,""),p=new Re().insert(m),v=new Re().insert(l.value()),E=r&&{oldRange:pw(r.oldRange,-f),newRange:pw(r.newRange,-f)};e=new Re().retain(f).concat(p.diff(v,E)).reduce((A,C)=>C.insert?A.insert(C.insert,u):A.push(C),new Re),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!co(a.compose(e),this.delta))&&(e=a.diff(this.delta,r));return e}}function lc(n,e,t){if(n.length===0){const[A]=Xg(t.pop());return e<=0?`</li></${A}>`:`</li></${A}>${lc([],e-1,t)}`}const[{child:r,offset:a,length:l,indent:u,type:f},...m]=n,[p,v]=Xg(f);if(u>e)return t.push(f),u===e+1?`<${p}><li${v}>${ah(r,a,l)}${lc(m,u,t)}`:`<${p}><li>${lc(n,e+1,t)}`;const E=t[t.length-1];if(u===e&&f===E)return`</li><li${v}>${ah(r,a,l)}${lc(m,u,t)}`;const[x]=Xg(t.pop());return`</li></${x}>${lc(n,e-1,t)}`}function ah(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof ni)return wm(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof ei){if(n.statics.blotName==="list-container"){const p=[];return n.children.forEachAt(e,t,(v,E,x)=>{const A="formats"in v&&typeof v.formats=="function"?v.formats():{};p.push({child:v,offset:E,length:x,indent:A.indent||0,type:A.list})}),lc(p,-1,[])}const a=[];if(n.children.forEachAt(e,t,(p,v,E)=>{a.push(ah(p,v,E))}),r||n.statics.blotName==="list")return a.join("");const{outerHTML:l,innerHTML:u}=n.domNode,[f,m]=l.split(`>${u}<`);return f==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${m}`:`${f}>${a.join("")}<${m}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function w8(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const a=e[r];return a===n[r]?t[r]=a:Array.isArray(a)?a.indexOf(n[r])<0?t[r]=a.concat([n[r]]):t[r]=a:t[r]=[a,n[r]],t},{})}function Xg(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function mw(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new Re)}function pw(n,e){let{index:t,length:r}=n;return new fl(t+e,r)}function T8(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((a,l)=>{l&&e.push({insert:`
`,attributes:t.attributes}),a&&e.push({insert:a,attributes:t.attributes})}):e.push(t)}),e}class Li{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const rd="\uFEFF";class iv extends os{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(rd),this.rightGuard=document.createTextNode(rd),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const a=e.data.split(rd).join("");if(e===this.leftGuard)if(this.prev instanceof ni){const l=this.prev.length();this.prev.insertAt(l,a),t={startNode:this.prev.domNode,startOffset:l+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof ni?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=rd,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const a=this.restore(r.target);a&&(t.range=a)}})}}class A8{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof iv)&&(this.emitter.emit(Ne.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ne.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ne.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ne.events.COMPOSITION_END,e),this.isComposing=!1}}class Uc{static DEFAULTS={modules:{}};static themes={default:Uc};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const S8=n=>n.parentElement||n.getRootNode().host||null,N8=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},sd=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},gw=(n,e,t,r,a,l)=>n<t&&e>r?0:n<t?-(t-n+a):e>r?e-n>r-t?n+a-t:e-r+l:0,C8=(n,e)=>{const t=n.ownerDocument;let r=e,a=n;for(;a;){const l=a===t.body,u=l?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:N8(a),f=getComputedStyle(a),m=gw(r.left,r.right,u.left,u.right,sd(f.scrollPaddingLeft),sd(f.scrollPaddingRight)),p=gw(r.top,r.bottom,u.top,u.bottom,sd(f.scrollPaddingTop),sd(f.scrollPaddingBottom));if(m||p)if(l)t.defaultView?.scrollBy(m,p);else{const{scrollLeft:v,scrollTop:E}=a;p&&(a.scrollTop+=p),m&&(a.scrollLeft+=m);const x=a.scrollLeft-v,A=a.scrollTop-E;r={left:r.left-x,top:r.top-A,right:r.right-x,bottom:r.bottom-A}}a=l||f.position==="fixed"?null:S8(a)}},R8=100,I8=["block","break","cursor","inline","scroll","text"],O8=(n,e,t)=>{const r=new Nc;return I8.forEach(a=>{const l=e.query(a);l&&r.register(l)}),n.forEach(a=>{let l=e.query(a);l||t.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;l;)if(r.register(l),l="blotName"in l?l.requiredContainer??null:null,u+=1,u>R8){t.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),r},gc=Ca("quill"),id=new Nc;ei.uiClass="ql-ui";class oe{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:id,theme:"default"};static events=Ne.events;static sources=Ne.sources;static version="2.0.3";static imports={delta:Re,parchment:u8,"core/module":Li,"core/theme":Uc};static debug(e){e===!0&&(e="log"),Ca.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return zy.get(e)||id.find(e,t)}static import(e){return this.imports[e]==null&&gc.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(a=>{this.register(a,e[a],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&gc.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&id.register(t),typeof t.register=="function"&&t.register(id)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=D8(e,t),this.container=this.options.container,this.container==null){gc.error("Invalid Quill container",e);return}this.options.debug&&oe.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",zy.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ne;const a=sv.blotName,l=this.options.registry.query(a);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new x8(this.scroll),this.selection=new _8(this.scroll,this.emitter),this.composition=new A8(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ne.events.EDITOR_CHANGE,u=>{u===Ne.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ne.events.SCROLL_UPDATE,(u,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),v=m&&p?{oldRange:m,newRange:p}:void 0;Qs.call(this,()=>this.editor.update(null,f,v),u)}),this.emitter.on(Ne.events.SCROLL_EMBED_UPDATE,(u,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),v=m&&p?{oldRange:m,newRange:p}:void 0;Qs.call(this,()=>{const E=new Re().retain(u.offset(this)).retain({[u.statics.blotName]:f});return this.editor.update(E,[],v)},oe.sources.USER)}),r){const u=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=ha(e,t,r),Qs.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;return Qs.call(this,()=>{const a=this.getSelection(!0);let l=new Re;if(a==null)return l;if(this.scroll.query(e,Oe.BLOCK))l=this.editor.formatLine(a.index,a.length,{[e]:t});else{if(a.length===0)return this.selection.format(e,t),l;l=this.editor.formatText(a.index,a.length,{[e]:t})}return this.setSelection(a,Ne.sources.SILENT),l},r)}formatLine(e,t,r,a,l){let u;return[e,t,u,l]=ha(e,t,r,a,l),Qs.call(this,()=>this.editor.formatLine(e,t,u),l,e,0)}formatText(e,t,r,a,l){let u;return[e,t,u,l]=ha(e,t,r,a,l),Qs.call(this,()=>this.editor.formatText(e,t,u),l,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=ha(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ha(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ha(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:oe.sources.API;return Qs.call(this,()=>this.editor.insertEmbed(e,t,r),a,e)}insertText(e,t,r,a,l){let u;return[e,,u,l]=ha(e,0,r,a,l),Qs.call(this,()=>this.editor.insertText(e,t,u),l,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=ha(e,t,r),Qs.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){C8(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Qs.call(this,()=>{e=new Re(e);const r=this.getLength(),a=this.editor.deleteText(0,r),l=this.editor.insertContents(0,e),u=this.editor.deleteText(this.getLength()-1,1);return a.compose(l).compose(u)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||oe.sources.API):([e,t,,r]=ha(e,t,r),this.selection.setRange(new fl(Math.max(0,e),t),r),r!==Ne.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;const r=new Re().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Qs.call(this,()=>(e=new Re(e),this.editor.applyDelta(e)),t,!0)}}function yw(n){return typeof n=="string"?document.querySelector(n):n}function Wg(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,a]=t;return{...e,[r]:a===!0?{}:a}},{})}function vw(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function D8(n,e){const t=yw(n);if(!t)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===oe.DEFAULTS.theme?Uc:oe.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...u}=oe.DEFAULTS,{modules:f,...m}=a.DEFAULTS;let p=Wg(e.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const v=bo({},Wg(l),Wg(f),p),E={...u,...vw(m),...vw(e)};let x=e.registry;return x?e.formats&&gc.warn('Ignoring "formats" option because "registry" is specified'):x=e.formats?O8(e.formats,E.registry,gc):E.registry,{...E,registry:x,container:t,theme:a,modules:Object.entries(v).reduce((A,C)=>{let[L,I]=C;if(!I)return A;const z=oe.import(`modules/${L}`);return z==null?(gc.error(`Cannot load ${L} module. Are you sure you registered it?`),A):{...A,[L]:bo({},z.DEFAULTS||{},I)}},{}),bounds:yw(E.bounds)}}function Qs(n,e,t,r){if(!this.isEnabled()&&e===Ne.sources.USER&&!this.allowReadOnlyEdits)return new Re;let a=t==null?null:this.getSelection();const l=this.editor.delta,u=n();if(a!=null&&(t===!0&&(t=a.index),r==null?a=bw(a,u,e):r!==0&&(a=bw(a,t,r,e)),this.setSelection(a,Ne.sources.SILENT)),u.length()>0){const f=[Ne.events.TEXT_CHANGE,u,l,e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...f),e!==Ne.sources.SILENT&&this.emitter.emit(...f)}return u}function ha(n,e,t,r,a){let l={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(a=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(a=r,r=t,t=e,e=0),typeof t=="object"?(l=t,a=r):typeof t=="string"&&(r!=null?l[t]=r:a=t),a=a||Ne.sources.API,[n,e,l,a]}function bw(n,e,t,r){const a=typeof t=="number"?t:0;if(n==null)return null;let l,u;return e&&typeof e.transformPosition=="function"?[l,u]=[n.index,n.index+n.length].map(f=>e.transformPosition(f,r!==Ne.sources.USER)):[l,u]=[n.index,n.index+n.length].map(f=>f<e||f===e&&r===Ne.sources.USER?f:a>=0?f+a:Math.max(e,f+a)),new fl(l,u-l)}class El extends xm{}function _w(n){return n instanceof Yn||n instanceof Rs}function Ew(n){return typeof n.updateContent=="function"}class L8 extends sv{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Yn;static allowedChildren=[Yn,Rs,El];constructor(e,t,r){let{emitter:a}=r;super(e,t),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ne.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,a]=this.line(e),[l]=this.line(e+t);if(super.deleteAt(e,t),l!=null&&r!==l&&a>0){if(r instanceof Rs||l instanceof Rs){this.optimize();return}const u=l.children.head instanceof si?null:l.children.head;r.moveChildren(l,u),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Oe.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),r==null&&t.endsWith(`
`)?a.insertAt(0,t.slice(0,-1),r):a.insertAt(0,t,r)}else{const a=this.scroll.create(t,r);this.appendChild(a)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Oe.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new Re().insert(`
`))),a=r.pop();if(a==null)return;this.batchStart();const l=r.shift();if(l){const m=l.type==="block"&&(l.delta.length()===0||!this.descendant(Rs,e)[0]&&e<this.length()),p=l.type==="block"?l.delta:new Re().insert({[l.key]:l.value});Zg(this,e,p);const v=l.type==="block"?1:0,E=e+p.length()+v;m&&this.insertAt(E-1,`
`);const x=Ss(this.line(e)[0]),A=Is.AttributeMap.diff(x,l.attributes)||{};Object.keys(A).forEach(C=>{this.formatAt(E-1,1,C,A[C])}),e=E}let[u,f]=this.children.find(e);if(r.length&&(u&&(u=u.split(f),f=0),r.forEach(m=>{if(m.type==="block"){const p=this.createBlock(m.attributes,u||void 0);Zg(p,0,m.delta)}else{const p=this.create(m.key,m.value);this.insertBefore(p,u||void 0),Object.keys(m.attributes).forEach(v=>{p.format(v,m.attributes[v])})}})),a.type==="block"&&a.delta.length()){const m=u?u.offset(u.scroll)+f:this.length();Zg(this,m,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,a]=t;return r instanceof cr?[r,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(_w,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(a,l,u)=>{let f=[],m=u;return a.children.forEachAt(l,u,(p,v,E)=>{_w(p)?f.push(p):p instanceof xm&&(f=f.concat(r(p,v,m))),m-=E}),f};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ne.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ne.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:a}=r;const l=this.find(a,!0);return l&&!Ew(l)}),e.length>0&&this.emitter.emit(Ne.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ne.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[a]=this.descendant(l=>l instanceof Rs,e);a&&a.statics.blotName===t&&Ew(a)&&a.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new Re;return e.forEach(a=>{const l=a?.insert;if(l)if(typeof l=="string"){const u=l.split(`
`);u.slice(0,-1).forEach(m=>{r.insert(m,a.attributes),t.push({type:"block",delta:r,attributes:a.attributes??{}}),r=new Re});const f=u[u.length-1];f&&r.insert(f,a.attributes)}else{const u=Object.keys(l)[0];if(!u)return;this.query(u,Oe.INLINE)?r.push(a):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Re,t.push({type:"blockEmbed",key:u,value:l[u],attributes:a.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const a={};Object.entries(e).forEach(f=>{let[m,p]=f;this.query(m,Oe.BLOCK&Oe.BLOT)!=null?r=m:a[m]=p});const l=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(l,t||void 0);const u=l.length();return Object.entries(a).forEach(f=>{let[m,p]=f;l.formatAt(0,u,m,p)}),l}}function Zg(n,e,t){t.reduce((r,a)=>{const l=Is.Op.length(a);let u=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const f=a.insert;n.insertAt(r,f);const[m]=n.descendant(cr,r),p=Ss(m);u=Is.AttributeMap.diff(p,u)||{}}else if(typeof a.insert=="object"){const f=Object.keys(a.insert)[0];if(f==null)return r;if(n.insertAt(r,f,a.insert[f]),n.scroll.query(f,Oe.INLINE)!=null){const[p]=n.descendant(cr,r),v=Ss(p);u=Is.AttributeMap.diff(v,u)||{}}}}return Object.keys(u).forEach(f=>{n.formatAt(r,l,f,u[f])}),r+l},e)}const av={scope:Oe.BLOCK,whitelist:["right","center","justify"]},j8=new Ii("align","align",av),c2=new ri("align","ql-align",av),u2=new ko("align","text-align",av);class h2 extends ko{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):t}}const k8=new ri("color","ql-color",{scope:Oe.INLINE}),ov=new h2("color","color",{scope:Oe.INLINE}),M8=new ri("background","ql-bg",{scope:Oe.INLINE}),lv=new h2("background","background-color",{scope:Oe.INLINE});class xl extends El{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${wm(this.code(e,t))}
</pre>`}}class Er extends Yn{static TAB="  ";static register(){oe.register(xl)}}class cv extends _r{}cv.blotName="code";cv.tagName="CODE";Er.blotName="code-block";Er.className="ql-code-block";Er.tagName="DIV";xl.blotName="code-block-container";xl.className="ql-code-block-container";xl.tagName="DIV";xl.allowedChildren=[Er];Er.allowedChildren=[ni,si,Xs];Er.requiredContainer=xl;const uv={scope:Oe.BLOCK,whitelist:["rtl"]},f2=new Ii("direction","dir",uv),d2=new ri("direction","ql-direction",uv),m2=new ko("direction","direction",uv),p2={scope:Oe.INLINE,whitelist:["serif","monospace"]},g2=new ri("font","ql-font",p2);class P8 extends ko{value(e){return super.value(e).replace(/["']/g,"")}}const y2=new P8("font","font-family",p2),v2=new ri("size","ql-size",{scope:Oe.INLINE,whitelist:["small","large","huge"]}),b2=new ko("size","font-size",{scope:Oe.INLINE,whitelist:["10px","18px","32px"]}),V8=Ca("quill:keyboard"),U8=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Tm extends Li{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=B8(e);if(a==null){V8.warn("Attempted to add invalid keyboard binding",a);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(a.key)?a.key:[a.key]).forEach(u=>{const f={...a,key:u,...t,...r};this.bindings[f.key]=this.bindings[f.key]||[],this.bindings[f.key].push(f)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(z=>Tm.match(e,z));if(a.length===0)return;const l=oe.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;const[f,m]=this.quill.getLine(u.index),[p,v]=this.quill.getLeaf(u.index),[E,x]=u.length===0?[p,v]:this.quill.getLeaf(u.index+u.length),A=p instanceof Fd?p.value().slice(0,v):"",C=E instanceof Fd?E.value().slice(x):"",L={collapsed:u.length===0,empty:u.length===0&&f.length()<=1,format:this.quill.getFormat(u),line:f,offset:m,prefix:A,suffix:C,event:e};a.some(z=>{if(z.collapsed!=null&&z.collapsed!==L.collapsed||z.empty!=null&&z.empty!==L.empty||z.offset!=null&&z.offset!==L.offset)return!1;if(Array.isArray(z.format)){if(z.format.every($=>L.format[$]==null))return!1}else if(typeof z.format=="object"&&!Object.keys(z.format).every($=>z.format[$]===!0?L.format[$]!=null:z.format[$]===!1?L.format[$]==null:co(z.format[$],L.format[$])))return!1;return z.prefix!=null&&!z.prefix.test(L.prefix)||z.suffix!=null&&!z.suffix.test(L.suffix)?!1:z.handler.call(this,u,L,z)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[l]=this.quill.getLine(e.index);let u=new Re().retain(e.index-r).delete(r);if(t.offset===0){const[f]=this.quill.getLine(e.index-1);if(f&&!(f.statics.blotName==="block"&&f.length()<=1)){const p=l.formats(),v=this.quill.getFormat(e.index-1,1);if(a=Is.AttributeMap.diff(p,v)||{},Object.keys(a).length>0){const E=new Re().retain(e.index+l.length()-2).retain(1,a);u=u.compose(E)}}}this.quill.updateContents(u,oe.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let a={};const[l]=this.quill.getLine(e.index);let u=new Re().retain(e.index).delete(r);if(t.offset>=l.length()-1){const[f]=this.quill.getLine(e.index+1);if(f){const m=l.formats(),p=this.quill.getFormat(e.index,1);a=Is.AttributeMap.diff(m,p)||{},Object.keys(a).length>0&&(u=u.retain(f.length()-1).retain(1,a))}}this.quill.updateContents(u,oe.sources.USER),this.quill.focus()}handleDeleteRange(e){hv({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((l,u)=>(this.quill.scroll.query(u,Oe.BLOCK)&&!Array.isArray(t.format[u])&&(l[u]=t.format[u]),l),{}),a=new Re().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(a,oe.sources.USER),this.quill.setSelection(e.index+1,oe.sources.SILENT),this.quill.focus()}}const q8={bindings:{bold:Jg("bold"),italic:Jg("italic"),underline:Jg("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",oe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",oe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",oe.sources.USER):e.format.list!=null&&this.quill.format("list",!1,oe.sources.USER)}},"indent code-block":xw(!0),"outdent code-block":xw(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,oe.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Re().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,oe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,oe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,oe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,oe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},a=new Re().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,oe.sources.USER),this.quill.setSelection(n.index+1,oe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),a=new Re().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(a,oe.sources.USER),this.quill.setSelection(n.index+1,oe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,a,l]=e.getTable(n),u=z8(t,r,a,l);if(u==null)return;let f=t.offset();if(u<0){const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,oe.sources.USER),this.quill.setSelection(n.index+1,n.length,oe.sources.SILENT)}else if(u>0){f+=t.length();const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,oe.sources.USER),this.quill.setSelection(f,oe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,a=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(a-1,oe.sources.USER):this.quill.setSelection(a+r.length(),oe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,a]=this.quill.getLine(n.index);if(a>t)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",oe.sources.USER),this.quill.history.cutoff();const u=new Re().retain(n.index-a).delete(t+1).retain(r.length()-2-a).retain(1,{list:l});return this.quill.updateContents(u,oe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,oe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,r-=1,r<=0){const l=new Re().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,oe.sources.USER),this.quill.setSelection(n.index-1,oe.sources.SILENT),!1}return!0}},"embed left":ad("ArrowLeft",!1),"embed left shift":ad("ArrowLeft",!0),"embed right":ad("ArrowRight",!1),"embed right shift":ad("ArrowRight",!0),"table down":ww(!1),"table up":ww(!0)}};Tm.DEFAULTS=q8;function xw(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const a=this.quill.scroll.query("code-block"),{TAB:l}=a;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,l,oe.sources.USER),this.quill.setSelection(e.index+l.length,oe.sources.SILENT);return}const u=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:f,length:m}=e;u.forEach((p,v)=>{n?(p.insertAt(0,l),v===0?f+=l.length:m+=l.length):p.domNode.textContent.startsWith(l)&&(p.deleteAt(0,l.length),v===0?f-=l.length:m-=l.length)}),this.quill.update(oe.sources.USER),this.quill.setSelection(f,m,oe.sources.SILENT)}}}function ad(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:a}=r;n==="ArrowRight"&&(a+=r.length+1);const[l]=this.quill.getLeaf(a);return l instanceof os?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,oe.sources.USER):this.quill.setSelection(r.index-1,oe.sources.USER):e?this.quill.setSelection(r.index,r.length+1,oe.sources.USER):this.quill.setSelection(r.index+r.length+1,oe.sources.USER),!1):!0}}}function Jg(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],oe.sources.USER)}}}function ww(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",a=t.line,l=a.parent[r];if(l!=null){if(l.statics.blotName==="table-row"){let u=l.children.head,f=a;for(;f.prev!=null;)f=f.prev,u=u.next;const m=u.offset(this.quill.scroll)+Math.min(t.offset,u.length()-1);this.quill.setSelection(m,0,oe.sources.USER)}}else{const u=a.table()[r];u!=null&&(n?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,oe.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,oe.sources.USER))}return!1}}}function B8(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=mc(n);else return null;return n.shortKey&&(n[U8]=n.shortKey,delete n.shortKey),n}function hv(n){let{quill:e,range:t}=n;const r=e.getLines(t);let a={};if(r.length>1){const l=r[0].formats(),u=r[r.length-1].formats();a=Is.AttributeMap.diff(u,l)||{}}e.deleteText(t,oe.sources.USER),Object.keys(a).length>0&&e.formatLine(t.index,1,a,oe.sources.USER),e.setSelection(t.index,oe.sources.SILENT)}function z8(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const H8=/font-weight:\s*normal/,F8=["P","OL","UL"],Tw=n=>n&&F8.includes(n.tagName),G8=n=>{Array.from(n.querySelectorAll("br")).filter(e=>Tw(e.previousElementSibling)&&Tw(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},$8=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(H8)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function K8(n){n.querySelector('[id^="docs-internal-guid-"]')&&($8(n),G8(n))}const Q8=/\bmso-list:[^;]*ignore/i,Y8=/\bmso-list:[^;]*\bl(\d+)/i,X8=/\bmso-list:[^;]*\blevel(\d+)/i,W8=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(Y8);if(!r)return null;const a=Number(r[1]),l=t?.match(X8),u=l?Number(l[1]):1,f=new RegExp(`@list l${a}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),m=e.match(f),p=m&&m[1]==="bullet"?"bullet":"ordered";return{id:a,indent:u,type:p,element:n}},Z8=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(u=>{(u.getAttribute("style")||"").match(Q8)?t.push(u):r.push(u)}),t.forEach(u=>u.parentNode?.removeChild(u));const a=n.documentElement.innerHTML,l=r.map(u=>W8(u,a)).filter(u=>u);for(;l.length;){const u=[];let f=l.shift();for(;f;)u.push(f),f=l.length&&l[0]?.element===f.element.nextElementSibling&&l[0].id===f.id?l.shift():null;const m=document.createElement("ul");u.forEach(E=>{const x=document.createElement("li");x.setAttribute("data-list",E.type),E.indent>1&&x.setAttribute("class",`ql-indent-${E.indent-1}`),x.innerHTML=E.element.innerHTML,m.appendChild(x)});const p=u[0]?.element,{parentNode:v}=p??{};p&&v?.replaceChild(m,p),u.slice(1).forEach(E=>{let{element:x}=E;v?.removeChild(x)})}};function J8(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Z8(n)}const e7=[J8,K8],t7=n=>{n.documentElement&&e7.forEach(e=>{e(n)})},n7=Ca("quill:clipboard"),r7=[[Node.TEXT_NODE,g7],[Node.TEXT_NODE,Sw],["br",c7],[Node.ELEMENT_NODE,Sw],[Node.ELEMENT_NODE,l7],[Node.ELEMENT_NODE,o7],[Node.ELEMENT_NODE,m7],["li",f7],["ol, ul",d7],["pre",u7],["tr",p7],["b",ey("bold")],["i",ey("italic")],["strike",ey("strike")],["style",h7]],s7=[j8,f2].reduce((n,e)=>(n[e.keyName]=e,n),{}),Aw=[u2,lv,ov,m2,y2,b2].reduce((n,e)=>(n[e.keyName]=e,n),{});class i7 extends Li{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],r7.concat(this.options.matchers??[]).forEach(r=>{let[a,l]=r;this.addMatcher(a,l)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[Er.blotName])return new Re().insert(r||"",{[Er.blotName]:a[Er.blotName]});if(!t)return new Re().insert(r||"",a);const l=this.convertHTML(t);return Ch(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||a.table)?l.compose(new Re().retain(l.length()-1).delete(1)):l}normalizeHTML(e){t7(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,a=new WeakMap,[l,u]=this.prepareMatching(r,a);return fv(this.quill.scroll,r,l,u,a)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oe.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,t),this.quill.setSelection(0,oe.sources.SILENT)}else{const a=this.convert({html:t,text:""});this.quill.updateContents(new Re().retain(e).concat(a),r),this.quill.setSelection(e+a.length(),oe.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:a,text:l}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",l),e.clipboardData?.setData("text/html",a),t&&hv({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let a=e.clipboardData?.getData("text/plain");if(!r&&!a){const u=e.clipboardData?.getData("text/uri-list");u&&(a=this.normalizeURIList(u))}const l=Array.from(e.clipboardData?.files||[]);if(!r&&l.length>0){this.quill.uploader.upload(t,l);return}if(r&&l.length>0){const u=new DOMParser().parseFromString(r,"text/html");if(u.body.childElementCount===1&&u.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,l);return}}this.onPaste(t,{html:r,text:a})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:a}=t;const l=this.quill.getFormat(e.index),u=this.convert({text:r,html:a},l);n7.log("onPaste",u,{text:r,html:a});const f=new Re().retain(e.index).delete(e.length).concat(u);this.quill.updateContents(f,oe.sources.USER),this.quill.setSelection(f.length()-e.length,oe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],a=[];return this.matchers.forEach(l=>{const[u,f]=l;switch(u){case Node.TEXT_NODE:a.push(f);break;case Node.ELEMENT_NODE:r.push(f);break;default:Array.from(e.querySelectorAll(u)).forEach(m=>{t.has(m)?t.get(m)?.push(f):t.set(m,[f])});break}}),[r,a]}}function wl(n,e,t,r){return r.query(e)?n.reduce((a,l)=>{if(!l.insert)return a;if(l.attributes&&l.attributes[e])return a.push(l);const u=t?{[e]:t}:{};return a.insert(l.insert,{...u,...l.attributes})},new Re):n}function Ch(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const a=n.ops[r];if(typeof a.insert!="string")break;t=a.insert+t}return t.slice(-1*e.length)===e}function fo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof os?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function a7(n,e){return n.previousElementSibling&&n.nextElementSibling&&!fo(n.previousElementSibling,e)&&!fo(n.nextElementSibling,e)}const od=new WeakMap;function _2(n){return n==null?!1:(od.has(n)||(n.tagName==="PRE"?od.set(n,!0):od.set(n,_2(n.parentNode))),od.get(n))}function fv(n,e,t,r,a){return e.nodeType===e.TEXT_NODE?r.reduce((l,u)=>u(e,l,n),new Re):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,u)=>{let f=fv(n,u,t,r,a);return u.nodeType===e.ELEMENT_NODE&&(f=t.reduce((m,p)=>p(u,m,n),f),f=(a.get(u)||[]).reduce((m,p)=>p(u,m,n),f)),l.concat(f)},new Re):new Re}function ey(n){return(e,t,r)=>wl(t,n,!0,r)}function o7(n,e,t){const r=Ii.keys(n),a=ri.keys(n),l=ko.keys(n),u={};return r.concat(a).concat(l).forEach(f=>{let m=t.query(f,Oe.ATTRIBUTE);m!=null&&(u[m.attrName]=m.value(n),u[m.attrName])||(m=s7[f],m!=null&&(m.attrName===f||m.keyName===f)&&(u[m.attrName]=m.value(n)||void 0),m=Aw[f],m!=null&&(m.attrName===f||m.keyName===f)&&(m=Aw[f],u[m.attrName]=m.value(n)||void 0))}),Object.entries(u).reduce((f,m)=>{let[p,v]=m;return wl(f,p,v,t)},e)}function l7(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof os){const a={},l=r.value(n);if(l!=null)return a[r.blotName]=l,new Re().insert(a,r.formats(n,t))}else if(r.prototype instanceof ih&&!Ch(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return wl(e,r.blotName,r.formats(n,t),t);return e}function c7(n,e){return Ch(e,`
`)||e.insert(`
`),e}function u7(n,e,t){const r=t.query("code-block"),a=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return wl(e,"code-block",a,t)}function h7(){return new Re}function f7(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!Ch(e,`
`))return e;let a=-1,l=n.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(a+=1),l=l.parentNode;return a<=0?e:e.reduce((u,f)=>f.insert?f.attributes&&typeof f.attributes.indent=="number"?u.push(f):u.insert(f.insert,{indent:a,...f.attributes||{}}):u,new Re)}function d7(n,e,t){const r=n;let a=r.tagName==="OL"?"ordered":"bullet";const l=r.getAttribute("data-checked");return l&&(a=l==="true"?"checked":"unchecked"),wl(e,"list",a,t)}function Sw(n,e,t){if(!Ch(e,`
`)){if(fo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(fo(r,t))return e.insert(`
`);const a=t.query(r);if(a&&a.prototype instanceof Rs)return e.insert(`
`);r=r.firstChild}}}return e}function m7(n,e,t){const r={},a=n.style||{};return a.fontStyle==="italic"&&(r.italic=!0),a.textDecoration==="underline"&&(r.underline=!0),a.textDecoration==="line-through"&&(r.strike=!0),(a.fontWeight?.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,u)=>{let[f,m]=u;return wl(l,f,m,t)},e),parseFloat(a.textIndent||0)>0?new Re().insert("	").concat(e):e}function p7(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return wl(e,"table",l,t)}return e}function g7(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!_2(n)){if(r.trim().length===0&&r.includes(`
`)&&!a7(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&fo(n.parentElement,t)||n.previousSibling instanceof Element&&fo(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&fo(n.parentElement,t)||n.nextSibling instanceof Element&&fo(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class y7 extends Li{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(oe.events.EDITOR_CHANGE,(r,a,l,u)=>{r===oe.events.SELECTION_CHANGE?a&&u!==oe.sources.SILENT&&(this.currentRange=a):r===oe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||u===oe.sources.USER?this.record(a,l):this.transform(a)),this.currentRange=Gy(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const a=this.quill.getContents(),l=r.delta.invert(a);this.stack[t].push({delta:l,range:Gy(r.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,oe.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),a=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const u=this.stack.undo.pop();u&&(r=r.compose(u.delta),a=u.range)}else this.lastRecorded=l;r.length()!==0&&(this.stack.undo.push({delta:r,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Nw(this.stack.undo,e),Nw(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,oe.sources.USER);else{const t=b7(this.quill.scroll,e.delta);this.quill.setSelection(t,oe.sources.USER)}}}function Nw(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const a=n[r];n[r]={delta:t.transform(a.delta,!0),range:a.range&&Gy(a.range,t)},t=a.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function v7(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Oe.BLOCK)!=null):!1}function b7(n,e){const t=e.reduce((a,l)=>a+(l.delete||0),0);let r=e.length()-t;return v7(n,e)&&(r-=1),r}function Gy(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class E2 extends Li{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const u=document.caretPositionFromPoint(r.clientX,r.clientY);a=document.createRange(),a.setStart(u.offsetNode,u.offset),a.setEnd(u.offsetNode,u.offset)}const l=a&&e.selection.normalizeNative(a);if(l){const u=e.selection.normalizedToRange(l);r.dataTransfer?.files&&this.upload(u,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(a=>{a&&this.options.mimetypes?.includes(a.type)&&r.push(a)}),r.length>0&&this.options.handler.call(this,e,r)}}E2.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(a=>{const l=new FileReader;l.onload=()=>{a(l.result)},l.readAsDataURL(r)}));Promise.all(t).then(r=>{const a=r.reduce((l,u)=>l.insert({image:u}),new Re().retain(n.index).delete(n.length));this.quill.updateContents(a,Ne.sources.USER),this.quill.setSelection(n.index+r.length,Ne.sources.SILENT)})}};const _7=["insertText","insertReplacementText"];class E7 extends Li{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(oe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){hv({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Re().retain(e.index).insert(t,r),oe.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,oe.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!_7.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=x7(e);if(r==null)return;const a=this.quill.selection.normalizeNative(t),l=a?this.quill.selection.normalizedToRange(a):null;l&&this.replaceText(l,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function x7(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const w7=/Mac/i.test(navigator.platform),T7=100,A7=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||w7&&n.key==="a"&&n.ctrlKey===!0);class S7 extends Li{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:a}=t;if(!(r instanceof ei)||!r.uiNode)return!0;const l=getComputedStyle(r.domNode).direction==="rtl";return l&&a.key!=="ArrowRight"||!l&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),oe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&A7(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+T7,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof ei)||!r.uiNode)return;const a=document.createRange();a.setStartAfter(r.uiNode),a.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(a)}}oe.register({"blots/block":Yn,"blots/block/embed":Rs,"blots/break":si,"blots/container":El,"blots/cursor":Xs,"blots/embed":iv,"blots/inline":_r,"blots/scroll":L8,"blots/text":ni,"modules/clipboard":i7,"modules/history":y7,"modules/keyboard":Tm,"modules/uploader":E2,"modules/input":E7,"modules/uiNode":S7});class N7 extends ri{add(e,t){let r=0;if(t==="+1"||t==="-1"){const a=this.value(e)||0;r=t==="+1"?a+1:a-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const C7=new N7("indent","ql-indent",{scope:Oe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class R7 extends Yn{static blotName="blockquote";static tagName="blockquote"}class I7 extends Yn{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class Rh extends El{}Rh.blotName="list-container";Rh.tagName="OL";class Ih extends Yn{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){oe.register(Rh)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),a=l=>{if(!e.isEnabled())return;const u=this.statics.formats(t,e);u==="checked"?(this.format("list","unchecked"),l.preventDefault()):u==="unchecked"&&(this.format("list","checked"),l.preventDefault())};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Ih.blotName="list";Ih.tagName="LI";Rh.allowedChildren=[Ih];Ih.requiredContainer=Rh;class dv extends _r{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class O7 extends dv{static blotName="italic";static tagName=["EM","I"]}class Gd extends _r{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return x2(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function x2(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class D7 extends _r{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class L7 extends dv{static blotName="strike";static tagName=["S","STRIKE"]}class j7 extends _r{static blotName="underline";static tagName="U"}class k7 extends iv{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const Cw=["alt","height","width"];let M7=class extends os{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Cw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return x2(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Cw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}};const Rw=["height","width"];class P7 extends Rs{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Rw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Gd.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Rw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const Mu=new ri("code-token","hljs",{scope:Oe.INLINE});class xa extends _r{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Er.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),Mu.add(this.domNode,r)}format(e,t){e!==xa.blotName?super.format(e,t):t?Mu.add(this.domNode,t):(Mu.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Mu.value(this.domNode)||this.unwrap()}}xa.blotName="code-token";xa.className="ql-token";class Ns extends Er{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),xa.blotName,!1),super.replaceWith(e,t)}}class Fu extends xl{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ns.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,a){r===Ns.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,a)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,l=Ns.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const u=this.children.reduce((m,p)=>m.concat(o2(p,!1)),new Re),f=e(a,l);u.diff(f).reduce((m,p)=>{let{retain:v,attributes:E}=p;return v?(E&&Object.keys(E).forEach(x=>{[Ns.blotName,xa.blotName].includes(x)&&this.formatAt(m,v,x,E[x])}),m+v):m},0)}this.cachedText=a,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Ns.formats(r.domNode):"plain"}">
${wm(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ns.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Fu.allowedChildren=[Ns];Ns.requiredContainer=Fu;Ns.allowedChildren=[xa,Xs,ni,si];const V7=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class w2 extends Li{static register(){oe.register(xa,!0),oe.register(Ns,!0),oe.register(Fu,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,a)=>{let{key:l}=a;return r[l]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(oe.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Fu))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:a,label:l}=r;const u=t.ownerDocument.createElement("option");u.textContent=l,u.setAttribute("value",a),t.appendChild(u)}),t.addEventListener("change",()=>{e.format(Ns.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ns.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(oe.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(oe.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Fu):[e]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(oe.sources.SILENT),r!=null&&this.quill.setSelection(r,oe.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return wm(e).split(`
`).reduce((a,l,u)=>(u!==0&&a.insert(`
`,{[Er.blotName]:t}),a.insert(l)),new Re);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Er.className),r.innerHTML=V7(this.options.hljs,t,e),fv(this.quill.scroll,r,[(a,l)=>{const u=Mu.value(a);return u?l.compose(new Re().retain(l.length(),{[xa.blotName]:u})):l}],[(a,l)=>a.data.split(`
`).reduce((u,f,m)=>(m!==0&&u.insert(`
`,{[Er.blotName]:t}),u.insert(f)),l)],new WeakMap)}}w2.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Ws extends Yn{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",mv()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Ws.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class dl extends El{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),a=t.next.formats();if(r.table!==a.table){const l=this.splitAfter(t);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class _o extends El{static blotName="table-body";static tagName="TBODY"}class $d extends El{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(dl),t=e.reduce((r,a)=>Math.max(a.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let a;r.children.head!=null&&(a=Ws.formats(r.children.head.domNode));const l=this.scroll.create(Ws.blotName,a);r.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(_o);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e);a?.remove()})}insertColumn(e){const[t]=this.descendant(_o);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e),l=Ws.formats(r.children.head.domNode),u=this.scroll.create(Ws.blotName,l);r.insertBefore(u,a)})}insertRow(e){const[t]=this.descendant(_o);if(t==null||t.children.head==null)return;const r=mv(),a=this.scroll.create(dl.blotName);t.children.head.children.forEach(()=>{const u=this.scroll.create(Ws.blotName,r);a.appendChild(u)});const l=t.children.at(e);t.insertBefore(a,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}$d.allowedChildren=[_o];_o.requiredContainer=$d;_o.allowedChildren=[dl];dl.requiredContainer=_o;dl.allowedChildren=[Ws];Ws.requiredContainer=dl;function mv(){return`row-${Math.random().toString(36).slice(2,6)}`}class U7 extends Li{static register(){oe.register(Ws),oe.register(dl),oe.register(_o),oe.register($d)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants($d).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(oe.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(oe.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(oe.sources.USER),this.quill.setSelection(t,oe.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Ws.blotName)return[null,null,null,-1];const a=t.parent;return[a.parent.parent,a,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const u=l.cellOffset();r.insertColumn(u+e),this.quill.update(oe.sources.USER);let f=a.rowOffset();e===0&&(f+=1),this.quill.setSelection(t.index+f,t.length,oe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const u=a.rowOffset();r.insertRow(u+e),this.quill.update(oe.sources.USER),e>0?this.quill.setSelection(t,oe.sources.SILENT):this.quill.setSelection(t.index+a.children.length,t.length,oe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const a=new Array(e).fill(0).reduce(l=>{const u=new Array(t).fill(`
`).join("");return l.insert(u,{table:mv()})},new Re().retain(r.index));this.quill.updateContents(a,oe.sources.USER),this.quill.setSelection(r.index,oe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(oe.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(oe.events.TEXT_CHANGE,(r,a,l)=>{l===oe.sources.USER&&this.balanceTables()}),!0):!1)})}}const Iw=Ca("quill:toolbar");class pv extends Li{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),q7(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Iw.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const a=this.options.handlers?.[r];a&&this.addHandler(r,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(oe.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Iw.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,a=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const f=e.options[e.selectedIndex];f.hasAttribute("selected")?l=!1:l=f.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,l);else if(this.quill.scroll.query(t).prototype instanceof os){if(l=prompt(`Enter ${t}`),!l)return;this.quill.updateContents(new Re().retain(u.index).delete(u.length).insert({[t]:l}),oe.sources.USER)}else this.quill.format(t,l,oe.sources.USER);this.update(u)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[a,l]=r;if(l.tagName==="SELECT"){let u=null;if(e==null)u=null;else if(t[a]==null)u=l.querySelector("option[selected]");else if(!Array.isArray(t[a])){let f=t[a];typeof f=="string"&&(f=f.replace(/"/g,'\\"')),u=l.querySelector(`option[value="${f}"]`)}u==null?(l.value="",l.selectedIndex=-1):u.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const u=t[a],f=u===l.getAttribute("value")||u!=null&&u.toString()===l.getAttribute("value")||u==null&&!l.getAttribute("value");l.classList.toggle("ql-active",f),l.setAttribute("aria-pressed",f.toString())}else{const u=t[a]!=null;l.classList.toggle("ql-active",u),l.setAttribute("aria-pressed",u.toString())}})}}pv.DEFAULTS={};function Ow(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function q7(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(a=>{if(typeof a=="string")Ow(r,a);else{const l=Object.keys(a)[0],u=a[l];Array.isArray(u)?B7(r,l,u):Ow(r,l,u)}}),n.appendChild(r)})}function B7(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(a=>{const l=document.createElement("option");a!==!1?l.setAttribute("value",String(a)):l.setAttribute("selected","selected"),r.appendChild(l)}),n.appendChild(r)}pv.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Oe.INLINE)!=null&&this.quill.format(t,!1,oe.sources.USER)})}else this.quill.removeFormat(n.index,n.length,oe.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",oe.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,oe.sources.USER),this.quill.format("direction",n,oe.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let a=n==="+1"?1:-1;t.direction==="rtl"&&(a*=-1),this.quill.format("indent",r+a,oe.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,oe.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,oe.sources.USER):this.quill.format("list","unchecked",oe.sources.USER):this.quill.format("list",n,oe.sources.USER)}}};const z7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',H7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',F7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',G7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',$7='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',K7='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Q7='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Y7='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Dw='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',X7='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',W7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Z7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',J7='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',eP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',tP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',nP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',rP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',sP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',iP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',aP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',oP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',lP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',cP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',uP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',hP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',fP='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',dP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',mP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',pP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',gP='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',yP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',vP='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',bP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',oh={align:{"":z7,center:H7,right:F7,justify:G7},background:$7,blockquote:K7,bold:Q7,clean:Y7,code:Dw,"code-block":Dw,color:X7,direction:{"":W7,rtl:Z7},formula:J7,header:{1:eP,2:tP,3:nP,4:rP,5:sP,6:iP},italic:aP,image:oP,indent:{"+1":lP,"-1":cP},link:uP,list:{bullet:hP,check:fP,ordered:dP},script:{sub:mP,super:pP},strike:gP,table:yP,underline:vP,video:bP},_P='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Lw=0;function jw(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Am{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),jw(this.label,"aria-expanded"),jw(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(t,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=_P,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Lw}`,Lw+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class T2 extends Am{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=a:r.style.fill=a)}}class A2 extends Am{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const EP=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class S2{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,EP(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let u=0;if(l.right>a.right&&(u=a.right-l.right,this.root.style.left=`${t+u}px`),l.left<a.left&&(u=a.left-l.left,this.root.style.left=`${t+u}px`),l.bottom>a.bottom){const f=l.bottom-l.top,m=e.bottom-e.top+f;this.root.style.top=`${r-m}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const xP=[!1,"center","right","justify"],wP=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],TP=[!1,"serif","monospace"],AP=["1","2","3",!1],SP=["small",!1,"large","huge"];class Oh extends Uc{constructor(e,t){super(e,t);const r=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(a.target)||l.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),t[l]!=null))if(l==="direction")r.innerHTML=t[l][""]+t[l].rtl;else if(typeof t[l]=="string")r.innerHTML=t[l];else{const u=r.value||"";u!=null&&t[l][u]&&(r.innerHTML=t[l][u])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Nu(a,xP),typeof t.align=="object"))return new A2(a,t.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const l=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Nu(a,wP,l==="background"?"#ffffff":"#000000"),new T2(a,t[l])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Nu(a,TP):a.classList.contains("ql-header")?Nu(a,AP):a.classList.contains("ql-size")&&Nu(a,SP)),new Am(a)});const r=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ne.events.EDITOR_CHANGE,r)}}Oh.DEFAULTS=bo({},Uc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class N2 extends S2{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ne.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ne.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=NP(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ne.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ne.sources.USER),this.quill.setSelection(r+2,Ne.sources.USER)}break}}this.textbox.value="",this.hide()}}function NP(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Nu(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const a=document.createElement("option");r===t?a.setAttribute("selected","selected"):a.setAttribute("value",String(r)),n.appendChild(a)})}const CP=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class RP extends N2{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Ne.events.EDITOR_CHANGE,(r,a,l,u)=>{if(r===Ne.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&u===Ne.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const f=this.quill.getLines(a.index,a.length);if(f.length===1){const m=this.quill.getBounds(a);m!=null&&this.position(m)}else{const m=f[f.length-1],p=this.quill.getIndex(m),v=Math.min(m.length()-1,a.index+a.length-p),E=this.quill.getBounds(new fl(p,v));E!=null&&this.position(E)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ne.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class C2 extends Oh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=CP),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new RP(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),oh),this.buildPickers(e.container.querySelectorAll("select"),oh))}}C2.DEFAULTS=bo({},Oh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,oe.sources.USER)}}}}});const IP=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class OP extends N2{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Ne.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Ne.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===Ne.sources.USER){const[a,l]=this.quill.scroll.descendant(Gd,e.index);if(a!=null){this.linkRange=new fl(e.index-l,a.length());const u=Gd.formats(a.domNode);this.preview.textContent=u,this.preview.setAttribute("href",u),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class R2 extends Oh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=IP),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),oh),this.buildPickers(e.container.querySelectorAll("select"),oh),this.tooltip=new OP(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}R2.DEFAULTS=bo({},Oh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,oe.sources.USER)}}}}});oe.register({"attributors/attribute/direction":f2,"attributors/class/align":c2,"attributors/class/background":M8,"attributors/class/color":k8,"attributors/class/direction":d2,"attributors/class/font":g2,"attributors/class/size":v2,"attributors/style/align":u2,"attributors/style/background":lv,"attributors/style/color":ov,"attributors/style/direction":m2,"attributors/style/font":y2,"attributors/style/size":b2},!0);oe.register({"formats/align":c2,"formats/direction":d2,"formats/indent":C7,"formats/background":lv,"formats/color":ov,"formats/font":g2,"formats/size":v2,"formats/blockquote":R7,"formats/code-block":Er,"formats/header":I7,"formats/list":Ih,"formats/bold":dv,"formats/code":cv,"formats/italic":O7,"formats/link":Gd,"formats/script":D7,"formats/strike":L7,"formats/underline":j7,"formats/formula":k7,"formats/image":M7,"formats/video":P7,"modules/syntax":w2,"modules/table":U7,"modules/toolbar":pv,"themes/bubble":C2,"themes/snow":R2,"ui/icons":oh,"ui/picker":Am,"ui/icon-picker":A2,"ui/color-picker":T2,"ui/tooltip":S2},!0);class Tl extends bi.Component{constructor(e){super(e),this.editingAreaRef=H.createRef(),this.containerRef=H.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,a,l,u)=>{r==="text-change"?this.onEditorChangeText?.(this.editor.root.innerHTML,a,u,this.unprivilegedEditor):r==="selection-change"&&this.onEditorChangeSelection?.(a,u,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(bi.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(bi.Children.count(e.children)&&bi.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const r=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,r)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!co(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!co(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(r),kw(()=>this.setEditorSelection(l,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const r=this.containerRef.current?.querySelector(".ql-toolbar");r&&r.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const r=new oe(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?co(e.ops,t.ops):co(e,t)}setEditorContents(e,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),kw(()=>this.setEditorSelection(e,r))}setEditorSelection(e,t){if(this.selection=t,t){const r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:r}=this.state,a={key:r,ref:this.editingAreaRef};return bi.Children.count(e)?bi.cloneElement(bi.Children.only(e),a):t?bi.createElement("pre",{...a}):bi.createElement("div",{...a})}render(){return bi.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,r,a){if(!this.editor)return;const l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=l,this.props.onChange?.(e,t,r,a))}onEditorChangeSelection(e,t,r){if(!this.editor)return;const a=this.getEditorSelection(),l=!a&&e,u=a&&!e;co(e,a)||(this.selection=e,this.props.onChangeSelection?.(e,t,r),l?this.props.onFocus?.(e,t,r):u&&this.props.onBlur?.(a,t,r))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Tl.displayName="React Quill";Tl.Quill=oe;Tl.defaultProps={theme:"snow",modules:{},readOnly:!1};function kw(n){Promise.resolve().then(n)}const DP={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},LP=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],jP=()=>{const[n,e]=H.useState([]),[t,r]=H.useState(!0),[a,l]=H.useState(!1),[u,f]=H.useState(null),[m,p]=H.useState({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""});H.useEffect(()=>{v()},[]);const v=async()=>{r(!0);try{const C=Aa(Lt(qe,"news"),Sa("timestamp","desc")),I=(await Wn(C)).docs.map(z=>({id:z.id,...z.data()}));e(I)}catch(C){console.error("Error fetching news:",C)}finally{r(!1)}},E=async C=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await Ah(Tt(qe,"news",C)),v()}catch(L){console.error("Error deleting news:",L),alert("Failed to delete news item.")}},x=async C=>{C.preventDefault();try{const L=m.affectedCurrencies.split(",").map(I=>I.trim().toUpperCase()).filter(I=>I);u?await Th(Tt(qe,"news",u),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:L,timestamp:Ac()}):await Sh(Lt(qe,"news"),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:L,timestamp:Ac()}),l(!1),f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}),v()}catch(L){console.error("Error saving news:",L),alert("Failed to save news item.")}},A=C=>{p({title:C.title,impact:C.impact,content:C.content,image:C.image,affectedCurrencies:C.affectedCurrencies?C.affectedCurrencies.join(", "):""}),f(C.id),l(!0)};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage News"}),y.jsx(Bt,{onClick:()=>{l(!a),a&&(f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}))},children:a?"Cancel":"Post New Alert"})]}),a&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:u?"Edit Market Update":"New Market Update"}),y.jsxs("form",{onSubmit:x,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:C=>p({...m,title:C.target.value}),placeholder:"e.g., NFP Beats Expectations"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.impact,onChange:C=>p({...m,impact:C.target.value}),children:[y.jsx("option",{value:"Low",children:"Low (Yellow)"}),y.jsx("option",{value:"Medium",children:"Medium (Orange)"}),y.jsx("option",{value:"High",children:"High (Red)"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Content/Summary"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(Tl,{theme:"snow",value:m.content,onChange:C=>p({...m,content:C}),modules:DP,formats:LP,className:"h-96 mb-12"})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Optional)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:C=>p({...m,image:C.target.value}),placeholder:"https://..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Affected Currencies (comma separated)"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.affectedCurrencies,onChange:C=>p({...m,affectedCurrencies:C.target.value}),placeholder:"USD, EUR, JPY"})]})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx(Bt,{type:"submit",variant:"primary",children:u?"Update News":"Publish News"})})]})]}),y.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[y.jsx("thead",{className:"bg-gray-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Impact"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-800",children:t?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No news posted yet."})}):n.map(C=>y.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.timestamp?.seconds?new Date(C.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:C.title}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${C.impact==="High"?"bg-red-500/20 text-red-400":C.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:C.impact})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>A(C),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),y.jsx("button",{onClick:()=>E(C.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},C.id))})]})})})]})},kP={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},MP=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],PP=()=>{const[n,e]=H.useState([]),[t,r]=H.useState(!0),[a,l]=H.useState(!1),[u,f]=H.useState(null),[m,p]=H.useState({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis"}),[v,E]=H.useState({});H.useEffect(()=>{x();const I=gh(Jt,async z=>{if(z)try{const $=Tt(qe,"users",z.uid),J=await as($);J.exists()&&E(J.data())}catch($){console.error("Error fetching profile:",$)}});return()=>I()},[]);const x=async()=>{r(!0);try{const I=Aa(Lt(qe,"analysis"),Sa("timestamp","desc")),$=(await Wn(I)).docs.map(J=>({id:J.id,...J.data()}));e($)}catch(I){console.error("Error fetching analysis:",I)}finally{r(!1)}},A=async I=>{if(window.confirm("Are you sure you want to delete this analysis?"))try{await Ah(Tt(qe,"analysis",I)),x()}catch(z){console.error("Error deleting post:",z),alert("Failed to delete post.")}},C=async I=>{I.preventDefault();const z={...m,...v,timestamp:Ac()};try{u?await Th(Tt(qe,"analysis",u),z):await Sh(Lt(qe,"analysis"),z),l(!1),f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis"}),x()}catch($){console.error("Error saving post:",$),alert("Failed to save analysis.")}},L=I=>{p({title:I.title,pair:I.pair,direction:I.direction,content:I.content,image:I.image,analysisType:I.analysisType||"Technical Analysis"}),f(I.id),l(!0)};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Analysis"}),y.jsx(Bt,{onClick:()=>{l(!a),a&&(f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis"}))},children:a?"Cancel":"New Analysis"})]}),a&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:u?"Edit Analysis":"Post Technical Breakdown"}),y.jsxs("form",{onSubmit:C,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Pair / Asset"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none uppercase",value:m.pair,onChange:I=>p({...m,pair:I.target.value}),placeholder:"e.g. GBP/JPY"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Direction"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.direction,onChange:I=>p({...m,direction:I.target.value}),children:[y.jsx("option",{value:"Neutral",children:"Neutral (Gray)"}),y.jsx("option",{value:"Bullish",children:"Bullish (Green)"}),y.jsx("option",{value:"Bearish",children:"Bearish (Red)"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Type"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.analysisType,onChange:I=>p({...m,analysisType:I.target.value}),children:[y.jsx("option",{value:"Technical Analysis",children:"Technical Analysis"}),y.jsx("option",{value:"Fundamental Analysis",children:"Fundamental Analysis"}),y.jsx("option",{value:"Sentiment Analysis",children:"Sentiment Analysis"})]})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Chart)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:I=>p({...m,image:I.target.value}),placeholder:"https://..."})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:I=>p({...m,title:I.target.value}),placeholder:"e.g. Double Top formation on 4H"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Content"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(Tl,{theme:"snow",value:m.content,onChange:I=>p({...m,content:I}),modules:kP,formats:MP,className:"h-96 mb-12"})})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx(Bt,{type:"submit",variant:"primary",children:u?"Update Analysis":"Post Analysis"})})]})]}),y.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[y.jsx("thead",{className:"bg-gray-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pair"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Direction"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-800",children:t?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"No analysis posted yet."})}):n.map(I=>y.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.timestamp?.seconds?new Date(I.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-bold",children:I.pair}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${I.direction==="Bullish"?"bg-green-500/20 text-green-400":I.direction==="Bearish"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-300"}`,children:I.direction})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white max-w-xs truncate",children:I.title}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>L(I),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),y.jsx("button",{onClick:()=>A(I.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},I.id))})]})})})]})},I2={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},O2=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],VP=()=>{const[n,e]=H.useState([]),[t,r]=H.useState(!1),[a,l]=H.useState({name:"",description:"",image:""}),[u,f]=H.useState(null),[m,p]=H.useState(!0);H.useEffect(()=>{v()},[]);const v=async()=>{p(!0);try{const A=await Wn(Lt(qe,"paths"));e(A.docs.map(C=>({id:C.id,...C.data()})))}catch(A){console.error("Error fetching paths:",A)}finally{p(!1)}},E=async A=>{A.preventDefault();try{u?await Th(Tt(qe,"paths",u),a):await Sh(Lt(qe,"paths"),{...a,createdAt:Ac()}),r(!1),f(null),l({name:"",description:"",image:""}),v()}catch(C){console.error("Error saving path:",C),alert("Failed to save path")}},x=async A=>{if(window.confirm("Delete this path?"))try{await Ah(Tt(qe,"paths",A)),v()}catch(C){console.error("Error deleting path:",C)}};return y.jsxs("div",{className:"animate-fade-in",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Academy Paths"}),y.jsx(Bt,{onClick:()=>{r(!t),t&&(f(null),l({name:"",description:"",image:""}))},children:t?"Cancel":"New Path"})]}),t&&y.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8",children:y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Path Name"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:a.name,onChange:A=>l({...a,name:A.target.value}),placeholder:"e.g. Technical Analysis"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),y.jsx("textarea",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none h-24",value:a.description,onChange:A=>l({...a,description:A.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:a.image,onChange:A=>l({...a,image:A.target.value})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(Bt,{type:"submit",variant:"primary",children:u?"Update Path":"Create Path"})})]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(A=>y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group",children:[y.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[A.image&&y.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover"}),y.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>{l(A),f(A.id),r(!0)},className:"bg-primary/80 p-1 rounded text-white hover:bg-primary",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),y.jsx("button",{onClick:()=>x(A.id),className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"font-bold text-white text-lg",children:A.name}),y.jsx("p",{className:"text-gray-400 text-sm mt-1 line-clamp-2",children:A.description})]})]},A.id))})]})},UP=()=>{const[n,e]=H.useState("paths"),[t,r]=H.useState([]),[a,l]=H.useState([]),[u,f]=H.useState(null),[m,p]=H.useState(!0),[v,E]=H.useState(!1),[x,A]=H.useState(null),[C,L]=H.useState({title:"",path:"",description:"",image:"",level:"Beginner",instructorName:"Forex Volcano",instructorBio:"",instructorImage:""});H.useEffect(()=>{I()},[]);const I=async()=>{p(!0);try{const de=(await Wn(Lt(qe,"paths"))).docs.map(j=>j.data().name);l(de);const xe=Aa(Lt(qe,"courses"),Sa("order","asc")),M=await Wn(xe);r(M.docs.map(j=>({id:j.id,...j.data()})))}catch(te){console.error("Error fetching data:",te)}finally{p(!1)}},z=async te=>{te.preventDefault();try{x?await Th(Tt(qe,"courses",x),C):await Sh(Lt(qe,"courses"),{...C,order:t.length+1,createdAt:Ac()}),E(!1),A(null),L({title:"",path:"",description:"",image:"",level:"Beginner",instructorName:"Forex Volcano",instructorBio:"",instructorImage:""}),I()}catch(de){console.error("Error saving course:",de),alert("Failed to save course")}},$=te=>{L({title:te.title,description:te.description,path:te.path||"",image:te.image,level:te.level||"Beginner",instructorName:te.instructorName||"Forex Volcano",instructorBio:te.instructorBio||"",instructorImage:te.instructorImage||""}),A(te.id),E(!0)},J=async te=>{if(window.confirm("Delete this course? All lessons inside it might become orphaned."))try{await Ah(Tt(qe,"courses",te)),I(),u?.id===te&&f(null)}catch(de){console.error("Error deleting course:",de)}};return u?y.jsx(qP,{course:u,onBack:()=>f(null)}):y.jsxs("div",{children:[y.jsxs("div",{className:"flex space-x-6 mb-8 border-b border-gray-800",children:[y.jsx("button",{onClick:()=>e("paths"),className:`pb-4 px-2 font-medium transition-colors ${n==="paths"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-white"}`,children:"1. Manage Paths"}),y.jsx("button",{onClick:()=>e("courses"),className:`pb-4 px-2 font-medium transition-colors ${n==="courses"?"text-primary border-b-2 border-primary":"text-gray-400 hover:text-white"}`,children:"2. Manage Courses"})]}),n==="paths"?y.jsx(VP,{}):y.jsxs("div",{className:"animate-fade-in",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Courses"}),y.jsx(Bt,{onClick:()=>{E(!v),v&&A(null)},children:v?"Cancel":"New Course"})]}),v&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:x?"Edit Course":"Create New Course"}),y.jsxs("form",{onSubmit:z,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Course Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:C.title,onChange:te=>L({...C,title:te.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Path / Category"}),y.jsxs("select",{required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:C.path,onChange:te=>L({...C,path:te.target.value}),children:[y.jsx("option",{value:"",children:"Select Path..."}),a.map(te=>y.jsx("option",{value:te,children:te},te))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Level"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:C.level,onChange:te=>L({...C,level:te.target.value}),children:[y.jsx("option",{children:"Beginner"}),y.jsx("option",{children:"Intermediate"}),y.jsx("option",{children:"Advanced"})]})]})]}),y.jsxs("div",{className:"border-t border-gray-800 pt-4 mt-4",children:[y.jsx("h3",{className:"text-sm font-bold text-primary mb-3",children:"Instructor Details"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Instructor Name"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:C.instructorName,onChange:te=>L({...C,instructorName:te.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Instructor Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:C.instructorImage,onChange:te=>L({...C,instructorImage:te.target.value})})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Instructor Bio"}),y.jsx("textarea",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none h-20",value:C.instructorBio,onChange:te=>L({...C,instructorBio:te.target.value})})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(Tl,{theme:"snow",value:C.description,onChange:te=>L({...C,description:te}),modules:I2,formats:O2,className:"h-48 mb-12"})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:C.image,onChange:te=>L({...C,image:te.target.value})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(Bt,{type:"submit",variant:"primary",children:x?"Update Course":"Create Course"})})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m?y.jsx("div",{className:"text-gray-400",children:"Loading courses..."}):t.map(te=>y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group hover:border-gray-600 transition-all",children:[y.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[te.image&&y.jsx("img",{src:te.image,alt:te.title,className:"w-full h-full object-cover"}),y.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[y.jsx("button",{onClick:de=>{de.stopPropagation(),$(te)},className:"bg-primary/80 p-1 rounded text-white hover:bg-primary",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),y.jsx("button",{onClick:de=>{de.stopPropagation(),J(te.id)},className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),y.jsxs("div",{className:"p-5",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:te.title}),te.path&&y.jsx("span",{className:"bg-gray-800 text-xs text-gray-300 px-2 py-1 rounded",children:te.path})]}),y.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:te.description}),y.jsx(Bt,{variant:"outline",size:"sm",className:"w-full",onClick:()=>f(te),children:"Manage Lessons"})]})]},te.id))})]})]})},qP=({course:n,onBack:e})=>{const[t,r]=H.useState([]),[a,l]=H.useState(!1),[u,f]=H.useState(null),[m,p]=H.useState({title:"",videoUrl:"",content:"",duration:"10 min"}),[v,E]=H.useState(!0);H.useEffect(()=>{x()},[n]);const x=async()=>{E(!0);try{const I=Aa(Lt(qe,"courses",n.id,"lessons"),Sa("order","asc")),z=await Wn(I);r(z.docs.map($=>({id:$.id,...$.data()})))}catch(I){console.error("Error fetching lessons:",I);const z=await Wn(Lt(qe,"courses",n.id,"lessons"));r(z.docs.map($=>({id:$.id,...$.data()})))}finally{E(!1)}},A=async I=>{I.preventDefault();try{u?await Th(Tt(qe,"courses",n.id,"lessons",u),{...m}):await Sh(Lt(qe,"courses",n.id,"lessons"),{...m,order:t.length+1,createdAt:Ac()}),l(!1),f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}),x()}catch(z){console.error("Error saving lesson:",z),alert("Failed to save lesson")}},C=I=>{p({title:I.title,videoUrl:I.videoUrl,content:I.content,duration:I.duration}),f(I.id),l(!0)},L=async I=>{if(window.confirm("Delete this lesson?"))try{await Ah(Tt(qe,"courses",n.id,"lessons",I)),x()}catch(z){console.error("Error deleting lesson:",z)}};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white flex items-center gap-1",children:[y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),y.jsxs("h1",{className:"text-2xl font-bold text-white",children:[y.jsx("span",{className:"text-gray-500 font-normal",children:"Edit Course:"})," ",n.title]})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-white",children:["Lessons (",t.length,")"]}),y.jsx(Bt,{onClick:()=>{l(!a),a&&(f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}))},variant:"secondary",children:a?"Cancel":"Add Lesson"})]}),a&&y.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:y.jsxs("form",{onSubmit:A,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:I=>p({...m,title:I.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.duration,onChange:I=>p({...m,duration:I.target.value}),placeholder:"e.g. 15 min"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Video Embed URL (YouTube/Vimeo)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.videoUrl,onChange:I=>p({...m,videoUrl:I.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Content / Notes"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(Tl,{theme:"snow",value:m.content,onChange:I=>p({...m,content:I}),modules:I2,formats:O2,className:"h-72 mb-12"})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(Bt,{type:"submit",variant:"primary",children:u?"Update Lesson":"Save Lesson"})})]})}),y.jsxs("div",{className:"space-y-3",children:[v?y.jsx("div",{className:"text-gray-400",children:"Loading lessons..."}):t.map((I,z)=>y.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-gray-800 flex justify-between items-center group hover:border-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-gray-400 font-bold text-sm",children:z+1}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-white",children:I.title}),y.jsx("div",{className:"text-xs text-gray-500",children:I.duration})]})]}),y.jsxs("div",{className:"flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>C(I),className:"text-primary hover:text-primary/80 text-sm",children:"Edit"}),y.jsx("button",{onClick:()=>L(I.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]},I.id)),t.length===0&&!v&&y.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:"No lessons yet. Start teaching!"})]})]})},BP=()=>{const[n,e]=H.useState(!0),[t,r]=H.useState(!1),[a,l]=H.useState(null),[u,f]=H.useState({analystName:"",analystImage:"",analystBio:"",twitter:"",linkedin:"",telegram:""});H.useEffect(()=>{const p=gh(Jt,async v=>{if(v){l(v);try{const E=Tt(qe,"users",v.uid),x=await as(E);if(x.exists()){const A=x.data();f(C=>({...C,analystName:A.analystName||"",analystImage:A.analystImage||"",analystBio:A.analystBio||"",twitter:A.twitter||"",linkedin:A.linkedin||"",telegram:A.telegram||""}))}}catch(E){console.error("Error fetching profile:",E)}}e(!1)});return()=>p()},[]);const m=async p=>{if(p.preventDefault(),!!a){r(!0);try{await qd(Tt(qe,"users",a.uid),u,{merge:!0}),alert("Profile updated successfully!")}catch(v){console.error("Error saving profile:",v),alert("Failed to save profile.")}finally{r(!1)}}};return n?y.jsx("div",{className:"text-white",children:"Loading Profile..."}):y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Analyst Profile Settings"}),y.jsx("div",{className:"bg-surface p-8 rounded-xl border border-gray-800",children:y.jsxs("form",{onSubmit:m,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx("div",{className:"md:col-span-2",children:y.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Personal Details"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analyst Name"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.analystName,onChange:p=>f({...u,analystName:p.target.value}),placeholder:"e.g. John Doe"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Profile Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.analystImage,onChange:p=>f({...u,analystImage:p.target.value}),placeholder:"https://..."})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Bio"}),y.jsx("textarea",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none h-32 resize-none",value:u.analystBio,onChange:p=>f({...u,analystBio:p.target.value}),placeholder:"Tell us about yourself..."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-6",children:[y.jsx("div",{className:"md:col-span-3",children:y.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Social Connections"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Twitter (X) URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.twitter,onChange:p=>f({...u,twitter:p.target.value}),placeholder:"https://twitter.com/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"LinkedIn URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.linkedin,onChange:p=>f({...u,linkedin:p.target.value}),placeholder:"https://linkedin.com/in/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telegram URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:u.telegram,onChange:p=>f({...u,telegram:p.target.value}),placeholder:"https://t.me/..."})]})]}),y.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-800",children:y.jsx(Bt,{type:"submit",variant:"primary",contentClassName:"px-8",children:t?"Saving...":"Save Profile"})})]})})]})},zP=()=>{const{courseId:n}=ch(),e=Oi(),[t,r]=H.useState(null),[a,l]=H.useState([]),[u,f]=H.useState(null),[m,p]=H.useState(!0),[v,E]=H.useState(!0);return H.useEffect(()=>{(async()=>{try{p(!0);const A=await as(Tt(qe,"courses",n));if(!A.exists()){alert("Course not found"),e("/dashboard");return}r({id:A.id,...A.data()});const C=Aa(Lt(qe,"courses",n,"lessons"),Sa("order","asc")),L=await Wn(C);let I=[];L.empty?I=(await Wn(Lt(qe,"courses",n,"lessons"))).docs.map($=>({id:$.id,...$.data()})):I=L.docs.map(z=>({id:z.id,...z.data()})),l(I),I.length>0&&f(I[0])}catch(A){console.error("Error loading course:",A)}finally{p(!1)}})()},[n,e]),m?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):t?y.jsxs("div",{className:"flex h-screen bg-background overflow-hidden animate-fade-in",children:[y.jsxs("div",{className:`${v?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[y.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[y.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:t.title}),y.jsx("button",{onClick:()=>E(!1),className:"md:hidden text-gray-400",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.map((x,A)=>y.jsxs("div",{onClick:()=>f(x),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${u?.id===x.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[y.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:A+1}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-medium ${u?.id===x.id?"text-primary":"text-gray-300"}`,children:x.title}),y.jsx("span",{className:"text-xs text-gray-500",children:x.duration||"10 min"})]})]},x.id)),a.length===0&&y.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),y.jsx("div",{className:"p-4 border-t border-gray-800",children:y.jsx(Nt,{to:"/dashboard",children:y.jsx(Bt,{variant:"outline",size:"sm",className:"w-full",children:"Back to Dashboard"})})})]}),y.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[y.jsx("div",{className:"absolute top-4 left-4 z-10",children:y.jsx("button",{onClick:()=>E(!v),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:v?y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),u?y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsx("div",{className:"bg-black aspect-video w-full max-h-[70vh] flex items-center justify-center",children:u.videoUrl?y.jsx("iframe",{src:u.videoUrl,title:u.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsxs("div",{className:"text-gray-500 text-center",children:[y.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),y.jsx("p",{children:"No video content for this lesson."})]})}),y.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsx("h1",{className:"text-2xl font-bold text-white",children:u.title})}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:u.content})})]})]}):y.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a lesson from the sidebar to start."})]})]}):null},HP=()=>{const[n,e]=H.useState([]),[t,r]=H.useState(!0);return H.useEffect(()=>{(async()=>{try{const u=(await Wn(Lt(qe,"courses"))).docs.map(m=>m.data()),f={};u.forEach(m=>{const p=m.path||"General";f[p]||(f[p]={name:p,count:0,image:m.image}),f[p].count+=1}),e(Object.values(f))}catch(l){console.error("Error fetching paths:",l)}finally{r(!1)}})()},[]),t?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading Academy..."}):y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in",children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Academy"}),y.jsx("p",{className:"text-gray-400 mb-10",children:"Choose a learning path to start your journey."}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>y.jsx(Nt,{to:`/academy/${encodeURIComponent(a.name)}`,className:"group",children:y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden hover:border-primary transition-all h-full flex flex-col",children:[y.jsxs("div",{className:"h-48 bg-gray-900 relative overflow-hidden",children:[a.image?y.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:y.jsx("svg",{className:"w-12 h-12 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent opacity-80"}),y.jsx("div",{className:"absolute bottom-4 left-4",children:y.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-primary transition-colors",children:a.name})})]}),y.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-between",children:[y.jsxs("p",{className:"text-gray-400",children:[a.count," Course",a.count!==1&&"s"," available"]}),y.jsxs("span",{className:"text-primary mt-4 inline-flex items-center text-sm font-medium",children:["Explore Path ",y.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})},a.name))}),n.length===0&&y.jsx("div",{className:"text-center py-20 bg-surface rounded-xl border border-gray-800",children:y.jsx("p",{className:"text-gray-500",children:"No academy paths available yet."})})]})},FP=()=>{const{path:n}=ch(),e=decodeURIComponent(n),[t,r]=H.useState([]),[a,l]=H.useState(!0);return H.useEffect(()=>{(async()=>{try{const f=Aa(Lt(qe,"courses"),Sa("order","asc")),v=(await Wn(f)).docs.map(E=>({id:E.id,...E.data()})).filter(E=>(E.path||"General")===e);r(v)}catch(f){console.error("Error loading courses:",f)}finally{l(!1)}})()},[e]),a?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading Path..."}):y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 animate-fade-in",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx(Nt,{to:"/academy",className:"text-gray-500 hover:text-white mb-4 inline-block",children:" Back to Academy"}),y.jsxs("h1",{className:"text-3xl font-bold text-white",children:[y.jsx("span",{className:"text-primary",children:e})," Courses"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(u=>y.jsx(Nt,{to:`/academy/${encodeURIComponent(e)}/${u.id}`,className:"group",children:y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden hover:border-gray-600 transition-all h-full",children:[y.jsxs("div",{className:"h-48 bg-gray-900 relative",children:[u.image&&y.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur px-2 py-1 rounded text-xs text-white border border-gray-700",children:u.level})]}),y.jsxs("div",{className:"p-5",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-primary transition-colors",children:u.title}),y.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:u.description}),y.jsx("span",{className:"text-sm font-medium text-white group-hover:underline",children:"Start Learning "})]})]})},u.id))}),t.length===0&&y.jsx("div",{className:"text-center py-20 bg-surface rounded-xl border border-gray-800",children:y.jsx("p",{className:"text-gray-500",children:"No courses found in this path."})})]})},GP=()=>{const{path:n,courseId:e}=ch(),t=Oi(),[r,a]=H.useState(null),[l,u]=H.useState([]),[f,m]=H.useState(null),[p,v]=H.useState(!0),[E,x]=H.useState(!0),[A,C]=H.useState([]);return H.useEffect(()=>{(async()=>{if(Jt.currentUser&&e){const I=Tt(db,"users",Jt.currentUser.uid,"course_progress",e),z=await as(I);z.exists()&&C(z.data().completedLessonIds||[])}})()},[e]),H.useEffect(()=>{(async()=>{try{v(!0);const I=await as(Tt(db,"courses",e));if(!I.exists()){alert("Course not found"),t(`/academy/${n}`);return}a({id:I.id,...I.data()});const z=Aa(Lt(db,"courses",e,"lessons"),Sa("order","asc")),$=await Wn(z);let J=[];$.empty?J=(await Wn(Lt(db,"courses",e,"lessons"))).docs.map(de=>({id:de.id,...de.data()})):J=$.docs.map(te=>({id:te.id,...te.data()})),u(J),J.length>0&&m(J[0])}catch(I){console.error("Error loading course:",I)}finally{v(!1)}})()},[e,t,n]),p?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):r?y.jsxs("div",{className:"flex bg-background overflow-hidden animate-fade-in",style:{height:"calc(100vh - 64px)"},children:[y.jsxs("div",{className:`${E?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[y.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-900/50",children:[y.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:r.title}),y.jsx("button",{onClick:()=>x(!1),className:"md:hidden text-gray-400",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.map((L,I)=>y.jsxs("div",{onClick:()=>m(L),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${f?.id===L.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[y.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:I+1}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-medium ${f?.id===L.id?"text-primary":"text-gray-300"}`,children:L.title}),y.jsx("span",{className:"text-xs text-gray-500",children:L.duration||"10 min"})]})]},L.id)),l.length===0&&y.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),y.jsx("div",{className:"p-4 border-t border-gray-800",children:y.jsx(Nt,{to:`/academy/${n}`,children:y.jsx(Button,{variant:"outline",size:"sm",className:"w-full",children:" Back to Path"})})})]}),y.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[y.jsx("div",{className:"absolute top-4 left-4 z-10",children:y.jsx("button",{onClick:()=>x(!E),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:E?y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),f?y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsx("div",{className:"bg-black aspect-video w-full max-h-[60vh] flex items-center justify-center",children:f.videoUrl?y.jsx("iframe",{src:f.videoUrl,title:f.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsxs("div",{className:"text-gray-500 text-center",children:[y.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),y.jsx("p",{children:"No video content."})]})}),y.jsxs("div",{className:"max-w-4xl mx-auto p-8 pb-20",children:[y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsx("h1",{className:"text-2xl font-bold text-white",children:f.title})}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx("div",{dangerouslySetInnerHTML:{__html:f.content}})}),(r.instructorName||r.instructorBio)&&y.jsxs("div",{className:"mt-12 border-t border-gray-800 pt-8",children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Meet Your Instructor"}),y.jsxs("div",{className:"flex items-start gap-6 bg-surface p-6 rounded-xl border border-gray-800",children:[r.instructorImage?y.jsx("img",{src:r.instructorImage,alt:r.instructorName,className:"w-20 h-20 rounded-full object-cover border-2 border-primary"}):y.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-700 flex items-center justify-center text-2xl font-bold text-gray-400",children:r.instructorName?r.instructorName.charAt(0):"I"}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-white",children:r.instructorName}),y.jsx("p",{className:"text-gray-400 text-sm whitespace-pre-wrap mt-2",children:r.instructorBio})]})]})]})]})]}):y.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:y.jsx("p",{children:"Select a lesson from the list to start learning."})})]})]}):null},Mw=({children:n,adminOnly:e=!1})=>{const[t,r]=H.useState(null),[a,l]=H.useState(!0);return H.useEffect(()=>{const u=gh(Jt,f=>{r(f),l(!1)});return()=>u()},[]),a?y.jsx("div",{className:"text-center p-10 pt-32 text-white",children:"Loading..."}):t?n:y.jsx(hR,{to:"/login",replace:!0})};function $P(){return y.jsx(PR,{children:y.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[y.jsx(dL,{}),y.jsx("main",{className:"flex-grow",children:y.jsxs(mR,{children:[y.jsx(Sn,{path:"/",element:y.jsx(vL,{})}),y.jsx(Sn,{path:"/analysis",element:y.jsx(bL,{})}),y.jsx(Sn,{path:"/analysis/:id",element:y.jsx(_L,{})}),y.jsx(Sn,{path:"/news",element:y.jsx(xL,{})}),y.jsx(Sn,{path:"/news/:id",element:y.jsx(wL,{})}),y.jsx(Sn,{path:"/login",element:y.jsx(TL,{})}),y.jsx(Sn,{path:"/register",element:y.jsx(AL,{})}),y.jsx(Sn,{path:"/academy",element:y.jsx(HP,{})}),y.jsx(Sn,{path:"/academy/:path",element:y.jsx(FP,{})}),y.jsx(Sn,{path:"/academy/:path/:courseId",element:y.jsx(GP,{})}),y.jsx(Sn,{path:"/dashboard",element:y.jsx(Mw,{children:y.jsx(NL,{})})}),y.jsx(Sn,{path:"/dashboard/course/:courseId",element:y.jsx(Mw,{children:y.jsx(zP,{})})}),y.jsxs(Sn,{path:"/admin",element:y.jsx(CL,{}),children:[y.jsx(Sn,{index:!0,element:y.jsx(RL,{})}),y.jsx(Sn,{path:"news",element:y.jsx(jP,{})}),y.jsx(Sn,{path:"analysis",element:y.jsx(PP,{})}),y.jsx(Sn,{path:"courses",element:y.jsx(UP,{})}),y.jsx(Sn,{path:"profile",element:y.jsx(BP,{})})]})]})}),y.jsx(mL,{})]})})}vC.createRoot(document.getElementById("root")).render(y.jsx(H.StrictMode,{children:y.jsx($P,{})}))});export default KP();
