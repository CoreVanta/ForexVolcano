var oC=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var zP=oC((ti,ni)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gg={exports:{}},Tu={};var j_;function lC(){if(j_)return Tu;j_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Tu.Fragment=e,Tu.jsx=t,Tu.jsxs=t,Tu}var P_;function cC(){return P_||(P_=1,gg.exports=lC()),gg.exports}var y=cC(),yg={exports:{}},ze={};var V_;function uC(){if(V_)return ze;V_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,I={};function q(V,Y,ue){this.props=V,this.context=Y,this.refs=I,this.updater=ue||O}q.prototype.isReactComponent={},q.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=q.prototype;function ne(V,Y,ue){this.props=V,this.context=Y,this.refs=I,this.updater=ue||O}var be=ne.prototype=new $;be.constructor=ne,D(be,q.prototype),be.isPureReactComponent=!0;var ve=Array.isArray;function we(){}var j={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(V,Y,ue){var fe=ue.ref;return{$$typeof:n,type:V,key:Y,ref:fe!==void 0?fe:null,props:ue}}function H(V,Y){return P(V.type,Y,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function k(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return Y[ue]})}var S=/\/+/g;function me(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):Y.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(we,we):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function z(V,Y,ue,fe,pe){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(xe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case n:case e:De=!0;break;case v:return De=V._init,z(De(V._payload),Y,ue,fe,pe)}}if(De)return pe=pe(V),De=fe===""?"."+me(V,0):fe,ve(pe)?(ue="",De!=null&&(ue=De.replace(S,"$&/")+"/"),z(pe,Y,ue,"",function(Ke){return Ke})):pe!=null&&(A(pe)&&(pe=H(pe,ue+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(S,"$&/")+"/")+De)),Y.push(pe)),1;De=0;var Ie=fe===""?".":fe+":";if(ve(V))for(var Le=0;Le<V.length;Le++)fe=V[Le],xe=Ie+me(fe,Le),De+=z(fe,Y,ue,xe,pe);else if(Le=N(V),typeof Le=="function")for(V=Le.call(V),Le=0;!(fe=V.next()).done;)fe=fe.value,xe=Ie+me(fe,Le++),De+=z(fe,Y,ue,xe,pe);else if(xe==="object"){if(typeof V.then=="function")return z(de(V),Y,ue,fe,pe);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(V,Y,ue){if(V==null)return V;var fe=[],pe=0;return z(V,fe,"","",function(xe){return Y.call(ue,xe,pe++)}),fe}function le(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ge={map:Z,forEach:function(V,Y,ue){Z(V,function(){Y.apply(this,arguments)},ue)},count:function(V){var Y=0;return Z(V,function(){Y++}),Y},toArray:function(V){return Z(V,function(Y){return Y})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ze.Activity=T,ze.Children=ge,ze.Component=q,ze.Fragment=t,ze.Profiler=a,ze.PureComponent=ne,ze.StrictMode=r,ze.Suspense=m,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,ze.__COMPILER_RUNTIME={__proto__:null,c:function(V){return j.H.useMemoCache(V)}},ze.cache=function(V){return function(){return V.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(V,Y,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=D({},V.props),pe=V.key;if(Y!=null)for(xe in Y.key!==void 0&&(pe=""+Y.key),Y)!M.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(fe[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)fe.children=ue;else if(1<xe){for(var De=Array(xe),Ie=0;Ie<xe;Ie++)De[Ie]=arguments[Ie+2];fe.children=De}return P(V.type,pe,fe)},ze.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ze.createElement=function(V,Y,ue){var fe,pe={},xe=null;if(Y!=null)for(fe in Y.key!==void 0&&(xe=""+Y.key),Y)M.call(Y,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=Y[fe]);var De=arguments.length-2;if(De===1)pe.children=ue;else if(1<De){for(var Ie=Array(De),Le=0;Le<De;Le++)Ie[Le]=arguments[Le+2];pe.children=Ie}if(V&&V.defaultProps)for(fe in De=V.defaultProps,De)pe[fe]===void 0&&(pe[fe]=De[fe]);return P(V,xe,pe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(V){return{$$typeof:f,render:V}},ze.isValidElement=A,ze.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:le}},ze.memo=function(V,Y){return{$$typeof:p,type:V,compare:Y===void 0?null:Y}},ze.startTransition=function(V){var Y=j.T,ue={};j.T=ue;try{var fe=V(),pe=j.S;pe!==null&&pe(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(we,ye)}catch(xe){ye(xe)}finally{Y!==null&&ue.types!==null&&(Y.types=ue.types),j.T=Y}},ze.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},ze.use=function(V){return j.H.use(V)},ze.useActionState=function(V,Y,ue){return j.H.useActionState(V,Y,ue)},ze.useCallback=function(V,Y){return j.H.useCallback(V,Y)},ze.useContext=function(V){return j.H.useContext(V)},ze.useDebugValue=function(){},ze.useDeferredValue=function(V,Y){return j.H.useDeferredValue(V,Y)},ze.useEffect=function(V,Y){return j.H.useEffect(V,Y)},ze.useEffectEvent=function(V){return j.H.useEffectEvent(V)},ze.useId=function(){return j.H.useId()},ze.useImperativeHandle=function(V,Y,ue){return j.H.useImperativeHandle(V,Y,ue)},ze.useInsertionEffect=function(V,Y){return j.H.useInsertionEffect(V,Y)},ze.useLayoutEffect=function(V,Y){return j.H.useLayoutEffect(V,Y)},ze.useMemo=function(V,Y){return j.H.useMemo(V,Y)},ze.useOptimistic=function(V,Y){return j.H.useOptimistic(V,Y)},ze.useReducer=function(V,Y,ue){return j.H.useReducer(V,Y,ue)},ze.useRef=function(V){return j.H.useRef(V)},ze.useState=function(V){return j.H.useState(V)},ze.useSyncExternalStore=function(V,Y,ue){return j.H.useSyncExternalStore(V,Y,ue)},ze.useTransition=function(){return j.H.useTransition()},ze.version="19.2.1",ze}var U_;function Gy(){return U_||(U_=1,yg.exports=uC()),yg.exports}var G=Gy();const ys=Fy(G);var vg={exports:{}},wu={},bg={exports:{}},_g={};var q_;function hC(){return q_||(q_=1,(function(n){function e(z,Z){var le=z.length;z.push(Z);e:for(;0<le;){var ye=le-1>>>1,ge=z[ye];if(0<a(ge,Z))z[ye]=Z,z[le]=ge,le=ye;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],le=z.pop();if(le!==Z){z[0]=le;e:for(var ye=0,ge=z.length,V=ge>>>1;ye<V;){var Y=2*(ye+1)-1,ue=z[Y],fe=Y+1,pe=z[fe];if(0>a(ue,le))fe<ge&&0>a(pe,ue)?(z[ye]=pe,z[fe]=le,ye=fe):(z[ye]=ue,z[Y]=le,ye=Y);else if(fe<ge&&0>a(pe,le))z[ye]=pe,z[fe]=le,ye=fe;else break e}}return Z}function a(z,Z){var le=z.sortIndex-Z.sortIndex;return le!==0?le:z.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,T=null,w=3,N=!1,O=!1,D=!1,I=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function be(z){for(var Z=t(p);Z!==null;){if(Z.callback===null)r(p);else if(Z.startTime<=z)r(p),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(p)}}function ve(z){if(D=!1,be(z),!O)if(t(m)!==null)O=!0,we||(we=!0,k());else{var Z=t(p);Z!==null&&de(ve,Z.startTime-z)}}var we=!1,j=-1,M=5,P=-1;function H(){return I?!0:!(n.unstable_now()-P<M)}function A(){if(I=!1,we){var z=n.unstable_now();P=z;var Z=!0;try{e:{O=!1,D&&(D=!1,$(j),j=-1),N=!0;var le=w;try{t:{for(be(z),T=t(m);T!==null&&!(T.expirationTime>z&&H());){var ye=T.callback;if(typeof ye=="function"){T.callback=null,w=T.priorityLevel;var ge=ye(T.expirationTime<=z);if(z=n.unstable_now(),typeof ge=="function"){T.callback=ge,be(z),Z=!0;break t}T===t(m)&&r(m),be(z)}else r(m);T=t(m)}if(T!==null)Z=!0;else{var V=t(p);V!==null&&de(ve,V.startTime-z),Z=!1}}break e}finally{T=null,w=le,N=!1}Z=void 0}}finally{Z?k():we=!1}}}var k;if(typeof ne=="function")k=function(){ne(A)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,me=S.port2;S.port1.onmessage=A,k=function(){me.postMessage(null)}}else k=function(){q(A,0)};function de(z,Z){j=q(function(){z(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(z){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var le=w;w=Z;try{return z()}finally{w=le}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=w;w=z;try{return Z()}finally{w=le}},n.unstable_scheduleCallback=function(z,Z,le){var ye=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,z){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=le+ge,z={id:v++,callback:Z,priorityLevel:z,startTime:le,expirationTime:ge,sortIndex:-1},le>ye?(z.sortIndex=le,e(p,z),t(m)===null&&z===t(p)&&(D?($(j),j=-1):D=!0,de(ve,le-ye))):(z.sortIndex=ge,e(m,z),O||N||(O=!0,we||(we=!0,k()))),z},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(z){var Z=w;return function(){var le=w;w=Z;try{return z.apply(this,arguments)}finally{w=le}}}})(_g)),_g}var B_;function fC(){return B_||(B_=1,bg.exports=hC()),bg.exports}var Eg={exports:{}},nr={};var z_;function dC(){if(z_)return nr;z_=1;var n=Gy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},nr.flushSync=function(m){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=v,r.d.f()}},nr.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},nr.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},nr.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,T=f(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):v==="script"&&r.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nr.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},nr.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=f(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nr.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},nr.requestFormReset=function(m){r.d.r(m)},nr.unstable_batchedUpdates=function(m,p){return m(p)},nr.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},nr.useFormStatus=function(){return u.H.useHostTransitionStatus()},nr.version="19.2.1",nr}var H_;function mC(){if(H_)return Eg.exports;H_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eg.exports=dC(),Eg.exports}var F_;function pC(){if(F_)return wu;F_=1;var n=fC(),e=Gy(),t=mC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=d,c=g;else{for(var E=!1,C=d.child;C;){if(C===o){E=!0,o=d,c=g;break}if(C===c){E=!0,c=d,o=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===o){E=!0,o=g,c=d;break}if(C===c){E=!0,c=g,o=d;break}C=C.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=A&&i[A]||i["@@iterator"],typeof i=="function"?i:null)}var S=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===S?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case q:return"Profiler";case I:return"StrictMode";case ve:return"Suspense";case we:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case ne:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case be:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:me(i.type)||"Memo";case M:s=i._payload,i=i._init;try{return me(i(s))}catch{}}return null}var de=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],ge=-1;function V(i){return{current:i}}function Y(i){0>ge||(i.current=ye[ge],ye[ge]=null,ge--)}function ue(i,s){ge++,ye[ge]=i.current,i.current=s}var fe=V(null),pe=V(null),xe=V(null),De=V(null);function Ie(i,s){switch(ue(xe,s),ue(pe,i),ue(fe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?s_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=s_(s),i=a_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(fe),ue(fe,i)}function Le(){Y(fe),Y(pe),Y(xe)}function Ke(i){i.memoizedState!==null&&ue(De,i);var s=fe.current,o=a_(s,i.type);s!==o&&(ue(pe,i),ue(fe,o))}function We(i){pe.current===i&&(Y(fe),Y(pe)),De.current===i&&(Y(De),vu._currentValue=le)}var tt,ot;function dt(i){if(tt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);tt=s&&s[1]||"",ot=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+i+ot}var Xt=!1;function jr(i,s){if(!i||Xt)return"";Xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var J=re}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(re){J=re}i.call(ce.prototype)}}else{try{throw Error()}catch(re){J=re}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],C=g[1];if(E&&C){var B=E.split(`
`),W=C.split(`
`);for(d=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(c===B.length||d===W.length)for(c=B.length-1,d=W.length-1;1<=c&&0<=d&&B[c]!==W[d];)d--;for(;1<=c&&0<=d;c--,d--)if(B[c]!==W[d]){if(c!==1||d!==1)do if(c--,d--,0>d||B[c]!==W[d]){var ie=`
`+B[c].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=c&&0<=d);break}}}finally{Xt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?dt(o):""}function rs(i,s){switch(i.tag){case 26:case 27:case 5:return dt(i.type);case 16:return dt("Lazy");case 13:return i.child!==s&&s!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return jr(i.type,!1);case 11:return jr(i.type.render,!1);case 1:return jr(i.type,!0);case 31:return dt("Activity");default:return""}}function Ds(i){try{var s="",o=null;do s+=rs(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Vt=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,_r=n.unstable_cancelCallback,Na=n.unstable_shouldYield,Ls=n.unstable_requestPaint,Nt=n.unstable_now,Er=n.unstable_getCurrentPriorityLevel,ks=n.unstable_ImmediatePriority,Pr=n.unstable_UserBlockingPriority,cr=n.unstable_NormalPriority,Ms=n.unstable_LowPriority,Dn=n.unstable_IdlePriority,js=n.log,Ps=n.unstable_setDisableYieldValue,ur=null,Kt=null;function En(i){if(typeof js=="function"&&Ps(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ur,i)}catch{}}var Ct=Math.clz32?Math.clz32:Yn,Li=Math.log,Tr=Math.LN2;function Yn(i){return i>>>=0,i===0?32:31-(Li(i)/Tr|0)|0}var Ln=256,Vr=262144,_t=4194304;function Xn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Sn(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?d=Xn(c):(E&=C,E!==0?d=Xn(E):o||(o=C&~i,o!==0&&(d=Xn(o))))):(C=c&~g,C!==0?d=Xn(C):E!==0?d=Xn(E):o||(o=c&~i,o!==0&&(d=Xn(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function kn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Vs(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var i=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),i}function Tn(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function si(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ur(i,s,o,c,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,B=i.expirationTimes,W=i.hiddenUpdates;for(o=E&~o;0<o;){var ie=31-Ct(o),ce=1<<ie;C[ie]=0,B[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var re=J[ie];re!==null&&(re.lane&=-536870913)}o&=~ce}c!==0&&ki(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function ki(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Ct(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Us(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-Ct(o),d=1<<c;d&s|i[c]&s&&(i[c]|=s),o&=~d}}function qs(i,s){var o=s&-s;return o=(o&42)!==0?1:ai(o),(o&(i.suspendedLanes|s))!==0?0:o}function ai(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function hr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wt(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:R_(i.type))}function fr(i,s){var o=Z.p;try{return Z.p=i,s()}finally{Z.p=o}}var dr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+dr,Zt="__reactProps$"+dr,wr="__reactContainer$"+dr,Qt="__reactEvents$"+dr,ko="__reactListeners$"+dr,Ca="__reactHandles$"+dr,Ra="__reactResources$"+dr,xr="__reactMarker$"+dr;function ss(i){delete i[Ut],delete i[Zt],delete i[Qt],delete i[ko],delete i[Ca]}function Ot(i){var s=i[Ut];if(s)return s;for(var o=i.parentNode;o;){if(s=o[wr]||o[Ut]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=d_(i);i!==null;){if(o=i[Ut])return o;i=d_(i)}return s}i=o,o=i.parentNode}return null}function Wn(i){if(i=i[Ut]||i[wr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Mn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ar(i){var s=i[Ra];return s||(s=i[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(i){i[xr]=!0}var Bs=new Set,oi={};function mr(i,s){jn(i,s),jn(i+"Capture",s)}function jn(i,s){for(oi[i]=s,i=0;i<s.length;i++)Bs.add(s[i])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mi={},zs={};function Ia(i){return Vt.call(zs,i)?!0:Vt.call(Mi,i)?!1:Zn.test(i)?zs[i]=!0:(Mi[i]=!0,!1)}function as(i,s,o){if(Ia(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Pn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Bt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function Dt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Sr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qr(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ct(i){if(!i._valueTracker){var s=Sr(i)?"checked":"value";i._valueTracker=qr(i,s,""+i[s])}}function li(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=Sr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Nr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ji=/[\n"\\]/g;function Nn(i){return i.replace(ji,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function os(i,s,o,c,d,g,E,C){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Dt(s)):i.value!==""+Dt(s)&&(i.value=""+Dt(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Hs(i,E,Dt(s)):o!=null?Hs(i,E,Dt(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+Dt(C):i.removeAttribute("name")}function ls(i,s,o,c,d,g,E,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ct(i);return}o=o!=null?""+Dt(o):"",s=s!=null?""+Dt(s):o,C||s===i.value||(i.value=s),i.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=C?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),ct(i)}function Hs(i,s,o){s==="number"&&Nr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ci(i,s,o,c){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Dt(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function ui(i,s,o){if(s!=null&&(s=""+Dt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Dt(o):""}function fn(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(de(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Dt(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ct(i)}function zt(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Cr.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Jn(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&Fs(i,d,c)}else for(var g in s)s.hasOwnProperty(g)&&Fs(i,g,s[g])}function cs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(i){return hi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function er(){}var nn=null;function Vn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Br=null,Un=null;function zr(i){var s=Wn(i);if(s&&(i=s.stateNode)){var o=i[Zt]||null;e:switch(i=s.stateNode,s.type){case"input":if(os(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var d=c[Zt]||null;if(!d)throw Error(r(90));os(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&li(c)}break e;case"textarea":ui(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ci(i,!!o.multiple,s,!1)}}}var Hr=!1;function fi(i,s,o){if(Hr)return i(s,o);Hr=!0;try{var c=i(s);return c}finally{if(Hr=!1,(Br!==null||Un!==null)&&(gf(),Br&&(s=Br,i=Un,Un=Br=null,zr(s),i)))for(s=0;s<i.length;s++)zr(i[s])}}function tr(i,s){var o=i.stateNode;if(o===null)return null;var c=o[Zt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=!1;if(Cn)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){di=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{di=!1}var pr=null,Pi=null,Vi=null;function Gs(){if(Vi)return Vi;var i,s=Pi,o=s.length,c,d="value"in pr?pr.value:pr.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var E=o-i;for(c=1;c<=E&&s[o-c]===d[g-c];c++);return Vi=d.slice(i,1<c?1-c:void 0)}function _(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function R(){return!0}function U(){return!1}function ee(i){function s(o,c,d,g,E){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?R:U,this.isPropagationStopped=U,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=R)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=R)},persist:function(){},isPersistent:R}),s}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ae=ee(je),Ge=T({},je,{view:0,detail:0}),Ye=ee(Ge),yt,Ze,xt,rn=T({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xt&&(xt&&i.type==="mousemove"?(yt=i.screenX-xt.screenX,Ze=i.screenY-xt.screenY):Ze=yt=0,xt=i),yt)},movementY:function(i){return"movementY"in i?i.movementY:Ze}}),Lt=ee(rn),Ht=T({},rn,{dataTransfer:0}),Jt=ee(Ht),Fr=T({},Ge,{relatedTarget:0}),qn=ee(Fr),Gr=T({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=ee(Gr),Ui=T({},je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$s=ee(Ui),Nh=T({},je,{data:0}),hs=ee(Nh),Ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ih[i])?!!s[i]:!1}function Da(){return Oh}var gr=T({},Ge,{key:function(i){if(i.key){var s=Ch[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(i){return i.type==="keypress"?_(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dh=ee(gr),Lh=T({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=ee(Lh),h=T({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),b=ee(h),x=T({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=ee(x),Q=T({},rn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),te=ee(Q),_e=T({},je,{newState:0,oldState:0}),He=ee(_e),sn=[9,13,27,32],mt=Cn&&"CompositionEvent"in window,Ft=null;Cn&&"documentMode"in document&&(Ft=document.documentMode);var mi=Cn&&"TextEvent"in window&&!Ft,fs=Cn&&(!mt||Ft&&8<Ft&&11>=Ft),qi=" ",Bi=!1;function jo(i,s){switch(i){case"keyup":return sn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sl=!1;function O2(i,s){switch(i){case"compositionend":return Al(s);case"keypress":return s.which!==32?null:(Bi=!0,qi);case"textInput":return i=s.data,i===qi&&Bi?null:i;default:return null}}function D2(i,s){if(Sl)return i==="compositionend"||!mt&&jo(i,s)?(i=Gs(),Vi=Pi=pr=null,Sl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fs&&s.locale!=="ko"?null:s.data;default:return null}}var L2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!L2[i.type]:s==="textarea"}function yv(i,s,o,c){Br?Un?Un.push(c):Un=[c]:Br=c,s=wf(s,"onChange"),0<s.length&&(o=new Ae("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var qc=null,Bc=null;function k2(i){Jb(i,0)}function kh(i){var s=Mn(i);if(li(s))return i}function vv(i,s){if(i==="change")return s}var bv=!1;if(Cn){var wm;if(Cn){var xm="oninput"in document;if(!xm){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),xm=typeof _v.oninput=="function"}wm=xm}else wm=!1;bv=wm&&(!document.documentMode||9<document.documentMode)}function Ev(){qc&&(qc.detachEvent("onpropertychange",Tv),Bc=qc=null)}function Tv(i){if(i.propertyName==="value"&&kh(Bc)){var s=[];yv(s,Bc,i,Vn(i)),fi(k2,s)}}function M2(i,s,o){i==="focusin"?(Ev(),qc=s,Bc=o,qc.attachEvent("onpropertychange",Tv)):i==="focusout"&&Ev()}function j2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kh(Bc)}function P2(i,s){if(i==="click")return kh(s)}function V2(i,s){if(i==="input"||i==="change")return kh(s)}function U2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var $r=typeof Object.is=="function"?Object.is:U2;function zc(i,s){if($r(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Vt.call(s,d)||!$r(i[d],s[d]))return!1}return!0}function wv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xv(i,s){var o=wv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wv(o)}}function Av(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Av(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Sv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Nr(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Nr(i.document)}return s}function Am(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var q2=Cn&&"documentMode"in document&&11>=document.documentMode,Nl=null,Sm=null,Hc=null,Nm=!1;function Nv(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nm||Nl==null||Nl!==Nr(c)||(c=Nl,"selectionStart"in c&&Am(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hc&&zc(Hc,c)||(Hc=c,c=wf(Sm,"onSelect"),0<c.length&&(s=new Ae("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Nl)))}function Po(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Cl={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionrun:Po("Transition","TransitionRun"),transitionstart:Po("Transition","TransitionStart"),transitioncancel:Po("Transition","TransitionCancel"),transitionend:Po("Transition","TransitionEnd")},Cm={},Cv={};Cn&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Vo(i){if(Cm[i])return Cm[i];if(!Cl[i])return i;var s=Cl[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Cv)return Cm[i]=s[o];return i}var Rv=Vo("animationend"),Iv=Vo("animationiteration"),Ov=Vo("animationstart"),B2=Vo("transitionrun"),z2=Vo("transitionstart"),H2=Vo("transitioncancel"),Dv=Vo("transitionend"),Lv=new Map,Rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rm.push("scrollEnd");function zi(i,s){Lv.set(i,s),mr(s,[i])}var Mh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},pi=[],Rl=0,Im=0;function jh(){for(var i=Rl,s=Im=Rl=0;s<i;){var o=pi[s];pi[s++]=null;var c=pi[s];pi[s++]=null;var d=pi[s];pi[s++]=null;var g=pi[s];if(pi[s++]=null,c!==null&&d!==null){var E=c.pending;E===null?d.next=d:(d.next=E.next,E.next=d),c.pending=d}g!==0&&kv(o,d,g)}}function Ph(i,s,o,c){pi[Rl++]=i,pi[Rl++]=s,pi[Rl++]=o,pi[Rl++]=c,Im|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Om(i,s,o,c){return Ph(i,s,o,c),Vh(i)}function Uo(i,s){return Ph(i,null,null,s),Vh(i)}function kv(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Ct(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[s]:c.push(s),s.lane=o|536870912),g):null}function Vh(i){if(50<hu)throw hu=0,qp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Il={};function F2(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(i,s,o,c){return new F2(i,s,o,c)}function Dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qs(i,s){var o=i.alternate;return o===null?(o=Kr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Mv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Uh(i,s,o,c,d,g){var E=0;if(c=i,typeof i=="function")Dm(i)&&(E=1);else if(typeof i=="string")E=YN(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Kr(31,o,s,d),i.elementType=P,i.lanes=g,i;case D:return qo(o.children,d,g,s);case I:E=8,d|=24;break;case q:return i=Kr(12,o,s,d|2),i.elementType=q,i.lanes=g,i;case ve:return i=Kr(13,o,s,d),i.elementType=ve,i.lanes=g,i;case we:return i=Kr(19,o,s,d),i.elementType=we,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:E=10;break e;case $:E=9;break e;case be:E=11;break e;case j:E=14;break e;case M:E=16,c=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Kr(E,o,s,d),s.elementType=i,s.type=c,s.lanes=g,s}function qo(i,s,o,c){return i=Kr(7,i,c,s),i.lanes=o,i}function Lm(i,s,o){return i=Kr(6,i,null,s),i.lanes=o,i}function jv(i){var s=Kr(18,null,null,0);return s.stateNode=i,s}function km(i,s,o){return s=Kr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Pv=new WeakMap;function gi(i,s){if(typeof i=="object"&&i!==null){var o=Pv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ds(s)},Pv.set(i,s),s)}return{value:i,source:s,stack:Ds(s)}}var Ol=[],Dl=0,qh=null,Fc=0,yi=[],vi=0,La=null,ds=1,ms="";function Ys(i,s){Ol[Dl++]=Fc,Ol[Dl++]=qh,qh=i,Fc=s}function Vv(i,s,o){yi[vi++]=ds,yi[vi++]=ms,yi[vi++]=La,La=i;var c=ds;i=ms;var d=32-Ct(c)-1;c&=~(1<<d),o+=1;var g=32-Ct(s)+d;if(30<g){var E=d-d%5;g=(c&(1<<E)-1).toString(32),c>>=E,d-=E,ds=1<<32-Ct(s)+d|o<<d|c,ms=g+i}else ds=1<<g|o<<d|c,ms=i}function Mm(i){i.return!==null&&(Ys(i,1),Vv(i,1,0))}function jm(i){for(;i===qh;)qh=Ol[--Dl],Ol[Dl]=null,Fc=Ol[--Dl],Ol[Dl]=null;for(;i===La;)La=yi[--vi],yi[vi]=null,ms=yi[--vi],yi[vi]=null,ds=yi[--vi],yi[vi]=null}function Uv(i,s){yi[vi++]=ds,yi[vi++]=ms,yi[vi++]=La,ds=s.id,ms=s.overflow,La=i}var Bn=null,kt=null,lt=!1,ka=null,bi=!1,Pm=Error(r(519));function Ma(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gc(gi(s,i)),Pm}function qv(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Ut]=i,s[Zt]=c,o){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(o=0;o<du.length;o++)et(du[o],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),ls(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),fn(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||r_(s.textContent,o)?(c.popover!=null&&(et("beforetoggle",s),et("toggle",s)),c.onScroll!=null&&et("scroll",s),c.onScrollEnd!=null&&et("scrollend",s),c.onClick!=null&&(s.onclick=er),s=!0):s=!1,s||Ma(i,!0)}function Bv(i){for(Bn=i.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:Bn=Bn.return}}function Ll(i){if(i!==Bn)return!1;if(!lt)return Bv(i),lt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||tg(i.type,i.memoizedProps)),o=!o),o&&kt&&Ma(i),Bv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));kt=f_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));kt=f_(i)}else s===27?(s=kt,Ya(i.type)?(i=ag,ag=null,kt=i):kt=s):kt=Bn?Ei(i.stateNode.nextSibling):null;return!0}function Bo(){kt=Bn=null,lt=!1}function Vm(){var i=ka;return i!==null&&(Dr===null?Dr=i:Dr.push.apply(Dr,i),ka=null),i}function Gc(i){ka===null?ka=[i]:ka.push(i)}var Um=V(null),zo=null,Xs=null;function ja(i,s,o){ue(Um,s._currentValue),s._currentValue=o}function Ws(i){i._currentValue=Um.current,Y(Um)}function qm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Bm(i,s,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=d;for(var B=0;B<s.length;B++)if(C.context===s[B]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),qm(g.return,o,i),c||(E=null);break e}g=C.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),qm(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function kl(i,s,o,c){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var C=d.type;$r(d.pendingProps.value,E.value)||(i!==null?i.push(C):i=[C])}}else if(d===De.current){if(E=d.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}d=d.return}i!==null&&Bm(s,i,o,c),s.flags|=262144}function Bh(i){for(i=i.firstContext;i!==null;){if(!$r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ho(i){zo=i,Xs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zn(i){return zv(zo,i)}function zh(i,s){return zo===null&&Ho(i),zv(i,s)}function zv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Xs===null){if(i===null)throw Error(r(308));Xs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Xs=Xs.next=s;return o}var G2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},$2=n.unstable_scheduleCallback,K2=n.unstable_NormalPriority,dn={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zm(){return{controller:new G2,data:new Map,refCount:0}}function $c(i){i.refCount--,i.refCount===0&&$2(K2,function(){i.controller.abort()})}var Kc=null,Hm=0,Ml=0,jl=null;function Q2(i,s){if(Kc===null){var o=Kc=[];Hm=0,Ml=$p(),jl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Hm++,s.then(Hv,Hv),s}function Hv(){if(--Hm===0&&Kc!==null){jl!==null&&(jl.status="fulfilled");var i=Kc;Kc=null,Ml=0,jl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Y2(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Fv=z.S;z.S=function(i,s){Nb=Nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Q2(i,s),Fv!==null&&Fv(i,s)};var Fo=V(null);function Fm(){var i=Fo.current;return i!==null?i:At.pooledCache}function Hh(i,s){s===null?ue(Fo,Fo.current):ue(Fo,s.pool)}function Gv(){var i=Fm();return i===null?null:{parent:dn._currentValue,pool:i}}var Pl=Error(r(460)),Gm=Error(r(474)),Fh=Error(r(542)),Gh={then:function(){}};function $v(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(er,er),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Yv(i),i;default:if(typeof s.status=="string")s.then(er,er);else{if(i=At,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Yv(i),i}throw $o=s,Pl}}function Go(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($o=o,Pl):o}}var $o=null;function Qv(){if($o===null)throw Error(r(459));var i=$o;return $o=null,i}function Yv(i){if(i===Pl||i===Fh)throw Error(r(483))}var Vl=null,Qc=0;function $h(i){var s=Qc;return Qc+=1,Vl===null&&(Vl=[]),Kv(Vl,i,s)}function Yc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Kh(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Xv(i){function s(K,F){if(i){var X=K.deletions;X===null?(K.deletions=[F],K.flags|=16):X.push(F)}}function o(K,F){if(!i)return null;for(;F!==null;)s(K,F),F=F.sibling;return null}function c(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function d(K,F){return K=Qs(K,F),K.index=0,K.sibling=null,K}function g(K,F,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<F?(K.flags|=67108866,F):X):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function E(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function C(K,F,X,se){return F===null||F.tag!==6?(F=Lm(X,K.mode,se),F.return=K,F):(F=d(F,X),F.return=K,F)}function B(K,F,X,se){var ke=X.type;return ke===D?ie(K,F,X.props.children,se,X.key):F!==null&&(F.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===M&&Go(ke)===F.type)?(F=d(F,X.props),Yc(F,X),F.return=K,F):(F=Uh(X.type,X.key,X.props,null,K.mode,se),Yc(F,X),F.return=K,F)}function W(K,F,X,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=km(X,K.mode,se),F.return=K,F):(F=d(F,X.children||[]),F.return=K,F)}function ie(K,F,X,se,ke){return F===null||F.tag!==7?(F=qo(X,K.mode,se,ke),F.return=K,F):(F=d(F,X),F.return=K,F)}function ce(K,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Lm(""+F,K.mode,X),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return X=Uh(F.type,F.key,F.props,null,K.mode,X),Yc(X,F),X.return=K,X;case O:return F=km(F,K.mode,X),F.return=K,F;case M:return F=Go(F),ce(K,F,X)}if(de(F)||k(F))return F=qo(F,K.mode,X,null),F.return=K,F;if(typeof F.then=="function")return ce(K,$h(F),X);if(F.$$typeof===ne)return ce(K,zh(K,F),X);Kh(K,F)}return null}function J(K,F,X,se){var ke=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ke!==null?null:C(K,F,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return X.key===ke?B(K,F,X,se):null;case O:return X.key===ke?W(K,F,X,se):null;case M:return X=Go(X),J(K,F,X,se)}if(de(X)||k(X))return ke!==null?null:ie(K,F,X,se,null);if(typeof X.then=="function")return J(K,F,$h(X),se);if(X.$$typeof===ne)return J(K,F,zh(K,X),se);Kh(K,X)}return null}function re(K,F,X,se,ke){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(X)||null,C(F,K,""+se,ke);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return K=K.get(se.key===null?X:se.key)||null,B(F,K,se,ke);case O:return K=K.get(se.key===null?X:se.key)||null,W(F,K,se,ke);case M:return se=Go(se),re(K,F,X,se,ke)}if(de(se)||k(se))return K=K.get(X)||null,ie(F,K,se,ke,null);if(typeof se.then=="function")return re(K,F,X,$h(se),ke);if(se.$$typeof===ne)return re(K,F,X,zh(F,se),ke);Kh(F,se)}return null}function Se(K,F,X,se){for(var ke=null,ht=null,Ce=F,$e=F=0,rt=null;Ce!==null&&$e<X.length;$e++){Ce.index>$e?(rt=Ce,Ce=null):rt=Ce.sibling;var ft=J(K,Ce,X[$e],se);if(ft===null){Ce===null&&(Ce=rt);break}i&&Ce&&ft.alternate===null&&s(K,Ce),F=g(ft,F,$e),ht===null?ke=ft:ht.sibling=ft,ht=ft,Ce=rt}if($e===X.length)return o(K,Ce),lt&&Ys(K,$e),ke;if(Ce===null){for(;$e<X.length;$e++)Ce=ce(K,X[$e],se),Ce!==null&&(F=g(Ce,F,$e),ht===null?ke=Ce:ht.sibling=Ce,ht=Ce);return lt&&Ys(K,$e),ke}for(Ce=c(Ce);$e<X.length;$e++)rt=re(Ce,K,$e,X[$e],se),rt!==null&&(i&&rt.alternate!==null&&Ce.delete(rt.key===null?$e:rt.key),F=g(rt,F,$e),ht===null?ke=rt:ht.sibling=rt,ht=rt);return i&&Ce.forEach(function(eo){return s(K,eo)}),lt&&Ys(K,$e),ke}function Pe(K,F,X,se){if(X==null)throw Error(r(151));for(var ke=null,ht=null,Ce=F,$e=F=0,rt=null,ft=X.next();Ce!==null&&!ft.done;$e++,ft=X.next()){Ce.index>$e?(rt=Ce,Ce=null):rt=Ce.sibling;var eo=J(K,Ce,ft.value,se);if(eo===null){Ce===null&&(Ce=rt);break}i&&Ce&&eo.alternate===null&&s(K,Ce),F=g(eo,F,$e),ht===null?ke=eo:ht.sibling=eo,ht=eo,Ce=rt}if(ft.done)return o(K,Ce),lt&&Ys(K,$e),ke;if(Ce===null){for(;!ft.done;$e++,ft=X.next())ft=ce(K,ft.value,se),ft!==null&&(F=g(ft,F,$e),ht===null?ke=ft:ht.sibling=ft,ht=ft);return lt&&Ys(K,$e),ke}for(Ce=c(Ce);!ft.done;$e++,ft=X.next())ft=re(Ce,K,$e,ft.value,se),ft!==null&&(i&&ft.alternate!==null&&Ce.delete(ft.key===null?$e:ft.key),F=g(ft,F,$e),ht===null?ke=ft:ht.sibling=ft,ht=ft);return i&&Ce.forEach(function(aC){return s(K,aC)}),lt&&Ys(K,$e),ke}function wt(K,F,X,se){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case N:e:{for(var ke=X.key;F!==null;){if(F.key===ke){if(ke=X.type,ke===D){if(F.tag===7){o(K,F.sibling),se=d(F,X.props.children),se.return=K,K=se;break e}}else if(F.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===M&&Go(ke)===F.type){o(K,F.sibling),se=d(F,X.props),Yc(se,X),se.return=K,K=se;break e}o(K,F);break}else s(K,F);F=F.sibling}X.type===D?(se=qo(X.props.children,K.mode,se,X.key),se.return=K,K=se):(se=Uh(X.type,X.key,X.props,null,K.mode,se),Yc(se,X),se.return=K,K=se)}return E(K);case O:e:{for(ke=X.key;F!==null;){if(F.key===ke)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){o(K,F.sibling),se=d(F,X.children||[]),se.return=K,K=se;break e}else{o(K,F);break}else s(K,F);F=F.sibling}se=km(X,K.mode,se),se.return=K,K=se}return E(K);case M:return X=Go(X),wt(K,F,X,se)}if(de(X))return Se(K,F,X,se);if(k(X)){if(ke=k(X),typeof ke!="function")throw Error(r(150));return X=ke.call(X),Pe(K,F,X,se)}if(typeof X.then=="function")return wt(K,F,$h(X),se);if(X.$$typeof===ne)return wt(K,F,zh(K,X),se);Kh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(o(K,F.sibling),se=d(F,X),se.return=K,K=se):(o(K,F),se=Lm(X,K.mode,se),se.return=K,K=se),E(K)):o(K,F)}return function(K,F,X,se){try{Qc=0;var ke=wt(K,F,X,se);return Vl=null,ke}catch(Ce){if(Ce===Pl||Ce===Fh)throw Ce;var ht=Kr(29,Ce,null,K.mode);return ht.lanes=se,ht.return=K,ht}finally{}}}var Ko=Xv(!0),Wv=Xv(!1),Pa=!1;function $m(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Km(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Va(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ua(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(pt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Vh(i),kv(i,null,o),s}return Ph(i,c,s,o),Vh(i)}function Xc(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Us(i,o)}}function Qm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Ym=!1;function Wc(){if(Ym){var i=jl;if(i!==null)throw i}}function Zc(i,s,o,c){Ym=!1;var d=i.updateQueue;Pa=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var B=C,W=B.next;B.next=null,E===null?g=W:E.next=W,E=B;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==E&&(C===null?ie.firstBaseUpdate=W:C.next=W,ie.lastBaseUpdate=B))}if(g!==null){var ce=d.baseState;E=0,ie=W=B=null,C=g;do{var J=C.lane&-536870913,re=J!==C.lane;if(re?(nt&J)===J:(c&J)===J){J!==0&&J===Ml&&(Ym=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=i,Pe=C;J=s;var wt=o;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){ce=Se.call(wt,ce,J);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,J=typeof Se=="function"?Se.call(wt,ce,J):Se,J==null)break e;ce=T({},ce,J);break e;case 2:Pa=!0}}J=C.callback,J!==null&&(i.flags|=64,re&&(i.flags|=8192),re=d.callbacks,re===null?d.callbacks=[J]:re.push(J))}else re={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(W=ie=re,B=ce):ie=ie.next=re,E|=J;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;re=C,C=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);ie===null&&(B=ce),d.baseState=B,d.firstBaseUpdate=W,d.lastBaseUpdate=ie,g===null&&(d.shared.lanes=0),Fa|=E,i.lanes=E,i.memoizedState=ce}}function Zv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Jv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Zv(o[i],s)}var Ul=V(null),Qh=V(0);function e1(i,s){i=aa,ue(Qh,i),ue(Ul,s),aa=i|s.baseLanes}function Xm(){ue(Qh,aa),ue(Ul,Ul.current)}function Wm(){aa=Qh.current,Y(Ul),Y(Qh)}var Qr=V(null),_i=null;function qa(i){var s=i.alternate;ue(an,an.current&1),ue(Qr,i),_i===null&&(s===null||Ul.current!==null||s.memoizedState!==null)&&(_i=i)}function Zm(i){ue(an,an.current),ue(Qr,i),_i===null&&(_i=i)}function t1(i){i.tag===22?(ue(an,an.current),ue(Qr,i),_i===null&&(_i=i)):Ba()}function Ba(){ue(an,an.current),ue(Qr,Qr.current)}function Yr(i){Y(Qr),_i===i&&(_i=null),Y(an)}var an=V(0);function Yh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ig(o)||sg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zs=0,Fe=null,Et=null,mn=null,Xh=!1,ql=!1,Qo=!1,Wh=0,Jc=0,Bl=null,X2=0;function en(){throw Error(r(321))}function Jm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!$r(i[o],s[o]))return!1;return!0}function ep(i,s,o,c,d,g){return Zs=g,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=i===null||i.memoizedState===null?V1:pp,Qo=!1,g=o(c,d),Qo=!1,ql&&(g=r1(s,o,c,d)),n1(i),g}function n1(i){z.H=nu;var s=Et!==null&&Et.next!==null;if(Zs=0,mn=Et=Fe=null,Xh=!1,Jc=0,Bl=null,s)throw Error(r(300));i===null||pn||(i=i.dependencies,i!==null&&Bh(i)&&(pn=!0))}function r1(i,s,o,c){Fe=i;var d=0;do{if(ql&&(Bl=null),Jc=0,ql=!1,25<=d)throw Error(r(301));if(d+=1,mn=Et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=U1,g=s(o,c)}while(ql);return g}function W2(){var i=z.H,s=i.useState()[0];return s=typeof s.then=="function"?eu(s):s,i=i.useState()[0],(Et!==null?Et.memoizedState:null)!==i&&(Fe.flags|=1024),s}function tp(){var i=Wh!==0;return Wh=0,i}function np(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function rp(i){if(Xh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xh=!1}Zs=0,mn=Et=Fe=null,ql=!1,Jc=Wh=0,Bl=null}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Fe.memoizedState=mn=i:mn=mn.next=i,mn}function on(){if(Et===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var s=mn===null?Fe.memoizedState:mn.next;if(s!==null)mn=s,Et=i;else{if(i===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},mn===null?Fe.memoizedState=mn=i:mn=mn.next=i}return mn}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(i){var s=Jc;return Jc+=1,Bl===null&&(Bl=[]),i=Kv(Bl,i,s),s=Fe,(mn===null?s.memoizedState:mn.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?V1:pp),i}function Jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return eu(i);if(i.$$typeof===ne)return zn(i)}throw Error(r(438,String(i)))}function ip(i){var s=null,o=Fe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Fe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zh(),Fe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=H;return s.index++,o}function Js(i,s){return typeof s=="function"?s(i):s}function ef(i){var s=on();return sp(s,Et,i)}function sp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}s.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var C=E=null,B=null,W=s,ie=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(nt&ce)===ce:(Zs&ce)===ce){var J=W.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===Ml&&(ie=!0);else if((Zs&J)===J){W=W.next,J===Ml&&(ie=!0);continue}else ce={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(C=B=ce,E=g):B=B.next=ce,Fe.lanes|=J,Fa|=J;ce=W.action,Qo&&o(g,ce),g=W.hasEagerState?W.eagerState:o(g,ce)}else J={lane:ce,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(C=B=J,E=g):B=B.next=J,Fe.lanes|=ce,Fa|=ce;W=W.next}while(W!==null&&W!==s);if(B===null?E=g:B.next=C,!$r(g,i.memoizedState)&&(pn=!0,ie&&(o=jl,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=B,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ap(i){var s=on(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);$r(g,s.memoizedState)||(pn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function i1(i,s,o){var c=Fe,d=on(),g=lt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!$r((Et||d).memoizedState,o);if(E&&(d.memoizedState=o,pn=!0),d=d.queue,cp(o1.bind(null,c,d,i),[i]),d.getSnapshot!==s||E||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,zl(9,{destroy:void 0},a1.bind(null,c,d,o,s),null),At===null)throw Error(r(349));g||(Zs&127)!==0||s1(c,s,o)}return o}function s1(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Fe.updateQueue,s===null?(s=Zh(),Fe.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function a1(i,s,o,c){s.value=o,s.getSnapshot=c,l1(s)&&c1(i)}function o1(i,s,o){return o(function(){l1(s)&&c1(i)})}function l1(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!$r(i,o)}catch{return!0}}function c1(i){var s=Uo(i,2);s!==null&&Lr(s,i,2)}function op(i){var s=yr();if(typeof i=="function"){var o=i;if(i=o(),Qo){En(!0);try{o()}finally{En(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:i},s}function u1(i,s,o,c){return i.baseState=o,sp(i,Et,typeof c=="function"?c:Js)}function Z2(i,s,o,c,d){if(rf(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};z.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,h1(s,g)):(g.next=o.next,s.pending=o.next=g)}}function h1(i,s){var o=s.action,c=s.payload,d=i.state;if(s.isTransition){var g=z.T,E={};z.T=E;try{var C=o(d,c),B=z.S;B!==null&&B(E,C),f1(i,s,C)}catch(W){lp(i,s,W)}finally{g!==null&&E.types!==null&&(g.types=E.types),z.T=g}}else try{g=o(d,c),f1(i,s,g)}catch(W){lp(i,s,W)}}function f1(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){d1(i,s,c)},function(c){return lp(i,s,c)}):d1(i,s,o)}function d1(i,s,o){s.status="fulfilled",s.value=o,m1(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,h1(i,o)))}function lp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,m1(s),s=s.next;while(s!==c)}i.action=null}function m1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function p1(i,s){return s}function g1(i,s){if(lt){var o=At.formState;if(o!==null){e:{var c=Fe;if(lt){if(kt){t:{for(var d=kt,g=bi;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ei(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){kt=Ei(d.nextSibling),c=d.data==="F!";break e}}Ma(c)}c=!1}c&&(s=o[0])}}return o=yr(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p1,lastRenderedState:s},o.queue=c,o=M1.bind(null,Fe,c),c.dispatch=o,c=op(!1),g=mp.bind(null,Fe,!1,c.queue),c=yr(),d={state:s,dispatch:null,action:i,pending:null},c.queue=d,o=Z2.bind(null,Fe,d,g,o),d.dispatch=o,c.memoizedState=i,[s,o,!1]}function y1(i){var s=on();return v1(s,Et,i)}function v1(i,s,o){if(s=sp(i,s,p1)[0],i=ef(Js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=eu(s)}catch(E){throw E===Pl?Fh:E}else c=s;s=on();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Fe.flags|=2048,zl(9,{destroy:void 0},J2.bind(null,d,o),null)),[c,g,i]}function J2(i,s){i.action=s}function b1(i){var s=on(),o=Et;if(o!==null)return v1(s,o,i);on(),s=s.memoizedState,o=on();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function zl(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Zh(),Fe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function _1(){return on().memoizedState}function tf(i,s,o,c){var d=yr();Fe.flags|=i,d.memoizedState=zl(1|s,{destroy:void 0},o,c===void 0?null:c)}function nf(i,s,o,c){var d=on();c=c===void 0?null:c;var g=d.memoizedState.inst;Et!==null&&c!==null&&Jm(c,Et.memoizedState.deps)?d.memoizedState=zl(s,g,o,c):(Fe.flags|=i,d.memoizedState=zl(1|s,g,o,c))}function E1(i,s){tf(8390656,8,i,s)}function cp(i,s){nf(2048,8,i,s)}function eN(i){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=Zh(),Fe.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function T1(i){var s=on().memoizedState;return eN({ref:s,nextImpl:i}),function(){if((pt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function w1(i,s){return nf(4,2,i,s)}function x1(i,s){return nf(4,4,i,s)}function A1(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function S1(i,s,o){o=o!=null?o.concat([i]):null,nf(4,4,A1.bind(null,s,i),o)}function up(){}function N1(i,s){var o=on();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Jm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function C1(i,s){var o=on();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Jm(s,c[1]))return c[0];if(c=i(),Qo){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[c,s],c}function hp(i,s,o){return o===void 0||(Zs&1073741824)!==0&&(nt&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=Rb(),Fe.lanes|=i,Fa|=i,o)}function R1(i,s,o,c){return $r(o,s)?o:Ul.current!==null?(i=hp(i,o,c),$r(i,s)||(pn=!0),i):(Zs&42)===0||(Zs&1073741824)!==0&&(nt&261930)===0?(pn=!0,i.memoizedState=o):(i=Rb(),Fe.lanes|=i,Fa|=i,s)}function I1(i,s,o,c,d){var g=Z.p;Z.p=g!==0&&8>g?g:8;var E=z.T,C={};z.T=C,mp(i,!1,s,o);try{var B=d(),W=z.S;if(W!==null&&W(C,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=Y2(B,c);tu(i,s,ie,Zr(i))}else tu(i,s,c,Zr(i))}catch(ce){tu(i,s,{then:function(){},status:"rejected",reason:ce},Zr())}finally{Z.p=g,E!==null&&C.types!==null&&(E.types=C.types),z.T=E}}function tN(){}function fp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var d=O1(i).queue;I1(i,d,s,le,o===null?tN:function(){return D1(i),o(c)})}function O1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:le},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function D1(i){var s=O1(i);s.next===null&&(s=i.alternate.memoizedState),tu(i,s.next.queue,{},Zr())}function dp(){return zn(vu)}function L1(){return on().memoizedState}function k1(){return on().memoizedState}function nN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Zr();i=Va(o);var c=Ua(s,i,o);c!==null&&(Lr(c,s,o),Xc(c,s,o)),s={cache:zm()},i.payload=s;return}s=s.return}}function rN(i,s,o){var c=Zr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rf(i)?j1(s,o):(o=Om(i,s,o,c),o!==null&&(Lr(o,i,c),P1(o,s,c)))}function M1(i,s,o){var c=Zr();tu(i,s,o,c)}function tu(i,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(rf(i))j1(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,C=g(E,o);if(d.hasEagerState=!0,d.eagerState=C,$r(C,E))return Ph(i,s,d,0),At===null&&jh(),!1}catch{}finally{}if(o=Om(i,s,d,c),o!==null)return Lr(o,i,c),P1(o,s,c),!0}return!1}function mp(i,s,o,c){if(c={lane:2,revertLane:$p(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},rf(i)){if(s)throw Error(r(479))}else s=Om(i,o,c,2),s!==null&&Lr(s,i,2)}function rf(i){var s=i.alternate;return i===Fe||s!==null&&s===Fe}function j1(i,s){ql=Xh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function P1(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Us(i,o)}}var nu={readContext:zn,use:Jh,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};nu.useEffectEvent=en;var V1={readContext:zn,use:Jh,useCallback:function(i,s){return yr().memoizedState=[i,s===void 0?null:s],i},useContext:zn,useEffect:E1,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,tf(4194308,4,A1.bind(null,s,i),o)},useLayoutEffect:function(i,s){return tf(4194308,4,i,s)},useInsertionEffect:function(i,s){tf(4,2,i,s)},useMemo:function(i,s){var o=yr();s=s===void 0?null:s;var c=i();if(Qo){En(!0);try{i()}finally{En(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=yr();if(o!==void 0){var d=o(s);if(Qo){En(!0);try{o(s)}finally{En(!1)}}}else d=s;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=rN.bind(null,Fe,i),[c.memoizedState,i]},useRef:function(i){var s=yr();return i={current:i},s.memoizedState=i},useState:function(i){i=op(i);var s=i.queue,o=M1.bind(null,Fe,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:up,useDeferredValue:function(i,s){var o=yr();return hp(o,i,s)},useTransition:function(){var i=op(!1);return i=I1.bind(null,Fe,i.queue,!0,!1),yr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Fe,d=yr();if(lt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),At===null)throw Error(r(349));(nt&127)!==0||s1(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,E1(o1.bind(null,c,g,i),[i]),c.flags|=2048,zl(9,{destroy:void 0},a1.bind(null,c,g,o,s),null),o},useId:function(){var i=yr(),s=At.identifierPrefix;if(lt){var o=ms,c=ds;o=(c&~(1<<32-Ct(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Wh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=X2++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:dp,useFormState:g1,useActionState:g1,useOptimistic:function(i){var s=yr();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=mp.bind(null,Fe,!0,o),o.dispatch=s,[i,s]},useMemoCache:ip,useCacheRefresh:function(){return yr().memoizedState=nN.bind(null,Fe)},useEffectEvent:function(i){var s=yr(),o={impl:i};return s.memoizedState=o,function(){if((pt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},pp={readContext:zn,use:Jh,useCallback:N1,useContext:zn,useEffect:cp,useImperativeHandle:S1,useInsertionEffect:w1,useLayoutEffect:x1,useMemo:C1,useReducer:ef,useRef:_1,useState:function(){return ef(Js)},useDebugValue:up,useDeferredValue:function(i,s){var o=on();return R1(o,Et.memoizedState,i,s)},useTransition:function(){var i=ef(Js)[0],s=on().memoizedState;return[typeof i=="boolean"?i:eu(i),s]},useSyncExternalStore:i1,useId:L1,useHostTransitionStatus:dp,useFormState:y1,useActionState:y1,useOptimistic:function(i,s){var o=on();return u1(o,Et,i,s)},useMemoCache:ip,useCacheRefresh:k1};pp.useEffectEvent=T1;var U1={readContext:zn,use:Jh,useCallback:N1,useContext:zn,useEffect:cp,useImperativeHandle:S1,useInsertionEffect:w1,useLayoutEffect:x1,useMemo:C1,useReducer:ap,useRef:_1,useState:function(){return ap(Js)},useDebugValue:up,useDeferredValue:function(i,s){var o=on();return Et===null?hp(o,i,s):R1(o,Et.memoizedState,i,s)},useTransition:function(){var i=ap(Js)[0],s=on().memoizedState;return[typeof i=="boolean"?i:eu(i),s]},useSyncExternalStore:i1,useId:L1,useHostTransitionStatus:dp,useFormState:b1,useActionState:b1,useOptimistic:function(i,s){var o=on();return Et!==null?u1(o,Et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ip,useCacheRefresh:k1};U1.useEffectEvent=T1;function gp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:T({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var yp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=Zr(),d=Va(c);d.payload=s,o!=null&&(d.callback=o),s=Ua(i,d,c),s!==null&&(Lr(s,i,c),Xc(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=Zr(),d=Va(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Ua(i,d,c),s!==null&&(Lr(s,i,c),Xc(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Zr(),c=Va(o);c.tag=2,s!=null&&(c.callback=s),s=Ua(i,c,o),s!==null&&(Lr(s,i,o),Xc(s,i,o))}};function q1(i,s,o,c,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!zc(o,c)||!zc(d,g):!0}function B1(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&yp.enqueueReplaceState(s,s.state,null)}function Yo(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=T({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function z1(i){Mh(i)}function H1(i){console.error(i)}function F1(i){Mh(i)}function sf(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function G1(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vp(i,s,o){return o=Va(o),o.tag=3,o.payload={element:null},o.callback=function(){sf(i,s)},o}function $1(i){return i=Va(i),i.tag=3,i}function K1(i,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){G1(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){G1(s,o,c),typeof d!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function iN(i,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&kl(s,o,d,!0),o=Qr.current,o!==null){switch(o.tag){case 31:case 13:return _i===null?yf():o.alternate===null&&tn===0&&(tn=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Gh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Hp(i,c,d)),!1;case 22:return o.flags|=65536,c===Gh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Hp(i,c,d)),!1}throw Error(r(435,o.tag))}return Hp(i,c,d),yf(),!1}if(lt)return s=Qr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Pm&&(i=Error(r(422),{cause:c}),Gc(gi(i,o)))):(c!==Pm&&(s=Error(r(423),{cause:c}),Gc(gi(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=gi(c,o),d=vp(i.stateNode,c,d),Qm(i,d),tn!==4&&(tn=2)),!1;var g=Error(r(520),{cause:c});if(g=gi(g,o),uu===null?uu=[g]:uu.push(g),tn!==4&&(tn=2),s===null)return!0;c=gi(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=vp(o.stateNode,c,i),Qm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ga===null||!Ga.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$1(d),K1(d,i,o,c),Qm(o,d),!1}o=o.return}while(o!==null);return!1}var bp=Error(r(461)),pn=!1;function Hn(i,s,o,c){s.child=i===null?Wv(s,null,o,c):Ko(s,i.child,o,c)}function Q1(i,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var E={};for(var C in c)C!=="ref"&&(E[C]=c[C])}else E=c;return Ho(s),c=ep(i,s,o,E,g,d),C=tp(),i!==null&&!pn?(np(i,s,d),ea(i,s,d)):(lt&&C&&Mm(s),s.flags|=1,Hn(i,s,c,d),s.child)}function Y1(i,s,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!Dm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,X1(i,s,g,c,d)):(i=Uh(o.type,null,c,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Np(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:zc,o(E,c)&&i.ref===s.ref)return ea(i,s,d)}return s.flags|=1,i=Qs(g,c),i.ref=s.ref,i.return=s,s.child=i}function X1(i,s,o,c,d){if(i!==null){var g=i.memoizedProps;if(zc(g,c)&&i.ref===s.ref)if(pn=!1,s.pendingProps=c=g,Np(i,d))(i.flags&131072)!==0&&(pn=!0);else return s.lanes=i.lanes,ea(i,s,d)}return _p(i,s,o,c,d)}function W1(i,s,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,s.child=null;return Z1(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hh(s,g!==null?g.cachePool:null),g!==null?e1(s,g):Xm(),t1(s);else return c=s.lanes=536870912,Z1(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Hh(s,g.cachePool),e1(s,g),Ba(),s.memoizedState=null):(i!==null&&Hh(s,null),Xm(),Ba());return Hn(i,s,d,o),s.child}function ru(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Z1(i,s,o,c,d){var g=Fm();return g=g===null?null:{parent:dn._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Hh(s,null),Xm(),t1(s),i!==null&&kl(i,s,c,!0),s.childLanes=d,null}function af(i,s){return s=lf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function J1(i,s,o){return Ko(s,i.child,null,o),i=af(s,s.pendingProps),i.flags|=2,Yr(s),s.memoizedState=null,i}function sN(i,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(lt){if(c.mode==="hidden")return i=af(s,c),s.lanes=536870912,ru(null,i);if(Zm(s),(i=kt)?(i=h_(i,bi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:La!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=jv(i),o.return=s,s.child=o,Bn=s,kt=null)):i=null,i===null)throw Ma(s);return s.lanes=536870912,null}return af(s,c)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(Zm(s),d)if(s.flags&256)s.flags&=-257,s=J1(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(pn||kl(i,s,o,!1),d=(o&i.childLanes)!==0,pn||d){if(c=At,c!==null&&(E=qs(c,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,Uo(i,E),Lr(c,i,E),bp;yf(),s=J1(i,s,o)}else i=g.treeContext,kt=Ei(E.nextSibling),Bn=s,lt=!0,ka=null,bi=!1,i!==null&&Uv(s,i),s=af(s,c),s.flags|=4096;return s}return i=Qs(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function of(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function _p(i,s,o,c,d){return Ho(s),o=ep(i,s,o,c,void 0,d),c=tp(),i!==null&&!pn?(np(i,s,d),ea(i,s,d)):(lt&&c&&Mm(s),s.flags|=1,Hn(i,s,o,d),s.child)}function eb(i,s,o,c,d,g){return Ho(s),s.updateQueue=null,o=r1(s,c,o,d),n1(i),c=tp(),i!==null&&!pn?(np(i,s,g),ea(i,s,g)):(lt&&c&&Mm(s),s.flags|=1,Hn(i,s,o,g),s.child)}function tb(i,s,o,c,d){if(Ho(s),s.stateNode===null){var g=Il,E=o.contextType;typeof E=="object"&&E!==null&&(g=zn(E)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=yp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},$m(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?zn(E):Il,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(gp(s,o,E,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&yp.enqueueReplaceState(g,g.state,null),Zc(s,c,g,d),Wc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var C=s.memoizedProps,B=Yo(o,C);g.props=B;var W=g.context,ie=o.contextType;E=Il,typeof ie=="object"&&ie!==null&&(E=zn(ie));var ce=o.getDerivedStateFromProps;ie=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||W!==E)&&B1(s,g,c,E),Pa=!1;var J=s.memoizedState;g.state=J,Zc(s,c,g,d),Wc(),W=s.memoizedState,C||J!==W||Pa?(typeof ce=="function"&&(gp(s,o,ce,c),W=s.memoizedState),(B=Pa||q1(s,o,B,c,J,W,E))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),g.props=c,g.state=W,g.context=E,c=B):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Km(i,s),E=s.memoizedProps,ie=Yo(o,E),g.props=ie,ce=s.pendingProps,J=g.context,W=o.contextType,B=Il,typeof W=="object"&&W!==null&&(B=zn(W)),C=o.getDerivedStateFromProps,(W=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ce||J!==B)&&B1(s,g,c,B),Pa=!1,J=s.memoizedState,g.state=J,Zc(s,c,g,d),Wc();var re=s.memoizedState;E!==ce||J!==re||Pa||i!==null&&i.dependencies!==null&&Bh(i.dependencies)?(typeof C=="function"&&(gp(s,o,C,c),re=s.memoizedState),(ie=Pa||q1(s,o,ie,c,J,re,B)||i!==null&&i.dependencies!==null&&Bh(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,re,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,re,B)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),g.props=c,g.state=re,g.context=B,c=ie):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,of(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Ko(s,i.child,null,d),s.child=Ko(s,null,o,d)):Hn(i,s,o,d),s.memoizedState=g.state,i=s.child):i=ea(i,s,d),i}function nb(i,s,o,c){return Bo(),s.flags|=256,Hn(i,s,o,c),s.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(i){return{baseLanes:i,cachePool:Gv()}}function wp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Wr),i}function rb(i,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(an.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(lt){if(d?qa(s):Ba(),(i=kt)?(i=h_(i,bi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:La!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=jv(i),o.return=s,s.child=o,Bn=s,kt=null)):i=null,i===null)throw Ma(s);return sg(i)?s.lanes=32:s.lanes=536870912,null}var C=c.children;return c=c.fallback,d?(Ba(),d=s.mode,C=lf({mode:"hidden",children:C},d),c=qo(c,d,o,null),C.return=s,c.return=s,C.sibling=c,s.child=C,c=s.child,c.memoizedState=Tp(o),c.childLanes=wp(i,E,o),s.memoizedState=Ep,ru(null,c)):(qa(s),xp(s,C))}var B=i.memoizedState;if(B!==null&&(C=B.dehydrated,C!==null)){if(g)s.flags&256?(qa(s),s.flags&=-257,s=Ap(i,s,o)):s.memoizedState!==null?(Ba(),s.child=i.child,s.flags|=128,s=null):(Ba(),C=c.fallback,d=s.mode,c=lf({mode:"visible",children:c.children},d),C=qo(C,d,o,null),C.flags|=2,c.return=s,C.return=s,c.sibling=C,s.child=c,Ko(s,i.child,null,o),c=s.child,c.memoizedState=Tp(o),c.childLanes=wp(i,E,o),s.memoizedState=Ep,s=ru(null,c));else if(qa(s),sg(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var W=E.dgst;E=W,c=Error(r(419)),c.stack="",c.digest=E,Gc({value:c,source:null,stack:null}),s=Ap(i,s,o)}else if(pn||kl(i,s,o,!1),E=(o&i.childLanes)!==0,pn||E){if(E=At,E!==null&&(c=qs(E,o),c!==0&&c!==B.retryLane))throw B.retryLane=c,Uo(i,c),Lr(E,i,c),bp;ig(C)||yf(),s=Ap(i,s,o)}else ig(C)?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,kt=Ei(C.nextSibling),Bn=s,lt=!0,ka=null,bi=!1,i!==null&&Uv(s,i),s=xp(s,c.children),s.flags|=4096);return s}return d?(Ba(),C=c.fallback,d=s.mode,B=i.child,W=B.sibling,c=Qs(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,W!==null?C=Qs(W,C):(C=qo(C,d,o,null),C.flags|=2),C.return=s,c.return=s,c.sibling=C,s.child=c,ru(null,c),c=s.child,C=i.child.memoizedState,C===null?C=Tp(o):(d=C.cachePool,d!==null?(B=dn._currentValue,d=d.parent!==B?{parent:B,pool:B}:d):d=Gv(),C={baseLanes:C.baseLanes|o,cachePool:d}),c.memoizedState=C,c.childLanes=wp(i,E,o),s.memoizedState=Ep,ru(i.child,c)):(qa(s),o=i.child,i=o.sibling,o=Qs(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function xp(i,s){return s=lf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function lf(i,s){return i=Kr(22,i,null,s),i.lanes=0,i}function Ap(i,s,o){return Ko(s,i.child,null,o),i=xp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function ib(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),qm(i.return,s,o)}function Sp(i,s,o,c,d,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=d,E.treeForkCount=g)}function sb(i,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var E=an.current,C=(E&2)!==0;if(C?(E=E&1|2,s.flags|=128):E&=1,ue(an,E),Hn(i,s,c,o),c=lt?Fc:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ib(i,o,s);else if(i.tag===19)ib(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Yh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Sp(s,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Yh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Sp(s,!0,o,null,g,c);break;case"together":Sp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function ea(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Fa|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(kl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Qs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Qs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Np(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bh(i)))}function aN(i,s,o){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),ja(s,dn,i.memoizedState.cache),Bo();break;case 27:case 5:Ke(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:ja(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(qa(s),s.flags|=128,null):(o&s.child.childLanes)!==0?rb(i,s,o):(qa(s),i=ea(i,s,o),i!==null?i.sibling:null);qa(s);break;case 19:var d=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(kl(i,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return sb(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(an,an.current),c)break;return null;case 22:return s.lanes=0,W1(i,s,o,s.pendingProps);case 24:ja(s,dn,i.memoizedState.cache)}return ea(i,s,o)}function ab(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)pn=!0;else{if(!Np(i,o)&&(s.flags&128)===0)return pn=!1,aN(i,s,o);pn=(i.flags&131072)!==0}else pn=!1,lt&&(s.flags&1048576)!==0&&Vv(s,Fc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Go(s.elementType),s.type=i,typeof i=="function")Dm(i)?(c=Yo(i,c),s.tag=1,s=tb(null,s,i,c,o)):(s.tag=0,s=_p(null,s,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===be){s.tag=11,s=Q1(null,s,i,c,o);break e}else if(d===j){s.tag=14,s=Y1(null,s,i,c,o);break e}}throw s=me(i)||i,Error(r(306,s,""))}}return s;case 0:return _p(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Yo(c,s.pendingProps),tb(i,s,c,d,o);case 3:e:{if(Ie(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,Km(i,s),Zc(s,c,null,o);var E=s.memoizedState;if(c=E.cache,ja(s,dn,c),c!==g.cache&&Bm(s,[dn],o,!0),Wc(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=nb(i,s,c,o);break e}else if(c!==d){d=gi(Error(r(424)),s),Gc(d),s=nb(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=Ei(i.firstChild),Bn=s,lt=!0,ka=null,bi=!0,o=Wv(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bo(),c===d){s=ea(i,s,o);break e}Hn(i,s,c,o)}s=s.child}return s;case 26:return of(i,s),i===null?(o=y_(s.type,null,s.pendingProps,null))?s.memoizedState=o:lt||(o=s.type,i=s.pendingProps,c=xf(xe.current).createElement(o),c[Ut]=s,c[Zt]=i,Fn(c,o,i),qt(c),s.stateNode=c):s.memoizedState=y_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ke(s),i===null&&lt&&(c=s.stateNode=m_(s.type,s.pendingProps,xe.current),Bn=s,bi=!0,d=kt,Ya(s.type)?(ag=d,kt=Ei(c.firstChild)):kt=d),Hn(i,s,s.pendingProps.children,o),of(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&lt&&((d=c=kt)&&(c=jN(c,s.type,s.pendingProps,bi),c!==null?(s.stateNode=c,Bn=s,kt=Ei(c.firstChild),bi=!1,d=!0):d=!1),d||Ma(s)),Ke(s),d=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,c=g.children,tg(d,g)?c=null:E!==null&&tg(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=ep(i,s,W2,null,null,o),vu._currentValue=d),of(i,s),Hn(i,s,c,o),s.child;case 6:return i===null&&lt&&((i=o=kt)&&(o=PN(o,s.pendingProps,bi),o!==null?(s.stateNode=o,Bn=s,kt=null,i=!0):i=!1),i||Ma(s)),null;case 13:return rb(i,s,o);case 4:return Ie(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ko(s,null,c,o):Hn(i,s,c,o),s.child;case 11:return Q1(i,s,s.type,s.pendingProps,o);case 7:return Hn(i,s,s.pendingProps,o),s.child;case 8:return Hn(i,s,s.pendingProps.children,o),s.child;case 12:return Hn(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ja(s,s.type,c.value),Hn(i,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Ho(s),d=zn(d),c=c(d),s.flags|=1,Hn(i,s,c,o),s.child;case 14:return Y1(i,s,s.type,s.pendingProps,o);case 15:return X1(i,s,s.type,s.pendingProps,o);case 19:return sb(i,s,o);case 31:return sN(i,s,o);case 22:return W1(i,s,o,s.pendingProps);case 24:return Ho(s),c=zn(dn),i===null?(d=Fm(),d===null&&(d=At,g=zm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},$m(s),ja(s,dn,d)):((i.lanes&o)!==0&&(Km(i,s),Zc(s,null,null,o),Wc()),d=i.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ja(s,dn,c)):(c=g.cache,ja(s,dn,c),c!==d.cache&&Bm(s,[dn],o,!0))),Hn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ta(i){i.flags|=4}function Cp(i,s,o,c,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(Lb())i.flags|=8192;else throw $o=Gh,Gm}else i.flags&=-16777217}function ob(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!T_(s))if(Lb())i.flags|=8192;else throw $o=Gh,Gm}function cf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?is():536870912,i.lanes|=s,$l|=s)}function iu(i,s){if(!lt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Mt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function oN(i,s,o){var c=s.pendingProps;switch(jm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Mt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ws(dn),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ll(s)?ta(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vm())),Mt(s),null;case 26:var d=s.type,g=s.memoizedState;return i===null?(ta(s),g!==null?(Mt(s),ob(s,g)):(Mt(s),Cp(s,d,null,c,o))):g?g!==i.memoizedState?(ta(s),Mt(s),ob(s,g)):(Mt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&ta(s),Mt(s),Cp(s,d,i,c,o)),null;case 27:if(We(s),o=xe.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&ta(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Mt(s),null}i=fe.current,Ll(s)?qv(s):(i=m_(d,c,o),s.stateNode=i,ta(s))}return Mt(s),null;case 5:if(We(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&ta(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Mt(s),null}if(g=fe.current,Ll(s))qv(s);else{var E=xf(xe.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?E.createElement(d,{is:c.is}):E.createElement(d)}}g[Ut]=s,g[Zt]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;e:switch(Fn(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ta(s)}}return Mt(s),Cp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&ta(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=xe.current,Ll(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,d=Bn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Ut]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||r_(i.nodeValue,o)),i||Ma(s,!0)}else i=xf(i).createTextNode(c),i[Ut]=s,s.stateNode=i}return Mt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Ll(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ut]=s}else Bo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),i=!1}else o=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Yr(s),s):(Yr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Mt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ll(s),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ut]=s}else Bo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),d=!1}else d=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Yr(s),s):(Yr(s),null)}return Yr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),cf(s,s.updateQueue),Mt(s),null);case 4:return Le(),i===null&&Xp(s.stateNode.containerInfo),Mt(s),null;case 10:return Ws(s.type),Mt(s),null;case 19:if(Y(an),c=s.memoizedState,c===null)return Mt(s),null;if(d=(s.flags&128)!==0,g=c.rendering,g===null)if(d)iu(c,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Yh(i),g!==null){for(s.flags|=128,iu(c,!1),i=g.updateQueue,s.updateQueue=i,cf(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Mv(o,i),o=o.sibling;return ue(an,an.current&1|2),lt&&Ys(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&Nt()>mf&&(s.flags|=128,d=!0,iu(c,!1),s.lanes=4194304)}else{if(!d)if(i=Yh(g),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,cf(s,i),iu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!lt)return Mt(s),null}else 2*Nt()-c.renderingStartTime>mf&&o!==536870912&&(s.flags|=128,d=!0,iu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Nt(),i.sibling=null,o=an.current,ue(an,d?o&1|2:o&1),lt&&Ys(s,c.treeForkCount),i):(Mt(s),null);case 22:case 23:return Yr(s),Wm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),o=s.updateQueue,o!==null&&cf(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&Y(Fo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ws(dn),Mt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function lN(i,s){switch(jm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ws(dn),Le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return We(s),null;case 31:if(s.memoizedState!==null){if(Yr(s),s.alternate===null)throw Error(r(340));Bo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Bo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(an),null;case 4:return Le(),null;case 10:return Ws(s.type),null;case 22:case 23:return Yr(s),Wm(),i!==null&&Y(Fo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ws(dn),null;case 25:return null;default:return null}}function lb(i,s){switch(jm(s),s.tag){case 3:Ws(dn),Le();break;case 26:case 27:case 5:We(s);break;case 4:Le();break;case 31:s.memoizedState!==null&&Yr(s);break;case 13:Yr(s);break;case 19:Y(an);break;case 10:Ws(s.type);break;case 22:case 23:Yr(s),Wm(),i!==null&&Y(Fo);break;case 24:Ws(dn)}}function su(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==d)}}catch(C){bt(s,s.return,C)}}function za(i,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var E=c.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,d=s;var B=o,W=C;try{W()}catch(ie){bt(d,B,ie)}}}c=c.next}while(c!==g)}}catch(ie){bt(s,s.return,ie)}}function cb(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Jv(s,o)}catch(c){bt(i,i.return,c)}}}function ub(i,s,o){o.props=Yo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){bt(i,s,c)}}function au(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){bt(i,s,d)}}function ps(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){bt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){bt(i,s,d)}else o.current=null}function hb(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){bt(i,i.return,d)}}function Rp(i,s,o){try{var c=i.stateNode;IN(c,i.type,o,s),c[Zt]=s}catch(d){bt(i,i.return,d)}}function fb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ya(i.type)||i.tag===4}function Ip(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||fb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ya(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=er));else if(c!==4&&(c===27&&Ya(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Op(i,s,o),i=i.sibling;i!==null;)Op(i,s,o),i=i.sibling}function uf(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Ya(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(uf(i,s,o),i=i.sibling;i!==null;)uf(i,s,o),i=i.sibling}function db(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Fn(s,c,o),s[Ut]=i,s[Zt]=o}catch(g){bt(i,i.return,g)}}var na=!1,gn=!1,Dp=!1,mb=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function cN(i,s){if(i=i.containerInfo,Jp=Of,i=Sv(i),Am(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,C=-1,B=-1,W=0,ie=0,ce=i,J=null;t:for(;;){for(var re;ce!==o||d!==0&&ce.nodeType!==3||(C=E+d),ce!==g||c!==0&&ce.nodeType!==3||(B=E+c),ce.nodeType===3&&(E+=ce.nodeValue.length),(re=ce.firstChild)!==null;)J=ce,ce=re;for(;;){if(ce===i)break t;if(J===o&&++W===d&&(C=E),J===g&&++ie===c&&(B=E),(re=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=re}o=C===-1||B===-1?null:{start:C,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(eg={focusedElem:i,selectionRange:o},Of=!1,Rn=s;Rn!==null;)if(s=Rn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Rn=i;else for(;Rn!==null;){switch(s=Rn,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Se=Yo(o.type,d);i=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){bt(o,o.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)rg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Rn=i;break}Rn=s.return}}function pb(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ia(i,o),c&4&&su(5,o);break;case 1:if(ia(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){bt(o,o.return,E)}else{var d=Yo(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){bt(o,o.return,E)}}c&64&&cb(o),c&512&&au(o,o.return);break;case 3:if(ia(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Jv(i,s)}catch(E){bt(o,o.return,E)}}break;case 27:s===null&&c&4&&db(o);case 26:case 5:ia(i,o),s===null&&c&4&&hb(o),c&512&&au(o,o.return);break;case 12:ia(i,o);break;case 31:ia(i,o),c&4&&vb(i,o);break;case 13:ia(i,o),c&4&&bb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=vN.bind(null,o),VN(i,o))));break;case 22:if(c=o.memoizedState!==null||na,!c){s=s!==null&&s.memoizedState!==null||gn,d=na;var g=gn;na=c,(gn=s)&&!g?sa(i,o,(o.subtreeFlags&8772)!==0):ia(i,o),na=d,gn=g}break;case 30:break;default:ia(i,o)}}function gb(i){var s=i.alternate;s!==null&&(i.alternate=null,gb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ss(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,Rr=!1;function ra(i,s,o){for(o=o.child;o!==null;)yb(i,s,o),o=o.sibling}function yb(i,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ur,o)}catch{}switch(o.tag){case 26:gn||ps(o,s),ra(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gn||ps(o,s);var c=Gt,d=Rr;Ya(o.type)&&(Gt=o.stateNode,Rr=!1),ra(i,s,o),pu(o.stateNode),Gt=c,Rr=d;break;case 5:gn||ps(o,s);case 6:if(c=Gt,d=Rr,Gt=null,ra(i,s,o),Gt=c,Rr=d,Gt!==null)if(Rr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(g){bt(o,s,g)}else try{Gt.removeChild(o.stateNode)}catch(g){bt(o,s,g)}break;case 18:Gt!==null&&(Rr?(i=Gt,c_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ec(i)):c_(Gt,o.stateNode));break;case 4:c=Gt,d=Rr,Gt=o.stateNode.containerInfo,Rr=!0,ra(i,s,o),Gt=c,Rr=d;break;case 0:case 11:case 14:case 15:za(2,o,s),gn||za(4,o,s),ra(i,s,o);break;case 1:gn||(ps(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ub(o,s,c)),ra(i,s,o);break;case 21:ra(i,s,o);break;case 22:gn=(c=gn)||o.memoizedState!==null,ra(i,s,o),gn=c;break;default:ra(i,s,o)}}function vb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ec(i)}catch(o){bt(s,s.return,o)}}}function bb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ec(i)}catch(o){bt(s,s.return,o)}}function uN(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new mb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new mb),s;default:throw Error(r(435,i.tag))}}function hf(i,s){var o=uN(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=bN.bind(null,i,c);c.then(d,d)}})}function Ir(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Ya(C.type)){Gt=C.stateNode,Rr=!1;break e}break;case 5:Gt=C.stateNode,Rr=!1;break e;case 3:case 4:Gt=C.stateNode.containerInfo,Rr=!0;break e}C=C.return}if(Gt===null)throw Error(r(160));yb(g,E,d),Gt=null,Rr=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)_b(s,i),s=s.sibling}var Hi=null;function _b(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ir(s,i),Or(i),c&4&&(za(3,i,i.return),su(3,i),za(5,i,i.return));break;case 1:Ir(s,i),Or(i),c&512&&(gn||o===null||ps(o,o.return)),c&64&&na&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Hi;if(Ir(s,i),Or(i),c&512&&(gn||o===null||ps(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[xr]||g[Ut]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Fn(g,c,o),g[Ut]=i,qt(g),c=g;break e;case"link":var E=__("link","href",d).get(c+(o.href||""));if(E){for(var C=0;C<E.length;C++)if(g=E[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(C,1);break t}}g=d.createElement(c),Fn(g,c,o),d.head.appendChild(g);break;case"meta":if(E=__("meta","content",d).get(c+(o.content||""))){for(C=0;C<E.length;C++)if(g=E[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(C,1);break t}}g=d.createElement(c),Fn(g,c,o),d.head.appendChild(g);break;default:throw Error(r(468,c))}g[Ut]=i,qt(g),c=g}i.stateNode=c}else E_(d,i.type,i.stateNode);else i.stateNode=b_(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?E_(d,i.type,i.stateNode):b_(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Rp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ir(s,i),Or(i),c&512&&(gn||o===null||ps(o,o.return)),o!==null&&c&4&&Rp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ir(s,i),Or(i),c&512&&(gn||o===null||ps(o,o.return)),i.flags&32){d=i.stateNode;try{zt(d,"")}catch(Se){bt(i,i.return,Se)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,Rp(i,d,o!==null?o.memoizedProps:d)),c&1024&&(Dp=!0);break;case 6:if(Ir(s,i),Or(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Se){bt(i,i.return,Se)}}break;case 3:if(Nf=null,d=Hi,Hi=Af(s.containerInfo),Ir(s,i),Hi=d,Or(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ec(s.containerInfo)}catch(Se){bt(i,i.return,Se)}Dp&&(Dp=!1,Eb(i));break;case 4:c=Hi,Hi=Af(i.stateNode.containerInfo),Ir(s,i),Or(i),Hi=c;break;case 12:Ir(s,i),Or(i);break;case 31:Ir(s,i),Or(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hf(i,c)));break;case 13:Ir(s,i),Or(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(df=Nt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hf(i,c)));break;case 22:d=i.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,W=na,ie=gn;if(na=W||d,gn=ie||B,Ir(s,i),gn=ie,na=W,Or(i),c&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||B||na||gn||Xo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(g=B.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=B.stateNode;var ce=B.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Se){bt(B,B.return,Se)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=d?"":B.memoizedProps}catch(Se){bt(B,B.return,Se)}}}else if(s.tag===18){if(o===null){B=s;try{var re=B.stateNode;d?u_(re,!0):u_(B.stateNode,!1)}catch(Se){bt(B,B.return,Se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,hf(i,o))));break;case 19:Ir(s,i),Or(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hf(i,c)));break;case 30:break;case 21:break;default:Ir(s,i),Or(i)}}function Or(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(fb(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Ip(i);uf(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(zt(E,""),o.flags&=-33);var C=Ip(i);uf(i,C,E);break;case 3:case 4:var B=o.stateNode.containerInfo,W=Ip(i);Op(i,W,B);break;default:throw Error(r(161))}}catch(ie){bt(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Eb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Eb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ia(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pb(i,s.alternate,s),s=s.sibling}function Xo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:za(4,s,s.return),Xo(s);break;case 1:ps(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ub(s,s.return,o),Xo(s);break;case 27:pu(s.stateNode);case 26:case 5:ps(s,s.return),Xo(s);break;case 22:s.memoizedState===null&&Xo(s);break;case 30:Xo(s);break;default:Xo(s)}i=i.sibling}}function sa(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:sa(d,g,o),su(4,g);break;case 1:if(sa(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){bt(c,c.return,W)}if(c=g,d=c.updateQueue,d!==null){var C=c.stateNode;try{var B=d.shared.hiddenCallbacks;if(B!==null)for(d.shared.hiddenCallbacks=null,d=0;d<B.length;d++)Zv(B[d],C)}catch(W){bt(c,c.return,W)}}o&&E&64&&cb(g),au(g,g.return);break;case 27:db(g);case 26:case 5:sa(d,g,o),o&&c===null&&E&4&&hb(g),au(g,g.return);break;case 12:sa(d,g,o);break;case 31:sa(d,g,o),o&&E&4&&vb(d,g);break;case 13:sa(d,g,o),o&&E&4&&bb(d,g);break;case 22:g.memoizedState===null&&sa(d,g,o),au(g,g.return);break;case 30:break;default:sa(d,g,o)}s=s.sibling}}function Lp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$c(o))}function kp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$c(i))}function Fi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tb(i,s,o,c),s=s.sibling}function Tb(i,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(i,s,o,c),d&2048&&su(9,s);break;case 1:Fi(i,s,o,c);break;case 3:Fi(i,s,o,c),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$c(i)));break;case 12:if(d&2048){Fi(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,C=g.onPostCommit;typeof C=="function"&&C(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){bt(s,s.return,B)}}else Fi(i,s,o,c);break;case 31:Fi(i,s,o,c);break;case 13:Fi(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Fi(i,s,o,c):ou(i,s):g._visibility&2?Fi(i,s,o,c):(g._visibility|=2,Hl(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Lp(E,s);break;case 24:Fi(i,s,o,c),d&2048&&kp(s.alternate,s);break;default:Fi(i,s,o,c)}}function Hl(i,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,E=s,C=o,B=c,W=E.flags;switch(E.tag){case 0:case 11:case 15:Hl(g,E,C,B,d),su(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?Hl(g,E,C,B,d):ou(g,E):(ie._visibility|=2,Hl(g,E,C,B,d)),d&&W&2048&&Lp(E.alternate,E);break;case 24:Hl(g,E,C,B,d),d&&W&2048&&kp(E.alternate,E);break;default:Hl(g,E,C,B,d)}s=s.sibling}}function ou(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,d=c.flags;switch(c.tag){case 22:ou(o,c),d&2048&&Lp(c.alternate,c);break;case 24:ou(o,c),d&2048&&kp(c.alternate,c);break;default:ou(o,c)}s=s.sibling}}var lu=8192;function Fl(i,s,o){if(i.subtreeFlags&lu)for(i=i.child;i!==null;)wb(i,s,o),i=i.sibling}function wb(i,s,o){switch(i.tag){case 26:Fl(i,s,o),i.flags&lu&&i.memoizedState!==null&&XN(o,Hi,i.memoizedState,i.memoizedProps);break;case 5:Fl(i,s,o);break;case 3:case 4:var c=Hi;Hi=Af(i.stateNode.containerInfo),Fl(i,s,o),Hi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=lu,lu=16777216,Fl(i,s,o),lu=c):Fl(i,s,o));break;default:Fl(i,s,o)}}function xb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function cu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Rn=c,Sb(c,i)}xb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ab(i),i=i.sibling}function Ab(i){switch(i.tag){case 0:case 11:case 15:cu(i),i.flags&2048&&za(9,i,i.return);break;case 3:cu(i);break;case 12:cu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ff(i)):cu(i);break;default:cu(i)}}function ff(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Rn=c,Sb(c,i)}xb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:za(8,s,s.return),ff(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ff(s));break;default:ff(s)}i=i.sibling}}function Sb(i,s){for(;Rn!==null;){var o=Rn;switch(o.tag){case 0:case 11:case 15:za(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$c(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Rn=c;else e:for(o=i;Rn!==null;){c=Rn;var d=c.sibling,g=c.return;if(gb(c),c===o){Rn=null;break e}if(d!==null){d.return=g,Rn=d;break e}Rn=g}}}var hN={getCacheForType:function(i){var s=zn(dn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return zn(dn).controller.signal}},fN=typeof WeakMap=="function"?WeakMap:Map,pt=0,At=null,Je=null,nt=0,vt=0,Xr=null,Ha=!1,Gl=!1,Mp=!1,aa=0,tn=0,Fa=0,Wo=0,jp=0,Wr=0,$l=0,uu=null,Dr=null,Pp=!1,df=0,Nb=0,mf=1/0,pf=null,Ga=null,wn=0,$a=null,Kl=null,oa=0,Vp=0,Up=null,Cb=null,hu=0,qp=null;function Zr(){return(pt&2)!==0&&nt!==0?nt&-nt:z.T!==null?$p():Wt()}function Rb(){if(Wr===0)if((nt&536870912)===0||lt){var i=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),Wr=i}else Wr=536870912;return i=Qr.current,i!==null&&(i.flags|=32),Wr}function Lr(i,s,o){(i===At&&(vt===2||vt===9)||i.cancelPendingCommit!==null)&&(Ql(i,0),Ka(i,nt,Wr,!1)),si(i,o),((pt&2)===0||i!==At)&&(i===At&&((pt&2)===0&&(Wo|=o),tn===4&&Ka(i,nt,Wr,!1)),gs(i))}function Ib(i,s,o){if((pt&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||kn(i,s),d=c?pN(i,s):zp(i,s,!0),g=c;do{if(d===0){Gl&&!c&&Ka(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!dN(o)){d=zp(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var C=i;d=uu;var B=C.current.memoizedState.isDehydrated;if(B&&(Ql(C,E).flags|=256),E=zp(C,E,!1),E!==2){if(Mp&&!B){C.errorRecoveryDisabledLanes|=g,Wo|=g,d=4;break e}g=Dr,Dr=d,g!==null&&(Dr===null?Dr=g:Dr.push.apply(Dr,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){Ql(i,0),Ka(i,s,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ka(c,s,Wr,!Ha);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=df+300-Nt(),10<d)){if(Ka(c,s,Wr,!Ha),Sn(c,0,!0)!==0)break e;oa=s,c.timeoutHandle=o_(Ob.bind(null,c,o,Dr,pf,Pp,s,Wr,Wo,$l,Ha,g,"Throttled",-0,0),d);break e}Ob(c,o,Dr,pf,Pp,s,Wr,Wo,$l,Ha,g,null,-0,0)}}break}while(!0);gs(i)}function Ob(i,s,o,c,d,g,E,C,B,W,ie,ce,J,re){if(i.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:er},wb(s,g,ce);var Se=(g&62914560)===g?df-Nt():(g&4194048)===g?Nb-Nt():0;if(Se=WN(ce,Se),Se!==null){oa=g,i.cancelPendingCommit=Se(Ub.bind(null,i,s,g,o,c,d,E,C,B,ie,ce,null,J,re)),Ka(i,g,E,!W);return}}Ub(i,s,g,o,c,d,E,C,B)}function dN(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!$r(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ka(i,s,o,c){s&=~jp,s&=~Wo,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var d=s;0<d;){var g=31-Ct(d),E=1<<g;c[g]=-1,d&=~E}o!==0&&ki(i,o,s)}function gf(){return(pt&6)===0?(fu(0),!1):!0}function Bp(){if(Je!==null){if(vt===0)var i=Je.return;else i=Je,Xs=zo=null,rp(i),Vl=null,Qc=0,i=Je;for(;i!==null;)lb(i.alternate,i),i=i.return;Je=null}}function Ql(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,LN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),oa=0,Bp(),At=i,Je=o=Qs(i.current,null),nt=s,vt=0,Xr=null,Ha=!1,Gl=kn(i,s),Mp=!1,$l=Wr=jp=Wo=Fa=tn=0,Dr=uu=null,Pp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var d=31-Ct(c),g=1<<d;s|=i[d],c&=~g}return aa=s,jh(),o}function Db(i,s){Fe=null,z.H=nu,s===Pl||s===Fh?(s=Qv(),vt=3):s===Gm?(s=Qv(),vt=4):vt=s===bp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xr=s,Je===null&&(tn=1,sf(i,gi(s,i.current)))}function Lb(){var i=Qr.current;return i===null?!0:(nt&4194048)===nt?_i===null:(nt&62914560)===nt||(nt&536870912)!==0?i===_i:!1}function kb(){var i=z.H;return z.H=nu,i===null?nu:i}function Mb(){var i=z.A;return z.A=hN,i}function yf(){tn=4,Ha||(nt&4194048)!==nt&&Qr.current!==null||(Gl=!0),(Fa&134217727)===0&&(Wo&134217727)===0||At===null||Ka(At,nt,Wr,!1)}function zp(i,s,o){var c=pt;pt|=2;var d=kb(),g=Mb();(At!==i||nt!==s)&&(pf=null,Ql(i,s)),s=!1;var E=tn;e:do try{if(vt!==0&&Je!==null){var C=Je,B=Xr;switch(vt){case 8:Bp(),E=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(s=!0);var W=vt;if(vt=0,Xr=null,Yl(i,C,B,W),o&&Gl){E=0;break e}break;default:W=vt,vt=0,Xr=null,Yl(i,C,B,W)}}mN(),E=tn;break}catch(ie){Db(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Xs=zo=null,pt=c,z.H=d,z.A=g,Je===null&&(At=null,nt=0,jh()),E}function mN(){for(;Je!==null;)jb(Je)}function pN(i,s){var o=pt;pt|=2;var c=kb(),d=Mb();At!==i||nt!==s?(pf=null,mf=Nt()+500,Ql(i,s)):Gl=kn(i,s);e:do try{if(vt!==0&&Je!==null){s=Je;var g=Xr;t:switch(vt){case 1:vt=0,Xr=null,Yl(i,s,g,1);break;case 2:case 9:if($v(g)){vt=0,Xr=null,Pb(s);break}s=function(){vt!==2&&vt!==9||At!==i||(vt=7),gs(i)},g.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:$v(g)?(vt=0,Xr=null,Pb(s)):(vt=0,Xr=null,Yl(i,s,g,7));break;case 5:var E=null;switch(Je.tag){case 26:E=Je.memoizedState;case 5:case 27:var C=Je;if(E?T_(E):C.stateNode.complete){vt=0,Xr=null;var B=C.sibling;if(B!==null)Je=B;else{var W=C.return;W!==null?(Je=W,vf(W)):Je=null}break t}}vt=0,Xr=null,Yl(i,s,g,5);break;case 6:vt=0,Xr=null,Yl(i,s,g,6);break;case 8:Bp(),tn=6;break e;default:throw Error(r(462))}}gN();break}catch(ie){Db(i,ie)}while(!0);return Xs=zo=null,z.H=c,z.A=d,pt=o,Je!==null?0:(At=null,nt=0,jh(),tn)}function gN(){for(;Je!==null&&!Na();)jb(Je)}function jb(i){var s=ab(i.alternate,i,aa);i.memoizedProps=i.pendingProps,s===null?vf(i):Je=s}function Pb(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=eb(o,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=eb(o,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:rp(s);default:lb(o,s),s=Je=Mv(s,aa),s=ab(o,s,aa)}i.memoizedProps=i.pendingProps,s===null?vf(i):Je=s}function Yl(i,s,o,c){Xs=zo=null,rp(s),Vl=null,Qc=0;var d=s.return;try{if(iN(i,d,s,o,nt)){tn=1,sf(i,gi(o,i.current)),Je=null;return}}catch(g){if(d!==null)throw Je=d,g;tn=1,sf(i,gi(o,i.current)),Je=null;return}s.flags&32768?(lt||c===1?i=!0:Gl||(nt&536870912)!==0?i=!1:(Ha=i=!0,(c===2||c===9||c===3||c===6)&&(c=Qr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vb(s,i)):vf(s)}function vf(i){var s=i;do{if((s.flags&32768)!==0){Vb(s,Ha);return}i=s.return;var o=oN(s.alternate,s,aa);if(o!==null){Je=o;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=i}while(s!==null);tn===0&&(tn=5)}function Vb(i,s){do{var o=lN(i.alternate,i);if(o!==null){o.flags&=32767,Je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Je=i;return}Je=i=o}while(i!==null);tn=6,Je=null}function Ub(i,s,o,c,d,g,E,C,B){i.cancelPendingCommit=null;do bf();while(wn!==0);if((pt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Im,Ur(i,o,g,E,C,B),i===At&&(Je=At=null,nt=0),Kl=s,$a=i,oa=o,Vp=g,Up=d,Cb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_N(cr,function(){return Fb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=z.T,z.T=null,d=Z.p,Z.p=2,E=pt,pt|=4;try{cN(i,s,o)}finally{pt=E,Z.p=d,z.T=c}}wn=1,qb(),Bb(),zb()}}function qb(){if(wn===1){wn=0;var i=$a,s=Kl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var c=Z.p;Z.p=2;var d=pt;pt|=4;try{_b(s,i);var g=eg,E=Sv(i.containerInfo),C=g.focusedElem,B=g.selectionRange;if(E!==C&&C&&C.ownerDocument&&Av(C.ownerDocument.documentElement,C)){if(B!==null&&Am(C)){var W=B.start,ie=B.end;if(ie===void 0&&(ie=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(ie,C.value.length);else{var ce=C.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var re=J.getSelection(),Se=C.textContent.length,Pe=Math.min(B.start,Se),wt=B.end===void 0?Pe:Math.min(B.end,Se);!re.extend&&Pe>wt&&(E=wt,wt=Pe,Pe=E);var K=xv(C,Pe),F=xv(C,wt);if(K&&F&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==F.node||re.focusOffset!==F.offset)){var X=ce.createRange();X.setStart(K.node,K.offset),re.removeAllRanges(),Pe>wt?(re.addRange(X),re.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),re.addRange(X))}}}}for(ce=[],re=C;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var se=ce[C];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Of=!!Jp,eg=Jp=null}finally{pt=d,Z.p=c,z.T=o}}i.current=s,wn=2}}function Bb(){if(wn===2){wn=0;var i=$a,s=Kl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var c=Z.p;Z.p=2;var d=pt;pt|=4;try{pb(i,s.alternate,s)}finally{pt=d,Z.p=c,z.T=o}}wn=3}}function zb(){if(wn===4||wn===3){wn=0,Ls();var i=$a,s=Kl,o=oa,c=Cb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wn=5:(wn=0,Kl=$a=null,Hb(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Ga=null),hr(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ur,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=z.T,d=Z.p,Z.p=2,z.T=null;try{for(var g=i.onRecoverableError,E=0;E<c.length;E++){var C=c[E];g(C.value,{componentStack:C.stack})}}finally{z.T=s,Z.p=d}}(oa&3)!==0&&bf(),gs(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===qp?hu++:(hu=0,qp=i):hu=0,fu(0)}}function Hb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$c(s)))}function bf(){return qb(),Bb(),zb(),Fb()}function Fb(){if(wn!==5)return!1;var i=$a,s=Vp;Vp=0;var o=hr(oa),c=z.T,d=Z.p;try{Z.p=32>o?32:o,z.T=null,o=Up,Up=null;var g=$a,E=oa;if(wn=0,Kl=$a=null,oa=0,(pt&6)!==0)throw Error(r(331));var C=pt;if(pt|=4,Ab(g.current),Tb(g,g.current,E,o),pt=C,fu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ur,g)}catch{}return!0}finally{Z.p=d,z.T=c,Hb(i,s)}}function Gb(i,s,o){s=gi(o,s),s=vp(i.stateNode,s,2),i=Ua(i,s,2),i!==null&&(si(i,2),gs(i))}function bt(i,s,o){if(i.tag===3)Gb(i,i,o);else for(;s!==null;){if(s.tag===3){Gb(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ga===null||!Ga.has(c))){i=gi(o,i),o=$1(2),c=Ua(s,o,2),c!==null&&(K1(o,c,s,i),si(c,2),gs(c));break}}s=s.return}}function Hp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new fN;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Mp=!0,d.add(o),i=yN.bind(null,i,s,o),s.then(i,i))}function yN(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,At===i&&(nt&o)===o&&(tn===4||tn===3&&(nt&62914560)===nt&&300>Nt()-df?(pt&2)===0&&Ql(i,0):jp|=o,$l===nt&&($l=0)),gs(i)}function $b(i,s){s===0&&(s=is()),i=Uo(i,s),i!==null&&(si(i,s),gs(i))}function vN(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),$b(i,o)}function bN(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),$b(i,o)}function _N(i,s){return St(i,s)}var _f=null,Xl=null,Fp=!1,Ef=!1,Gp=!1,Qa=0;function gs(i){i!==Xl&&i.next===null&&(Xl===null?_f=Xl=i:Xl=Xl.next=i),Ef=!0,Fp||(Fp=!0,TN())}function fu(i,s){if(!Gp&&Ef){Gp=!0;do for(var o=!1,c=_f;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var E=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-Ct(42|i)+1)-1,g&=d&~(E&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Xb(c,g))}else g=nt,g=Sn(c,c===At?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||kn(c,g)||(o=!0,Xb(c,g));c=c.next}while(o);Gp=!1}}function EN(){Kb()}function Kb(){Ef=Fp=!1;var i=0;Qa!==0&&DN()&&(i=Qa);for(var s=Nt(),o=null,c=_f;c!==null;){var d=c.next,g=Qb(c,s);g===0?(c.next=null,o===null?_f=d:o.next=d,d===null&&(Xl=o)):(o=c,(i!==0||(g&3)!==0)&&(Ef=!0)),c=d}wn!==0&&wn!==5||fu(i),Qa!==0&&(Qa=0)}function Qb(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Ct(g),C=1<<E,B=d[E];B===-1?((C&o)===0||(C&c)!==0)&&(d[E]=Vs(C,s)):B<=s&&(i.expiredLanes|=C),g&=~C}if(s=At,o=nt,o=Sn(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(vt===2||vt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&_r(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||kn(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&_r(c),hr(o)){case 2:case 8:o=Pr;break;case 32:o=cr;break;case 268435456:o=Dn;break;default:o=cr}return c=Yb.bind(null,i),o=St(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&_r(c),i.callbackPriority=2,i.callbackNode=null,2}function Yb(i,s){if(wn!==0&&wn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(bf()&&i.callbackNode!==o)return null;var c=nt;return c=Sn(i,i===At?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Ib(i,c,s),Qb(i,Nt()),i.callbackNode!=null&&i.callbackNode===o?Yb.bind(null,i):null)}function Xb(i,s){if(bf())return null;Ib(i,s,!0)}function TN(){kN(function(){(pt&6)!==0?St(ks,EN):Kb()})}function $p(){if(Qa===0){var i=Ml;i===0&&(i=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),Qa=i}return Qa}function Wb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:us(""+i)}function Zb(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function wN(i,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=Wb((d[Zt]||null).action),E=c.submitter;E&&(s=(s=E[Zt]||null)?Wb(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var C=new Ae("action","action",null,c,d);i.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qa!==0){var B=E?Zb(d,E):new FormData(d);fp(o,{pending:!0,data:B,method:d.method,action:g},null,B)}}else typeof g=="function"&&(C.preventDefault(),B=E?Zb(d,E):new FormData(d),fp(o,{pending:!0,data:B,method:d.method,action:g},g,B))},currentTarget:d}]})}}for(var Kp=0;Kp<Rm.length;Kp++){var Qp=Rm[Kp],xN=Qp.toLowerCase(),AN=Qp[0].toUpperCase()+Qp.slice(1);zi(xN,"on"+AN)}zi(Rv,"onAnimationEnd"),zi(Iv,"onAnimationIteration"),zi(Ov,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(B2,"onTransitionRun"),zi(z2,"onTransitionStart"),zi(H2,"onTransitionCancel"),zi(Dv,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function Jb(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var C=c[E],B=C.instance,W=C.currentTarget;if(C=C.listener,B!==g&&d.isPropagationStopped())break e;g=C,d.currentTarget=W;try{g(d)}catch(ie){Mh(ie)}d.currentTarget=null,g=B}else for(E=0;E<c.length;E++){if(C=c[E],B=C.instance,W=C.currentTarget,C=C.listener,B!==g&&d.isPropagationStopped())break e;g=C,d.currentTarget=W;try{g(d)}catch(ie){Mh(ie)}d.currentTarget=null,g=B}}}}function et(i,s){var o=s[Qt];o===void 0&&(o=s[Qt]=new Set);var c=i+"__bubble";o.has(c)||(e_(s,i,2,!1),o.add(c))}function Yp(i,s,o){var c=0;s&&(c|=4),e_(o,i,c,s)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function Xp(i){if(!i[Tf]){i[Tf]=!0,Bs.forEach(function(o){o!=="selectionchange"&&(SN.has(o)||Yp(o,!1,i),Yp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Tf]||(s[Tf]=!0,Yp("selectionchange",!1,s))}}function e_(i,s,o,c){switch(R_(s)){case 2:var d=eC;break;case 8:d=tC;break;default:d=hg}o=d.bind(null,s,o,i),d=void 0,!di||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Wp(i,s,o,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===d)break;if(E===4)for(E=c.return;E!==null;){var B=E.tag;if((B===3||B===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;C!==null;){if(E=Ot(C),E===null)return;if(B=E.tag,B===5||B===6||B===26||B===27){c=g=E;continue e}C=C.parentNode}}c=c.return}fi(function(){var W=g,ie=Vn(o),ce=[];e:{var J=Lv.get(i);if(J!==void 0){var re=Ae,Se=i;switch(i){case"keypress":if(_(o)===0)break e;case"keydown":case"keyup":re=Dh;break;case"focusin":Se="focus",re=qn;break;case"focusout":Se="blur",re=qn;break;case"beforeblur":case"afterblur":re=qn;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=b;break;case Rv:case Iv:case Ov:re=Mo;break;case Dv:re=L;break;case"scroll":case"scrollend":re=Ye;break;case"wheel":re=te;break;case"copy":case"cut":case"paste":re=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ks;break;case"toggle":case"beforetoggle":re=He}var Pe=(s&4)!==0,wt=!Pe&&(i==="scroll"||i==="scrollend"),K=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var F=W,X;F!==null;){var se=F;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||K===null||(se=tr(F,K),se!=null&&Pe.push(mu(F,se,X))),wt)break;F=F.return}0<Pe.length&&(J=new re(J,Se,null,o,ie),ce.push({event:J,listeners:Pe}))}}if((s&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",J&&o!==nn&&(Se=o.relatedTarget||o.fromElement)&&(Ot(Se)||Se[wr]))break e;if((re||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,re?(Se=o.relatedTarget||o.toElement,re=W,Se=Se?Ot(Se):null,Se!==null&&(wt=l(Se),Pe=Se.tag,Se!==wt||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(re=null,Se=W),re!==Se)){if(Pe=Lt,se="onMouseLeave",K="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=Ks,se="onPointerLeave",K="onPointerEnter",F="pointer"),wt=re==null?J:Mn(re),X=Se==null?J:Mn(Se),J=new Pe(se,F+"leave",re,o,ie),J.target=wt,J.relatedTarget=X,se=null,Ot(ie)===W&&(Pe=new Pe(K,F+"enter",Se,o,ie),Pe.target=X,Pe.relatedTarget=wt,se=Pe),wt=se,re&&Se)t:{for(Pe=NN,K=re,F=Se,X=0,se=K;se;se=Pe(se))X++;se=0;for(var ke=F;ke;ke=Pe(ke))se++;for(;0<X-se;)K=Pe(K),X--;for(;0<se-X;)F=Pe(F),se--;for(;X--;){if(K===F||F!==null&&K===F.alternate){Pe=K;break t}K=Pe(K),F=Pe(F)}Pe=null}else Pe=null;re!==null&&t_(ce,J,re,Pe,!1),Se!==null&&wt!==null&&t_(ce,wt,Se,Pe,!0)}}e:{if(J=W?Mn(W):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var ht=vv;else if(gv(J))if(bv)ht=V2;else{ht=j2;var Ce=M2}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&cs(W.elementType)&&(ht=vv):ht=P2;if(ht&&(ht=ht(i,W))){yv(ce,ht,o,ie);break e}Ce&&Ce(i,J,W),i==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Hs(J,"number",J.value)}switch(Ce=W?Mn(W):window,i){case"focusin":(gv(Ce)||Ce.contentEditable==="true")&&(Nl=Ce,Sm=W,Hc=null);break;case"focusout":Hc=Sm=Nl=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,Nv(ce,o,ie);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":Nv(ce,o,ie)}var $e;if(mt)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Sl?jo(i,o)&&(rt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(fs&&o.locale!=="ko"&&(Sl||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Sl&&($e=Gs()):(pr=ie,Pi="value"in pr?pr.value:pr.textContent,Sl=!0)),Ce=wf(W,rt),0<Ce.length&&(rt=new hs(rt,i,null,o,ie),ce.push({event:rt,listeners:Ce}),$e?rt.data=$e:($e=Al(o),$e!==null&&(rt.data=$e)))),($e=mi?O2(i,o):D2(i,o))&&(rt=wf(W,"onBeforeInput"),0<rt.length&&(Ce=new hs("onBeforeInput","beforeinput",null,o,ie),ce.push({event:Ce,listeners:rt}),Ce.data=$e)),wN(ce,i,W,o,ie)}Jb(ce,s)})}function mu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function wf(i,s){for(var o=s+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=tr(i,o),d!=null&&c.unshift(mu(i,d,g)),d=tr(i,s),d!=null&&c.push(mu(i,d,g))),i.tag===3)return c;i=i.return}return[]}function NN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function t_(i,s,o,c,d){for(var g=s._reactName,E=[];o!==null&&o!==c;){var C=o,B=C.alternate,W=C.stateNode;if(C=C.tag,B!==null&&B===c)break;C!==5&&C!==26&&C!==27||W===null||(B=W,d?(W=tr(o,g),W!=null&&E.unshift(mu(o,W,B))):d||(W=tr(o,g),W!=null&&E.push(mu(o,W,B)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var CN=/\r\n?/g,RN=/\u0000|\uFFFD/g;function n_(i){return(typeof i=="string"?i:""+i).replace(CN,`
`).replace(RN,"")}function r_(i,s){return s=n_(s),n_(i)===s}function Tt(i,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||zt(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&zt(i,""+c);break;case"className":Pn(i,"class",c);break;case"tabIndex":Pn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(i,o,c);break;case"style":Jn(i,c,g);break;case"data":if(s!=="object"){Pn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=us(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Tt(i,s,"name",d.name,d,null),Tt(i,s,"formEncType",d.formEncType,d,null),Tt(i,s,"formMethod",d.formMethod,d,null),Tt(i,s,"formTarget",d.formTarget,d,null)):(Tt(i,s,"encType",d.encType,d,null),Tt(i,s,"method",d.method,d,null),Tt(i,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=us(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=er);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=us(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":et("beforetoggle",i),et("toggle",i),as(i,"popover",c);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":as(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Oa.get(o)||o,as(i,o,c))}}function Zp(i,s,o,c,d,g){switch(o){case"style":Jn(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?zt(i,c):(typeof c=="number"||typeof c=="bigint")&&zt(i,""+c);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"onClick":c!=null&&(i.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Zt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):as(i,o,c)}}}function Fn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(i,s,g,E,o,null)}}d&&Tt(i,s,"srcSet",o.srcSet,o,null),c&&Tt(i,s,"src",o.src,o,null);return;case"input":et("invalid",i);var C=g=E=d=null,B=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var ie=o[c];if(ie!=null)switch(c){case"name":d=ie;break;case"type":E=ie;break;case"checked":B=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:Tt(i,s,c,ie,o,null)}}ls(i,g,C,B,W,E,d,!1);return;case"select":et("invalid",i),c=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":g=C;break;case"defaultValue":E=C;break;case"multiple":c=C;default:Tt(i,s,d,C,o,null)}s=g,o=E,i.multiple=!!c,s!=null?ci(i,!!c,s,!1):o!=null&&ci(i,!!c,o,!0);return;case"textarea":et("invalid",i),g=d=c=null;for(E in o)if(o.hasOwnProperty(E)&&(C=o[E],C!=null))switch(E){case"value":c=C;break;case"defaultValue":d=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:Tt(i,s,E,C,o,null)}fn(i,c,d,g);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Tt(i,s,B,c,o,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(c=0;c<du.length;c++)et(du[c],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(i,s,W,c,o,null)}return;default:if(cs(s)){for(ie in o)o.hasOwnProperty(ie)&&(c=o[ie],c!==void 0&&Zp(i,s,ie,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Tt(i,s,C,c,o,null))}function IN(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,C=null,B=null,W=null,ie=null;for(re in o){var ce=o[re];if(o.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":B=ce;default:c.hasOwnProperty(re)||Tt(i,s,re,null,c,ce)}}for(var J in c){var re=c[J];if(ce=o[J],c.hasOwnProperty(J)&&(re!=null||ce!=null))switch(J){case"type":g=re;break;case"name":d=re;break;case"checked":W=re;break;case"defaultChecked":ie=re;break;case"value":E=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==ce&&Tt(i,s,J,re,c,ce)}}os(i,E,C,B,W,ie,g,d);return;case"select":re=E=C=J=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":re=B;default:c.hasOwnProperty(g)||Tt(i,s,g,null,c,B)}for(d in c)if(g=c[d],B=o[d],c.hasOwnProperty(d)&&(g!=null||B!=null))switch(d){case"value":J=g;break;case"defaultValue":C=g;break;case"multiple":E=g;default:g!==B&&Tt(i,s,d,g,c,B)}s=C,o=E,c=re,J!=null?ci(i,!!o,J,!1):!!c!=!!o&&(s!=null?ci(i,!!o,s,!0):ci(i,!!o,o?[]:"",!1));return;case"textarea":re=J=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Tt(i,s,C,null,c,d)}for(E in c)if(d=c[E],g=o[E],c.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":J=d;break;case"defaultValue":re=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Tt(i,s,E,d,c,g)}ui(i,J,re);return;case"option":for(var Se in o)if(J=o[Se],o.hasOwnProperty(Se)&&J!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:Tt(i,s,Se,null,c,J)}for(B in c)if(J=c[B],re=o[B],c.hasOwnProperty(B)&&J!==re&&(J!=null||re!=null))switch(B){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Tt(i,s,B,J,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)J=o[Pe],o.hasOwnProperty(Pe)&&J!=null&&!c.hasOwnProperty(Pe)&&Tt(i,s,Pe,null,c,J);for(W in c)if(J=c[W],re=o[W],c.hasOwnProperty(W)&&J!==re&&(J!=null||re!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Tt(i,s,W,J,c,re)}return;default:if(cs(s)){for(var wt in o)J=o[wt],o.hasOwnProperty(wt)&&J!==void 0&&!c.hasOwnProperty(wt)&&Zp(i,s,wt,void 0,c,J);for(ie in c)J=c[ie],re=o[ie],!c.hasOwnProperty(ie)||J===re||J===void 0&&re===void 0||Zp(i,s,ie,J,c,re);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!c.hasOwnProperty(K)&&Tt(i,s,K,null,c,J);for(ce in c)J=c[ce],re=o[ce],!c.hasOwnProperty(ce)||J===re||J==null&&re==null||Tt(i,s,ce,J,c,re)}function i_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ON(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,E=d.initiatorType,C=d.duration;if(g&&C&&i_(E)){for(E=0,C=d.responseEnd,c+=1;c<o.length;c++){var B=o[c],W=B.startTime;if(W>C)break;var ie=B.transferSize,ce=B.initiatorType;ie&&i_(ce)&&(B=B.responseEnd,E+=ie*(B<C?1:(C-W)/(B-W)))}if(--c,s+=8*(g+E)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jp=null,eg=null;function xf(i){return i.nodeType===9?i:i.ownerDocument}function s_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function tg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ng=null;function DN(){var i=window.event;return i&&i.type==="popstate"?i===ng?!1:(ng=i,!0):(ng=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,kN=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(i){return l_.resolve(null).then(i).catch(MN)}:o_;function MN(i){setTimeout(function(){throw i})}function Ya(i){return i==="head"}function c_(i,s){var o=s,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),ec(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")pu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,pu(o);for(var g=o.firstChild;g;){var E=g.nextSibling,C=g.nodeName;g[xr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&pu(i.ownerDocument.body);o=d}while(o);ec(s)}function u_(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function rg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rg(o),ss(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function jN(i,s,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[xr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ei(i.nextSibling),i===null)break}return null}function PN(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ei(i.nextSibling),i===null))return null;return i}function h_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Ei(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$?"||i.data==="$~"}function sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function VN(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var ag=null;function f_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Ei(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function d_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function m_(i,s,o){switch(s=xf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function pu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ss(i)}var Ti=new Map,p_=new Set;function Af(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var la=Z.d;Z.d={f:UN,r:qN,D:BN,C:zN,L:HN,m:FN,X:$N,S:GN,M:KN};function UN(){var i=la.f(),s=gf();return i||s}function qN(i){var s=Wn(i);s!==null&&s.tag===5&&s.type==="form"?D1(s):la.r(i)}var Wl=typeof document>"u"?null:document;function g_(i,s,o){var c=Wl;if(c&&typeof s=="string"&&s){var d=Nn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),p_.has(d)||(p_.add(d),i={rel:i,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),Fn(s,"link",i),qt(s),c.head.appendChild(s)))}}function BN(i){la.D(i),g_("dns-prefetch",i,null)}function zN(i,s){la.C(i,s),g_("preconnect",i,s)}function HN(i,s,o){la.L(i,s,o);var c=Wl;if(c&&i&&s){var d='link[rel="preload"][as="'+Nn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Nn(o.imageSizes)+'"]')):d+='[href="'+Nn(i)+'"]';var g=d;switch(s){case"style":g=Zl(i);break;case"script":g=Jl(i)}Ti.has(g)||(i=T({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Ti.set(g,i),c.querySelector(d)!==null||s==="style"&&c.querySelector(gu(g))||s==="script"&&c.querySelector(yu(g))||(s=c.createElement("link"),Fn(s,"link",i),qt(s),c.head.appendChild(s)))}}function FN(i,s){la.m(i,s);var o=Wl;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Nn(c)+'"][href="'+Nn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Jl(i)}if(!Ti.has(g)&&(i=T({rel:"modulepreload",href:i},s),Ti.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(g)))return}c=o.createElement("link"),Fn(c,"link",i),qt(c),o.head.appendChild(c)}}}function GN(i,s,o){la.S(i,s,o);var c=Wl;if(c&&i){var d=Ar(c).hoistableStyles,g=Zl(i);s=s||"default";var E=d.get(g);if(!E){var C={loading:0,preload:null};if(E=c.querySelector(gu(g)))C.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Ti.get(g))&&og(i,o);var B=E=c.createElement("link");qt(B),Fn(B,"link",i),B._p=new Promise(function(W,ie){B.onload=W,B.onerror=ie}),B.addEventListener("load",function(){C.loading|=1}),B.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Sf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:C},d.set(g,E)}}}function $N(i,s){la.X(i,s);var o=Wl;if(o&&i){var c=Ar(o).hoistableScripts,d=Jl(i),g=c.get(d);g||(g=o.querySelector(yu(d)),g||(i=T({src:i,async:!0},s),(s=Ti.get(d))&&lg(i,s),g=o.createElement("script"),qt(g),Fn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function KN(i,s){la.M(i,s);var o=Wl;if(o&&i){var c=Ar(o).hoistableScripts,d=Jl(i),g=c.get(d);g||(g=o.querySelector(yu(d)),g||(i=T({src:i,async:!0,type:"module"},s),(s=Ti.get(d))&&lg(i,s),g=o.createElement("script"),qt(g),Fn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function y_(i,s,o,c){var d=(d=xe.current)?Af(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Zl(o.href),o=Ar(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Zl(o.href);var g=Ar(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(gu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ti.set(i,o),g||QN(d,i,o,E.state))),s&&c===null)throw Error(r(528,""));return E}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jl(o),o=Ar(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zl(i){return'href="'+Nn(i)+'"'}function gu(i){return'link[rel="stylesheet"]['+i+"]"}function v_(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function QN(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Fn(s,"link",o),qt(s),i.head.appendChild(s))}function Jl(i){return'[src="'+Nn(i)+'"]'}function yu(i){return"script[async]"+i}function b_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Nn(o.href)+'"]');if(c)return s.instance=c,qt(c),c;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),qt(c),Fn(c,"style",d),Sf(c,o.precedence,i),s.instance=c;case"stylesheet":d=Zl(o.href);var g=i.querySelector(gu(d));if(g)return s.state.loading|=4,s.instance=g,qt(g),g;c=v_(o),(d=Ti.get(d))&&og(c,d),g=(i.ownerDocument||i).createElement("link"),qt(g);var E=g;return E._p=new Promise(function(C,B){E.onload=C,E.onerror=B}),Fn(g,"link",c),s.state.loading|=4,Sf(g,o.precedence,i),s.instance=g;case"script":return g=Jl(o.src),(d=i.querySelector(yu(g)))?(s.instance=d,qt(d),d):(c=o,(d=Ti.get(g))&&(c=T({},o),lg(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),qt(d),Fn(d,"link",c),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Sf(c,o.precedence,i));return s.instance}function Sf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,E=0;E<c.length;E++){var C=c[E];if(C.dataset.precedence===s)g=C;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function og(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function lg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Nf=null;function __(i,s,o){if(Nf===null){var c=new Map,d=Nf=new Map;d.set(o,c)}else d=Nf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[xr]||g[Ut]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var C=c.get(E);C?C.push(g):c.set(E,[g])}}return c}function E_(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function YN(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function T_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function XN(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Zl(c.href),g=s.querySelector(gu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Cf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,qt(g);return}g=s.ownerDocument||s,c=v_(c),(d=Ti.get(d))&&og(c,d),g=g.createElement("link"),qt(g);var E=g;E._p=new Promise(function(C,B){E.onload=C,E.onerror=B}),Fn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Cf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var cg=0;function WN(i,s){return i.stylesheets&&i.count===0&&If(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&If(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&cg===0&&(cg=62500*ON());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&If(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>cg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rf=null;function If(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rf=new Map,s.forEach(ZN,i),Rf=null,Cf.call(i))}function ZN(i,s){if(!(s.state.loading&4)){var o=Rf.get(i);if(o)var c=o.get(null);else{o=new Map,Rf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}d=s.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,d),o.set(E,d),this.count++,c=Cf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var vu={$$typeof:ne,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function JN(i,s,o,c,d,g,E,C,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function w_(i,s,o,c,d,g,E,C,B,W,ie,ce){return i=new JN(i,s,o,E,B,W,ie,ce,C),s=1,g===!0&&(s|=24),g=Kr(3,null,null,s),i.current=g,g.stateNode=i,s=zm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},$m(g),i}function x_(i){return i?(i=Il,i):Il}function A_(i,s,o,c,d,g){d=x_(d),c.context===null?c.context=d:c.pendingContext=d,c=Va(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ua(i,c,s),o!==null&&(Lr(o,i,s),Xc(o,i,s))}function S_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function ug(i,s){S_(i,s),(i=i.alternate)&&S_(i,s)}function N_(i){if(i.tag===13||i.tag===31){var s=Uo(i,67108864);s!==null&&Lr(s,i,67108864),ug(i,67108864)}}function C_(i){if(i.tag===13||i.tag===31){var s=Zr();s=ai(s);var o=Uo(i,s);o!==null&&Lr(o,i,s),ug(i,s)}}var Of=!0;function eC(i,s,o,c){var d=z.T;z.T=null;var g=Z.p;try{Z.p=2,hg(i,s,o,c)}finally{Z.p=g,z.T=d}}function tC(i,s,o,c){var d=z.T;z.T=null;var g=Z.p;try{Z.p=8,hg(i,s,o,c)}finally{Z.p=g,z.T=d}}function hg(i,s,o,c){if(Of){var d=fg(c);if(d===null)Wp(i,s,c,Df,o),I_(i,c);else if(rC(d,i,s,o,c))c.stopPropagation();else if(I_(i,c),s&4&&-1<nC.indexOf(i)){for(;d!==null;){var g=Wn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Xn(g.pendingLanes);if(E!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var B=1<<31-Ct(E);C.entanglements[1]|=B,E&=~B}gs(g),(pt&6)===0&&(mf=Nt()+500,fu(0))}}break;case 31:case 13:C=Uo(g,2),C!==null&&Lr(C,g,2),gf(),ug(g,2)}if(g=fg(c),g===null&&Wp(i,s,c,Df,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Wp(i,s,c,null,o)}}function fg(i){return i=Vn(i),dg(i)}var Df=null;function dg(i){if(Df=null,i=Ot(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Df=i,null}function R_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case ks:return 2;case Pr:return 8;case cr:case Ms:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var mg=!1,Xa=null,Wa=null,Za=null,bu=new Map,_u=new Map,Ja=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(i,s){switch(i){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":bu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(s.pointerId)}}function Eu(i,s,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Wn(s),s!==null&&N_(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function rC(i,s,o,c,d){switch(s){case"focusin":return Xa=Eu(Xa,i,s,o,c,d),!0;case"dragenter":return Wa=Eu(Wa,i,s,o,c,d),!0;case"mouseover":return Za=Eu(Za,i,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return bu.set(g,Eu(bu.get(g)||null,i,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,_u.set(g,Eu(_u.get(g)||null,i,s,o,c,d)),!0}return!1}function O_(i){var s=Ot(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,fr(i.priority,function(){C_(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,fr(i.priority,function(){C_(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=fg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);nn=c,o.target.dispatchEvent(c),nn=null}else return s=Wn(o),s!==null&&N_(s),i.blockedOn=o,!1;s.shift()}return!0}function D_(i,s,o){Lf(i)&&o.delete(s)}function iC(){mg=!1,Xa!==null&&Lf(Xa)&&(Xa=null),Wa!==null&&Lf(Wa)&&(Wa=null),Za!==null&&Lf(Za)&&(Za=null),bu.forEach(D_),_u.forEach(D_)}function kf(i,s){i.blockedOn===s&&(i.blockedOn=null,mg||(mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,iC)))}var Mf=null;function L_(i){Mf!==i&&(Mf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mf===i&&(Mf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=i[s+2];if(typeof c!="function"){if(dg(c||o)===null)continue;break}var g=Wn(o);g!==null&&(i.splice(s,3),s-=3,fp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function ec(i){function s(B){return kf(B,i)}Xa!==null&&kf(Xa,i),Wa!==null&&kf(Wa,i),Za!==null&&kf(Za,i),bu.forEach(s),_u.forEach(s);for(var o=0;o<Ja.length;o++){var c=Ja[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ja.length&&(o=Ja[0],o.blockedOn===null);)O_(o),o.blockedOn===null&&Ja.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],E=d[Zt]||null;if(typeof g=="function")E||L_(o);else if(E){var C=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[Zt]||null)C=E.formAction;else if(dg(d)!==null)continue}else C=E.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),L_(o)}}}function k_(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function pg(i){this._internalRoot=i}jf.prototype.render=pg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=Zr();A_(o,c,i,s,null,null)},jf.prototype.unmount=pg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;A_(i.current,2,null,i,null,null),gf(),s[wr]=null}};function jf(i){this._internalRoot=i}jf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Wt();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ja.length&&s!==0&&s<Ja[o].priority;o++);Ja.splice(o,0,i),o===0&&O_(i)}};var M_=e.version;if(M_!=="19.2.1")throw Error(r(527,M_,"19.2.1"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var sC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{ur=Pf.inject(sC),Kt=Pf}catch{}}return wu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",d=z1,g=H1,E=F1;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=w_(i,1,!1,null,null,o,c,null,d,g,E,k_),i[wr]=s.current,Xp(i),new pg(s)},wu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,d="",g=z1,E=H1,C=F1,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),s=w_(i,1,!0,s,o??null,c,d,B,g,E,C,k_),s.context=x_(null),o=s.current,c=Zr(),c=ai(c),d=Va(c),d.callback=null,Ua(o,d,c),o=c,s.current.lanes=o,si(s,o),gs(s),i[wr]=s.current,Xp(i),new jf(s)},wu.version="19.2.1",wu}var G_;function gC(){if(G_)return vg.exports;G_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vg.exports=pC(),vg.exports}var yC=gC();var $_="popstate";function vC(n={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=fl(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Zg("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Gu(l))}function r(a,l){ri(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return _C(e,t,r,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bC(){return Math.random().toString(36).substring(2,10)}function K_(n,e){return{usr:n.state,key:n.key,idx:e}}function Zg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:t,key:e&&e.key||r||bC()}}function Gu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function _C(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function T(){f="POP";let I=v(),q=I==null?null:I-p;p=I,m&&m({action:f,location:D.location,delta:q})}function w(I,q){f="PUSH";let $=Zg(D.location,I,q);t&&t($,I),p=v()+1;let ne=K_($,p),be=D.createHref($);try{u.pushState(ne,"",be)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;a.location.assign(be)}l&&m&&m({action:f,location:D.location,delta:1})}function N(I,q){f="REPLACE";let $=Zg(D.location,I,q);t&&t($,I),p=v();let ne=K_($,p),be=D.createHref($);u.replaceState(ne,"",be),l&&m&&m({action:f,location:D.location,delta:0})}function O(I){return EC(I)}let D={get action(){return f},get location(){return n(a,u)},listen(I){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener($_,T),m=I,()=>{a.removeEventListener($_,T),m=null}},createHref(I){return e(a,I)},createURL:O,encodeLocation(I){let q=O(I);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:w,replace:N,go(I){return u.go(I)}};return D}function EC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Gu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function jw(n,e,t="/"){return TC(n,e,t,!1)}function TC(n,e,t,r){let a=typeof e=="string"?fl(e):e,l=ma(a.pathname||"/",t);if(l==null)return null;let u=Pw(n);wC(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=kC(l);f=DC(u[m],p,r)}return f}function Pw(n,e=[],t=[],r="",a=!1){let l=(u,f,m=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;$t(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=fa([r,v.relativePath]),w=t.concat(v);u.children&&u.children.length>0&&($t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Pw(u.children,e,w,T,m)),!(u.path==null&&!u.index)&&e.push({path:T,score:IC(T,u.index),routesMeta:w})};return n.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of Vw(u.path))l(u,f,!0,m)}),e}function Vw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=Vw(r.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function wC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var xC=/^:[\w-]+$/,AC=3,SC=2,NC=1,CC=10,RC=-2,Q_=n=>n==="*";function IC(n,e){let t=n.split("/"),r=t.length;return t.some(Q_)&&(r+=RC),e&&(r+=SC),t.filter(a=>!Q_(a)).reduce((a,l)=>a+(xC.test(l)?AC:l===""?NC:CC),r)}function OC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function DC(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",u=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!T&&p&&t&&!r[r.length-1].route.index&&(T=gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:fa([l,T.pathname]),pathnameBase:UC(fa([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=fa([l,T.pathnameBase]))}return u}function gd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=LC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:T},w)=>{if(v==="*"){let O=f[w]||"";u=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const N=f[w];return T&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function LC(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function kC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ma(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var MC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jC=n=>MC.test(n);function PC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?fl(n):n,l;if(t)if(jC(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Y_(t.substring(1),"/"):l=Y_(t,e)}else l=e;return{pathname:l,search:qC(r),hash:BC(a)}}function Y_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Tg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $y(n){let e=VC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ky(n,e,t,r=!1){let a;typeof n=="string"?a=fl(n):(a={...n},$t(!a.pathname||!a.pathname.includes("?"),Tg("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),Tg("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),Tg("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let T=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}f=T>=0?e[T]:"/"}let m=PC(a,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var fa=n=>n.join("/").replace(/\/\/+/g,"/"),UC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function HC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Uw=["POST","PUT","PATCH","DELETE"];new Set(Uw);var FC=["GET",...Uw];new Set(FC);var Cc=G.createContext(null);Cc.displayName="DataRouter";var Bd=G.createContext(null);Bd.displayName="DataRouterState";G.createContext(!1);var qw=G.createContext({isTransitioning:!1});qw.displayName="ViewTransition";var GC=G.createContext(new Map);GC.displayName="Fetchers";var $C=G.createContext(null);$C.displayName="Await";var Oi=G.createContext(null);Oi.displayName="Navigation";var lh=G.createContext(null);lh.displayName="Location";var Di=G.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Qy=G.createContext(null);Qy.displayName="RouteError";function KC(n,{relative:e}={}){$t(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(Oi),{hash:a,pathname:l,search:u}=ch(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:fa([t,l])),r.createHref({pathname:f,search:u,hash:a})}function Rc(){return G.useContext(lh)!=null}function So(){return $t(Rc(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(lh).location}var Bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zw(n){G.useContext(Oi).static||G.useLayoutEffect(n)}function Ea(){let{isDataRoute:n}=G.useContext(Di);return n?lR():QC()}function QC(){$t(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(Cc),{basename:e,navigator:t}=G.useContext(Oi),{matches:r}=G.useContext(Di),{pathname:a}=So(),l=JSON.stringify($y(r)),u=G.useRef(!1);return zw(()=>{u.current=!0}),G.useCallback((m,p={})=>{if(ri(u.current,Bw),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=Ky(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fa([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}var YC=G.createContext(null);function XC(n){let e=G.useContext(Di).outlet;return G.useMemo(()=>e&&G.createElement(YC.Provider,{value:n},e),[e,n])}function Yy(){let{matches:n}=G.useContext(Di),e=n[n.length-1];return e?e.params:{}}function ch(n,{relative:e}={}){let{matches:t}=G.useContext(Di),{pathname:r}=So(),a=JSON.stringify($y(t));return G.useMemo(()=>Ky(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function WC(n,e){return Hw(n,e)}function Hw(n,e,t,r,a){$t(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(Oi),{matches:u}=G.useContext(Di),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",T=f&&f.route;{let $=T&&T.path||"";Fw(p,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=So(),N;if(e){let $=typeof e=="string"?fl(e):e;$t(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),N=$}else N=w;let O=N.pathname||"/",D=O;if(v!=="/"){let $=v.replace(/^\//,"").split("/");D="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let I=jw(n,{pathname:D});ri(T||I!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ri(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=nR(I&&I.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:fa([v,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:fa([v,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,t,r,a);return e&&q?G.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},q):q}function ZC(){let n=oR(),e=zC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:a},t):null,u)}var JC=G.createElement(ZC,null),eR=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?G.createElement(Di.Provider,{value:this.props.routeContext},G.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:n,match:e,children:t}){let r=G.useContext(Cc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Di.Provider,{value:n},t)}function nR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let v=l.findIndex(T=>T.route.id&&u?.[T.route.id]!==void 0);$t(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let T=l[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=v),T.route.id){let{loaderData:w,errors:N}=t,O=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!N||N[T.route.id]===void 0);if(T.route.lazy||O){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=t&&r?(v,T)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:HC(t.matches),errorInfo:T})}:void 0;return l.reduceRight((v,T,w)=>{let N,O=!1,D=null,I=null;t&&(N=u&&T.route.id?u[T.route.id]:void 0,D=T.route.errorElement||JC,f&&(m<0&&w===0?(Fw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,I=null):m===w&&(O=!0,I=T.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,w+1)),$=()=>{let ne;return N?ne=D:O?ne=I:T.route.Component?ne=G.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=v,G.createElement(tR,{match:T,routeContext:{outlet:v,matches:q,isDataRoute:t!=null},children:ne})};return t&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?G.createElement(eR,{location:t.location,revalidation:t.revalidation,component:D,error:N,children:$(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:p}):$()},null)}function Xy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rR(n){let e=G.useContext(Cc);return $t(e,Xy(n)),e}function iR(n){let e=G.useContext(Bd);return $t(e,Xy(n)),e}function sR(n){let e=G.useContext(Di);return $t(e,Xy(n)),e}function Wy(n){let e=sR(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aR(){return Wy("useRouteId")}function oR(){let n=G.useContext(Qy),e=iR("useRouteError"),t=Wy("useRouteError");return n!==void 0?n:e.errors?.[t]}function lR(){let{router:n}=rR("useNavigate"),e=Wy("useNavigate"),t=G.useRef(!1);return zw(()=>{t.current=!0}),G.useCallback(async(a,l={})=>{ri(t.current,Bw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var X_={};function Fw(n,e,t){!e&&!X_[n]&&(X_[n]=!0,ri(!1,t))}G.memo(cR);function cR({routes:n,future:e,state:t,unstable_onError:r}){return Hw(n,void 0,t,r,e)}function uR({to:n,replace:e,state:t,relative:r}){$t(Rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=G.useContext(Oi);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext(Di),{pathname:u}=So(),f=Ea(),m=Ky(n,$y(l),u,r==="path"),p=JSON.stringify(m);return G.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function hR(n){return XC(n.context)}function ir(n){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){$t(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof t=="string"&&(t=fl(t));let{pathname:p="/",search:v="",hash:T="",state:w=null,key:N="default"}=t,O=G.useMemo(()=>{let D=ma(p,f);return D==null?null:{location:{pathname:D,search:v,hash:T,state:w,key:N},navigationType:r}},[f,p,v,T,w,N,r]);return ri(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(Oi.Provider,{value:m},G.createElement(lh.Provider,{children:e,value:O}))}function dR({children:n,location:e}){return WC(Jg(n),e)}function Jg(n,e=[]){let t=[];return G.Children.forEach(n,(r,a)=>{if(!G.isValidElement(r))return;let l=[...e,a];if(r.type===G.Fragment){t.push.apply(t,Jg(r.props.children,l));return}$t(r.type===ir,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Jg(r.props.children,l)),t.push(u)}),t}var rd="get",id="application/x-www-form-urlencoded";function zd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function mR(n){return zd(n)&&n.tagName.toLowerCase()==="button"}function pR(n){return zd(n)&&n.tagName.toLowerCase()==="form"}function gR(n){return zd(n)&&n.tagName.toLowerCase()==="input"}function yR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vR(n,e){return n.button===0&&(!e||e==="_self")&&!yR(n)}var Vf=null;function bR(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(n){return n!=null&&!_R.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):n}function ER(n,e){let t,r,a,l,u;if(pR(n)){let f=n.getAttribute("action");r=f?ma(f,e):null,t=n.getAttribute("method")||rd,a=wg(n.getAttribute("enctype"))||id,l=new FormData(n)}else if(mR(n)||gR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?ma(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||rd,a=wg(n.getAttribute("formenctype"))||wg(f.getAttribute("enctype"))||id,l=new FormData(f,n),!bR()){let{name:p,type:v,value:T}=n;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,T)}}else{if(zd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rd,r=null,a=id,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function TR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ma(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function wR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await wR(l,t);return u.links?u.links():[]}return[]}));return RR(r.flat(1).filter(xR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function W_(n,e,t,r,a,l){let u=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function SR(n,e,{includeHydrateFallback:t}={}){return NR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function NR(n){return[...new Set(n)]}function CR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function RR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(CR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function Gw(){let n=G.useContext(Cc);return Zy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IR(){let n=G.useContext(Bd);return Zy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jy=G.createContext(void 0);Jy.displayName="FrameworkContext";function $w(){let n=G.useContext(Jy);return Zy(n,"You must render this element inside a <HydratedRouter> element"),n}function OR(n,e){let t=G.useContext(Jy),[r,a]=G.useState(!1),[l,u]=G.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=e,w=G.useRef(null);G.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=q=>{q.forEach($=>{u($.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[n]),G.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let N=()=>{a(!0)},O=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:xu(f,N),onBlur:xu(m,O),onMouseEnter:xu(p,N),onMouseLeave:xu(v,O),onTouchStart:xu(T,N)}]:[!1,w,{}]}function xu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DR({page:n,...e}){let{router:t}=Gw(),r=G.useMemo(()=>jw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?G.createElement(kR,{page:n,matches:r,...e}):null}function LR(n){let{manifest:e,routeModules:t}=$w(),[r,a]=G.useState([]);return G.useEffect(()=>{let l=!1;return AR(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),r}function kR({page:n,matches:e,...t}){let r=So(),{manifest:a,routeModules:l}=$w(),{basename:u}=Gw(),{loaderData:f,matches:m}=IR(),p=G.useMemo(()=>W_(n,e,m,a,r,"data"),[n,e,m,a,r]),v=G.useMemo(()=>W_(n,e,m,a,r,"assets"),[n,e,m,a,r]),T=G.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let O=new Set,D=!1;if(e.forEach(q=>{let $=a.routes[q.route.id];!$||!$.hasLoader||(!p.some(ne=>ne.route.id===q.route.id)&&q.route.id in f&&l[q.route.id]?.shouldRevalidate||$.hasClientLoader?D=!0:O.add(q.route.id))}),O.size===0)return[];let I=TR(n,u,"data");return D&&O.size>0&&I.searchParams.set("_routes",e.filter(q=>O.has(q.route.id)).map(q=>q.route.id).join(",")),[I.pathname+I.search]},[u,f,r,a,p,e,n,l]),w=G.useMemo(()=>SR(v,a),[v,a]),N=LR(v);return G.createElement(G.Fragment,null,T.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),w.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),N.map(({key:O,link:D})=>G.createElement("link",{key:O,nonce:t.nonce,...D})))}function MR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kw&&(window.__reactRouterVersion="7.10.1")}catch{}function jR({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=G.useRef();a.current==null&&(a.current=vC({window:r,v5Compat:!0}));let l=a.current,[u,f]=G.useState({action:l.action,location:l.location}),m=G.useCallback(p=>{t===!1?f(p):G.startTransition(()=>f(p))},[t]);return G.useLayoutEffect(()=>l.listen(m),[l,m]),G.createElement(fR,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:T,...w},N){let{basename:O,unstable_useTransitions:D}=G.useContext(Oi),I=typeof p=="string"&&Qw.test(p),q,$=!1;if(typeof p=="string"&&I&&(q=p,Kw))try{let H=new URL(window.location.href),A=p.startsWith("//")?new URL(H.protocol+p):new URL(p),k=ma(A.pathname,O);A.origin===H.origin&&k!=null?p=k+A.search+A.hash:$=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=KC(p,{relative:a}),[be,ve,we]=OR(r,w),j=UR(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:T,unstable_useTransitions:D});function M(H){e&&e(H),H.defaultPrevented||j(H)}let P=G.createElement("a",{...w,...we,href:q||ne,onClick:$||l?e:M,ref:MR(N,ve),target:m,"data-discover":!I&&t==="render"?"true":void 0});return be&&!I?G.createElement(G.Fragment,null,P,G.createElement(DR,{page:ne})):P});vn.displayName="Link";var Yw=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let T=ch(u,{relative:p.relative}),w=So(),N=G.useContext(Bd),{navigator:O,basename:D}=G.useContext(Oi),I=N!=null&&FR(T)&&f===!0,q=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,$=w.pathname,ne=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||($=$.toLowerCase(),ne=ne?ne.toLowerCase():null,q=q.toLowerCase()),ne&&D&&(ne=ma(ne,D)||ne);const be=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ve=$===q||!a&&$.startsWith(q)&&$.charAt(be)==="/",we=ne!=null&&(ne===q||!a&&ne.startsWith(q)&&ne.charAt(q.length)==="/"),j={isActive:ve,isPending:we,isTransitioning:I},M=ve?e:void 0,P;typeof r=="function"?P=r(j):P=[r,ve?"active":null,we?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(j):l;return G.createElement(vn,{...p,"aria-current":M,className:P,ref:v,style:H,to:u,viewTransition:f},typeof m=="function"?m(j):m)});Yw.displayName="NavLink";var PR=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:u=rd,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:T,...w},N)=>{let{unstable_useTransitions:O}=G.useContext(Oi),D=zR(),I=HR(f,{relative:p}),q=u.toLowerCase()==="get"?"get":"post",$=typeof f=="string"&&Qw.test(f),ne=be=>{if(m&&m(be),be.defaultPrevented)return;be.preventDefault();let ve=be.nativeEvent.submitter,we=ve?.getAttribute("formmethod")||u,j=()=>D(ve||be.currentTarget,{fetcherKey:e,method:we,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:T});O&&t!==!1?G.startTransition(()=>j()):j()};return G.createElement("form",{ref:N,method:q,action:I,onSubmit:r?m:ne,...w,"data-discover":!$&&n==="render"?"true":void 0})});PR.displayName="Form";function VR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(n){let e=G.useContext(Cc);return $t(e,VR(n)),e}function UR(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_useTransitions:f}={}){let m=Ea(),p=So(),v=ch(n,{relative:l});return G.useCallback(T=>{if(vR(T,e)){T.preventDefault();let w=t!==void 0?t:Gu(p)===Gu(v),N=()=>m(n,{replace:w,state:r,preventScrollReset:a,relative:l,viewTransition:u});f?G.startTransition(()=>N()):N()}},[p,m,v,t,r,e,n,a,l,u,f])}var qR=0,BR=()=>`__${String(++qR)}__`;function zR(){let{router:n}=Xw("useSubmit"),{basename:e}=G.useContext(Oi),t=aR(),r=n.fetch,a=n.navigate;return G.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:v,body:T}=ER(l,e);if(u.navigate===!1){let w=u.fetcherKey||BR();await r(w,t,u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:T,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{preventScrollReset:u.preventScrollReset,formData:v,body:T,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,t])}function HR(n,{relative:e}={}){let{basename:t}=G.useContext(Oi),r=G.useContext(Di);$t(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...ch(n||".",{relative:e})},u=So();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fa([t,l.pathname])),Gu(l)}function FR(n,{relative:e}={}){let t=G.useContext(qw);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xw("useViewTransitionState"),a=ch(n,{relative:e});if(!t.isTransitioning)return!1;let l=ma(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ma(t.nextLocation.pathname,r)||t.nextLocation.pathname;return gd(a.pathname,u)!=null||gd(a.pathname,l)!=null}const GR=()=>{};var Z_={};const Ww=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},$R=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,T=(l&3)<<4|f>>4;let w=(f&15)<<2|p>>6,N=p&63;m||(N=64,u||(w=64)),r.push(t[v],t[T],t[w],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ww(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$R(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||T==null)throw new KR;const w=l<<2|f>>4;if(r.push(w),p!==64){const N=f<<4&240|p>>2;if(r.push(N),T!==64){const O=p<<6&192|T;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(n){const e=Ww(n);return Zw.encodeByteArray(e,!0)},yd=function(n){return QR(n).replace(/\./g,"")},Jw=function(n){try{return Zw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XR=()=>YR().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof Z_>"u")return;const n=Z_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Jw(n[1]);return e&&JSON.parse(e)},Hd=()=>{try{return GR()||XR()||WR()||ZR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ex=n=>Hd()?.emulatorHosts?.[n],JR=n=>{const e=ex(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tx=()=>Hd()?.config,nx=n=>Hd()?.[`_${n}`];class e4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ic(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rx(n){return(await fetch(n,{credentials:"include"})).ok}function t4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yd(JSON.stringify(t)),yd(JSON.stringify(u)),""].join(".")}const Pu={};function n4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?n.emulator.push(e):n.prod.push(e);return n}function r4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let J_=!1;function ix(n,e){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||Pu[n]===e||Pu[n]||J_)return;Pu[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=n4().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{J_=!0,u()},w}function v(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=r4(r),N=t("text"),O=document.getElementById(N)||document.createElement("span"),D=t("learnmore"),I=document.getElementById(D)||document.createElement("a"),q=t("preprendIcon"),$=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;f(ne),v(I,D);const be=p();m($,q),ne.append($,O,I,be),document.body.appendChild(ne)}l?(O.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function s4(){const n=Hd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c4(){const n=lr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function u4(){return!s4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h4(){try{return typeof indexedDB=="object"}catch{return!1}}function f4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const d4="FirebaseError";class Ta extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=d4,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?m4(l,r):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ta(a,f,r)}}function m4(n,e){return n.replace(p4,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const p4=/\{\$([^}]+)}/g;function g4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],u=e[a];if(eE(l)&&eE(u)){if(!nl(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function eE(n){return n!==null&&typeof n=="object"}function hh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ru(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function y4(n,e){const t=new v4(n,e);return t.subscribe.bind(t)}class v4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");b4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xg(){}function An(n){return n&&n._delegate?n._delegate:n}class rl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zo="[DEFAULT]";class _4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new e4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T4(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E4(n){return n===Zo?void 0:n}function T4(n){return n.instantiationMode==="EAGER"}class w4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const x4={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},A4=it.INFO,S4={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},N4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=S4[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e0{constructor(e){this.name=e,this._logLevel=A4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const C4=(n,e)=>e.some(t=>n instanceof t);let tE,nE;function R4(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I4(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sx=new WeakMap,ey=new WeakMap,ax=new WeakMap,Ag=new WeakMap,t0=new WeakMap;function O4(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(ho(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&sx.set(t,n)}).catch(()=>{}),t0.set(e,n),e}function D4(n){if(ey.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});ey.set(n,e)}let ty={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ey.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ax.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ho(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L4(n){ty=n(ty)}function k4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Sg(this),e,...t);return ax.set(r,e.sort?e.sort():[e]),ho(r)}:I4().includes(n)?function(...e){return n.apply(Sg(this),e),ho(sx.get(this))}:function(...e){return ho(n.apply(Sg(this),e))}}function M4(n){return typeof n=="function"?k4(n):(n instanceof IDBTransaction&&D4(n),C4(n,R4())?new Proxy(n,ty):n)}function ho(n){if(n instanceof IDBRequest)return O4(n);if(Ag.has(n))return Ag.get(n);const e=M4(n);return e!==n&&(Ag.set(n,e),t0.set(e,n)),e}const Sg=n=>t0.get(n);function j4(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=ho(u);return r&&u.addEventListener("upgradeneeded",m=>{r(ho(u.result),m.oldVersion,m.newVersion,ho(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const P4=["get","getKey","getAll","getAllKeys","count"],V4=["put","add","delete","clear"],Ng=new Map;function rE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=V4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||P4.includes(t)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return Ng.set(e,l),l}L4(n=>({...n,get:(e,t,r)=>rE(e,t)||n.get(e,t,r),has:(e,t)=>!!rE(e,t)||n.has(e,t)}));class U4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function q4(n){return n.getComponent()?.type==="VERSION"}const ny="@firebase/app",iE="0.14.6";const pa=new e0("@firebase/app"),B4="@firebase/app-compat",z4="@firebase/analytics-compat",H4="@firebase/analytics",F4="@firebase/app-check-compat",G4="@firebase/app-check",$4="@firebase/auth",K4="@firebase/auth-compat",Q4="@firebase/database",Y4="@firebase/data-connect",X4="@firebase/database-compat",W4="@firebase/functions",Z4="@firebase/functions-compat",J4="@firebase/installations",eI="@firebase/installations-compat",tI="@firebase/messaging",nI="@firebase/messaging-compat",rI="@firebase/performance",iI="@firebase/performance-compat",sI="@firebase/remote-config",aI="@firebase/remote-config-compat",oI="@firebase/storage",lI="@firebase/storage-compat",cI="@firebase/firestore",uI="@firebase/ai",hI="@firebase/firestore-compat",fI="firebase",dI="12.6.0";const ry="[DEFAULT]",mI={[ny]:"fire-core",[B4]:"fire-core-compat",[H4]:"fire-analytics",[z4]:"fire-analytics-compat",[G4]:"fire-app-check",[F4]:"fire-app-check-compat",[$4]:"fire-auth",[K4]:"fire-auth-compat",[Q4]:"fire-rtdb",[Y4]:"fire-data-connect",[X4]:"fire-rtdb-compat",[W4]:"fire-fn",[Z4]:"fire-fn-compat",[J4]:"fire-iid",[eI]:"fire-iid-compat",[tI]:"fire-fcm",[nI]:"fire-fcm-compat",[rI]:"fire-perf",[iI]:"fire-perf-compat",[sI]:"fire-rc",[aI]:"fire-rc-compat",[oI]:"fire-gcs",[lI]:"fire-gcs-compat",[cI]:"fire-fst",[hI]:"fire-fst-compat",[uI]:"fire-vertex","fire-js":"fire-js",[fI]:"fire-js-all"};const vd=new Map,pI=new Map,iy=new Map;function sE(n,e){try{n.container.addComponent(e)}catch(t){pa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yc(n){const e=n.name;if(iy.has(e))return pa.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,n);for(const t of vd.values())sE(t,n);for(const t of pI.values())sE(t,n);return!0}function n0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jr(n){return n==null?!1:n.settings!==void 0}const gI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new uh("app","Firebase",gI);class yI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}const Oc=dI;function ox(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ry,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw fo.create("bad-app-name",{appName:String(a)});if(t||(t=tx()),!t)throw fo.create("no-options");const l=vd.get(a);if(l){if(nl(t,l.options)&&nl(r,l.config))return l;throw fo.create("duplicate-app",{appName:a})}const u=new w4(a);for(const m of iy.values())u.addComponent(m);const f=new yI(t,r,u);return vd.set(a,f),f}function lx(n=ry){const e=vd.get(n);if(!e&&n===ry&&tx())return ox();if(!e)throw fo.create("no-app",{appName:n});return e}function mo(n,e,t){let r=mI[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pa.warn(u.join(" "));return}yc(new rl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const vI="firebase-heartbeat-database",bI=1,$u="firebase-heartbeat-store";let Cg=null;function cx(){return Cg||(Cg=j4(vI,bI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw fo.create("idb-open",{originalErrorMessage:n.message})})),Cg}async function _I(n){try{const t=(await cx()).transaction($u),r=await t.objectStore($u).get(ux(n));return await t.done,r}catch(e){if(e instanceof Ta)pa.warn(e.message);else{const t=fo.create("idb-get",{originalErrorMessage:e?.message});pa.warn(t.message)}}}async function aE(n,e){try{const r=(await cx()).transaction($u,"readwrite");await r.objectStore($u).put(e,ux(n)),await r.done}catch(t){if(t instanceof Ta)pa.warn(t.message);else{const r=fo.create("idb-set",{originalErrorMessage:t?.message});pa.warn(r.message)}}}function ux(n){return`${n.name}!${n.options.appId}`}const EI=1024,TI=30;class wI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>TI){const a=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oE(),{heartbeatsToSend:t,unsentEntries:r}=xI(this._heartbeatsCache.heartbeats),a=yd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return pa.warn(e),""}}}function oE(){return new Date().toISOString().substring(0,10)}function xI(n,e=EI){const t=[];let r=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),lE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),lE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class AI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h4()?f4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _I(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lE(n){return yd(JSON.stringify({version:2,heartbeats:n})).length}function SI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function NI(n){yc(new rl("platform-logger",e=>new U4(e),"PRIVATE")),yc(new rl("heartbeat",e=>new wI(e),"PRIVATE")),mo(ny,iE,n),mo(ny,iE,"esm2020"),mo("fire-js","")}NI("");var CI="firebase",RI="12.6.0";mo(CI,RI,"app");function hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const II=hx,fx=new uh("auth","Firebase",hx());const bd=new e0("@firebase/auth");function OI(n,...e){bd.logLevel<=it.WARN&&bd.warn(`Auth (${Oc}): ${n}`,...e)}function sd(n,...e){bd.logLevel<=it.ERROR&&bd.error(`Auth (${Oc}): ${n}`,...e)}function Ri(n,...e){throw i0(n,...e)}function Xi(n,...e){return i0(n,...e)}function r0(n,e,t){const r={...II(),[e]:t};return new uh("auth","Firebase",r).create(e,{appName:n.name})}function da(n){return r0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DI(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ri(n,"argument-error"),r0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fx.create(n,...e)}function Ve(n,e,...t){if(!n)throw i0(e,...t)}function ua(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sd(e),new Error(e)}function ga(n,e){n||ua(e)}function sy(){return typeof self<"u"&&self.location?.href||""}function LI(){return cE()==="http:"||cE()==="https:"}function cE(){return typeof self<"u"&&self.location?.protocol||null}function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LI()||o4()||"connection"in navigator)?navigator.onLine:!0}function MI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class fh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ga(t>e,"Short delay should be less than long delay!"),this.isMobile=i4()||l4()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function s0(n,e){ga(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VI=new fh(3e4,6e4);function No(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function wa(n,e,t,r,a={}){return mx(n,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const f=hh({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return a4()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ic(n.emulatorConfig.host)&&(p.credentials="include"),dx.fetch()(await px(n,n.config.apiHost,t,f),p)})}async function mx(n,e,t){n._canInitEmulator=!1;const r={...jI,...e};try{const a=new qI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Uf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Uf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Uf(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw r0(n,v,p);Ri(n,v)}}catch(a){if(a instanceof Ta)throw a;Ri(n,"network-request-failed",{message:String(a)})}}async function dh(n,e,t,r,a={}){const l=await wa(n,e,t,r,a);return"mfaPendingCredential"in l&&Ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function px(n,e,t,r){const a=`${e}${t}?${r}`,l=n,u=l.config.emulator?s0(n.config,a):`${n.config.apiScheme}://${a}`;return PI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function UI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),VI.get())})}}function Uf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Xi(n,e,r);return a.customData._tokenResponse=t,a}function uE(n){return n!==void 0&&n.enterprise!==void 0}class BI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zI(n,e){return wa(n,"GET","/v2/recaptchaConfig",No(n,e))}async function HI(n,e){return wa(n,"POST","/v1/accounts:delete",e)}async function _d(n,e){return wa(n,"POST","/v1/accounts:lookup",e)}function Vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FI(n,e=!1){const t=An(n),r=await t.getIdToken(e),a=a0(r);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:Vu(Rg(a.auth_time)),issuedAtTime:Vu(Rg(a.iat)),expirationTime:Vu(Rg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Rg(n){return Number(n)*1e3}function a0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Jw(t);return a?JSON.parse(a):(sd("Failed to decode base64 JWT payload"),null)}catch(a){return sd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function hE(n){const e=a0(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ta&&GI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ay{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ed(n){const e=n.auth,t=await n.getIdToken(),r=await vc(n,_d(e,{idToken:t}));Ve(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?gx(a.providerUserInfo):[],u=QI(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ay(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function KI(n){const e=An(n);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QI(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function gx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function YI(n,e){const t=await mx(n,{},async()=>{const r=hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await px(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return n.emulatorConfig&&Ic(n.emulatorConfig.host)&&(m.credentials="include"),dx.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XI(n,e){return wa(n,"POST","/v2/accounts:revokeToken",No(n,e))}class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=hE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await YI(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,u=new cc;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return ua("not implemented")}}function to(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ay(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await vc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FI(this,e)}reload(){return KI(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await vc(this,HI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:N,providerData:O,stsTokenManager:D}=t;Ve(T&&D,e,"internal-error");const I=cc.fromJSON(this.name,D);Ve(typeof T=="string",e,"internal-error"),to(r,e.name),to(a,e.name),Ve(typeof w=="boolean",e,"internal-error"),Ve(typeof N=="boolean",e,"internal-error"),to(l,e.name),to(u,e.name),to(f,e.name),to(m,e.name),to(p,e.name),to(v,e.name);const q=new Yi({uid:T,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:N,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:p,lastLoginAt:v});return O&&Array.isArray(O)&&(q.providerData=O.map($=>({...$}))),m&&(q._redirectEventId=m),q}static async _fromIdTokenResponse(e,t,r=!1){const a=new cc;a.updateFromServerResponse(t);const l=new Yi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ed(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?gx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new cc;f.updateFromIdToken(r);const m=new Yi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ay(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const fE=new Map;function ha(n){ga(n instanceof Function,"Expected a class definition");let e=fE.get(n);return e?(ga(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fE.set(n,e),e)}class yx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yx.type="NONE";const dE=yx;function ad(n,e,t){return`firebase:${n}:${e}:${t}`}class uc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=ad(this.userKey,a.apiKey,l),this.fullPersistenceKey=ad("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _d(this.auth,{idToken:e}).catch(()=>{});return t?Yi._fromGetAccountInfoResponse(this.auth,t,e):null}return Yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new uc(ha(dE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ha(dE);const u=ad(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(u);if(v){let T;if(typeof v=="string"){const w=await _d(e,{idToken:v}).catch(()=>{});if(!w)break;T=await Yi._fromGetAccountInfoResponse(e,w,v)}else T=Yi._fromJSON(e,v);p!==l&&(f=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new uc(l,e,r):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new uc(l,e,r))}}function mE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wx(e))return"Blackberry";if(xx(e))return"Webos";if(bx(e))return"Safari";if((e.includes("chrome/")||_x(e))&&!e.includes("edge/"))return"Chrome";if(Tx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function vx(n=lr()){return/firefox\//i.test(n)}function bx(n=lr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _x(n=lr()){return/crios\//i.test(n)}function Ex(n=lr()){return/iemobile/i.test(n)}function Tx(n=lr()){return/android/i.test(n)}function wx(n=lr()){return/blackberry/i.test(n)}function xx(n=lr()){return/webos/i.test(n)}function o0(n=lr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WI(n=lr()){return o0(n)&&!!window.navigator?.standalone}function ZI(){return c4()&&document.documentMode===10}function Ax(n=lr()){return o0(n)||Tx(n)||xx(n)||wx(n)||/windows phone/i.test(n)||Ex(n)}function Sx(n,e=[]){let t;switch(n){case"Browser":t=mE(lr());break;case"Worker":t=`${mE(lr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oc}/${r}`}class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function e3(n,e={}){return wa(n,"GET","/v2/passwordPolicy",No(n,e))}const t3=6;class n3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??t3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class r3{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ha(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _d(this,{idToken:e}),r=await Yi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(da(this));const t=e?An(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e3(this),t=new n3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ha(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await uc.create(this,[ha(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Co(n){return An(n)}class pE{constructor(e){this.auth=e,this.observer=null,this.addObserver=y4(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i3(n){Fd=n}function Nx(n){return Fd.loadJS(n)}function s3(){return Fd.recaptchaEnterpriseScript}function a3(){return Fd.gapiScript}function o3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class l3{constructor(){this.enterprise=new c3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class c3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const u3="recaptcha-enterprise",Cx="NO_RECAPTCHA";class h3{constructor(e){this.type=u3,this.auth=Co(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{zI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new BI(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;uE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(Cx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(f=>{if(!t&&uE(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=s3();m.length!==0&&(m+=f),Nx(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function gE(n,e,t,r=!1,a=!1){const l=new h3(n);let u;if(a)u=Cx;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function oy(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await gE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gE(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}function f3(n,e){const t=n0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(nl(l,e??{}))return a;Ri(a,"already-initialized")}return t.initialize({options:e})}function d3(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ha);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function m3(n,e,t){const r=Co(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Rx(e),{host:u,port:f}=p3(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(nl(p,r.config.emulator)&&nl(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ic(u)?(rx(`${l}//${u}${m}`),ix("Auth",!0)):g3()}function Rx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function p3(n){const e=Rx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:yE(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:yE(u)}}}function yE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function g3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class l0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ua("not implemented")}_getIdTokenResponse(e){return ua("not implemented")}_linkToIdToken(e,t){return ua("not implemented")}_getReauthenticationResolver(e){return ua("not implemented")}}async function y3(n,e){return wa(n,"POST","/v1/accounts:signUp",e)}async function v3(n,e){return dh(n,"POST","/v1/accounts:signInWithPassword",No(n,e))}async function b3(n,e){return dh(n,"POST","/v1/accounts:signInWithEmailLink",No(n,e))}async function _3(n,e){return dh(n,"POST","/v1/accounts:signInWithEmailLink",No(n,e))}class Ku extends l0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ku(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ku(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,t,"signInWithPassword",v3);case"emailLink":return b3(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,r,"signUpPassword",y3);case"emailLink":return _3(e,{idToken:t,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hc(n,e){return dh(n,"POST","/v1/accounts:signInWithIdp",No(n,e))}const E3="http://localhost";class il extends l0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const u=new il(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return hc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,hc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hc(e,t)}buildRequest(){const e={requestUri:E3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hh(t)}return e}}function T3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w3(n){const e=Cu(Ru(n)).link,t=e?Cu(Ru(e)).deep_link_id:null,r=Cu(Ru(n)).deep_link_id;return(r?Cu(Ru(r)).link:null)||r||t||e||n}class c0{constructor(e){const t=Cu(Ru(e)),r=t.apiKey??null,a=t.oobCode??null,l=T3(t.mode??null);Ve(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=w3(e);try{return new c0(t)}catch{return null}}}class Dc{constructor(){this.providerId=Dc.PROVIDER_ID}static credential(e,t){return Ku._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=c0.parseLink(t);return Ve(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}Dc.PROVIDER_ID="password";Dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class u0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mh extends u0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ro extends mh{constructor(){super("facebook.com")}static credential(e){return il._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";class bs extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return il._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";class io extends mh{constructor(){super("github.com")}static credential(e){return il._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";class so extends mh{constructor(){super("twitter.com")}static credential(e,t){return il._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return so.credential(t,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";async function x3(n,e){return dh(n,"POST","/v1/accounts:signUp",No(n,e))}class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Yi._fromIdTokenResponse(e,r,a),u=vE(r);return new sl({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=vE(r);return new sl({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function vE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Td extends Ta{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Td(e,t,r,a)}}function Ix(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(n,l,e,r):l})}async function A3(n,e,t=!1){const r=await vc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return sl._forOperation(n,"link",r)}async function S3(n,e,t=!1){const{auth:r}=n;if(Jr(r.app))return Promise.reject(da(r));const a="reauthenticate";try{const l=await vc(n,Ix(r,a,e,n),t);Ve(l.idToken,r,"internal-error");const u=a0(l.idToken);Ve(u,r,"internal-error");const{sub:f}=u;return Ve(n.uid===f,r,"user-mismatch"),sl._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),l}}async function Ox(n,e,t=!1){if(Jr(n.app))return Promise.reject(da(n));const r="signIn",a=await Ix(n,r,e),l=await sl._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function N3(n,e){return Ox(Co(n),e)}async function Dx(n){const e=Co(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C3(n,e,t){if(Jr(n.app))return Promise.reject(da(n));const r=Co(n),u=await oy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Dx(n),m}),f=await sl._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function R3(n,e,t){return Jr(n.app)?Promise.reject(da(n)):N3(An(n),Dc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dx(n),r})}async function I3(n,e){return wa(n,"POST","/v1/accounts:update",e)}async function O3(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=An(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await vc(r,I3(r.auth,l));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function D3(n,e,t,r){return An(n).onIdTokenChanged(e,t,r)}function L3(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function h0(n,e,t,r){return An(n).onAuthStateChanged(e,t,r)}function k3(n){return An(n).signOut()}const wd="__sak";class Lx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const M3=1e3,j3=10;class kx extends Lx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ax(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);ZI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,j3):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},M3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kx.type="LOCAL";const P3=kx;class Mx extends Lx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mx.type="SESSION";const jx=Mx;function V3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(u).map(async p=>p(t.origin,l)),m=await V3(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];function f0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class U3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=f0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function _s(){return window}function q3(n){_s().location.href=n}function Px(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function B3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z3(){return navigator?.serviceWorker?.controller||null}function H3(){return Px()?self:null}const Vx="firebaseLocalStorageDb",F3=1,xd="firebaseLocalStorage",Ux="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $d(n,e){return n.transaction([xd],e?"readwrite":"readonly").objectStore(xd)}function G3(){const n=indexedDB.deleteDatabase(Vx);return new ph(n).toPromise()}function ly(){const n=indexedDB.open(Vx,F3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xd,{keyPath:Ux})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xd)?e(r):(r.close(),await G3(),e(await ly()))})})}async function bE(n,e,t){const r=$d(n,!0).put({[Ux]:e,value:t});return new ph(r).toPromise()}async function $3(n,e){const t=$d(n,!1).get(e),r=await new ph(t).toPromise();return r===void 0?null:r.value}function _E(n,e){const t=$d(n,!0).delete(e);return new ph(t).toPromise()}const K3=800,Q3=3;class qx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Q3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Px()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(H3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B3(),!this.activeServiceWorker)return;this.sender=new U3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await bE(e,wd,"1"),await _E(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$d(a,!1).getAll();return new ph(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qx.type="LOCAL";const Y3=qx;new fh(3e4,6e4);function Bx(n,e){return e?ha(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class d0 extends l0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function X3(n){return Ox(n.auth,new d0(n),n.bypassAuthState)}function W3(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),S3(t,new d0(n),n.bypassAuthState)}async function Z3(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),A3(t,new d0(n),n.bypassAuthState)}class zx{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X3;case"linkViaPopup":case"linkViaRedirect":return Z3;case"reauthViaPopup":case"reauthViaRedirect":return W3;default:Ri(this.auth,"internal-error")}}resolve(e){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const J3=new fh(2e3,1e4);async function Hx(n,e,t){if(Jr(n.app))return Promise.reject(Xi(n,"operation-not-supported-in-this-environment"));const r=Co(n);DI(n,e,u0);const a=Bx(r,t);return new Jo(r,"signInViaPopup",e,a).executeNotNull()}class Jo extends zx{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ga(this.filter.length===1,"Popup operations only handle one event");const e=f0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J3.get())};e()}}Jo.currentPopupAction=null;const eO="pendingRedirect",od=new Map;class tO extends zx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await nO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nO(n,e){const t=sO(e),r=iO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function rO(n,e){od.set(n._key(),e)}function iO(n){return ha(n._redirectPersistence)}function sO(n){return ad(eO,n.config.apiKey,n.name)}async function aO(n,e,t=!1){if(Jr(n.app))return Promise.reject(da(n));const r=Co(n),a=Bx(r,e),u=await new tO(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const oO=600*1e3;class lO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Fx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oO&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Fx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fx(n);default:return!1}}async function uO(n,e={}){return wa(n,"GET","/v1/projects",e)}const hO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fO=/^https?/;async function dO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uO(n);for(const t of e)try{if(mO(t))return}catch{}Ri(n,"unauthorized-domain")}function mO(n){const e=sy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!fO.test(t))return!1;if(hO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const pO=new fh(3e4,6e4);function TE(){const n=_s().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gO(n){return new Promise((e,t)=>{function r(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),t(Xi(n,"network-request-failed"))},timeout:pO.get()})}if(_s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_s().gapi?.load)r();else{const a=o3("iframefcb");return _s()[a]=()=>{gapi.load?r():t(Xi(n,"network-request-failed"))},Nx(`${a3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function yO(n){return ld=ld||gO(n),ld}const vO=new fh(5e3,15e3),bO="__/auth/iframe",_O="emulator/auth/iframe",EO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wO(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?s0(e,_O):`https://${n.config.authDomain}/${bO}`,r={apiKey:e.apiKey,appName:n.name,v:Oc},a=TO.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${hh(r).slice(1)}`}async function xO(n){const e=await yO(n),t=_s().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:wO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Xi(n,"network-request-failed"),f=_s().setTimeout(()=>{l(u)},vO.get());function m(){_s().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(u)})}))}const AO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,NO=600,CO="_blank",RO="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IO(n,e,t,r=SO,a=NO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m={...AO,width:r.toString(),height:a.toString(),top:l,left:u},p=lr().toLowerCase();t&&(f=_x(p)?CO:t),vx(p)&&(e=e||RO,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[N,O])=>`${w}${N}=${O},`,"");if(WI(p)&&f!=="_self")return OO(e||"",f),new wE(null);const T=window.open(e||"",f,v);Ve(T,n,"popup-blocked");try{T.focus()}catch{}return new wE(T)}function OO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const DO="__/auth/handler",LO="emulator/auth/handler",kO=encodeURIComponent("fac");async function xE(n,e,t,r,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Oc,eventId:a};if(e instanceof u0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",g4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))u[v]=T}if(e instanceof mh){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),p=m?`#${kO}=${encodeURIComponent(m)}`:"";return`${MO(n)}?${hh(f).slice(1)}${p}`}function MO({config:n}){return n.emulator?s0(n,LO):`https://${n.authDomain}/${DO}`}const Ig="webStorageSupport";class jO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jx,this._completeRedirectFn=aO,this._overrideRedirectResult=rO}async _openPopup(e,t,r,a){ga(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await xE(e,t,r,sy(),a);return IO(e,l,f0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await xE(e,t,r,sy(),a);return q3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ga(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xO(e),r=new lO(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ig,{type:Ig},a=>{const l=a?.[0]?.[Ig];l!==void 0&&t(!!l),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ax()||bx()||o0()}}const PO=jO;var AE="@firebase/auth",SE="1.11.1";class VO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(n){yc(new rl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sx(n)},p=new r3(r,a,l,m);return d3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),yc(new rl("auth-internal",e=>{const t=Co(e.getProvider("auth").getImmediate());return(r=>new VO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(AE,SE,UO(n)),mo(AE,SE,"esm2020")}const BO=300,zO=nx("authIdTokenMaxAge")||BO;let NE=null;const HO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>zO)return;const a=t?.token;NE!==a&&(NE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FO(n=lx()){const e=n0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=f3(n,{popupRedirectResolver:PO,persistence:[Y3,P3,jx]}),r=nx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=HO(l.toString());L3(t,u,()=>u(t.currentUser)),D3(t,f=>u(f))}}const a=ex("auth");return a&&m3(t,`http://${a}`),t}function GO(){return document.getElementsByTagName("head")?.[0]??document}i3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Xi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",GO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var po,Gx;(function(){var n;function e(j,M){function P(){}P.prototype=M.prototype,j.F=M.prototype,j.prototype=new P,j.prototype.constructor=j,j.D=function(H,A,k){for(var S=Array(arguments.length-2),me=2;me<arguments.length;me++)S[me-2]=arguments[me];return M.prototype[A].apply(H,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,M,P){P||(P=0);const H=Array(16);if(typeof M=="string")for(var A=0;A<16;++A)H[A]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(A=0;A<16;++A)H[A]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=j.g[0],P=j.g[1],A=j.g[2];let k=j.g[3],S;S=M+(k^P&(A^k))+H[0]+3614090360&4294967295,M=P+(S<<7&4294967295|S>>>25),S=k+(A^M&(P^A))+H[1]+3905402710&4294967295,k=M+(S<<12&4294967295|S>>>20),S=A+(P^k&(M^P))+H[2]+606105819&4294967295,A=k+(S<<17&4294967295|S>>>15),S=P+(M^A&(k^M))+H[3]+3250441966&4294967295,P=A+(S<<22&4294967295|S>>>10),S=M+(k^P&(A^k))+H[4]+4118548399&4294967295,M=P+(S<<7&4294967295|S>>>25),S=k+(A^M&(P^A))+H[5]+1200080426&4294967295,k=M+(S<<12&4294967295|S>>>20),S=A+(P^k&(M^P))+H[6]+2821735955&4294967295,A=k+(S<<17&4294967295|S>>>15),S=P+(M^A&(k^M))+H[7]+4249261313&4294967295,P=A+(S<<22&4294967295|S>>>10),S=M+(k^P&(A^k))+H[8]+1770035416&4294967295,M=P+(S<<7&4294967295|S>>>25),S=k+(A^M&(P^A))+H[9]+2336552879&4294967295,k=M+(S<<12&4294967295|S>>>20),S=A+(P^k&(M^P))+H[10]+4294925233&4294967295,A=k+(S<<17&4294967295|S>>>15),S=P+(M^A&(k^M))+H[11]+2304563134&4294967295,P=A+(S<<22&4294967295|S>>>10),S=M+(k^P&(A^k))+H[12]+1804603682&4294967295,M=P+(S<<7&4294967295|S>>>25),S=k+(A^M&(P^A))+H[13]+4254626195&4294967295,k=M+(S<<12&4294967295|S>>>20),S=A+(P^k&(M^P))+H[14]+2792965006&4294967295,A=k+(S<<17&4294967295|S>>>15),S=P+(M^A&(k^M))+H[15]+1236535329&4294967295,P=A+(S<<22&4294967295|S>>>10),S=M+(A^k&(P^A))+H[1]+4129170786&4294967295,M=P+(S<<5&4294967295|S>>>27),S=k+(P^A&(M^P))+H[6]+3225465664&4294967295,k=M+(S<<9&4294967295|S>>>23),S=A+(M^P&(k^M))+H[11]+643717713&4294967295,A=k+(S<<14&4294967295|S>>>18),S=P+(k^M&(A^k))+H[0]+3921069994&4294967295,P=A+(S<<20&4294967295|S>>>12),S=M+(A^k&(P^A))+H[5]+3593408605&4294967295,M=P+(S<<5&4294967295|S>>>27),S=k+(P^A&(M^P))+H[10]+38016083&4294967295,k=M+(S<<9&4294967295|S>>>23),S=A+(M^P&(k^M))+H[15]+3634488961&4294967295,A=k+(S<<14&4294967295|S>>>18),S=P+(k^M&(A^k))+H[4]+3889429448&4294967295,P=A+(S<<20&4294967295|S>>>12),S=M+(A^k&(P^A))+H[9]+568446438&4294967295,M=P+(S<<5&4294967295|S>>>27),S=k+(P^A&(M^P))+H[14]+3275163606&4294967295,k=M+(S<<9&4294967295|S>>>23),S=A+(M^P&(k^M))+H[3]+4107603335&4294967295,A=k+(S<<14&4294967295|S>>>18),S=P+(k^M&(A^k))+H[8]+1163531501&4294967295,P=A+(S<<20&4294967295|S>>>12),S=M+(A^k&(P^A))+H[13]+2850285829&4294967295,M=P+(S<<5&4294967295|S>>>27),S=k+(P^A&(M^P))+H[2]+4243563512&4294967295,k=M+(S<<9&4294967295|S>>>23),S=A+(M^P&(k^M))+H[7]+1735328473&4294967295,A=k+(S<<14&4294967295|S>>>18),S=P+(k^M&(A^k))+H[12]+2368359562&4294967295,P=A+(S<<20&4294967295|S>>>12),S=M+(P^A^k)+H[5]+4294588738&4294967295,M=P+(S<<4&4294967295|S>>>28),S=k+(M^P^A)+H[8]+2272392833&4294967295,k=M+(S<<11&4294967295|S>>>21),S=A+(k^M^P)+H[11]+1839030562&4294967295,A=k+(S<<16&4294967295|S>>>16),S=P+(A^k^M)+H[14]+4259657740&4294967295,P=A+(S<<23&4294967295|S>>>9),S=M+(P^A^k)+H[1]+2763975236&4294967295,M=P+(S<<4&4294967295|S>>>28),S=k+(M^P^A)+H[4]+1272893353&4294967295,k=M+(S<<11&4294967295|S>>>21),S=A+(k^M^P)+H[7]+4139469664&4294967295,A=k+(S<<16&4294967295|S>>>16),S=P+(A^k^M)+H[10]+3200236656&4294967295,P=A+(S<<23&4294967295|S>>>9),S=M+(P^A^k)+H[13]+681279174&4294967295,M=P+(S<<4&4294967295|S>>>28),S=k+(M^P^A)+H[0]+3936430074&4294967295,k=M+(S<<11&4294967295|S>>>21),S=A+(k^M^P)+H[3]+3572445317&4294967295,A=k+(S<<16&4294967295|S>>>16),S=P+(A^k^M)+H[6]+76029189&4294967295,P=A+(S<<23&4294967295|S>>>9),S=M+(P^A^k)+H[9]+3654602809&4294967295,M=P+(S<<4&4294967295|S>>>28),S=k+(M^P^A)+H[12]+3873151461&4294967295,k=M+(S<<11&4294967295|S>>>21),S=A+(k^M^P)+H[15]+530742520&4294967295,A=k+(S<<16&4294967295|S>>>16),S=P+(A^k^M)+H[2]+3299628645&4294967295,P=A+(S<<23&4294967295|S>>>9),S=M+(A^(P|~k))+H[0]+4096336452&4294967295,M=P+(S<<6&4294967295|S>>>26),S=k+(P^(M|~A))+H[7]+1126891415&4294967295,k=M+(S<<10&4294967295|S>>>22),S=A+(M^(k|~P))+H[14]+2878612391&4294967295,A=k+(S<<15&4294967295|S>>>17),S=P+(k^(A|~M))+H[5]+4237533241&4294967295,P=A+(S<<21&4294967295|S>>>11),S=M+(A^(P|~k))+H[12]+1700485571&4294967295,M=P+(S<<6&4294967295|S>>>26),S=k+(P^(M|~A))+H[3]+2399980690&4294967295,k=M+(S<<10&4294967295|S>>>22),S=A+(M^(k|~P))+H[10]+4293915773&4294967295,A=k+(S<<15&4294967295|S>>>17),S=P+(k^(A|~M))+H[1]+2240044497&4294967295,P=A+(S<<21&4294967295|S>>>11),S=M+(A^(P|~k))+H[8]+1873313359&4294967295,M=P+(S<<6&4294967295|S>>>26),S=k+(P^(M|~A))+H[15]+4264355552&4294967295,k=M+(S<<10&4294967295|S>>>22),S=A+(M^(k|~P))+H[6]+2734768916&4294967295,A=k+(S<<15&4294967295|S>>>17),S=P+(k^(A|~M))+H[13]+1309151649&4294967295,P=A+(S<<21&4294967295|S>>>11),S=M+(A^(P|~k))+H[4]+4149444226&4294967295,M=P+(S<<6&4294967295|S>>>26),S=k+(P^(M|~A))+H[11]+3174756917&4294967295,k=M+(S<<10&4294967295|S>>>22),S=A+(M^(k|~P))+H[2]+718787259&4294967295,A=k+(S<<15&4294967295|S>>>17),S=P+(k^(A|~M))+H[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(A+(S<<21&4294967295|S>>>11))&4294967295,j.g[2]=j.g[2]+A&4294967295,j.g[3]=j.g[3]+k&4294967295}r.prototype.v=function(j,M){M===void 0&&(M=j.length);const P=M-this.blockSize,H=this.C;let A=this.h,k=0;for(;k<M;){if(A==0)for(;k<=P;)a(this,j,k),k+=this.blockSize;if(typeof j=="string"){for(;k<M;)if(H[A++]=j.charCodeAt(k++),A==this.blockSize){a(this,H),A=0;break}}else for(;k<M;)if(H[A++]=j[k++],A==this.blockSize){a(this,H),A=0;break}}this.h=A,this.o+=M},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;M=this.o*8;for(var P=j.length-8;P<j.length;++P)j[P]=M&255,M/=256;for(this.v(j),j=Array(16),M=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)j[M++]=this.g[P]>>>H&255;return j};function l(j,M){var P=f;return Object.prototype.hasOwnProperty.call(P,j)?P[j]:P[j]=M(j)}function u(j,M){this.h=M;const P=[];let H=!0;for(let A=j.length-1;A>=0;A--){const k=j[A]|0;H&&k==M||(P[A]=k,H=!1)}this.g=P}var f={};function m(j){return-128<=j&&j<128?l(j,function(M){return new u([M|0],M<0?-1:0)}):new u([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return T;if(j<0)return I(p(-j));const M=[];let P=1;for(let H=0;j>=P;H++)M[H]=j/P|0,P*=4294967296;return new u(M,0)}function v(j,M){if(j.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(j.charAt(0)=="-")return I(v(j.substring(1),M));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(M,8));let H=T;for(let k=0;k<j.length;k+=8){var A=Math.min(8,j.length-k);const S=parseInt(j.substring(k,k+A),M);A<8?(A=p(Math.pow(M,A)),H=H.j(A).add(p(S))):(H=H.j(P),H=H.add(p(S)))}return H}var T=m(0),w=m(1),N=m(16777216);n=u.prototype,n.m=function(){if(D(this))return-I(this).m();let j=0,M=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);j+=(H>=0?H:4294967296+H)*M,M*=4294967296}return j},n.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(O(this))return"0";if(D(this))return"-"+I(this).toString(j);const M=p(Math.pow(j,6));var P=this;let H="";for(;;){const A=be(P,M).g;P=q(P,A.j(M));let k=((P.g.length>0?P.g[0]:P.h)>>>0).toString(j);if(P=A,O(P))return k+H;for(;k.length<6;)k="0"+k;H=k+H}},n.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function O(j){if(j.h!=0)return!1;for(let M=0;M<j.g.length;M++)if(j.g[M]!=0)return!1;return!0}function D(j){return j.h==-1}n.l=function(j){return j=q(this,j),D(j)?-1:O(j)?0:1};function I(j){const M=j.g.length,P=[];for(let H=0;H<M;H++)P[H]=~j.g[H];return new u(P,~j.h).add(w)}n.abs=function(){return D(this)?I(this):this},n.add=function(j){const M=Math.max(this.g.length,j.g.length),P=[];let H=0;for(let A=0;A<=M;A++){let k=H+(this.i(A)&65535)+(j.i(A)&65535),S=(k>>>16)+(this.i(A)>>>16)+(j.i(A)>>>16);H=S>>>16,k&=65535,S&=65535,P[A]=S<<16|k}return new u(P,P[P.length-1]&-2147483648?-1:0)};function q(j,M){return j.add(I(M))}n.j=function(j){if(O(this)||O(j))return T;if(D(this))return D(j)?I(this).j(I(j)):I(I(this).j(j));if(D(j))return I(this.j(I(j)));if(this.l(N)<0&&j.l(N)<0)return p(this.m()*j.m());const M=this.g.length+j.g.length,P=[];for(var H=0;H<2*M;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let A=0;A<j.g.length;A++){const k=this.i(H)>>>16,S=this.i(H)&65535,me=j.i(A)>>>16,de=j.i(A)&65535;P[2*H+2*A]+=S*de,$(P,2*H+2*A),P[2*H+2*A+1]+=k*de,$(P,2*H+2*A+1),P[2*H+2*A+1]+=S*me,$(P,2*H+2*A+1),P[2*H+2*A+2]+=k*me,$(P,2*H+2*A+2)}for(j=0;j<M;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=M;j<2*M;j++)P[j]=0;return new u(P,0)};function $(j,M){for(;(j[M]&65535)!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function ne(j,M){this.g=j,this.h=M}function be(j,M){if(O(M))throw Error("division by zero");if(O(j))return new ne(T,T);if(D(j))return M=be(I(j),M),new ne(I(M.g),I(M.h));if(D(M))return M=be(j,I(M)),new ne(I(M.g),M.h);if(j.g.length>30){if(D(j)||D(M))throw Error("slowDivide_ only works with positive integers.");for(var P=w,H=M;H.l(j)<=0;)P=ve(P),H=ve(H);var A=we(P,1),k=we(H,1);for(H=we(H,2),P=we(P,2);!O(H);){var S=k.add(H);S.l(j)<=0&&(A=A.add(P),k=S),H=we(H,1),P=we(P,1)}return M=q(j,A.j(M)),new ne(A,M)}for(A=T;j.l(M)>=0;){for(P=Math.max(1,Math.floor(j.m()/M.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),k=p(P),S=k.j(M);D(S)||S.l(j)>0;)P-=H,k=p(P),S=k.j(M);O(k)&&(k=w),A=A.add(k),j=q(j,S)}return new ne(A,j)}n.B=function(j){return be(this,j).h},n.and=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)&j.i(H);return new u(P,this.h&j.h)},n.or=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)|j.i(H);return new u(P,this.h|j.h)},n.xor=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)^j.i(H);return new u(P,this.h^j.h)};function ve(j){const M=j.g.length+1,P=[];for(let H=0;H<M;H++)P[H]=j.i(H)<<1|j.i(H-1)>>>31;return new u(P,j.h)}function we(j,M){const P=M>>5;M%=32;const H=j.g.length-P,A=[];for(let k=0;k<H;k++)A[k]=M>0?j.i(k+P)>>>M|j.i(k+P+1)<<32-M:j.i(k+P);return new u(A,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Gx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,po=u}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $x,Iu,Kx,cd,cy,Qx,Yx,Xx;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var b=0;b<h.length;++b){var x=h[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function a(h,b){if(b)e:{var x=r;h=h.split(".");for(var L=0;L<h.length-1;L++){var Q=h[L];if(!(Q in x))break e;x=x[Q]}h=h[h.length-1],L=x[h],b=b(L),b!=L&&b!=null&&e(x,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var x=[],L;for(L in b)Object.prototype.hasOwnProperty.call(b,L)&&x.push([L,b[L]]);return x}});var l=l||{},u=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,x){return h.call.apply(h.bind,arguments)}function p(h,b,x){return p=m,p.apply(null,arguments)}function v(h,b){var x=Array.prototype.slice.call(arguments,1);return function(){var L=x.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function T(h,b){function x(){}x.prototype=b.prototype,h.Z=b.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(L,Q,te){for(var _e=Array(arguments.length-2),He=2;He<arguments.length;He++)_e[He-2]=arguments[He];return b.prototype[Q].apply(L,_e)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const b=h.length;if(b>0){const x=Array(b);for(let L=0;L<b;L++)x[L]=h[L];return x}return[]}function O(h,b){for(let L=1;L<arguments.length;L++){const Q=arguments[L];var x=typeof Q;if(x=x!="object"?x:Q?Array.isArray(Q)?"array":x:"null",x=="array"||x=="object"&&typeof Q.length=="number"){x=h.length||0;const te=Q.length||0;h.length=x+te;for(let _e=0;_e<te;_e++)h[x+_e]=Q[_e]}else h.push(Q)}}class D{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(h){u.setTimeout(()=>{throw h},0)}function q(){var h=j;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class ${constructor(){this.h=this.g=null}add(b,x){const L=ne.get();L.set(b,x),this.h?this.h.next=L:this.g=L,this.h=L}}var ne=new D(()=>new be,h=>h.reset());class be{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,we=!1,j=new $,M=()=>{const h=Promise.resolve(void 0);ve=()=>{h.then(P)}};function P(){for(var h;h=q();){try{h.h.call(h.g)}catch(x){I(x)}var b=ne;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}we=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,b),u.removeEventListener("test",x,b)}catch{}return h})();function S(h){return/^[\s\xa0]*$/.test(h)}function me(h,b){A.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}T(me,A),me.prototype.init=function(h,b){const x=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(x=="mouseover"?b=h.fromElement:x=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),z=0;function Z(h,b,x,L,Q){this.listener=h,this.proxy=null,this.src=b,this.type=x,this.capture=!!L,this.ha=Q,this.key=++z,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,b,x){for(const L in h)b.call(x,h[L],L,h)}function ge(h,b){for(const x in h)b.call(void 0,h[x],x,h)}function V(h){const b={};for(const x in h)b[x]=h[x];return b}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,b){let x,L;for(let Q=1;Q<arguments.length;Q++){L=arguments[Q];for(x in L)h[x]=L[x];for(let te=0;te<Y.length;te++)x=Y[te],Object.prototype.hasOwnProperty.call(L,x)&&(h[x]=L[x])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,b,x,L,Q){const te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);const _e=xe(h,b,L,Q);return _e>-1?(b=h[_e],x||(b.fa=!1)):(b=new Z(b,this.src,te,!!L,Q),b.fa=x,h.push(b)),b};function pe(h,b){const x=b.type;if(x in h.g){var L=h.g[x],Q=Array.prototype.indexOf.call(L,b,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(L,Q,1),te&&(le(b),h.g[x].length==0&&(delete h.g[x],h.h--))}}function xe(h,b,x,L){for(let Q=0;Q<h.length;++Q){const te=h[Q];if(!te.da&&te.listener==b&&te.capture==!!x&&te.ha==L)return Q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Ie={};function Le(h,b,x,L,Q){if(Array.isArray(b)){for(let te=0;te<b.length;te++)Le(h,b[te],x,L,Q);return null}return x=Ds(x),h&&h[de]?h.J(b,x,f(L)?!!L.capture:!1,Q):Ke(h,b,x,!1,L,Q)}function Ke(h,b,x,L,Q,te){if(!b)throw Error("Invalid event type");const _e=f(Q)?!!Q.capture:!!Q;let He=jr(h);if(He||(h[De]=He=new fe(h)),x=He.add(b,x,L,_e,te),x.proxy)return x;if(L=We(),x.proxy=L,L.src=h,L.listener=x,h.addEventListener)k||(Q=_e),Q===void 0&&(Q=!1),h.addEventListener(b.toString(),L,Q);else if(h.attachEvent)h.attachEvent(dt(b.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return x}function We(){function h(x){return b.call(h.src,h.listener,x)}const b=Xt;return h}function tt(h,b,x,L,Q){if(Array.isArray(b))for(var te=0;te<b.length;te++)tt(h,b[te],x,L,Q);else L=f(L)?!!L.capture:!!L,x=Ds(x),h&&h[de]?(h=h.i,te=String(b).toString(),te in h.g&&(b=h.g[te],x=xe(b,x,L,Q),x>-1&&(le(b[x]),Array.prototype.splice.call(b,x,1),b.length==0&&(delete h.g[te],h.h--)))):h&&(h=jr(h))&&(b=h.g[b.toString()],h=-1,b&&(h=xe(b,x,L,Q)),(x=h>-1?b[h]:null)&&ot(x))}function ot(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[de])pe(b.i,h);else{var x=h.type,L=h.proxy;b.removeEventListener?b.removeEventListener(x,L,h.capture):b.detachEvent?b.detachEvent(dt(x),L):b.addListener&&b.removeListener&&b.removeListener(L),(x=jr(b))?(pe(x,h),x.h==0&&(x.src=null,b[De]=null)):le(h)}}}function dt(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function Xt(h,b){if(h.da)h=!0;else{b=new me(b,this);const x=h.listener,L=h.ha||h.src;h.fa&&ot(h),h=x.call(L,b)}return h}function jr(h){return h=h[De],h instanceof fe?h:null}var rs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(h){return typeof h=="function"?h:(h[rs]||(h[rs]=function(b){return h.handleEvent(b)}),h[rs])}function Vt(){H.call(this),this.i=new fe(this),this.M=this,this.G=null}T(Vt,H),Vt.prototype[de]=!0,Vt.prototype.removeEventListener=function(h,b,x,L){tt(this,h,b,x,L)};function St(h,b){var x,L=h.G;if(L)for(x=[];L;L=L.G)x.push(L);if(h=h.M,L=b.type||b,typeof b=="string")b=new A(b,h);else if(b instanceof A)b.target=b.target||h;else{var Q=b;b=new A(L,h),ue(b,Q)}Q=!0;let te,_e;if(x)for(_e=x.length-1;_e>=0;_e--)te=b.g=x[_e],Q=_r(te,L,!0,b)&&Q;if(te=b.g=h,Q=_r(te,L,!0,b)&&Q,Q=_r(te,L,!1,b)&&Q,x)for(_e=0;_e<x.length;_e++)te=b.g=x[_e],Q=_r(te,L,!1,b)&&Q}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const x=h.g[b];for(let L=0;L<x.length;L++)le(x[L]);delete h.g[b],h.h--}}this.G=null},Vt.prototype.J=function(h,b,x,L){return this.i.add(String(h),b,!1,x,L)},Vt.prototype.K=function(h,b,x,L){return this.i.add(String(h),b,!0,x,L)};function _r(h,b,x,L){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let te=0;te<b.length;++te){const _e=b[te];if(_e&&!_e.da&&_e.capture==x){const He=_e.listener,sn=_e.ha||_e.src;_e.fa&&pe(h.i,_e),Q=He.call(sn,L)!==!1&&Q}}return Q&&!L.defaultPrevented}function Na(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(h,b||0)}function Ls(h){h.g=Na(()=>{h.g=null,h.i&&(h.i=!1,Ls(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Nt extends H{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){H.call(this),this.h=h,this.g={}}T(Er,H);var ks=[];function Pr(h){ye(h.g,function(b,x){this.g.hasOwnProperty(x)&&ot(b)},h),h.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Pr(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=u.JSON.stringify,Ms=u.JSON.parse,Dn=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function js(){}function Ps(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){A.call(this,"d")}T(Kt,A);function En(){A.call(this,"c")}T(En,A);var Ct={},Li=null;function Tr(){return Li=Li||new Vt}Ct.Ia="serverreachability";function Yn(h){A.call(this,Ct.Ia,h)}T(Yn,A);function Ln(h){const b=Tr();St(b,new Yn(b))}Ct.STAT_EVENT="statevent";function Vr(h,b){A.call(this,Ct.STAT_EVENT,h),this.stat=b}T(Vr,A);function _t(h){const b=Tr();St(b,new Vr(b,h))}Ct.Ja="timingevent";function Xn(h,b){A.call(this,Ct.Ja,h),this.size=b}T(Xn,A);function Sn(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},b)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Vs(h,b,x,L,Q,te){h.info(function(){if(h.g)if(te){var _e="",He=te.split("&");for(let mt=0;mt<He.length;mt++){var sn=He[mt].split("=");if(sn.length>1){const Ft=sn[0];sn=sn[1];const mi=Ft.split("_");_e=mi.length>=2&&mi[1]=="type"?_e+(Ft+"="+sn+"&"):_e+(Ft+"=redacted&")}}}else _e=null;else _e=te;return"XMLHTTP REQ ("+L+") [attempt "+Q+"]: "+b+`
`+x+`
`+_e})}function is(h,b,x,L,Q,te,_e){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Q+"]: "+b+`
`+x+`
`+te+" "+_e})}function Tn(h,b,x,L){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ur(h,x)+(L?" "+L:"")})}function si(h,b){h.info(function(){return"TIMEOUT: "+b})}kn.prototype.info=function(){};function Ur(h,b){if(!h.g)return b;if(!b)return null;try{const te=JSON.parse(b);if(te){for(h=0;h<te.length;h++)if(Array.isArray(te[h])){var x=te[h];if(!(x.length<2)){var L=x[1];if(Array.isArray(L)&&!(L.length<1)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let _e=1;_e<L.length;_e++)L[_e]=""}}}}return cr(te)}catch{return b}}var ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Us={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qs;function ai(){}T(ai,js),ai.prototype.g=function(){return new XMLHttpRequest},qs=new ai;function hr(h){return encodeURIComponent(String(h))}function Wt(h){var b=1;h=h.split(":");const x=[];for(;b>0&&h.length;)x.push(h.shift()),b--;return h.length&&x.push(h.join(":")),x}function fr(h,b,x,L){this.j=h,this.i=b,this.l=x,this.S=L||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var Ut={},Zt={};function wr(h,b,x){h.M=1,h.A=li(Bt(b)),h.u=x,h.R=!0,Qt(h,null)}function Qt(h,b){h.F=Date.now(),xr(h),h.B=Bt(h.A);var x=h.B,L=h.S;Array.isArray(L)||(L=[String(L)]),cs(x.i,"t",L),h.C=0,x=h.j.L,h.h=new dr,h.g=Ih(h.j,x?b:null,!h.u),h.P>0&&(h.O=new Nt(p(h.Y,h,h.g),h.P)),b=h.V,x=h.g,L=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(ks[0]=Q.toString()),Q=ks);for(let te=0;te<Q.length;te++){const _e=Le(x,Q[te],L||b.handleEvent,!1,b.h||b);if(!_e)break;b.g[_e.key]=_e}b=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Ln(),Vs(h.i,h.v,h.B,h.l,h.S,h.u)}fr.prototype.ba=function(h){h=h.target;const b=this.O;b&&U(h)==3?b.j():this.Y(h)},fr.prototype.Y=function(h){try{if(h==this.g)e:{const He=U(this.g),sn=this.g.ya(),mt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||ee(this.g)))){this.K||He!=4||sn==7||(sn==8||mt<=0?Ln(3):Ln(2)),Ot(this);var b=this.g.ca();this.X=b;var x=ko(this);if(this.o=b==200,is(this.i,this.v,this.B,this.l,this.S,He,b),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Q=this.g;if((L=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(L)){var te=L;break t}}te=null}if(h=te)Tn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ar(this,h);else{this.o=!1,this.m=3,_t(12),Mn(this),Wn(this);break e}}if(this.R){h=!0;let Ft;for(;!this.K&&this.C<x.length;)if(Ft=Ra(this,x),Ft==Zt){He==4&&(this.m=4,_t(14),h=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ut){this.m=4,_t(15),Tn(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Tn(this.i,this.l,Ft,null),Ar(this,Ft);if(Ca(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||x.length!=0||this.h.h||(this.m=1,_t(16),h=!1),this.o=this.o&&h,!h)Tn(this.i,this.l,x,"[Invalid Chunked Response]"),Mn(this),Wn(this);else if(x.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Gr(_e),_e.P=!0,_t(11))}}else Tn(this.i,this.l,x,null),Ar(this,x);He==4&&Mn(this),this.o&&!this.K&&(He==4?$s(this.j,this):(this.o=!1,xr(this)))}else je(this.g),b==400&&x.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Mn(this),Wn(this)}}}catch{}finally{}};function ko(h){if(!Ca(h))return h.g.la();const b=ee(h.g);if(b==="")return"";let x="";const L=b.length,Q=U(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Mn(h),Wn(h),"";h.h.i=new u.TextDecoder}for(let te=0;te<L;te++)h.h.h=!0,x+=h.h.i.decode(b[te],{stream:!(Q&&te==L-1)});return b.length=0,h.h.g+=x,h.C=0,h.h.g}function Ca(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ra(h,b){var x=h.C,L=b.indexOf(`
`,x);return L==-1?Zt:(x=Number(b.substring(x,L)),isNaN(x)?Ut:(L+=1,L+x>b.length?Zt:(b=b.slice(L,L+x),h.C=L+x,b)))}fr.prototype.cancel=function(){this.K=!0,Mn(this)};function xr(h){h.T=Date.now()+h.H,ss(h,h.H)}function ss(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Sn(p(h.aa,h),b)}function Ot(h){h.D&&(u.clearTimeout(h.D),h.D=null)}fr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(si(this.i,this.B),this.M!=2&&(Ln(),_t(17)),Mn(this),this.m=2,Wn(this)):ss(this,this.T-h)};function Wn(h){h.j.I==0||h.K||$s(h.j,h)}function Mn(h){Ot(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Pr(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Ar(h,b){try{var x=h.j;if(x.I!=0&&(x.g==h||jn(x.h,h))){if(!h.L&&jn(x.h,h)&&x.I==3){try{var L=x.Ba.g.parse(b)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Q=L;if(Q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)Ui(x),yt(x);else break e;qn(x),_t(18)}}else x.xa=Q[1],0<x.xa-x.K&&Q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Sn(p(x.Va,x),6e3));mr(x.h)<=1&&x.ta&&(x.ta=void 0)}else hs(x,11)}else if((h.L||x.g==h)&&Ui(x),!S(b))for(Q=x.Ba.g.parse(b),b=0;b<Q.length;b++){let mt=Q[b];const Ft=mt[0];if(!(Ft<=x.K))if(x.K=Ft,mt=mt[1],x.I==2)if(mt[0]=="c"){x.M=mt[1],x.ba=mt[2];const mi=mt[3];mi!=null&&(x.ka=mi,x.j.info("VER="+x.ka));const fs=mt[4];fs!=null&&(x.za=fs,x.j.info("SVER="+x.za));const qi=mt[5];qi!=null&&typeof qi=="number"&&qi>0&&(L=1.5*qi,x.O=L,x.j.info("backChannelRequestTimeoutMs_="+L)),L=x;const Bi=h.g;if(Bi){const jo=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var te=L.h;te.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Zn(te,te.h),te.h=null))}if(L.G){const Al=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(L.wa=Al,ct(L.J,L.G,Al))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),L=x;var _e=h;if(L.na=Rh(L,L.L?L.ba:null,L.W),_e.L){Mi(L.h,_e);var He=_e,sn=L.O;sn&&(He.H=sn),He.D&&(Ot(He),xr(He)),L.g=_e}else Fr(L);x.i.length>0&&xt(x)}else mt[0]!="stop"&&mt[0]!="close"||hs(x,7);else x.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?hs(x,7):Ye(x):mt[0]!="noop"&&x.l&&x.l.qa(mt),x.A=0)}}Ln(4)}catch{}}var qt=class{constructor(h,b){this.g=h,this.map=b}};function Bs(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function mr(h){return h.h?1:h.g?h.g.size:0}function jn(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Zn(h,b){h.g?h.g.add(b):h.h=b}function Mi(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Bs.prototype.cancel=function(){if(this.i=zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zs(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const x of h.g.values())b=b.concat(x.G);return b}return N(h.i)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(h,b){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const L=h[x].indexOf("=");let Q,te=null;L>=0?(Q=h[x].substring(0,L),te=h[x].substring(L+1)):Q=h[x],b(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Pn?(this.l=h.l,Dt(this,h.j),this.o=h.o,this.g=h.g,Sr(this,h.u),this.h=h.h,qr(this,Oa(h.i)),this.m=h.m):h&&(b=String(h).match(Ia))?(this.l=!1,Dt(this,b[1]||"",!0),this.o=Nr(b[2]||""),this.g=Nr(b[3]||"",!0),Sr(this,b[4]),this.h=Nr(b[5]||"",!0),qr(this,b[6]||"",!0),this.m=Nr(b[7]||"")):(this.l=!1,this.i=new fn(null,this.l))}Pn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(ji(b,os,!0),":");var x=this.g;return(x||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ji(b,os,!0),"@"),h.push(hr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(ji(x,x.charAt(0)=="/"?Hs:ls,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",ji(x,ui)),h.join("")},Pn.prototype.resolve=function(h){const b=Bt(this);let x=!!h.j;x?Dt(b,h.j):x=!!h.o,x?b.o=h.o:x=!!h.g,x?b.g=h.g:x=h.u!=null;var L=h.h;if(x)Sr(b,h.u);else if(x=!!h.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(L=b.h.slice(0,Q+1)+L)}if(Q=L,Q==".."||Q==".")L="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){L=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let _e=0;_e<Q.length;){const He=Q[_e++];He=="."?L&&_e==Q.length&&te.push(""):He==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),L&&_e==Q.length&&te.push("")):(te.push(He),L=!0)}L=te.join("/")}else L=Q}return x?b.h=L:x=h.i.toString()!=="",x?qr(b,Oa(h.i)):x=!!h.m,x&&(b.m=h.m),b};function Bt(h){return new Pn(h)}function Dt(h,b,x){h.j=x?Nr(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Sr(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function qr(h,b,x){b instanceof fn?(h.i=b,us(h.i,h.l)):(x||(b=ji(b,ci)),h.i=new fn(b,h.l))}function ct(h,b,x){h.i.set(b,x)}function li(h){return ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Nr(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ji(h,b,x){return typeof h=="string"?(h=encodeURI(h).replace(b,Nn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Nn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var os=/[#\/\?@]/g,ls=/[#\?:]/g,Hs=/[#\?]/g,ci=/[#\?@]/g,ui=/#/g;function fn(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function zt(h){h.g||(h.g=new Map,h.h=0,h.i&&as(h.i,function(b,x){h.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}n=fn.prototype,n.add=function(h,b){zt(this),this.i=null,h=hi(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(b),this.h+=1,this};function Cr(h,b){zt(h),b=hi(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Fs(h,b){return zt(h),b=hi(h,b),h.g.has(b)}n.forEach=function(h,b){zt(this),this.g.forEach(function(x,L){x.forEach(function(Q){h.call(b,Q,L,this)},this)},this)};function Jn(h,b){zt(h);let x=[];if(typeof b=="string")Fs(h,b)&&(x=x.concat(h.g.get(hi(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)x=x.concat(h[b]);return x}n.set=function(h,b){return zt(this),this.i=null,h=hi(this,h),Fs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},n.get=function(h,b){return h?(h=Jn(this,h),h.length>0?String(h[0]):b):b};function cs(h,b,x){Cr(h,b),x.length>0&&(h.i=null,h.g.set(hi(h,b),N(x)),h.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let L=0;L<b.length;L++){var x=b[L];const Q=hr(x);x=Jn(this,x);for(let te=0;te<x.length;te++){let _e=Q;x[te]!==""&&(_e+="="+hr(x[te])),h.push(_e)}}return this.i=h.join("&")};function Oa(h){const b=new fn;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function hi(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function us(h,b){b&&!h.j&&(zt(h),h.i=null,h.g.forEach(function(x,L){const Q=L.toLowerCase();L!=Q&&(Cr(this,L),cs(this,Q,x))},h)),h.j=b}function er(h,b){const x=new kn;if(u.Image){const L=new Image;L.onload=v(Vn,x,"TestLoadImage: loaded",!0,b,L),L.onerror=v(Vn,x,"TestLoadImage: error",!1,b,L),L.onabort=v(Vn,x,"TestLoadImage: abort",!1,b,L),L.ontimeout=v(Vn,x,"TestLoadImage: timeout",!1,b,L),u.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else b(!1)}function nn(h,b){const x=new kn,L=new AbortController,Q=setTimeout(()=>{L.abort(),Vn(x,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:L.signal}).then(te=>{clearTimeout(Q),te.ok?Vn(x,"TestPingServer: ok",!0,b):Vn(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Vn(x,"TestPingServer: error",!1,b)})}function Vn(h,b,x,L,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),L(x)}catch{}}function Br(){this.g=new Dn}function Un(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Un,js),Un.prototype.g=function(){return new zr(this.i,this.h)};function zr(h,b){Vt.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(zr,Vt),n=zr.prototype,n.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,tr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?fi(this):tr(this),this.readyState==3&&Hr(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,fi(this))},n.Na=function(h){this.g&&(this.response=h,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,tr(h)}n.setRequestHeader=function(h,b){this.A.append(h,b)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=b.next();return h.join(`\r
`)};function tr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Cn(h){let b="";return ye(h,function(x,L){b+=L,b+=":",b+=x,b+=`\r
`}),b}function di(h,b,x){e:{for(L in x){var L=!1;break e}L=!0}L||(x=Cn(x),typeof h=="string"?x!=null&&hr(x):ct(h,b,x))}function Qe(h){Vt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Qe,Vt);var pr=/^https?$/i,Pi=["POST","PUT"];n=Qe.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,b,x,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qs.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(te){Vi(this,te);return}if(h=x||"",x=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Q in L)x.set(Q,L[Q]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const te of L.keys())x.set(te,L.get(te));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Pi,b,void 0)>=0)||L||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of x)this.g.setRequestHeader(te,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(te){Vi(this,te)}};function Vi(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Gs(h),R(h)}function Gs(h){h.A||(h.A=!0,St(h,"complete"),St(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,St(this,"complete"),St(this,"abort"),R(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),R(this,!0)),Qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_(this):this.Xa())},n.Xa=function(){_(this)};function _(h){if(h.h&&typeof l<"u"){if(h.v&&U(h)==4)setTimeout(h.Ca.bind(h),0);else if(St(h,"readystatechange"),U(h)==4){h.h=!1;try{const te=h.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var L;if(L=te===0){let _e=String(h.D).match(Ia)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),L=!pr.test(_e?_e.toLowerCase():"")}x=L}if(x)St(h,"complete"),St(h,"success");else{h.o=6;try{var Q=U(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Gs(h)}}finally{R(h)}}}}function R(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,b||St(h,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function U(h){return h.g?h.g.readyState:0}n.ca=function(){try{return U(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Ms(b)}};function ee(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function je(h){const b={};h=(h.g&&U(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(S(h[L]))continue;var x=Wt(h[L]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=b[Q]||[];b[Q]=te,te.push(x)}ge(b,function(L){return L.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ae(h,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||b}function Ge(h){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ae("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ae("baseRetryDelayMs",5e3,h),this.Za=Ae("retryDelaySeedMs",1e4,h),this.Ta=Ae("forwardChannelMaxRetries",2,h),this.va=Ae("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Bs(h&&h.concurrentRequestLimit),this.Ba=new Br,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ge.prototype,n.ka=8,n.I=1,n.connect=function(h,b,x,L){_t(0),this.W=h,this.H=b||{},x&&L!==void 0&&(this.H.OSID=x,this.H.OAID=L),this.F=this.X,this.J=Rh(this,null,this.W),xt(this)};function Ye(h){if(Ze(h),h.I==3){var b=h.V++,x=Bt(h.J);if(ct(x,"SID",h.M),ct(x,"RID",b),ct(x,"TYPE","terminate"),Ht(h,x),b=new fr(h,h.j,b),b.M=2,b.A=li(Bt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=b.A,x=!0),x||(b.g=Ih(b.j,null),b.g.ea(b.A)),b.F=Date.now(),xr(b)}Ch(h)}function yt(h){h.g&&(Gr(h),h.g.cancel(),h.g=null)}function Ze(h){yt(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ui(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function xt(h){if(!oi(h.h)&&!h.m){h.m=!0;var b=h.Ea;ve||M(),we||(ve(),we=!0),j.add(b,h),h.D=0}}function rn(h,b){return mr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Sn(p(h.Ea,h,b),Nh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new fr(this,this.j,h);let te=this.o;if(this.U&&(te?(te=V(te),ue(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var L=this.i[x];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(b+=L,b>4096){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Jt(this,Q,b),x=Bt(this.J),ct(x,"RID",h),ct(x,"CVER",22),this.G&&ct(x,"X-HTTP-Session-Id",this.G),Ht(this,x),te&&(this.R?b="headers="+hr(Cn(te))+"&"+b:this.u&&di(x,this.u,te)),Zn(this.h,Q),this.Ra&&ct(x,"TYPE","init"),this.S?(ct(x,"$req",b),ct(x,"SID","null"),Q.U=!0,wr(Q,x,null)):wr(Q,x,b),this.I=2}}else this.I==3&&(h?Lt(this,h):this.i.length==0||oi(this.h)||Lt(this))};function Lt(h,b){var x;b?x=b.l:x=h.V++;const L=Bt(h.J);ct(L,"SID",h.M),ct(L,"RID",x),ct(L,"AID",h.K),Ht(h,L),h.u&&h.o&&di(L,h.u,h.o),x=new fr(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),b&&(h.i=b.G.concat(h.i)),b=Jt(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Zn(h.h,x),wr(x,L,b)}function Ht(h,b){h.H&&ye(h.H,function(x,L){ct(b,L,x)}),h.l&&ye({},function(x,L){ct(b,L,x)})}function Jt(h,b,x){x=Math.min(h.i.length,x);const L=h.l?p(h.l.Ka,h.l,h):null;e:{var Q=h.i;let He=-1;for(;;){const sn=["count="+x];He==-1?x>0?(He=Q[0].g,sn.push("ofs="+He)):He=0:sn.push("ofs="+He);let mt=!0;for(let Ft=0;Ft<x;Ft++){var te=Q[Ft].g;const mi=Q[Ft].map;if(te-=He,te<0)He=Math.max(0,Q[Ft].g-100),mt=!1;else try{te="req"+te+"_"||"";try{var _e=mi instanceof Map?mi:Object.entries(mi);for(const[fs,qi]of _e){let Bi=qi;f(qi)&&(Bi=cr(qi)),sn.push(te+fs+"="+encodeURIComponent(Bi))}}catch(fs){throw sn.push(te+"type="+encodeURIComponent("_badmap")),fs}}catch{L&&L(mi)}}if(mt){_e=sn.join("&");break e}}_e=void 0}return h=h.i.splice(0,x),b.G=h,_e}function Fr(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;ve||M(),we||(ve(),we=!0),j.add(b,h),h.A=0}}function qn(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Sn(p(h.Da,h),Nh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Mo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Sn(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),yt(this),Mo(this))};function Gr(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Mo(h){h.g=new fr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Bt(h.na);ct(b,"RID","rpc"),ct(b,"SID",h.M),ct(b,"AID",h.K),ct(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&ct(b,"TO",h.ia),ct(b,"TYPE","xmlhttp"),Ht(h,b),h.u&&h.o&&di(b,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=li(Bt(b)),x.u=null,x.R=!0,Qt(x,h)}n.Va=function(){this.C!=null&&(this.C=null,yt(this),qn(this),_t(19))};function Ui(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function $s(h,b){var x=null;if(h.g==b){Ui(h),Gr(h),h.g=null;var L=2}else if(jn(h.h,b))x=b.G,Mi(h.h,b),L=1;else return;if(h.I!=0){if(b.o)if(L==1){x=b.u?b.u.length:0,b=Date.now()-b.F;var Q=h.D;L=Tr(),St(L,new Xn(L,x)),xt(h)}else Fr(h);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(L==1&&rn(h,b)||L==2&&qn(h)))switch(x&&x.length>0&&(b=h.h,b.i=b.i.concat(x)),Q){case 1:hs(h,5);break;case 4:hs(h,10);break;case 3:hs(h,6);break;default:hs(h,2)}}}function Nh(h,b){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*b}function hs(h,b){if(h.j.info("Error code "+b),b==2){var x=p(h.bb,h),L=h.Ua;const Q=!L;L=new Pn(L||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Dt(L,"https"),li(L),Q?er(L.toString(),x):nn(L.toString(),x)}else _t(2);h.I=0,h.l&&h.l.pa(b),Ch(h),Ze(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ch(h){if(h.I=0,h.ja=[],h.l){const b=zs(h.h);(b.length!=0||h.i.length!=0)&&(O(h.ja,b),O(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Rh(h,b,x){var L=x instanceof Pn?Bt(x):new Pn(x);if(L.g!="")b&&(L.g=b+"."+L.g),Sr(L,L.u);else{var Q=u.location;L=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new Pn(null);L&&Dt(te,L),b&&(te.g=b),Q&&Sr(te,Q),x&&(te.h=x),L=te}return x=h.G,b=h.wa,x&&b&&ct(L,x,b),ct(L,"VER",h.ka),Ht(h,L),L}function Ih(h,b,x){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new Qe(new Un({ab:x})):new Qe(h.ma),b.Fa(h.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oh(){}n=Oh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Da(){}Da.prototype.g=function(h,b){return new gr(h,b)};function gr(h,b){Vt.call(this),this.g=new Ge(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!S(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!S(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Ks(this)}T(gr,Vt),gr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Ye(this.g)},gr.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=cr(h),h=x);b.i.push(new qt(b.Ya++,h)),b.I==3&&xt(b)},gr.prototype.N=function(){this.g.l=null,delete this.j,Ye(this.g),delete this.g,gr.Z.N.call(this)};function Dh(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const x in b){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}T(Dh,Kt);function Lh(){En.call(this),this.status=1}T(Lh,En);function Ks(h){this.g=h}T(Ks,Oh),Ks.prototype.ra=function(){St(this.g,"a")},Ks.prototype.qa=function(h){St(this.g,new Dh(h))},Ks.prototype.pa=function(h){St(this.g,new Lh)},Ks.prototype.oa=function(){St(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,Xx=function(){return new Da},Yx=function(){return Tr()},Qx=Ct,cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,cd=ki,Us.COMPLETE="complete",Kx=Us,Ps.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Iu=Ps,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,$x=Qe}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",IE="4.9.2";class sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let Lc="12.3.0";const al=new e0("@firebase/firestore");function tc(){return al.logLevel}function Te(n,...e){if(al.logLevel<=it.DEBUG){const t=e.map(m0);al.debug(`Firestore (${Lc}): ${n}`,...t)}}function ya(n,...e){if(al.logLevel<=it.ERROR){const t=e.map(m0);al.error(`Firestore (${Lc}): ${n}`,...t)}}function bc(n,...e){if(al.logLevel<=it.WARN){const t=e.map(m0);al.warn(`Firestore (${Lc}): ${n}`,...t)}}function m0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Wx(n,r,t)}function Wx(n,e,t){let r=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ya(r),new Error(r)}function gt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||Wx(e,a,r)}function qe(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ta{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Zx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sr.UNAUTHENTICATED)))}shutdown(){}}class KO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class QO{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Es,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Es)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new Zx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new sr(e)}}class YO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new YO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new OE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class p0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ZO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function uy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return Og(a)===Og(l)?st(a,l):Og(a)?1:-1}return st(n.length,e.length)}const JO=55296,e5=57343;function Og(n){const e=n.charCodeAt(0);return e>=JO&&e<=e5}function _c(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const DE="__name__";class vs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=vs.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return st(e.length,t.length)}static compareSegments(e,t){const r=vs.isNumericId(e),a=vs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?vs.extractNumericId(e).compare(vs.extractNumericId(t)):uy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class It extends vs{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const t5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends vs{construct(e,t,r){return new $n(e,t,r)}static isValidIdentifier(e){return t5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new $n([DE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(r+=f,a++):(l(),a++)}if(l(),u)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(t)}static emptyPath(){return new $n([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(It.fromString(e))}static fromName(e){return new Me(It.fromString(e).popFirst(5))}static empty(){return new Me(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new It(e.slice()))}}function Jx(n,e,t){if(!t)throw new Ee(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n5(n,e,t,r){if(e===!0&&r===!0)throw new Ee(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LE(n){if(!Me.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(Me.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kd(n);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _n(n,e){const t={typeString:n};return e&&(t.value=e),t}function gh(n,e){if(!eA(n))throw new Ee(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new Ee(oe.INVALID_ARGUMENT,t);return!0}const ME=-62135596800,jE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jE);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ME)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ME;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:_n("string",Pt._jsonSchemaVersion),seconds:_n("number"),nanoseconds:_n("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Pt(0,0))}static max(){return new Be(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qu=-1;function r5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new bo(a,Me.empty(),e)}function i5(n){return new bo(n.readTime,n.key,Qu)}class bo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bo(Be.min(),Me.empty(),Qu)}static max(){return new bo(Be.max(),Me.empty(),Qu)}}function s5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}const a5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kc(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==a5)throw n;Te("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,r)=>{t(e)}))}static reject(e){return new he(((t,r)=>{r(e)}))}static waitFor(e){return new he(((t,r)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&t()}),(m=>r(m)))})),u=!0,l===a&&t()}))}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next((a=>a?he.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new he(((r,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((v=>{u[p]=v,++f,f===l&&r(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new he(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function l5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mc(n){return n.name==="IndexedDbTransactionError"}class Qd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qd.ce=-1;const g0=-1;function Yd(n){return n==null}function Ad(n){return n===0&&1/n==-1/0}function c5(n){return typeof n=="number"&&Number.isInteger(n)&&!Ad(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const tA="";function u5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PE(e)),e=h5(n.get(t),e);return PE(e)}function h5(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case tA:t+="";break;default:t+=l}}return t}function PE(n){return n+tA+""}function VE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function f5(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function nA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yt{constructor(e,t){this.comparator=e,this.root=t||Gn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Gn.RED,this.left=a??Gn.EMPTY,this.right=l??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Gn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Gn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new ei([])}unionWith(e){let t=new xn($n.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rA("Invalid base64 string: "+l):l}})(e);return new Qn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Qn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const d5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=d5.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(n.seconds),nanos:ln(n.nanos)}}function ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Eo(n){return typeof n=="string"?Qn.fromBase64String(n):Qn.fromUint8Array(n)}const iA="server_timestamp",sA="__type__",aA="__previous_value__",oA="__local_write_time__";function y0(n){return(n?.mapValue?.fields||{})[sA]?.stringValue===iA}function Xd(n){const e=n.mapValue.fields[aA];return y0(e)?Xd(e):e}function Yu(n){const e=_o(n.mapValue.fields[oA].timestampValue);return new Pt(e.seconds,e.nanos)}class m5{constructor(e,t,r,a,l,u,f,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Sd="(default)";class Xu{constructor(e,t){this.projectId=e,this.database=t||Sd}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}const lA="__type__",p5="__max__",zf={mapValue:{}},cA="__vector__",Nd="value";function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?y0(n)?4:y5(n)?9007199254740991:g5(n)?10:11:Ue(28295,{value:n})}function Ns(n,e){if(n===e)return!0;const t=To(n);if(t!==To(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yu(n).isEqual(Yu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=_o(a.timestampValue),f=_o(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Eo(a.bytesValue).isEqual(Eo(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return ln(a.geoPointValue.latitude)===ln(l.geoPointValue.latitude)&&ln(a.geoPointValue.longitude)===ln(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ln(a.integerValue)===ln(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=ln(a.doubleValue),f=ln(l.doubleValue);return u===f?Ad(u)===Ad(f):isNaN(u)&&isNaN(f)}return!1})(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(VE(u)!==VE(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Ns(u[m],f[m])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function Wu(n,e){return(n.values||[]).find((t=>Ns(t,e)))!==void 0}function Ec(n,e){if(n===e)return 0;const t=To(n),r=To(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=ln(l.integerValue||l.doubleValue),m=ln(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return qE(n.timestampValue,e.timestampValue);case 4:return qE(Yu(n),Yu(e));case 5:return uy(n.stringValue,e.stringValue);case 6:return(function(l,u){const f=Eo(l),m=Eo(u);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=st(f[p],m[p]);if(v!==0)return v}return st(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=st(ln(l.latitude),ln(u.latitude));return f!==0?f:st(ln(l.longitude),ln(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return BE(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[Nd]?.arrayValue,v=m[Nd]?.arrayValue,T=st(p?.values?.length||0,v?.values?.length||0);return T!==0?T:BE(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===zf.mapValue&&u===zf.mapValue)return 0;if(l===zf.mapValue)return 1;if(u===zf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const w=uy(m[T],v[T]);if(w!==0)return w;const N=Ec(f[m[T]],p[v[T]]);if(N!==0)return N}return st(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function qE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=_o(n),r=_o(e),a=st(t.seconds,r.seconds);return a!==0?a:st(t.nanos,r.nanos)}function BE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ec(t[a],r[a]);if(l)return l}return st(t.length,r.length)}function Tc(n){return hy(n)}function hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=_o(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Eo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=hy(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${hy(t.fields[u])}`;return a+"}"})(n.mapValue):Ue(61005,{value:n})}function ud(n){switch(To(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xd(n);return e?16+ud(e):16;case 5:return 2*n.stringValue.length;case 6:return Eo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+ud(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Ro(r.fields,((l,u)=>{a+=l.length+ud(u)})),a})(n.mapValue);default:throw Ue(13486,{value:n})}}function zE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fy(n){return!!n&&"integerValue"in n}function v0(n){return!!n&&"arrayValue"in n}function HE(n){return!!n&&"nullValue"in n}function FE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hd(n){return!!n&&"mapValue"in n}function g5(n){return(n?.mapValue?.fields||{})[lA]?.stringValue===cA}function Uu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Uu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(n.arrayValue.values[t]);return e}return{...n}}function y5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p5}class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=$n.emptyPath(),r={},a=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=f.popLast()}u?r[f.lastSegment()]=Uu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];hd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Mr(Uu(this.value))}}function uA(n){const e=[];return Ro(n.fields,((t,r)=>{const a=new $n([t]);if(hd(r)){const l=uA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ei(e)}class ar{constructor(e,t,r,a,l,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ar(e,0,Be.min(),Be.min(),Be.min(),Mr.empty(),0)}static newFoundDocument(e,t,r,a){return new ar(e,1,t,Be.min(),r,a,0)}static newNoDocument(e,t){return new ar(e,2,t,Be.min(),Be.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,Be.min(),Be.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cd{constructor(e,t){this.position=e,this.inclusive=t}}function GE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?r=Me.comparator(Me.fromName(u.referenceValue),t.key):r=Ec(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function $E(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ns(n.position[t],e.position[t]))return!1;return!0}class Zu{constructor(e,t="asc"){this.field=e,this.dir=t}}function v5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hA{}class bn extends hA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _5(e,t,r):t==="array-contains"?new w5(e,r):t==="in"?new x5(e,r):t==="not-in"?new A5(e,r):t==="array-contains-any"?new S5(e,r):new bn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new E5(e,r):new T5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ec(t,this.value)):t!==null&&To(this.value)===To(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends hA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ji(e,t)}matches(e){return fA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fA(n){return n.op==="and"}function dA(n){return b5(n)&&fA(n)}function b5(n){for(const e of n.filters)if(e instanceof Ji)return!1;return!0}function dy(n){if(n instanceof bn)return n.field.canonicalString()+n.op.toString()+Tc(n.value);if(dA(n))return n.filters.map((e=>dy(e))).join(",");{const e=n.filters.map((t=>dy(t))).join(",");return`${n.op}(${e})`}}function mA(n,e){return n instanceof bn?(function(r,a){return a instanceof bn&&r.op===a.op&&r.field.isEqual(a.field)&&Ns(r.value,a.value)})(n,e):n instanceof Ji?(function(r,a){return a instanceof Ji&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,f)=>l&&mA(u,a.filters[f])),!0):!1})(n,e):void Ue(19439)}function pA(n){return n instanceof bn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Tc(t.value)}`})(n):n instanceof Ji?(function(t){return t.op.toString()+" {"+t.getFilters().map(pA).join(" ,")+"}"})(n):"Filter"}class _5 extends bn{constructor(e,t,r){super(e,t,r),this.key=Me.fromName(r.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class E5 extends bn{constructor(e,t){super(e,"in",t),this.keys=gA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class T5 extends bn{constructor(e,t){super(e,"not-in",t),this.keys=gA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gA(n,e){return(e.arrayValue?.values||[]).map((t=>Me.fromName(t.referenceValue)))}class w5 extends bn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return v0(t)&&Wu(t.arrayValue,this.value)}}class x5 extends bn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class A5 extends bn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class S5 extends bn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!v0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Wu(this.value.arrayValue,r)))}}class N5{constructor(e,t=null,r=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function KE(n,e=null,t=[],r=[],a=null,l=null,u=null){return new N5(n,e,t,r,a,l,u)}function b0(n){const e=qe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>dy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Tc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Tc(r))).join(",")),e.Te=t}return e.Te}function _0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$E(n.startAt,e.startAt)&&$E(n.endAt,e.endAt)}function my(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class jc{constructor(e,t=null,r=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C5(n,e,t,r,a,l,u,f){return new jc(n,e,t,r,a,l,u,f)}function E0(n){return new jc(n)}function QE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yA(n){return n.collectionGroup!==null}function qu(n){const e=qe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new xn($n.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zu(l,r))})),t.has($n.keyField().canonicalString())||e.Ie.push(new Zu($n.keyField(),r))}return e.Ie}function Ts(n){const e=qe(n);return e.Ee||(e.Ee=vA(e,qu(n))),e.Ee}function R5(n){const e=qe(n);return e.de||(e.de=vA(e,n.explicitOrderBy)),e.de}function vA(n,e){if(n.limitType==="F")return KE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zu(a.field,l)}));const t=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return KE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function py(n,e){const t=n.filters.concat([e]);return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gy(n,e,t){return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wd(n,e){return _0(Ts(n),Ts(e))&&n.limitType===e.limitType}function bA(n){return`${b0(Ts(n))}|lt:${n.limitType}`}function nc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>pA(a))).join(", ")}]`),Yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Tc(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Tc(a))).join(",")),`Target(${r})`})(Ts(n))}; limitType=${n.limitType})`}function Zd(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Me.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of qu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,f,m){const p=GE(u,f,m);return u.inclusive?p<=0:p<0})(r.startAt,qu(r),a)||r.endAt&&!(function(u,f,m){const p=GE(u,f,m);return u.inclusive?p>=0:p>0})(r.endAt,qu(r),a))})(n,e)}function I5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _A(n){return(e,t)=>{let r=!1;for(const a of qu(n)){const l=O5(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function O5(n,e,t){const r=n.field.isKeyField()?Me.comparator(e.key,t.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ec(m,p):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}class dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}const D5=new Yt(Me.comparator);function va(){return D5}const EA=new Yt(Me.comparator);function Ou(...n){let e=EA;for(const t of n)e=e.insert(t.key,t);return e}function TA(n){let e=EA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function el(){return Bu()}function wA(){return Bu()}function Bu(){return new dl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const L5=new Yt(Me.comparator),k5=new xn(Me.comparator);function at(...n){let e=k5;for(const t of n)e=e.add(t);return e}const M5=new xn(st);function j5(){return M5}function T0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function xA(n){return{integerValue:""+n}}function P5(n,e){return c5(e)?xA(e):T0(n,e)}class Jd{constructor(){this._=void 0}}function V5(n,e,t){return n instanceof Ju?(function(a,l){const u={fields:{[sA]:{stringValue:iA},[oA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&y0(l)&&(l=Xd(l)),l&&(u.fields[aA]=l),{mapValue:u}})(t,e):n instanceof eh?SA(n,e):n instanceof th?NA(n,e):(function(a,l){const u=AA(a,l),f=YE(u)+YE(a.Ae);return fy(u)&&fy(a.Ae)?xA(f):T0(a.serializer,f)})(n,e)}function U5(n,e,t){return n instanceof eh?SA(n,e):n instanceof th?NA(n,e):t}function AA(n,e){return n instanceof Rd?(function(r){return fy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Ju extends Jd{}class eh extends Jd{constructor(e){super(),this.elements=e}}function SA(n,e){const t=CA(e);for(const r of n.elements)t.some((a=>Ns(a,r)))||t.push(r);return{arrayValue:{values:t}}}class th extends Jd{constructor(e){super(),this.elements=e}}function NA(n,e){let t=CA(e);for(const r of n.elements)t=t.filter((a=>!Ns(a,r)));return{arrayValue:{values:t}}}class Rd extends Jd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function YE(n){return ln(n.integerValue||n.doubleValue)}function CA(n){return v0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class q5{constructor(e,t){this.field=e,this.transform=t}}function B5(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof eh&&a instanceof eh||r instanceof th&&a instanceof th?_c(r.elements,a.elements,Ns):r instanceof Rd&&a instanceof Rd?Ns(r.Ae,a.Ae):r instanceof Ju&&a instanceof Ju})(n.transform,e.transform)}class z5{constructor(e,t){this.version=e,this.transformResults=t}}class Ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class em{}function RA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new w0(n.key,Ci.none()):new yh(n.key,n.data,Ci.none());{const t=n.data,r=Mr.empty();let a=new xn($n.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Io(n.key,r,new ei(a.toArray()),Ci.none())}}function H5(n,e,t){n instanceof yh?(function(a,l,u){const f=a.value.clone(),m=WE(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Io?(function(a,l,u){if(!fd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=WE(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(IA(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function zu(n,e,t,r){return n instanceof yh?(function(l,u,f,m){if(!fd(l.precondition,u))return f;const p=l.value.clone(),v=ZE(l.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Io?(function(l,u,f,m){if(!fd(l.precondition,u))return f;const p=ZE(l.fieldTransforms,m,u),v=u.data;return v.setAll(IA(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,r):(function(l,u,f){return fd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,e,t)}function F5(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=AA(r.transform,a||null);l!=null&&(t===null&&(t=Mr.empty()),t.set(r.field,l))}return t||null}function XE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&_c(r,a,((l,u)=>B5(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yh extends em{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Io extends em{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function WE(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);r.set(l.field,U5(u,f,t[a]))}return r}function ZE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);r.set(a.field,V5(l,u,e))}return r}class w0 extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G5 extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $5{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&H5(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const m=RA(u,f);m!==null&&r.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),at())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,((t,r)=>XE(t,r)))&&_c(this.baseMutations,e.baseMutations,((t,r)=>XE(t,r)))}}class x0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return L5})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new x0(e,t,r,a)}}class K5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q5{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class Y5{constructor(e,t){this.count=e,this.unchangedNames=t}}var yn,ut;function X5(n){switch(n){case oe.OK:return Ue(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function OA(n){if(n===void 0)return ya("GRPC error has no .code"),oe.UNKNOWN;switch(n){case yn.OK:return oe.OK;case yn.CANCELLED:return oe.CANCELLED;case yn.UNKNOWN:return oe.UNKNOWN;case yn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case yn.INTERNAL:return oe.INTERNAL;case yn.UNAVAILABLE:return oe.UNAVAILABLE;case yn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case yn.NOT_FOUND:return oe.NOT_FOUND;case yn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case yn.ABORTED:return oe.ABORTED;case yn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case yn.DATA_LOSS:return oe.DATA_LOSS;default:return Ue(39323,{code:n})}}(ut=yn||(yn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function W5(){return new TextEncoder}const Z5=new po([4294967295,4294967295],0);function JE(n){const e=W5().encode(n),t=new Gx;return t.update(e),new Uint8Array(t.digest())}function eT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new po([t,r],0),new po([a,l],0)]}class A0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Du(`Invalid padding: ${t}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Du(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=po.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(po.fromNumber(r)));return a.compare(Z5)===1&&(a=new po([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=JE(e),[r,a]=eT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new A0(l,a,t);return r.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const t=JE(e),[r,a]=eT(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tm{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tm(Be.min(),a,new Yt(st),va(),at())}}class vh{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vh(r,t,at(),at(),at())}}class dd{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class DA{constructor(e,t){this.targetId=e,this.Ce=t}}class LA{constructor(e,t,r=Qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class tT{constructor(){this.ve=0,this.Fe=nT(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),t=at(),r=at();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ue(38017,{changeType:l})}})),new vh(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J5{constructor(e){this.Ge=e,this.ze=new Map,this.je=va(),this.Je=Hf(),this.He=Hf(),this.Ye=new Yt(st)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(my(l))if(r===0){const u=new Me(l.path);this.et(t,u,ar.newNoDocument(u,Be.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=Eo(r).toUint8Array()}catch(m){if(m instanceof rA)return bc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new A0(u,a,l)}catch(m){return bc(m instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&my(f.target)){const m=new Me(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,ar.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let r=at();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new tm(e,t,this.Ye,this.je,r);return this.je=va(),this.Je=Hf(),this.He=Hf(),this.Ye=new Yt(st),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new tT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xn(st),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xn(st),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Hf(){return new Yt(Me.comparator)}function nT(){return new Yt(Me.comparator)}const e6={asc:"ASCENDING",desc:"DESCENDING"},t6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n6={and:"AND",or:"OR"};class r6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yy(n,e){return n.useProto3Json||Yd(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function i6(n,e){return Id(n,e.toTimestamp())}function ws(n){return gt(!!n,49232),Be.fromTimestamp((function(t){const r=_o(t);return new Pt(r.seconds,r.nanos)})(n))}function S0(n,e){return vy(n,e).canonicalString()}function vy(n,e){const t=(function(a){return new It(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function MA(n){const e=It.fromString(n);return gt(BA(e),10190,{key:e.toString()}),e}function by(n,e){return S0(n.databaseId,e.path)}function Dg(n,e){const t=MA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(PA(t))}function jA(n,e){return S0(n.databaseId,e)}function s6(n){const e=MA(n);return e.length===4?It.emptyPath():PA(e)}function _y(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PA(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rT(n,e,t){return{name:by(n,e),fields:t.value.mapValue.fields}}function a6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ue(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(gt(v===void 0||typeof v=="string",58123),Qn.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const v=p.code===void 0?oe.UNKNOWN:OA(p.code);return new Ee(v,p.message||"")})(u);t=new LA(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Dg(n,r.document.name),l=ws(r.document.updateTime),u=r.document.createTime?ws(r.document.createTime):Be.min(),f=new Mr({mapValue:{fields:r.document.fields}}),m=ar.newFoundDocument(a,l,u,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new dd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Dg(n,r.document),l=r.readTime?ws(r.readTime):Be.min(),u=ar.newNoDocument(a,l),f=r.removedTargetIds||[];t=new dd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Dg(n,r.document),l=r.removedTargetIds||[];t=new dd([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new Y5(a,l),f=r.targetId;t=new DA(f,u)}}return t}function o6(n,e){let t;if(e instanceof yh)t={update:rT(n,e.key,e.value)};else if(e instanceof w0)t={delete:by(n,e.key)};else if(e instanceof Io)t={update:rT(n,e.key,e.data),updateMask:g6(e.fieldMask)};else{if(!(e instanceof G5))return Ue(16599,{Vt:e.type});t={verify:by(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const f=u.transform;if(f instanceof Ju)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof eh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof th)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Rd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ue(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:i6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)})(n,e.precondition)),t}function l6(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?ws(a.updateTime):ws(l);return u.isEqual(Be.min())&&(u=ws(l)),new z5(u,a.transformResults||[])})(t,e)))):[]}function c6(n,e){return{documents:[jA(n,e.path)]}}function VA(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jA(n,a);const l=(function(p){if(p.length!==0)return qA(Ji.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:ao(w.field),direction:d6(w.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=yy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function u6(n,e,t,r){const{ft:a,parent:l}=VA(n,e),u={},f=[];let m=0;return t.forEach((p=>{const v="aggregate_"+m++;u[v]=p.alias,p.aggregateType==="count"?f.push({alias:v,count:{}}):p.aggregateType==="avg"?f.push({alias:v,avg:{field:ao(p.fieldPath)}}):p.aggregateType==="sum"&&f.push({alias:v,sum:{field:ao(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:a.structuredQuery},parent:a.parent},gt:u,parent:l}}function h6(n){let e=s6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){gt(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(T){const w=UA(T);return w instanceof Ji&&dA(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(T){return T.map((w=>(function(O){return new Zu(rc(O.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let w;return w=typeof T=="object"?T.value:T,Yd(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(T){const w=!!T.before,N=T.values||[];return new Cd(N,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const w=!T.before,N=T.values||[];return new Cd(N,w)})(t.endAt)),C5(e,a,u,l,f,"F",m,p)}function f6(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rc(t.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rc(t.unaryFilter.field);return bn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rc(t.unaryFilter.field);return bn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rc(t.unaryFilter.field);return bn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return bn.create(rc(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ji.create(t.compositeFilter.filters.map((r=>UA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function d6(n){return e6[n]}function m6(n){return t6[n]}function p6(n){return n6[n]}function ao(n){return{fieldPath:n.canonicalString()}}function rc(n){return $n.fromServerFormat(n.fieldPath)}function qA(n){return n instanceof bn?(function(t){if(t.op==="=="){if(FE(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NAN"}};if(HE(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FE(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NAN"}};if(HE(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(t.field),op:m6(t.op),value:t.value}}})(n):n instanceof Ji?(function(t){const r=t.getFilters().map((a=>qA(a)));return r.length===1?r[0]:{compositeFilter:{op:p6(t.op),filters:r}}})(n):Ue(54877,{filter:n})}function g6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function BA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class co{constructor(e,t,r,a,l=Be.min(),u=Be.min(),f=Qn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y6{constructor(e){this.yt=e}}function v6(n){const e=h6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gy(e,e.limit,"L"):e}class b6{constructor(){this.Cn=new _6}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(bo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class _6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new xn(It.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new xn(It.comparator)).toArray()}}const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class kr{static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(zA,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);class wc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wc(0)}static cr(){return new wc(-1)}}const sT="LruGarbageCollector",E6=1048576;function aT([n,e],[t,r]){const a=st(n,t);return a===0?st(e,r):a}class T6{constructor(e){this.Ir=e,this.buffer=new xn(aT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(sT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mc(t)?Te(sT,"Ignoring IndexedDB error during garbage collection: ",t):await kc(t)}await this.Vr(3e5)}))}}class x6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Qd.ce);const r=new T6(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(iT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,u,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(r=T,f=Date.now(),this.removeTargets(e,r,t)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(p=Date.now(),tc()<=it.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function A6(n,e){return new x6(n,e)}class S6{constructor(){this.changes=new dl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class C6{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&zu(r.mutation,a,ei.empty(),Pt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=at()){const a=el();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let u=Ou();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=el();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,at())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,r,a){let l=va();const u=Bu(),f=(function(){return Bu()})();return t.forEach(((m,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Io)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),zu(v.mutation,p,v.mutation.getFieldMask(),Pt.now())):u.set(p.key,ei.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>f.set(p,new N6(v,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=Bu();let a=new Yt(((u,f)=>u-f)),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let v=r.get(m)||ei.empty();v=f.applyToLocalView(p,v),r.set(m,v);const T=(a.get(f.batchId)||at()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,T=wA();v.forEach((w=>{if(!l.has(w)){const N=RA(t.get(w),r.get(w));N!==null&&T.set(w,N),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,T))}return he.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):he.resolve(el());let f=Qu,m=l;return u.next((p=>he.forEach(p,((v,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,at()))).next((v=>({batchId:f,changes:TA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((r=>{let a=Ou();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let u=Ou();return this.indexManager.getCollectionParents(e,l).next((f=>he.forEach(f,(m=>{const p=(function(T,w){return new jc(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((T,w)=>{u=u.insert(T,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((u=>{l.forEach(((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,ar.newInvalidDocument(v)))}));let f=Ou();return u.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&zu(v.mutation,p,ei.empty(),Pt.now()),Zd(t,p)&&(f=f.insert(m,p))})),f}))}}class R6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ws(a.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:v6(a.bundledQuery),readTime:ws(a.readTime)}})(t)),he.resolve()}}class I6{constructor(){this.overlays=new Yt(Me.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=el();return he.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=el(),l=t.length+1,u=new Me(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Yt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=el(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=el(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return he.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new K5(t,r));let l=this.qr.get(t);l===void 0&&(l=at(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class O6{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class N0{constructor(){this.Qr=new xn(In.$r),this.Ur=new xn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new In(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new In(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Me(new It([])),r=new In(t,e),a=new In(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Me(new It([])),r=new In(t,e),a=new In(t,e+1);let l=at();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new In(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Me.comparator(e.key,t.key)||st(e.Yr,t.Yr)}static Kr(e,t){return st(e.Yr,t.Yr)||Me.comparator(e.key,t.key)}}class D6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xn(In.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $5(l,t,r,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new In(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?g0:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new In(t,0),a=new In(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(st);return t.forEach((a=>{const l=new In(a,0),u=new In(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{r=r.add(f.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Me.isDocumentKey(l)||(l=l.child(""));const u=new In(new Me(l),0);let f=new xn(st);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),u),he.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){gt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(t.mutations,(a=>{const l=new In(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new In(t,0),a=this.Zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class L6{constructor(e){this.ri=e,this.docs=(function(){return new Yt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=va();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ar.newInvalidDocument(a))})),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=va();const u=t.path,f=new Me(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||s5(i5(v),r)<=0||(a.has(v.key)||Zd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ue(9500)}ii(e,t){return he.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new k6(this)}getSize(e){return he.resolve(this.size)}}class k6 extends S6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class M6{constructor(e){this.persistence=e,this.si=new dl((t=>b0(t)),_0),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new N0,this.targetCount=0,this.ai=wc.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}class HA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qd(0),this.li=!1,this.li=!0,this.hi=new O6,this.referenceDelegate=e(this),this.Pi=new M6(this),this.indexManager=new b6,this.remoteDocumentCache=(function(a){return new L6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y6(t),this.Ii=new R6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new D6(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const a=new j6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class j6 extends o5{constructor(e){super(),this.currentSequenceNumber=e}}class C0{constructor(e){this.persistence=e,this.Ri=new N0,this.Vi=null}static mi(e){return new C0(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const a=Me.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Od{constructor(e,t){this.persistence=e,this.pi=new dl((r=>u5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=A6(this,t)}static mi(e,t){return new Od(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?he.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((f=>{f||(r++,l.removeEntry(u,Be.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ud(e.data.value)),t}br(e,t,r){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class R0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=at(),a=at();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new R0(e,t.fromCache,r,a)}}class P6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class V6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return u4()?8:l5(lr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new P6;return this.Ss(e,t,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(tc()<=it.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",nc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(tc()<=it.DEBUG&&Te("QueryEngine","Query:",nc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(tc()<=it.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",nc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):he.resolve())}ys(e,t){if(QE(t))return he.resolve(null);let r=Ts(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=gy(t,null,"F"),r=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=at(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(t,f);return this.Cs(t,p,u,m.readTime)?this.ys(e,gy(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,r,a){return QE(t)||a.isEqual(Be.min())?he.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,a)?he.resolve(null):(tc()<=it.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nc(t)),this.vs(e,u,t,r5(a,Qu)).next((f=>f)))}))}Ds(e,t){let r=new xn(_A(e));return t.forEach(((a,l)=>{Zd(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return tc()<=it.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",nc(t)),this.ps.getDocumentsMatchingQuery(e,t,bo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const I0="LocalStore",U6=3e8;class q6{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Yt(st),this.xs=new dl((l=>b0(l)),_0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function B6(n,e,t,r){return new q6(n,e,t,r)}async function FA(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],f=[];let m=at();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function z6(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const T=p.batch,w=T.keys();let N=he.resolve();return w.forEach((O=>{N=N.next((()=>v.getEntry(m,O))).next((D=>{const I=p.docVersions.get(O);gt(I!==null,48541),D.version.compareTo(I)<0&&(T.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))}))})),N.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=at();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function GA(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function H6(n,e){const t=qe(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,T)=>{const w=a.get(T);if(!w)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T))));let N=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Qn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,r)),a=a.insert(T,N),(function(D,I,q){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=U6?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(w,N,v)&&f.push(t.Pi.updateTargetData(l,N))}));let m=va(),p=at();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(F6(l,u,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!r.isEqual(Be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(v)}return he.waitFor(f).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function F6(n,e,t){let r=at(),a=at();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let u=va();return t.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):Te(I0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function G6(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=g0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $6(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,he.resolve(a)):t.Pi.allocateTargetId(r).next((u=>(a=new co(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ey(n,e,t){const r=qe(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Mc(u))throw u;Te(I0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function oT(n,e,t){const r=qe(n);let a=Be.min(),l=at();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,v){const T=qe(m),w=T.xs.get(v);return w!==void 0?he.resolve(T.Ms.get(w)):T.Pi.getTargetData(p,v)})(r,u,Ts(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:Be.min(),t?l:at()))).next((f=>(K6(r,I5(e),f),{documents:f,Qs:l})))))}function K6(n,e,t){let r=n.Os.get(e)||Be.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class lT{constructor(){this.activeTargetIds=j5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q6{constructor(){this.Mo=new lT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y6{Oo(e){}shutdown(){}}const cT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(cT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(cT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ff=null;function Ty(){return Ff===null?Ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ff++,"0x"+Ff.toString(16)}const Lg="RestConnection",X6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Sd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const u=Ty(),f=this.zo(e,t.toUriEncodedString());Te(Lg,`Sending RPC '${e}' ${u}:`,f,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=Ic(p);return this.Jo(e,f,m,r,v).then((T=>(Te(Lg,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw bc(Lg,`RPC '${e}' ${u} failed with error: `,T,"url: ",f,"request:",r),T}))}Ho(e,t,r,a,l,u){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=X6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Z6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rr="WebChannelConnection";class J6 extends W6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const u=Ty();return new Promise(((f,m)=>{const p=new $x;p.setWithCredentials(!0),p.listenOnce(Kx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case cd.NO_ERROR:const T=p.getResponseJson();Te(rr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case cd.TIMEOUT:Te(rr,`RPC '${e}' ${u} timed out`),m(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const w=p.getStatus();if(Te(rr,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const D=(function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf($)>=0?$:oe.UNKNOWN})(O.status);m(new Ee(D,O.message))}else m(new Ee(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Te(rr,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);Te(rr,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Ty(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Xx(),f=Yx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=l.join("");Te(rr,`Creating RPC '${e}' stream ${a}: ${v}`,m);const T=u.createWebChannel(v,m);this.I_(T);let w=!1,N=!1;const O=new Z6({Yo:I=>{N?Te(rr,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(w||(Te(rr,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),Te(rr,`RPC '${e}' stream ${a} sending:`,I),T.send(I))},Zo:()=>T.close()}),D=(I,q,$)=>{I.listen(q,(ne=>{try{$(ne)}catch(be){setTimeout((()=>{throw be}),0)}}))};return D(T,Iu.EventType.OPEN,(()=>{N||(Te(rr,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),D(T,Iu.EventType.CLOSE,(()=>{N||(N=!0,Te(rr,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(T))})),D(T,Iu.EventType.ERROR,(I=>{N||(N=!0,bc(rr,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),O.a_(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))})),D(T,Iu.EventType.MESSAGE,(I=>{if(!N){const q=I.data[0];gt(!!q,16349);const $=q,ne=$?.error||$[0]?.error;if(ne){Te(rr,`RPC '${e}' stream ${a} received error:`,ne);const be=ne.status;let ve=(function(M){const P=yn[M];if(P!==void 0)return OA(P)})(be),we=ne.message;ve===void 0&&(ve=oe.INTERNAL,we="Unknown error status: "+be+" with message "+ne.message),N=!0,O.a_(new Ee(ve,we)),T.close()}else Te(rr,`RPC '${e}' stream ${a} received:`,q),O.u_(q)}})),D(f,Qx.STAT_EVENT,(I=>{I.stat===cy.PROXY?Te(rr,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===cy.NOPROXY&&Te(rr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function kg(){return typeof document<"u"?document:null}function nm(n){return new r6(n,!0)}class $A{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hT="PersistentStream";class KA{constructor(e,t,r,a,l,u,f,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $A(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ya(t.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(hT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Te(hT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends KA{constructor(e,t,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=a6(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?ws(u.readTime):Be.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=_y(this.serializer),t.addTarget=(function(l,u){let f;const m=u.target;if(f=my(m)?{documents:c6(l,m)}:{query:VA(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=kA(l,u.resumeToken);const p=yy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){f.readTime=Id(l,u.snapshotVersion.toTimestamp());const p=yy(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=f6(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=_y(this.serializer),t.removeTarget=e,this.q_(t)}}class tD extends KA{constructor(e,t,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=l6(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=_y(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>o6(this.serializer,r)))};this.q_(t)}}class nD{}class rD extends nD{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,vy(t,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(oe.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,vy(t,r),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ya(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ol="RemoteStore";class sD{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ml(this)&&(Te(ol,"Restarting streams for network reachability change."),await(async function(m){const p=qe(m);p.Ea.add(4),await bh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await rm(p)})(this))}))})),this.Ra=new iD(r,a)}}async function rm(n){if(ml(n))for(const e of n.da)await e(!0)}async function bh(n){for(const e of n.da)await e(!1)}function QA(n,e){const t=qe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),k0(t)?L0(t):Pc(t).O_()&&D0(t,e))}function O0(n,e){const t=qe(n),r=Pc(t);t.Ia.delete(e),r.O_()&&YA(t,e),t.Ia.size===0&&(r.O_()?r.L_():ml(t)&&t.Ra.set("Unknown"))}function D0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pc(n).Y_(e)}function YA(n,e){n.Va.Ue(e),Pc(n).Z_(e)}function L0(n){n.Va=new J5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Pc(n).start(),n.Ra.ua()}function k0(n){return ml(n)&&!Pc(n).x_()&&n.Ia.size>0}function ml(n){return qe(n).Ea.size===0}function XA(n){n.Va=void 0}async function aD(n){n.Ra.set("Online")}async function oD(n){n.Ia.forEach(((e,t)=>{D0(n,e)}))}async function lD(n,e){XA(n),k0(n)?(n.Ra.ha(e),L0(n)):n.Ra.set("Unknown")}async function cD(n,e,t){if(n.Ra.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){Te(ol,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dd(n,r)}else if(e instanceof dd?n.Va.Ze(e):e instanceof DA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Be.min()))try{const r=await GA(n.localStore);t.compareTo(r)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(Qn.EMPTY_BYTE_STRING,v.snapshotVersion)),YA(l,m);const T=new co(v.target,m,p,v.sequenceNumber);D0(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){Te(ol,"Failed to raise snapshot:",r),await Dd(n,r)}}async function Dd(n,e,t){if(!Mc(e))throw e;n.Ea.add(1),await bh(n),n.Ra.set("Offline"),t||(t=()=>GA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(ol,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rm(n)}))}function WA(n,e){return e().catch((t=>Dd(n,t,e)))}async function im(n){const e=qe(n),t=wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:g0;for(;uD(e);)try{const a=await G6(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,hD(e,a)}catch(a){await Dd(e,a)}ZA(e)&&JA(e)}function uD(n){return ml(n)&&n.Ta.length<10}function hD(n,e){n.Ta.push(e);const t=wo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function ZA(n){return ml(n)&&!wo(n).x_()&&n.Ta.length>0}function JA(n){wo(n).start()}async function fD(n){wo(n).ra()}async function dD(n){const e=wo(n);for(const t of n.Ta)e.ea(t.mutations)}async function mD(n,e,t){const r=n.Ta.shift(),a=x0.from(r,e,t);await WA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await im(n)}async function pD(n,e){e&&wo(n).X_&&await(async function(r,a){if((function(u){return X5(u)&&u!==oe.ABORTED})(a.code)){const l=r.Ta.shift();wo(r).B_(),await WA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await im(r)}})(n,e),ZA(n)&&JA(n)}async function fT(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Te(ol,"RemoteStore received new credentials");const r=ml(t);t.Ea.add(3),await bh(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rm(t)}async function gD(n,e){const t=qe(n);e?(t.Ea.delete(2),await rm(t)):e||(t.Ea.add(2),await bh(t),t.Ra.set("Unknown"))}function Pc(n){return n.ma||(n.ma=(function(t,r,a){const l=qe(t);return l.sa(),new eD(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:aD.bind(null,n),t_:oD.bind(null,n),r_:lD.bind(null,n),H_:cD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),k0(n)?L0(n):n.Ra.set("Unknown")):(await n.ma.stop(),XA(n))}))),n.ma}function wo(n){return n.fa||(n.fa=(function(t,r,a){const l=qe(t);return l.sa(),new tD(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:fD.bind(null,n),r_:pD.bind(null,n),ta:dD.bind(null,n),na:mD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await im(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(ol,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class M0{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const u=Date.now()+r,f=new M0(e,t,u,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j0(n,e){if(ya("AsyncQueue",`${e}: ${n}`),Mc(n))return new Ee(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class fc{static emptySet(e){return new fc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Me.comparator(t.key,r.key):(t,r)=>Me.comparator(t.key,r.key),this.keyedMap=Ou(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dT{constructor(){this.ga=new Yt(Me.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class xc{constructor(e,t,r,a,l,u,f,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new xc(e,t,fc.emptySet(t),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class yD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vD{constructor(){this.queries=mT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=qe(t),l=a.queries;a.queries=mT(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(r)}))})(this,new Ee(oe.ABORTED,"Firestore shutting down"))}}function mT(){return new dl((n=>bA(n)),Wd)}async function eS(n,e){const t=qe(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new yD,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=j0(u,`Initialization of query '${nc(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&P0(t)}async function tS(n,e){const t=qe(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function bD(n,e){const t=qe(n);let r=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(r=!0);u.wa=a}}r&&P0(t)}function _D(n,e,t){const r=qe(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function P0(n){n.Ca.forEach((e=>{e.next()}))}var wy,pT;(pT=wy||(wy={})).Ma="default",pT.Cache="cache";class nS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wy.Cache}}class rS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class ED{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=_A(e),this.tu=new fc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new dT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,T)=>{const w=a.get(v),N=Zd(this.query,T)?T:null,O=!!w&&this.mutatedKeys.has(w.key),D=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let I=!1;w&&N?w.data.isEqual(N.data)?O!==D&&(r.track({type:3,doc:N}),I=!0):this.su(w,N)||(r.track({type:2,doc:N}),I=!0,(m&&this.eu(N,m)>0||p&&this.eu(N,p)<0)&&(f=!0)):!w&&N?(r.track({type:0,doc:N}),I=!0):w&&!N&&(r.track({type:1,doc:w}),I=!0,(m||p)&&(f=!0)),I&&(N?(u=u.add(N),l=D?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,T)=>(function(N,O){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:I})}};return D(N)-D(O)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new xc(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new iS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new rS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=at();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V0="SyncEngine";class TD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wD{constructor(e){this.key=e,this.hu=!1}}class xD{constructor(e,t,r,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new dl((f=>bA(f)),Wd),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(Me.comparator),this.Au=new Map,this.Ru=new N0,this.Vu={},this.mu=new Map,this.fu=wc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AD(n,e,t=!0){const r=uS(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await sS(r,e,t,!0),a}async function SD(n,e){const t=uS(n);await sS(t,e,!0,!1)}async function sS(n,e,t,r){const a=await $6(n.localStore,Ts(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await ND(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&QA(n.remoteStore,a),f}async function ND(n,e,t,r,a){n.pu=(T,w,N)=>(async function(D,I,q,$){let ne=I.view.ru(q);ne.Cs&&(ne=await oT(D.localStore,I.query,!1).then((({documents:j})=>I.view.ru(j,ne))));const be=$&&$.targetChanges.get(I.targetId),ve=$&&$.targetMismatches.get(I.targetId)!=null,we=I.view.applyChanges(ne,D.isPrimaryClient,be,ve);return yT(D,I.targetId,we.au),we.snapshot})(n,T,w,N);const l=await oT(n.localStore,e,!0),u=new ED(e,l.Qs),f=u.ru(l.documents),m=vh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(f,n.isPrimaryClient,m);yT(n,t,p.au);const v=new TD(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function CD(n,e,t){const r=qe(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Wd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ey(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&O0(r.remoteStore,a.targetId),xy(r,a.targetId)})).catch(kc)):(xy(r,a.targetId),await Ey(r.localStore,a.targetId,!0))}async function RD(n,e){const t=qe(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),O0(t.remoteStore,r.targetId))}async function ID(n,e,t){const r=PD(n);try{const a=await(function(u,f){const m=qe(u),p=Pt.now(),v=f.reduce(((N,O)=>N.add(O.key)),at());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let O=va(),D=at();return m.Ns.getEntries(N,v).next((I=>{O=I,O.forEach(((q,$)=>{$.isValidDocument()||(D=D.add(q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,O))).next((I=>{T=I;const q=[];for(const $ of f){const ne=F5($,T.get($.key).overlayedDocument);ne!=null&&q.push(new Io($.key,ne,uA(ne.value.mapValue),Ci.exists(!0)))}return m.mutationQueue.addMutationBatch(N,p,q,f)})).next((I=>{w=I;const q=I.applyToLocalDocumentSet(T,D);return m.documentOverlayCache.saveOverlays(N,I.batchId,q)}))})).then((()=>({batchId:w.batchId,changes:TA(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new Yt(st)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,t),await _h(r,a.changes),await im(r.remoteStore)}catch(a){const l=j0(a,"Failed to persist write");t.reject(l)}}async function aS(n,e){const t=qe(n);try{const r=await H6(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?gt(u.hu,14607):a.removedDocuments.size>0&&(gt(u.hu,42227),u.hu=!1))})),await _h(t,r,e)}catch(r){await kc(r)}}function gT(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=qe(u);m.onlineState=f;let p=!1;m.queries.forEach(((v,T)=>{for(const w of T.Sa)w.va(f)&&(p=!0)})),p&&P0(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OD(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new Yt(Me.comparator);u=u.insert(l,ar.newNoDocument(l,Be.min()));const f=at().add(l),m=new tm(Be.min(),new Map,new Yt(st),u,f);await aS(r,m),r.du=r.du.remove(l),r.Au.delete(e),U0(r)}else await Ey(r.localStore,e,!1).then((()=>xy(r,e,t))).catch(kc)}async function DD(n,e){const t=qe(n),r=e.batch.batchId;try{const a=await z6(t.localStore,e);lS(t,r,null),oS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _h(t,a)}catch(a){await kc(a)}}async function LD(n,e,t){const r=qe(n);try{const a=await(function(u,f){const m=qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((T=>(gt(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);lS(r,e,t),oS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _h(r,a)}catch(a){await kc(a)}}function oS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function lS(n,e,t){const r=qe(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||cS(n,r)}))}function cS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(O0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),U0(n))}function yT(n,e,t){for(const r of t)r instanceof rS?(n.Ru.addReference(r.key,e),kD(n,r)):r instanceof iS?(Te(V0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||cS(n,r.key)):Ue(19791,{wu:r})}function kD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Te(V0,"New document in limbo: "+t),n.Eu.add(r),U0(n))}function U0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Me(It.fromString(e)),r=n.fu.next();n.Au.set(r,new wD(t)),n.du=n.du.insert(t,r),QA(n.remoteStore,new co(Ts(E0(t.path)),r,"TargetPurposeLimboResolution",Qd.ce))}}async function _h(n,e,t){const r=qe(n),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,m)=>{u.push(r.pu(m,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=R0.As(m.targetId,p);l.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(m,p){const v=qe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>he.forEach(p,(w=>he.forEach(w.Es,(N=>v.persistence.referenceDelegate.addReference(T,w.targetId,N))).next((()=>he.forEach(w.ds,(N=>v.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))))))}catch(T){if(!Mc(T))throw T;Te(I0,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const N=v.Ms.get(w),O=N.snapshotVersion,D=N.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(w,D)}}})(r.localStore,l))}async function MD(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Te(V0,"User change. New user:",e.toKey());const r=await FA(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ee(oe.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _h(t,r.Ls)}}function jD(n,e){const t=qe(n),r=t.Au.get(e);if(r&&r.hu)return at().add(r.key);{let a=at();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const f=t.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function uS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.Pu.H_=bD.bind(null,e.eventManager),e.Pu.yu=_D.bind(null,e.eventManager),e}function PD(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return B6(this.persistence,new V6,e.initialUser,this.serializer)}Cu(e){return new HA(C0.mi,this.serializer)}Du(e){return new Q6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class VD extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){gt(this.persistence.referenceDelegate instanceof Od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new HA((r=>Od.mi(r,t)),this.serializer)}}class Ay{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vD})()}createDatastore(e){const t=nm(e.databaseInfo.databaseId),r=(function(l){return new J6(l)})(e.databaseInfo);return(function(l,u,f,m){return new rD(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,u,f){return new sD(r,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>gT(this.syncEngine,t,0)),(function(){return uT.v()?new uT:new Y6})())}createSyncEngine(e,t){return(function(a,l,u,f,m,p,v){const T=new xD(a,l,u,f,m,p);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=qe(t);Te(ol,"RemoteStore shutting down."),r.Ea.add(5),await bh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ay.provider={build:()=>new Ay};class hS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const xo="FirestoreClient";class UD{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=sr.UNAUTHENTICATED,this.clientId=p0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{Te(xo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Te(xo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=j0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(xo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await FA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function vT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qD(n);Te(xo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>fT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>fT(e.remoteStore,a))),n._onlineComponents=e}async function qD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(xo,"Using user provided OfflineComponentProvider");try{await Mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;bc("Error using user provided cache. Falling back to memory cache: "+t),await Mg(n,new Ld)}}else Te(xo,"Using default OfflineComponentProvider"),await Mg(n,new VD(void 0));return n._offlineComponents}async function q0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(xo,"Using user provided OnlineComponentProvider"),await vT(n,n._uninitializedComponentsProvider._online)):(Te(xo,"Using default OnlineComponentProvider"),await vT(n,new Ay))),n._onlineComponents}function BD(n){return q0(n).then((e=>e.syncEngine))}function zD(n){return q0(n).then((e=>e.datastore))}async function fS(n){const e=await q0(n),t=e.eventManager;return t.onListen=AD.bind(null,e.syncEngine),t.onUnlisten=CD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RD.bind(null,e.syncEngine),t}function HD(n,e,t={}){const r=new Es;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new hS({next:w=>{v.Nu(),u.enqueueAndForget((()=>tS(l,T)));const N=w.docs.has(f);!N&&w.fromCache?p.reject(new Ee(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&m&&m.source==="server"?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new nS(E0(f.path),v,{includeMetadataChanges:!0,qa:!0});return eS(l,T)})(await fS(n),n.asyncQueue,e,t,r))),r.promise}function FD(n,e,t={}){const r=new Es;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const v=new hS({next:w=>{v.Nu(),u.enqueueAndForget((()=>tS(l,T))),w.fromCache&&m.source==="server"?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new nS(f,v,{includeMetadataChanges:!0,qa:!0});return eS(l,T)})(await fS(n),n.asyncQueue,e,t,r))),r.promise}function GD(n,e,t){const r=new Es;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await zD(n);r.resolve((async function(u,f,m){const p=qe(u),{request:v,gt:T,parent:w}=u6(p.serializer,R5(f),m);p.connection.$o||delete v.parent;const N=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,w,v,1)).filter((D=>!!D.result));gt(N.length===1,64727);const O=N[0].result?.aggregateFields;return Object.keys(O).reduce(((D,I)=>(D[T[I]]=O[I],D)),{})})(a,e,t))}catch(a){r.reject(a)}})),r.promise}function dS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const bT=new Map;const mS="firestore.googleapis.com",_T=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mS,this.ssl=_T}else this.host=e.host,this.ssl=e.ssl??_T;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E6)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $O;switch(r.type){case"firstParty":return new XO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=bT.get(t);r&&(Te("ComponentProvider","Removing Datastore"),bT.delete(t),r.terminate())})(this),Promise.resolve()}}function $D(n,e,t,r={}){n=Ii(n,sm);const a=Ic(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(rx(`https://${f}`),ix("Firestore",!0)),l.host!==mS&&l.host!==f&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:r};if(!nl(m,u)&&(n._setSettings(m),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=sr.MOCK_USER;else{p=t4(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sr(T)}n._authCredentials=new KO(new Zx(p,v))}}class pl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pl(this.firestore,e,this._query)}}class cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(gh(t,cn._jsonSchema))return new cn(e,r||null,new Me(It.fromString(t.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:_n("string",cn._jsonSchemaVersion),referencePath:_n("string")};class go extends pl{constructor(e,t,r){super(e,t,E0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Me(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function On(n,e,...t){if(n=An(n),Jx("collection","path",e),n instanceof sm){const r=It.fromString(e,...t);return kE(r),new go(n,null,r)}{if(!(n instanceof cn||n instanceof go))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return kE(r),new go(n.firestore,null,r)}}function un(n,e,...t){if(n=An(n),arguments.length===1&&(e=p0.newId()),Jx("doc","path",e),n instanceof sm){const r=It.fromString(e,...t);return LE(r),new cn(n,null,new Me(r))}{if(!(n instanceof cn||n instanceof go))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return LE(r),new cn(n.firestore,n instanceof go?n.converter:null,new Me(r))}}const TT="AsyncQueue";class wT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $A(this,"async_queue_retry"),this._c=()=>{const r=kg();r&&Te(TT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mc(e))throw e;Te(TT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ya("INTERNAL UNHANDLED ERROR: ",xT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=M0.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ue(47125,{Pc:xT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function xT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Oo extends sm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new wT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wT(e),this._firestoreClient=void 0,await e}}}function KD(n,e){const t=typeof n=="object"?n:lx(),r=typeof n=="string"?n:Sd,a=n0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=JR("firestore");l&&$D(a,...l)}return a}function am(n){if(n._terminated)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QD(n),n._firestoreClient}function QD(n){const e=n._freezeSettings(),t=(function(a,l,u,f){return new m5(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new UD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class YD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class XD{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(Qn.fromBase64String(e))}catch(t){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ai(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,Ai._jsonSchema))return Ai.fromBase64String(e.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:_n("string",Ai._jsonSchemaVersion),bytes:_n("string")};class om{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lm{constructor(e){this._methodName=e}}class xs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xs._jsonSchemaVersion}}static fromJSON(e){if(gh(e,xs._jsonSchema))return new xs(e.latitude,e.longitude)}}xs._jsonSchemaVersion="firestore/geoPoint/1.0",xs._jsonSchema={type:_n("string",xs._jsonSchemaVersion),latitude:_n("number"),longitude:_n("number")};class As{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new As(e.vectorValues);throw new Ee(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:_n("string",As._jsonSchemaVersion),vectorValues:_n("object")};const WD=/^__.*__$/;class ZD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,t,this.fieldTransforms):new yh(e,this.data,t,this.fieldTransforms)}}class pS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Io(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class B0{constructor(e,t,r,a,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new B0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gS(this.Ac)&&WD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nm(e)}Cc(e,t,r,a=!1){return new B0({Ac:e,methodName:t,Dc:r,path:$n.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cm(n){const e=n._freezeSettings(),t=nm(n._databaseId);return new JD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yS(n,e,t,r,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);H0("Data must be an object, but it was:",u,r);const f=vS(r,u);let m,p;if(l.merge)m=new ei(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const w=Sy(e,T,t);if(!u.contains(w))throw new Ee(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);_S(v,w)||v.push(w)}m=new ei(v),p=u.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=u.fieldTransforms;return new ZD(new Mr(f),m,p)}class um extends lm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}class z0 extends lm{_toFieldTransform(e){return new q5(e.path,new Ju)}isEqual(e){return e instanceof z0}}function eL(n,e,t,r){const a=n.Cc(1,e,t);H0("Data must be an object, but it was:",a,r);const l=[],u=Mr.empty();Ro(r,((m,p)=>{const v=F0(e,m,t);p=An(p);const T=a.yc(v);if(p instanceof um)l.push(v);else{const w=Eh(p,T);w!=null&&(l.push(v),u.set(v,w))}}));const f=new ei(l);return new pS(u,f,a.fieldTransforms)}function tL(n,e,t,r,a,l){const u=n.Cc(1,e,t),f=[Sy(e,r,t)],m=[a];if(l.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Sy(e,l[w])),m.push(l[w+1]);const p=[],v=Mr.empty();for(let w=f.length-1;w>=0;--w)if(!_S(p,f[w])){const N=f[w];let O=m[w];O=An(O);const D=u.yc(N);if(O instanceof um)p.push(N);else{const I=Eh(O,D);I!=null&&(p.push(N),v.set(N,I))}}const T=new ei(p);return new pS(v,T,u.fieldTransforms)}function nL(n,e,t,r=!1){return Eh(t,n.Cc(r?4:3,e))}function Eh(n,e){if(bS(n=An(n)))return H0("Unsupported field value:",e,n),vS(n,e);if(n instanceof lm)return(function(r,a){if(!gS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const f of r){let m=Eh(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Pt.fromDate(r);return{timestampValue:Id(a.serializer,l)}}if(r instanceof Pt){const l=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(a.serializer,l)}}if(r instanceof xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ai)return{bytesValue:kA(a.serializer,r._byteString)};if(r instanceof cn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof As)return(function(u,f){return{mapValue:{fields:{[lA]:{stringValue:cA},[Nd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return T0(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Kd(r)}`)})(n,e)}function vS(n,e){const t={};return nA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,((r,a)=>{const l=Eh(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function bS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof xs||n instanceof Ai||n instanceof cn||n instanceof lm||n instanceof As)}function H0(n,e,t){if(!bS(t)||!eA(t)){const r=Kd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Sy(n,e,t){if((e=An(e))instanceof om)return e._internalPath;if(typeof e=="string")return F0(n,e);throw kd("Field path arguments must be of type string or ",n,!1,void 0,t)}const rL=new RegExp("[~\\*/\\[\\]]");function F0(n,e,t){if(e.search(rL)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new om(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kd(n,e,t,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${r}`),u&&(m+=` in document ${a}`),m+=")"),new Ee(oe.INVALID_ARGUMENT,f+n+m)}function _S(n,e){return n.some((t=>t.isEqual(e)))}class ES{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(G0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iL extends ES{data(){return super.data()}}function G0(n,e){return typeof e=="string"?F0(n,e):e instanceof om?e._internalPath:e._delegate._internalPath}function sL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}class TS extends $0{}function gl(n,e,...t){let r=[];e instanceof $0&&r.push(e),r=r.concat(t),(function(l){const u=l.filter((m=>m instanceof Q0)).length,f=l.filter((m=>m instanceof K0)).length;if(u>1||u>0&&f>0)throw new Ee(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class K0 extends TS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new K0(e,t,r)}_apply(e){const t=this._parse(e);return wS(e._query,t),new pl(e.firestore,e.converter,py(e._query,t))}_parse(e){const t=cm(e.firestore);return(function(l,u,f,m,p,v,T){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ST(T,v);const O=[];for(const D of T)O.push(AT(m,l,D));w={arrayValue:{values:O}}}else w=AT(m,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ST(T,v),w=nL(f,u,T,v==="in"||v==="not-in");return bn.create(p,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Q0 extends $0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Q0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ji.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)wS(u,m),u=py(u,m)})(e._query,t),new pl(e.firestore,e.converter,py(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y0 extends TS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Y0(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(l,u)})(e._query,this._field,this._direction);return new pl(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new jc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function yl(n,e="asc"){const t=e,r=G0("orderBy",n);return Y0._create(r,t)}function AT(n,e,t){if(typeof(t=An(t))=="string"){if(t==="")throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(e)&&t.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!Me.isDocumentKey(r))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(n,new Me(r))}if(t instanceof cn)return zE(n,t._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(t)}.`)}function ST(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wS(n,e){const t=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aL{convertValue(e,t="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ro(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Nd].arrayValue?.values?.map((r=>ln(r.doubleValue)));return new As(t)}convertGeoPoint(e){return new xs(ln(e.latitude),ln(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=_o(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);gt(BA(r),9688,{name:e});const a=new Xu(r.get(1),r.get(3)),l=new Me(r.popFirst(5));return a.isEqual(t)||ya(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function xS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}function oL(){return new YD("count")}class Lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tl extends ES{constructor(e,t,r,a,l,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(G0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=tl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}tl._jsonSchemaVersion="firestore/documentSnapshot/1.0",tl._jsonSchema={type:_n("string",tl._jsonSchemaVersion),bundleSource:_n("string","DocumentSnapshot"),bundleName:_n("string"),bundle:_n("string")};class md extends tl{data(e={}){return super.data(e)}}class dc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Lu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new md(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new md(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new md(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:lL(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=p0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}function xa(n){n=Ii(n,cn);const e=Ii(n.firestore,Oo);return HD(am(e),n._key).then((t=>cL(e,n,t)))}dc._jsonSchemaVersion="firestore/querySnapshot/1.0",dc._jsonSchema={type:_n("string",dc._jsonSchemaVersion),bundleSource:_n("string","QuerySnapshot"),bundleName:_n("string"),bundle:_n("string")};class X0 extends aL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function Cs(n){n=Ii(n,pl);const e=Ii(n.firestore,Oo),t=am(e),r=new X0(e);return sL(n._query),FD(t,n._query).then((a=>new dc(e,r,n,a)))}function Ny(n,e,t){n=Ii(n,cn);const r=Ii(n.firestore,Oo),a=xS(n.converter,e,t);return mm(r,[yS(cm(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Ci.none())])}function hm(n,e,t,...r){n=Ii(n,cn);const a=Ii(n.firestore,Oo),l=cm(a);let u;return u=typeof(e=An(e))=="string"||e instanceof om?tL(l,"updateDoc",n._key,e,t,r):eL(l,"updateDoc",n._key,e),mm(a,[u.toMutation(n._key,Ci.exists(!0))])}function fm(n){return mm(Ii(n.firestore,Oo),[new w0(n._key,Ci.none())])}function dm(n,e){const t=Ii(n.firestore,Oo),r=un(n),a=xS(n.converter,e);return mm(t,[yS(cm(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then((()=>r))}function mm(n,e){return(function(r,a){const l=new Es;return r.asyncQueue.enqueueAndForget((async()=>ID(await BD(r),a,l))),l.promise})(am(n),e)}function cL(n,e,t){const r=t.docs.get(e._key),a=new X0(n);return new tl(n,a,e._key,r,new Lu(t.hasPendingWrites,t.fromCache),e.converter)}function Gf(n){return uL(n,{count:oL()})}function uL(n,e){const t=Ii(n.firestore,Oo),r=am(t),a=f5(e,((l,u)=>new Q5(u,l.aggregateType,l._internalFieldPath)));return GD(r,n._query,a).then((l=>(function(f,m,p){const v=new X0(f);return new XD(m,v,p)})(t,n,l)))}function Ac(){return new z0("serverTimestamp")}(function(e,t=!0){(function(a){Lc=a})(Oc),yc(new rl("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),f=new Oo(new QO(r.getProvider("auth-internal")),new WO(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(p.options.projectId,v)})(u,a),u);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),mo(RE,IE,e),mo(RE,IE,"esm2020")})();const hL={apiKey:"AIzaSyB3nTJlyM3K-XpvEUrXyk3leiVeMxzkTiU",authDomain:"forexvolcano-21180.firebaseapp.com",projectId:"forexvolcano-21180",storageBucket:"forexvolcano-21180.firebasestorage.app",messagingSenderId:"264687169302",appId:"1:264687169302:web:83322d7adc303b1f0c2a37",measurementId:"G-XTB0D1TPS6"},AS=ox(hL),Wi=FO(AS),Xe=KD(AS),fL=()=>{const[n,e]=G.useState(null),[t,r]=G.useState(!1),a=Ea();G.useEffect(()=>{const u=h0(Wi,async f=>{if(e(f),f)try{const m=await xa(un(Xe,"users",f.uid));m.exists()&&m.data().role==="admin"?r(!0):r(!1)}catch(m){console.error("Error checking admin role:",m),r(!1)}else r(!1)});return()=>u()},[]);const l=async()=>{try{await k3(Wi),a("/")}catch(u){console.error("Error logging out",u)}};return y.jsx("nav",{className:"bg-surface border-b border-gray-800 sticky top-0 z-50",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(vn,{to:"/",className:"flex-shrink-0",children:y.jsxs("span",{className:"text-secondary text-2xl font-bold tracking-tighter",children:["Forex",y.jsx("span",{className:"text-accent",children:"Volcano"})]})}),y.jsx("div",{className:"hidden md:block",children:y.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[y.jsx(vn,{to:"/analysis",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Analysis"}),y.jsx(vn,{to:"/news",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"News"})]})})]}),y.jsx("div",{className:"hidden md:block",children:y.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:n?y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(vn,{to:"/dashboard",className:"text-primary hover:text-green-400 font-medium px-3 py-2",children:"Dashboard"}),t&&y.jsx(vn,{to:"/admin",className:"text-accent hover:text-orange-400 font-medium px-3 py-2",children:"Admin Panel"}),y.jsx("button",{onClick:l,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]}):y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(vn,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),y.jsx(vn,{to:"/register",className:"bg-primary hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Get Started"})]})})}),y.jsx("div",{className:"-mr-2 flex md:hidden",children:y.jsxs("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[y.jsx("span",{className:"sr-only",children:"Open main menu"}),y.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},dL=()=>y.jsx("footer",{className:"bg-[#05080f] border-t border-gray-800/50 py-12",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[y.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[y.jsxs(vn,{to:"/",className:"text-2xl font-bold tracking-tighter text-secondary",children:["Forex",y.jsx("span",{className:"text-accent",children:"Volcano"})]}),y.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[" ",new Date().getFullYear()," ForexVolcano. All rights reserved."]})]}),y.jsxs("div",{className:"flex space-x-8",children:[y.jsx(vn,{to:"/analysis",className:"text-gray-400 hover:text-white transition-colors",children:"Analysis"}),y.jsx(vn,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"News"}),y.jsx(vn,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})]})]})})}),NT={primary:"bg-primary hover:bg-green-500 text-white shadow-lg shadow-green-900/20",secondary:"bg-secondary hover:bg-red-500 text-white shadow-lg shadow-red-900/20",accent:"bg-accent hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",outline:"border-2 border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white bg-transparent",ghost:"text-slate-400 hover:text-white hover:bg-white/5"},CT={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base font-semibold",lg:"px-8 py-4 text-lg font-bold"},hn=({children:n,variant:e="primary",size:t="md",to:r=null,onClick:a,className:l="",...u})=>{const f="inline-flex items-center justify-center rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e17] focus:ring-slate-400",m=NT[e]||NT.primary,p=CT[t]||CT.md,v=`${f} ${m} ${p} ${l}`;return r?y.jsx(vn,{to:r,className:v,...u,children:n}):y.jsx("button",{onClick:a,className:v,...u,children:n})},mL=()=>y.jsxs("div",{className:"relative overflow-hidden bg-background pt-16 pb-32 lg:pt-32 lg:pb-40",children:[y.jsxs("div",{className:"absolute top-0 left-1/2 w-full -translate-x-1/2 h-full z-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute top-[10%] right-[20%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[80px]"})]}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-white mb-6",children:["Predict the ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent",children:"Eruption"})]}),y.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-400 mb-10",children:"Professional Forex education and institutional-grade analysis. Stop guessing. Start trading with the precision of a geologist."}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[y.jsx(hn,{to:"/register",variant:"primary",size:"lg",children:"Start Learning Free"}),y.jsx(hn,{to:"/analysis",variant:"outline",size:"lg",children:"View Daily Analysis"})]}),y.jsxs("div",{className:"mt-16 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent z-10 h-20 bottom-0 pointer-events-none"}),y.jsxs("div",{className:"inline-flex items-center gap-8 py-3 px-8 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm shadow-2xl",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"EUR/USD"}),y.jsx("span",{className:"text-primary text-sm",children:" 1.0842"})]}),y.jsx("div",{className:"w-px h-4 bg-gray-700"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"GBP/USD"}),y.jsx("span",{className:"text-secondary text-sm",children:" 1.2615"})]}),y.jsx("div",{className:"w-px h-4 bg-gray-700"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-bold text-white",children:"XAU/USD"}),y.jsx("span",{className:"text-accent text-sm",children:" 2045.50"})]})]})]})]})]}),pL=[{title:"Structured Learning Path",description:'From "What is a Pip?" to institutional order flow. Our curriculum guides you step-by-step through the chaos.',icon:y.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),borderColor:"border-primary/20",iconBg:"bg-primary/10"},{title:"Daily Market Analysis",description:`Don't trade alone. Get daily "Volcano Watch" reports identifying high-probability setups before they erupt.`,icon:y.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),borderColor:"border-secondary/20",iconBg:"bg-secondary/10"},{title:"Risk Management",description:"The volcano is dangerous. Learn how to survive. Our strict risk protocols are the core of our philosophy.",icon:y.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),borderColor:"border-accent/20",iconBg:"bg-accent/10"}],gL=()=>y.jsx("div",{className:"py-24 bg-surface",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-base text-accent font-semibold tracking-wide uppercase",children:"Why Choose Us"}),y.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"A Better Way to Trade"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:pL.map((n,e)=>y.jsxs("div",{className:`p-8 bg-background/50 border ${n.borderColor} rounded-2xl hover:bg-background transition-all duration-300`,children:[y.jsx("div",{className:`w-12 h-12 ${n.iconBg} rounded-lg flex items-center justify-center mb-6`,children:n.icon}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:n.title}),y.jsx("p",{className:"text-gray-400 leading-relaxed",children:n.description})]},e))})]})}),yL=()=>y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(mL,{}),y.jsx(gL,{})]}),SS=({title:n,subtitle:e,image:t,content:r,footer:a,badges:l=[],className:u=""})=>y.jsxs("div",{className:`group relative flex flex-col overflow-hidden rounded-2xl bg-surface border border-gray-800 transition-all duration-300 hover:border-gray-700 hover:shadow-2xl hover:shadow-primary/5 ${u}`,children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),t&&y.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-900",children:[y.jsx("img",{src:t,alt:n,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:f=>{f.target.style.display="none",f.target.parentElement.classList.add("flex","items-center","justify-center","bg-gray-800"),f.target.parentElement.innerHTML='<span class="text-4xl"></span>'}}),l.length>0&&y.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:l.map((f,m)=>y.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded uppercase tracking-wider ${f.color||"bg-gray-800 text-white"}`,children:f.text},m))})]}),y.jsxs("div",{className:"flex flex-1 flex-col p-6 z-10",children:[e&&y.jsx("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-400",children:e}),y.jsx("h3",{className:"mb-3 text-xl font-bold text-white group-hover:text-primary transition-colors",children:n}),y.jsx("p",{className:"flex-1 text-gray-400 line-clamp-3 mb-6",children:r}),a&&y.jsx("div",{className:"mt-auto border-t border-gray-800 pt-4",children:a})]})]}),RT=[{id:"1",pair:"EUR/USD",direction:"Bearish",title:"EUR/USD Forming Head and Shoulders on 4H",content:"Price has failed to break the 1.0900 resistance level multiple times. We are observing a clear H&S pattern formation. If the neckline at 1.0820 breaks, we expect a sharp decline towards the 1.0750 liquidity zone.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",pair:"XAU/USD",direction:"Bullish",title:"Gold Preparing for Eruption Above 2050",content:"Geopolitical tensions and a weakening dollar suggest Gold is accumulating for a massive leg up. Watch for a retest of 2035 as a potential entry point for long positions targeting new highs.",author:"Analyst Sarah",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"},{id:"3",pair:"GBP/JPY",direction:"Bullish",title:"The Dragon is Waking Up",content:"GJ is respecting the ascending trendline perfectly. The recent pullback to 182.00 was rejected strongly. We are looking for continuation towards 185.00 level.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"}],vL=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),[a,l]=G.useState("All");G.useEffect(()=>{(async()=>{try{const v=gl(On(Xe,"analysis"),yl("timestamp","desc")),w=(await Cs(v)).docs.map(N=>({id:N.id,...N.data()}));w.length>0?e(w):e(RT)}catch(v){console.error("Error fetching analysis:",v),e(RT)}finally{r(!1)}})()},[]);const u=a==="All"?n:n.filter(p=>p.pair===a),f=["All",...new Set(n.map(p=>p.pair))],m=p=>{if(!p)return"";const v=p.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),T=document.createElement("DIV");return T.innerHTML=v,(T.textContent||T.innerText||"").trim()};return y.jsx("div",{className:"bg-background min-h-screen py-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",y.jsx("span",{className:"text-primary",children:"Analysis"})]}),y.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Daily technical breakdowns and trade setups from our experts."})]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:f.map(p=>y.jsx("button",{onClick:()=>l(p),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${a===p?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:p},p))}),t?y.jsx("div",{className:"text-center text-white py-20",children:"Loading Volcano Data..."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(p=>{const v=p.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return y.jsx(vn,{to:`/analysis/${p.id}`,className:"block group",children:y.jsx(SS,{title:p.title,image:p.image||p.chart_image_url,content:m(p.content),subtitle:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-gray-500 text-xs",children:p.timestamp?.seconds?new Date(p.timestamp.seconds*1e3).toLocaleDateString():p.timestamp||new Date().toLocaleDateString()}),y.jsx("span",{className:"text-gray-600",children:""}),y.jsxs("span",{className:"text-gray-500 text-xs text-accent",children:["By ",p.analystName||p.author||"Admin"]})]}),badges:[{text:p.pair,color:"bg-surface border border-gray-700 text-white"},{text:p.direction,color:v}],footer:y.jsxs(hn,{variant:"ghost",size:"sm",className:"w-full justify-between group-hover:text-white",children:["Read Full Breakdown",y.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})},p.id)})})]})})},bL=()=>{const{id:n}=Yy(),e=Ea(),[t,r]=G.useState(null),[a,l]=G.useState(!0);if(G.useEffect(()=>{(async()=>{try{const p=un(Xe,"analysis",n),v=await xa(p);v.exists()?r({id:v.id,...v.data()}):(console.log("No such document!"),e("/analysis"))}catch(p){console.error("Error fetching analysis detail:",p)}finally{l(!1)}})()},[n,e]),a)return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const u=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString(),f=t.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return y.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx(hn,{variant:"ghost",onClick:()=>e("/analysis"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to Analysis"}),y.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[(t.image||t.chart_image_url)&&y.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[y.jsx("img",{src:t.image||t.chart_image_url,alt:t.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),y.jsxs("div",{className:"p-8 sm:p-12",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[y.jsx("span",{className:"text-gray-400 text-sm",children:u}),y.jsx("span",{className:"text-gray-600",children:""}),y.jsx("span",{className:"text-accent text-sm uppercase tracking-wider font-bold",children:t.analysisType||"Technical Analysis"})]}),y.jsxs("div",{className:"flex gap-3 mb-6",children:[y.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide bg-surface border border-gray-700 text-white",children:t.pair}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${f}`,children:t.direction})]}),y.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),y.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 mb-16",dangerouslySetInnerHTML:{__html:t.content}}),(t.analystName||t.analystBio)&&y.jsxs("div",{className:"border-t border-gray-800 pt-12 mt-12 mb-8",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-8",children:"Meet Your Analyst"}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-8 bg-black/20 p-8 rounded-2xl border border-gray-800/50",children:[y.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 shrink-0 rounded-full overflow-hidden ring-4 ring-primary/20",children:y.jsx("img",{src:t.analystImage||"https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=400&auto=format&fit=crop&q=60",alt:t.analystName||"Analyst",className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"text-center sm:text-left",children:[y.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:t.analystName||"Volcano Analyst"}),y.jsx("p",{className:"text-gray-400 leading-relaxed mb-4",children:t.analystBio||"Professional market analyst at Forex Volcano."}),y.jsxs("div",{className:"flex gap-4",children:[t.twitter&&y.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),t.linkedin&&y.jsx("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})}),t.telegram&&y.jsx("a",{href:t.telegram,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary transition-colors",children:y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})]})]})]})]})})},IT=[{id:"1",title:"NFP Smashes Expectations: 350k Jobs Added",impact:"High",affectedCurrencies:["USD","XAU","JPY"],content:"The Non-Farm Payrolls report showed a surprise surge in job creation, sending the Dollar Index (DXY) rocketing past 104.50. Traders should watch for pullbacks on Gold.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",title:"ECB Signals Rate Cuts in June",impact:"Medium",affectedCurrencies:["EUR","GBP"],content:"Lagarde hinted that inflation is under control, opening the door for a 25bps cut. Euro is showing weakness against the Pound.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"},{id:"3",title:"BoJ Maintains Ultra-Loose Policy",impact:"Low",affectedCurrencies:["JPY"],content:"No surprises from the Bank of Japan. Yield Curve Control remains in place. USD/JPY is drifting sideways in a tight range.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"}],_L={High:"bg-red-500/20 text-red-500 border border-red-500/50",Medium:"bg-orange-500/20 text-orange-500 border border-orange-500/50",Low:"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50"},EL=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),a=l=>{if(!l)return"";const u=l.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),f=document.createElement("DIV");return f.innerHTML=u,(f.textContent||f.innerText||"").trim()};return G.useEffect(()=>{(async()=>{try{const u=gl(On(Xe,"news"),yl("timestamp","desc")),m=(await Cs(u)).docs.map(p=>({id:p.id,...p.data()}));m.length>0?e(m):e(IT)}catch(u){console.error("Error fetching news:",u),e(IT)}finally{r(!1)}})()},[]),y.jsx("div",{className:"bg-background min-h-screen py-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",y.jsx("span",{className:"text-accent",children:"News"})]}),y.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Stay ahead of the volatility with real-time economic updates."})]}),t?y.jsx("div",{className:"text-center text-white py-20",children:"Loading Earth-shaking Events..."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(l=>y.jsx(vn,{to:`/news/${l.id}`,className:"block group",children:y.jsx(SS,{title:l.title,image:l.image,content:a(l.content),subtitle:y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"text-gray-500 text-xs",children:l.timestamp?.seconds?new Date(l.timestamp.seconds*1e3).toLocaleDateString():l.timestamp||new Date().toLocaleDateString()})}),badges:[{text:l.impact,color:_L[l.impact]||"bg-gray-800 text-white"},...(l.affectedCurrencies||[]).map(u=>({text:u,color:"bg-surface border border-gray-700 text-white"}))]})},l.id))})]})})},TL=()=>{const{id:n}=Yy(),e=Ea(),[t,r]=G.useState(null),[a,l]=G.useState(!0);if(G.useEffect(()=>{(async()=>{try{const m=un(Xe,"news",n),p=await xa(m);p.exists()?r({id:p.id,...p.data()}):(console.log("No such document!"),e("/news"))}catch(m){console.error("Error fetching news detail:",m)}finally{l(!1)}})()},[n,e]),a)return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const u=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString();return y.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx(hn,{variant:"ghost",onClick:()=>e("/news"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to News"}),y.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[t.image&&y.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[y.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),y.jsxs("div",{className:"p-8 sm:p-12",children:[y.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[y.jsx("span",{className:"text-gray-400 text-sm",children:u}),y.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                                ${t.impact==="High"?"bg-red-500/20 text-red-400":t.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:[t.impact," Impact"]}),t.affectedCurrencies&&t.affectedCurrencies.map&&t.affectedCurrencies.map(f=>y.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300 border border-gray-700",children:f},f))]}),y.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),y.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:t.content}})]})]})]})})},wL=()=>{const[n,e]=G.useState(""),[t,r]=G.useState(""),[a,l]=G.useState(""),[u,f]=G.useState(!1),m=Ea(),p=async w=>{try{const N=await xa(un(Xe,"users",w));N.exists()&&N.data().role==="admin"?m("/admin"):m("/dashboard")}catch(N){console.error("Error checking role:",N),m("/dashboard")}},v=async w=>{w.preventDefault(),l(""),f(!0);try{const N=await R3(Wi,n,t);await p(N.user.uid)}catch(N){console.error(N),l("Failed to login. Please check your credentials.")}finally{f(!1)}},T=async()=>{try{const w=new bs,N=await Hx(Wi,w);await p(N.user.uid)}catch(w){console.error(w),l("Failed to sign in with Google")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Sign in to ",y.jsx("span",{className:"text-secondary",children:"Volcano"})]}),y.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",y.jsx(vn,{to:"/register",className:"font-medium text-primary hover:text-green-400",children:"start your 14-day free trial"})]})]}),y.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:y.jsxs("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:[y.jsxs("form",{className:"space-y-6",onSubmit:v,children:[a&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:a}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:w=>e(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:w=>r(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsx("div",{children:y.jsx(hn,{type:"submit",variant:"primary",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:u,children:u?"Signing in...":"Sign in"})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:y.jsx("div",{children:y.jsxs("button",{type:"button",onClick:T,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Sign in with Google"}),y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})})]})},xL=()=>{const[n,e]=G.useState(""),[t,r]=G.useState(""),[a,l]=G.useState(""),[u,f]=G.useState(""),[m,p]=G.useState(!1),v=Ea(),T=async N=>{N.preventDefault(),f(""),p(!0);try{const D=(await C3(Wi,t,a)).user;await O3(D,{displayName:n}),await Ny(un(Xe,"users",D.uid),{uid:D.uid,username:n,email:t,role:"user",createdAt:new Date().toISOString(),avatar_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=random`}),v("/dashboard")}catch(O){console.error(O),O.code==="auth/email-already-in-use"?f("Email already in use."):f("Failed to create account. Please try again.")}finally{p(!1)}},w=async()=>{try{const N=new bs,D=(await Hx(Wi,N)).user;await Ny(un(Xe,"users",D.uid),{uid:D.uid,username:D.displayName,email:D.email,role:"user",createdAt:new Date().toISOString(),avatar_url:D.photoURL},{merge:!0}),v("/dashboard")}catch(N){console.error(N),f("Failed to sign up with Google")}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Join the ",y.jsx("span",{className:"text-secondary",children:"Eruption"})]}),y.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Already have an account?"," ",y.jsx(vn,{to:"/login",className:"font-medium text-primary hover:text-green-400",children:"Sign in"})]})]}),y.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsx("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:y.jsxs("form",{className:"space-y-6",onSubmit:T,children:[u&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:u}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:n,onChange:N=>e(N.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:N=>r(N.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:a,onChange:N=>l(N.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),y.jsx("div",{children:y.jsx(hn,{type:"submit",variant:"primary",className:"w-full justify-center",disabled:m,children:m?"Creating Account...":"Sign up"})})]})}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:y.jsx("div",{children:y.jsxs("button",{type:"button",onClick:w,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Sign up with Google"}),y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})]})},AL=[{id:"c1",title:"Forex Foundations: The Bedrock",progress:100,totalLessons:12,completedLessons:12,image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"c2",title:"Price Action Mastery",progress:45,totalLessons:20,completedLessons:9,image:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?q=80&w=1000&auto=format&fit=crop"},{id:"c3",title:"Institutional Order Flow",progress:0,totalLessons:15,completedLessons:0,image:"https://images.unsplash.com/photo-1642543492481-44e81e3914a7?q=80&w=1000&auto=format&fit=crop"}],SL=()=>{const[n,e]=G.useState(null),[t,r]=G.useState(!0);G.useEffect(()=>{(async()=>{if(Wi.currentUser)try{const u=un(Xe,"users",Wi.currentUser.uid),f=await xa(u);f.exists()&&e(f.data())}catch(u){console.error("Error fetching user data:",u)}finally{r(!1)}})()},[]);const a=n?.username||Wi.currentUser?.displayName||"Trader";return y.jsxs("div",{className:"min-h-screen bg-background text-white",children:[y.jsx("div",{className:"bg-surface border-b border-gray-800",children:y.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:y.jsx("img",{src:n?.avatar_url||`https://ui-avatars.com/api/?name=${a}`,alt:"Profile",className:"h-full w-full rounded-full bg-background object-cover"})}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",y.jsx("span",{className:"text-primary",children:a})]}),y.jsx("p",{className:"mt-1 text-gray-400",children:"Ready to dominate the markets today?"})]})]})})}),y.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-12",children:[y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Total Progress"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-white",children:"48%"})]})}),y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Courses Completed"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-primary",children:"1"})]})}),y.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Quiz Score Avg"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-secondary",children:"92%"})]})})]}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Courses"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:AL.map(l=>y.jsxs("div",{className:"bg-surface rounded-xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-colors group",children:[y.jsxs("div",{className:"h-48 overflow-hidden relative",children:[y.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),y.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(hn,{variant:"primary",size:"sm",children:"Continue Learning"})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:l.title}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[y.jsx("span",{children:"Progress"}),y.jsxs("span",{children:[l.progress,"%"]})]}),y.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:y.jsx("div",{className:`h-2 rounded-full ${l.progress===100?"bg-primary":"bg-secondary"}`,style:{width:`${l.progress}%`}})})]}),y.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:[y.jsxs("span",{children:[l.completedLessons,"/",l.totalLessons," Lessons"]}),l.progress===100&&y.jsxs("span",{className:"text-primary flex items-center gap-1",children:[y.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]})]})]})]},l.id))})]})]})},NL=()=>{const[n,e]=G.useState(!1),[t,r]=G.useState(!0),a=Ea();return G.useEffect(()=>{const l=h0(Wi,async u=>{if(u)try{const f=await xa(un(Xe,"users",u.uid));f.exists()&&f.data().role==="admin"?e(!0):a("/dashboard")}catch(f){console.error("Admin check failed",f),a("/dashboard")}else a("/login");r(!1)});return()=>l()},[a]),t?y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),y.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):n?y.jsxs("div",{className:"min-h-screen bg-background flex",children:[y.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[y.jsx("div",{className:"p-6 border-b border-gray-800",children:y.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",y.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),y.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[y.jsx(Au,{to:"/admin",end:!0,children:"Dashboard"}),y.jsx(Au,{to:"/admin/news",children:"Manage News"}),y.jsx(Au,{to:"/admin/analysis",children:"Manage Analysis"}),y.jsx(Au,{to:"/admin/courses",children:"Manage Courses"}),y.jsx(Au,{to:"/admin/profile",children:"Analyst Profile"})]}),y.jsxs("div",{className:"p-4 border-t border-gray-800",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),y.jsxs("div",{className:"text-sm",children:[y.jsx("div",{className:"text-white font-medium",children:"Administrator"}),y.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),y.jsx(hn,{variant:"outline",size:"sm",className:"w-full",onClick:()=>a("/"),children:"Exit to Site"})]})]}),y.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[y.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),y.jsx(hn,{size:"sm",onClick:()=>a("/"),children:"Exit"})]}),y.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:y.jsx(hR,{})})]}):null},Au=({to:n,children:e,end:t=!1})=>y.jsx(Yw,{to:n,end:t,className:({isActive:r})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:e}),CL=()=>{const[n,e]=G.useState({users:0,courses:0,analysis:0,news:0}),[t,r]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{const l=await Gf(On(Xe,"users")),u=await Gf(On(Xe,"courses")),f=await Gf(On(Xe,"analysis")),m=await Gf(On(Xe,"news"));e({users:l.data().count,courses:u.data().count,analysis:f.data().count,news:m.data().count})}catch(l){console.error("Error fetching stats:",l)}finally{r(!1)}})()},[]),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"System Overview"}),y.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[y.jsx($f,{title:"Total Users",value:t?"...":n.users,change:"Registered",color:"primary"}),y.jsx($f,{title:"Active Courses",value:t?"...":n.courses,change:"Live",color:"white"}),y.jsx($f,{title:"Analysis Posts",value:t?"...":n.analysis,change:"Market Updates",color:"secondary"}),y.jsx($f,{title:"News Alerts",value:t?"...":n.news,change:"Published",color:"accent"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(jg,{label:"Post New Analysis",to:"/admin/analysis"}),y.jsx(jg,{label:"Broadcast News Alert",to:"/admin/news"}),y.jsx(jg,{label:"Review New User Signups",to:"#"})]})]}),y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"System Status"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(Pg,{label:"Database Connection",status:"Healthy"}),y.jsx(Pg,{label:"Auth Service",status:"Healthy"}),y.jsx(Pg,{label:"API Latency",status:"24ms"})]})]})]})]})},$f=({title:n,value:e,change:t,color:r})=>{const a={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white"};return y.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-gray-800",children:[y.jsx("p",{className:"text-sm font-medium text-gray-400",children:n}),y.jsxs("div",{className:"mt-2 flex items-baseline",children:[y.jsx("p",{className:`text-3xl font-semibold ${a[r]||"text-white"}`,children:e}),y.jsx("p",{className:"ml-2 text-sm text-gray-500",children:t})]})]})},jg=({label:n,to:e})=>y.jsxs(vn,{to:e,className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:[y.jsx("span",{className:"text-gray-300",children:n}),y.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),Pg=({label:n,status:e})=>y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-gray-400",children:n}),y.jsxs("span",{className:"flex items-center text-primary text-sm font-medium",children:[y.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mr-2"}),e]})]});var NS=typeof global=="object"&&global&&global.Object===Object&&global,RL=typeof self=="object"&&self&&self.Object===Object&&self,Is=NS||RL||Function("return this")(),Ao=Is.Symbol,CS=Object.prototype,IL=CS.hasOwnProperty,OL=CS.toString,Su=Ao?Ao.toStringTag:void 0;function DL(n){var e=IL.call(n,Su),t=n[Su];try{n[Su]=void 0;var r=!0}catch{}var a=OL.call(n);return r&&(e?n[Su]=t:delete n[Su]),a}var LL=Object.prototype,kL=LL.toString;function ML(n){return kL.call(n)}var jL="[object Null]",PL="[object Undefined]",OT=Ao?Ao.toStringTag:void 0;function Vc(n){return n==null?n===void 0?PL:jL:OT&&OT in Object(n)?DL(n):ML(n)}function ba(n){return n!=null&&typeof n=="object"}var ll=Array.isArray;function Do(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function RS(n){return n}var VL="[object AsyncFunction]",UL="[object Function]",qL="[object GeneratorFunction]",BL="[object Proxy]";function W0(n){if(!Do(n))return!1;var e=Vc(n);return e==UL||e==qL||e==VL||e==BL}var Vg=Is["__core-js_shared__"],DT=(function(){var n=/[^.]+$/.exec(Vg&&Vg.keys&&Vg.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function zL(n){return!!DT&&DT in n}var HL=Function.prototype,FL=HL.toString;function vl(n){if(n!=null){try{return FL.call(n)}catch{}try{return n+""}catch{}}return""}var GL=/[\\^$.*+?()[\]{}|]/g,$L=/^\[object .+?Constructor\]$/,KL=Function.prototype,QL=Object.prototype,YL=KL.toString,XL=QL.hasOwnProperty,WL=RegExp("^"+YL.call(XL).replace(GL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZL(n){if(!Do(n)||zL(n))return!1;var e=W0(n)?WL:$L;return e.test(vl(n))}function JL(n,e){return n?.[e]}function bl(n,e){var t=JL(n,e);return ZL(t)?t:void 0}var Cy=bl(Is,"WeakMap"),LT=Object.create,ek=(function(){function n(){}return function(e){if(!Do(e))return{};if(LT)return LT(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function tk(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function nk(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var rk=800,ik=16,sk=Date.now;function ak(n){var e=0,t=0;return function(){var r=sk(),a=ik-(r-t);if(t=r,a>0){if(++e>=rk)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function ok(n){return function(){return n}}var Md=(function(){try{var n=bl(Object,"defineProperty");return n({},"",{}),n}catch{}})(),lk=Md?function(n,e){return Md(n,"toString",{configurable:!0,enumerable:!1,value:ok(e),writable:!0})}:RS,ck=ak(lk);function uk(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var hk=9007199254740991,fk=/^(?:0|[1-9]\d*)$/;function IS(n,e){var t=typeof n;return e=e??hk,!!e&&(t=="number"||t!="symbol"&&fk.test(n))&&n>-1&&n%1==0&&n<e}function Z0(n,e,t){e=="__proto__"&&Md?Md(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Th(n,e){return n===e||n!==n&&e!==e}var dk=Object.prototype,mk=dk.hasOwnProperty;function OS(n,e,t){var r=n[e];(!(mk.call(n,e)&&Th(r,t))||t===void 0&&!(e in n))&&Z0(n,e,t)}function pk(n,e,t,r){var a=!t;t||(t={});for(var l=-1,u=e.length;++l<u;){var f=e[l],m=void 0;m===void 0&&(m=n[f]),a?Z0(t,f,m):OS(t,f,m)}return t}var kT=Math.max;function gk(n,e,t){return e=kT(e===void 0?n.length-1:e,0),function(){for(var r=arguments,a=-1,l=kT(r.length-e,0),u=Array(l);++a<l;)u[a]=r[e+a];a=-1;for(var f=Array(e+1);++a<e;)f[a]=r[a];return f[e]=t(u),tk(n,this,f)}}function yk(n,e){return ck(gk(n,e,RS),n+"")}var vk=9007199254740991;function DS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=vk}function pm(n){return n!=null&&DS(n.length)&&!W0(n)}function bk(n,e,t){if(!Do(t))return!1;var r=typeof e;return(r=="number"?pm(t)&&IS(e,t.length):r=="string"&&e in t)?Th(t[e],n):!1}function _k(n){return yk(function(e,t){var r=-1,a=t.length,l=a>1?t[a-1]:void 0,u=a>2?t[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,u&&bk(t[0],t[1],u)&&(l=a<3?void 0:l,a=1),e=Object(e);++r<a;){var f=t[r];f&&n(e,f,r,l)}return e})}var Ek=Object.prototype;function J0(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Ek;return n===t}function Tk(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var wk="[object Arguments]";function MT(n){return ba(n)&&Vc(n)==wk}var LS=Object.prototype,xk=LS.hasOwnProperty,Ak=LS.propertyIsEnumerable,Ry=MT((function(){return arguments})())?MT:function(n){return ba(n)&&xk.call(n,"callee")&&!Ak.call(n,"callee")};function Sk(){return!1}var kS=typeof ti=="object"&&ti&&!ti.nodeType&&ti,jT=kS&&typeof ni=="object"&&ni&&!ni.nodeType&&ni,Nk=jT&&jT.exports===kS,PT=Nk?Is.Buffer:void 0,Ck=PT?PT.isBuffer:void 0,nh=Ck||Sk,Rk="[object Arguments]",Ik="[object Array]",Ok="[object Boolean]",Dk="[object Date]",Lk="[object Error]",kk="[object Function]",Mk="[object Map]",jk="[object Number]",Pk="[object Object]",Vk="[object RegExp]",Uk="[object Set]",qk="[object String]",Bk="[object WeakMap]",zk="[object ArrayBuffer]",Hk="[object DataView]",Fk="[object Float32Array]",Gk="[object Float64Array]",$k="[object Int8Array]",Kk="[object Int16Array]",Qk="[object Int32Array]",Yk="[object Uint8Array]",Xk="[object Uint8ClampedArray]",Wk="[object Uint16Array]",Zk="[object Uint32Array]",jt={};jt[Fk]=jt[Gk]=jt[$k]=jt[Kk]=jt[Qk]=jt[Yk]=jt[Xk]=jt[Wk]=jt[Zk]=!0;jt[Rk]=jt[Ik]=jt[zk]=jt[Ok]=jt[Hk]=jt[Dk]=jt[Lk]=jt[kk]=jt[Mk]=jt[jk]=jt[Pk]=jt[Vk]=jt[Uk]=jt[qk]=jt[Bk]=!1;function Jk(n){return ba(n)&&DS(n.length)&&!!jt[Vc(n)]}function ev(n){return function(e){return n(e)}}var MS=typeof ti=="object"&&ti&&!ti.nodeType&&ti,Hu=MS&&typeof ni=="object"&&ni&&!ni.nodeType&&ni,eM=Hu&&Hu.exports===MS,Ug=eM&&NS.process,Sc=(function(){try{var n=Hu&&Hu.require&&Hu.require("util").types;return n||Ug&&Ug.binding&&Ug.binding("util")}catch{}})(),VT=Sc&&Sc.isTypedArray,tv=VT?ev(VT):Jk,tM=Object.prototype,nM=tM.hasOwnProperty;function jS(n,e){var t=ll(n),r=!t&&Ry(n),a=!t&&!r&&nh(n),l=!t&&!r&&!a&&tv(n),u=t||r||a||l,f=u?Tk(n.length,String):[],m=f.length;for(var p in n)(e||nM.call(n,p))&&!(u&&(p=="length"||a&&(p=="offset"||p=="parent")||l&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||IS(p,m)))&&f.push(p);return f}function PS(n,e){return function(t){return n(e(t))}}var rM=PS(Object.keys,Object),iM=Object.prototype,sM=iM.hasOwnProperty;function aM(n){if(!J0(n))return rM(n);var e=[];for(var t in Object(n))sM.call(n,t)&&t!="constructor"&&e.push(t);return e}function oM(n){return pm(n)?jS(n):aM(n)}function lM(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var cM=Object.prototype,uM=cM.hasOwnProperty;function hM(n){if(!Do(n))return lM(n);var e=J0(n),t=[];for(var r in n)r=="constructor"&&(e||!uM.call(n,r))||t.push(r);return t}function VS(n){return pm(n)?jS(n,!0):hM(n)}var rh=bl(Object,"create");function fM(){this.__data__=rh?rh(null):{},this.size=0}function dM(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var mM="__lodash_hash_undefined__",pM=Object.prototype,gM=pM.hasOwnProperty;function yM(n){var e=this.__data__;if(rh){var t=e[n];return t===mM?void 0:t}return gM.call(e,n)?e[n]:void 0}var vM=Object.prototype,bM=vM.hasOwnProperty;function _M(n){var e=this.__data__;return rh?e[n]!==void 0:bM.call(e,n)}var EM="__lodash_hash_undefined__";function TM(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=rh&&e===void 0?EM:e,this}function cl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}cl.prototype.clear=fM;cl.prototype.delete=dM;cl.prototype.get=yM;cl.prototype.has=_M;cl.prototype.set=TM;function wM(){this.__data__=[],this.size=0}function gm(n,e){for(var t=n.length;t--;)if(Th(n[t][0],e))return t;return-1}var xM=Array.prototype,AM=xM.splice;function SM(n){var e=this.__data__,t=gm(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():AM.call(e,t,1),--this.size,!0}function NM(n){var e=this.__data__,t=gm(e,n);return t<0?void 0:e[t][1]}function CM(n){return gm(this.__data__,n)>-1}function RM(n,e){var t=this.__data__,r=gm(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Aa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Aa.prototype.clear=wM;Aa.prototype.delete=SM;Aa.prototype.get=NM;Aa.prototype.has=CM;Aa.prototype.set=RM;var ih=bl(Is,"Map");function IM(){this.size=0,this.__data__={hash:new cl,map:new(ih||Aa),string:new cl}}function OM(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function ym(n,e){var t=n.__data__;return OM(e)?t[typeof e=="string"?"string":"hash"]:t.map}function DM(n){var e=ym(this,n).delete(n);return this.size-=e?1:0,e}function LM(n){return ym(this,n).get(n)}function kM(n){return ym(this,n).has(n)}function MM(n,e){var t=ym(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function _l(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_l.prototype.clear=IM;_l.prototype.delete=DM;_l.prototype.get=LM;_l.prototype.has=kM;_l.prototype.set=MM;function jM(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}var US=PS(Object.getPrototypeOf,Object),PM="[object Object]",VM=Function.prototype,UM=Object.prototype,qS=VM.toString,qM=UM.hasOwnProperty,BM=qS.call(Object);function zM(n){if(!ba(n)||Vc(n)!=PM)return!1;var e=US(n);if(e===null)return!0;var t=qM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&qS.call(t)==BM}function HM(){this.__data__=new Aa,this.size=0}function FM(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function GM(n){return this.__data__.get(n)}function $M(n){return this.__data__.has(n)}var KM=200;function QM(n,e){var t=this.__data__;if(t instanceof Aa){var r=t.__data__;if(!ih||r.length<KM-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new _l(r)}return t.set(n,e),this.size=t.size,this}function Ss(n){var e=this.__data__=new Aa(n);this.size=e.size}Ss.prototype.clear=HM;Ss.prototype.delete=FM;Ss.prototype.get=GM;Ss.prototype.has=$M;Ss.prototype.set=QM;var BS=typeof ti=="object"&&ti&&!ti.nodeType&&ti,UT=BS&&typeof ni=="object"&&ni&&!ni.nodeType&&ni,YM=UT&&UT.exports===BS,qT=YM?Is.Buffer:void 0,BT=qT?qT.allocUnsafe:void 0;function zS(n,e){if(e)return n.slice();var t=n.length,r=BT?BT(t):new n.constructor(t);return n.copy(r),r}function XM(n,e){for(var t=-1,r=n==null?0:n.length,a=0,l=[];++t<r;){var u=n[t];e(u,t,n)&&(l[a++]=u)}return l}function WM(){return[]}var ZM=Object.prototype,JM=ZM.propertyIsEnumerable,zT=Object.getOwnPropertySymbols,ej=zT?function(n){return n==null?[]:(n=Object(n),XM(zT(n),function(e){return JM.call(n,e)}))}:WM;function tj(n,e,t){var r=e(n);return ll(n)?r:jM(r,t(n))}function Iy(n){return tj(n,oM,ej)}var Oy=bl(Is,"DataView"),Dy=bl(Is,"Promise"),Ly=bl(Is,"Set"),HT="[object Map]",nj="[object Object]",FT="[object Promise]",GT="[object Set]",$T="[object WeakMap]",KT="[object DataView]",rj=vl(Oy),ij=vl(ih),sj=vl(Dy),aj=vl(Ly),oj=vl(Cy),$i=Vc;(Oy&&$i(new Oy(new ArrayBuffer(1)))!=KT||ih&&$i(new ih)!=HT||Dy&&$i(Dy.resolve())!=FT||Ly&&$i(new Ly)!=GT||Cy&&$i(new Cy)!=$T)&&($i=function(n){var e=Vc(n),t=e==nj?n.constructor:void 0,r=t?vl(t):"";if(r)switch(r){case rj:return KT;case ij:return HT;case sj:return FT;case aj:return GT;case oj:return $T}return e});var lj=Object.prototype,cj=lj.hasOwnProperty;function uj(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&cj.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var jd=Is.Uint8Array;function nv(n){var e=new n.constructor(n.byteLength);return new jd(e).set(new jd(n)),e}function hj(n,e){var t=nv(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var fj=/\w*$/;function dj(n){var e=new n.constructor(n.source,fj.exec(n));return e.lastIndex=n.lastIndex,e}var QT=Ao?Ao.prototype:void 0,YT=QT?QT.valueOf:void 0;function mj(n){return YT?Object(YT.call(n)):{}}function HS(n,e){var t=e?nv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var pj="[object Boolean]",gj="[object Date]",yj="[object Map]",vj="[object Number]",bj="[object RegExp]",_j="[object Set]",Ej="[object String]",Tj="[object Symbol]",wj="[object ArrayBuffer]",xj="[object DataView]",Aj="[object Float32Array]",Sj="[object Float64Array]",Nj="[object Int8Array]",Cj="[object Int16Array]",Rj="[object Int32Array]",Ij="[object Uint8Array]",Oj="[object Uint8ClampedArray]",Dj="[object Uint16Array]",Lj="[object Uint32Array]";function kj(n,e,t){var r=n.constructor;switch(e){case wj:return nv(n);case pj:case gj:return new r(+n);case xj:return hj(n);case Aj:case Sj:case Nj:case Cj:case Rj:case Ij:case Oj:case Dj:case Lj:return HS(n,t);case yj:return new r;case vj:case Ej:return new r(n);case bj:return dj(n);case _j:return new r;case Tj:return mj(n)}}function FS(n){return typeof n.constructor=="function"&&!J0(n)?ek(US(n)):{}}var Mj="[object Map]";function jj(n){return ba(n)&&$i(n)==Mj}var XT=Sc&&Sc.isMap,Pj=XT?ev(XT):jj,Vj="[object Set]";function Uj(n){return ba(n)&&$i(n)==Vj}var WT=Sc&&Sc.isSet,qj=WT?ev(WT):Uj,Bj=1,GS="[object Arguments]",zj="[object Array]",Hj="[object Boolean]",Fj="[object Date]",Gj="[object Error]",$S="[object Function]",$j="[object GeneratorFunction]",Kj="[object Map]",Qj="[object Number]",KS="[object Object]",Yj="[object RegExp]",Xj="[object Set]",Wj="[object String]",Zj="[object Symbol]",Jj="[object WeakMap]",e9="[object ArrayBuffer]",t9="[object DataView]",n9="[object Float32Array]",r9="[object Float64Array]",i9="[object Int8Array]",s9="[object Int16Array]",a9="[object Int32Array]",o9="[object Uint8Array]",l9="[object Uint8ClampedArray]",c9="[object Uint16Array]",u9="[object Uint32Array]",Rt={};Rt[GS]=Rt[zj]=Rt[e9]=Rt[t9]=Rt[Hj]=Rt[Fj]=Rt[n9]=Rt[r9]=Rt[i9]=Rt[s9]=Rt[a9]=Rt[Kj]=Rt[Qj]=Rt[KS]=Rt[Yj]=Rt[Xj]=Rt[Wj]=Rt[Zj]=Rt[o9]=Rt[l9]=Rt[c9]=Rt[u9]=!0;Rt[Gj]=Rt[$S]=Rt[Jj]=!1;function pd(n,e,t,r,a,l){var u,f=e&Bj;if(u!==void 0)return u;if(!Do(n))return n;var m=ll(n);if(m)u=uj(n);else{var p=$i(n),v=p==$S||p==$j;if(nh(n))return zS(n,f);if(p==KS||p==GS||v&&!a)u=v?{}:FS(n);else{if(!Rt[p])return a?n:{};u=kj(n,p,f)}}l||(l=new Ss);var T=l.get(n);if(T)return T;l.set(n,u),qj(n)?n.forEach(function(O){u.add(pd(O,e,t,O,n,l))}):Pj(n)&&n.forEach(function(O,D){u.set(D,pd(O,e,t,D,n,l))});var w=Iy,N=m?void 0:w(n);return uk(N||n,function(O,D){N&&(D=O,O=n[D]),OS(u,D,pd(O,e,t,D,n,l))}),u}var h9=1,f9=4;function mc(n){return pd(n,h9|f9)}var d9="__lodash_hash_undefined__";function m9(n){return this.__data__.set(n,d9),this}function p9(n){return this.__data__.has(n)}function Pd(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new _l;++e<t;)this.add(n[e])}Pd.prototype.add=Pd.prototype.push=m9;Pd.prototype.has=p9;function g9(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function y9(n,e){return n.has(e)}var v9=1,b9=2;function QS(n,e,t,r,a,l){var u=t&v9,f=n.length,m=e.length;if(f!=m&&!(u&&m>f))return!1;var p=l.get(n),v=l.get(e);if(p&&v)return p==e&&v==n;var T=-1,w=!0,N=t&b9?new Pd:void 0;for(l.set(n,e),l.set(e,n);++T<f;){var O=n[T],D=e[T];if(r)var I=u?r(D,O,T,e,n,l):r(O,D,T,n,e,l);if(I!==void 0){if(I)continue;w=!1;break}if(N){if(!g9(e,function(q,$){if(!y9(N,$)&&(O===q||a(O,q,t,r,l)))return N.push($)})){w=!1;break}}else if(!(O===D||a(O,D,t,r,l))){w=!1;break}}return l.delete(n),l.delete(e),w}function _9(n){var e=-1,t=Array(n.size);return n.forEach(function(r,a){t[++e]=[a,r]}),t}function E9(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var T9=1,w9=2,x9="[object Boolean]",A9="[object Date]",S9="[object Error]",N9="[object Map]",C9="[object Number]",R9="[object RegExp]",I9="[object Set]",O9="[object String]",D9="[object Symbol]",L9="[object ArrayBuffer]",k9="[object DataView]",ZT=Ao?Ao.prototype:void 0,qg=ZT?ZT.valueOf:void 0;function M9(n,e,t,r,a,l,u){switch(t){case k9:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case L9:return!(n.byteLength!=e.byteLength||!l(new jd(n),new jd(e)));case x9:case A9:case C9:return Th(+n,+e);case S9:return n.name==e.name&&n.message==e.message;case R9:case O9:return n==e+"";case N9:var f=_9;case I9:var m=r&T9;if(f||(f=E9),n.size!=e.size&&!m)return!1;var p=u.get(n);if(p)return p==e;r|=w9,u.set(n,e);var v=QS(f(n),f(e),r,a,l,u);return u.delete(n),v;case D9:if(qg)return qg.call(n)==qg.call(e)}return!1}var j9=1,P9=Object.prototype,V9=P9.hasOwnProperty;function U9(n,e,t,r,a,l){var u=t&j9,f=Iy(n),m=f.length,p=Iy(e),v=p.length;if(m!=v&&!u)return!1;for(var T=m;T--;){var w=f[T];if(!(u?w in e:V9.call(e,w)))return!1}var N=l.get(n),O=l.get(e);if(N&&O)return N==e&&O==n;var D=!0;l.set(n,e),l.set(e,n);for(var I=u;++T<m;){w=f[T];var q=n[w],$=e[w];if(r)var ne=u?r($,q,w,e,n,l):r(q,$,w,n,e,l);if(!(ne===void 0?q===$||a(q,$,t,r,l):ne)){D=!1;break}I||(I=w=="constructor")}if(D&&!I){var be=n.constructor,ve=e.constructor;be!=ve&&"constructor"in n&&"constructor"in e&&!(typeof be=="function"&&be instanceof be&&typeof ve=="function"&&ve instanceof ve)&&(D=!1)}return l.delete(n),l.delete(e),D}var q9=1,JT="[object Arguments]",ew="[object Array]",Kf="[object Object]",B9=Object.prototype,tw=B9.hasOwnProperty;function z9(n,e,t,r,a,l){var u=ll(n),f=ll(e),m=u?ew:$i(n),p=f?ew:$i(e);m=m==JT?Kf:m,p=p==JT?Kf:p;var v=m==Kf,T=p==Kf,w=m==p;if(w&&nh(n)){if(!nh(e))return!1;u=!0,v=!1}if(w&&!v)return l||(l=new Ss),u||tv(n)?QS(n,e,t,r,a,l):M9(n,e,m,t,r,a,l);if(!(t&q9)){var N=v&&tw.call(n,"__wrapped__"),O=T&&tw.call(e,"__wrapped__");if(N||O){var D=N?n.value():n,I=O?e.value():e;return l||(l=new Ss),a(D,I,t,r,l)}}return w?(l||(l=new Ss),U9(n,e,t,r,a,l)):!1}function YS(n,e,t,r,a){return n===e?!0:n==null||e==null||!ba(n)&&!ba(e)?n!==n&&e!==e:z9(n,e,t,r,YS,a)}function H9(n){return function(e,t,r){for(var a=-1,l=Object(e),u=r(e),f=u.length;f--;){var m=u[++a];if(t(l[m],m,l)===!1)break}return e}}var F9=H9();function ky(n,e,t){(t!==void 0&&!Th(n[e],t)||t===void 0&&!(e in n))&&Z0(n,e,t)}function G9(n){return ba(n)&&pm(n)}function My(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function $9(n){return pk(n,VS(n))}function K9(n,e,t,r,a,l,u){var f=My(n,t),m=My(e,t),p=u.get(m);if(p){ky(n,t,p);return}var v=l?l(f,m,t+"",n,e,u):void 0,T=v===void 0;if(T){var w=ll(m),N=!w&&nh(m),O=!w&&!N&&tv(m);v=m,w||N||O?ll(f)?v=f:G9(f)?v=nk(f):N?(T=!1,v=zS(m,!0)):O?(T=!1,v=HS(m,!0)):v=[]:zM(m)||Ry(m)?(v=f,Ry(f)?v=$9(f):(!Do(f)||W0(f))&&(v=FS(m))):T=!1}T&&(u.set(m,v),a(v,m,r,l,u),u.delete(m)),ky(n,t,v)}function XS(n,e,t,r,a){n!==e&&F9(e,function(l,u){if(a||(a=new Ss),Do(l))K9(n,e,u,t,XS,r,a);else{var f=r?r(My(n,u),l,u+"",n,e,a):void 0;f===void 0&&(f=l),ky(n,u,f)}},VS)}function oo(n,e){return YS(n,e)}var yo=_k(function(n,e,t){XS(n,e,t)}),Oe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Oe||{});class Rs{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const a=Oe.TYPE&Oe.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Oe.LEVEL|a:Oe.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class pc extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const WS=class jy{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const a=this.query(t);if(a==null)throw new pc(`Unable to create ${t} blot`);const l=a,u=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:l.create(r),f=new l(e,u,r);return jy.blots.set(f.domNode,f),f}find(e,t=!1){return jy.find(e,t)}query(e,t=Oe.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Oe.LEVEL&Oe.BLOCK?r=this.types.block:e&Oe.LEVEL&Oe.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(r=this.classes[a],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Oe.LEVEL&r.scope&&t&Oe.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,a="attrName"in t;if(!r&&!a)throw new pc("Invalid definition");if(r&&t.blotName==="abstract")throw new pc("Cannot register abstract class");const l=r?t.blotName:a?t.attrName:void 0;return this.types[l]=t,a?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(u=>u.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(u=>{(this.tags[u]==null||t.className==null)&&(this.tags[u]=t)}))),t})}};WS.blots=new WeakMap;let Nc=WS;function nw(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class Q9 extends Rs{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){nw(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(nw(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ts=Q9;function Bg(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class Y9 extends Rs{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Bg(this.keyName)]=t,!0):!1}remove(e){e.style[Bg(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Bg(this.keyName)];return this.canAdd(e,t)?t:""}}const Lo=Y9;class X9{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Nc.find(this.domNode);if(e==null)return;const t=Rs.keys(this.domNode),r=ts.keys(this.domNode),a=Lo.keys(this.domNode);t.concat(r).concat(a).forEach(l=>{const u=e.scroll.query(l,Oe.ATTRIBUTE);u instanceof Rs&&(this.attributes[u.attrName]=u)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const vm=X9,ZS=class{constructor(e,t){this.scroll=e,this.domNode=t,Nc.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new pc("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Nc.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,a){const l=this.isolate(e,t);if(this.scroll.query(r,Oe.BLOT)!=null&&a)l.wrap(r,a);else if(this.scroll.query(r,Oe.ATTRIBUTE)!=null){const u=this.scroll.create(this.statics.scope);l.wrap(u),u.format(r,a)}}insertAt(e,t,r){const a=r==null?this.scroll.create("text",t):this.scroll.create(t,r),l=this.split(e);this.parent.insertBefore(a,l||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new pc(`Cannot wrap ${e}`);return r.appendChild(this),r}};ZS.blotName="abstract";let JS=ZS;const e2=class extends JS{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};e2.scope=Oe.INLINE_BLOT;let W9=e2;const or=W9;class Z9{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),a=0;for(;r;){if(r===e)return a;a+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let a=r();for(;a;){const l=a.length();if(e<l||t&&e===l&&(a.next==null||a.next.length()!==0))return[a,e];e-=l,a=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[a,l]=this.find(e);let u=e-l;const f=this.iterator(a);let m=f();for(;m&&u<e+t;){const p=m.length();e>u?r(m,e-u,Math.min(t,u+p-e)):r(m,0,Math.min(p,e+t-u)),u+=p,m=f()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let a=r();for(;a;)t=e(t,a),a=r();return t}}function rw(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Oe.INLINE);return Array.from(n.childNodes).forEach(a=>{r.domNode.appendChild(a)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const t2=class no extends JS{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,no.uiClass&&this.uiNode.classList.add(no.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Z9,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=rw(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof pc)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,a,l)=>{r.deleteAt(a,l)})}descendant(e,t=0){const[r,a]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,a]:r instanceof no?r.descendant(e,a):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let a=[],l=r;return this.children.forEachAt(t,r,(u,f,m)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&a.push(u),u instanceof no&&(a=a.concat(u.descendants(e,f,l))),l-=m}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Oe.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof no?t.unwrap():t.remove())})}formatAt(e,t,r,a){this.children.forEachAt(e,t,(l,u,f)=>{l.formatAt(u,f,r,a)})}insertAt(e,t,r){const[a,l]=this.children.find(e);if(a)a.insertAt(l,t,r);else{const u=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(u)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,a]=this.children.find(e,t),l=[[this,e]];return r instanceof no?l.concat(r.path(a,t)):(r!=null&&l.push([r,a]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof no&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(a,l,u)=>{const f=a.split(l,t);f!=null&&r.appendChild(f)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],a=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(r.push(...l.addedNodes),a.push(...l.removedNodes))}),a.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(l);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),r.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,u)=>l===u?0:l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let u=null;l.nextSibling!=null&&(u=this.scroll.find(l.nextSibling));const f=rw(l,this.scroll);(f.next!==u||f.next==null)&&(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,u||void 0))}),this.enforceAllowedChildren()}};t2.uiClass="";let J9=t2;const Zi=J9;function e8(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const ic=class sc extends Zi{static create(e){return super.create(e)}static formats(e,t){const r=t.query(sc.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new vm(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof sc||(r=r.wrap(sc.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Oe.INLINE);if(r==null)return;r instanceof Rs?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.formats()[r]!=null||this.scroll.query(r,Oe.ATTRIBUTE)?this.isolate(e,t).format(r,a):super.formatAt(e,t,r,a)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof sc&&r.prev===this&&e8(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof sc&&this.attributes.move(r),r}};ic.allowedChildren=[ic,or],ic.blotName="inline",ic.scope=Oe.INLINE_BLOT,ic.tagName="SPAN";let t8=ic;const rv=t8,ac=class Py extends Zi{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Py.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new vm(this.domNode)}format(e,t){const r=this.scroll.query(e,Oe.BLOCK);r!=null&&(r instanceof Rs?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(Py.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.scroll.query(r,Oe.BLOCK)!=null?this.format(r,a):super.formatAt(e,t,r,a)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Oe.INLINE)!=null)super.insertAt(e,t,r);else{const a=this.split(e);if(a!=null){const l=this.scroll.create(t,r);a.parent.insertBefore(l,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};ac.blotName="block",ac.scope=Oe.BLOCK_BLOT,ac.tagName="P",ac.allowedChildren=[rv,ac,or];let n8=ac;const sh=n8,Vy=class extends Zi{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Vy.blotName="container",Vy.scope=Oe.BLOCK_BLOT;let r8=Vy;const bm=r8;class i8 extends or{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,a){e===0&&t===this.length()?this.format(r,a):super.formatAt(e,t,r,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ii=i8,s8={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a8=100,oc=class extends Zi{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,s8),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Oe.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,a){this.update(),super.formatAt(e,t,r,a)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const l=(m,p=!0)=>{m==null||m===this||m.domNode.parentNode!=null&&(r.has(m.domNode)||r.set(m.domNode,[]),p&&l(m.parent))},u=m=>{r.has(m.domNode)&&(m instanceof Zi&&m.children.forEach(u),r.delete(m.domNode),m.optimize(t))};let f=e;for(let m=0;f.length>0;m+=1){if(m>=a8)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(p=>{const v=this.find(p.target,!0);v!=null&&(v.domNode===p.target&&(p.type==="childList"?(l(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(T=>{const w=this.find(T,!1);l(w,!1),w instanceof Zi&&w.children.forEach(N=>{l(N,!1)})})):p.type==="attributes"&&l(v.prev)),l(v))}),this.children.forEach(u),f=Array.from(this.observer.takeRecords()),a=f.slice();a.length>0;)e.push(a.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(a=>{const l=this.find(a.target,!0);return l==null?null:r.has(l.domNode)?(r.get(l.domNode).push(a),null):(r.set(l.domNode,[a]),l)}).forEach(a=>{a!=null&&a!==this&&r.has(a.domNode)&&a.update(r.get(a.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};oc.blotName="scroll",oc.defaultChild=sh,oc.allowedChildren=[sh,bm],oc.scope=Oe.BLOCK_BLOT,oc.tagName="DIV";let o8=oc;const iv=o8,Uy=class n2 extends or{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof n2&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Uy.blotName="text",Uy.scope=Oe.INLINE_BLOT;let l8=Uy;const Vd=l8,c8=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Rs,AttributorStore:vm,BlockBlot:sh,ClassAttributor:ts,ContainerBlot:bm,EmbedBlot:ii,InlineBlot:rv,LeafBlot:or,ParentBlot:Zi,Registry:Nc,Scope:Oe,ScrollBlot:iv,StyleAttributor:Lo,TextBlot:Vd},Symbol.toStringTag,{value:"Module"}));var Qf={exports:{}},zg,iw;function u8(){if(iw)return zg;iw=1;var n=-1,e=1,t=0;function r(A,k,S,me,de){if(A===k)return A?[[t,A]]:[];if(S!=null){var z=P(A,k,S);if(z)return z}var Z=f(A,k),le=A.substring(0,Z);A=A.substring(Z),k=k.substring(Z),Z=p(A,k);var ye=A.substring(A.length-Z);A=A.substring(0,A.length-Z),k=k.substring(0,k.length-Z);var ge=a(A,k);return le&&ge.unshift([t,le]),ye&&ge.push([t,ye]),$(ge,de),me&&T(ge),ge}function a(A,k){var S;if(!A)return[[e,k]];if(!k)return[[n,A]];var me=A.length>k.length?A:k,de=A.length>k.length?k:A,z=me.indexOf(de);if(z!==-1)return S=[[e,me.substring(0,z)],[t,de],[e,me.substring(z+de.length)]],A.length>k.length&&(S[0][0]=S[2][0]=n),S;if(de.length===1)return[[n,A],[e,k]];var Z=v(A,k);if(Z){var le=Z[0],ye=Z[1],ge=Z[2],V=Z[3],Y=Z[4],ue=r(le,ge),fe=r(ye,V);return ue.concat([[t,Y]],fe)}return l(A,k)}function l(A,k){for(var S=A.length,me=k.length,de=Math.ceil((S+me)/2),z=de,Z=2*de,le=new Array(Z),ye=new Array(Z),ge=0;ge<Z;ge++)le[ge]=-1,ye[ge]=-1;le[z+1]=0,ye[z+1]=0;for(var V=S-me,Y=V%2!==0,ue=0,fe=0,pe=0,xe=0,De=0;De<de;De++){for(var Ie=-De+ue;Ie<=De-fe;Ie+=2){var Le=z+Ie,Ke;Ie===-De||Ie!==De&&le[Le-1]<le[Le+1]?Ke=le[Le+1]:Ke=le[Le-1]+1;for(var We=Ke-Ie;Ke<S&&We<me&&A.charAt(Ke)===k.charAt(We);)Ke++,We++;if(le[Le]=Ke,Ke>S)fe+=2;else if(We>me)ue+=2;else if(Y){var tt=z+V-Ie;if(tt>=0&&tt<Z&&ye[tt]!==-1){var ot=S-ye[tt];if(Ke>=ot)return u(A,k,Ke,We)}}}for(var dt=-De+pe;dt<=De-xe;dt+=2){var tt=z+dt,ot;dt===-De||dt!==De&&ye[tt-1]<ye[tt+1]?ot=ye[tt+1]:ot=ye[tt-1]+1;for(var Xt=ot-dt;ot<S&&Xt<me&&A.charAt(S-ot-1)===k.charAt(me-Xt-1);)ot++,Xt++;if(ye[tt]=ot,ot>S)xe+=2;else if(Xt>me)pe+=2;else if(!Y){var Le=z+V-dt;if(Le>=0&&Le<Z&&le[Le]!==-1){var Ke=le[Le],We=z+Ke-Le;if(ot=S-ot,Ke>=ot)return u(A,k,Ke,We)}}}}return[[n,A],[e,k]]}function u(A,k,S,me){var de=A.substring(0,S),z=k.substring(0,me),Z=A.substring(S),le=k.substring(me),ye=r(de,z),ge=r(Z,le);return ye.concat(ge)}function f(A,k){if(!A||!k||A.charAt(0)!==k.charAt(0))return 0;for(var S=0,me=Math.min(A.length,k.length),de=me,z=0;S<de;)A.substring(z,de)==k.substring(z,de)?(S=de,z=S):me=de,de=Math.floor((me-S)/2+S);return ne(A.charCodeAt(de-1))&&de--,de}function m(A,k){var S=A.length,me=k.length;if(S==0||me==0)return 0;S>me?A=A.substring(S-me):S<me&&(k=k.substring(0,S));var de=Math.min(S,me);if(A==k)return de;for(var z=0,Z=1;;){var le=A.substring(de-Z),ye=k.indexOf(le);if(ye==-1)return z;Z+=ye,(ye==0||A.substring(de-Z)==k.substring(0,Z))&&(z=Z,Z++)}}function p(A,k){if(!A||!k||A.slice(-1)!==k.slice(-1))return 0;for(var S=0,me=Math.min(A.length,k.length),de=me,z=0;S<de;)A.substring(A.length-de,A.length-z)==k.substring(k.length-de,k.length-z)?(S=de,z=S):me=de,de=Math.floor((me-S)/2+S);return be(A.charCodeAt(A.length-de))&&de--,de}function v(A,k){var S=A.length>k.length?A:k,me=A.length>k.length?k:A;if(S.length<4||me.length*2<S.length)return null;function de(fe,pe,xe){for(var De=fe.substring(xe,xe+Math.floor(fe.length/4)),Ie=-1,Le="",Ke,We,tt,ot;(Ie=pe.indexOf(De,Ie+1))!==-1;){var dt=f(fe.substring(xe),pe.substring(Ie)),Xt=p(fe.substring(0,xe),pe.substring(0,Ie));Le.length<Xt+dt&&(Le=pe.substring(Ie-Xt,Ie)+pe.substring(Ie,Ie+dt),Ke=fe.substring(0,xe-Xt),We=fe.substring(xe+dt),tt=pe.substring(0,Ie-Xt),ot=pe.substring(Ie+dt))}return Le.length*2>=fe.length?[Ke,We,tt,ot,Le]:null}var z=de(S,me,Math.ceil(S.length/4)),Z=de(S,me,Math.ceil(S.length/2)),le;if(!z&&!Z)return null;Z?z?le=z[4].length>Z[4].length?z:Z:le=Z:le=z;var ye,ge,V,Y;A.length>k.length?(ye=le[0],ge=le[1],V=le[2],Y=le[3]):(V=le[0],Y=le[1],ye=le[2],ge=le[3]);var ue=le[4];return[ye,ge,V,Y,ue]}function T(A){for(var k=!1,S=[],me=0,de=null,z=0,Z=0,le=0,ye=0,ge=0;z<A.length;)A[z][0]==t?(S[me++]=z,Z=ye,le=ge,ye=0,ge=0,de=A[z][1]):(A[z][0]==e?ye+=A[z][1].length:ge+=A[z][1].length,de&&de.length<=Math.max(Z,le)&&de.length<=Math.max(ye,ge)&&(A.splice(S[me-1],0,[n,de]),A[S[me-1]+1][0]=e,me--,me--,z=me>0?S[me-1]:-1,Z=0,le=0,ye=0,ge=0,de=null,k=!0)),z++;for(k&&$(A),q(A),z=1;z<A.length;){if(A[z-1][0]==n&&A[z][0]==e){var V=A[z-1][1],Y=A[z][1],ue=m(V,Y),fe=m(Y,V);ue>=fe?(ue>=V.length/2||ue>=Y.length/2)&&(A.splice(z,0,[t,Y.substring(0,ue)]),A[z-1][1]=V.substring(0,V.length-ue),A[z+1][1]=Y.substring(ue),z++):(fe>=V.length/2||fe>=Y.length/2)&&(A.splice(z,0,[t,V.substring(0,fe)]),A[z-1][0]=e,A[z-1][1]=Y.substring(0,Y.length-fe),A[z+1][0]=n,A[z+1][1]=V.substring(fe),z++),z++}z++}}var w=/[^a-zA-Z0-9]/,N=/\s/,O=/[\r\n]/,D=/\n\r?\n$/,I=/^\r?\n\r?\n/;function q(A){function k(fe,pe){if(!fe||!pe)return 6;var xe=fe.charAt(fe.length-1),De=pe.charAt(0),Ie=xe.match(w),Le=De.match(w),Ke=Ie&&xe.match(N),We=Le&&De.match(N),tt=Ke&&xe.match(O),ot=We&&De.match(O),dt=tt&&fe.match(D),Xt=ot&&pe.match(I);return dt||Xt?5:tt||ot?4:Ie&&!Ke&&We?3:Ke||We?2:Ie||Le?1:0}for(var S=1;S<A.length-1;){if(A[S-1][0]==t&&A[S+1][0]==t){var me=A[S-1][1],de=A[S][1],z=A[S+1][1],Z=p(me,de);if(Z){var le=de.substring(de.length-Z);me=me.substring(0,me.length-Z),de=le+de.substring(0,de.length-Z),z=le+z}for(var ye=me,ge=de,V=z,Y=k(me,de)+k(de,z);de.charAt(0)===z.charAt(0);){me+=de.charAt(0),de=de.substring(1)+z.charAt(0),z=z.substring(1);var ue=k(me,de)+k(de,z);ue>=Y&&(Y=ue,ye=me,ge=de,V=z)}A[S-1][1]!=ye&&(ye?A[S-1][1]=ye:(A.splice(S-1,1),S--),A[S][1]=ge,V?A[S+1][1]=V:(A.splice(S+1,1),S--))}S++}}function $(A,k){A.push([t,""]);for(var S=0,me=0,de=0,z="",Z="",le;S<A.length;){if(S<A.length-1&&!A[S][1]){A.splice(S,1);continue}switch(A[S][0]){case e:de++,Z+=A[S][1],S++;break;case n:me++,z+=A[S][1],S++;break;case t:var ye=S-de-me-1;if(k){if(ye>=0&&we(A[ye][1])){var ge=A[ye][1].slice(-1);if(A[ye][1]=A[ye][1].slice(0,-1),z=ge+z,Z=ge+Z,!A[ye][1]){A.splice(ye,1),S--;var V=ye-1;A[V]&&A[V][0]===e&&(de++,Z=A[V][1]+Z,V--),A[V]&&A[V][0]===n&&(me++,z=A[V][1]+z,V--),ye=V}}if(ve(A[S][1])){var ge=A[S][1].charAt(0);A[S][1]=A[S][1].slice(1),z+=ge,Z+=ge}}if(S<A.length-1&&!A[S][1]){A.splice(S,1);break}if(z.length>0||Z.length>0){z.length>0&&Z.length>0&&(le=f(Z,z),le!==0&&(ye>=0?A[ye][1]+=Z.substring(0,le):(A.splice(0,0,[t,Z.substring(0,le)]),S++),Z=Z.substring(le),z=z.substring(le)),le=p(Z,z),le!==0&&(A[S][1]=Z.substring(Z.length-le)+A[S][1],Z=Z.substring(0,Z.length-le),z=z.substring(0,z.length-le)));var Y=de+me;z.length===0&&Z.length===0?(A.splice(S-Y,Y),S=S-Y):z.length===0?(A.splice(S-Y,Y,[e,Z]),S=S-Y+1):Z.length===0?(A.splice(S-Y,Y,[n,z]),S=S-Y+1):(A.splice(S-Y,Y,[n,z],[e,Z]),S=S-Y+2)}S!==0&&A[S-1][0]===t?(A[S-1][1]+=A[S][1],A.splice(S,1)):S++,de=0,me=0,z="",Z="";break}}A[A.length-1][1]===""&&A.pop();var ue=!1;for(S=1;S<A.length-1;)A[S-1][0]===t&&A[S+1][0]===t&&(A[S][1].substring(A[S][1].length-A[S-1][1].length)===A[S-1][1]?(A[S][1]=A[S-1][1]+A[S][1].substring(0,A[S][1].length-A[S-1][1].length),A[S+1][1]=A[S-1][1]+A[S+1][1],A.splice(S-1,1),ue=!0):A[S][1].substring(0,A[S+1][1].length)==A[S+1][1]&&(A[S-1][1]+=A[S+1][1],A[S][1]=A[S][1].substring(A[S+1][1].length)+A[S+1][1],A.splice(S+1,1),ue=!0)),S++;ue&&$(A,k)}function ne(A){return A>=55296&&A<=56319}function be(A){return A>=56320&&A<=57343}function ve(A){return be(A.charCodeAt(0))}function we(A){return ne(A.charCodeAt(A.length-1))}function j(A){for(var k=[],S=0;S<A.length;S++)A[S][1].length>0&&k.push(A[S]);return k}function M(A,k,S,me){return we(A)||ve(me)?null:j([[t,A],[n,k],[e,S],[t,me]])}function P(A,k,S){var me=typeof S=="number"?{index:S,length:0}:S.oldRange,de=typeof S=="number"?null:S.newRange,z=A.length,Z=k.length;if(me.length===0&&(de===null||de.length===0)){var le=me.index,ye=A.slice(0,le),ge=A.slice(le),V=de?de.index:null;e:{var Y=le+Z-z;if(V!==null&&V!==Y||Y<0||Y>Z)break e;var ue=k.slice(0,Y),fe=k.slice(Y);if(fe!==ge)break e;var pe=Math.min(le,Y),xe=ye.slice(0,pe),De=ue.slice(0,pe);if(xe!==De)break e;var Ie=ye.slice(pe),Le=ue.slice(pe);return M(xe,Ie,Le,ge)}e:{if(V!==null&&V!==le)break e;var Ke=le,ue=k.slice(0,Ke),fe=k.slice(Ke);if(ue!==ye)break e;var We=Math.min(z-Ke,Z-Ke),tt=ge.slice(ge.length-We),ot=fe.slice(fe.length-We);if(tt!==ot)break e;var Ie=ge.slice(0,ge.length-We),Le=fe.slice(0,fe.length-We);return M(ye,Ie,Le,tt)}}if(me.length>0&&de&&de.length===0)e:{var xe=A.slice(0,me.index),tt=A.slice(me.index+me.length),pe=xe.length,We=tt.length;if(Z<pe+We)break e;var De=k.slice(0,pe),ot=k.slice(Z-We);if(xe!==De||tt!==ot)break e;var Ie=A.slice(pe,z-We),Le=k.slice(pe,Z-We);return M(xe,Ie,Le,tt)}return null}function H(A,k,S,me){return r(A,k,S,me,!0)}return H.INSERT=e,H.DELETE=n,H.EQUAL=t,zg=H,zg}var ku={exports:{}};ku.exports;var sw;function r2(){return sw||(sw=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=9007199254740991,l="[object Arguments]",u="[object Array]",f="[object Boolean]",m="[object Date]",p="[object Error]",v="[object Function]",T="[object GeneratorFunction]",w="[object Map]",N="[object Number]",O="[object Object]",D="[object Promise]",I="[object RegExp]",q="[object Set]",$="[object String]",ne="[object Symbol]",be="[object WeakMap]",ve="[object ArrayBuffer]",we="[object DataView]",j="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",H="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",me="[object Uint16Array]",de="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,le=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,ge={};ge[l]=ge[u]=ge[ve]=ge[we]=ge[f]=ge[m]=ge[j]=ge[M]=ge[P]=ge[H]=ge[A]=ge[w]=ge[N]=ge[O]=ge[I]=ge[q]=ge[$]=ge[ne]=ge[k]=ge[S]=ge[me]=ge[de]=!0,ge[p]=ge[v]=ge[be]=!1;var V=typeof lo=="object"&&lo&&lo.Object===Object&&lo,Y=typeof self=="object"&&self&&self.Object===Object&&self,ue=V||Y||Function("return this")(),fe=e&&!e.nodeType&&e,pe=fe&&!0&&n&&!n.nodeType&&n,xe=pe&&pe.exports===fe;function De(_,R){return _.set(R[0],R[1]),_}function Ie(_,R){return _.add(R),_}function Le(_,R){for(var U=-1,ee=_?_.length:0;++U<ee&&R(_[U],U,_)!==!1;);return _}function Ke(_,R){for(var U=-1,ee=R.length,je=_.length;++U<ee;)_[je+U]=R[U];return _}function We(_,R,U,ee){for(var je=-1,Ae=_?_.length:0;++je<Ae;)U=R(U,_[je],je,_);return U}function tt(_,R){for(var U=-1,ee=Array(_);++U<_;)ee[U]=R(U);return ee}function ot(_,R){return _?.[R]}function dt(_){var R=!1;if(_!=null&&typeof _.toString!="function")try{R=!!(_+"")}catch{}return R}function Xt(_){var R=-1,U=Array(_.size);return _.forEach(function(ee,je){U[++R]=[je,ee]}),U}function jr(_,R){return function(U){return _(R(U))}}function rs(_){var R=-1,U=Array(_.size);return _.forEach(function(ee){U[++R]=ee}),U}var Ds=Array.prototype,Vt=Function.prototype,St=Object.prototype,_r=ue["__core-js_shared__"],Na=(function(){var _=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})(),Ls=Vt.toString,Nt=St.hasOwnProperty,Er=St.toString,ks=RegExp("^"+Ls.call(Nt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pr=xe?ue.Buffer:void 0,cr=ue.Symbol,Ms=ue.Uint8Array,Dn=jr(Object.getPrototypeOf,Object),js=Object.create,Ps=St.propertyIsEnumerable,ur=Ds.splice,Kt=Object.getOwnPropertySymbols,En=Pr?Pr.isBuffer:void 0,Ct=jr(Object.keys,Object),Li=fn(ue,"DataView"),Tr=fn(ue,"Map"),Yn=fn(ue,"Promise"),Ln=fn(ue,"Set"),Vr=fn(ue,"WeakMap"),_t=fn(Object,"create"),Xn=nn(Li),Sn=nn(Tr),kn=nn(Yn),Vs=nn(Ln),is=nn(Vr),Tn=cr?cr.prototype:void 0,si=Tn?Tn.valueOf:void 0;function Ur(_){var R=-1,U=_?_.length:0;for(this.clear();++R<U;){var ee=_[R];this.set(ee[0],ee[1])}}function ki(){this.__data__=_t?_t(null):{}}function Us(_){return this.has(_)&&delete this.__data__[_]}function qs(_){var R=this.__data__;if(_t){var U=R[_];return U===r?void 0:U}return Nt.call(R,_)?R[_]:void 0}function ai(_){var R=this.__data__;return _t?R[_]!==void 0:Nt.call(R,_)}function hr(_,R){var U=this.__data__;return U[_]=_t&&R===void 0?r:R,this}Ur.prototype.clear=ki,Ur.prototype.delete=Us,Ur.prototype.get=qs,Ur.prototype.has=ai,Ur.prototype.set=hr;function Wt(_){var R=-1,U=_?_.length:0;for(this.clear();++R<U;){var ee=_[R];this.set(ee[0],ee[1])}}function fr(){this.__data__=[]}function dr(_){var R=this.__data__,U=jn(R,_);if(U<0)return!1;var ee=R.length-1;return U==ee?R.pop():ur.call(R,U,1),!0}function Ut(_){var R=this.__data__,U=jn(R,_);return U<0?void 0:R[U][1]}function Zt(_){return jn(this.__data__,_)>-1}function wr(_,R){var U=this.__data__,ee=jn(U,_);return ee<0?U.push([_,R]):U[ee][1]=R,this}Wt.prototype.clear=fr,Wt.prototype.delete=dr,Wt.prototype.get=Ut,Wt.prototype.has=Zt,Wt.prototype.set=wr;function Qt(_){var R=-1,U=_?_.length:0;for(this.clear();++R<U;){var ee=_[R];this.set(ee[0],ee[1])}}function ko(){this.__data__={hash:new Ur,map:new(Tr||Wt),string:new Ur}}function Ca(_){return ui(this,_).delete(_)}function Ra(_){return ui(this,_).get(_)}function xr(_){return ui(this,_).has(_)}function ss(_,R){return ui(this,_).set(_,R),this}Qt.prototype.clear=ko,Qt.prototype.delete=Ca,Qt.prototype.get=Ra,Qt.prototype.has=xr,Qt.prototype.set=ss;function Ot(_){this.__data__=new Wt(_)}function Wn(){this.__data__=new Wt}function Mn(_){return this.__data__.delete(_)}function Ar(_){return this.__data__.get(_)}function qt(_){return this.__data__.has(_)}function Bs(_,R){var U=this.__data__;if(U instanceof Wt){var ee=U.__data__;if(!Tr||ee.length<t-1)return ee.push([_,R]),this;U=this.__data__=new Qt(ee)}return U.set(_,R),this}Ot.prototype.clear=Wn,Ot.prototype.delete=Mn,Ot.prototype.get=Ar,Ot.prototype.has=qt,Ot.prototype.set=Bs;function oi(_,R){var U=zr(_)||Un(_)?tt(_.length,String):[],ee=U.length,je=!!ee;for(var Ae in _)Nt.call(_,Ae)&&!(je&&(Ae=="length"||Oa(Ae,ee)))&&U.push(Ae);return U}function mr(_,R,U){var ee=_[R];(!(Nt.call(_,R)&&Br(ee,U))||U===void 0&&!(R in _))&&(_[R]=U)}function jn(_,R){for(var U=_.length;U--;)if(Br(_[U][0],R))return U;return-1}function Zn(_,R){return _&&ls(R,Pi(R),_)}function Mi(_,R,U,ee,je,Ae,Ge){var Ye;if(ee&&(Ye=Ae?ee(_,je,Ae,Ge):ee(_)),Ye!==void 0)return Ye;if(!Qe(_))return _;var yt=zr(_);if(yt){if(Ye=Fs(_),!R)return os(_,Ye)}else{var Ze=Cr(_),xt=Ze==v||Ze==T;if(tr(_))return Dt(_,R);if(Ze==O||Ze==l||xt&&!Ae){if(dt(_))return Ae?_:{};if(Ye=Jn(xt?{}:_),!R)return Hs(_,Zn(Ye,_))}else{if(!ge[Ze])return Ae?_:{};Ye=cs(_,Ze,Mi,R)}}Ge||(Ge=new Ot);var rn=Ge.get(_);if(rn)return rn;if(Ge.set(_,Ye),!yt)var Lt=U?ci(_):Pi(_);return Le(Lt||_,function(Ht,Jt){Lt&&(Jt=Ht,Ht=_[Jt]),mr(Ye,Jt,Mi(Ht,R,U,ee,Jt,_,Ge))}),Ye}function zs(_){return Qe(_)?js(_):{}}function Ia(_,R,U){var ee=R(_);return zr(_)?ee:Ke(ee,U(_))}function as(_){return Er.call(_)}function Pn(_){if(!Qe(_)||us(_))return!1;var R=Cn(_)||dt(_)?ks:le;return R.test(nn(_))}function Bt(_){if(!er(_))return Ct(_);var R=[];for(var U in Object(_))Nt.call(_,U)&&U!="constructor"&&R.push(U);return R}function Dt(_,R){if(R)return _.slice();var U=new _.constructor(_.length);return _.copy(U),U}function Sr(_){var R=new _.constructor(_.byteLength);return new Ms(R).set(new Ms(_)),R}function qr(_,R){var U=R?Sr(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.byteLength)}function ct(_,R,U){var ee=R?U(Xt(_),!0):Xt(_);return We(ee,De,new _.constructor)}function li(_){var R=new _.constructor(_.source,Z.exec(_));return R.lastIndex=_.lastIndex,R}function Nr(_,R,U){var ee=R?U(rs(_),!0):rs(_);return We(ee,Ie,new _.constructor)}function ji(_){return si?Object(si.call(_)):{}}function Nn(_,R){var U=R?Sr(_.buffer):_.buffer;return new _.constructor(U,_.byteOffset,_.length)}function os(_,R){var U=-1,ee=_.length;for(R||(R=Array(ee));++U<ee;)R[U]=_[U];return R}function ls(_,R,U,ee){U||(U={});for(var je=-1,Ae=R.length;++je<Ae;){var Ge=R[je],Ye=void 0;mr(U,Ge,Ye===void 0?_[Ge]:Ye)}return U}function Hs(_,R){return ls(_,zt(_),R)}function ci(_){return Ia(_,Pi,zt)}function ui(_,R){var U=_.__data__;return hi(R)?U[typeof R=="string"?"string":"hash"]:U.map}function fn(_,R){var U=ot(_,R);return Pn(U)?U:void 0}var zt=Kt?jr(Kt,Object):Vi,Cr=as;(Li&&Cr(new Li(new ArrayBuffer(1)))!=we||Tr&&Cr(new Tr)!=w||Yn&&Cr(Yn.resolve())!=D||Ln&&Cr(new Ln)!=q||Vr&&Cr(new Vr)!=be)&&(Cr=function(_){var R=Er.call(_),U=R==O?_.constructor:void 0,ee=U?nn(U):void 0;if(ee)switch(ee){case Xn:return we;case Sn:return w;case kn:return D;case Vs:return q;case is:return be}return R});function Fs(_){var R=_.length,U=_.constructor(R);return R&&typeof _[0]=="string"&&Nt.call(_,"index")&&(U.index=_.index,U.input=_.input),U}function Jn(_){return typeof _.constructor=="function"&&!er(_)?zs(Dn(_)):{}}function cs(_,R,U,ee){var je=_.constructor;switch(R){case ve:return Sr(_);case f:case m:return new je(+_);case we:return qr(_,ee);case j:case M:case P:case H:case A:case k:case S:case me:case de:return Nn(_,ee);case w:return ct(_,ee,U);case N:case $:return new je(_);case I:return li(_);case q:return Nr(_,ee,U);case ne:return ji(_)}}function Oa(_,R){return R=R??a,!!R&&(typeof _=="number"||ye.test(_))&&_>-1&&_%1==0&&_<R}function hi(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function us(_){return!!Na&&Na in _}function er(_){var R=_&&_.constructor,U=typeof R=="function"&&R.prototype||St;return _===U}function nn(_){if(_!=null){try{return Ls.call(_)}catch{}try{return _+""}catch{}}return""}function Vn(_){return Mi(_,!0,!0)}function Br(_,R){return _===R||_!==_&&R!==R}function Un(_){return fi(_)&&Nt.call(_,"callee")&&(!Ps.call(_,"callee")||Er.call(_)==l)}var zr=Array.isArray;function Hr(_){return _!=null&&di(_.length)&&!Cn(_)}function fi(_){return pr(_)&&Hr(_)}var tr=En||Gs;function Cn(_){var R=Qe(_)?Er.call(_):"";return R==v||R==T}function di(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=a}function Qe(_){var R=typeof _;return!!_&&(R=="object"||R=="function")}function pr(_){return!!_&&typeof _=="object"}function Pi(_){return Hr(_)?oi(_):Bt(_)}function Vi(){return[]}function Gs(){return!1}n.exports=Vn})(ku,ku.exports)),ku.exports}var Mu={exports:{}};Mu.exports;var aw;function i2(){return aw||(aw=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=1,l=2,u=9007199254740991,f="[object Arguments]",m="[object Array]",p="[object AsyncFunction]",v="[object Boolean]",T="[object Date]",w="[object Error]",N="[object Function]",O="[object GeneratorFunction]",D="[object Map]",I="[object Number]",q="[object Null]",$="[object Object]",ne="[object Promise]",be="[object Proxy]",ve="[object RegExp]",we="[object Set]",j="[object String]",M="[object Symbol]",P="[object Undefined]",H="[object WeakMap]",A="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",me="[object Float64Array]",de="[object Int8Array]",z="[object Int16Array]",Z="[object Int32Array]",le="[object Uint8Array]",ye="[object Uint8ClampedArray]",ge="[object Uint16Array]",V="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,ue=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,pe={};pe[S]=pe[me]=pe[de]=pe[z]=pe[Z]=pe[le]=pe[ye]=pe[ge]=pe[V]=!0,pe[f]=pe[m]=pe[A]=pe[v]=pe[k]=pe[T]=pe[w]=pe[N]=pe[D]=pe[I]=pe[$]=pe[ve]=pe[we]=pe[j]=pe[H]=!1;var xe=typeof lo=="object"&&lo&&lo.Object===Object&&lo,De=typeof self=="object"&&self&&self.Object===Object&&self,Ie=xe||De||Function("return this")(),Le=e&&!e.nodeType&&e,Ke=Le&&!0&&n&&!n.nodeType&&n,We=Ke&&Ke.exports===Le,tt=We&&xe.process,ot=(function(){try{return tt&&tt.binding&&tt.binding("util")}catch{}})(),dt=ot&&ot.isTypedArray;function Xt(_,R){for(var U=-1,ee=_==null?0:_.length,je=0,Ae=[];++U<ee;){var Ge=_[U];R(Ge,U,_)&&(Ae[je++]=Ge)}return Ae}function jr(_,R){for(var U=-1,ee=R.length,je=_.length;++U<ee;)_[je+U]=R[U];return _}function rs(_,R){for(var U=-1,ee=_==null?0:_.length;++U<ee;)if(R(_[U],U,_))return!0;return!1}function Ds(_,R){for(var U=-1,ee=Array(_);++U<_;)ee[U]=R(U);return ee}function Vt(_){return function(R){return _(R)}}function St(_,R){return _.has(R)}function _r(_,R){return _?.[R]}function Na(_){var R=-1,U=Array(_.size);return _.forEach(function(ee,je){U[++R]=[je,ee]}),U}function Ls(_,R){return function(U){return _(R(U))}}function Nt(_){var R=-1,U=Array(_.size);return _.forEach(function(ee){U[++R]=ee}),U}var Er=Array.prototype,ks=Function.prototype,Pr=Object.prototype,cr=Ie["__core-js_shared__"],Ms=ks.toString,Dn=Pr.hasOwnProperty,js=(function(){var _=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""})(),Ps=Pr.toString,ur=RegExp("^"+Ms.call(Dn).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=We?Ie.Buffer:void 0,En=Ie.Symbol,Ct=Ie.Uint8Array,Li=Pr.propertyIsEnumerable,Tr=Er.splice,Yn=En?En.toStringTag:void 0,Ln=Object.getOwnPropertySymbols,Vr=Kt?Kt.isBuffer:void 0,_t=Ls(Object.keys,Object),Xn=zt(Ie,"DataView"),Sn=zt(Ie,"Map"),kn=zt(Ie,"Promise"),Vs=zt(Ie,"Set"),is=zt(Ie,"WeakMap"),Tn=zt(Object,"create"),si=nn(Xn),Ur=nn(Sn),ki=nn(kn),Us=nn(Vs),qs=nn(is),ai=En?En.prototype:void 0,hr=ai?ai.valueOf:void 0;function Wt(_){var R=-1,U=_==null?0:_.length;for(this.clear();++R<U;){var ee=_[R];this.set(ee[0],ee[1])}}function fr(){this.__data__=Tn?Tn(null):{},this.size=0}function dr(_){var R=this.has(_)&&delete this.__data__[_];return this.size-=R?1:0,R}function Ut(_){var R=this.__data__;if(Tn){var U=R[_];return U===r?void 0:U}return Dn.call(R,_)?R[_]:void 0}function Zt(_){var R=this.__data__;return Tn?R[_]!==void 0:Dn.call(R,_)}function wr(_,R){var U=this.__data__;return this.size+=this.has(_)?0:1,U[_]=Tn&&R===void 0?r:R,this}Wt.prototype.clear=fr,Wt.prototype.delete=dr,Wt.prototype.get=Ut,Wt.prototype.has=Zt,Wt.prototype.set=wr;function Qt(_){var R=-1,U=_==null?0:_.length;for(this.clear();++R<U;){var ee=_[R];this.set(ee[0],ee[1])}}function ko(){this.__data__=[],this.size=0}function Ca(_){var R=this.__data__,U=Dt(R,_);if(U<0)return!1;var ee=R.length-1;return U==ee?R.pop():Tr.call(R,U,1),--this.size,!0}function Ra(_){var R=this.__data__,U=Dt(R,_);return U<0?void 0:R[U][1]}function xr(_){return Dt(this.__data__,_)>-1}function ss(_,R){var U=this.__data__,ee=Dt(U,_);return ee<0?(++this.size,U.push([_,R])):U[ee][1]=R,this}Qt.prototype.clear=ko,Qt.prototype.delete=Ca,Qt.prototype.get=Ra,Qt.prototype.has=xr,Qt.prototype.set=ss;function Ot(_){var R=-1,U=_==null?0:_.length;for(this.clear();++R<U;){var ee=_[R];this.set(ee[0],ee[1])}}function Wn(){this.size=0,this.__data__={hash:new Wt,map:new(Sn||Qt),string:new Wt}}function Mn(_){var R=fn(this,_).delete(_);return this.size-=R?1:0,R}function Ar(_){return fn(this,_).get(_)}function qt(_){return fn(this,_).has(_)}function Bs(_,R){var U=fn(this,_),ee=U.size;return U.set(_,R),this.size+=U.size==ee?0:1,this}Ot.prototype.clear=Wn,Ot.prototype.delete=Mn,Ot.prototype.get=Ar,Ot.prototype.has=qt,Ot.prototype.set=Bs;function oi(_){var R=-1,U=_==null?0:_.length;for(this.__data__=new Ot;++R<U;)this.add(_[R])}function mr(_){return this.__data__.set(_,r),this}function jn(_){return this.__data__.has(_)}oi.prototype.add=oi.prototype.push=mr,oi.prototype.has=jn;function Zn(_){var R=this.__data__=new Qt(_);this.size=R.size}function Mi(){this.__data__=new Qt,this.size=0}function zs(_){var R=this.__data__,U=R.delete(_);return this.size=R.size,U}function Ia(_){return this.__data__.get(_)}function as(_){return this.__data__.has(_)}function Pn(_,R){var U=this.__data__;if(U instanceof Qt){var ee=U.__data__;if(!Sn||ee.length<t-1)return ee.push([_,R]),this.size=++U.size,this;U=this.__data__=new Ot(ee)}return U.set(_,R),this.size=U.size,this}Zn.prototype.clear=Mi,Zn.prototype.delete=zs,Zn.prototype.get=Ia,Zn.prototype.has=as,Zn.prototype.set=Pn;function Bt(_,R){var U=Un(_),ee=!U&&Br(_),je=!U&&!ee&&Hr(_),Ae=!U&&!ee&&!je&&pr(_),Ge=U||ee||je||Ae,Ye=Ge?Ds(_.length,String):[],yt=Ye.length;for(var Ze in _)Dn.call(_,Ze)&&!(Ge&&(Ze=="length"||je&&(Ze=="offset"||Ze=="parent")||Ae&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||cs(Ze,yt)))&&Ye.push(Ze);return Ye}function Dt(_,R){for(var U=_.length;U--;)if(Vn(_[U][0],R))return U;return-1}function Sr(_,R,U){var ee=R(_);return Un(_)?ee:jr(ee,U(_))}function qr(_){return _==null?_===void 0?P:q:Yn&&Yn in Object(_)?Cr(_):er(_)}function ct(_){return Qe(_)&&qr(_)==f}function li(_,R,U,ee,je){return _===R?!0:_==null||R==null||!Qe(_)&&!Qe(R)?_!==_&&R!==R:Nr(_,R,U,ee,li,je)}function Nr(_,R,U,ee,je,Ae){var Ge=Un(_),Ye=Un(R),yt=Ge?m:Jn(_),Ze=Ye?m:Jn(R);yt=yt==f?$:yt,Ze=Ze==f?$:Ze;var xt=yt==$,rn=Ze==$,Lt=yt==Ze;if(Lt&&Hr(_)){if(!Hr(R))return!1;Ge=!0,xt=!1}if(Lt&&!xt)return Ae||(Ae=new Zn),Ge||pr(_)?ls(_,R,U,ee,je,Ae):Hs(_,R,yt,U,ee,je,Ae);if(!(U&a)){var Ht=xt&&Dn.call(_,"__wrapped__"),Jt=rn&&Dn.call(R,"__wrapped__");if(Ht||Jt){var Fr=Ht?_.value():_,qn=Jt?R.value():R;return Ae||(Ae=new Zn),je(Fr,qn,U,ee,Ae)}}return Lt?(Ae||(Ae=new Zn),ci(_,R,U,ee,je,Ae)):!1}function ji(_){if(!di(_)||hi(_))return!1;var R=tr(_)?ur:ue;return R.test(nn(_))}function Nn(_){return Qe(_)&&Cn(_.length)&&!!pe[qr(_)]}function os(_){if(!us(_))return _t(_);var R=[];for(var U in Object(_))Dn.call(_,U)&&U!="constructor"&&R.push(U);return R}function ls(_,R,U,ee,je,Ae){var Ge=U&a,Ye=_.length,yt=R.length;if(Ye!=yt&&!(Ge&&yt>Ye))return!1;var Ze=Ae.get(_);if(Ze&&Ae.get(R))return Ze==R;var xt=-1,rn=!0,Lt=U&l?new oi:void 0;for(Ae.set(_,R),Ae.set(R,_);++xt<Ye;){var Ht=_[xt],Jt=R[xt];if(ee)var Fr=Ge?ee(Jt,Ht,xt,R,_,Ae):ee(Ht,Jt,xt,_,R,Ae);if(Fr!==void 0){if(Fr)continue;rn=!1;break}if(Lt){if(!rs(R,function(qn,Gr){if(!St(Lt,Gr)&&(Ht===qn||je(Ht,qn,U,ee,Ae)))return Lt.push(Gr)})){rn=!1;break}}else if(!(Ht===Jt||je(Ht,Jt,U,ee,Ae))){rn=!1;break}}return Ae.delete(_),Ae.delete(R),rn}function Hs(_,R,U,ee,je,Ae,Ge){switch(U){case k:if(_.byteLength!=R.byteLength||_.byteOffset!=R.byteOffset)return!1;_=_.buffer,R=R.buffer;case A:return!(_.byteLength!=R.byteLength||!Ae(new Ct(_),new Ct(R)));case v:case T:case I:return Vn(+_,+R);case w:return _.name==R.name&&_.message==R.message;case ve:case j:return _==R+"";case D:var Ye=Na;case we:var yt=ee&a;if(Ye||(Ye=Nt),_.size!=R.size&&!yt)return!1;var Ze=Ge.get(_);if(Ze)return Ze==R;ee|=l,Ge.set(_,R);var xt=ls(Ye(_),Ye(R),ee,je,Ae,Ge);return Ge.delete(_),xt;case M:if(hr)return hr.call(_)==hr.call(R)}return!1}function ci(_,R,U,ee,je,Ae){var Ge=U&a,Ye=ui(_),yt=Ye.length,Ze=ui(R),xt=Ze.length;if(yt!=xt&&!Ge)return!1;for(var rn=yt;rn--;){var Lt=Ye[rn];if(!(Ge?Lt in R:Dn.call(R,Lt)))return!1}var Ht=Ae.get(_);if(Ht&&Ae.get(R))return Ht==R;var Jt=!0;Ae.set(_,R),Ae.set(R,_);for(var Fr=Ge;++rn<yt;){Lt=Ye[rn];var qn=_[Lt],Gr=R[Lt];if(ee)var Mo=Ge?ee(Gr,qn,Lt,R,_,Ae):ee(qn,Gr,Lt,_,R,Ae);if(!(Mo===void 0?qn===Gr||je(qn,Gr,U,ee,Ae):Mo)){Jt=!1;break}Fr||(Fr=Lt=="constructor")}if(Jt&&!Fr){var Ui=_.constructor,$s=R.constructor;Ui!=$s&&"constructor"in _&&"constructor"in R&&!(typeof Ui=="function"&&Ui instanceof Ui&&typeof $s=="function"&&$s instanceof $s)&&(Jt=!1)}return Ae.delete(_),Ae.delete(R),Jt}function ui(_){return Sr(_,Pi,Fs)}function fn(_,R){var U=_.__data__;return Oa(R)?U[typeof R=="string"?"string":"hash"]:U.map}function zt(_,R){var U=_r(_,R);return ji(U)?U:void 0}function Cr(_){var R=Dn.call(_,Yn),U=_[Yn];try{_[Yn]=void 0;var ee=!0}catch{}var je=Ps.call(_);return ee&&(R?_[Yn]=U:delete _[Yn]),je}var Fs=Ln?function(_){return _==null?[]:(_=Object(_),Xt(Ln(_),function(R){return Li.call(_,R)}))}:Vi,Jn=qr;(Xn&&Jn(new Xn(new ArrayBuffer(1)))!=k||Sn&&Jn(new Sn)!=D||kn&&Jn(kn.resolve())!=ne||Vs&&Jn(new Vs)!=we||is&&Jn(new is)!=H)&&(Jn=function(_){var R=qr(_),U=R==$?_.constructor:void 0,ee=U?nn(U):"";if(ee)switch(ee){case si:return k;case Ur:return D;case ki:return ne;case Us:return we;case qs:return H}return R});function cs(_,R){return R=R??u,!!R&&(typeof _=="number"||fe.test(_))&&_>-1&&_%1==0&&_<R}function Oa(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function hi(_){return!!js&&js in _}function us(_){var R=_&&_.constructor,U=typeof R=="function"&&R.prototype||Pr;return _===U}function er(_){return Ps.call(_)}function nn(_){if(_!=null){try{return Ms.call(_)}catch{}try{return _+""}catch{}}return""}function Vn(_,R){return _===R||_!==_&&R!==R}var Br=ct((function(){return arguments})())?ct:function(_){return Qe(_)&&Dn.call(_,"callee")&&!Li.call(_,"callee")},Un=Array.isArray;function zr(_){return _!=null&&Cn(_.length)&&!tr(_)}var Hr=Vr||Gs;function fi(_,R){return li(_,R)}function tr(_){if(!di(_))return!1;var R=qr(_);return R==N||R==O||R==p||R==be}function Cn(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=u}function di(_){var R=typeof _;return _!=null&&(R=="object"||R=="function")}function Qe(_){return _!=null&&typeof _=="object"}var pr=dt?Vt(dt):Nn;function Pi(_){return zr(_)?Bt(_):os(_)}function Vi(){return[]}function Gs(){return!1}n.exports=fi})(Mu,Mu.exports)),Mu.exports}var Yf={},ow;function h8(){if(ow)return Yf;ow=1,Object.defineProperty(Yf,"__esModule",{value:!0});const n=r2(),e=i2();var t;return(function(r){function a(m={},p={},v=!1){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});let T=n(p);v||(T=Object.keys(T).reduce((w,N)=>(T[N]!=null&&(w[N]=T[N]),w),{}));for(const w in m)m[w]!==void 0&&p[w]===void 0&&(T[w]=m[w]);return Object.keys(T).length>0?T:void 0}r.compose=a;function l(m={},p={}){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});const v=Object.keys(m).concat(Object.keys(p)).reduce((T,w)=>(e(m[w],p[w])||(T[w]=p[w]===void 0?null:p[w]),T),{});return Object.keys(v).length>0?v:void 0}r.diff=l;function u(m={},p={}){m=m||{};const v=Object.keys(p).reduce((T,w)=>(p[w]!==m[w]&&m[w]!==void 0&&(T[w]=p[w]),T),{});return Object.keys(m).reduce((T,w)=>(m[w]!==p[w]&&p[w]===void 0&&(T[w]=null),T),v)}r.invert=u;function f(m,p,v=!1){if(typeof m!="object")return p;if(typeof p!="object")return;if(!v)return p;const T=Object.keys(p).reduce((w,N)=>(m[N]===void 0&&(w[N]=p[N]),w),{});return Object.keys(T).length>0?T:void 0}r.transform=f})(t||(t={})),Yf.default=t,Yf}var Xf={},lw;function s2(){if(lw)return Xf;lw=1,Object.defineProperty(Xf,"__esModule",{value:!0});var n;return(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(n||(n={})),Xf.default=n,Xf}var Wf={},cw;function f8(){if(cw)return Wf;cw=1,Object.defineProperty(Wf,"__esModule",{value:!0});const n=s2();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const a=this.ops[this.index];if(a){const l=this.offset,u=n.default.length(a);if(r>=u-l?(r=u-l,this.index+=1,this.offset=0):this.offset+=r,typeof a.delete=="number")return{delete:r};{const f={};return a.attributes&&(f.attributes=a.attributes),typeof a.retain=="number"?f.retain=r:typeof a.retain=="object"&&a.retain!==null?f.retain=a.retain:typeof a.insert=="string"?f.insert=a.insert.substr(l,r):f.insert=a.insert,f}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,a=this.index,l=this.next(),u=this.ops.slice(this.index);return this.offset=r,this.index=a,[l].concat(u)}}else return[]}}return Wf.default=e,Wf}var uw;function d8(){return uw||(uw=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=u8(),r=r2(),a=i2(),l=h8();e.AttributeMap=l.default;const u=s2();e.Op=u.default;const f=f8();e.OpIterator=f.default;const m="\0",p=(T,w)=>{if(typeof T!="object"||T===null)throw new Error(`cannot retain a ${typeof T}`);if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);const N=Object.keys(T)[0];if(!N||N!==Object.keys(w)[0])throw new Error(`embed types not matched: ${N} != ${Object.keys(w)[0]}`);return[N,T[N],w[N]]};class v{constructor(w){Array.isArray(w)?this.ops=w:w!=null&&Array.isArray(w.ops)?this.ops=w.ops:this.ops=[]}static registerEmbed(w,N){this.handlers[w]=N}static unregisterEmbed(w){delete this.handlers[w]}static getHandler(w){const N=this.handlers[w];if(!N)throw new Error(`no handlers for embed type "${w}"`);return N}insert(w,N){const O={};return typeof w=="string"&&w.length===0?this:(O.insert=w,N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(O.attributes=N),this.push(O))}delete(w){return w<=0?this:this.push({delete:w})}retain(w,N){if(typeof w=="number"&&w<=0)return this;const O={retain:w};return N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(O.attributes=N),this.push(O)}push(w){let N=this.ops.length,O=this.ops[N-1];if(w=r(w),typeof O=="object"){if(typeof w.delete=="number"&&typeof O.delete=="number")return this.ops[N-1]={delete:O.delete+w.delete},this;if(typeof O.delete=="number"&&w.insert!=null&&(N-=1,O=this.ops[N-1],typeof O!="object"))return this.ops.unshift(w),this;if(a(w.attributes,O.attributes)){if(typeof w.insert=="string"&&typeof O.insert=="string")return this.ops[N-1]={insert:O.insert+w.insert},typeof w.attributes=="object"&&(this.ops[N-1].attributes=w.attributes),this;if(typeof w.retain=="number"&&typeof O.retain=="number")return this.ops[N-1]={retain:O.retain+w.retain},typeof w.attributes=="object"&&(this.ops[N-1].attributes=w.attributes),this}}return N===this.ops.length?this.ops.push(w):this.ops.splice(N,0,w),this}chop(){const w=this.ops[this.ops.length-1];return w&&typeof w.retain=="number"&&!w.attributes&&this.ops.pop(),this}filter(w){return this.ops.filter(w)}forEach(w){this.ops.forEach(w)}map(w){return this.ops.map(w)}partition(w){const N=[],O=[];return this.forEach(D=>{(w(D)?N:O).push(D)}),[N,O]}reduce(w,N){return this.ops.reduce(w,N)}changeLength(){return this.reduce((w,N)=>N.insert?w+u.default.length(N):N.delete?w-N.delete:w,0)}length(){return this.reduce((w,N)=>w+u.default.length(N),0)}slice(w=0,N=1/0){const O=[],D=new f.default(this.ops);let I=0;for(;I<N&&D.hasNext();){let q;I<w?q=D.next(w-I):(q=D.next(N-I),O.push(q)),I+=u.default.length(q)}return new v(O)}compose(w){const N=new f.default(this.ops),O=new f.default(w.ops),D=[],I=O.peek();if(I!=null&&typeof I.retain=="number"&&I.attributes==null){let $=I.retain;for(;N.peekType()==="insert"&&N.peekLength()<=$;)$-=N.peekLength(),D.push(N.next());I.retain-$>0&&O.next(I.retain-$)}const q=new v(D);for(;N.hasNext()||O.hasNext();)if(O.peekType()==="insert")q.push(O.next());else if(N.peekType()==="delete")q.push(N.next());else{const $=Math.min(N.peekLength(),O.peekLength()),ne=N.next($),be=O.next($);if(be.retain){const ve={};if(typeof ne.retain=="number")ve.retain=typeof be.retain=="number"?$:be.retain;else if(typeof be.retain=="number")ne.retain==null?ve.insert=ne.insert:ve.retain=ne.retain;else{const j=ne.retain==null?"insert":"retain",[M,P,H]=p(ne[j],be.retain),A=v.getHandler(M);ve[j]={[M]:A.compose(P,H,j==="retain")}}const we=l.default.compose(ne.attributes,be.attributes,typeof ne.retain=="number");if(we&&(ve.attributes=we),q.push(ve),!O.hasNext()&&a(q.ops[q.ops.length-1],ve)){const j=new v(N.rest());return q.concat(j).chop()}}else typeof be.delete=="number"&&(typeof ne.retain=="number"||typeof ne.retain=="object"&&ne.retain!==null)&&q.push(be)}return q.chop()}concat(w){const N=new v(this.ops.slice());return w.ops.length>0&&(N.push(w.ops[0]),N.ops=N.ops.concat(w.ops.slice(1))),N}diff(w,N){if(this.ops===w.ops)return new v;const O=[this,w].map(ne=>ne.map(be=>{if(be.insert!=null)return typeof be.insert=="string"?be.insert:m;const ve=ne===w?"on":"with";throw new Error("diff() called "+ve+" non-document")}).join("")),D=new v,I=t(O[0],O[1],N,!0),q=new f.default(this.ops),$=new f.default(w.ops);return I.forEach(ne=>{let be=ne[1].length;for(;be>0;){let ve=0;switch(ne[0]){case t.INSERT:ve=Math.min($.peekLength(),be),D.push($.next(ve));break;case t.DELETE:ve=Math.min(be,q.peekLength()),q.next(ve),D.delete(ve);break;case t.EQUAL:ve=Math.min(q.peekLength(),$.peekLength(),be);const we=q.next(ve),j=$.next(ve);a(we.insert,j.insert)?D.retain(ve,l.default.diff(we.attributes,j.attributes)):D.push(j).delete(ve);break}be-=ve}}),D.chop()}eachLine(w,N=`
`){const O=new f.default(this.ops);let D=new v,I=0;for(;O.hasNext();){if(O.peekType()!=="insert")return;const q=O.peek(),$=u.default.length(q)-O.peekLength(),ne=typeof q.insert=="string"?q.insert.indexOf(N,$)-$:-1;if(ne<0)D.push(O.next());else if(ne>0)D.push(O.next(ne));else{if(w(D,O.next(1).attributes||{},I)===!1)return;I+=1,D=new v}}D.length()>0&&w(D,{},I)}invert(w){const N=new v;return this.reduce((O,D)=>{if(D.insert)N.delete(u.default.length(D));else{if(typeof D.retain=="number"&&D.attributes==null)return N.retain(D.retain),O+D.retain;if(D.delete||typeof D.retain=="number"){const I=D.delete||D.retain;return w.slice(O,O+I).forEach($=>{D.delete?N.push($):D.retain&&D.attributes&&N.retain(u.default.length($),l.default.invert(D.attributes,$.attributes))}),O+I}else if(typeof D.retain=="object"&&D.retain!==null){const I=w.slice(O,O+1),q=new f.default(I.ops).next(),[$,ne,be]=p(D.retain,q.insert),ve=v.getHandler($);return N.retain({[$]:ve.invert(ne,be)},l.default.invert(D.attributes,q.attributes)),O+1}}return O},0),N.chop()}transform(w,N=!1){if(N=!!N,typeof w=="number")return this.transformPosition(w,N);const O=w,D=new f.default(this.ops),I=new f.default(O.ops),q=new v;for(;D.hasNext()||I.hasNext();)if(D.peekType()==="insert"&&(N||I.peekType()!=="insert"))q.retain(u.default.length(D.next()));else if(I.peekType()==="insert")q.push(I.next());else{const $=Math.min(D.peekLength(),I.peekLength()),ne=D.next($),be=I.next($);if(ne.delete)continue;if(be.delete)q.push(be);else{const ve=ne.retain,we=be.retain;let j=typeof we=="object"&&we!==null?we:$;if(typeof ve=="object"&&ve!==null&&typeof we=="object"&&we!==null){const M=Object.keys(ve)[0];if(M===Object.keys(we)[0]){const P=v.getHandler(M);P&&(j={[M]:P.transform(ve[M],we[M],N)})}}q.retain(j,l.default.transform(ne.attributes,be.attributes,N))}}return q.chop()}transformPosition(w,N=!1){N=!!N;const O=new f.default(this.ops);let D=0;for(;O.hasNext()&&D<=w;){const I=O.peekLength(),q=O.peekType();if(O.next(),q==="delete"){w-=Math.min(I,w-D);continue}else q==="insert"&&(D<w||!N)&&(w+=I);D+=I}return w}}v.Op=u.default,v.OpIterator=f.default,v.AttributeMap=l.default,v.handlers={},e.default=v,n.exports=v,n.exports.default=v})(Qf,Qf.exports)),Qf.exports}var Ni=d8();const Re=Fy(Ni);class ns extends ii{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ns.blotName="break";ns.tagName="BR";let es=class extends Vd{};const m8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _m(n){return n.replace(/[&<>"']/g,e=>m8[e])}class vr extends rv{static allowedChildren=[vr,ns,ii,es];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=vr.order.indexOf(e),a=vr.order.indexOf(t);return r>=0||a>=0?r-a:e===t?0:e<t?-1:1}formatAt(e,t,r,a){if(vr.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Oe.BLOT)){const l=this.isolate(e,t);a&&l.wrap(r,a)}else super.formatAt(e,t,r,a)}optimize(e){if(super.optimize(e),this.parent instanceof vr&&vr.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const hw=1;class Kn extends sh{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=a2(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,a){t<=0||(this.scroll.query(r,Oe.BLOCK)?e+t===this.length()&&this.format(r,a):super.formatAt(e,Math.min(t,this.length()-e-1),r,a),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const a=t.split(`
`),l=a.shift();l.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let u=this;a.reduce((f,m)=>(u=u.split(f,!0),u.insertAt(0,m),m.length),e+l.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof ns&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+hw),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-hw)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const r=super.split(e,t);return this.cache={},r}}Kn.blotName="block";Kn.tagName="P";Kn.defaultChild=ns;Kn.allowedChildren=[ns,vr,ii,es];class Si extends ii{attach(){super.attach(),this.attributes=new vm(this.domNode)}delta(){return new Re().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Oe.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,a){this.format(r,a)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const a=t.split(`
`),l=a.pop(),u=a.map(m=>{const p=this.scroll.create(Kn.blotName);return p.insertAt(0,m),p}),f=this.split(e);u.forEach(m=>{this.parent.insertBefore(m,f)}),l&&this.parent.insertBefore(this.scroll.create("text",l),f)}}Si.scope=Oe.BLOCK_BLOT;function a2(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(or).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),wi(r,{},e)),new Re).insert(`
`,wi(n))}function wi(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:wi(n.parent,e,t)}class Ki extends ii{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Ki.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,a=0;for(;r!=null&&r.statics.scope!==Oe.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Ki.CONTENTS.length,r.optimize(),r.formatAt(a,Ki.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof es?this.prev:null,r=t?t.length():0,a=this.next instanceof es?this.next:null,l=a?a.text:"",{textNode:u}=this,f=u.data.split(Ki.CONTENTS).join("");u.data=Ki.CONTENTS;let m;if(t)m=t,(f||a)&&(t.insertAt(t.length(),f+l),a&&a.remove());else if(a)m=a,a.insertAt(0,f);else{const p=document.createTextNode(f);m=this.scroll.create(p),this.parent.insertBefore(m,this)}if(this.remove(),e){const p=(w,N)=>t&&w===t.domNode?N:w===u?r+N-1:a&&w===a.domNode?r+f.length+N:null,v=p(e.start.node,e.start.offset),T=p(e.end.node,e.end.offset);if(v!==null&&T!==null)return{startNode:m.domNode,startOffset:v,endNode:m.domNode,endOffset:T}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Ki.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Hg={exports:{}},fw;function p8(){return fw||(fw=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function a(m,p,v){this.fn=m,this.context=p,this.once=v||!1}function l(m,p,v,T,w){if(typeof v!="function")throw new TypeError("The listener must be a function");var N=new a(v,T||m,w),O=t?t+p:p;return m._events[O]?m._events[O].fn?m._events[O]=[m._events[O],N]:m._events[O].push(N):(m._events[O]=N,m._eventsCount++),m}function u(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],v,T;if(this._eventsCount===0)return p;for(T in v=this._events)e.call(v,T)&&p.push(t?T.slice(1):T);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(v)):p},f.prototype.listeners=function(p){var v=t?t+p:p,T=this._events[v];if(!T)return[];if(T.fn)return[T.fn];for(var w=0,N=T.length,O=new Array(N);w<N;w++)O[w]=T[w].fn;return O},f.prototype.listenerCount=function(p){var v=t?t+p:p,T=this._events[v];return T?T.fn?1:T.length:0},f.prototype.emit=function(p,v,T,w,N,O){var D=t?t+p:p;if(!this._events[D])return!1;var I=this._events[D],q=arguments.length,$,ne;if(I.fn){switch(I.once&&this.removeListener(p,I.fn,void 0,!0),q){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,v),!0;case 3:return I.fn.call(I.context,v,T),!0;case 4:return I.fn.call(I.context,v,T,w),!0;case 5:return I.fn.call(I.context,v,T,w,N),!0;case 6:return I.fn.call(I.context,v,T,w,N,O),!0}for(ne=1,$=new Array(q-1);ne<q;ne++)$[ne-1]=arguments[ne];I.fn.apply(I.context,$)}else{var be=I.length,ve;for(ne=0;ne<be;ne++)switch(I[ne].once&&this.removeListener(p,I[ne].fn,void 0,!0),q){case 1:I[ne].fn.call(I[ne].context);break;case 2:I[ne].fn.call(I[ne].context,v);break;case 3:I[ne].fn.call(I[ne].context,v,T);break;case 4:I[ne].fn.call(I[ne].context,v,T,w);break;default:if(!$)for(ve=1,$=new Array(q-1);ve<q;ve++)$[ve-1]=arguments[ve];I[ne].fn.apply(I[ne].context,$)}}return!0},f.prototype.on=function(p,v,T){return l(this,p,v,T,!1)},f.prototype.once=function(p,v,T){return l(this,p,v,T,!0)},f.prototype.removeListener=function(p,v,T,w){var N=t?t+p:p;if(!this._events[N])return this;if(!v)return u(this,N),this;var O=this._events[N];if(O.fn)O.fn===v&&(!w||O.once)&&(!T||O.context===T)&&u(this,N);else{for(var D=0,I=[],q=O.length;D<q;D++)(O[D].fn!==v||w&&!O[D].once||T&&O[D].context!==T)&&I.push(O[D]);I.length?this._events[N]=I.length===1?I[0]:I:u(this,N)}return this},f.prototype.removeAllListeners=function(p){var v;return p?(v=t?t+p:p,this._events[v]&&u(this,v)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f})(Hg)),Hg.exports}var g8=p8();const y8=Fy(g8),qy=new WeakMap,By=["error","warn","log","info"];let zy="warn";function o2(n){if(zy&&By.indexOf(n)<=By.indexOf(zy)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Sa(n){return By.reduce((e,t)=>(e[t]=o2.bind(console,t,n),e),{})}Sa.level=n=>{zy=n};o2.level=Sa.level;const Fg=Sa("quill:events"),v8=["selectionchange","mousedown","mouseup","click"];v8.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const l=qy.get(a);l&&l.emitter&&l.emitter.handleDOM(...t)})})});class Ne extends y8{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Fg.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Fg.log.call(Fg,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(l=>{let{node:u,handler:f}=l;(e.target===u||u.contains(e.target))&&f(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const Gg=Sa("quill:selection");class ul{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class b8{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ul(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ne.sources.USER),1)}),this.emitter.on(Ne.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ne.events.SCROLL_UPDATE,(a,l)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const u=l.some(f=>f.type==="characterData"||f.type==="childList"||f.type==="attributes"&&f.target===this.root);this.update(u?Ne.sources.SILENT:a)}catch{}})}),this.emitter.on(Ne.events.SCROLL_OPTIMIZE,(r,a)=>{if(a.range){const{startNode:l,startOffset:u,endNode:f,endOffset:m}=a.range;this.setNativeRange(l,u,f,m),this.update(Ne.sources.SILENT)}}),this.update(Ne.sources.SILENT)}handleComposition(){this.emitter.on(Ne.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ne.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ne.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Oe.BLOCK))){if(r.start.node!==this.cursor.textNode){const a=this.scroll.find(r.start.node,!1);if(a==null)return;if(a instanceof or){const l=a.split(r.start.offset);a.parent.insertBefore(this.cursor,l)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let a,[l,u]=this.scroll.leaf(e);if(l==null)return null;if(t>0&&u===l.length()){const[v]=this.scroll.leaf(e+1);if(v){const[T]=this.scroll.line(e),[w]=this.scroll.line(e+1);T===w&&(l=v,u=0)}}[a,u]=l.position(u,!0);const f=document.createRange();if(t>0)return f.setStart(a,u),[l,u]=this.scroll.leaf(e+t),l==null?null:([a,u]=l.position(u,!0),f.setEnd(a,u),f.getBoundingClientRect());let m="left",p;if(a instanceof Text){if(!a.data.length)return null;u<a.data.length?(f.setStart(a,u),f.setEnd(a,u+1)):(f.setStart(a,u-1),f.setEnd(a,u),m="right"),p=f.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;p=l.domNode.getBoundingClientRect(),u>0&&(m="right")}return{bottom:p.top+p.height,height:p.height,left:p[m],right:p[m],top:p.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return Gg.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&$g(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(u=>{const[f,m]=u,p=this.scroll.find(f,!0),v=p.offset(this.scroll);return m===0?v:p instanceof or?v+p.index(f,m):v+p.length()}),a=Math.min(Math.max(...r),this.scroll.length()-1),l=Math.min(a,...r);return new ul(l,a-l)}normalizeNative(e){if(!$g(this.root,e.startContainer)||!e.collapsed&&!$g(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:a,offset:l}=r;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>l)a=a.childNodes[l],l=0;else if(a.childNodes.length===l)a=a.lastChild,a instanceof Text?l=a.data.length:a.childNodes.length>0?l=a.childNodes.length:l=a.childNodes.length+1;else break;r.node=a,r.offset=l}),t}rangeToNative(e){const t=this.scroll.length(),r=(a,l)=>{a=Math.min(t-1,a);const[u,f]=this.scroll.leaf(a);return u?u.position(f,l):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Gg.info("setNativeRange",e,t,r,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const u=document.getSelection();if(u!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:f}=this.getNativeRange()||{};if(f==null||l||e!==f.startContainer||t!==f.startOffset||r!==f.endContainer||a!==f.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(a=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const m=document.createRange();m.setStart(e,t),m.setEnd(r,a),u.removeAllRanges(),u.addRange(m)}}else u.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;if(typeof t=="string"&&(r=t,t=!1),Gg.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.lastRange,[r,a]=this.getRange();if(this.lastRange=r,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!oo(t,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}const l=[Ne.events.SELECTION_CHANGE,mc(this.lastRange),mc(t),e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...l),e!==Ne.sources.SILENT&&this.emitter.emit(...l)}}}function $g(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const _8=/^[ -~]*$/;class E8{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=dw(e),a=new Re;return w8(r.ops.slice()).reduce((u,f)=>{const m=Ni.Op.length(f);let p=f.attributes||{},v=!1,T=!1;if(f.insert!=null){if(a.retain(m),typeof f.insert=="string"){const O=f.insert;T=!O.endsWith(`
`)&&(t<=u||!!this.scroll.descendant(Si,u)[0]),this.scroll.insertAt(u,O);const[D,I]=this.scroll.line(u);let q=yo({},wi(D));if(D instanceof Kn){const[$]=D.descendant(or,I);$&&(q=yo(q,wi($)))}p=Ni.AttributeMap.diff(q,p)||{}}else if(typeof f.insert=="object"){const O=Object.keys(f.insert)[0];if(O==null)return u;const D=this.scroll.query(O,Oe.INLINE)!=null;if(D)(t<=u||this.scroll.descendant(Si,u)[0])&&(T=!0);else if(u>0){const[I,q]=this.scroll.descendant(or,u-1);I instanceof es?I.value()[q]!==`
`&&(v=!0):I instanceof ii&&I.statics.scope===Oe.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(u,O,f.insert[O]),D){const[I]=this.scroll.descendant(or,u);if(I){const q=yo({},wi(I));p=Ni.AttributeMap.diff(q,p)||{}}}}t+=m}else if(a.push(f),f.retain!==null&&typeof f.retain=="object"){const O=Object.keys(f.retain)[0];if(O==null)return u;this.scroll.updateEmbedAt(u,O,f.retain[O])}Object.keys(p).forEach(O=>{this.scroll.formatAt(u,m,O,p[O])});const w=v?1:0,N=T?1:0;return t+=w+N,a.retain(w),a.delete(N),u+m+w+N},0),a.reduce((u,f)=>typeof f.delete=="number"?(this.scroll.deleteAt(u,f.delete),u):u+Ni.Op.length(f),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Re().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(l=>{this.scroll.lines(e,Math.max(t,1)).forEach(u=>{u.format(l,r[l])})}),this.scroll.optimize();const a=new Re().retain(e).retain(t,mc(r));return this.update(a)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(l=>{this.scroll.formatAt(e,t,l,r[l])});const a=new Re().retain(e).retain(t,mc(r));return this.update(a)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Re)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],a=[];t===0?this.scroll.path(e).forEach(f=>{const[m]=f;m instanceof Kn?r.push(m):m instanceof or&&a.push(m)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(or,e,t));const[l,u]=[r,a].map(f=>{const m=f.shift();if(m==null)return{};let p=wi(m);for(;Object.keys(p).length>0;){const v=f.shift();if(v==null)return p;p=T8(wi(v),p)}return p});return{...l,...u}}getHTML(e,t){const[r,a]=this.scroll.line(e);if(r){const l=r.length();return r.length()>=a+t&&!(a===0&&t===l)?ah(r,a,t,!0):ah(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=dw(t),a=new Re().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(a)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new Re().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(a=>{this.scroll.formatAt(e,t.length,a,r[a])}),this.update(new Re().retain(e).insert(t,mc(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Kn.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof ns}removeFormat(e,t){const r=this.getText(e,t),[a,l]=this.scroll.line(e+t);let u=0,f=new Re;a!=null&&(u=a.length()-l,f=a.delta().slice(l,l+u-1).insert(`
`));const p=this.getContents(e,t+u).diff(new Re().insert(r).concat(f)),v=new Re().retain(e).concat(p);return this.applyDelta(v)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(_8)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),u=wi(l),f=l.offset(this.scroll),m=t[0].oldValue.replace(Ki.CONTENTS,""),p=new Re().insert(m),v=new Re().insert(l.value()),T=r&&{oldRange:mw(r.oldRange,-f),newRange:mw(r.newRange,-f)};e=new Re().retain(f).concat(p.diff(v,T)).reduce((N,O)=>O.insert?N.insert(O.insert,u):N.push(O),new Re),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!oo(a.compose(e),this.delta))&&(e=a.diff(this.delta,r));return e}}function lc(n,e,t){if(n.length===0){const[N]=Kg(t.pop());return e<=0?`</li></${N}>`:`</li></${N}>${lc([],e-1,t)}`}const[{child:r,offset:a,length:l,indent:u,type:f},...m]=n,[p,v]=Kg(f);if(u>e)return t.push(f),u===e+1?`<${p}><li${v}>${ah(r,a,l)}${lc(m,u,t)}`:`<${p}><li>${lc(n,e+1,t)}`;const T=t[t.length-1];if(u===e&&f===T)return`</li><li${v}>${ah(r,a,l)}${lc(m,u,t)}`;const[w]=Kg(t.pop());return`</li></${w}>${lc(n,e-1,t)}`}function ah(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof es)return _m(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Zi){if(n.statics.blotName==="list-container"){const p=[];return n.children.forEachAt(e,t,(v,T,w)=>{const N="formats"in v&&typeof v.formats=="function"?v.formats():{};p.push({child:v,offset:T,length:w,indent:N.indent||0,type:N.list})}),lc(p,-1,[])}const a=[];if(n.children.forEachAt(e,t,(p,v,T)=>{a.push(ah(p,v,T))}),r||n.statics.blotName==="list")return a.join("");const{outerHTML:l,innerHTML:u}=n.domNode,[f,m]=l.split(`>${u}<`);return f==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${m}`:`${f}>${a.join("")}<${m}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function T8(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const a=e[r];return a===n[r]?t[r]=a:Array.isArray(a)?a.indexOf(n[r])<0?t[r]=a.concat([n[r]]):t[r]=a:t[r]=[a,n[r]],t},{})}function Kg(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function dw(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new Re)}function mw(n,e){let{index:t,length:r}=n;return new ul(t+e,r)}function w8(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((a,l)=>{l&&e.push({insert:`
`,attributes:t.attributes}),a&&e.push({insert:a,attributes:t.attributes})}):e.push(t)}),e}class Os{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Zf="\uFEFF";class sv extends ii{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Zf),this.rightGuard=document.createTextNode(Zf),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const a=e.data.split(Zf).join("");if(e===this.leftGuard)if(this.prev instanceof es){const l=this.prev.length();this.prev.insertAt(l,a),t={startNode:this.prev.domNode,startOffset:l+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof es?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=Zf,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const a=this.restore(r.target);a&&(t.range=a)}})}}class x8{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof sv)&&(this.emitter.emit(Ne.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ne.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ne.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ne.events.COMPOSITION_END,e),this.isComposing=!1}}class Uc{static DEFAULTS={modules:{}};static themes={default:Uc};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const A8=n=>n.parentElement||n.getRootNode().host||null,S8=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Jf=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},pw=(n,e,t,r,a,l)=>n<t&&e>r?0:n<t?-(t-n+a):e>r?e-n>r-t?n+a-t:e-r+l:0,N8=(n,e)=>{const t=n.ownerDocument;let r=e,a=n;for(;a;){const l=a===t.body,u=l?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:S8(a),f=getComputedStyle(a),m=pw(r.left,r.right,u.left,u.right,Jf(f.scrollPaddingLeft),Jf(f.scrollPaddingRight)),p=pw(r.top,r.bottom,u.top,u.bottom,Jf(f.scrollPaddingTop),Jf(f.scrollPaddingBottom));if(m||p)if(l)t.defaultView?.scrollBy(m,p);else{const{scrollLeft:v,scrollTop:T}=a;p&&(a.scrollTop+=p),m&&(a.scrollLeft+=m);const w=a.scrollLeft-v,N=a.scrollTop-T;r={left:r.left-w,top:r.top-N,right:r.right-w,bottom:r.bottom-N}}a=l||f.position==="fixed"?null:A8(a)}},C8=100,R8=["block","break","cursor","inline","scroll","text"],I8=(n,e,t)=>{const r=new Nc;return R8.forEach(a=>{const l=e.query(a);l&&r.register(l)}),n.forEach(a=>{let l=e.query(a);l||t.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;l;)if(r.register(l),l="blotName"in l?l.requiredContainer??null:null,u+=1,u>C8){t.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),r},gc=Sa("quill"),ed=new Nc;Zi.uiClass="ql-ui";class ae{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ed,theme:"default"};static events=Ne.events;static sources=Ne.sources;static version="2.0.3";static imports={delta:Re,parchment:c8,"core/module":Os,"core/theme":Uc};static debug(e){e===!0&&(e="log"),Sa.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return qy.get(e)||ed.find(e,t)}static import(e){return this.imports[e]==null&&gc.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(a=>{this.register(a,e[a],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&gc.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&ed.register(t),typeof t.register=="function"&&t.register(ed)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=O8(e,t),this.container=this.options.container,this.container==null){gc.error("Invalid Quill container",e);return}this.options.debug&&ae.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",qy.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ne;const a=iv.blotName,l=this.options.registry.query(a);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new E8(this.scroll),this.selection=new b8(this.scroll,this.emitter),this.composition=new x8(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ne.events.EDITOR_CHANGE,u=>{u===Ne.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ne.events.SCROLL_UPDATE,(u,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),v=m&&p?{oldRange:m,newRange:p}:void 0;Gi.call(this,()=>this.editor.update(null,f,v),u)}),this.emitter.on(Ne.events.SCROLL_EMBED_UPDATE,(u,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),v=m&&p?{oldRange:m,newRange:p}:void 0;Gi.call(this,()=>{const T=new Re().retain(u.offset(this)).retain({[u.statics.blotName]:f});return this.editor.update(T,[],v)},ae.sources.USER)}),r){const u=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=ca(e,t,r),Gi.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;return Gi.call(this,()=>{const a=this.getSelection(!0);let l=new Re;if(a==null)return l;if(this.scroll.query(e,Oe.BLOCK))l=this.editor.formatLine(a.index,a.length,{[e]:t});else{if(a.length===0)return this.selection.format(e,t),l;l=this.editor.formatText(a.index,a.length,{[e]:t})}return this.setSelection(a,Ne.sources.SILENT),l},r)}formatLine(e,t,r,a,l){let u;return[e,t,u,l]=ca(e,t,r,a,l),Gi.call(this,()=>this.editor.formatLine(e,t,u),l,e,0)}formatText(e,t,r,a,l){let u;return[e,t,u,l]=ca(e,t,r,a,l),Gi.call(this,()=>this.editor.formatText(e,t,u),l,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=ca(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ca(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ca(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ae.sources.API;return Gi.call(this,()=>this.editor.insertEmbed(e,t,r),a,e)}insertText(e,t,r,a,l){let u;return[e,,u,l]=ca(e,0,r,a,l),Gi.call(this,()=>this.editor.insertText(e,t,u),l,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=ca(e,t,r),Gi.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){N8(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Gi.call(this,()=>{e=new Re(e);const r=this.getLength(),a=this.editor.deleteText(0,r),l=this.editor.insertContents(0,e),u=this.editor.deleteText(this.getLength()-1,1);return a.compose(l).compose(u)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||ae.sources.API):([e,t,,r]=ca(e,t,r),this.selection.setRange(new ul(Math.max(0,e),t),r),r!==Ne.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;const r=new Re().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Gi.call(this,()=>(e=new Re(e),this.editor.applyDelta(e)),t,!0)}}function gw(n){return typeof n=="string"?document.querySelector(n):n}function Qg(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,a]=t;return{...e,[r]:a===!0?{}:a}},{})}function yw(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function O8(n,e){const t=gw(n);if(!t)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===ae.DEFAULTS.theme?Uc:ae.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...u}=ae.DEFAULTS,{modules:f,...m}=a.DEFAULTS;let p=Qg(e.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const v=yo({},Qg(l),Qg(f),p),T={...u,...yw(m),...yw(e)};let w=e.registry;return w?e.formats&&gc.warn('Ignoring "formats" option because "registry" is specified'):w=e.formats?I8(e.formats,T.registry,gc):T.registry,{...T,registry:w,container:t,theme:a,modules:Object.entries(v).reduce((N,O)=>{let[D,I]=O;if(!I)return N;const q=ae.import(`modules/${D}`);return q==null?(gc.error(`Cannot load ${D} module. Are you sure you registered it?`),N):{...N,[D]:yo({},q.DEFAULTS||{},I)}},{}),bounds:gw(T.bounds)}}function Gi(n,e,t,r){if(!this.isEnabled()&&e===Ne.sources.USER&&!this.allowReadOnlyEdits)return new Re;let a=t==null?null:this.getSelection();const l=this.editor.delta,u=n();if(a!=null&&(t===!0&&(t=a.index),r==null?a=vw(a,u,e):r!==0&&(a=vw(a,t,r,e)),this.setSelection(a,Ne.sources.SILENT)),u.length()>0){const f=[Ne.events.TEXT_CHANGE,u,l,e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...f),e!==Ne.sources.SILENT&&this.emitter.emit(...f)}return u}function ca(n,e,t,r,a){let l={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(a=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(a=r,r=t,t=e,e=0),typeof t=="object"?(l=t,a=r):typeof t=="string"&&(r!=null?l[t]=r:a=t),a=a||Ne.sources.API,[n,e,l,a]}function vw(n,e,t,r){const a=typeof t=="number"?t:0;if(n==null)return null;let l,u;return e&&typeof e.transformPosition=="function"?[l,u]=[n.index,n.index+n.length].map(f=>e.transformPosition(f,r!==Ne.sources.USER)):[l,u]=[n.index,n.index+n.length].map(f=>f<e||f===e&&r===Ne.sources.USER?f:a>=0?f+a:Math.max(e,f+a)),new ul(l,u-l)}class El extends bm{}function bw(n){return n instanceof Kn||n instanceof Si}function _w(n){return typeof n.updateContent=="function"}class D8 extends iv{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Kn;static allowedChildren=[Kn,Si,El];constructor(e,t,r){let{emitter:a}=r;super(e,t),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ne.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,a]=this.line(e),[l]=this.line(e+t);if(super.deleteAt(e,t),l!=null&&r!==l&&a>0){if(r instanceof Si||l instanceof Si){this.optimize();return}const u=l.children.head instanceof ns?null:l.children.head;r.moveChildren(l,u),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Oe.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),r==null&&t.endsWith(`
`)?a.insertAt(0,t.slice(0,-1),r):a.insertAt(0,t,r)}else{const a=this.scroll.create(t,r);this.appendChild(a)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Oe.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new Re().insert(`
`))),a=r.pop();if(a==null)return;this.batchStart();const l=r.shift();if(l){const m=l.type==="block"&&(l.delta.length()===0||!this.descendant(Si,e)[0]&&e<this.length()),p=l.type==="block"?l.delta:new Re().insert({[l.key]:l.value});Yg(this,e,p);const v=l.type==="block"?1:0,T=e+p.length()+v;m&&this.insertAt(T-1,`
`);const w=wi(this.line(e)[0]),N=Ni.AttributeMap.diff(w,l.attributes)||{};Object.keys(N).forEach(O=>{this.formatAt(T-1,1,O,N[O])}),e=T}let[u,f]=this.children.find(e);if(r.length&&(u&&(u=u.split(f),f=0),r.forEach(m=>{if(m.type==="block"){const p=this.createBlock(m.attributes,u||void 0);Yg(p,0,m.delta)}else{const p=this.create(m.key,m.value);this.insertBefore(p,u||void 0),Object.keys(m.attributes).forEach(v=>{p.format(v,m.attributes[v])})}})),a.type==="block"&&a.delta.length()){const m=u?u.offset(u.scroll)+f:this.length();Yg(this,m,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,a]=t;return r instanceof or?[r,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(bw,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(a,l,u)=>{let f=[],m=u;return a.children.forEachAt(l,u,(p,v,T)=>{bw(p)?f.push(p):p instanceof bm&&(f=f.concat(r(p,v,m))),m-=T}),f};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ne.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ne.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:a}=r;const l=this.find(a,!0);return l&&!_w(l)}),e.length>0&&this.emitter.emit(Ne.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ne.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[a]=this.descendant(l=>l instanceof Si,e);a&&a.statics.blotName===t&&_w(a)&&a.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new Re;return e.forEach(a=>{const l=a?.insert;if(l)if(typeof l=="string"){const u=l.split(`
`);u.slice(0,-1).forEach(m=>{r.insert(m,a.attributes),t.push({type:"block",delta:r,attributes:a.attributes??{}}),r=new Re});const f=u[u.length-1];f&&r.insert(f,a.attributes)}else{const u=Object.keys(l)[0];if(!u)return;this.query(u,Oe.INLINE)?r.push(a):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Re,t.push({type:"blockEmbed",key:u,value:l[u],attributes:a.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const a={};Object.entries(e).forEach(f=>{let[m,p]=f;this.query(m,Oe.BLOCK&Oe.BLOT)!=null?r=m:a[m]=p});const l=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(l,t||void 0);const u=l.length();return Object.entries(a).forEach(f=>{let[m,p]=f;l.formatAt(0,u,m,p)}),l}}function Yg(n,e,t){t.reduce((r,a)=>{const l=Ni.Op.length(a);let u=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const f=a.insert;n.insertAt(r,f);const[m]=n.descendant(or,r),p=wi(m);u=Ni.AttributeMap.diff(p,u)||{}}else if(typeof a.insert=="object"){const f=Object.keys(a.insert)[0];if(f==null)return r;if(n.insertAt(r,f,a.insert[f]),n.scroll.query(f,Oe.INLINE)!=null){const[p]=n.descendant(or,r),v=wi(p);u=Ni.AttributeMap.diff(v,u)||{}}}}return Object.keys(u).forEach(f=>{n.formatAt(r,l,f,u[f])}),r+l},e)}const av={scope:Oe.BLOCK,whitelist:["right","center","justify"]},L8=new Rs("align","align",av),l2=new ts("align","ql-align",av),c2=new Lo("align","text-align",av);class u2 extends Lo{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):t}}const k8=new ts("color","ql-color",{scope:Oe.INLINE}),ov=new u2("color","color",{scope:Oe.INLINE}),M8=new ts("background","ql-bg",{scope:Oe.INLINE}),lv=new u2("background","background-color",{scope:Oe.INLINE});class Tl extends El{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${_m(this.code(e,t))}
</pre>`}}class br extends Kn{static TAB="  ";static register(){ae.register(Tl)}}class cv extends vr{}cv.blotName="code";cv.tagName="CODE";br.blotName="code-block";br.className="ql-code-block";br.tagName="DIV";Tl.blotName="code-block-container";Tl.className="ql-code-block-container";Tl.tagName="DIV";Tl.allowedChildren=[br];br.allowedChildren=[es,ns,Ki];br.requiredContainer=Tl;const uv={scope:Oe.BLOCK,whitelist:["rtl"]},h2=new Rs("direction","dir",uv),f2=new ts("direction","ql-direction",uv),d2=new Lo("direction","direction",uv),m2={scope:Oe.INLINE,whitelist:["serif","monospace"]},p2=new ts("font","ql-font",m2);class j8 extends Lo{value(e){return super.value(e).replace(/["']/g,"")}}const g2=new j8("font","font-family",m2),y2=new ts("size","ql-size",{scope:Oe.INLINE,whitelist:["small","large","huge"]}),v2=new Lo("size","font-size",{scope:Oe.INLINE,whitelist:["10px","18px","32px"]}),P8=Sa("quill:keyboard"),V8=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Em extends Os{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=q8(e);if(a==null){P8.warn("Attempted to add invalid keyboard binding",a);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(a.key)?a.key:[a.key]).forEach(u=>{const f={...a,key:u,...t,...r};this.bindings[f.key]=this.bindings[f.key]||[],this.bindings[f.key].push(f)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(q=>Em.match(e,q));if(a.length===0)return;const l=ae.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;const[f,m]=this.quill.getLine(u.index),[p,v]=this.quill.getLeaf(u.index),[T,w]=u.length===0?[p,v]:this.quill.getLeaf(u.index+u.length),N=p instanceof Vd?p.value().slice(0,v):"",O=T instanceof Vd?T.value().slice(w):"",D={collapsed:u.length===0,empty:u.length===0&&f.length()<=1,format:this.quill.getFormat(u),line:f,offset:m,prefix:N,suffix:O,event:e};a.some(q=>{if(q.collapsed!=null&&q.collapsed!==D.collapsed||q.empty!=null&&q.empty!==D.empty||q.offset!=null&&q.offset!==D.offset)return!1;if(Array.isArray(q.format)){if(q.format.every($=>D.format[$]==null))return!1}else if(typeof q.format=="object"&&!Object.keys(q.format).every($=>q.format[$]===!0?D.format[$]!=null:q.format[$]===!1?D.format[$]==null:oo(q.format[$],D.format[$])))return!1;return q.prefix!=null&&!q.prefix.test(D.prefix)||q.suffix!=null&&!q.suffix.test(D.suffix)?!1:q.handler.call(this,u,D,q)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[l]=this.quill.getLine(e.index);let u=new Re().retain(e.index-r).delete(r);if(t.offset===0){const[f]=this.quill.getLine(e.index-1);if(f&&!(f.statics.blotName==="block"&&f.length()<=1)){const p=l.formats(),v=this.quill.getFormat(e.index-1,1);if(a=Ni.AttributeMap.diff(p,v)||{},Object.keys(a).length>0){const T=new Re().retain(e.index+l.length()-2).retain(1,a);u=u.compose(T)}}}this.quill.updateContents(u,ae.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let a={};const[l]=this.quill.getLine(e.index);let u=new Re().retain(e.index).delete(r);if(t.offset>=l.length()-1){const[f]=this.quill.getLine(e.index+1);if(f){const m=l.formats(),p=this.quill.getFormat(e.index,1);a=Ni.AttributeMap.diff(m,p)||{},Object.keys(a).length>0&&(u=u.retain(f.length()-1).retain(1,a))}}this.quill.updateContents(u,ae.sources.USER),this.quill.focus()}handleDeleteRange(e){hv({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((l,u)=>(this.quill.scroll.query(u,Oe.BLOCK)&&!Array.isArray(t.format[u])&&(l[u]=t.format[u]),l),{}),a=new Re().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(e.index+1,ae.sources.SILENT),this.quill.focus()}}const U8={bindings:{bold:Xg("bold"),italic:Xg("italic"),underline:Xg("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",ae.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",ae.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",ae.sources.USER):e.format.list!=null&&this.quill.format("list",!1,ae.sources.USER)}},"indent code-block":Ew(!0),"outdent code-block":Ew(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,ae.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Re().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,ae.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ae.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,ae.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},a=new Re().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),a=new Re().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,a,l]=e.getTable(n),u=B8(t,r,a,l);if(u==null)return;let f=t.offset();if(u<0){const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(n.index+1,n.length,ae.sources.SILENT)}else if(u>0){f+=t.length();const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(f,ae.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,a=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(a-1,ae.sources.USER):this.quill.setSelection(a+r.length(),ae.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,a]=this.quill.getLine(n.index);if(a>t)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",ae.sources.USER),this.quill.history.cutoff();const u=new Re().retain(n.index-a).delete(t+1).retain(r.length()-2-a).retain(1,{list:l});return this.quill.updateContents(u,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,ae.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,r-=1,r<=0){const l=new Re().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,ae.sources.USER),this.quill.setSelection(n.index-1,ae.sources.SILENT),!1}return!0}},"embed left":td("ArrowLeft",!1),"embed left shift":td("ArrowLeft",!0),"embed right":td("ArrowRight",!1),"embed right shift":td("ArrowRight",!0),"table down":Tw(!1),"table up":Tw(!0)}};Em.DEFAULTS=U8;function Ew(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const a=this.quill.scroll.query("code-block"),{TAB:l}=a;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,l,ae.sources.USER),this.quill.setSelection(e.index+l.length,ae.sources.SILENT);return}const u=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:f,length:m}=e;u.forEach((p,v)=>{n?(p.insertAt(0,l),v===0?f+=l.length:m+=l.length):p.domNode.textContent.startsWith(l)&&(p.deleteAt(0,l.length),v===0?f-=l.length:m-=l.length)}),this.quill.update(ae.sources.USER),this.quill.setSelection(f,m,ae.sources.SILENT)}}}function td(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:a}=r;n==="ArrowRight"&&(a+=r.length+1);const[l]=this.quill.getLeaf(a);return l instanceof ii?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,ae.sources.USER):this.quill.setSelection(r.index-1,ae.sources.USER):e?this.quill.setSelection(r.index,r.length+1,ae.sources.USER):this.quill.setSelection(r.index+r.length+1,ae.sources.USER),!1):!0}}}function Xg(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],ae.sources.USER)}}}function Tw(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",a=t.line,l=a.parent[r];if(l!=null){if(l.statics.blotName==="table-row"){let u=l.children.head,f=a;for(;f.prev!=null;)f=f.prev,u=u.next;const m=u.offset(this.quill.scroll)+Math.min(t.offset,u.length()-1);this.quill.setSelection(m,0,ae.sources.USER)}}else{const u=a.table()[r];u!=null&&(n?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,ae.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,ae.sources.USER))}return!1}}}function q8(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=mc(n);else return null;return n.shortKey&&(n[V8]=n.shortKey,delete n.shortKey),n}function hv(n){let{quill:e,range:t}=n;const r=e.getLines(t);let a={};if(r.length>1){const l=r[0].formats(),u=r[r.length-1].formats();a=Ni.AttributeMap.diff(u,l)||{}}e.deleteText(t,ae.sources.USER),Object.keys(a).length>0&&e.formatLine(t.index,1,a,ae.sources.USER),e.setSelection(t.index,ae.sources.SILENT)}function B8(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const z8=/font-weight:\s*normal/,H8=["P","OL","UL"],ww=n=>n&&H8.includes(n.tagName),F8=n=>{Array.from(n.querySelectorAll("br")).filter(e=>ww(e.previousElementSibling)&&ww(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},G8=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(z8)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function $8(n){n.querySelector('[id^="docs-internal-guid-"]')&&(G8(n),F8(n))}const K8=/\bmso-list:[^;]*ignore/i,Q8=/\bmso-list:[^;]*\bl(\d+)/i,Y8=/\bmso-list:[^;]*\blevel(\d+)/i,X8=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(Q8);if(!r)return null;const a=Number(r[1]),l=t?.match(Y8),u=l?Number(l[1]):1,f=new RegExp(`@list l${a}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),m=e.match(f),p=m&&m[1]==="bullet"?"bullet":"ordered";return{id:a,indent:u,type:p,element:n}},W8=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(u=>{(u.getAttribute("style")||"").match(K8)?t.push(u):r.push(u)}),t.forEach(u=>u.parentNode?.removeChild(u));const a=n.documentElement.innerHTML,l=r.map(u=>X8(u,a)).filter(u=>u);for(;l.length;){const u=[];let f=l.shift();for(;f;)u.push(f),f=l.length&&l[0]?.element===f.element.nextElementSibling&&l[0].id===f.id?l.shift():null;const m=document.createElement("ul");u.forEach(T=>{const w=document.createElement("li");w.setAttribute("data-list",T.type),T.indent>1&&w.setAttribute("class",`ql-indent-${T.indent-1}`),w.innerHTML=T.element.innerHTML,m.appendChild(w)});const p=u[0]?.element,{parentNode:v}=p??{};p&&v?.replaceChild(m,p),u.slice(1).forEach(T=>{let{element:w}=T;v?.removeChild(w)})}};function Z8(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&W8(n)}const J8=[Z8,$8],e7=n=>{n.documentElement&&J8.forEach(e=>{e(n)})},t7=Sa("quill:clipboard"),n7=[[Node.TEXT_NODE,p7],[Node.TEXT_NODE,Aw],["br",l7],[Node.ELEMENT_NODE,Aw],[Node.ELEMENT_NODE,o7],[Node.ELEMENT_NODE,a7],[Node.ELEMENT_NODE,d7],["li",h7],["ol, ul",f7],["pre",c7],["tr",m7],["b",Wg("bold")],["i",Wg("italic")],["strike",Wg("strike")],["style",u7]],r7=[L8,h2].reduce((n,e)=>(n[e.keyName]=e,n),{}),xw=[c2,lv,ov,d2,g2,v2].reduce((n,e)=>(n[e.keyName]=e,n),{});class i7 extends Os{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],n7.concat(this.options.matchers??[]).forEach(r=>{let[a,l]=r;this.addMatcher(a,l)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[br.blotName])return new Re().insert(r||"",{[br.blotName]:a[br.blotName]});if(!t)return new Re().insert(r||"",a);const l=this.convertHTML(t);return wh(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||a.table)?l.compose(new Re().retain(l.length()-1).delete(1)):l}normalizeHTML(e){e7(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,a=new WeakMap,[l,u]=this.prepareMatching(r,a);return fv(this.quill.scroll,r,l,u,a)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ae.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,t),this.quill.setSelection(0,ae.sources.SILENT)}else{const a=this.convert({html:t,text:""});this.quill.updateContents(new Re().retain(e).concat(a),r),this.quill.setSelection(e+a.length(),ae.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:a,text:l}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",l),e.clipboardData?.setData("text/html",a),t&&hv({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let a=e.clipboardData?.getData("text/plain");if(!r&&!a){const u=e.clipboardData?.getData("text/uri-list");u&&(a=this.normalizeURIList(u))}const l=Array.from(e.clipboardData?.files||[]);if(!r&&l.length>0){this.quill.uploader.upload(t,l);return}if(r&&l.length>0){const u=new DOMParser().parseFromString(r,"text/html");if(u.body.childElementCount===1&&u.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,l);return}}this.onPaste(t,{html:r,text:a})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:a}=t;const l=this.quill.getFormat(e.index),u=this.convert({text:r,html:a},l);t7.log("onPaste",u,{text:r,html:a});const f=new Re().retain(e.index).delete(e.length).concat(u);this.quill.updateContents(f,ae.sources.USER),this.quill.setSelection(f.length()-e.length,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],a=[];return this.matchers.forEach(l=>{const[u,f]=l;switch(u){case Node.TEXT_NODE:a.push(f);break;case Node.ELEMENT_NODE:r.push(f);break;default:Array.from(e.querySelectorAll(u)).forEach(m=>{t.has(m)?t.get(m)?.push(f):t.set(m,[f])});break}}),[r,a]}}function wl(n,e,t,r){return r.query(e)?n.reduce((a,l)=>{if(!l.insert)return a;if(l.attributes&&l.attributes[e])return a.push(l);const u=t?{[e]:t}:{};return a.insert(l.insert,{...u,...l.attributes})},new Re):n}function wh(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const a=n.ops[r];if(typeof a.insert!="string")break;t=a.insert+t}return t.slice(-1*e.length)===e}function uo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof ii?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function s7(n,e){return n.previousElementSibling&&n.nextElementSibling&&!uo(n.previousElementSibling,e)&&!uo(n.nextElementSibling,e)}const nd=new WeakMap;function b2(n){return n==null?!1:(nd.has(n)||(n.tagName==="PRE"?nd.set(n,!0):nd.set(n,b2(n.parentNode))),nd.get(n))}function fv(n,e,t,r,a){return e.nodeType===e.TEXT_NODE?r.reduce((l,u)=>u(e,l,n),new Re):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,u)=>{let f=fv(n,u,t,r,a);return u.nodeType===e.ELEMENT_NODE&&(f=t.reduce((m,p)=>p(u,m,n),f),f=(a.get(u)||[]).reduce((m,p)=>p(u,m,n),f)),l.concat(f)},new Re):new Re}function Wg(n){return(e,t,r)=>wl(t,n,!0,r)}function a7(n,e,t){const r=Rs.keys(n),a=ts.keys(n),l=Lo.keys(n),u={};return r.concat(a).concat(l).forEach(f=>{let m=t.query(f,Oe.ATTRIBUTE);m!=null&&(u[m.attrName]=m.value(n),u[m.attrName])||(m=r7[f],m!=null&&(m.attrName===f||m.keyName===f)&&(u[m.attrName]=m.value(n)||void 0),m=xw[f],m!=null&&(m.attrName===f||m.keyName===f)&&(m=xw[f],u[m.attrName]=m.value(n)||void 0))}),Object.entries(u).reduce((f,m)=>{let[p,v]=m;return wl(f,p,v,t)},e)}function o7(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof ii){const a={},l=r.value(n);if(l!=null)return a[r.blotName]=l,new Re().insert(a,r.formats(n,t))}else if(r.prototype instanceof sh&&!wh(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return wl(e,r.blotName,r.formats(n,t),t);return e}function l7(n,e){return wh(e,`
`)||e.insert(`
`),e}function c7(n,e,t){const r=t.query("code-block"),a=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return wl(e,"code-block",a,t)}function u7(){return new Re}function h7(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!wh(e,`
`))return e;let a=-1,l=n.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(a+=1),l=l.parentNode;return a<=0?e:e.reduce((u,f)=>f.insert?f.attributes&&typeof f.attributes.indent=="number"?u.push(f):u.insert(f.insert,{indent:a,...f.attributes||{}}):u,new Re)}function f7(n,e,t){const r=n;let a=r.tagName==="OL"?"ordered":"bullet";const l=r.getAttribute("data-checked");return l&&(a=l==="true"?"checked":"unchecked"),wl(e,"list",a,t)}function Aw(n,e,t){if(!wh(e,`
`)){if(uo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(uo(r,t))return e.insert(`
`);const a=t.query(r);if(a&&a.prototype instanceof Si)return e.insert(`
`);r=r.firstChild}}}return e}function d7(n,e,t){const r={},a=n.style||{};return a.fontStyle==="italic"&&(r.italic=!0),a.textDecoration==="underline"&&(r.underline=!0),a.textDecoration==="line-through"&&(r.strike=!0),(a.fontWeight?.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,u)=>{let[f,m]=u;return wl(l,f,m,t)},e),parseFloat(a.textIndent||0)>0?new Re().insert("	").concat(e):e}function m7(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return wl(e,"table",l,t)}return e}function p7(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!b2(n)){if(r.trim().length===0&&r.includes(`
`)&&!s7(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&uo(n.parentElement,t)||n.previousSibling instanceof Element&&uo(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&uo(n.parentElement,t)||n.nextSibling instanceof Element&&uo(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class g7 extends Os{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(ae.events.EDITOR_CHANGE,(r,a,l,u)=>{r===ae.events.SELECTION_CHANGE?a&&u!==ae.sources.SILENT&&(this.currentRange=a):r===ae.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||u===ae.sources.USER?this.record(a,l):this.transform(a)),this.currentRange=Hy(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const a=this.quill.getContents(),l=r.delta.invert(a);this.stack[t].push({delta:l,range:Hy(r.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,ae.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),a=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const u=this.stack.undo.pop();u&&(r=r.compose(u.delta),a=u.range)}else this.lastRecorded=l;r.length()!==0&&(this.stack.undo.push({delta:r,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Sw(this.stack.undo,e),Sw(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,ae.sources.USER);else{const t=v7(this.quill.scroll,e.delta);this.quill.setSelection(t,ae.sources.USER)}}}function Sw(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const a=n[r];n[r]={delta:t.transform(a.delta,!0),range:a.range&&Hy(a.range,t)},t=a.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function y7(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Oe.BLOCK)!=null):!1}function v7(n,e){const t=e.reduce((a,l)=>a+(l.delete||0),0);let r=e.length()-t;return y7(n,e)&&(r-=1),r}function Hy(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class _2 extends Os{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const u=document.caretPositionFromPoint(r.clientX,r.clientY);a=document.createRange(),a.setStart(u.offsetNode,u.offset),a.setEnd(u.offsetNode,u.offset)}const l=a&&e.selection.normalizeNative(a);if(l){const u=e.selection.normalizedToRange(l);r.dataTransfer?.files&&this.upload(u,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(a=>{a&&this.options.mimetypes?.includes(a.type)&&r.push(a)}),r.length>0&&this.options.handler.call(this,e,r)}}_2.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(a=>{const l=new FileReader;l.onload=()=>{a(l.result)},l.readAsDataURL(r)}));Promise.all(t).then(r=>{const a=r.reduce((l,u)=>l.insert({image:u}),new Re().retain(n.index).delete(n.length));this.quill.updateContents(a,Ne.sources.USER),this.quill.setSelection(n.index+r.length,Ne.sources.SILENT)})}};const b7=["insertText","insertReplacementText"];class _7 extends Os{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(ae.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){hv({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Re().retain(e.index).insert(t,r),ae.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,ae.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!b7.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=E7(e);if(r==null)return;const a=this.quill.selection.normalizeNative(t),l=a?this.quill.selection.normalizedToRange(a):null;l&&this.replaceText(l,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function E7(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const T7=/Mac/i.test(navigator.platform),w7=100,x7=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||T7&&n.key==="a"&&n.ctrlKey===!0);class A7 extends Os{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:a}=t;if(!(r instanceof Zi)||!r.uiNode)return!0;const l=getComputedStyle(r.domNode).direction==="rtl";return l&&a.key!=="ArrowRight"||!l&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),ae.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&x7(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+w7,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof Zi)||!r.uiNode)return;const a=document.createRange();a.setStartAfter(r.uiNode),a.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(a)}}ae.register({"blots/block":Kn,"blots/block/embed":Si,"blots/break":ns,"blots/container":El,"blots/cursor":Ki,"blots/embed":sv,"blots/inline":vr,"blots/scroll":D8,"blots/text":es,"modules/clipboard":i7,"modules/history":g7,"modules/keyboard":Em,"modules/uploader":_2,"modules/input":_7,"modules/uiNode":A7});class S7 extends ts{add(e,t){let r=0;if(t==="+1"||t==="-1"){const a=this.value(e)||0;r=t==="+1"?a+1:a-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const N7=new S7("indent","ql-indent",{scope:Oe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class C7 extends Kn{static blotName="blockquote";static tagName="blockquote"}class R7 extends Kn{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class xh extends El{}xh.blotName="list-container";xh.tagName="OL";class Ah extends Kn{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){ae.register(xh)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),a=l=>{if(!e.isEnabled())return;const u=this.statics.formats(t,e);u==="checked"?(this.format("list","unchecked"),l.preventDefault()):u==="unchecked"&&(this.format("list","checked"),l.preventDefault())};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Ah.blotName="list";Ah.tagName="LI";xh.allowedChildren=[Ah];Ah.requiredContainer=xh;class dv extends vr{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class I7 extends dv{static blotName="italic";static tagName=["EM","I"]}class Ud extends vr{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return E2(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function E2(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class O7 extends vr{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class D7 extends dv{static blotName="strike";static tagName=["S","STRIKE"]}class L7 extends vr{static blotName="underline";static tagName="U"}class k7 extends sv{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const Nw=["alt","height","width"];let M7=class extends ii{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Nw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return E2(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Nw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}};const Cw=["height","width"];class j7 extends Si{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Cw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Ud.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Cw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const ju=new ts("code-token","hljs",{scope:Oe.INLINE});class _a extends vr{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(br.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),ju.add(this.domNode,r)}format(e,t){e!==_a.blotName?super.format(e,t):t?ju.add(this.domNode,t):(ju.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ju.value(this.domNode)||this.unwrap()}}_a.blotName="code-token";_a.className="ql-token";class xi extends br{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),_a.blotName,!1),super.replaceWith(e,t)}}class Fu extends Tl{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===xi.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,a){r===xi.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,a)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,l=xi.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const u=this.children.reduce((m,p)=>m.concat(a2(p,!1)),new Re),f=e(a,l);u.diff(f).reduce((m,p)=>{let{retain:v,attributes:T}=p;return v?(T&&Object.keys(T).forEach(w=>{[xi.blotName,_a.blotName].includes(w)&&this.formatAt(m,v,w,T[w])}),m+v):m},0)}this.cachedText=a,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?xi.formats(r.domNode):"plain"}">
${_m(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=xi.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Fu.allowedChildren=[xi];xi.requiredContainer=Fu;xi.allowedChildren=[_a,Ki,es,ns];const P7=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class T2 extends Os{static register(){ae.register(_a,!0),ae.register(xi,!0),ae.register(Fu,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,a)=>{let{key:l}=a;return r[l]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ae.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Fu))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:a,label:l}=r;const u=t.ownerDocument.createElement("option");u.textContent=l,u.setAttribute("value",a),t.appendChild(u)}),t.addEventListener("change",()=>{e.format(xi.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=xi.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(ae.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ae.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Fu):[e]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(ae.sources.SILENT),r!=null&&this.quill.setSelection(r,ae.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return _m(e).split(`
`).reduce((a,l,u)=>(u!==0&&a.insert(`
`,{[br.blotName]:t}),a.insert(l)),new Re);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(br.className),r.innerHTML=P7(this.options.hljs,t,e),fv(this.quill.scroll,r,[(a,l)=>{const u=ju.value(a);return u?l.compose(new Re().retain(l.length(),{[_a.blotName]:u})):l}],[(a,l)=>a.data.split(`
`).reduce((u,f,m)=>(m!==0&&u.insert(`
`,{[br.blotName]:t}),u.insert(f)),l)],new WeakMap)}}T2.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Qi extends Kn{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",mv()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Qi.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class hl extends El{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),a=t.next.formats();if(r.table!==a.table){const l=this.splitAfter(t);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class vo extends El{static blotName="table-body";static tagName="TBODY"}class qd extends El{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(hl),t=e.reduce((r,a)=>Math.max(a.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let a;r.children.head!=null&&(a=Qi.formats(r.children.head.domNode));const l=this.scroll.create(Qi.blotName,a);r.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(vo);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e);a?.remove()})}insertColumn(e){const[t]=this.descendant(vo);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e),l=Qi.formats(r.children.head.domNode),u=this.scroll.create(Qi.blotName,l);r.insertBefore(u,a)})}insertRow(e){const[t]=this.descendant(vo);if(t==null||t.children.head==null)return;const r=mv(),a=this.scroll.create(hl.blotName);t.children.head.children.forEach(()=>{const u=this.scroll.create(Qi.blotName,r);a.appendChild(u)});const l=t.children.at(e);t.insertBefore(a,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}qd.allowedChildren=[vo];vo.requiredContainer=qd;vo.allowedChildren=[hl];hl.requiredContainer=vo;hl.allowedChildren=[Qi];Qi.requiredContainer=hl;function mv(){return`row-${Math.random().toString(36).slice(2,6)}`}class V7 extends Os{static register(){ae.register(Qi),ae.register(hl),ae.register(vo),ae.register(qd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(qd).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(ae.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(ae.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(ae.sources.USER),this.quill.setSelection(t,ae.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Qi.blotName)return[null,null,null,-1];const a=t.parent;return[a.parent.parent,a,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const u=l.cellOffset();r.insertColumn(u+e),this.quill.update(ae.sources.USER);let f=a.rowOffset();e===0&&(f+=1),this.quill.setSelection(t.index+f,t.length,ae.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const u=a.rowOffset();r.insertRow(u+e),this.quill.update(ae.sources.USER),e>0?this.quill.setSelection(t,ae.sources.SILENT):this.quill.setSelection(t.index+a.children.length,t.length,ae.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const a=new Array(e).fill(0).reduce(l=>{const u=new Array(t).fill(`
`).join("");return l.insert(u,{table:mv()})},new Re().retain(r.index));this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(r.index,ae.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ae.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(ae.events.TEXT_CHANGE,(r,a,l)=>{l===ae.sources.USER&&this.balanceTables()}),!0):!1)})}}const Rw=Sa("quill:toolbar");class pv extends Os{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),U7(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Rw.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const a=this.options.handlers?.[r];a&&this.addHandler(r,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(ae.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Rw.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,a=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const f=e.options[e.selectedIndex];f.hasAttribute("selected")?l=!1:l=f.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,l);else if(this.quill.scroll.query(t).prototype instanceof ii){if(l=prompt(`Enter ${t}`),!l)return;this.quill.updateContents(new Re().retain(u.index).delete(u.length).insert({[t]:l}),ae.sources.USER)}else this.quill.format(t,l,ae.sources.USER);this.update(u)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[a,l]=r;if(l.tagName==="SELECT"){let u=null;if(e==null)u=null;else if(t[a]==null)u=l.querySelector("option[selected]");else if(!Array.isArray(t[a])){let f=t[a];typeof f=="string"&&(f=f.replace(/"/g,'\\"')),u=l.querySelector(`option[value="${f}"]`)}u==null?(l.value="",l.selectedIndex=-1):u.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const u=t[a],f=u===l.getAttribute("value")||u!=null&&u.toString()===l.getAttribute("value")||u==null&&!l.getAttribute("value");l.classList.toggle("ql-active",f),l.setAttribute("aria-pressed",f.toString())}else{const u=t[a]!=null;l.classList.toggle("ql-active",u),l.setAttribute("aria-pressed",u.toString())}})}}pv.DEFAULTS={};function Iw(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function U7(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(a=>{if(typeof a=="string")Iw(r,a);else{const l=Object.keys(a)[0],u=a[l];Array.isArray(u)?q7(r,l,u):Iw(r,l,u)}}),n.appendChild(r)})}function q7(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(a=>{const l=document.createElement("option");a!==!1?l.setAttribute("value",String(a)):l.setAttribute("selected","selected"),r.appendChild(l)}),n.appendChild(r)}pv.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Oe.INLINE)!=null&&this.quill.format(t,!1,ae.sources.USER)})}else this.quill.removeFormat(n.index,n.length,ae.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",ae.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,ae.sources.USER),this.quill.format("direction",n,ae.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let a=n==="+1"?1:-1;t.direction==="rtl"&&(a*=-1),this.quill.format("indent",r+a,ae.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,ae.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,ae.sources.USER):this.quill.format("list","unchecked",ae.sources.USER):this.quill.format("list",n,ae.sources.USER)}}};const B7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',z7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',H7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',F7='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',G7='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',$7='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',K7='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Q7='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Ow='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Y7='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',X7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',W7='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Z7='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',J7='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',eP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',tP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',nP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',rP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',iP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',sP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',aP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',oP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',lP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',cP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',uP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',hP='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',fP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',dP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',mP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',pP='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',gP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',yP='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',vP='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',oh={align:{"":B7,center:z7,right:H7,justify:F7},background:G7,blockquote:$7,bold:K7,clean:Q7,code:Ow,"code-block":Ow,color:Y7,direction:{"":X7,rtl:W7},formula:Z7,header:{1:J7,2:eP,3:tP,4:nP,5:rP,6:iP},italic:sP,image:aP,indent:{"+1":oP,"-1":lP},link:cP,list:{bullet:uP,check:hP,ordered:fP},script:{sub:dP,super:mP},strike:pP,table:gP,underline:yP,video:vP},bP='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Dw=0;function Lw(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Tm{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Lw(this.label,"aria-expanded"),Lw(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(t,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=bP,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Dw}`,Dw+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class w2 extends Tm{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=a:r.style.fill=a)}}class x2 extends Tm{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const _P=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class A2{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,_P(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let u=0;if(l.right>a.right&&(u=a.right-l.right,this.root.style.left=`${t+u}px`),l.left<a.left&&(u=a.left-l.left,this.root.style.left=`${t+u}px`),l.bottom>a.bottom){const f=l.bottom-l.top,m=e.bottom-e.top+f;this.root.style.top=`${r-m}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const EP=[!1,"center","right","justify"],TP=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],wP=[!1,"serif","monospace"],xP=["1","2","3",!1],AP=["small",!1,"large","huge"];class Sh extends Uc{constructor(e,t){super(e,t);const r=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(a.target)||l.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),t[l]!=null))if(l==="direction")r.innerHTML=t[l][""]+t[l].rtl;else if(typeof t[l]=="string")r.innerHTML=t[l];else{const u=r.value||"";u!=null&&t[l][u]&&(r.innerHTML=t[l][u])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Nu(a,EP),typeof t.align=="object"))return new x2(a,t.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const l=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Nu(a,TP,l==="background"?"#ffffff":"#000000"),new w2(a,t[l])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Nu(a,wP):a.classList.contains("ql-header")?Nu(a,xP):a.classList.contains("ql-size")&&Nu(a,AP)),new Tm(a)});const r=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ne.events.EDITOR_CHANGE,r)}}Sh.DEFAULTS=yo({},Uc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class S2 extends A2{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ne.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ne.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=SP(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ne.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ne.sources.USER),this.quill.setSelection(r+2,Ne.sources.USER)}break}}this.textbox.value="",this.hide()}}function SP(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Nu(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const a=document.createElement("option");r===t?a.setAttribute("selected","selected"):a.setAttribute("value",String(r)),n.appendChild(a)})}const NP=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class CP extends S2{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Ne.events.EDITOR_CHANGE,(r,a,l,u)=>{if(r===Ne.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&u===Ne.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const f=this.quill.getLines(a.index,a.length);if(f.length===1){const m=this.quill.getBounds(a);m!=null&&this.position(m)}else{const m=f[f.length-1],p=this.quill.getIndex(m),v=Math.min(m.length()-1,a.index+a.length-p),T=this.quill.getBounds(new ul(p,v));T!=null&&this.position(T)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ne.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class N2 extends Sh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=NP),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new CP(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),oh),this.buildPickers(e.container.querySelectorAll("select"),oh))}}N2.DEFAULTS=yo({},Sh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ae.sources.USER)}}}}});const RP=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class IP extends S2{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Ne.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Ne.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===Ne.sources.USER){const[a,l]=this.quill.scroll.descendant(Ud,e.index);if(a!=null){this.linkRange=new ul(e.index-l,a.length());const u=Ud.formats(a.domNode);this.preview.textContent=u,this.preview.setAttribute("href",u),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class C2 extends Sh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=RP),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),oh),this.buildPickers(e.container.querySelectorAll("select"),oh),this.tooltip=new IP(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}C2.DEFAULTS=yo({},Sh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,ae.sources.USER)}}}}});ae.register({"attributors/attribute/direction":h2,"attributors/class/align":l2,"attributors/class/background":M8,"attributors/class/color":k8,"attributors/class/direction":f2,"attributors/class/font":p2,"attributors/class/size":y2,"attributors/style/align":c2,"attributors/style/background":lv,"attributors/style/color":ov,"attributors/style/direction":d2,"attributors/style/font":g2,"attributors/style/size":v2},!0);ae.register({"formats/align":l2,"formats/direction":f2,"formats/indent":N7,"formats/background":lv,"formats/color":ov,"formats/font":p2,"formats/size":y2,"formats/blockquote":C7,"formats/code-block":br,"formats/header":R7,"formats/list":Ah,"formats/bold":dv,"formats/code":cv,"formats/italic":I7,"formats/link":Ud,"formats/script":O7,"formats/strike":D7,"formats/underline":L7,"formats/formula":k7,"formats/image":M7,"formats/video":j7,"modules/syntax":T2,"modules/table":V7,"modules/toolbar":pv,"themes/bubble":N2,"themes/snow":C2,"ui/icons":oh,"ui/picker":Tm,"ui/icon-picker":x2,"ui/color-picker":w2,"ui/tooltip":A2},!0);class xl extends ys.Component{constructor(e){super(e),this.editingAreaRef=G.createRef(),this.containerRef=G.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,a,l,u)=>{r==="text-change"?this.onEditorChangeText?.(this.editor.root.innerHTML,a,u,this.unprivilegedEditor):r==="selection-change"&&this.onEditorChangeSelection?.(a,u,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(ys.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ys.Children.count(e.children)&&ys.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const r=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,r)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!oo(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!oo(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(r),kw(()=>this.setEditorSelection(l,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const r=this.containerRef.current?.querySelector(".ql-toolbar");r&&r.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const r=new ae(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?oo(e.ops,t.ops):oo(e,t)}setEditorContents(e,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),kw(()=>this.setEditorSelection(e,r))}setEditorSelection(e,t){if(this.selection=t,t){const r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:r}=this.state,a={key:r,ref:this.editingAreaRef};return ys.Children.count(e)?ys.cloneElement(ys.Children.only(e),a):t?ys.createElement("pre",{...a}):ys.createElement("div",{...a})}render(){return ys.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,r,a){if(!this.editor)return;const l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=l,this.props.onChange?.(e,t,r,a))}onEditorChangeSelection(e,t,r){if(!this.editor)return;const a=this.getEditorSelection(),l=!a&&e,u=a&&!e;oo(e,a)||(this.selection=e,this.props.onChangeSelection?.(e,t,r),l?this.props.onFocus?.(e,t,r):u&&this.props.onBlur?.(a,t,r))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}xl.displayName="React Quill";xl.Quill=ae;xl.defaultProps={theme:"snow",modules:{},readOnly:!1};function kw(n){Promise.resolve().then(n)}const OP={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},DP=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],LP=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),[a,l]=G.useState(!1),[u,f]=G.useState(null),[m,p]=G.useState({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""});G.useEffect(()=>{v()},[]);const v=async()=>{r(!0);try{const O=gl(On(Xe,"news"),yl("timestamp","desc")),I=(await Cs(O)).docs.map(q=>({id:q.id,...q.data()}));e(I)}catch(O){console.error("Error fetching news:",O)}finally{r(!1)}},T=async O=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await fm(un(Xe,"news",O)),v()}catch(D){console.error("Error deleting news:",D),alert("Failed to delete news item.")}},w=async O=>{O.preventDefault();try{const D=m.affectedCurrencies.split(",").map(I=>I.trim().toUpperCase()).filter(I=>I);u?await hm(un(Xe,"news",u),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:D,timestamp:Ac()}):await dm(On(Xe,"news"),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:D,timestamp:Ac()}),l(!1),f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}),v()}catch(D){console.error("Error saving news:",D),alert("Failed to save news item.")}},N=O=>{p({title:O.title,impact:O.impact,content:O.content,image:O.image,affectedCurrencies:O.affectedCurrencies?O.affectedCurrencies.join(", "):""}),f(O.id),l(!0)};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage News"}),y.jsx(hn,{onClick:()=>{l(!a),a&&(f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}))},children:a?"Cancel":"Post New Alert"})]}),a&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:u?"Edit Market Update":"New Market Update"}),y.jsxs("form",{onSubmit:w,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:O=>p({...m,title:O.target.value}),placeholder:"e.g., NFP Beats Expectations"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.impact,onChange:O=>p({...m,impact:O.target.value}),children:[y.jsx("option",{value:"Low",children:"Low (Yellow)"}),y.jsx("option",{value:"Medium",children:"Medium (Orange)"}),y.jsx("option",{value:"High",children:"High (Red)"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Content/Summary"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(xl,{theme:"snow",value:m.content,onChange:O=>p({...m,content:O}),modules:OP,formats:DP,className:"h-96 mb-12"})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Optional)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:O=>p({...m,image:O.target.value}),placeholder:"https://..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Affected Currencies (comma separated)"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.affectedCurrencies,onChange:O=>p({...m,affectedCurrencies:O.target.value}),placeholder:"USD, EUR, JPY"})]})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx(hn,{type:"submit",variant:"primary",children:u?"Update News":"Publish News"})})]})]}),y.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[y.jsx("thead",{className:"bg-gray-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Impact"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-800",children:t?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No news posted yet."})}):n.map(O=>y.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.timestamp?.seconds?new Date(O.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:O.title}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${O.impact==="High"?"bg-red-500/20 text-red-400":O.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:O.impact})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>N(O),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),y.jsx("button",{onClick:()=>T(O.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},O.id))})]})})})]})},kP={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},MP=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],jP=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),[a,l]=G.useState(!1),[u,f]=G.useState(null),[m,p]=G.useState({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis",analystName:"",analystImage:"",analystBio:"",twitter:"",linkedin:"",telegram:""}),v=async()=>{try{const D=un(Xe,"settings","profile"),I=await xa(D);if(I.exists()){const q=I.data();p($=>({...$,analystName:q.analystName||"",analystImage:q.analystImage||"",analystBio:q.analystBio||"",twitter:q.twitter||"",linkedin:q.linkedin||"",telegram:q.telegram||""}))}}catch(D){console.error("Error fetching profile:",D)}};G.useEffect(()=>{T()},[]);const T=async()=>{r(!0);try{const D=gl(On(Xe,"analysis"),yl("timestamp","desc")),q=(await Cs(D)).docs.map($=>({id:$.id,...$.data()}));e(q)}catch(D){console.error("Error fetching analysis:",D)}finally{r(!1)}},w=async D=>{if(window.confirm("Are you sure you want to delete this analysis?"))try{await fm(un(Xe,"analysis",D)),T()}catch(I){console.error("Error deleting post:",I),alert("Failed to delete post.")}},N=async D=>{D.preventDefault();try{u?await hm(un(Xe,"analysis",u),{...m,timestamp:Ac()}):await dm(On(Xe,"analysis"),{...m,timestamp:Ac()}),l(!1),f(null),f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis",analystName:"",analystImage:"",analystBio:"",twitter:"",linkedin:"",telegram:""}),T()}catch(I){console.error("Error saving post:",I),alert("Failed to save analysis.")}},O=D=>{p({title:D.title,pair:D.pair,direction:D.direction,content:D.content,direction:D.direction,content:D.content,image:D.image,analysisType:D.analysisType||"Technical Analysis",analystName:D.analystName||"",analystImage:D.analystImage||"",analystBio:D.analystBio||"",twitter:D.twitter||"",linkedin:D.linkedin||"",telegram:D.telegram||""}),f(D.id),l(!0)};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Analysis"}),y.jsx(hn,{onClick:()=>{l(!a),a&&(f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:"",analysisType:"Technical Analysis",analystName:"",analystImage:"",analystBio:"",twitter:"",linkedin:"",telegram:""}),v())},children:a?"Cancel":"New Analysis"})]}),a&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:u?"Edit Analysis":"Post Technical Breakdown"}),y.jsxs("form",{onSubmit:N,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Pair / Asset"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none uppercase",value:m.pair,onChange:D=>p({...m,pair:D.target.value}),placeholder:"e.g. GBP/JPY"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Direction"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.direction,onChange:D=>p({...m,direction:D.target.value}),children:[y.jsx("option",{value:"Neutral",children:"Neutral (Gray)"}),y.jsx("option",{value:"Bullish",children:"Bullish (Green)"}),y.jsx("option",{value:"Bearish",children:"Bearish (Red)"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Type"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.analysisType,onChange:D=>p({...m,analysisType:D.target.value}),children:[y.jsx("option",{value:"Technical Analysis",children:"Technical Analysis"}),y.jsx("option",{value:"Fundamental Analysis",children:"Fundamental Analysis"}),y.jsx("option",{value:"Sentiment Analysis",children:"Sentiment Analysis"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 border-t border-gray-800 pt-4 mt-4",children:[y.jsx("div",{className:"md:col-span-3",children:y.jsx("h3",{className:"text-white font-semibold mb-2",children:"Analyst Details"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analyst Name"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.analystName,onChange:D=>p({...m,analystName:D.target.value}),placeholder:"e.g. John Doe"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analyst Image (URL)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.analystImage,onChange:D=>p({...m,analystImage:D.target.value}),placeholder:"https://..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analyst Bio"}),y.jsx("textarea",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none h-[42px] min-h-[42px] resize-none overflow-hidden hover:overflow-y-auto focus:h-24 transition-all",value:m.analystBio,onChange:D=>p({...m,analystBio:D.target.value}),placeholder:"Short bio..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Twitter"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.twitter,onChange:D=>p({...m,twitter:D.target.value}),placeholder:"https://"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"LinkedIn"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.linkedin,onChange:D=>p({...m,linkedin:D.target.value}),placeholder:"https://"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telegram"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.telegram,onChange:D=>p({...m,telegram:D.target.value}),placeholder:"https://"})]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Chart)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:D=>p({...m,image:D.target.value}),placeholder:"https://..."})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:D=>p({...m,title:D.target.value}),placeholder:"e.g. Double Top formation on 4H"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Content"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(xl,{theme:"snow",value:m.content,onChange:D=>p({...m,content:D}),modules:kP,formats:MP,className:"h-96 mb-12"})})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsx(hn,{type:"submit",variant:"primary",children:u?"Update Analysis":"Post Analysis"})})]})]}),y.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[y.jsx("thead",{className:"bg-gray-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pair"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Direction"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-800",children:t?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"No analysis posted yet."})}):n.map(D=>y.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.timestamp?.seconds?new Date(D.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-bold",children:D.pair}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${D.direction==="Bullish"?"bg-green-500/20 text-green-400":D.direction==="Bearish"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-300"}`,children:D.direction})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white max-w-xs truncate",children:D.title}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>O(D),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),y.jsx("button",{onClick:()=>w(D.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},D.id))})]})})})]})},R2={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},I2=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],PP=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(null),[a,l]=G.useState(!0),[u,f]=G.useState(!1),[m,p]=G.useState(null),[v,T]=G.useState({title:"",description:"",image:"",level:"Beginner"});G.useEffect(()=>{w()},[]);const w=async()=>{l(!0);try{const I=gl(On(Xe,"courses"),yl("order","asc")),$=(await Cs(I)).docs.map(ne=>({id:ne.id,...ne.data()}));e($)}catch(I){console.error("Error fetching courses:",I);const q=await Cs(On(Xe,"courses"));e(q.docs.map($=>({id:$.id,...$.data()})))}finally{l(!1)}},N=async I=>{I.preventDefault();try{m?await hm(un(Xe,"courses",m),{...v}):await dm(On(Xe,"courses"),{...v,order:n.length+1,createdAt:Ac()}),f(!1),p(null),T({title:"",description:"",image:"",level:"Beginner"}),w()}catch(q){console.error("Error saving course:",q),alert("Failed to save course")}},O=I=>{T({title:I.title,description:I.description,image:I.image,level:I.level||"Beginner"}),p(I.id),f(!0)},D=async I=>{if(window.confirm("Delete this course? All lessons inside it might become orphaned."))try{await fm(un(Xe,"courses",I)),w(),t?.id===I&&r(null)}catch(q){console.error("Error deleting course:",q),alert("Delete failed")}};return t?y.jsx(VP,{course:t,onBack:()=>r(null)}):y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Courses"}),y.jsx(hn,{onClick:()=>{f(!u),u&&(p(null),T({title:"",description:"",image:"",level:"Beginner"}))},children:u?"Cancel":"New Course"})]}),u&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:m?"Edit Course":"Create New Course"}),y.jsxs("form",{onSubmit:N,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Course Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:v.title,onChange:I=>T({...v,title:I.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Level"}),y.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:v.level,onChange:I=>T({...v,level:I.target.value}),children:[y.jsx("option",{children:"Beginner"}),y.jsx("option",{children:"Intermediate"}),y.jsx("option",{children:"Advanced"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(xl,{theme:"snow",value:v.description,onChange:I=>T({...v,description:I}),modules:R2,formats:I2,className:"h-48 mb-12"})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:v.image,onChange:I=>T({...v,image:I.target.value})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(hn,{type:"submit",variant:"primary",children:m?"Update Course":"Create Course"})})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?y.jsx("div",{className:"text-gray-400",children:"Loading courses..."}):n.map(I=>y.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group hover:border-gray-600 transition-all",children:[y.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[I.image&&y.jsx("img",{src:I.image,alt:I.title,className:"w-full h-full object-cover"}),y.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[y.jsx("button",{onClick:q=>{q.stopPropagation(),O(I)},className:"bg-primary/80 p-1 rounded text-white hover:bg-primary",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),y.jsx("button",{onClick:q=>{q.stopPropagation(),D(I.id)},className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),y.jsxs("div",{className:"p-5",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:I.title}),y.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:I.description}),y.jsx(hn,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r(I),children:"Manage Lessons"})]})]},I.id))})]})},VP=({course:n,onBack:e})=>{const[t,r]=G.useState([]),[a,l]=G.useState(!1),[u,f]=G.useState(null),[m,p]=G.useState({title:"",videoUrl:"",content:"",duration:"10 min"}),[v,T]=G.useState(!0);G.useEffect(()=>{w()},[n]);const w=async()=>{T(!0);try{const I=gl(On(Xe,"courses",n.id,"lessons"),yl("order","asc")),q=await Cs(I);r(q.docs.map($=>({id:$.id,...$.data()})))}catch(I){console.error("Error fetching lessons:",I);const q=await Cs(On(Xe,"courses",n.id,"lessons"));r(q.docs.map($=>({id:$.id,...$.data()})))}finally{T(!1)}},N=async I=>{I.preventDefault();try{u?await hm(un(Xe,"courses",n.id,"lessons",u),{...m}):await dm(On(Xe,"courses",n.id,"lessons"),{...m,order:t.length+1,createdAt:Ac()}),l(!1),f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}),w()}catch(q){console.error("Error saving lesson:",q),alert("Failed to save lesson")}},O=I=>{p({title:I.title,videoUrl:I.videoUrl,content:I.content,duration:I.duration}),f(I.id),l(!0)},D=async I=>{if(window.confirm("Delete this lesson?"))try{await fm(un(Xe,"courses",n.id,"lessons",I)),w()}catch(q){console.error("Error deleting lesson:",q)}};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white flex items-center gap-1",children:[y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),y.jsxs("h1",{className:"text-2xl font-bold text-white",children:[y.jsx("span",{className:"text-gray-500 font-normal",children:"Edit Course:"})," ",n.title]})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-white",children:["Lessons (",t.length,")"]}),y.jsx(hn,{onClick:()=>{l(!a),a&&(f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}))},variant:"secondary",children:a?"Cancel":"Add Lesson"})]}),a&&y.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:y.jsxs("form",{onSubmit:N,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Title"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:I=>p({...m,title:I.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.duration,onChange:I=>p({...m,duration:I.target.value}),placeholder:"e.g. 15 min"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Video Embed URL (YouTube/Vimeo)"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.videoUrl,onChange:I=>p({...m,videoUrl:I.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Content / Notes"}),y.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:y.jsx(xl,{theme:"snow",value:m.content,onChange:I=>p({...m,content:I}),modules:R2,formats:I2,className:"h-72 mb-12"})})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx(hn,{type:"submit",variant:"primary",children:u?"Update Lesson":"Save Lesson"})})]})}),y.jsxs("div",{className:"space-y-3",children:[v?y.jsx("div",{className:"text-gray-400",children:"Loading lessons..."}):t.map((I,q)=>y.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-gray-800 flex justify-between items-center group hover:border-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-gray-400 font-bold text-sm",children:q+1}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-white",children:I.title}),y.jsx("div",{className:"text-xs text-gray-500",children:I.duration})]})]}),y.jsxs("div",{className:"flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>O(I),className:"text-primary hover:text-primary/80 text-sm",children:"Edit"}),y.jsx("button",{onClick:()=>D(I.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]},I.id)),t.length===0&&!v&&y.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:"No lessons yet. Start teaching!"})]})]})},UP=()=>{const[n,e]=G.useState(!0),[t,r]=G.useState(!1),[a,l]=G.useState({analystName:"",analystImage:"",analystBio:"",twitter:"",linkedin:"",telegram:""});G.useEffect(()=>{(async()=>{try{const m=un(Xe,"settings","profile"),p=await xa(m);p.exists()&&l(v=>({...v,...p.data()}))}catch(m){console.error("Error fetching profile:",m)}finally{e(!1)}})()},[]);const u=async f=>{f.preventDefault(),r(!0);try{await Ny(un(Xe,"settings","profile"),a),alert("Profile updated successfully!")}catch(m){console.error("Error saving profile:",m),alert("Failed to save profile.")}finally{r(!1)}};return n?y.jsx("div",{className:"text-white",children:"Loading Profile..."}):y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Analyst Profile Settings"}),y.jsx("div",{className:"bg-surface p-8 rounded-xl border border-gray-800",children:y.jsxs("form",{onSubmit:u,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsx("div",{className:"md:col-span-2",children:y.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Personal Details"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analyst Name"}),y.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:a.analystName,onChange:f=>l({...a,analystName:f.target.value}),placeholder:"e.g. John Doe"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Profile Image URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:a.analystImage,onChange:f=>l({...a,analystImage:f.target.value}),placeholder:"https://..."})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Bio"}),y.jsx("textarea",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none h-32 resize-none",value:a.analystBio,onChange:f=>l({...a,analystBio:f.target.value}),placeholder:"Tell us about yourself..."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-6",children:[y.jsx("div",{className:"md:col-span-3",children:y.jsx("h2",{className:"text-xl font-semibold text-white mb-4 border-b border-gray-800 pb-2",children:"Social Connections"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Twitter (X) URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:a.twitter,onChange:f=>l({...a,twitter:f.target.value}),placeholder:"https://twitter.com/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"LinkedIn URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:a.linkedin,onChange:f=>l({...a,linkedin:f.target.value}),placeholder:"https://linkedin.com/in/..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telegram URL"}),y.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:a.telegram,onChange:f=>l({...a,telegram:f.target.value}),placeholder:"https://t.me/..."})]})]}),y.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-800",children:y.jsx(hn,{type:"submit",variant:"primary",contentClassName:"px-8",children:t?"Saving...":"Save Profile"})})]})})]})},qP=()=>{const{courseId:n}=Yy(),e=Ea(),[t,r]=G.useState(null),[a,l]=G.useState([]),[u,f]=G.useState(null),[m,p]=G.useState(!0),[v,T]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{p(!0);const N=await xa(un(Xe,"courses",n));if(!N.exists()){alert("Course not found"),e("/dashboard");return}r({id:N.id,...N.data()});const O=gl(On(Xe,"courses",n,"lessons"),yl("order","asc")),D=await Cs(O);let I=[];D.empty?I=(await Cs(On(Xe,"courses",n,"lessons"))).docs.map($=>({id:$.id,...$.data()})):I=D.docs.map(q=>({id:q.id,...q.data()})),l(I),I.length>0&&f(I[0])}catch(N){console.error("Error loading course:",N)}finally{p(!1)}})()},[n,e]),m?y.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):t?y.jsxs("div",{className:"flex h-screen bg-background overflow-hidden animate-fade-in",children:[y.jsxs("div",{className:`${v?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[y.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[y.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:t.title}),y.jsx("button",{onClick:()=>T(!1),className:"md:hidden text-gray-400",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.map((w,N)=>y.jsxs("div",{onClick:()=>f(w),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${u?.id===w.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[y.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:N+1}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-medium ${u?.id===w.id?"text-primary":"text-gray-300"}`,children:w.title}),y.jsx("span",{className:"text-xs text-gray-500",children:w.duration||"10 min"})]})]},w.id)),a.length===0&&y.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),y.jsx("div",{className:"p-4 border-t border-gray-800",children:y.jsx(vn,{to:"/dashboard",children:y.jsx(hn,{variant:"outline",size:"sm",className:"w-full",children:"Back to Dashboard"})})})]}),y.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[y.jsx("div",{className:"absolute top-4 left-4 z-10",children:y.jsx("button",{onClick:()=>T(!v),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:v?y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):y.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),u?y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.jsx("div",{className:"bg-black aspect-video w-full max-h-[70vh] flex items-center justify-center",children:u.videoUrl?y.jsx("iframe",{src:u.videoUrl,title:u.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):y.jsxs("div",{className:"text-gray-500 text-center",children:[y.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),y.jsx("p",{children:"No video content for this lesson."})]})}),y.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsx("h1",{className:"text-2xl font-bold text-white",children:u.title})}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:u.content})})]})]}):y.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a lesson from the sidebar to start."})]})]}):null},Mw=({children:n,adminOnly:e=!1})=>{const[t,r]=G.useState(null),[a,l]=G.useState(!0);return G.useEffect(()=>{const u=h0(Wi,f=>{r(f),l(!1)});return()=>u()},[]),a?y.jsx("div",{className:"text-center p-10 pt-32 text-white",children:"Loading..."}):t?n:y.jsx(uR,{to:"/login",replace:!0})};function BP(){return y.jsx(jR,{children:y.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[y.jsx(fL,{}),y.jsx("main",{className:"flex-grow",children:y.jsxs(dR,{children:[y.jsx(ir,{path:"/",element:y.jsx(yL,{})}),y.jsx(ir,{path:"/analysis",element:y.jsx(vL,{})}),y.jsx(ir,{path:"/analysis/:id",element:y.jsx(bL,{})}),y.jsx(ir,{path:"/news",element:y.jsx(EL,{})}),y.jsx(ir,{path:"/news/:id",element:y.jsx(TL,{})}),y.jsx(ir,{path:"/login",element:y.jsx(wL,{})}),y.jsx(ir,{path:"/register",element:y.jsx(xL,{})}),y.jsx(ir,{path:"/dashboard",element:y.jsx(Mw,{children:y.jsx(SL,{})})}),y.jsx(ir,{path:"/dashboard/course/:courseId",element:y.jsx(Mw,{children:y.jsx(qP,{})})}),y.jsxs(ir,{path:"/admin",element:y.jsx(NL,{}),children:[y.jsx(ir,{index:!0,element:y.jsx(CL,{})}),y.jsx(ir,{path:"news",element:y.jsx(LP,{})}),y.jsx(ir,{path:"analysis",element:y.jsx(jP,{})}),y.jsx(ir,{path:"courses",element:y.jsx(PP,{})}),y.jsx(ir,{path:"profile",element:y.jsx(UP,{})})]})]})}),y.jsx(dL,{})]})})}yC.createRoot(document.getElementById("root")).render(y.jsx(G.StrictMode,{children:y.jsx(BP,{})}))});export default zP();
