var oC=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var qV=oC((ti,ni)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gg={exports:{}},Tc={};var Mb;function lC(){if(Mb)return Tc;Mb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Tc.Fragment=e,Tc.jsx=t,Tc.jsxs=t,Tc}var kb;function uC(){return kb||(kb=1,gg.exports=lC()),gg.exports}var _=uC(),yg={exports:{}},ze={};var jb;function cC(){if(jb)return ze;jb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function z(V,Y,ce){this.props=V,this.context=Y,this.refs=O,this.updater=ce||C}z.prototype.isReactComponent={},z.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=z.prototype;function ne(V,Y,ce){this.props=V,this.context=Y,this.refs=O,this.updater=ce||C}var _e=ne.prototype=new K;_e.constructor=ne,k(_e,z.prototype),_e.isPureReactComponent=!0;var ve=Array.isArray;function we(){}var j={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(V,Y,ce){var fe=ce.ref;return{$$typeof:n,type:V,key:Y,ref:fe!==void 0?fe:null,props:ce}}function H(V,Y){return P(V.type,Y,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return Y[ce]})}var S=/\/+/g;function me(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(we,we):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,Y,ce,fe,pe){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Ae){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case n:case e:De=!0;break;case y:return De=V._init,B(De(V._payload),Y,ce,fe,pe)}}if(De)return pe=pe(V),De=fe===""?"."+me(V,0):fe,ve(pe)?(ce="",De!=null&&(ce=De.replace(S,"$&/")+"/"),B(pe,Y,ce,"",function(Ke){return Ke})):pe!=null&&(x(pe)&&(pe=H(pe,ce+(pe.key==null||V&&V.key===pe.key?"":(""+pe.key).replace(S,"$&/")+"/")+De)),Y.push(pe)),1;De=0;var Ie=fe===""?".":fe+":";if(ve(V))for(var Le=0;Le<V.length;Le++)fe=V[Le],Ae=Ie+me(fe,Le),De+=B(fe,Y,ce,Ae,pe);else if(Le=N(V),typeof Le=="function")for(V=Le.call(V),Le=0;!(fe=V.next()).done;)fe=fe.value,Ae=Ie+me(fe,Le++),De+=B(fe,Y,ce,Ae,pe);else if(Ae==="object"){if(typeof V.then=="function")return B(de(V),Y,ce,fe,pe);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(V,Y,ce){if(V==null)return V;var fe=[],pe=0;return B(V,fe,"","",function(Ae){return Y.call(ce,Ae,pe++)}),fe}function le(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ge={map:Z,forEach:function(V,Y,ce){Z(V,function(){Y.apply(this,arguments)},ce)},count:function(V){var Y=0;return Z(V,function(){Y++}),Y},toArray:function(V){return Z(V,function(Y){return Y})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ze.Activity=T,ze.Children=ge,ze.Component=z,ze.Fragment=t,ze.Profiler=a,ze.PureComponent=ne,ze.StrictMode=r,ze.Suspense=m,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,ze.__COMPILER_RUNTIME={__proto__:null,c:function(V){return j.H.useMemoCache(V)}},ze.cache=function(V){return function(){return V.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(V,Y,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=k({},V.props),pe=V.key;if(Y!=null)for(Ae in Y.key!==void 0&&(pe=""+Y.key),Y)!M.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(fe[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)fe.children=ce;else if(1<Ae){for(var De=Array(Ae),Ie=0;Ie<Ae;Ie++)De[Ie]=arguments[Ie+2];fe.children=De}return P(V.type,pe,fe)},ze.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ze.createElement=function(V,Y,ce){var fe,pe={},Ae=null;if(Y!=null)for(fe in Y.key!==void 0&&(Ae=""+Y.key),Y)M.call(Y,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=Y[fe]);var De=arguments.length-2;if(De===1)pe.children=ce;else if(1<De){for(var Ie=Array(De),Le=0;Le<De;Le++)Ie[Le]=arguments[Le+2];pe.children=Ie}if(V&&V.defaultProps)for(fe in De=V.defaultProps,De)pe[fe]===void 0&&(pe[fe]=De[fe]);return P(V,Ae,pe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(V){return{$$typeof:f,render:V}},ze.isValidElement=x,ze.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:le}},ze.memo=function(V,Y){return{$$typeof:p,type:V,compare:Y===void 0?null:Y}},ze.startTransition=function(V){var Y=j.T,ce={};j.T=ce;try{var fe=V(),pe=j.S;pe!==null&&pe(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(we,ye)}catch(Ae){ye(Ae)}finally{Y!==null&&ce.types!==null&&(Y.types=ce.types),j.T=Y}},ze.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},ze.use=function(V){return j.H.use(V)},ze.useActionState=function(V,Y,ce){return j.H.useActionState(V,Y,ce)},ze.useCallback=function(V,Y){return j.H.useCallback(V,Y)},ze.useContext=function(V){return j.H.useContext(V)},ze.useDebugValue=function(){},ze.useDeferredValue=function(V,Y){return j.H.useDeferredValue(V,Y)},ze.useEffect=function(V,Y){return j.H.useEffect(V,Y)},ze.useEffectEvent=function(V){return j.H.useEffectEvent(V)},ze.useId=function(){return j.H.useId()},ze.useImperativeHandle=function(V,Y,ce){return j.H.useImperativeHandle(V,Y,ce)},ze.useInsertionEffect=function(V,Y){return j.H.useInsertionEffect(V,Y)},ze.useLayoutEffect=function(V,Y){return j.H.useLayoutEffect(V,Y)},ze.useMemo=function(V,Y){return j.H.useMemo(V,Y)},ze.useOptimistic=function(V,Y){return j.H.useOptimistic(V,Y)},ze.useReducer=function(V,Y,ce){return j.H.useReducer(V,Y,ce)},ze.useRef=function(V){return j.H.useRef(V)},ze.useState=function(V){return j.H.useState(V)},ze.useSyncExternalStore=function(V,Y,ce){return j.H.useSyncExternalStore(V,Y,ce)},ze.useTransition=function(){return j.H.useTransition()},ze.version="19.2.1",ze}var Pb;function Fy(){return Pb||(Pb=1,yg.exports=cC()),yg.exports}var G=Fy();const ys=Hy(G);var vg={exports:{}},wc={},_g={exports:{}},bg={};var Vb;function hC(){return Vb||(Vb=1,(function(n){function e(B,Z){var le=B.length;B.push(Z);e:for(;0<le;){var ye=le-1>>>1,ge=B[ye];if(0<a(ge,Z))B[ye]=Z,B[le]=ge,le=ye;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],le=B.pop();if(le!==Z){B[0]=le;e:for(var ye=0,ge=B.length,V=ge>>>1;ye<V;){var Y=2*(ye+1)-1,ce=B[Y],fe=Y+1,pe=B[fe];if(0>a(ce,le))fe<ge&&0>a(pe,ce)?(B[ye]=pe,B[fe]=le,ye=fe):(B[ye]=ce,B[Y]=le,ye=Y);else if(fe<ge&&0>a(pe,le))B[ye]=pe,B[fe]=le,ye=fe;else break e}}return Z}function a(B,Z){var le=B.sortIndex-Z.sortIndex;return le!==0?le:B.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,T=null,w=3,N=!1,C=!1,k=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function _e(B){for(var Z=t(p);Z!==null;){if(Z.callback===null)r(p);else if(Z.startTime<=B)r(p),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(p)}}function ve(B){if(k=!1,_e(B),!C)if(t(m)!==null)C=!0,we||(we=!0,L());else{var Z=t(p);Z!==null&&de(ve,Z.startTime-B)}}var we=!1,j=-1,M=5,P=-1;function H(){return O?!0:!(n.unstable_now()-P<M)}function x(){if(O=!1,we){var B=n.unstable_now();P=B;var Z=!0;try{e:{C=!1,k&&(k=!1,K(j),j=-1),N=!0;var le=w;try{t:{for(_e(B),T=t(m);T!==null&&!(T.expirationTime>B&&H());){var ye=T.callback;if(typeof ye=="function"){T.callback=null,w=T.priorityLevel;var ge=ye(T.expirationTime<=B);if(B=n.unstable_now(),typeof ge=="function"){T.callback=ge,_e(B),Z=!0;break t}T===t(m)&&r(m),_e(B)}else r(m);T=t(m)}if(T!==null)Z=!0;else{var V=t(p);V!==null&&de(ve,V.startTime-B),Z=!1}}break e}finally{T=null,w=le,N=!1}Z=void 0}}finally{Z?L():we=!1}}}var L;if(typeof ne=="function")L=function(){ne(x)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,me=S.port2;S.port1.onmessage=x,L=function(){me.postMessage(null)}}else L=function(){z(x,0)};function de(B,Z){j=z(function(){B(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(B){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var le=w;w=Z;try{return B()}finally{w=le}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=w;w=B;try{return Z()}finally{w=le}},n.unstable_scheduleCallback=function(B,Z,le){var ye=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,B){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=le+ge,B={id:y++,callback:Z,priorityLevel:B,startTime:le,expirationTime:ge,sortIndex:-1},le>ye?(B.sortIndex=le,e(p,B),t(m)===null&&B===t(p)&&(k?(K(j),j=-1):k=!0,de(ve,le-ye))):(B.sortIndex=ge,e(m,B),C||N||(C=!0,we||(we=!0,L()))),B},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(B){var Z=w;return function(){var le=w;w=Z;try{return B.apply(this,arguments)}finally{w=le}}}})(bg)),bg}var Ub;function fC(){return Ub||(Ub=1,_g.exports=hC()),_g.exports}var Eg={exports:{}},nr={};var qb;function dC(){if(qb)return nr;qb=1;var n=Fy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},nr.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},nr.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},nr.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},nr.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):y==="script"&&r.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nr.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},nr.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nr.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},nr.requestFormReset=function(m){r.d.r(m)},nr.unstable_batchedUpdates=function(m,p){return m(p)},nr.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},nr.useFormStatus=function(){return c.H.useHostTransitionStatus()},nr.version="19.2.1",nr}var Bb;function mC(){if(Bb)return Eg.exports;Bb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eg.exports=dC(),Eg.exports}var zb;function pC(){if(zb)return wc;zb=1;var n=fC(),e=Fy(),t=mC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,R=d.child;R;){if(R===o){E=!0,o=d,u=g;break}if(R===u){E=!0,u=d,o=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===o){E=!0,o=g,u=d;break}if(R===u){E=!0,u=g,o=d;break}R=R.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=x&&i[x]||i["@@iterator"],typeof i=="function"?i:null)}var S=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===S?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case z:return"Profiler";case O:return"StrictMode";case ve:return"Suspense";case we:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case ne:return i.displayName||"Context";case K:return(i._context.displayName||"Context")+".Consumer";case _e:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:me(i.type)||"Memo";case M:s=i._payload,i=i._init;try{return me(i(s))}catch{}}return null}var de=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],ge=-1;function V(i){return{current:i}}function Y(i){0>ge||(i.current=ye[ge],ye[ge]=null,ge--)}function ce(i,s){ge++,ye[ge]=i.current,i.current=s}var fe=V(null),pe=V(null),Ae=V(null),De=V(null);function Ie(i,s){switch(ce(Ae,s),ce(pe,i),ce(fe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?rb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=rb(s),i=ib(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(fe),ce(fe,i)}function Le(){Y(fe),Y(pe),Y(Ae)}function Ke(i){i.memoizedState!==null&&ce(De,i);var s=fe.current,o=ib(s,i.type);s!==o&&(ce(pe,i),ce(fe,o))}function Xe(i){pe.current===i&&(Y(fe),Y(pe)),De.current===i&&(Y(De),vc._currentValue=le)}var et,at;function dt(i){if(et===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);et=s&&s[1]||"",at=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+i+at}var Xt=!1;function jr(i,s){if(!i||Xt)return"";Xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var J=re}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(re){J=re}i.call(ue.prototype)}}else{try{throw Error()}catch(re){J=re}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],R=g[1];if(E&&R){var q=E.split(`
`),W=R.split(`
`);for(d=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===q.length||d===W.length)for(u=q.length-1,d=W.length-1;1<=u&&0<=d&&q[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(q[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||q[u]!==W[d]){var ie=`
`+q[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=d);break}}}finally{Xt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?dt(o):""}function rs(i,s){switch(i.tag){case 26:case 27:case 5:return dt(i.type);case 16:return dt("Lazy");case 13:return i.child!==s&&s!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return jr(i.type,!1);case 11:return jr(i.type.render,!1);case 1:return jr(i.type,!0);case 31:return dt("Activity");default:return""}}function Ds(i){try{var s="",o=null;do s+=rs(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,_r=n.unstable_cancelCallback,xa=n.unstable_shouldYield,Ls=n.unstable_requestPaint,Nt=n.unstable_now,br=n.unstable_getCurrentPriorityLevel,Ms=n.unstable_ImmediatePriority,Pr=n.unstable_UserBlockingPriority,lr=n.unstable_NormalPriority,ks=n.unstable_LowPriority,On=n.unstable_IdlePriority,js=n.log,Ps=n.unstable_setDisableYieldValue,ur=null,Kt=null;function vn(i){if(typeof js=="function"&&Ps(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ur,i)}catch{}}var Ct=Math.clz32?Math.clz32:Yn,Li=Math.log,Er=Math.LN2;function Yn(i){return i>>>=0,i===0?32:31-(Li(i)/Er|0)|0}var Dn=256,Vr=262144,bt=4194304;function Xn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xn(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?d=Xn(u):(E&=R,E!==0?d=Xn(E):o||(o=R&~i,o!==0&&(d=Xn(o))))):(R=u&~g,R!==0?d=Xn(R):E!==0?d=Xn(E):o||(o=u&~i,o!==0&&(d=Xn(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Ln(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Vs(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var i=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),i}function _n(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function si(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ur(i,s,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,q=i.expirationTimes,W=i.hiddenUpdates;for(o=E&~o;0<o;){var ie=31-Ct(o),ue=1<<ie;R[ie]=0,q[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var re=J[ie];re!==null&&(re.lane&=-536870913)}o&=~ue}u!==0&&Mi(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function Mi(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ct(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Us(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ct(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function qs(i,s){var o=s&-s;return o=(o&42)!==0?1:ai(o),(o&(i.suspendedLanes|s))!==0?0:o}function ai(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function cr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wt(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:Nb(i.type))}function hr(i,s){var o=Z.p;try{return Z.p=i,s()}finally{Z.p=o}}var fr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+fr,Zt="__reactProps$"+fr,Tr="__reactContainer$"+fr,Qt="__reactEvents$"+fr,Lo="__reactListeners$"+fr,Sa="__reactHandles$"+fr,Na="__reactResources$"+fr,wr="__reactMarker$"+fr;function ss(i){delete i[Ut],delete i[Zt],delete i[Qt],delete i[Lo],delete i[Sa]}function Ot(i){var s=i[Ut];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Tr]||o[Ut]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=hb(i);i!==null;){if(o=i[Ut])return o;i=hb(i)}return s}i=o,o=i.parentNode}return null}function Wn(i){if(i=i[Ut]||i[Tr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Mn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ar(i){var s=i[Na];return s||(s=i[Na]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(i){i[wr]=!0}var Bs=new Set,oi={};function dr(i,s){kn(i,s),kn(i+"Capture",s)}function kn(i,s){for(oi[i]=s,i=0;i<s.length;i++)Bs.add(s[i])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ki={},zs={};function Ca(i){return Vt.call(zs,i)?!0:Vt.call(ki,i)?!1:Zn.test(i)?zs[i]=!0:(ki[i]=!0,!1)}function as(i,s,o){if(Ca(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function jn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Bt(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function Dt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qr(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function lt(i){if(!i._valueTracker){var s=xr(i)?"checked":"value";i._valueTracker=qr(i,s,""+i[s])}}function li(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=xr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Sr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ji=/[\n"\\]/g;function Sn(i){return i.replace(ji,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function os(i,s,o,u,d,g,E,R){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Dt(s)):i.value!==""+Dt(s)&&(i.value=""+Dt(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Hs(i,E,Dt(s)):o!=null?Hs(i,E,Dt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+Dt(R):i.removeAttribute("name")}function ls(i,s,o,u,d,g,E,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){lt(i);return}o=o!=null?""+Dt(o):"",s=s!=null?""+Dt(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),lt(i)}function Hs(i,s,o){s==="number"&&Sr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ui(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Dt(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function ci(i,s,o){if(s!=null&&(s=""+Dt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Dt(o):""}function cn(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(de(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Dt(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),lt(i)}function zt(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Nr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Nr.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Jn(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Fs(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Fs(i,g,s[g])}function us(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(i){return hi.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function er(){}var nn=null;function Pn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Br=null,Vn=null;function zr(i){var s=Wn(i);if(s&&(i=s.stateNode)){var o=i[Zt]||null;e:switch(i=s.stateNode,s.type){case"input":if(os(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Zt]||null;if(!d)throw Error(r(90));os(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&li(u)}break e;case"textarea":ci(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ui(i,!!o.multiple,s,!1)}}}var Hr=!1;function fi(i,s,o){if(Hr)return i(s,o);Hr=!0;try{var u=i(s);return u}finally{if(Hr=!1,(Br!==null||Vn!==null)&&(pf(),Br&&(s=Br,i=Vn,Vn=Br=null,zr(s),i)))for(s=0;s<i.length;s++)zr(i[s])}}function tr(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Zt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=!1;if(Nn)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){di=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{di=!1}var mr=null,Pi=null,Vi=null;function Gs(){if(Vi)return Vi;var i,s=Pi,o=s.length,u,d="value"in mr?mr.value:mr.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===d[g-u];u++);return Vi=d.slice(i,1<u?1-u:void 0)}function b(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function I(){return!0}function U(){return!1}function ee(i){function s(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?I:U,this.isPropagationStopped=U,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=I)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=I)},persist:function(){},isPersistent:I}),s}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=ee(je),Ge=T({},je,{view:0,detail:0}),Ye=ee(Ge),yt,We,At,rn=T({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==At&&(At&&i.type==="mousemove"?(yt=i.screenX-At.screenX,We=i.screenY-At.screenY):We=yt=0,At=i),yt)},movementY:function(i){return"movementY"in i?i.movementY:We}}),Lt=ee(rn),Ht=T({},rn,{dataTransfer:0}),Jt=ee(Ht),Fr=T({},Ge,{relatedTarget:0}),Un=ee(Fr),Gr=T({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=ee(Gr),Ui=T({},je,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$s=ee(Ui),Sh=T({},je,{data:0}),hs=ee(Sh),Nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Rh[i])?!!s[i]:!1}function Ia(){return Ih}var pr=T({},Ge,{key:function(i){if(i.key){var s=Nh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=b(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(i){return i.type==="keypress"?b(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?b(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Oh=ee(pr),Dh=T({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=ee(Dh),h=T({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),v=ee(h),A=T({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=ee(A),Q=T({},rn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),te=ee(Q),be=T({},je,{newState:0,oldState:0}),He=ee(be),sn=[9,13,27,32],mt=Nn&&"CompositionEvent"in window,Ft=null;Nn&&"documentMode"in document&&(Ft=document.documentMode);var mi=Nn&&"TextEvent"in window&&!Ft,fs=Nn&&(!mt||Ft&&8<Ft&&11>=Ft),qi=" ",Bi=!1;function ko(i,s){switch(i){case"keyup":return sn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xl=!1;function ON(i,s){switch(i){case"compositionend":return Al(s);case"keypress":return s.which!==32?null:(Bi=!0,qi);case"textInput":return i=s.data,i===qi&&Bi?null:i;default:return null}}function DN(i,s){if(xl)return i==="compositionend"||!mt&&ko(i,s)?(i=Gs(),Vi=Pi=mr=null,xl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fs&&s.locale!=="ko"?null:s.data;default:return null}}var LN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!LN[i.type]:s==="textarea"}function pv(i,s,o,u){Br?Vn?Vn.push(u):Vn=[u]:Br=u,s=Tf(s,"onChange"),0<s.length&&(o=new xe("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var qu=null,Bu=null;function MN(i){W_(i,0)}function Lh(i){var s=Mn(i);if(li(s))return i}function gv(i,s){if(i==="change")return s}var yv=!1;if(Nn){var wm;if(Nn){var Am="oninput"in document;if(!Am){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),Am=typeof vv.oninput=="function"}wm=Am}else wm=!1;yv=wm&&(!document.documentMode||9<document.documentMode)}function _v(){qu&&(qu.detachEvent("onpropertychange",bv),Bu=qu=null)}function bv(i){if(i.propertyName==="value"&&Lh(Bu)){var s=[];pv(s,Bu,i,Pn(i)),fi(MN,s)}}function kN(i,s,o){i==="focusin"?(_v(),qu=s,Bu=o,qu.attachEvent("onpropertychange",bv)):i==="focusout"&&_v()}function jN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lh(Bu)}function PN(i,s){if(i==="click")return Lh(s)}function VN(i,s){if(i==="input"||i==="change")return Lh(s)}function UN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var $r=typeof Object.is=="function"?Object.is:UN;function zu(i,s){if($r(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Vt.call(s,d)||!$r(i[d],s[d]))return!1}return!0}function Ev(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tv(i,s){var o=Ev(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ev(o)}}function wv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?wv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Av(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Sr(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Sr(i.document)}return s}function xm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var qN=Nn&&"documentMode"in document&&11>=document.documentMode,Sl=null,Sm=null,Hu=null,Nm=!1;function xv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nm||Sl==null||Sl!==Sr(u)||(u=Sl,"selectionStart"in u&&xm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hu&&zu(Hu,u)||(Hu=u,u=Tf(Sm,"onSelect"),0<u.length&&(s=new xe("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Sl)))}function jo(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Nl={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionrun:jo("Transition","TransitionRun"),transitionstart:jo("Transition","TransitionStart"),transitioncancel:jo("Transition","TransitionCancel"),transitionend:jo("Transition","TransitionEnd")},Cm={},Sv={};Nn&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Po(i){if(Cm[i])return Cm[i];if(!Nl[i])return i;var s=Nl[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Sv)return Cm[i]=s[o];return i}var Nv=Po("animationend"),Cv=Po("animationiteration"),Rv=Po("animationstart"),BN=Po("transitionrun"),zN=Po("transitionstart"),HN=Po("transitioncancel"),Iv=Po("transitionend"),Ov=new Map,Rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rm.push("scrollEnd");function zi(i,s){Ov.set(i,s),dr(s,[i])}var Mh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},pi=[],Cl=0,Im=0;function kh(){for(var i=Cl,s=Im=Cl=0;s<i;){var o=pi[s];pi[s++]=null;var u=pi[s];pi[s++]=null;var d=pi[s];pi[s++]=null;var g=pi[s];if(pi[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&Dv(o,d,g)}}function jh(i,s,o,u){pi[Cl++]=i,pi[Cl++]=s,pi[Cl++]=o,pi[Cl++]=u,Im|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Om(i,s,o,u){return jh(i,s,o,u),Ph(i)}function Vo(i,s){return jh(i,null,null,s),Ph(i)}function Dv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Ct(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Ph(i){if(50<hc)throw hc=0,qp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Rl={};function FN(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(i,s,o,u){return new FN(i,s,o,u)}function Dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qs(i,s){var o=i.alternate;return o===null?(o=Kr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Lv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vh(i,s,o,u,d,g){var E=0;if(u=i,typeof i=="function")Dm(i)&&(E=1);else if(typeof i=="string")E=Y2(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Kr(31,o,s,d),i.elementType=P,i.lanes=g,i;case k:return Uo(o.children,d,g,s);case O:E=8,d|=24;break;case z:return i=Kr(12,o,s,d|2),i.elementType=z,i.lanes=g,i;case ve:return i=Kr(13,o,s,d),i.elementType=ve,i.lanes=g,i;case we:return i=Kr(19,o,s,d),i.elementType=we,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:E=10;break e;case K:E=9;break e;case _e:E=11;break e;case j:E=14;break e;case M:E=16,u=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Kr(E,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function Uo(i,s,o,u){return i=Kr(7,i,u,s),i.lanes=o,i}function Lm(i,s,o){return i=Kr(6,i,null,s),i.lanes=o,i}function Mv(i){var s=Kr(18,null,null,0);return s.stateNode=i,s}function Mm(i,s,o){return s=Kr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var kv=new WeakMap;function gi(i,s){if(typeof i=="object"&&i!==null){var o=kv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ds(s)},kv.set(i,s),s)}return{value:i,source:s,stack:Ds(s)}}var Il=[],Ol=0,Uh=null,Fu=0,yi=[],vi=0,Oa=null,ds=1,ms="";function Ys(i,s){Il[Ol++]=Fu,Il[Ol++]=Uh,Uh=i,Fu=s}function jv(i,s,o){yi[vi++]=ds,yi[vi++]=ms,yi[vi++]=Oa,Oa=i;var u=ds;i=ms;var d=32-Ct(u)-1;u&=~(1<<d),o+=1;var g=32-Ct(s)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,ds=1<<32-Ct(s)+d|o<<d|u,ms=g+i}else ds=1<<g|o<<d|u,ms=i}function km(i){i.return!==null&&(Ys(i,1),jv(i,1,0))}function jm(i){for(;i===Uh;)Uh=Il[--Ol],Il[Ol]=null,Fu=Il[--Ol],Il[Ol]=null;for(;i===Oa;)Oa=yi[--vi],yi[vi]=null,ms=yi[--vi],yi[vi]=null,ds=yi[--vi],yi[vi]=null}function Pv(i,s){yi[vi++]=ds,yi[vi++]=ms,yi[vi++]=Oa,ds=s.id,ms=s.overflow,Oa=i}var qn=null,Mt=null,ot=!1,Da=null,_i=!1,Pm=Error(r(519));function La(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gu(gi(s,i)),Pm}function Vv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ut]=i,s[Zt]=u,o){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(o=0;o<dc.length;o++)Je(dc[o],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),ls(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),cn(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||tb(s.textContent,o)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=er),s=!0):s=!1,s||La(i,!0)}function Uv(i){for(qn=i.return;qn;)switch(qn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:qn=qn.return}}function Dl(i){if(i!==qn)return!1;if(!ot)return Uv(i),ot=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||tg(i.type,i.memoizedProps)),o=!o),o&&Mt&&La(i),Uv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Mt=cb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Mt=cb(i)}else s===27?(s=Mt,Ka(i.type)?(i=ag,ag=null,Mt=i):Mt=s):Mt=qn?Ei(i.stateNode.nextSibling):null;return!0}function qo(){Mt=qn=null,ot=!1}function Vm(){var i=Da;return i!==null&&(Or===null?Or=i:Or.push.apply(Or,i),Da=null),i}function Gu(i){Da===null?Da=[i]:Da.push(i)}var Um=V(null),Bo=null,Xs=null;function Ma(i,s,o){ce(Um,s._currentValue),s._currentValue=o}function Ws(i){i._currentValue=Um.current,Y(Um)}function qm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Bm(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=d;for(var q=0;q<s.length;q++)if(R.context===s[q]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),qm(g.return,o,i),u||(E=null);break e}g=R.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),qm(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Ll(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var R=d.type;$r(d.pendingProps.value,E.value)||(i!==null?i.push(R):i=[R])}}else if(d===De.current){if(E=d.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(vc):i=[vc])}d=d.return}i!==null&&Bm(s,i,o,u),s.flags|=262144}function qh(i){for(i=i.firstContext;i!==null;){if(!$r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function zo(i){Bo=i,Xs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return qv(Bo,i)}function Bh(i,s){return Bo===null&&zo(i),qv(i,s)}function qv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Xs===null){if(i===null)throw Error(r(308));Xs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Xs=Xs.next=s;return o}var GN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},$N=n.unstable_scheduleCallback,KN=n.unstable_NormalPriority,hn={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zm(){return{controller:new GN,data:new Map,refCount:0}}function $u(i){i.refCount--,i.refCount===0&&$N(KN,function(){i.controller.abort()})}var Ku=null,Hm=0,Ml=0,kl=null;function QN(i,s){if(Ku===null){var o=Ku=[];Hm=0,Ml=$p(),kl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Hm++,s.then(Bv,Bv),s}function Bv(){if(--Hm===0&&Ku!==null){kl!==null&&(kl.status="fulfilled");var i=Ku;Ku=null,Ml=0,kl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function YN(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var zv=B.S;B.S=function(i,s){x_=Nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&QN(i,s),zv!==null&&zv(i,s)};var Ho=V(null);function Fm(){var i=Ho.current;return i!==null?i:xt.pooledCache}function zh(i,s){s===null?ce(Ho,Ho.current):ce(Ho,s.pool)}function Hv(){var i=Fm();return i===null?null:{parent:hn._currentValue,pool:i}}var jl=Error(r(460)),Gm=Error(r(474)),Hh=Error(r(542)),Fh={then:function(){}};function Fv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(er,er),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Kv(i),i;default:if(typeof s.status=="string")s.then(er,er);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Kv(i),i}throw Go=s,jl}}function Fo(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Go=o,jl):o}}var Go=null;function $v(){if(Go===null)throw Error(r(459));var i=Go;return Go=null,i}function Kv(i){if(i===jl||i===Hh)throw Error(r(483))}var Pl=null,Qu=0;function Gh(i){var s=Qu;return Qu+=1,Pl===null&&(Pl=[]),Gv(Pl,i,s)}function Yu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function $h(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qv(i){function s($,F){if(i){var X=$.deletions;X===null?($.deletions=[F],$.flags|=16):X.push(F)}}function o($,F){if(!i)return null;for(;F!==null;)s($,F),F=F.sibling;return null}function u($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function d($,F){return $=Qs($,F),$.index=0,$.sibling=null,$}function g($,F,X){return $.index=X,i?(X=$.alternate,X!==null?(X=X.index,X<F?($.flags|=67108866,F):X):($.flags|=67108866,F)):($.flags|=1048576,F)}function E($){return i&&$.alternate===null&&($.flags|=67108866),$}function R($,F,X,se){return F===null||F.tag!==6?(F=Lm(X,$.mode,se),F.return=$,F):(F=d(F,X),F.return=$,F)}function q($,F,X,se){var Me=X.type;return Me===k?ie($,F,X.props.children,se,X.key):F!==null&&(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===M&&Fo(Me)===F.type)?(F=d(F,X.props),Yu(F,X),F.return=$,F):(F=Vh(X.type,X.key,X.props,null,$.mode,se),Yu(F,X),F.return=$,F)}function W($,F,X,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=Mm(X,$.mode,se),F.return=$,F):(F=d(F,X.children||[]),F.return=$,F)}function ie($,F,X,se,Me){return F===null||F.tag!==7?(F=Uo(X,$.mode,se,Me),F.return=$,F):(F=d(F,X),F.return=$,F)}function ue($,F,X){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Lm(""+F,$.mode,X),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return X=Vh(F.type,F.key,F.props,null,$.mode,X),Yu(X,F),X.return=$,X;case C:return F=Mm(F,$.mode,X),F.return=$,F;case M:return F=Fo(F),ue($,F,X)}if(de(F)||L(F))return F=Uo(F,$.mode,X,null),F.return=$,F;if(typeof F.then=="function")return ue($,Gh(F),X);if(F.$$typeof===ne)return ue($,Bh($,F),X);$h($,F)}return null}function J($,F,X,se){var Me=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Me!==null?null:R($,F,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return X.key===Me?q($,F,X,se):null;case C:return X.key===Me?W($,F,X,se):null;case M:return X=Fo(X),J($,F,X,se)}if(de(X)||L(X))return Me!==null?null:ie($,F,X,se,null);if(typeof X.then=="function")return J($,F,Gh(X),se);if(X.$$typeof===ne)return J($,F,Bh($,X),se);$h($,X)}return null}function re($,F,X,se,Me){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(X)||null,R(F,$,""+se,Me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return $=$.get(se.key===null?X:se.key)||null,q(F,$,se,Me);case C:return $=$.get(se.key===null?X:se.key)||null,W(F,$,se,Me);case M:return se=Fo(se),re($,F,X,se,Me)}if(de(se)||L(se))return $=$.get(X)||null,ie(F,$,se,Me,null);if(typeof se.then=="function")return re($,F,X,Gh(se),Me);if(se.$$typeof===ne)return re($,F,X,Bh(F,se),Me);$h(F,se)}return null}function Se($,F,X,se){for(var Me=null,ht=null,Ce=F,$e=F=0,nt=null;Ce!==null&&$e<X.length;$e++){Ce.index>$e?(nt=Ce,Ce=null):nt=Ce.sibling;var ft=J($,Ce,X[$e],se);if(ft===null){Ce===null&&(Ce=nt);break}i&&Ce&&ft.alternate===null&&s($,Ce),F=g(ft,F,$e),ht===null?Me=ft:ht.sibling=ft,ht=ft,Ce=nt}if($e===X.length)return o($,Ce),ot&&Ys($,$e),Me;if(Ce===null){for(;$e<X.length;$e++)Ce=ue($,X[$e],se),Ce!==null&&(F=g(Ce,F,$e),ht===null?Me=Ce:ht.sibling=Ce,ht=Ce);return ot&&Ys($,$e),Me}for(Ce=u(Ce);$e<X.length;$e++)nt=re(Ce,$,$e,X[$e],se),nt!==null&&(i&&nt.alternate!==null&&Ce.delete(nt.key===null?$e:nt.key),F=g(nt,F,$e),ht===null?Me=nt:ht.sibling=nt,ht=nt);return i&&Ce.forEach(function(Za){return s($,Za)}),ot&&Ys($,$e),Me}function Pe($,F,X,se){if(X==null)throw Error(r(151));for(var Me=null,ht=null,Ce=F,$e=F=0,nt=null,ft=X.next();Ce!==null&&!ft.done;$e++,ft=X.next()){Ce.index>$e?(nt=Ce,Ce=null):nt=Ce.sibling;var Za=J($,Ce,ft.value,se);if(Za===null){Ce===null&&(Ce=nt);break}i&&Ce&&Za.alternate===null&&s($,Ce),F=g(Za,F,$e),ht===null?Me=Za:ht.sibling=Za,ht=Za,Ce=nt}if(ft.done)return o($,Ce),ot&&Ys($,$e),Me;if(Ce===null){for(;!ft.done;$e++,ft=X.next())ft=ue($,ft.value,se),ft!==null&&(F=g(ft,F,$e),ht===null?Me=ft:ht.sibling=ft,ht=ft);return ot&&Ys($,$e),Me}for(Ce=u(Ce);!ft.done;$e++,ft=X.next())ft=re(Ce,$,$e,ft.value,se),ft!==null&&(i&&ft.alternate!==null&&Ce.delete(ft.key===null?$e:ft.key),F=g(ft,F,$e),ht===null?Me=ft:ht.sibling=ft,ht=ft);return i&&Ce.forEach(function(aC){return s($,aC)}),ot&&Ys($,$e),Me}function wt($,F,X,se){if(typeof X=="object"&&X!==null&&X.type===k&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case N:e:{for(var Me=X.key;F!==null;){if(F.key===Me){if(Me=X.type,Me===k){if(F.tag===7){o($,F.sibling),se=d(F,X.props.children),se.return=$,$=se;break e}}else if(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===M&&Fo(Me)===F.type){o($,F.sibling),se=d(F,X.props),Yu(se,X),se.return=$,$=se;break e}o($,F);break}else s($,F);F=F.sibling}X.type===k?(se=Uo(X.props.children,$.mode,se,X.key),se.return=$,$=se):(se=Vh(X.type,X.key,X.props,null,$.mode,se),Yu(se,X),se.return=$,$=se)}return E($);case C:e:{for(Me=X.key;F!==null;){if(F.key===Me)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){o($,F.sibling),se=d(F,X.children||[]),se.return=$,$=se;break e}else{o($,F);break}else s($,F);F=F.sibling}se=Mm(X,$.mode,se),se.return=$,$=se}return E($);case M:return X=Fo(X),wt($,F,X,se)}if(de(X))return Se($,F,X,se);if(L(X)){if(Me=L(X),typeof Me!="function")throw Error(r(150));return X=Me.call(X),Pe($,F,X,se)}if(typeof X.then=="function")return wt($,F,Gh(X),se);if(X.$$typeof===ne)return wt($,F,Bh($,X),se);$h($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,F!==null&&F.tag===6?(o($,F.sibling),se=d(F,X),se.return=$,$=se):(o($,F),se=Lm(X,$.mode,se),se.return=$,$=se),E($)):o($,F)}return function($,F,X,se){try{Qu=0;var Me=wt($,F,X,se);return Pl=null,Me}catch(Ce){if(Ce===jl||Ce===Hh)throw Ce;var ht=Kr(29,Ce,null,$.mode);return ht.lanes=se,ht.return=$,ht}finally{}}}var $o=Qv(!0),Yv=Qv(!1),ka=!1;function $m(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Km(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ja(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pa(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(pt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Ph(i),Dv(i,null,o),s}return jh(i,u,s,o),Ph(i)}function Xu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Us(i,o)}}function Qm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Ym=!1;function Wu(){if(Ym){var i=kl;if(i!==null)throw i}}function Zu(i,s,o,u){Ym=!1;var d=i.updateQueue;ka=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var q=R,W=q.next;q.next=null,E===null?g=W:E.next=W,E=q;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==E&&(R===null?ie.firstBaseUpdate=W:R.next=W,ie.lastBaseUpdate=q))}if(g!==null){var ue=d.baseState;E=0,ie=W=q=null,R=g;do{var J=R.lane&-536870913,re=J!==R.lane;if(re?(tt&J)===J:(u&J)===J){J!==0&&J===Ml&&(Ym=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Se=i,Pe=R;J=s;var wt=o;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){ue=Se.call(wt,ue,J);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,J=typeof Se=="function"?Se.call(wt,ue,J):Se,J==null)break e;ue=T({},ue,J);break e;case 2:ka=!0}}J=R.callback,J!==null&&(i.flags|=64,re&&(i.flags|=8192),re=d.callbacks,re===null?d.callbacks=[J]:re.push(J))}else re={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(W=ie=re,q=ue):ie=ie.next=re,E|=J;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;re=R,R=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);ie===null&&(q=ue),d.baseState=q,d.firstBaseUpdate=W,d.lastBaseUpdate=ie,g===null&&(d.shared.lanes=0),za|=E,i.lanes=E,i.memoizedState=ue}}function Xv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Wv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Xv(o[i],s)}var Vl=V(null),Kh=V(0);function Zv(i,s){i=aa,ce(Kh,i),ce(Vl,s),aa=i|s.baseLanes}function Xm(){ce(Kh,aa),ce(Vl,Vl.current)}function Wm(){aa=Kh.current,Y(Vl),Y(Kh)}var Qr=V(null),bi=null;function Va(i){var s=i.alternate;ce(an,an.current&1),ce(Qr,i),bi===null&&(s===null||Vl.current!==null||s.memoizedState!==null)&&(bi=i)}function Zm(i){ce(an,an.current),ce(Qr,i),bi===null&&(bi=i)}function Jv(i){i.tag===22?(ce(an,an.current),ce(Qr,i),bi===null&&(bi=i)):Ua()}function Ua(){ce(an,an.current),ce(Qr,Qr.current)}function Yr(i){Y(Qr),bi===i&&(bi=null),Y(an)}var an=V(0);function Qh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ig(o)||sg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zs=0,Fe=null,Et=null,fn=null,Yh=!1,Ul=!1,Ko=!1,Xh=0,Ju=0,ql=null,XN=0;function en(){throw Error(r(321))}function Jm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!$r(i[o],s[o]))return!1;return!0}function ep(i,s,o,u,d,g){return Zs=g,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=i===null||i.memoizedState===null?j1:pp,Ko=!1,g=o(u,d),Ko=!1,Ul&&(g=t1(s,o,u,d)),e1(i),g}function e1(i){B.H=nc;var s=Et!==null&&Et.next!==null;if(Zs=0,fn=Et=Fe=null,Yh=!1,Ju=0,ql=null,s)throw Error(r(300));i===null||dn||(i=i.dependencies,i!==null&&qh(i)&&(dn=!0))}function t1(i,s,o,u){Fe=i;var d=0;do{if(Ul&&(ql=null),Ju=0,Ul=!1,25<=d)throw Error(r(301));if(d+=1,fn=Et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=P1,g=s(o,u)}while(Ul);return g}function WN(){var i=B.H,s=i.useState()[0];return s=typeof s.then=="function"?ec(s):s,i=i.useState()[0],(Et!==null?Et.memoizedState:null)!==i&&(Fe.flags|=1024),s}function tp(){var i=Xh!==0;return Xh=0,i}function np(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function rp(i){if(Yh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Yh=!1}Zs=0,fn=Et=Fe=null,Ul=!1,Ju=Xh=0,ql=null}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Fe.memoizedState=fn=i:fn=fn.next=i,fn}function on(){if(Et===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var s=fn===null?Fe.memoizedState:fn.next;if(s!==null)fn=s,Et=i;else{if(i===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},fn===null?Fe.memoizedState=fn=i:fn=fn.next=i}return fn}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(i){var s=Ju;return Ju+=1,ql===null&&(ql=[]),i=Gv(ql,i,s),s=Fe,(fn===null?s.memoizedState:fn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?j1:pp),i}function Zh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ec(i);if(i.$$typeof===ne)return Bn(i)}throw Error(r(438,String(i)))}function ip(i){var s=null,o=Fe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Wh(),Fe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=H;return s.index++,o}function Js(i,s){return typeof s=="function"?s(i):s}function Jh(i){var s=on();return sp(s,Et,i)}function sp(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var R=E=null,q=null,W=s,ie=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(tt&ue)===ue:(Zs&ue)===ue){var J=W.revertLane;if(J===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===Ml&&(ie=!0);else if((Zs&J)===J){W=W.next,J===Ml&&(ie=!0);continue}else ue={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(R=q=ue,E=g):q=q.next=ue,Fe.lanes|=J,za|=J;ue=W.action,Ko&&o(g,ue),g=W.hasEagerState?W.eagerState:o(g,ue)}else J={lane:ue,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(R=q=J,E=g):q=q.next=J,Fe.lanes|=ue,za|=ue;W=W.next}while(W!==null&&W!==s);if(q===null?E=g:q.next=R,!$r(g,i.memoizedState)&&(dn=!0,ie&&(o=kl,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=q,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ap(i){var s=on(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);$r(g,s.memoizedState)||(dn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function n1(i,s,o){var u=Fe,d=on(),g=ot;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!$r((Et||d).memoizedState,o);if(E&&(d.memoizedState=o,dn=!0),d=d.queue,up(s1.bind(null,u,d,i),[i]),d.getSnapshot!==s||E||fn!==null&&fn.memoizedState.tag&1){if(u.flags|=2048,Bl(9,{destroy:void 0},i1.bind(null,u,d,o,s),null),xt===null)throw Error(r(349));g||(Zs&127)!==0||r1(u,s,o)}return o}function r1(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Fe.updateQueue,s===null?(s=Wh(),Fe.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function i1(i,s,o,u){s.value=o,s.getSnapshot=u,a1(s)&&o1(i)}function s1(i,s,o){return o(function(){a1(s)&&o1(i)})}function a1(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!$r(i,o)}catch{return!0}}function o1(i){var s=Vo(i,2);s!==null&&Dr(s,i,2)}function op(i){var s=gr();if(typeof i=="function"){var o=i;if(i=o(),Ko){vn(!0);try{o()}finally{vn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:i},s}function l1(i,s,o,u){return i.baseState=o,sp(i,Et,typeof u=="function"?u:Js)}function ZN(i,s,o,u,d){if(nf(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};B.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,u1(s,g)):(g.next=o.next,s.pending=o.next=g)}}function u1(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=B.T,E={};B.T=E;try{var R=o(d,u),q=B.S;q!==null&&q(E,R),c1(i,s,R)}catch(W){lp(i,s,W)}finally{g!==null&&E.types!==null&&(g.types=E.types),B.T=g}}else try{g=o(d,u),c1(i,s,g)}catch(W){lp(i,s,W)}}function c1(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){h1(i,s,u)},function(u){return lp(i,s,u)}):h1(i,s,o)}function h1(i,s,o){s.status="fulfilled",s.value=o,f1(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,u1(i,o)))}function lp(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,f1(s),s=s.next;while(s!==u)}i.action=null}function f1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function d1(i,s){return s}function m1(i,s){if(ot){var o=xt.formState;if(o!==null){e:{var u=Fe;if(ot){if(Mt){t:{for(var d=Mt,g=_i;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ei(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Mt=Ei(d.nextSibling),u=d.data==="F!";break e}}La(u)}u=!1}u&&(s=o[0])}}return o=gr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d1,lastRenderedState:s},o.queue=u,o=L1.bind(null,Fe,u),u.dispatch=o,u=op(!1),g=mp.bind(null,Fe,!1,u.queue),u=gr(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=ZN.bind(null,Fe,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function p1(i){var s=on();return g1(s,Et,i)}function g1(i,s,o){if(s=sp(i,s,d1)[0],i=Jh(Js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ec(s)}catch(E){throw E===jl?Hh:E}else u=s;s=on();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Fe.flags|=2048,Bl(9,{destroy:void 0},JN.bind(null,d,o),null)),[u,g,i]}function JN(i,s){i.action=s}function y1(i){var s=on(),o=Et;if(o!==null)return g1(s,o,i);on(),s=s.memoizedState,o=on();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Bl(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Wh(),Fe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function v1(){return on().memoizedState}function ef(i,s,o,u){var d=gr();Fe.flags|=i,d.memoizedState=Bl(1|s,{destroy:void 0},o,u===void 0?null:u)}function tf(i,s,o,u){var d=on();u=u===void 0?null:u;var g=d.memoizedState.inst;Et!==null&&u!==null&&Jm(u,Et.memoizedState.deps)?d.memoizedState=Bl(s,g,o,u):(Fe.flags|=i,d.memoizedState=Bl(1|s,g,o,u))}function _1(i,s){ef(8390656,8,i,s)}function up(i,s){tf(2048,8,i,s)}function e2(i){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=Wh(),Fe.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function b1(i){var s=on().memoizedState;return e2({ref:s,nextImpl:i}),function(){if((pt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function E1(i,s){return tf(4,2,i,s)}function T1(i,s){return tf(4,4,i,s)}function w1(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function A1(i,s,o){o=o!=null?o.concat([i]):null,tf(4,4,w1.bind(null,s,i),o)}function cp(){}function x1(i,s){var o=on();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Jm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function S1(i,s){var o=on();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Jm(s,u[1]))return u[0];if(u=i(),Ko){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,s],u}function hp(i,s,o){return o===void 0||(Zs&1073741824)!==0&&(tt&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=N_(),Fe.lanes|=i,za|=i,o)}function N1(i,s,o,u){return $r(o,s)?o:Vl.current!==null?(i=hp(i,o,u),$r(i,s)||(dn=!0),i):(Zs&42)===0||(Zs&1073741824)!==0&&(tt&261930)===0?(dn=!0,i.memoizedState=o):(i=N_(),Fe.lanes|=i,za|=i,s)}function C1(i,s,o,u,d){var g=Z.p;Z.p=g!==0&&8>g?g:8;var E=B.T,R={};B.T=R,mp(i,!1,s,o);try{var q=d(),W=B.S;if(W!==null&&W(R,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ie=YN(q,u);tc(i,s,ie,Zr(i))}else tc(i,s,u,Zr(i))}catch(ue){tc(i,s,{then:function(){},status:"rejected",reason:ue},Zr())}finally{Z.p=g,E!==null&&R.types!==null&&(E.types=R.types),B.T=E}}function t2(){}function fp(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=R1(i).queue;C1(i,d,s,le,o===null?t2:function(){return I1(i),o(u)})}function R1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:le},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function I1(i){var s=R1(i);s.next===null&&(s=i.alternate.memoizedState),tc(i,s.next.queue,{},Zr())}function dp(){return Bn(vc)}function O1(){return on().memoizedState}function D1(){return on().memoizedState}function n2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Zr();i=ja(o);var u=Pa(s,i,o);u!==null&&(Dr(u,s,o),Xu(u,s,o)),s={cache:zm()},i.payload=s;return}s=s.return}}function r2(i,s,o){var u=Zr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nf(i)?M1(s,o):(o=Om(i,s,o,u),o!==null&&(Dr(o,i,u),k1(o,s,u)))}function L1(i,s,o){var u=Zr();tc(i,s,o,u)}function tc(i,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(nf(i))M1(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,R=g(E,o);if(d.hasEagerState=!0,d.eagerState=R,$r(R,E))return jh(i,s,d,0),xt===null&&kh(),!1}catch{}finally{}if(o=Om(i,s,d,u),o!==null)return Dr(o,i,u),k1(o,s,u),!0}return!1}function mp(i,s,o,u){if(u={lane:2,revertLane:$p(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},nf(i)){if(s)throw Error(r(479))}else s=Om(i,o,u,2),s!==null&&Dr(s,i,2)}function nf(i){var s=i.alternate;return i===Fe||s!==null&&s===Fe}function M1(i,s){Ul=Yh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function k1(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Us(i,o)}}var nc={readContext:Bn,use:Zh,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};nc.useEffectEvent=en;var j1={readContext:Bn,use:Zh,useCallback:function(i,s){return gr().memoizedState=[i,s===void 0?null:s],i},useContext:Bn,useEffect:_1,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,ef(4194308,4,w1.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ef(4194308,4,i,s)},useInsertionEffect:function(i,s){ef(4,2,i,s)},useMemo:function(i,s){var o=gr();s=s===void 0?null:s;var u=i();if(Ko){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=gr();if(o!==void 0){var d=o(s);if(Ko){vn(!0);try{o(s)}finally{vn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=r2.bind(null,Fe,i),[u.memoizedState,i]},useRef:function(i){var s=gr();return i={current:i},s.memoizedState=i},useState:function(i){i=op(i);var s=i.queue,o=L1.bind(null,Fe,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:cp,useDeferredValue:function(i,s){var o=gr();return hp(o,i,s)},useTransition:function(){var i=op(!1);return i=C1.bind(null,Fe,i.queue,!0,!1),gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Fe,d=gr();if(ot){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),xt===null)throw Error(r(349));(tt&127)!==0||r1(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,_1(s1.bind(null,u,g,i),[i]),u.flags|=2048,Bl(9,{destroy:void 0},i1.bind(null,u,g,o,s),null),o},useId:function(){var i=gr(),s=xt.identifierPrefix;if(ot){var o=ms,u=ds;o=(u&~(1<<32-Ct(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Xh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=XN++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:dp,useFormState:m1,useActionState:m1,useOptimistic:function(i){var s=gr();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=mp.bind(null,Fe,!0,o),o.dispatch=s,[i,s]},useMemoCache:ip,useCacheRefresh:function(){return gr().memoizedState=n2.bind(null,Fe)},useEffectEvent:function(i){var s=gr(),o={impl:i};return s.memoizedState=o,function(){if((pt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},pp={readContext:Bn,use:Zh,useCallback:x1,useContext:Bn,useEffect:up,useImperativeHandle:A1,useInsertionEffect:E1,useLayoutEffect:T1,useMemo:S1,useReducer:Jh,useRef:v1,useState:function(){return Jh(Js)},useDebugValue:cp,useDeferredValue:function(i,s){var o=on();return N1(o,Et.memoizedState,i,s)},useTransition:function(){var i=Jh(Js)[0],s=on().memoizedState;return[typeof i=="boolean"?i:ec(i),s]},useSyncExternalStore:n1,useId:O1,useHostTransitionStatus:dp,useFormState:p1,useActionState:p1,useOptimistic:function(i,s){var o=on();return l1(o,Et,i,s)},useMemoCache:ip,useCacheRefresh:D1};pp.useEffectEvent=b1;var P1={readContext:Bn,use:Zh,useCallback:x1,useContext:Bn,useEffect:up,useImperativeHandle:A1,useInsertionEffect:E1,useLayoutEffect:T1,useMemo:S1,useReducer:ap,useRef:v1,useState:function(){return ap(Js)},useDebugValue:cp,useDeferredValue:function(i,s){var o=on();return Et===null?hp(o,i,s):N1(o,Et.memoizedState,i,s)},useTransition:function(){var i=ap(Js)[0],s=on().memoizedState;return[typeof i=="boolean"?i:ec(i),s]},useSyncExternalStore:n1,useId:O1,useHostTransitionStatus:dp,useFormState:y1,useActionState:y1,useOptimistic:function(i,s){var o=on();return Et!==null?l1(o,Et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ip,useCacheRefresh:D1};P1.useEffectEvent=b1;function gp(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:T({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var yp={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Zr(),d=ja(u);d.payload=s,o!=null&&(d.callback=o),s=Pa(i,d,u),s!==null&&(Dr(s,i,u),Xu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Zr(),d=ja(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Pa(i,d,u),s!==null&&(Dr(s,i,u),Xu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Zr(),u=ja(o);u.tag=2,s!=null&&(u.callback=s),s=Pa(i,u,o),s!==null&&(Dr(s,i,o),Xu(s,i,o))}};function V1(i,s,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!zu(o,u)||!zu(d,g):!0}function U1(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&yp.enqueueReplaceState(s,s.state,null)}function Qo(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=T({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function q1(i){Mh(i)}function B1(i){console.error(i)}function z1(i){Mh(i)}function rf(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function H1(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vp(i,s,o){return o=ja(o),o.tag=3,o.payload={element:null},o.callback=function(){rf(i,s)},o}function F1(i){return i=ja(i),i.tag=3,i}function G1(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){H1(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){H1(s,o,u),typeof d!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function i2(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ll(s,o,d,!0),o=Qr.current,o!==null){switch(o.tag){case 31:case 13:return bi===null?gf():o.alternate===null&&tn===0&&(tn=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Fh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Hp(i,u,d)),!1;case 22:return o.flags|=65536,u===Fh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Hp(i,u,d)),!1}throw Error(r(435,o.tag))}return Hp(i,u,d),gf(),!1}if(ot)return s=Qr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Pm&&(i=Error(r(422),{cause:u}),Gu(gi(i,o)))):(u!==Pm&&(s=Error(r(423),{cause:u}),Gu(gi(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=gi(u,o),d=vp(i.stateNode,u,d),Qm(i,d),tn!==4&&(tn=2)),!1;var g=Error(r(520),{cause:u});if(g=gi(g,o),cc===null?cc=[g]:cc.push(g),tn!==4&&(tn=2),s===null)return!0;u=gi(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=vp(o.stateNode,u,i),Qm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ha===null||!Ha.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=F1(d),G1(d,i,o,u),Qm(o,d),!1}o=o.return}while(o!==null);return!1}var _p=Error(r(461)),dn=!1;function zn(i,s,o,u){s.child=i===null?Yv(s,null,o,u):$o(s,i.child,o,u)}function $1(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var R in u)R!=="ref"&&(E[R]=u[R])}else E=u;return zo(s),u=ep(i,s,o,E,g,d),R=tp(),i!==null&&!dn?(np(i,s,d),ea(i,s,d)):(ot&&R&&km(s),s.flags|=1,zn(i,s,u,d),s.child)}function K1(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Dm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Q1(i,s,g,u,d)):(i=Vh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Np(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:zu,o(E,u)&&i.ref===s.ref)return ea(i,s,d)}return s.flags|=1,i=Qs(g,u),i.ref=s.ref,i.return=s,s.child=i}function Q1(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(zu(g,u)&&i.ref===s.ref)if(dn=!1,s.pendingProps=u=g,Np(i,d))(i.flags&131072)!==0&&(dn=!0);else return s.lanes=i.lanes,ea(i,s,d)}return bp(i,s,o,u,d)}function Y1(i,s,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,s.child=null;return X1(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&zh(s,g!==null?g.cachePool:null),g!==null?Zv(s,g):Xm(),Jv(s);else return u=s.lanes=536870912,X1(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(zh(s,g.cachePool),Zv(s,g),Ua(),s.memoizedState=null):(i!==null&&zh(s,null),Xm(),Ua());return zn(i,s,d,o),s.child}function rc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function X1(i,s,o,u,d){var g=Fm();return g=g===null?null:{parent:hn._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&zh(s,null),Xm(),Jv(s),i!==null&&Ll(i,s,u,!0),s.childLanes=d,null}function sf(i,s){return s=of({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function W1(i,s,o){return $o(s,i.child,null,o),i=sf(s,s.pendingProps),i.flags|=2,Yr(s),s.memoizedState=null,i}function s2(i,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ot){if(u.mode==="hidden")return i=sf(s,u),s.lanes=536870912,rc(null,i);if(Zm(s),(i=Mt)?(i=ub(i,_i),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Oa!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=Mv(i),o.return=s,s.child=o,qn=s,Mt=null)):i=null,i===null)throw La(s);return s.lanes=536870912,null}return sf(s,u)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(Zm(s),d)if(s.flags&256)s.flags&=-257,s=W1(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(dn||Ll(i,s,o,!1),d=(o&i.childLanes)!==0,dn||d){if(u=xt,u!==null&&(E=qs(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,Vo(i,E),Dr(u,i,E),_p;gf(),s=W1(i,s,o)}else i=g.treeContext,Mt=Ei(E.nextSibling),qn=s,ot=!0,Da=null,_i=!1,i!==null&&Pv(s,i),s=sf(s,u),s.flags|=4096;return s}return i=Qs(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function af(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function bp(i,s,o,u,d){return zo(s),o=ep(i,s,o,u,void 0,d),u=tp(),i!==null&&!dn?(np(i,s,d),ea(i,s,d)):(ot&&u&&km(s),s.flags|=1,zn(i,s,o,d),s.child)}function Z1(i,s,o,u,d,g){return zo(s),s.updateQueue=null,o=t1(s,u,o,d),e1(i),u=tp(),i!==null&&!dn?(np(i,s,g),ea(i,s,g)):(ot&&u&&km(s),s.flags|=1,zn(i,s,o,g),s.child)}function J1(i,s,o,u,d){if(zo(s),s.stateNode===null){var g=Rl,E=o.contextType;typeof E=="object"&&E!==null&&(g=Bn(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=yp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},$m(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?Bn(E):Rl,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(gp(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&yp.enqueueReplaceState(g,g.state,null),Zu(s,u,g,d),Wu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var R=s.memoizedProps,q=Qo(o,R);g.props=q;var W=g.context,ie=o.contextType;E=Rl,typeof ie=="object"&&ie!==null&&(E=Bn(ie));var ue=o.getDerivedStateFromProps;ie=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||W!==E)&&U1(s,g,u,E),ka=!1;var J=s.memoizedState;g.state=J,Zu(s,u,g,d),Wu(),W=s.memoizedState,R||J!==W||ka?(typeof ue=="function"&&(gp(s,o,ue,u),W=s.memoizedState),(q=ka||V1(s,o,q,u,J,W,E))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=E,u=q):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Km(i,s),E=s.memoizedProps,ie=Qo(o,E),g.props=ie,ue=s.pendingProps,J=g.context,W=o.contextType,q=Rl,typeof W=="object"&&W!==null&&(q=Bn(W)),R=o.getDerivedStateFromProps,(W=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ue||J!==q)&&U1(s,g,u,q),ka=!1,J=s.memoizedState,g.state=J,Zu(s,u,g,d),Wu();var re=s.memoizedState;E!==ue||J!==re||ka||i!==null&&i.dependencies!==null&&qh(i.dependencies)?(typeof R=="function"&&(gp(s,o,R,u),re=s.memoizedState),(ie=ka||V1(s,o,ie,u,J,re,q)||i!==null&&i.dependencies!==null&&qh(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,re,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,re,q)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),g.props=u,g.state=re,g.context=q,u=ie):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,af(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=$o(s,i.child,null,d),s.child=$o(s,null,o,d)):zn(i,s,o,d),s.memoizedState=g.state,i=s.child):i=ea(i,s,d),i}function e_(i,s,o,u){return qo(),s.flags|=256,zn(i,s,o,u),s.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(i){return{baseLanes:i,cachePool:Hv()}}function wp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Wr),i}function t_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(an.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(ot){if(d?Va(s):Ua(),(i=Mt)?(i=ub(i,_i),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Oa!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},o=Mv(i),o.return=s,s.child=o,qn=s,Mt=null)):i=null,i===null)throw La(s);return sg(i)?s.lanes=32:s.lanes=536870912,null}var R=u.children;return u=u.fallback,d?(Ua(),d=s.mode,R=of({mode:"hidden",children:R},d),u=Uo(u,d,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,u=s.child,u.memoizedState=Tp(o),u.childLanes=wp(i,E,o),s.memoizedState=Ep,rc(null,u)):(Va(s),Ap(s,R))}var q=i.memoizedState;if(q!==null&&(R=q.dehydrated,R!==null)){if(g)s.flags&256?(Va(s),s.flags&=-257,s=xp(i,s,o)):s.memoizedState!==null?(Ua(),s.child=i.child,s.flags|=128,s=null):(Ua(),R=u.fallback,d=s.mode,u=of({mode:"visible",children:u.children},d),R=Uo(R,d,o,null),R.flags|=2,u.return=s,R.return=s,u.sibling=R,s.child=u,$o(s,i.child,null,o),u=s.child,u.memoizedState=Tp(o),u.childLanes=wp(i,E,o),s.memoizedState=Ep,s=rc(null,u));else if(Va(s),sg(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var W=E.dgst;E=W,u=Error(r(419)),u.stack="",u.digest=E,Gu({value:u,source:null,stack:null}),s=xp(i,s,o)}else if(dn||Ll(i,s,o,!1),E=(o&i.childLanes)!==0,dn||E){if(E=xt,E!==null&&(u=qs(E,o),u!==0&&u!==q.retryLane))throw q.retryLane=u,Vo(i,u),Dr(E,i,u),_p;ig(R)||gf(),s=xp(i,s,o)}else ig(R)?(s.flags|=192,s.child=i.child,s=null):(i=q.treeContext,Mt=Ei(R.nextSibling),qn=s,ot=!0,Da=null,_i=!1,i!==null&&Pv(s,i),s=Ap(s,u.children),s.flags|=4096);return s}return d?(Ua(),R=u.fallback,d=s.mode,q=i.child,W=q.sibling,u=Qs(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,W!==null?R=Qs(W,R):(R=Uo(R,d,o,null),R.flags|=2),R.return=s,u.return=s,u.sibling=R,s.child=u,rc(null,u),u=s.child,R=i.child.memoizedState,R===null?R=Tp(o):(d=R.cachePool,d!==null?(q=hn._currentValue,d=d.parent!==q?{parent:q,pool:q}:d):d=Hv(),R={baseLanes:R.baseLanes|o,cachePool:d}),u.memoizedState=R,u.childLanes=wp(i,E,o),s.memoizedState=Ep,rc(i.child,u)):(Va(s),o=i.child,i=o.sibling,o=Qs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function Ap(i,s){return s=of({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function of(i,s){return i=Kr(22,i,null,s),i.lanes=0,i}function xp(i,s,o){return $o(s,i.child,null,o),i=Ap(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function n_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),qm(i.return,s,o)}function Sp(i,s,o,u,d,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=d,E.treeForkCount=g)}function r_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var E=an.current,R=(E&2)!==0;if(R?(E=E&1|2,s.flags|=128):E&=1,ce(an,E),zn(i,s,u,o),u=ot?Fu:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n_(i,o,s);else if(i.tag===19)n_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Qh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Sp(s,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Qh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Sp(s,!0,o,null,g,u);break;case"together":Sp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ea(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),za|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ll(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Qs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Qs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Np(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&qh(i)))}function a2(i,s,o){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),Ma(s,hn,i.memoizedState.cache),qo();break;case 27:case 5:Ke(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:Ma(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Va(s),s.flags|=128,null):(o&s.child.childLanes)!==0?t_(i,s,o):(Va(s),i=ea(i,s,o),i!==null?i.sibling:null);Va(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ll(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return r_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(an,an.current),u)break;return null;case 22:return s.lanes=0,Y1(i,s,o,s.pendingProps);case 24:Ma(s,hn,i.memoizedState.cache)}return ea(i,s,o)}function i_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)dn=!0;else{if(!Np(i,o)&&(s.flags&128)===0)return dn=!1,a2(i,s,o);dn=(i.flags&131072)!==0}else dn=!1,ot&&(s.flags&1048576)!==0&&jv(s,Fu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=Fo(s.elementType),s.type=i,typeof i=="function")Dm(i)?(u=Qo(i,u),s.tag=1,s=J1(null,s,i,u,o)):(s.tag=0,s=bp(null,s,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===_e){s.tag=11,s=$1(null,s,i,u,o);break e}else if(d===j){s.tag=14,s=K1(null,s,i,u,o);break e}}throw s=me(i)||i,Error(r(306,s,""))}}return s;case 0:return bp(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=Qo(u,s.pendingProps),J1(i,s,u,d,o);case 3:e:{if(Ie(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Km(i,s),Zu(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Ma(s,hn,u),u!==g.cache&&Bm(s,[hn],o,!0),Wu(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=e_(i,s,u,o);break e}else if(u!==d){d=gi(Error(r(424)),s),Gu(d),s=e_(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Mt=Ei(i.firstChild),qn=s,ot=!0,Da=null,_i=!0,o=Yv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(qo(),u===d){s=ea(i,s,o);break e}zn(i,s,u,o)}s=s.child}return s;case 26:return af(i,s),i===null?(o=pb(s.type,null,s.pendingProps,null))?s.memoizedState=o:ot||(o=s.type,i=s.pendingProps,u=wf(Ae.current).createElement(o),u[Ut]=s,u[Zt]=i,Hn(u,o,i),qt(u),s.stateNode=u):s.memoizedState=pb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ke(s),i===null&&ot&&(u=s.stateNode=fb(s.type,s.pendingProps,Ae.current),qn=s,_i=!0,d=Mt,Ka(s.type)?(ag=d,Mt=Ei(u.firstChild)):Mt=d),zn(i,s,s.pendingProps.children,o),af(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ot&&((d=u=Mt)&&(u=j2(u,s.type,s.pendingProps,_i),u!==null?(s.stateNode=u,qn=s,Mt=Ei(u.firstChild),_i=!1,d=!0):d=!1),d||La(s)),Ke(s),d=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,tg(d,g)?u=null:E!==null&&tg(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=ep(i,s,WN,null,null,o),vc._currentValue=d),af(i,s),zn(i,s,u,o),s.child;case 6:return i===null&&ot&&((i=o=Mt)&&(o=P2(o,s.pendingProps,_i),o!==null?(s.stateNode=o,qn=s,Mt=null,i=!0):i=!1),i||La(s)),null;case 13:return t_(i,s,o);case 4:return Ie(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=$o(s,null,u,o):zn(i,s,u,o),s.child;case 11:return $1(i,s,s.type,s.pendingProps,o);case 7:return zn(i,s,s.pendingProps,o),s.child;case 8:return zn(i,s,s.pendingProps.children,o),s.child;case 12:return zn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ma(s,s.type,u.value),zn(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,zo(s),d=Bn(d),u=u(d),s.flags|=1,zn(i,s,u,o),s.child;case 14:return K1(i,s,s.type,s.pendingProps,o);case 15:return Q1(i,s,s.type,s.pendingProps,o);case 19:return r_(i,s,o);case 31:return s2(i,s,o);case 22:return Y1(i,s,o,s.pendingProps);case 24:return zo(s),u=Bn(hn),i===null?(d=Fm(),d===null&&(d=xt,g=zm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},$m(s),Ma(s,hn,d)):((i.lanes&o)!==0&&(Km(i,s),Zu(s,null,null,o),Wu()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ma(s,hn,u)):(u=g.cache,Ma(s,hn,u),u!==d.cache&&Bm(s,[hn],o,!0))),zn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ta(i){i.flags|=4}function Cp(i,s,o,u,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(O_())i.flags|=8192;else throw Go=Fh,Gm}else i.flags&=-16777217}function s_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!bb(s))if(O_())i.flags|=8192;else throw Go=Fh,Gm}function lf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?is():536870912,i.lanes|=s,Gl|=s)}function ic(i,s){if(!ot)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function kt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function o2(i,s,o){var u=s.pendingProps;switch(jm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(s),null;case 1:return kt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ws(hn),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Dl(s)?ta(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vm())),kt(s),null;case 26:var d=s.type,g=s.memoizedState;return i===null?(ta(s),g!==null?(kt(s),s_(s,g)):(kt(s),Cp(s,d,null,u,o))):g?g!==i.memoizedState?(ta(s),kt(s),s_(s,g)):(kt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&ta(s),kt(s),Cp(s,d,i,u,o)),null;case 27:if(Xe(s),o=Ae.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ta(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return kt(s),null}i=fe.current,Dl(s)?Vv(s):(i=fb(d,u,o),s.stateNode=i,ta(s))}return kt(s),null;case 5:if(Xe(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ta(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return kt(s),null}if(g=fe.current,Dl(s))Vv(s);else{var E=wf(Ae.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(d,{is:u.is}):E.createElement(d)}}g[Ut]=s,g[Zt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;e:switch(Hn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ta(s)}}return kt(s),Cp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ta(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,Dl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=qn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ut]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||tb(i.nodeValue,o)),i||La(s,!0)}else i=wf(i).createTextNode(u),i[Ut]=s,s.stateNode=i}return kt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=Dl(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ut]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kt(s),i=!1}else o=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Yr(s),s):(Yr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return kt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Dl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ut]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kt(s),d=!1}else d=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Yr(s),s):(Yr(s),null)}return Yr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),lf(s,s.updateQueue),kt(s),null);case 4:return Le(),i===null&&Xp(s.stateNode.containerInfo),kt(s),null;case 10:return Ws(s.type),kt(s),null;case 19:if(Y(an),u=s.memoizedState,u===null)return kt(s),null;if(d=(s.flags&128)!==0,g=u.rendering,g===null)if(d)ic(u,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Qh(i),g!==null){for(s.flags|=128,ic(u,!1),i=g.updateQueue,s.updateQueue=i,lf(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Lv(o,i),o=o.sibling;return ce(an,an.current&1|2),ot&&Ys(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Nt()>df&&(s.flags|=128,d=!0,ic(u,!1),s.lanes=4194304)}else{if(!d)if(i=Qh(g),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,lf(s,i),ic(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!ot)return kt(s),null}else 2*Nt()-u.renderingStartTime>df&&o!==536870912&&(s.flags|=128,d=!0,ic(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Nt(),i.sibling=null,o=an.current,ce(an,d?o&1|2:o&1),ot&&Ys(s,u.treeForkCount),i):(kt(s),null);case 22:case 23:return Yr(s),Wm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(kt(s),s.subtreeFlags&6&&(s.flags|=8192)):kt(s),o=s.updateQueue,o!==null&&lf(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&Y(Ho),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ws(hn),kt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function l2(i,s){switch(jm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ws(hn),Le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xe(s),null;case 31:if(s.memoizedState!==null){if(Yr(s),s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(an),null;case 4:return Le(),null;case 10:return Ws(s.type),null;case 22:case 23:return Yr(s),Wm(),i!==null&&Y(Ho),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ws(hn),null;case 25:return null;default:return null}}function a_(i,s){switch(jm(s),s.tag){case 3:Ws(hn),Le();break;case 26:case 27:case 5:Xe(s);break;case 4:Le();break;case 31:s.memoizedState!==null&&Yr(s);break;case 13:Yr(s);break;case 19:Y(an);break;case 10:Ws(s.type);break;case 22:case 23:Yr(s),Wm(),i!==null&&Y(Ho);break;case 24:Ws(hn)}}function sc(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(R){_t(s,s.return,R)}}function qa(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,d=s;var q=o,W=R;try{W()}catch(ie){_t(d,q,ie)}}}u=u.next}while(u!==g)}}catch(ie){_t(s,s.return,ie)}}function o_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Wv(s,o)}catch(u){_t(i,i.return,u)}}}function l_(i,s,o){o.props=Qo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){_t(i,s,u)}}function ac(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){_t(i,s,d)}}function ps(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){_t(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){_t(i,s,d)}else o.current=null}function u_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){_t(i,i.return,d)}}function Rp(i,s,o){try{var u=i.stateNode;I2(u,i.type,o,s),u[Zt]=s}catch(d){_t(i,i.return,d)}}function c_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ka(i.type)||i.tag===4}function Ip(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ka(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=er));else if(u!==4&&(u===27&&Ka(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Op(i,s,o),i=i.sibling;i!==null;)Op(i,s,o),i=i.sibling}function uf(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Ka(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(uf(i,s,o),i=i.sibling;i!==null;)uf(i,s,o),i=i.sibling}function h_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Hn(s,u,o),s[Ut]=i,s[Zt]=o}catch(g){_t(i,i.return,g)}}var na=!1,mn=!1,Dp=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function u2(i,s){if(i=i.containerInfo,Jp=If,i=Av(i),xm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,R=-1,q=-1,W=0,ie=0,ue=i,J=null;t:for(;;){for(var re;ue!==o||d!==0&&ue.nodeType!==3||(R=E+d),ue!==g||u!==0&&ue.nodeType!==3||(q=E+u),ue.nodeType===3&&(E+=ue.nodeValue.length),(re=ue.firstChild)!==null;)J=ue,ue=re;for(;;){if(ue===i)break t;if(J===o&&++W===d&&(R=E),J===g&&++ie===u&&(q=E),(re=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=re}o=R===-1||q===-1?null:{start:R,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(eg={focusedElem:i,selectionRange:o},If=!1,Cn=s;Cn!==null;)if(s=Cn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Cn=i;else for(;Cn!==null;){switch(s=Cn,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Se=Qo(o.type,d);i=u.getSnapshotBeforeUpdate(Se,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){_t(o,o.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)rg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Cn=i;break}Cn=s.return}}function d_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ia(i,o),u&4&&sc(5,o);break;case 1:if(ia(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){_t(o,o.return,E)}else{var d=Qo(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){_t(o,o.return,E)}}u&64&&o_(o),u&512&&ac(o,o.return);break;case 3:if(ia(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Wv(i,s)}catch(E){_t(o,o.return,E)}}break;case 27:s===null&&u&4&&h_(o);case 26:case 5:ia(i,o),s===null&&u&4&&u_(o),u&512&&ac(o,o.return);break;case 12:ia(i,o);break;case 31:ia(i,o),u&4&&g_(i,o);break;case 13:ia(i,o),u&4&&y_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=v2.bind(null,o),V2(i,o))));break;case 22:if(u=o.memoizedState!==null||na,!u){s=s!==null&&s.memoizedState!==null||mn,d=na;var g=mn;na=u,(mn=s)&&!g?sa(i,o,(o.subtreeFlags&8772)!==0):ia(i,o),na=d,mn=g}break;case 30:break;default:ia(i,o)}}function m_(i){var s=i.alternate;s!==null&&(i.alternate=null,m_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ss(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,Cr=!1;function ra(i,s,o){for(o=o.child;o!==null;)p_(i,s,o),o=o.sibling}function p_(i,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ur,o)}catch{}switch(o.tag){case 26:mn||ps(o,s),ra(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mn||ps(o,s);var u=Gt,d=Cr;Ka(o.type)&&(Gt=o.stateNode,Cr=!1),ra(i,s,o),pc(o.stateNode),Gt=u,Cr=d;break;case 5:mn||ps(o,s);case 6:if(u=Gt,d=Cr,Gt=null,ra(i,s,o),Gt=u,Cr=d,Gt!==null)if(Cr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(g){_t(o,s,g)}else try{Gt.removeChild(o.stateNode)}catch(g){_t(o,s,g)}break;case 18:Gt!==null&&(Cr?(i=Gt,ob(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Jl(i)):ob(Gt,o.stateNode));break;case 4:u=Gt,d=Cr,Gt=o.stateNode.containerInfo,Cr=!0,ra(i,s,o),Gt=u,Cr=d;break;case 0:case 11:case 14:case 15:qa(2,o,s),mn||qa(4,o,s),ra(i,s,o);break;case 1:mn||(ps(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&l_(o,s,u)),ra(i,s,o);break;case 21:ra(i,s,o);break;case 22:mn=(u=mn)||o.memoizedState!==null,ra(i,s,o),mn=u;break;default:ra(i,s,o)}}function g_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Jl(i)}catch(o){_t(s,s.return,o)}}}function y_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jl(i)}catch(o){_t(s,s.return,o)}}function c2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new f_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new f_),s;default:throw Error(r(435,i.tag))}}function cf(i,s){var o=c2(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=_2.bind(null,i,u);u.then(d,d)}})}function Rr(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Ka(R.type)){Gt=R.stateNode,Cr=!1;break e}break;case 5:Gt=R.stateNode,Cr=!1;break e;case 3:case 4:Gt=R.stateNode.containerInfo,Cr=!0;break e}R=R.return}if(Gt===null)throw Error(r(160));p_(g,E,d),Gt=null,Cr=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)v_(s,i),s=s.sibling}var Hi=null;function v_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rr(s,i),Ir(i),u&4&&(qa(3,i,i.return),sc(3,i),qa(5,i,i.return));break;case 1:Rr(s,i),Ir(i),u&512&&(mn||o===null||ps(o,o.return)),u&64&&na&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Hi;if(Rr(s,i),Ir(i),u&512&&(mn||o===null||ps(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[wr]||g[Ut]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Hn(g,u,o),g[Ut]=i,qt(g),u=g;break e;case"link":var E=vb("link","href",d).get(u+(o.href||""));if(E){for(var R=0;R<E.length;R++)if(g=E[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(R,1);break t}}g=d.createElement(u),Hn(g,u,o),d.head.appendChild(g);break;case"meta":if(E=vb("meta","content",d).get(u+(o.content||""))){for(R=0;R<E.length;R++)if(g=E[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(R,1);break t}}g=d.createElement(u),Hn(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ut]=i,qt(g),u=g}i.stateNode=u}else _b(d,i.type,i.stateNode);else i.stateNode=yb(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?_b(d,i.type,i.stateNode):yb(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Rp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Rr(s,i),Ir(i),u&512&&(mn||o===null||ps(o,o.return)),o!==null&&u&4&&Rp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Rr(s,i),Ir(i),u&512&&(mn||o===null||ps(o,o.return)),i.flags&32){d=i.stateNode;try{zt(d,"")}catch(Se){_t(i,i.return,Se)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Rp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Dp=!0);break;case 6:if(Rr(s,i),Ir(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Se){_t(i,i.return,Se)}}break;case 3:if(Sf=null,d=Hi,Hi=Af(s.containerInfo),Rr(s,i),Hi=d,Ir(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Jl(s.containerInfo)}catch(Se){_t(i,i.return,Se)}Dp&&(Dp=!1,__(i));break;case 4:u=Hi,Hi=Af(i.stateNode.containerInfo),Rr(s,i),Ir(i),Hi=u;break;case 12:Rr(s,i),Ir(i);break;case 31:Rr(s,i),Ir(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,cf(i,u)));break;case 13:Rr(s,i),Ir(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ff=Nt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,cf(i,u)));break;case 22:d=i.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,W=na,ie=mn;if(na=W||d,mn=ie||q,Rr(s,i),mn=ie,na=W,Ir(i),u&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||q||na||mn||Yo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){q=o=s;try{if(g=q.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=q.stateNode;var ue=q.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Se){_t(q,q.return,Se)}}}else if(s.tag===6){if(o===null){q=s;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(Se){_t(q,q.return,Se)}}}else if(s.tag===18){if(o===null){q=s;try{var re=q.stateNode;d?lb(re,!0):lb(q.stateNode,!1)}catch(Se){_t(q,q.return,Se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,cf(i,o))));break;case 19:Rr(s,i),Ir(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,cf(i,u)));break;case 30:break;case 21:break;default:Rr(s,i),Ir(i)}}function Ir(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(c_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Ip(i);uf(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(zt(E,""),o.flags&=-33);var R=Ip(i);uf(i,R,E);break;case 3:case 4:var q=o.stateNode.containerInfo,W=Ip(i);Op(i,W,q);break;default:throw Error(r(161))}}catch(ie){_t(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function __(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;__(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ia(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)d_(i,s.alternate,s),s=s.sibling}function Yo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qa(4,s,s.return),Yo(s);break;case 1:ps(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&l_(s,s.return,o),Yo(s);break;case 27:pc(s.stateNode);case 26:case 5:ps(s,s.return),Yo(s);break;case 22:s.memoizedState===null&&Yo(s);break;case 30:Yo(s);break;default:Yo(s)}i=i.sibling}}function sa(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:sa(d,g,o),sc(4,g);break;case 1:if(sa(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){_t(u,u.return,W)}if(u=g,d=u.updateQueue,d!==null){var R=u.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)Xv(q[d],R)}catch(W){_t(u,u.return,W)}}o&&E&64&&o_(g),ac(g,g.return);break;case 27:h_(g);case 26:case 5:sa(d,g,o),o&&u===null&&E&4&&u_(g),ac(g,g.return);break;case 12:sa(d,g,o);break;case 31:sa(d,g,o),o&&E&4&&g_(d,g);break;case 13:sa(d,g,o),o&&E&4&&y_(d,g);break;case 22:g.memoizedState===null&&sa(d,g,o),ac(g,g.return);break;case 30:break;default:sa(d,g,o)}s=s.sibling}}function Lp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$u(o))}function Mp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$u(i))}function Fi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)b_(i,s,o,u),s=s.sibling}function b_(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(i,s,o,u),d&2048&&sc(9,s);break;case 1:Fi(i,s,o,u);break;case 3:Fi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$u(i)));break;case 12:if(d&2048){Fi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,R=g.onPostCommit;typeof R=="function"&&R(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){_t(s,s.return,q)}}else Fi(i,s,o,u);break;case 31:Fi(i,s,o,u);break;case 13:Fi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Fi(i,s,o,u):oc(i,s):g._visibility&2?Fi(i,s,o,u):(g._visibility|=2,zl(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Lp(E,s);break;case 24:Fi(i,s,o,u),d&2048&&Mp(s.alternate,s);break;default:Fi(i,s,o,u)}}function zl(i,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,E=s,R=o,q=u,W=E.flags;switch(E.tag){case 0:case 11:case 15:zl(g,E,R,q,d),sc(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?zl(g,E,R,q,d):oc(g,E):(ie._visibility|=2,zl(g,E,R,q,d)),d&&W&2048&&Lp(E.alternate,E);break;case 24:zl(g,E,R,q,d),d&&W&2048&&Mp(E.alternate,E);break;default:zl(g,E,R,q,d)}s=s.sibling}}function oc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:oc(o,u),d&2048&&Lp(u.alternate,u);break;case 24:oc(o,u),d&2048&&Mp(u.alternate,u);break;default:oc(o,u)}s=s.sibling}}var lc=8192;function Hl(i,s,o){if(i.subtreeFlags&lc)for(i=i.child;i!==null;)E_(i,s,o),i=i.sibling}function E_(i,s,o){switch(i.tag){case 26:Hl(i,s,o),i.flags&lc&&i.memoizedState!==null&&X2(o,Hi,i.memoizedState,i.memoizedProps);break;case 5:Hl(i,s,o);break;case 3:case 4:var u=Hi;Hi=Af(i.stateNode.containerInfo),Hl(i,s,o),Hi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=lc,lc=16777216,Hl(i,s,o),lc=u):Hl(i,s,o));break;default:Hl(i,s,o)}}function T_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function uc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Cn=u,A_(u,i)}T_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)w_(i),i=i.sibling}function w_(i){switch(i.tag){case 0:case 11:case 15:uc(i),i.flags&2048&&qa(9,i,i.return);break;case 3:uc(i);break;case 12:uc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,hf(i)):uc(i);break;default:uc(i)}}function hf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Cn=u,A_(u,i)}T_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qa(8,s,s.return),hf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,hf(s));break;default:hf(s)}i=i.sibling}}function A_(i,s){for(;Cn!==null;){var o=Cn;switch(o.tag){case 0:case 11:case 15:qa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$u(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Cn=u;else e:for(o=i;Cn!==null;){u=Cn;var d=u.sibling,g=u.return;if(m_(u),u===o){Cn=null;break e}if(d!==null){d.return=g,Cn=d;break e}Cn=g}}}var h2={getCacheForType:function(i){var s=Bn(hn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Bn(hn).controller.signal}},f2=typeof WeakMap=="function"?WeakMap:Map,pt=0,xt=null,Ze=null,tt=0,vt=0,Xr=null,Ba=!1,Fl=!1,kp=!1,aa=0,tn=0,za=0,Xo=0,jp=0,Wr=0,Gl=0,cc=null,Or=null,Pp=!1,ff=0,x_=0,df=1/0,mf=null,Ha=null,bn=0,Fa=null,$l=null,oa=0,Vp=0,Up=null,S_=null,hc=0,qp=null;function Zr(){return(pt&2)!==0&&tt!==0?tt&-tt:B.T!==null?$p():Wt()}function N_(){if(Wr===0)if((tt&536870912)===0||ot){var i=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),Wr=i}else Wr=536870912;return i=Qr.current,i!==null&&(i.flags|=32),Wr}function Dr(i,s,o){(i===xt&&(vt===2||vt===9)||i.cancelPendingCommit!==null)&&(Kl(i,0),Ga(i,tt,Wr,!1)),si(i,o),((pt&2)===0||i!==xt)&&(i===xt&&((pt&2)===0&&(Xo|=o),tn===4&&Ga(i,tt,Wr,!1)),gs(i))}function C_(i,s,o){if((pt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Ln(i,s),d=u?p2(i,s):zp(i,s,!0),g=u;do{if(d===0){Fl&&!u&&Ga(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!d2(o)){d=zp(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var R=i;d=cc;var q=R.current.memoizedState.isDehydrated;if(q&&(Kl(R,E).flags|=256),E=zp(R,E,!1),E!==2){if(kp&&!q){R.errorRecoveryDisabledLanes|=g,Xo|=g,d=4;break e}g=Or,Or=d,g!==null&&(Or===null?Or=g:Or.push.apply(Or,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){Kl(i,0),Ga(i,s,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ga(u,s,Wr,!Ba);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=ff+300-Nt(),10<d)){if(Ga(u,s,Wr,!Ba),xn(u,0,!0)!==0)break e;oa=s,u.timeoutHandle=sb(R_.bind(null,u,o,Or,mf,Pp,s,Wr,Xo,Gl,Ba,g,"Throttled",-0,0),d);break e}R_(u,o,Or,mf,Pp,s,Wr,Xo,Gl,Ba,g,null,-0,0)}}break}while(!0);gs(i)}function R_(i,s,o,u,d,g,E,R,q,W,ie,ue,J,re){if(i.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:er},E_(s,g,ue);var Se=(g&62914560)===g?ff-Nt():(g&4194048)===g?x_-Nt():0;if(Se=W2(ue,Se),Se!==null){oa=g,i.cancelPendingCommit=Se(P_.bind(null,i,s,g,o,u,d,E,R,q,ie,ue,null,J,re)),Ga(i,g,E,!W);return}}P_(i,s,g,o,u,d,E,R,q)}function d2(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!$r(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ga(i,s,o,u){s&=~jp,s&=~Xo,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Ct(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&Mi(i,o,s)}function pf(){return(pt&6)===0?(fc(0),!1):!0}function Bp(){if(Ze!==null){if(vt===0)var i=Ze.return;else i=Ze,Xs=Bo=null,rp(i),Pl=null,Qu=0,i=Ze;for(;i!==null;)a_(i.alternate,i),i=i.return;Ze=null}}function Kl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,L2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),oa=0,Bp(),xt=i,Ze=o=Qs(i.current,null),tt=s,vt=0,Xr=null,Ba=!1,Fl=Ln(i,s),kp=!1,Gl=Wr=jp=Xo=za=tn=0,Or=cc=null,Pp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Ct(u),g=1<<d;s|=i[d],u&=~g}return aa=s,kh(),o}function I_(i,s){Fe=null,B.H=nc,s===jl||s===Hh?(s=$v(),vt=3):s===Gm?(s=$v(),vt=4):vt=s===_p?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xr=s,Ze===null&&(tn=1,rf(i,gi(s,i.current)))}function O_(){var i=Qr.current;return i===null?!0:(tt&4194048)===tt?bi===null:(tt&62914560)===tt||(tt&536870912)!==0?i===bi:!1}function D_(){var i=B.H;return B.H=nc,i===null?nc:i}function L_(){var i=B.A;return B.A=h2,i}function gf(){tn=4,Ba||(tt&4194048)!==tt&&Qr.current!==null||(Fl=!0),(za&134217727)===0&&(Xo&134217727)===0||xt===null||Ga(xt,tt,Wr,!1)}function zp(i,s,o){var u=pt;pt|=2;var d=D_(),g=L_();(xt!==i||tt!==s)&&(mf=null,Kl(i,s)),s=!1;var E=tn;e:do try{if(vt!==0&&Ze!==null){var R=Ze,q=Xr;switch(vt){case 8:Bp(),E=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(s=!0);var W=vt;if(vt=0,Xr=null,Ql(i,R,q,W),o&&Fl){E=0;break e}break;default:W=vt,vt=0,Xr=null,Ql(i,R,q,W)}}m2(),E=tn;break}catch(ie){I_(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Xs=Bo=null,pt=u,B.H=d,B.A=g,Ze===null&&(xt=null,tt=0,kh()),E}function m2(){for(;Ze!==null;)M_(Ze)}function p2(i,s){var o=pt;pt|=2;var u=D_(),d=L_();xt!==i||tt!==s?(mf=null,df=Nt()+500,Kl(i,s)):Fl=Ln(i,s);e:do try{if(vt!==0&&Ze!==null){s=Ze;var g=Xr;t:switch(vt){case 1:vt=0,Xr=null,Ql(i,s,g,1);break;case 2:case 9:if(Fv(g)){vt=0,Xr=null,k_(s);break}s=function(){vt!==2&&vt!==9||xt!==i||(vt=7),gs(i)},g.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Fv(g)?(vt=0,Xr=null,k_(s)):(vt=0,Xr=null,Ql(i,s,g,7));break;case 5:var E=null;switch(Ze.tag){case 26:E=Ze.memoizedState;case 5:case 27:var R=Ze;if(E?bb(E):R.stateNode.complete){vt=0,Xr=null;var q=R.sibling;if(q!==null)Ze=q;else{var W=R.return;W!==null?(Ze=W,yf(W)):Ze=null}break t}}vt=0,Xr=null,Ql(i,s,g,5);break;case 6:vt=0,Xr=null,Ql(i,s,g,6);break;case 8:Bp(),tn=6;break e;default:throw Error(r(462))}}g2();break}catch(ie){I_(i,ie)}while(!0);return Xs=Bo=null,B.H=u,B.A=d,pt=o,Ze!==null?0:(xt=null,tt=0,kh(),tn)}function g2(){for(;Ze!==null&&!xa();)M_(Ze)}function M_(i){var s=i_(i.alternate,i,aa);i.memoizedProps=i.pendingProps,s===null?yf(i):Ze=s}function k_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Z1(o,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=Z1(o,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:rp(s);default:a_(o,s),s=Ze=Lv(s,aa),s=i_(o,s,aa)}i.memoizedProps=i.pendingProps,s===null?yf(i):Ze=s}function Ql(i,s,o,u){Xs=Bo=null,rp(s),Pl=null,Qu=0;var d=s.return;try{if(i2(i,d,s,o,tt)){tn=1,rf(i,gi(o,i.current)),Ze=null;return}}catch(g){if(d!==null)throw Ze=d,g;tn=1,rf(i,gi(o,i.current)),Ze=null;return}s.flags&32768?(ot||u===1?i=!0:Fl||(tt&536870912)!==0?i=!1:(Ba=i=!0,(u===2||u===9||u===3||u===6)&&(u=Qr.current,u!==null&&u.tag===13&&(u.flags|=16384))),j_(s,i)):yf(s)}function yf(i){var s=i;do{if((s.flags&32768)!==0){j_(s,Ba);return}i=s.return;var o=o2(s.alternate,s,aa);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=i}while(s!==null);tn===0&&(tn=5)}function j_(i,s){do{var o=l2(i.alternate,i);if(o!==null){o.flags&=32767,Ze=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ze=i;return}Ze=i=o}while(i!==null);tn=6,Ze=null}function P_(i,s,o,u,d,g,E,R,q){i.cancelPendingCommit=null;do vf();while(bn!==0);if((pt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Im,Ur(i,o,g,E,R,q),i===xt&&(Ze=xt=null,tt=0),$l=s,Fa=i,oa=o,Vp=g,Up=d,S_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,b2(lr,function(){return z_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,d=Z.p,Z.p=2,E=pt,pt|=4;try{u2(i,s,o)}finally{pt=E,Z.p=d,B.T=u}}bn=1,V_(),U_(),q_()}}function V_(){if(bn===1){bn=0;var i=Fa,s=$l,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=Z.p;Z.p=2;var d=pt;pt|=4;try{v_(s,i);var g=eg,E=Av(i.containerInfo),R=g.focusedElem,q=g.selectionRange;if(E!==R&&R&&R.ownerDocument&&wv(R.ownerDocument.documentElement,R)){if(q!==null&&xm(R)){var W=q.start,ie=q.end;if(ie===void 0&&(ie=W),"selectionStart"in R)R.selectionStart=W,R.selectionEnd=Math.min(ie,R.value.length);else{var ue=R.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var re=J.getSelection(),Se=R.textContent.length,Pe=Math.min(q.start,Se),wt=q.end===void 0?Pe:Math.min(q.end,Se);!re.extend&&Pe>wt&&(E=wt,wt=Pe,Pe=E);var $=Tv(R,Pe),F=Tv(R,wt);if($&&F&&(re.rangeCount!==1||re.anchorNode!==$.node||re.anchorOffset!==$.offset||re.focusNode!==F.node||re.focusOffset!==F.offset)){var X=ue.createRange();X.setStart($.node,$.offset),re.removeAllRanges(),Pe>wt?(re.addRange(X),re.extend(F.node,F.offset)):(X.setEnd(F.node,F.offset),re.addRange(X))}}}}for(ue=[],re=R;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ue.length;R++){var se=ue[R];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}If=!!Jp,eg=Jp=null}finally{pt=d,Z.p=u,B.T=o}}i.current=s,bn=2}}function U_(){if(bn===2){bn=0;var i=Fa,s=$l,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=Z.p;Z.p=2;var d=pt;pt|=4;try{d_(i,s.alternate,s)}finally{pt=d,Z.p=u,B.T=o}}bn=3}}function q_(){if(bn===4||bn===3){bn=0,Ls();var i=Fa,s=$l,o=oa,u=S_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bn=5:(bn=0,$l=Fa=null,B_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Ha=null),cr(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ur,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,d=Z.p,Z.p=2,B.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var R=u[E];g(R.value,{componentStack:R.stack})}}finally{B.T=s,Z.p=d}}(oa&3)!==0&&vf(),gs(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===qp?hc++:(hc=0,qp=i):hc=0,fc(0)}}function B_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$u(s)))}function vf(){return V_(),U_(),q_(),z_()}function z_(){if(bn!==5)return!1;var i=Fa,s=Vp;Vp=0;var o=cr(oa),u=B.T,d=Z.p;try{Z.p=32>o?32:o,B.T=null,o=Up,Up=null;var g=Fa,E=oa;if(bn=0,$l=Fa=null,oa=0,(pt&6)!==0)throw Error(r(331));var R=pt;if(pt|=4,w_(g.current),b_(g,g.current,E,o),pt=R,fc(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ur,g)}catch{}return!0}finally{Z.p=d,B.T=u,B_(i,s)}}function H_(i,s,o){s=gi(o,s),s=vp(i.stateNode,s,2),i=Pa(i,s,2),i!==null&&(si(i,2),gs(i))}function _t(i,s,o){if(i.tag===3)H_(i,i,o);else for(;s!==null;){if(s.tag===3){H_(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ha===null||!Ha.has(u))){i=gi(o,i),o=F1(2),u=Pa(s,o,2),u!==null&&(G1(o,u,s,i),si(u,2),gs(u));break}}s=s.return}}function Hp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new f2;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(kp=!0,d.add(o),i=y2.bind(null,i,s,o),s.then(i,i))}function y2(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,xt===i&&(tt&o)===o&&(tn===4||tn===3&&(tt&62914560)===tt&&300>Nt()-ff?(pt&2)===0&&Kl(i,0):jp|=o,Gl===tt&&(Gl=0)),gs(i)}function F_(i,s){s===0&&(s=is()),i=Vo(i,s),i!==null&&(si(i,s),gs(i))}function v2(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),F_(i,o)}function _2(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),F_(i,o)}function b2(i,s){return St(i,s)}var _f=null,Yl=null,Fp=!1,bf=!1,Gp=!1,$a=0;function gs(i){i!==Yl&&i.next===null&&(Yl===null?_f=Yl=i:Yl=Yl.next=i),bf=!0,Fp||(Fp=!0,T2())}function fc(i,s){if(!Gp&&bf){Gp=!0;do for(var o=!1,u=_f;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-Ct(42|i)+1)-1,g&=d&~(E&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Q_(u,g))}else g=tt,g=xn(u,u===xt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ln(u,g)||(o=!0,Q_(u,g));u=u.next}while(o);Gp=!1}}function E2(){G_()}function G_(){bf=Fp=!1;var i=0;$a!==0&&D2()&&(i=$a);for(var s=Nt(),o=null,u=_f;u!==null;){var d=u.next,g=$_(u,s);g===0?(u.next=null,o===null?_f=d:o.next=d,d===null&&(Yl=o)):(o=u,(i!==0||(g&3)!==0)&&(bf=!0)),u=d}bn!==0&&bn!==5||fc(i),$a!==0&&($a=0)}function $_(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Ct(g),R=1<<E,q=d[E];q===-1?((R&o)===0||(R&u)!==0)&&(d[E]=Vs(R,s)):q<=s&&(i.expiredLanes|=R),g&=~R}if(s=xt,o=tt,o=xn(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(vt===2||vt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&_r(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ln(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&_r(u),cr(o)){case 2:case 8:o=Pr;break;case 32:o=lr;break;case 268435456:o=On;break;default:o=lr}return u=K_.bind(null,i),o=St(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&_r(u),i.callbackPriority=2,i.callbackNode=null,2}function K_(i,s){if(bn!==0&&bn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(vf()&&i.callbackNode!==o)return null;var u=tt;return u=xn(i,i===xt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(C_(i,u,s),$_(i,Nt()),i.callbackNode!=null&&i.callbackNode===o?K_.bind(null,i):null)}function Q_(i,s){if(vf())return null;C_(i,s,!0)}function T2(){M2(function(){(pt&6)!==0?St(Ms,E2):G_()})}function $p(){if($a===0){var i=Ml;i===0&&(i=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),$a=i}return $a}function Y_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cs(""+i)}function X_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function w2(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=Y_((d[Zt]||null).action),E=u.submitter;E&&(s=(s=E[Zt]||null)?Y_(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var R=new xe("action","action",null,u,d);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($a!==0){var q=E?X_(d,E):new FormData(d);fp(o,{pending:!0,data:q,method:d.method,action:g},null,q)}}else typeof g=="function"&&(R.preventDefault(),q=E?X_(d,E):new FormData(d),fp(o,{pending:!0,data:q,method:d.method,action:g},g,q))},currentTarget:d}]})}}for(var Kp=0;Kp<Rm.length;Kp++){var Qp=Rm[Kp],A2=Qp.toLowerCase(),x2=Qp[0].toUpperCase()+Qp.slice(1);zi(A2,"on"+x2)}zi(Nv,"onAnimationEnd"),zi(Cv,"onAnimationIteration"),zi(Rv,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(BN,"onTransitionRun"),zi(zN,"onTransitionStart"),zi(HN,"onTransitionCancel"),zi(Iv,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function W_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var R=u[E],q=R.instance,W=R.currentTarget;if(R=R.listener,q!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=W;try{g(d)}catch(ie){Mh(ie)}d.currentTarget=null,g=q}else for(E=0;E<u.length;E++){if(R=u[E],q=R.instance,W=R.currentTarget,R=R.listener,q!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=W;try{g(d)}catch(ie){Mh(ie)}d.currentTarget=null,g=q}}}}function Je(i,s){var o=s[Qt];o===void 0&&(o=s[Qt]=new Set);var u=i+"__bubble";o.has(u)||(Z_(s,i,2,!1),o.add(u))}function Yp(i,s,o){var u=0;s&&(u|=4),Z_(o,i,u,s)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function Xp(i){if(!i[Ef]){i[Ef]=!0,Bs.forEach(function(o){o!=="selectionchange"&&(S2.has(o)||Yp(o,!1,i),Yp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ef]||(s[Ef]=!0,Yp("selectionchange",!1,s))}}function Z_(i,s,o,u){switch(Nb(s)){case 2:var d=eC;break;case 8:d=tC;break;default:d=hg}o=d.bind(null,s,o,i),d=void 0,!di||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Wp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var R=u.stateNode.containerInfo;if(R===d)break;if(E===4)for(E=u.return;E!==null;){var q=E.tag;if((q===3||q===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;R!==null;){if(E=Ot(R),E===null)return;if(q=E.tag,q===5||q===6||q===26||q===27){u=g=E;continue e}R=R.parentNode}}u=u.return}fi(function(){var W=g,ie=Pn(o),ue=[];e:{var J=Ov.get(i);if(J!==void 0){var re=xe,Se=i;switch(i){case"keypress":if(b(o)===0)break e;case"keydown":case"keyup":re=Oh;break;case"focusin":Se="focus",re=Un;break;case"focusout":Se="blur",re=Un;break;case"beforeblur":case"afterblur":re=Un;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Jt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=v;break;case Nv:case Cv:case Rv:re=Mo;break;case Iv:re=D;break;case"scroll":case"scrollend":re=Ye;break;case"wheel":re=te;break;case"copy":case"cut":case"paste":re=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ks;break;case"toggle":case"beforetoggle":re=He}var Pe=(s&4)!==0,wt=!Pe&&(i==="scroll"||i==="scrollend"),$=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var F=W,X;F!==null;){var se=F;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||$===null||(se=tr(F,$),se!=null&&Pe.push(mc(F,se,X))),wt)break;F=F.return}0<Pe.length&&(J=new re(J,Se,null,o,ie),ue.push({event:J,listeners:Pe}))}}if((s&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",J&&o!==nn&&(Se=o.relatedTarget||o.fromElement)&&(Ot(Se)||Se[Tr]))break e;if((re||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,re?(Se=o.relatedTarget||o.toElement,re=W,Se=Se?Ot(Se):null,Se!==null&&(wt=l(Se),Pe=Se.tag,Se!==wt||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(re=null,Se=W),re!==Se)){if(Pe=Lt,se="onMouseLeave",$="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=Ks,se="onPointerLeave",$="onPointerEnter",F="pointer"),wt=re==null?J:Mn(re),X=Se==null?J:Mn(Se),J=new Pe(se,F+"leave",re,o,ie),J.target=wt,J.relatedTarget=X,se=null,Ot(ie)===W&&(Pe=new Pe($,F+"enter",Se,o,ie),Pe.target=X,Pe.relatedTarget=wt,se=Pe),wt=se,re&&Se)t:{for(Pe=N2,$=re,F=Se,X=0,se=$;se;se=Pe(se))X++;se=0;for(var Me=F;Me;Me=Pe(Me))se++;for(;0<X-se;)$=Pe($),X--;for(;0<se-X;)F=Pe(F),se--;for(;X--;){if($===F||F!==null&&$===F.alternate){Pe=$;break t}$=Pe($),F=Pe(F)}Pe=null}else Pe=null;re!==null&&J_(ue,J,re,Pe,!1),Se!==null&&wt!==null&&J_(ue,wt,Se,Pe,!0)}}e:{if(J=W?Mn(W):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var ht=gv;else if(mv(J))if(yv)ht=VN;else{ht=jN;var Ce=kN}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&us(W.elementType)&&(ht=gv):ht=PN;if(ht&&(ht=ht(i,W))){pv(ue,ht,o,ie);break e}Ce&&Ce(i,J,W),i==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Hs(J,"number",J.value)}switch(Ce=W?Mn(W):window,i){case"focusin":(mv(Ce)||Ce.contentEditable==="true")&&(Sl=Ce,Sm=W,Hu=null);break;case"focusout":Hu=Sm=Sl=null;break;case"mousedown":Nm=!0;break;case"contextmenu":case"mouseup":case"dragend":Nm=!1,xv(ue,o,ie);break;case"selectionchange":if(qN)break;case"keydown":case"keyup":xv(ue,o,ie)}var $e;if(mt)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else xl?ko(i,o)&&(nt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(nt="onCompositionStart");nt&&(fs&&o.locale!=="ko"&&(xl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&xl&&($e=Gs()):(mr=ie,Pi="value"in mr?mr.value:mr.textContent,xl=!0)),Ce=Tf(W,nt),0<Ce.length&&(nt=new hs(nt,i,null,o,ie),ue.push({event:nt,listeners:Ce}),$e?nt.data=$e:($e=Al(o),$e!==null&&(nt.data=$e)))),($e=mi?ON(i,o):DN(i,o))&&(nt=Tf(W,"onBeforeInput"),0<nt.length&&(Ce=new hs("onBeforeInput","beforeinput",null,o,ie),ue.push({event:Ce,listeners:nt}),Ce.data=$e)),w2(ue,i,W,o,ie)}W_(ue,s)})}function mc(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Tf(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=tr(i,o),d!=null&&u.unshift(mc(i,d,g)),d=tr(i,s),d!=null&&u.push(mc(i,d,g))),i.tag===3)return u;i=i.return}return[]}function N2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function J_(i,s,o,u,d){for(var g=s._reactName,E=[];o!==null&&o!==u;){var R=o,q=R.alternate,W=R.stateNode;if(R=R.tag,q!==null&&q===u)break;R!==5&&R!==26&&R!==27||W===null||(q=W,d?(W=tr(o,g),W!=null&&E.unshift(mc(o,W,q))):d||(W=tr(o,g),W!=null&&E.push(mc(o,W,q)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var C2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function eb(i){return(typeof i=="string"?i:""+i).replace(C2,`
`).replace(R2,"")}function tb(i,s){return s=eb(s),eb(i)===s}function Tt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||zt(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&zt(i,""+u);break;case"className":jn(i,"class",u);break;case"tabIndex":jn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(i,o,u);break;case"style":Jn(i,u,g);break;case"data":if(s!=="object"){jn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=cs(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Tt(i,s,"name",d.name,d,null),Tt(i,s,"formEncType",d.formEncType,d,null),Tt(i,s,"formMethod",d.formMethod,d,null),Tt(i,s,"formTarget",d.formTarget,d,null)):(Tt(i,s,"encType",d.encType,d,null),Tt(i,s,"method",d.method,d,null),Tt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=cs(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=er);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=cs(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Je("beforetoggle",i),Je("toggle",i),as(i,"popover",u);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":as(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ra.get(o)||o,as(i,o,u))}}function Zp(i,s,o,u,d,g){switch(o){case"style":Jn(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?zt(i,u):(typeof u=="number"||typeof u=="bigint")&&zt(i,""+u);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Zt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):as(i,o,u)}}}function Hn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(i,s,g,E,o,null)}}d&&Tt(i,s,"srcSet",o.srcSet,o,null),u&&Tt(i,s,"src",o.src,o,null);return;case"input":Je("invalid",i);var R=g=E=d=null,q=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":d=ie;break;case"type":E=ie;break;case"checked":q=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:Tt(i,s,u,ie,o,null)}}ls(i,g,R,q,W,E,d,!1);return;case"select":Je("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(R=o[d],R!=null))switch(d){case"value":g=R;break;case"defaultValue":E=R;break;case"multiple":u=R;default:Tt(i,s,d,R,o,null)}s=g,o=E,i.multiple=!!u,s!=null?ui(i,!!u,s,!1):o!=null&&ui(i,!!u,o,!0);return;case"textarea":Je("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(R=o[E],R!=null))switch(E){case"value":u=R;break;case"defaultValue":d=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Tt(i,s,E,R,o,null)}cn(i,u,d,g);return;case"option":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Tt(i,s,q,u,o,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(u=0;u<dc.length;u++)Je(dc[u],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Tt(i,s,W,u,o,null)}return;default:if(us(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&Zp(i,s,ie,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Tt(i,s,R,u,o,null))}function I2(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,R=null,q=null,W=null,ie=null;for(re in o){var ue=o[re];if(o.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":q=ue;default:u.hasOwnProperty(re)||Tt(i,s,re,null,u,ue)}}for(var J in u){var re=u[J];if(ue=o[J],u.hasOwnProperty(J)&&(re!=null||ue!=null))switch(J){case"type":g=re;break;case"name":d=re;break;case"checked":W=re;break;case"defaultChecked":ie=re;break;case"value":E=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==ue&&Tt(i,s,J,re,u,ue)}}os(i,E,R,q,W,ie,g,d);return;case"select":re=E=R=J=null;for(g in o)if(q=o[g],o.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":re=q;default:u.hasOwnProperty(g)||Tt(i,s,g,null,u,q)}for(d in u)if(g=u[d],q=o[d],u.hasOwnProperty(d)&&(g!=null||q!=null))switch(d){case"value":J=g;break;case"defaultValue":R=g;break;case"multiple":E=g;default:g!==q&&Tt(i,s,d,g,u,q)}s=R,o=E,u=re,J!=null?ui(i,!!o,J,!1):!!u!=!!o&&(s!=null?ui(i,!!o,s,!0):ui(i,!!o,o?[]:"",!1));return;case"textarea":re=J=null;for(R in o)if(d=o[R],o.hasOwnProperty(R)&&d!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Tt(i,s,R,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":J=d;break;case"defaultValue":re=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Tt(i,s,E,d,u,g)}ci(i,J,re);return;case"option":for(var Se in o)if(J=o[Se],o.hasOwnProperty(Se)&&J!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:Tt(i,s,Se,null,u,J)}for(q in u)if(J=u[q],re=o[q],u.hasOwnProperty(q)&&J!==re&&(J!=null||re!=null))switch(q){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Tt(i,s,q,J,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)J=o[Pe],o.hasOwnProperty(Pe)&&J!=null&&!u.hasOwnProperty(Pe)&&Tt(i,s,Pe,null,u,J);for(W in u)if(J=u[W],re=o[W],u.hasOwnProperty(W)&&J!==re&&(J!=null||re!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Tt(i,s,W,J,u,re)}return;default:if(us(s)){for(var wt in o)J=o[wt],o.hasOwnProperty(wt)&&J!==void 0&&!u.hasOwnProperty(wt)&&Zp(i,s,wt,void 0,u,J);for(ie in u)J=u[ie],re=o[ie],!u.hasOwnProperty(ie)||J===re||J===void 0&&re===void 0||Zp(i,s,ie,J,u,re);return}}for(var $ in o)J=o[$],o.hasOwnProperty($)&&J!=null&&!u.hasOwnProperty($)&&Tt(i,s,$,null,u,J);for(ue in u)J=u[ue],re=o[ue],!u.hasOwnProperty(ue)||J===re||J==null&&re==null||Tt(i,s,ue,J,u,re)}function nb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,E=d.initiatorType,R=d.duration;if(g&&R&&nb(E)){for(E=0,R=d.responseEnd,u+=1;u<o.length;u++){var q=o[u],W=q.startTime;if(W>R)break;var ie=q.transferSize,ue=q.initiatorType;ie&&nb(ue)&&(q=q.responseEnd,E+=ie*(q<R?1:(R-W)/(q-W)))}if(--u,s+=8*(g+E)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jp=null,eg=null;function wf(i){return i.nodeType===9?i:i.ownerDocument}function rb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ib(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function tg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ng=null;function D2(){var i=window.event;return i&&i.type==="popstate"?i===ng?!1:(ng=i,!0):(ng=null,!1)}var sb=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,M2=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(i){return ab.resolve(null).then(i).catch(k2)}:sb;function k2(i){setTimeout(function(){throw i})}function Ka(i){return i==="head"}function ob(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Jl(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")pc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,pc(o);for(var g=o.firstChild;g;){var E=g.nextSibling,R=g.nodeName;g[wr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&pc(i.ownerDocument.body);o=d}while(o);Jl(s)}function lb(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function rg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rg(o),ss(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function j2(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[wr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ei(i.nextSibling),i===null)break}return null}function P2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ei(i.nextSibling),i===null))return null;return i}function ub(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Ei(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$?"||i.data==="$~"}function sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function V2(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var ag=null;function cb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Ei(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function hb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function fb(i,s,o){switch(s=wf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function pc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ss(i)}var Ti=new Map,db=new Set;function Af(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var la=Z.d;Z.d={f:U2,r:q2,D:B2,C:z2,L:H2,m:F2,X:$2,S:G2,M:K2};function U2(){var i=la.f(),s=pf();return i||s}function q2(i){var s=Wn(i);s!==null&&s.tag===5&&s.type==="form"?I1(s):la.r(i)}var Xl=typeof document>"u"?null:document;function mb(i,s,o){var u=Xl;if(u&&typeof s=="string"&&s){var d=Sn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),db.has(d)||(db.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Hn(s,"link",i),qt(s),u.head.appendChild(s)))}}function B2(i){la.D(i),mb("dns-prefetch",i,null)}function z2(i,s){la.C(i,s),mb("preconnect",i,s)}function H2(i,s,o){la.L(i,s,o);var u=Xl;if(u&&i&&s){var d='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Sn(o.imageSizes)+'"]')):d+='[href="'+Sn(i)+'"]';var g=d;switch(s){case"style":g=Wl(i);break;case"script":g=Zl(i)}Ti.has(g)||(i=T({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Ti.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(gc(g))||s==="script"&&u.querySelector(yc(g))||(s=u.createElement("link"),Hn(s,"link",i),qt(s),u.head.appendChild(s)))}}function F2(i,s){la.m(i,s);var o=Xl;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zl(i)}if(!Ti.has(g)&&(i=T({rel:"modulepreload",href:i},s),Ti.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yc(g)))return}u=o.createElement("link"),Hn(u,"link",i),qt(u),o.head.appendChild(u)}}}function G2(i,s,o){la.S(i,s,o);var u=Xl;if(u&&i){var d=Ar(u).hoistableStyles,g=Wl(i);s=s||"default";var E=d.get(g);if(!E){var R={loading:0,preload:null};if(E=u.querySelector(gc(g)))R.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Ti.get(g))&&og(i,o);var q=E=u.createElement("link");qt(q),Hn(q,"link",i),q._p=new Promise(function(W,ie){q.onload=W,q.onerror=ie}),q.addEventListener("load",function(){R.loading|=1}),q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,xf(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:R},d.set(g,E)}}}function $2(i,s){la.X(i,s);var o=Xl;if(o&&i){var u=Ar(o).hoistableScripts,d=Zl(i),g=u.get(d);g||(g=o.querySelector(yc(d)),g||(i=T({src:i,async:!0},s),(s=Ti.get(d))&&lg(i,s),g=o.createElement("script"),qt(g),Hn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function K2(i,s){la.M(i,s);var o=Xl;if(o&&i){var u=Ar(o).hoistableScripts,d=Zl(i),g=u.get(d);g||(g=o.querySelector(yc(d)),g||(i=T({src:i,async:!0,type:"module"},s),(s=Ti.get(d))&&lg(i,s),g=o.createElement("script"),qt(g),Hn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function pb(i,s,o,u){var d=(d=Ae.current)?Af(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Wl(o.href),o=Ar(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Wl(o.href);var g=Ar(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(gc(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ti.set(i,o),g||Q2(d,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zl(o),o=Ar(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wl(i){return'href="'+Sn(i)+'"'}function gc(i){return'link[rel="stylesheet"]['+i+"]"}function gb(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function Q2(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Hn(s,"link",o),qt(s),i.head.appendChild(s))}function Zl(i){return'[src="'+Sn(i)+'"]'}function yc(i){return"script[async]"+i}function yb(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(u)return s.instance=u,qt(u),u;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),qt(u),Hn(u,"style",d),xf(u,o.precedence,i),s.instance=u;case"stylesheet":d=Wl(o.href);var g=i.querySelector(gc(d));if(g)return s.state.loading|=4,s.instance=g,qt(g),g;u=gb(o),(d=Ti.get(d))&&og(u,d),g=(i.ownerDocument||i).createElement("link"),qt(g);var E=g;return E._p=new Promise(function(R,q){E.onload=R,E.onerror=q}),Hn(g,"link",u),s.state.loading|=4,xf(g,o.precedence,i),s.instance=g;case"script":return g=Zl(o.src),(d=i.querySelector(yc(g)))?(s.instance=d,qt(d),d):(u=o,(d=Ti.get(g))&&(u=T({},o),lg(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),qt(d),Hn(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,xf(u,o.precedence,i));return s.instance}function xf(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var R=u[E];if(R.dataset.precedence===s)g=R;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function og(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function lg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Sf=null;function vb(i,s,o){if(Sf===null){var u=new Map,d=Sf=new Map;d.set(o,u)}else d=Sf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[wr]||g[Ut]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var R=u.get(E);R?R.push(g):u.set(E,[g])}}return u}function _b(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Y2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function bb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function X2(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Wl(u.href),g=s.querySelector(gc(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Nf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,qt(g);return}g=s.ownerDocument||s,u=gb(u),(d=Ti.get(d))&&og(u,d),g=g.createElement("link"),qt(g);var E=g;E._p=new Promise(function(R,q){E.onload=R,E.onerror=q}),Hn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Nf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var ug=0;function W2(i,s){return i.stylesheets&&i.count===0&&Rf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Rf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&ug===0&&(ug=62500*O2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Rf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ug?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Nf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cf=null;function Rf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cf=new Map,s.forEach(Z2,i),Cf=null,Nf.call(i))}function Z2(i,s){if(!(s.state.loading&4)){var o=Cf.get(i);if(o)var u=o.get(null);else{o=new Map,Cf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=Nf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var vc={$$typeof:ne,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function J2(i,s,o,u,d,g,E,R,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.hiddenUpdates=_n(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Eb(i,s,o,u,d,g,E,R,q,W,ie,ue){return i=new J2(i,s,o,E,q,W,ie,ue,R),s=1,g===!0&&(s|=24),g=Kr(3,null,null,s),i.current=g,g.stateNode=i,s=zm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},$m(g),i}function Tb(i){return i?(i=Rl,i):Rl}function wb(i,s,o,u,d,g){d=Tb(d),u.context===null?u.context=d:u.pendingContext=d,u=ja(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Pa(i,u,s),o!==null&&(Dr(o,i,s),Xu(o,i,s))}function Ab(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function cg(i,s){Ab(i,s),(i=i.alternate)&&Ab(i,s)}function xb(i){if(i.tag===13||i.tag===31){var s=Vo(i,67108864);s!==null&&Dr(s,i,67108864),cg(i,67108864)}}function Sb(i){if(i.tag===13||i.tag===31){var s=Zr();s=ai(s);var o=Vo(i,s);o!==null&&Dr(o,i,s),cg(i,s)}}var If=!0;function eC(i,s,o,u){var d=B.T;B.T=null;var g=Z.p;try{Z.p=2,hg(i,s,o,u)}finally{Z.p=g,B.T=d}}function tC(i,s,o,u){var d=B.T;B.T=null;var g=Z.p;try{Z.p=8,hg(i,s,o,u)}finally{Z.p=g,B.T=d}}function hg(i,s,o,u){if(If){var d=fg(u);if(d===null)Wp(i,s,u,Of,o),Cb(i,u);else if(rC(d,i,s,o,u))u.stopPropagation();else if(Cb(i,u),s&4&&-1<nC.indexOf(i)){for(;d!==null;){var g=Wn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Xn(g.pendingLanes);if(E!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var q=1<<31-Ct(E);R.entanglements[1]|=q,E&=~q}gs(g),(pt&6)===0&&(df=Nt()+500,fc(0))}}break;case 31:case 13:R=Vo(g,2),R!==null&&Dr(R,g,2),pf(),cg(g,2)}if(g=fg(u),g===null&&Wp(i,s,u,Of,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Wp(i,s,u,null,o)}}function fg(i){return i=Pn(i),dg(i)}var Of=null;function dg(i){if(Of=null,i=Ot(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Of=i,null}function Nb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case Ms:return 2;case Pr:return 8;case lr:case ks:return 32;case On:return 268435456;default:return 32}default:return 32}}var mg=!1,Qa=null,Ya=null,Xa=null,_c=new Map,bc=new Map,Wa=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cb(i,s){switch(i){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(s.pointerId)}}function Ec(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Wn(s),s!==null&&xb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function rC(i,s,o,u,d){switch(s){case"focusin":return Qa=Ec(Qa,i,s,o,u,d),!0;case"dragenter":return Ya=Ec(Ya,i,s,o,u,d),!0;case"mouseover":return Xa=Ec(Xa,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return _c.set(g,Ec(_c.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,bc.set(g,Ec(bc.get(g)||null,i,s,o,u,d)),!0}return!1}function Rb(i){var s=Ot(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,hr(i.priority,function(){Sb(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,hr(i.priority,function(){Sb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Df(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=fg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);nn=u,o.target.dispatchEvent(u),nn=null}else return s=Wn(o),s!==null&&xb(s),i.blockedOn=o,!1;s.shift()}return!0}function Ib(i,s,o){Df(i)&&o.delete(s)}function iC(){mg=!1,Qa!==null&&Df(Qa)&&(Qa=null),Ya!==null&&Df(Ya)&&(Ya=null),Xa!==null&&Df(Xa)&&(Xa=null),_c.forEach(Ib),bc.forEach(Ib)}function Lf(i,s){i.blockedOn===s&&(i.blockedOn=null,mg||(mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,iC)))}var Mf=null;function Ob(i){Mf!==i&&(Mf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mf===i&&(Mf=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(dg(u||o)===null)continue;break}var g=Wn(o);g!==null&&(i.splice(s,3),s-=3,fp(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Jl(i){function s(q){return Lf(q,i)}Qa!==null&&Lf(Qa,i),Ya!==null&&Lf(Ya,i),Xa!==null&&Lf(Xa,i),_c.forEach(s),bc.forEach(s);for(var o=0;o<Wa.length;o++){var u=Wa[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Wa.length&&(o=Wa[0],o.blockedOn===null);)Rb(o),o.blockedOn===null&&Wa.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[Zt]||null;if(typeof g=="function")E||Ob(o);else if(E){var R=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[Zt]||null)R=E.formAction;else if(dg(d)!==null)continue}else R=E.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),Ob(o)}}}function Db(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function pg(i){this._internalRoot=i}kf.prototype.render=pg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Zr();wb(o,u,i,s,null,null)},kf.prototype.unmount=pg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;wb(i.current,2,null,i,null,null),pf(),s[Tr]=null}};function kf(i){this._internalRoot=i}kf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Wt();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Wa.length&&s!==0&&s<Wa[o].priority;o++);Wa.splice(o,0,i),o===0&&Rb(i)}};var Lb=e.version;if(Lb!=="19.2.1")throw Error(r(527,Lb,"19.2.1"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var sC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{ur=jf.inject(sC),Kt=jf}catch{}}return wc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=q1,g=B1,E=z1;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=Eb(i,1,!1,null,null,o,u,null,d,g,E,Db),i[Tr]=s.current,Xp(i),new pg(s)},wc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=q1,E=B1,R=z1,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),s=Eb(i,1,!0,s,o??null,u,d,q,g,E,R,Db),s.context=Tb(null),o=s.current,u=Zr(),u=ai(u),d=ja(u),d.callback=null,Pa(o,d,u),o=u,s.current.lanes=o,si(s,o),gs(s),i[Tr]=s.current,Xp(i),new kf(s)},wc.version="19.2.1",wc}var Hb;function gC(){if(Hb)return vg.exports;Hb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vg.exports=pC(),vg.exports}var yC=gC();var Fb="popstate";function vC(n={}){function e(a,l){let{pathname:c="/",search:f="",hash:m=""}=hl(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Zg("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Fc(l))}function r(a,l){ri(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return bC(e,t,r,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _C(){return Math.random().toString(36).substring(2,10)}function Gb(n,e){return{usr:n.state,key:n.key,idx:e}}function Zg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?hl(e):e,state:t,key:e&&e.key||r||_C()}}function Fc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function hl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function bC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){f="POP";let O=y(),z=O==null?null:O-p;p=O,m&&m({action:f,location:k.location,delta:z})}function w(O,z){f="PUSH";let K=Zg(k.location,O,z);t&&t(K,O),p=y()+1;let ne=Gb(K,p),_e=k.createHref(K);try{c.pushState(ne,"",_e)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;a.location.assign(_e)}l&&m&&m({action:f,location:k.location,delta:1})}function N(O,z){f="REPLACE";let K=Zg(k.location,O,z);t&&t(K,O),p=y();let ne=Gb(K,p),_e=k.createHref(K);c.replaceState(ne,"",_e),l&&m&&m({action:f,location:k.location,delta:0})}function C(O){return EC(O)}let k={get action(){return f},get location(){return n(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Fb,T),m=O,()=>{a.removeEventListener(Fb,T),m=null}},createHref(O){return e(a,O)},createURL:C,encodeLocation(O){let z=C(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:N,go(O){return c.go(O)}};return k}function EC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Fc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function kw(n,e,t="/"){return TC(n,e,t,!1)}function TC(n,e,t,r){let a=typeof e=="string"?hl(e):e,l=ma(a.pathname||"/",t);if(l==null)return null;let c=jw(n);wC(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=MC(l);f=DC(c[m],p,r)}return f}function jw(n,e=[],t=[],r="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;$t(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let T=fa([r,y.relativePath]),w=t.concat(y);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),jw(c.children,e,w,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:IC(T,c.index),routesMeta:w})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of Pw(c.path))l(c,f,!0,m)}),e}function Pw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=Pw(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function wC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AC=/^:[\w-]+$/,xC=3,SC=2,NC=1,CC=10,RC=-2,$b=n=>n==="*";function IC(n,e){let t=n.split("/"),r=t.length;return t.some($b)&&(r+=RC),e&&(r+=SC),t.filter(a=>!$b(a)).reduce((a,l)=>a+(AC.test(l)?xC:l===""?NC:CC),r)}function OC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function DC(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!T&&p&&t&&!r[r.length-1].route.index&&(T=gd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:fa([l,T.pathname]),pathnameBase:UC(fa([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=fa([l,T.pathnameBase]))}return c}function gd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=LC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:T},w)=>{if(y==="*"){let C=f[w]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const N=f[w];return T&&!N?p[y]=void 0:p[y]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function LC(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function MC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ma(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var kC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jC=n=>kC.test(n);function PC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?hl(n):n,l;if(t)if(jC(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Kb(t.substring(1),"/"):l=Kb(t,e)}else l=e;return{pathname:l,search:qC(r),hash:BC(a)}}function Kb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Tg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gy(n){let e=VC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $y(n,e,t,r=!1){let a;typeof n=="string"?a=hl(n):(a={...n},$t(!a.pathname||!a.pathname.includes("?"),Tg("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),Tg("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),Tg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let T=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}f=T>=0?e[T]:"/"}let m=PC(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var fa=n=>n.join("/").replace(/\/\/+/g,"/"),UC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function HC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vw=["POST","PUT","PATCH","DELETE"];new Set(Vw);var FC=["GET",...Vw];new Set(FC);var Nu=G.createContext(null);Nu.displayName="DataRouter";var Bd=G.createContext(null);Bd.displayName="DataRouterState";G.createContext(!1);var Uw=G.createContext({isTransitioning:!1});Uw.displayName="ViewTransition";var GC=G.createContext(new Map);GC.displayName="Fetchers";var $C=G.createContext(null);$C.displayName="Await";var Oi=G.createContext(null);Oi.displayName="Navigation";var oh=G.createContext(null);oh.displayName="Location";var Di=G.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Ky=G.createContext(null);Ky.displayName="RouteError";function KC(n,{relative:e}={}){$t(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(Oi),{hash:a,pathname:l,search:c}=lh(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:fa([t,l])),r.createHref({pathname:f,search:c,hash:a})}function Cu(){return G.useContext(oh)!=null}function Ao(){return $t(Cu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(oh).location}var qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bw(n){G.useContext(Oi).static||G.useLayoutEffect(n)}function xo(){let{isDataRoute:n}=G.useContext(Di);return n?lR():QC()}function QC(){$t(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(Nu),{basename:e,navigator:t}=G.useContext(Oi),{matches:r}=G.useContext(Di),{pathname:a}=Ao(),l=JSON.stringify(Gy(r)),c=G.useRef(!1);return Bw(()=>{c.current=!0}),G.useCallback((m,p={})=>{if(ri(c.current,qw),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=$y(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:fa([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,n])}var YC=G.createContext(null);function XC(n){let e=G.useContext(Di).outlet;return G.useMemo(()=>e&&G.createElement(YC.Provider,{value:n},e),[e,n])}function zw(){let{matches:n}=G.useContext(Di),e=n[n.length-1];return e?e.params:{}}function lh(n,{relative:e}={}){let{matches:t}=G.useContext(Di),{pathname:r}=Ao(),a=JSON.stringify(Gy(t));return G.useMemo(()=>$y(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function WC(n,e){return Hw(n,e)}function Hw(n,e,t,r,a){$t(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(Oi),{matches:c}=G.useContext(Di),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",T=f&&f.route;{let K=T&&T.path||"";Fw(p,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=Ao(),N;if(e){let K=typeof e=="string"?hl(e):e;$t(y==="/"||K.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),N=K}else N=w;let C=N.pathname||"/",k=C;if(y!=="/"){let K=y.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(K.length).join("/")}let O=kw(n,{pathname:k});ri(T||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ri(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=nR(O&&O.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:fa([y,l.encodeLocation?l.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:fa([y,l.encodeLocation?l.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),c,t,r,a);return e&&z?G.createElement(oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},z):z}function ZC(){let n=oR(),e=zC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:a},t):null,c)}var JC=G.createElement(ZC,null),eR=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?G.createElement(Di.Provider,{value:this.props.routeContext},G.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tR({routeContext:n,match:e,children:t}){let r=G.useContext(Nu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Di.Provider,{value:n},t)}function nR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let y=l.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);$t(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(t)for(let y=0;y<l.length;y++){let T=l[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=y),T.route.id){let{loaderData:w,errors:N}=t,C=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!N||N[T.route.id]===void 0);if(T.route.lazy||C){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=t&&r?(y,T)=>{r(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:HC(t.matches),errorInfo:T})}:void 0;return l.reduceRight((y,T,w)=>{let N,C=!1,k=null,O=null;t&&(N=c&&T.route.id?c[T.route.id]:void 0,k=T.route.errorElement||JC,f&&(m<0&&w===0?(Fw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):m===w&&(C=!0,O=T.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,w+1)),K=()=>{let ne;return N?ne=k:C?ne=O:T.route.Component?ne=G.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=y,G.createElement(tR,{match:T,routeContext:{outlet:y,matches:z,isDataRoute:t!=null},children:ne})};return t&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?G.createElement(eR,{location:t.location,revalidation:t.revalidation,component:k,error:N,children:K(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):K()},null)}function Qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rR(n){let e=G.useContext(Nu);return $t(e,Qy(n)),e}function iR(n){let e=G.useContext(Bd);return $t(e,Qy(n)),e}function sR(n){let e=G.useContext(Di);return $t(e,Qy(n)),e}function Yy(n){let e=sR(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aR(){return Yy("useRouteId")}function oR(){let n=G.useContext(Ky),e=iR("useRouteError"),t=Yy("useRouteError");return n!==void 0?n:e.errors?.[t]}function lR(){let{router:n}=rR("useNavigate"),e=Yy("useNavigate"),t=G.useRef(!1);return Bw(()=>{t.current=!0}),G.useCallback(async(a,l={})=>{ri(t.current,qw),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Qb={};function Fw(n,e,t){!e&&!Qb[n]&&(Qb[n]=!0,ri(!1,t))}G.memo(uR);function uR({routes:n,future:e,state:t,unstable_onError:r}){return Hw(n,void 0,t,r,e)}function cR({to:n,replace:e,state:t,relative:r}){$t(Cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=G.useContext(Oi);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext(Di),{pathname:c}=Ao(),f=xo(),m=$y(n,Gy(l),c,r==="path"),p=JSON.stringify(m);return G.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function hR(n){return XC(n.context)}function Lr(n){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){$t(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof t=="string"&&(t=hl(t));let{pathname:p="/",search:y="",hash:T="",state:w=null,key:N="default"}=t,C=G.useMemo(()=>{let k=ma(p,f);return k==null?null:{location:{pathname:k,search:y,hash:T,state:w,key:N},navigationType:r}},[f,p,y,T,w,N,r]);return ri(C!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:G.createElement(Oi.Provider,{value:m},G.createElement(oh.Provider,{children:e,value:C}))}function dR({children:n,location:e}){return WC(Jg(n),e)}function Jg(n,e=[]){let t=[];return G.Children.forEach(n,(r,a)=>{if(!G.isValidElement(r))return;let l=[...e,a];if(r.type===G.Fragment){t.push.apply(t,Jg(r.props.children,l));return}$t(r.type===Lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Jg(r.props.children,l)),t.push(c)}),t}var rd="get",id="application/x-www-form-urlencoded";function zd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function mR(n){return zd(n)&&n.tagName.toLowerCase()==="button"}function pR(n){return zd(n)&&n.tagName.toLowerCase()==="form"}function gR(n){return zd(n)&&n.tagName.toLowerCase()==="input"}function yR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vR(n,e){return n.button===0&&(!e||e==="_self")&&!yR(n)}var Pf=null;function _R(){if(Pf===null)try{new FormData(document.createElement("form"),0),Pf=!1}catch{Pf=!0}return Pf}var bR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(n){return n!=null&&!bR.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):n}function ER(n,e){let t,r,a,l,c;if(pR(n)){let f=n.getAttribute("action");r=f?ma(f,e):null,t=n.getAttribute("method")||rd,a=wg(n.getAttribute("enctype"))||id,l=new FormData(n)}else if(mR(n)||gR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(r=m?ma(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||rd,a=wg(n.getAttribute("formenctype"))||wg(f.getAttribute("enctype"))||id,l=new FormData(f,n),!_R()){let{name:p,type:y,value:T}=n;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,T)}}else{if(zd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rd,r=null,a=id,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function TR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ma(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function wR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await wR(l,t);return c.links?c.links():[]}return[]}));return RR(r.flat(1).filter(AR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Yb(n,e,t,r,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function SR(n,e,{includeHydrateFallback:t}={}){return NR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function NR(n){return[...new Set(n)]}function CR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function RR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(CR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function Gw(){let n=G.useContext(Nu);return Xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IR(){let n=G.useContext(Bd);return Xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wy=G.createContext(void 0);Wy.displayName="FrameworkContext";function $w(){let n=G.useContext(Wy);return Xy(n,"You must render this element inside a <HydratedRouter> element"),n}function OR(n,e){let t=G.useContext(Wy),[r,a]=G.useState(!1),[l,c]=G.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=e,w=G.useRef(null);G.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=z=>{z.forEach(K=>{c(K.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[n]),G.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let N=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Ac(f,N),onBlur:Ac(m,C),onMouseEnter:Ac(p,N),onMouseLeave:Ac(y,C),onTouchStart:Ac(T,N)}]:[!1,w,{}]}function Ac(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DR({page:n,...e}){let{router:t}=Gw(),r=G.useMemo(()=>kw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?G.createElement(MR,{page:n,matches:r,...e}):null}function LR(n){let{manifest:e,routeModules:t}=$w(),[r,a]=G.useState([]);return G.useEffect(()=>{let l=!1;return xR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function MR({page:n,matches:e,...t}){let r=Ao(),{manifest:a,routeModules:l}=$w(),{basename:c}=Gw(),{loaderData:f,matches:m}=IR(),p=G.useMemo(()=>Yb(n,e,m,a,r,"data"),[n,e,m,a,r]),y=G.useMemo(()=>Yb(n,e,m,a,r,"assets"),[n,e,m,a,r]),T=G.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(e.forEach(z=>{let K=a.routes[z.route.id];!K||!K.hasLoader||(!p.some(ne=>ne.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||K.hasClientLoader?k=!0:C.add(z.route.id))}),C.size===0)return[];let O=TR(n,c,"data");return k&&C.size>0&&O.searchParams.set("_routes",e.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[O.pathname+O.search]},[c,f,r,a,p,e,n,l]),w=G.useMemo(()=>SR(y,a),[y,a]),N=LR(y);return G.createElement(G.Fragment,null,T.map(C=>G.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>G.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),N.map(({key:C,link:k})=>G.createElement("link",{key:C,nonce:t.nonce,...k})))}function kR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kw&&(window.__reactRouterVersion="7.10.1")}catch{}function jR({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=G.useRef();a.current==null&&(a.current=vC({window:r,v5Compat:!0}));let l=a.current,[c,f]=G.useState({action:l.action,location:l.location}),m=G.useCallback(p=>{t===!1?f(p):G.startTransition(()=>f(p))},[t]);return G.useLayoutEffect(()=>l.listen(m),[l,m]),G.createElement(fR,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:T,...w},N){let{basename:C,unstable_useTransitions:k}=G.useContext(Oi),O=typeof p=="string"&&Qw.test(p),z,K=!1;if(typeof p=="string"&&O&&(z=p,Kw))try{let H=new URL(window.location.href),x=p.startsWith("//")?new URL(H.protocol+p):new URL(p),L=ma(x.pathname,C);x.origin===H.origin&&L!=null?p=L+x.search+x.hash:K=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=KC(p,{relative:a}),[_e,ve,we]=OR(r,w),j=UR(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:T,unstable_useTransitions:k});function M(H){e&&e(H),H.defaultPrevented||j(H)}let P=G.createElement("a",{...w,...we,href:z||ne,onClick:K||l?e:M,ref:kR(N,ve),target:m,"data-discover":!O&&t==="render"?"true":void 0});return _e&&!O?G.createElement(G.Fragment,null,P,G.createElement(DR,{page:ne})):P});En.displayName="Link";var Yw=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let T=lh(c,{relative:p.relative}),w=Ao(),N=G.useContext(Bd),{navigator:C,basename:k}=G.useContext(Oi),O=N!=null&&FR(T)&&f===!0,z=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,K=w.pathname,ne=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(K=K.toLowerCase(),ne=ne?ne.toLowerCase():null,z=z.toLowerCase()),ne&&k&&(ne=ma(ne,k)||ne);const _e=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ve=K===z||!a&&K.startsWith(z)&&K.charAt(_e)==="/",we=ne!=null&&(ne===z||!a&&ne.startsWith(z)&&ne.charAt(z.length)==="/"),j={isActive:ve,isPending:we,isTransitioning:O},M=ve?e:void 0,P;typeof r=="function"?P=r(j):P=[r,ve?"active":null,we?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(j):l;return G.createElement(En,{...p,"aria-current":M,className:P,ref:y,style:H,to:c,viewTransition:f},typeof m=="function"?m(j):m)});Yw.displayName="NavLink";var PR=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=rd,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...w},N)=>{let{unstable_useTransitions:C}=G.useContext(Oi),k=zR(),O=HR(f,{relative:p}),z=c.toLowerCase()==="get"?"get":"post",K=typeof f=="string"&&Qw.test(f),ne=_e=>{if(m&&m(_e),_e.defaultPrevented)return;_e.preventDefault();let ve=_e.nativeEvent.submitter,we=ve?.getAttribute("formmethod")||c,j=()=>k(ve||_e.currentTarget,{fetcherKey:e,method:we,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T});C&&t!==!1?G.startTransition(()=>j()):j()};return G.createElement("form",{ref:N,method:z,action:O,onSubmit:r?m:ne,...w,"data-discover":!K&&n==="render"?"true":void 0})});PR.displayName="Form";function VR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(n){let e=G.useContext(Nu);return $t(e,VR(n)),e}function UR(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let m=xo(),p=Ao(),y=lh(n,{relative:l});return G.useCallback(T=>{if(vR(T,e)){T.preventDefault();let w=t!==void 0?t:Fc(p)===Fc(y),N=()=>m(n,{replace:w,state:r,preventScrollReset:a,relative:l,viewTransition:c});f?G.startTransition(()=>N()):N()}},[p,m,y,t,r,e,n,a,l,c,f])}var qR=0,BR=()=>`__${String(++qR)}__`;function zR(){let{router:n}=Xw("useSubmit"),{basename:e}=G.useContext(Oi),t=aR(),r=n.fetch,a=n.navigate;return G.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:T}=ER(l,e);if(c.navigate===!1){let w=c.fetcherKey||BR();await r(w,t,c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:T,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:T,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,t])}function HR(n,{relative:e}={}){let{basename:t}=G.useContext(Oi),r=G.useContext(Di);$t(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...lh(n||".",{relative:e})},c=Ao();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fa([t,l.pathname])),Fc(l)}function FR(n,{relative:e}={}){let t=G.useContext(Uw);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xw("useViewTransitionState"),a=lh(n,{relative:e});if(!t.isTransitioning)return!1;let l=ma(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ma(t.nextLocation.pathname,r)||t.nextLocation.pathname;return gd(a.pathname,c)!=null||gd(a.pathname,l)!=null}const GR=()=>{};var Xb={};const Ww=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},$R=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let w=(f&15)<<2|p>>6,N=p&63;m||(N=64,c||(w=64)),r.push(t[y],t[T],t[w],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ww(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$R(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||T==null)throw new KR;const w=l<<2|f>>4;if(r.push(w),p!==64){const N=f<<4&240|p>>2;if(r.push(N),T!==64){const C=p<<6&192|T;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(n){const e=Ww(n);return Zw.encodeByteArray(e,!0)},yd=function(n){return QR(n).replace(/\./g,"")},Jw=function(n){try{return Zw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XR=()=>YR().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof Xb>"u")return;const n=Xb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Jw(n[1]);return e&&JSON.parse(e)},Hd=()=>{try{return GR()||XR()||WR()||ZR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eA=n=>Hd()?.emulatorHosts?.[n],JR=n=>{const e=eA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tA=()=>Hd()?.config,nA=n=>Hd()?.[`_${n}`];class eI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ru(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rA(n){return(await fetch(n,{credentials:"include"})).ok}function tI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yd(JSON.stringify(t)),yd(JSON.stringify(c)),""].join(".")}const jc={};function nI(){const n={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?n.emulator.push(e):n.prod.push(e);return n}function rI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Wb=!1;function iA(n,e){if(typeof window>"u"||typeof document>"u"||!Ru(window.location.host)||jc[n]===e||jc[n]||Wb)return;jc[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=nI().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Wb=!0,c()},w}function y(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=rI(r),N=t("text"),C=document.getElementById(N)||document.createElement("span"),k=t("learnmore"),O=document.getElementById(k)||document.createElement("a"),z=t("preprendIcon"),K=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;f(ne),y(O,k);const _e=p();m(K,z),ne.append(K,C,O,_e),document.body.appendChild(ne)}l?(C.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function sI(){const n=Hd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const n=or();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cI(){return!sI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const dI="FirebaseError";class Ea extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dI,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?mI(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ea(a,f,r)}}function mI(n,e){return n.replace(pI,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const pI=/\{\$([^}]+)}/g;function gI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function tl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(Zb(l)&&Zb(c)){if(!tl(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Zb(n){return n!==null&&typeof n=="object"}function ch(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Cc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yI(n,e){const t=new vI(n,e);return t.subscribe.bind(t)}class vI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_I(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Ag),a.error===void 0&&(a.error=Ag),a.complete===void 0&&(a.complete=Ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _I(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ag(){}function An(n){return n&&n._delegate?n._delegate:n}class nl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wo="[DEFAULT]";class bI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new eI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TI(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EI(n){return n===Wo?void 0:n}function TI(n){return n.instantiationMode==="EAGER"}class wI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const AI={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},xI=rt.INFO,SI={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},NI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=SI[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=xI,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const CI=(n,e)=>e.some(t=>n instanceof t);let Jb,eE;function RI(){return Jb||(Jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function II(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,ey=new WeakMap,aA=new WeakMap,xg=new WeakMap,Jy=new WeakMap;function OI(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(uo(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sA.set(t,n)}).catch(()=>{}),Jy.set(e,n),e}function DI(n){if(ey.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ey.set(n,e)}let ty={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ey.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LI(n){ty=n(ty)}function MI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Sg(this),e,...t);return aA.set(r,e.sort?e.sort():[e]),uo(r)}:II().includes(n)?function(...e){return n.apply(Sg(this),e),uo(sA.get(this))}:function(...e){return uo(n.apply(Sg(this),e))}}function kI(n){return typeof n=="function"?MI(n):(n instanceof IDBTransaction&&DI(n),CI(n,RI())?new Proxy(n,ty):n)}function uo(n){if(n instanceof IDBRequest)return OI(n);if(xg.has(n))return xg.get(n);const e=kI(n);return e!==n&&(xg.set(n,e),Jy.set(e,n)),e}const Sg=n=>Jy.get(n);function jI(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=uo(c);return r&&c.addEventListener("upgradeneeded",m=>{r(uo(c.result),m.oldVersion,m.newVersion,uo(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const PI=["get","getKey","getAll","getAllKeys","count"],VI=["put","add","delete","clear"],Ng=new Map;function tE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=VI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||PI.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return Ng.set(e,l),l}LI(n=>({...n,get:(e,t,r)=>tE(e,t)||n.get(e,t,r),has:(e,t)=>!!tE(e,t)||n.has(e,t)}));class UI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qI(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function qI(n){return n.getComponent()?.type==="VERSION"}const ny="@firebase/app",nE="0.14.6";const pa=new Zy("@firebase/app"),BI="@firebase/app-compat",zI="@firebase/analytics-compat",HI="@firebase/analytics",FI="@firebase/app-check-compat",GI="@firebase/app-check",$I="@firebase/auth",KI="@firebase/auth-compat",QI="@firebase/database",YI="@firebase/data-connect",XI="@firebase/database-compat",WI="@firebase/functions",ZI="@firebase/functions-compat",JI="@firebase/installations",e4="@firebase/installations-compat",t4="@firebase/messaging",n4="@firebase/messaging-compat",r4="@firebase/performance",i4="@firebase/performance-compat",s4="@firebase/remote-config",a4="@firebase/remote-config-compat",o4="@firebase/storage",l4="@firebase/storage-compat",u4="@firebase/firestore",c4="@firebase/ai",h4="@firebase/firestore-compat",f4="firebase",d4="12.6.0";const ry="[DEFAULT]",m4={[ny]:"fire-core",[BI]:"fire-core-compat",[HI]:"fire-analytics",[zI]:"fire-analytics-compat",[GI]:"fire-app-check",[FI]:"fire-app-check-compat",[$I]:"fire-auth",[KI]:"fire-auth-compat",[QI]:"fire-rtdb",[YI]:"fire-data-connect",[XI]:"fire-rtdb-compat",[WI]:"fire-fn",[ZI]:"fire-fn-compat",[JI]:"fire-iid",[e4]:"fire-iid-compat",[t4]:"fire-fcm",[n4]:"fire-fcm-compat",[r4]:"fire-perf",[i4]:"fire-perf-compat",[s4]:"fire-rc",[a4]:"fire-rc-compat",[o4]:"fire-gcs",[l4]:"fire-gcs-compat",[u4]:"fire-fst",[h4]:"fire-fst-compat",[c4]:"fire-vertex","fire-js":"fire-js",[f4]:"fire-js-all"};const vd=new Map,p4=new Map,iy=new Map;function rE(n,e){try{n.container.addComponent(e)}catch(t){pa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gu(n){const e=n.name;if(iy.has(e))return pa.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,n);for(const t of vd.values())rE(t,n);for(const t of p4.values())rE(t,n);return!0}function e0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jr(n){return n==null?!1:n.settings!==void 0}const g4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new uh("app","Firebase",g4);class y4{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const Iu=d4;function oA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ry,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw co.create("bad-app-name",{appName:String(a)});if(t||(t=tA()),!t)throw co.create("no-options");const l=vd.get(a);if(l){if(tl(t,l.options)&&tl(r,l.config))return l;throw co.create("duplicate-app",{appName:a})}const c=new wI(a);for(const m of iy.values())c.addComponent(m);const f=new y4(t,r,c);return vd.set(a,f),f}function lA(n=ry){const e=vd.get(n);if(!e&&n===ry&&tA())return oA();if(!e)throw co.create("no-app",{appName:n});return e}function ho(n,e,t){let r=m4[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pa.warn(c.join(" "));return}gu(new nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const v4="firebase-heartbeat-database",_4=1,Gc="firebase-heartbeat-store";let Cg=null;function uA(){return Cg||(Cg=jI(v4,_4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gc)}catch(t){console.warn(t)}}}}).catch(n=>{throw co.create("idb-open",{originalErrorMessage:n.message})})),Cg}async function b4(n){try{const t=(await uA()).transaction(Gc),r=await t.objectStore(Gc).get(cA(n));return await t.done,r}catch(e){if(e instanceof Ea)pa.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e?.message});pa.warn(t.message)}}}async function iE(n,e){try{const r=(await uA()).transaction(Gc,"readwrite");await r.objectStore(Gc).put(e,cA(n)),await r.done}catch(t){if(t instanceof Ea)pa.warn(t.message);else{const r=co.create("idb-set",{originalErrorMessage:t?.message});pa.warn(r.message)}}}function cA(n){return`${n.name}!${n.options.appId}`}const E4=1024,T4=30;class w4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new x4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>T4){const a=S4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sE(),{heartbeatsToSend:t,unsentEntries:r}=A4(this._heartbeatsCache.heartbeats),a=yd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return pa.warn(e),""}}}function sE(){return new Date().toISOString().substring(0,10)}function A4(n,e=E4){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),aE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),aE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class x4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await b4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aE(n){return yd(JSON.stringify({version:2,heartbeats:n})).length}function S4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function N4(n){gu(new nl("platform-logger",e=>new UI(e),"PRIVATE")),gu(new nl("heartbeat",e=>new w4(e),"PRIVATE")),ho(ny,nE,n),ho(ny,nE,"esm2020"),ho("fire-js","")}N4("");var C4="firebase",R4="12.6.0";ho(C4,R4,"app");function hA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I4=hA,fA=new uh("auth","Firebase",hA());const _d=new Zy("@firebase/auth");function O4(n,...e){_d.logLevel<=rt.WARN&&_d.warn(`Auth (${Iu}): ${n}`,...e)}function sd(n,...e){_d.logLevel<=rt.ERROR&&_d.error(`Auth (${Iu}): ${n}`,...e)}function Ri(n,...e){throw n0(n,...e)}function Xi(n,...e){return n0(n,...e)}function t0(n,e,t){const r={...I4(),[e]:t};return new uh("auth","Firebase",r).create(e,{appName:n.name})}function da(n){return t0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ri(n,"argument-error"),t0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fA.create(n,...e)}function Ve(n,e,...t){if(!n)throw n0(e,...t)}function ca(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sd(e),new Error(e)}function ga(n,e){n||ca(e)}function sy(){return typeof self<"u"&&self.location?.href||""}function L4(){return oE()==="http:"||oE()==="https:"}function oE(){return typeof self<"u"&&self.location?.protocol||null}function M4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L4()||oI()||"connection"in navigator)?navigator.onLine:!0}function k4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class hh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ga(t>e,"Short delay should be less than long delay!"),this.isMobile=iI()||lI()}get(){return M4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function r0(n,e){ga(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const P4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],V4=new hh(3e4,6e4);function So(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ta(n,e,t,r,a={}){return mA(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=ch({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return aI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ru(n.emulatorConfig.host)&&(p.credentials="include"),dA.fetch()(await pA(n,n.config.apiHost,t,f),p)})}async function mA(n,e,t){n._canInitEmulator=!1;const r={...j4,...e};try{const a=new q4(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Vf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Vf(n,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw t0(n,y,p);Ri(n,y)}}catch(a){if(a instanceof Ea)throw a;Ri(n,"network-request-failed",{message:String(a)})}}async function fh(n,e,t,r,a={}){const l=await Ta(n,e,t,r,a);return"mfaPendingCredential"in l&&Ri(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function pA(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?r0(n.config,a):`${n.config.apiScheme}://${a}`;return P4.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function U4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),V4.get())})}}function Vf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Xi(n,e,r);return a.customData._tokenResponse=t,a}function lE(n){return n!==void 0&&n.enterprise!==void 0}class B4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return U4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function z4(n,e){return Ta(n,"GET","/v2/recaptchaConfig",So(n,e))}async function H4(n,e){return Ta(n,"POST","/v1/accounts:delete",e)}async function bd(n,e){return Ta(n,"POST","/v1/accounts:lookup",e)}function Pc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F4(n,e=!1){const t=An(n),r=await t.getIdToken(e),a=i0(r);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Pc(Rg(a.auth_time)),issuedAtTime:Pc(Rg(a.iat)),expirationTime:Pc(Rg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Rg(n){return Number(n)*1e3}function i0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Jw(t);return a?JSON.parse(a):(sd("Failed to decode base64 JWT payload"),null)}catch(a){return sd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function uE(n){const e=i0(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ea&&G4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function G4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class $4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ay{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ed(n){const e=n.auth,t=await n.getIdToken(),r=await yu(n,bd(e,{idToken:t}));Ve(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?gA(a.providerUserInfo):[],c=Q4(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ay(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function K4(n){const e=An(n);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q4(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function gA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Y4(n,e){const t=await mA(n,{},async()=>{const r=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await pA(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return n.emulatorConfig&&Ru(n.emulatorConfig.host)&&(m.credentials="include"),dA.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function X4(n,e){return Ta(n,"POST","/v2/accounts:revokeToken",So(n,e))}class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=uE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await Y4(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new lu;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return ca("not implemented")}}function Ja(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new $4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ay(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F4(this,e)}reload(){return K4(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await yu(this,H4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:N,providerData:C,stsTokenManager:k}=t;Ve(T&&k,e,"internal-error");const O=lu.fromJSON(this.name,k);Ve(typeof T=="string",e,"internal-error"),Ja(r,e.name),Ja(a,e.name),Ve(typeof w=="boolean",e,"internal-error"),Ve(typeof N=="boolean",e,"internal-error"),Ja(l,e.name),Ja(c,e.name),Ja(f,e.name),Ja(m,e.name),Ja(p,e.name),Ja(y,e.name);const z=new Yi({uid:T,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(z.providerData=C.map(K=>({...K}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,t,r=!1){const a=new lu;a.updateFromServerResponse(t);const l=new Yi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ed(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?gA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new lu;f.updateFromIdToken(r);const m=new Yi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ay(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const cE=new Map;function ha(n){ga(n instanceof Function,"Expected a class definition");let e=cE.get(n);return e?(ga(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cE.set(n,e),e)}class yA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yA.type="NONE";const hE=yA;function ad(n,e,t){return`firebase:${n}:${e}:${t}`}class uu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=ad(this.userKey,a.apiKey,l),this.fullPersistenceKey=ad("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bd(this.auth,{idToken:e}).catch(()=>{});return t?Yi._fromGetAccountInfoResponse(this.auth,t,e):null}return Yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new uu(ha(hE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ha(hE);const c=ad(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const w=await bd(e,{idToken:y}).catch(()=>{});if(!w)break;T=await Yi._fromGetAccountInfoResponse(e,w,y)}else T=Yi._fromJSON(e,y);p!==l&&(f=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new uu(l,e,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new uu(l,e,r))}}function fE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wA(e))return"Blackberry";if(AA(e))return"Webos";if(_A(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(TA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function vA(n=or()){return/firefox\//i.test(n)}function _A(n=or()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(n=or()){return/crios\//i.test(n)}function EA(n=or()){return/iemobile/i.test(n)}function TA(n=or()){return/android/i.test(n)}function wA(n=or()){return/blackberry/i.test(n)}function AA(n=or()){return/webos/i.test(n)}function s0(n=or()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function W4(n=or()){return s0(n)&&!!window.navigator?.standalone}function Z4(){return uI()&&document.documentMode===10}function xA(n=or()){return s0(n)||TA(n)||AA(n)||wA(n)||/windows phone/i.test(n)||EA(n)}function SA(n,e=[]){let t;switch(n){case"Browser":t=fE(or());break;case"Worker":t=`${fE(or())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Iu}/${r}`}class J4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function eO(n,e={}){return Ta(n,"GET","/v2/passwordPolicy",So(n,e))}const tO=6;class nO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??tO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class rO{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new J4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ha(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bd(this,{idToken:e}),r=await Yi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(da(this));const t=e?An(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eO(this),t=new nO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await X4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ha(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[ha(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&O4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function No(n){return An(n)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=yI(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(n){Fd=n}function NA(n){return Fd.loadJS(n)}function sO(){return Fd.recaptchaEnterpriseScript}function aO(){return Fd.gapiScript}function oO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lO{constructor(){this.enterprise=new uO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cO="recaptcha-enterprise",CA="NO_RECAPTCHA";class hO{constructor(e){this.type=cO,this.auth=No(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{z4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new B4(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;lE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(CA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!t&&lE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=sO();m.length!==0&&(m+=f),NA(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function mE(n,e,t,r=!1,a=!1){const l=new hO(n);let c;if(a)c=CA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function oy(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await mE(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await mE(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}function fO(n,e){const t=e0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(tl(l,e??{}))return a;Ri(a,"already-initialized")}return t.initialize({options:e})}function dO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ha);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function mO(n,e,t){const r=No(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=RA(e),{host:c,port:f}=pO(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(tl(p,r.config.emulator)&&tl(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ru(c)?(rA(`${l}//${c}${m}`),iA("Auth",!0)):gO()}function RA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pO(n){const e=RA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:pE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:pE(c)}}}function pE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class a0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,t){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}async function yO(n,e){return Ta(n,"POST","/v1/accounts:signUp",e)}async function vO(n,e){return fh(n,"POST","/v1/accounts:signInWithPassword",So(n,e))}async function _O(n,e){return fh(n,"POST","/v1/accounts:signInWithEmailLink",So(n,e))}async function bO(n,e){return fh(n,"POST","/v1/accounts:signInWithEmailLink",So(n,e))}class $c extends a0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new $c(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $c(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,t,"signInWithPassword",vO);case"emailLink":return _O(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,r,"signUpPassword",yO);case"emailLink":return bO(e,{idToken:t,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function cu(n,e){return fh(n,"POST","/v1/accounts:signInWithIdp",So(n,e))}const EO="http://localhost";class rl extends a0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new rl(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return cu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,cu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cu(e,t)}buildRequest(){const e={requestUri:EO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ch(t)}return e}}function TO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(n){const e=Nc(Cc(n)).link,t=e?Nc(Cc(e)).deep_link_id:null,r=Nc(Cc(n)).deep_link_id;return(r?Nc(Cc(r)).link:null)||r||t||e||n}class o0{constructor(e){const t=Nc(Cc(e)),r=t.apiKey??null,a=t.oobCode??null,l=TO(t.mode??null);Ve(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=wO(e);try{return new o0(t)}catch{return null}}}class Ou{constructor(){this.providerId=Ou.PROVIDER_ID}static credential(e,t){return $c._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=o0.parseLink(t);return Ve(r,"argument-error"),$c._fromEmailAndCode(e,r.code,r.tenantId)}}Ou.PROVIDER_ID="password";Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class l0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dh extends l0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class to extends dh{constructor(){super("facebook.com")}static credential(e){return rl._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";class _s extends dh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rl._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _s.credential(t,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";class no extends dh{constructor(){super("github.com")}static credential(e){return rl._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";class ro extends dh{constructor(){super("twitter.com")}static credential(e,t){return rl._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ro.credential(t,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";async function AO(n,e){return fh(n,"POST","/v1/accounts:signUp",So(n,e))}class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Yi._fromIdTokenResponse(e,r,a),c=gE(r);return new il({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=gE(r);return new il({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function gE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Td extends Ea{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Td(e,t,r,a)}}function IA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(n,l,e,r):l})}async function xO(n,e,t=!1){const r=await yu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return il._forOperation(n,"link",r)}async function SO(n,e,t=!1){const{auth:r}=n;if(Jr(r.app))return Promise.reject(da(r));const a="reauthenticate";try{const l=await yu(n,IA(r,a,e,n),t);Ve(l.idToken,r,"internal-error");const c=i0(l.idToken);Ve(c,r,"internal-error");const{sub:f}=c;return Ve(n.uid===f,r,"user-mismatch"),il._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),l}}async function OA(n,e,t=!1){if(Jr(n.app))return Promise.reject(da(n));const r="signIn",a=await IA(n,r,e),l=await il._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function NO(n,e){return OA(No(n),e)}async function DA(n){const e=No(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CO(n,e,t){if(Jr(n.app))return Promise.reject(da(n));const r=No(n),c=await oy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&DA(n),m}),f=await il._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function RO(n,e,t){return Jr(n.app)?Promise.reject(da(n)):NO(An(n),Ou.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DA(n),r})}async function IO(n,e){return Ta(n,"POST","/v1/accounts:update",e)}async function OO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=An(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await yu(r,IO(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function DO(n,e,t,r){return An(n).onIdTokenChanged(e,t,r)}function LO(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function u0(n,e,t,r){return An(n).onAuthStateChanged(e,t,r)}function MO(n){return An(n).signOut()}const wd="__sak";class LA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kO=1e3,jO=10;class MA extends LA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);Z4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,jO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MA.type="LOCAL";const PO=MA;class kA extends LA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kA.type="SESSION";const jA=kA;function VO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),m=await VO(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];function c0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class UO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=c0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function bs(){return window}function qO(n){bs().location.href=n}function PA(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function BO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zO(){return navigator?.serviceWorker?.controller||null}function HO(){return PA()?self:null}const VA="firebaseLocalStorageDb",FO=1,Ad="firebaseLocalStorage",UA="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $d(n,e){return n.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function GO(){const n=indexedDB.deleteDatabase(VA);return new mh(n).toPromise()}function ly(){const n=indexedDB.open(VA,FO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ad,{keyPath:UA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ad)?e(r):(r.close(),await GO(),e(await ly()))})})}async function yE(n,e,t){const r=$d(n,!0).put({[UA]:e,value:t});return new mh(r).toPromise()}async function $O(n,e){const t=$d(n,!1).get(e),r=await new mh(t).toPromise();return r===void 0?null:r.value}function vE(n,e){const t=$d(n,!0).delete(e);return new mh(t).toPromise()}const KO=800,QO=3;class qA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>QO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(HO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BO(),!this.activeServiceWorker)return;this.sender=new UO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await yE(e,wd,"1"),await vE(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>yE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$O(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$d(a,!1).getAll();return new mh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qA.type="LOCAL";const YO=qA;new hh(3e4,6e4);function BA(n,e){return e?ha(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class h0 extends a0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XO(n){return OA(n.auth,new h0(n),n.bypassAuthState)}function WO(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),SO(t,new h0(n),n.bypassAuthState)}async function ZO(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),xO(t,new h0(n),n.bypassAuthState)}class zA{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XO;case"linkViaPopup":case"linkViaRedirect":return ZO;case"reauthViaPopup":case"reauthViaRedirect":return WO;default:Ri(this.auth,"internal-error")}}resolve(e){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JO=new hh(2e3,1e4);async function HA(n,e,t){if(Jr(n.app))return Promise.reject(Xi(n,"operation-not-supported-in-this-environment"));const r=No(n);D4(n,e,l0);const a=BA(r,t);return new Zo(r,"signInViaPopup",e,a).executeNotNull()}class Zo extends zA{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ga(this.filter.length===1,"Popup operations only handle one event");const e=c0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JO.get())};e()}}Zo.currentPopupAction=null;const e3="pendingRedirect",od=new Map;class t3 extends zA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await n3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n3(n,e){const t=s3(e),r=i3(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function r3(n,e){od.set(n._key(),e)}function i3(n){return ha(n._redirectPersistence)}function s3(n){return ad(e3,n.config.apiKey,n.name)}async function a3(n,e,t=!1){if(Jr(n.app))return Promise.reject(da(n));const r=No(n),a=BA(r,e),c=await new t3(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const o3=600*1e3;class l3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!FA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(e))}saveEventToCache(e){this.cachedEventUids.add(_E(e)),this.lastProcessedEventTime=Date.now()}}function _E(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function u3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FA(n);default:return!1}}async function c3(n,e={}){return Ta(n,"GET","/v1/projects",e)}const h3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f3=/^https?/;async function d3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await c3(n);for(const t of e)try{if(m3(t))return}catch{}Ri(n,"unauthorized-domain")}function m3(n){const e=sy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!f3.test(t))return!1;if(h3.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const p3=new hh(3e4,6e4);function bE(){const n=bs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function g3(n){return new Promise((e,t)=>{function r(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),t(Xi(n,"network-request-failed"))},timeout:p3.get()})}if(bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bs().gapi?.load)r();else{const a=oO("iframefcb");return bs()[a]=()=>{gapi.load?r():t(Xi(n,"network-request-failed"))},NA(`${aO()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function y3(n){return ld=ld||g3(n),ld}const v3=new hh(5e3,15e3),_3="__/auth/iframe",b3="emulator/auth/iframe",E3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w3(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?r0(e,b3):`https://${n.config.authDomain}/${_3}`,r={apiKey:e.apiKey,appName:n.name,v:Iu},a=T3.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${ch(r).slice(1)}`}async function A3(n){const e=await y3(n),t=bs().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:w3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E3,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Xi(n,"network-request-failed"),f=bs().setTimeout(()=>{l(c)},v3.get());function m(){bs().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}const x3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S3=500,N3=600,C3="_blank",R3="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I3(n,e,t,r=S3,a=N3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m={...x3,width:r.toString(),height:a.toString(),top:l,left:c},p=or().toLowerCase();t&&(f=bA(p)?C3:t),vA(p)&&(e=e||R3,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[N,C])=>`${w}${N}=${C},`,"");if(W4(p)&&f!=="_self")return O3(e||"",f),new EE(null);const T=window.open(e||"",f,y);Ve(T,n,"popup-blocked");try{T.focus()}catch{}return new EE(T)}function O3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const D3="__/auth/handler",L3="emulator/auth/handler",M3=encodeURIComponent("fac");async function TE(n,e,t,r,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Iu,eventId:a};if(e instanceof l0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",gI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof dh){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),p=m?`#${M3}=${encodeURIComponent(m)}`:"";return`${k3(n)}?${ch(f).slice(1)}${p}`}function k3({config:n}){return n.emulator?r0(n,L3):`https://${n.authDomain}/${D3}`}const Ig="webStorageSupport";class j3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jA,this._completeRedirectFn=a3,this._overrideRedirectResult=r3}async _openPopup(e,t,r,a){ga(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await TE(e,t,r,sy(),a);return I3(e,l,c0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await TE(e,t,r,sy(),a);return qO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ga(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await A3(e),r=new l3(e);return t.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ig,{type:Ig},a=>{const l=a?.[0]?.[Ig];l!==void 0&&t(!!l),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=d3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xA()||_A()||s0()}}const P3=j3;var wE="@firebase/auth",AE="1.11.1";class V3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function U3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q3(n){gu(new nl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(n)},p=new rO(r,a,l,m);return dO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gu(new nl("auth-internal",e=>{const t=No(e.getProvider("auth").getImmediate());return(r=>new V3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(wE,AE,U3(n)),ho(wE,AE,"esm2020")}const B3=300,z3=nA("authIdTokenMaxAge")||B3;let xE=null;const H3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>z3)return;const a=t?.token;xE!==a&&(xE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function F3(n=lA()){const e=e0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fO(n,{popupRedirectResolver:P3,persistence:[YO,PO,jA]}),r=nA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=H3(l.toString());LO(t,c,()=>c(t.currentUser)),DO(t,f=>c(f))}}const a=eA("auth");return a&&mO(t,`http://${a}`),t}function G3(){return document.getElementsByTagName("head")?.[0]??document}iO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Xi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",G3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q3("Browser");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,GA;(function(){var n;function e(j,M){function P(){}P.prototype=M.prototype,j.F=M.prototype,j.prototype=new P,j.prototype.constructor=j,j.D=function(H,x,L){for(var S=Array(arguments.length-2),me=2;me<arguments.length;me++)S[me-2]=arguments[me];return M.prototype[x].apply(H,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,M,P){P||(P=0);const H=Array(16);if(typeof M=="string")for(var x=0;x<16;++x)H[x]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(x=0;x<16;++x)H[x]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=j.g[0],P=j.g[1],x=j.g[2];let L=j.g[3],S;S=M+(L^P&(x^L))+H[0]+3614090360&4294967295,M=P+(S<<7&4294967295|S>>>25),S=L+(x^M&(P^x))+H[1]+3905402710&4294967295,L=M+(S<<12&4294967295|S>>>20),S=x+(P^L&(M^P))+H[2]+606105819&4294967295,x=L+(S<<17&4294967295|S>>>15),S=P+(M^x&(L^M))+H[3]+3250441966&4294967295,P=x+(S<<22&4294967295|S>>>10),S=M+(L^P&(x^L))+H[4]+4118548399&4294967295,M=P+(S<<7&4294967295|S>>>25),S=L+(x^M&(P^x))+H[5]+1200080426&4294967295,L=M+(S<<12&4294967295|S>>>20),S=x+(P^L&(M^P))+H[6]+2821735955&4294967295,x=L+(S<<17&4294967295|S>>>15),S=P+(M^x&(L^M))+H[7]+4249261313&4294967295,P=x+(S<<22&4294967295|S>>>10),S=M+(L^P&(x^L))+H[8]+1770035416&4294967295,M=P+(S<<7&4294967295|S>>>25),S=L+(x^M&(P^x))+H[9]+2336552879&4294967295,L=M+(S<<12&4294967295|S>>>20),S=x+(P^L&(M^P))+H[10]+4294925233&4294967295,x=L+(S<<17&4294967295|S>>>15),S=P+(M^x&(L^M))+H[11]+2304563134&4294967295,P=x+(S<<22&4294967295|S>>>10),S=M+(L^P&(x^L))+H[12]+1804603682&4294967295,M=P+(S<<7&4294967295|S>>>25),S=L+(x^M&(P^x))+H[13]+4254626195&4294967295,L=M+(S<<12&4294967295|S>>>20),S=x+(P^L&(M^P))+H[14]+2792965006&4294967295,x=L+(S<<17&4294967295|S>>>15),S=P+(M^x&(L^M))+H[15]+1236535329&4294967295,P=x+(S<<22&4294967295|S>>>10),S=M+(x^L&(P^x))+H[1]+4129170786&4294967295,M=P+(S<<5&4294967295|S>>>27),S=L+(P^x&(M^P))+H[6]+3225465664&4294967295,L=M+(S<<9&4294967295|S>>>23),S=x+(M^P&(L^M))+H[11]+643717713&4294967295,x=L+(S<<14&4294967295|S>>>18),S=P+(L^M&(x^L))+H[0]+3921069994&4294967295,P=x+(S<<20&4294967295|S>>>12),S=M+(x^L&(P^x))+H[5]+3593408605&4294967295,M=P+(S<<5&4294967295|S>>>27),S=L+(P^x&(M^P))+H[10]+38016083&4294967295,L=M+(S<<9&4294967295|S>>>23),S=x+(M^P&(L^M))+H[15]+3634488961&4294967295,x=L+(S<<14&4294967295|S>>>18),S=P+(L^M&(x^L))+H[4]+3889429448&4294967295,P=x+(S<<20&4294967295|S>>>12),S=M+(x^L&(P^x))+H[9]+568446438&4294967295,M=P+(S<<5&4294967295|S>>>27),S=L+(P^x&(M^P))+H[14]+3275163606&4294967295,L=M+(S<<9&4294967295|S>>>23),S=x+(M^P&(L^M))+H[3]+4107603335&4294967295,x=L+(S<<14&4294967295|S>>>18),S=P+(L^M&(x^L))+H[8]+1163531501&4294967295,P=x+(S<<20&4294967295|S>>>12),S=M+(x^L&(P^x))+H[13]+2850285829&4294967295,M=P+(S<<5&4294967295|S>>>27),S=L+(P^x&(M^P))+H[2]+4243563512&4294967295,L=M+(S<<9&4294967295|S>>>23),S=x+(M^P&(L^M))+H[7]+1735328473&4294967295,x=L+(S<<14&4294967295|S>>>18),S=P+(L^M&(x^L))+H[12]+2368359562&4294967295,P=x+(S<<20&4294967295|S>>>12),S=M+(P^x^L)+H[5]+4294588738&4294967295,M=P+(S<<4&4294967295|S>>>28),S=L+(M^P^x)+H[8]+2272392833&4294967295,L=M+(S<<11&4294967295|S>>>21),S=x+(L^M^P)+H[11]+1839030562&4294967295,x=L+(S<<16&4294967295|S>>>16),S=P+(x^L^M)+H[14]+4259657740&4294967295,P=x+(S<<23&4294967295|S>>>9),S=M+(P^x^L)+H[1]+2763975236&4294967295,M=P+(S<<4&4294967295|S>>>28),S=L+(M^P^x)+H[4]+1272893353&4294967295,L=M+(S<<11&4294967295|S>>>21),S=x+(L^M^P)+H[7]+4139469664&4294967295,x=L+(S<<16&4294967295|S>>>16),S=P+(x^L^M)+H[10]+3200236656&4294967295,P=x+(S<<23&4294967295|S>>>9),S=M+(P^x^L)+H[13]+681279174&4294967295,M=P+(S<<4&4294967295|S>>>28),S=L+(M^P^x)+H[0]+3936430074&4294967295,L=M+(S<<11&4294967295|S>>>21),S=x+(L^M^P)+H[3]+3572445317&4294967295,x=L+(S<<16&4294967295|S>>>16),S=P+(x^L^M)+H[6]+76029189&4294967295,P=x+(S<<23&4294967295|S>>>9),S=M+(P^x^L)+H[9]+3654602809&4294967295,M=P+(S<<4&4294967295|S>>>28),S=L+(M^P^x)+H[12]+3873151461&4294967295,L=M+(S<<11&4294967295|S>>>21),S=x+(L^M^P)+H[15]+530742520&4294967295,x=L+(S<<16&4294967295|S>>>16),S=P+(x^L^M)+H[2]+3299628645&4294967295,P=x+(S<<23&4294967295|S>>>9),S=M+(x^(P|~L))+H[0]+4096336452&4294967295,M=P+(S<<6&4294967295|S>>>26),S=L+(P^(M|~x))+H[7]+1126891415&4294967295,L=M+(S<<10&4294967295|S>>>22),S=x+(M^(L|~P))+H[14]+2878612391&4294967295,x=L+(S<<15&4294967295|S>>>17),S=P+(L^(x|~M))+H[5]+4237533241&4294967295,P=x+(S<<21&4294967295|S>>>11),S=M+(x^(P|~L))+H[12]+1700485571&4294967295,M=P+(S<<6&4294967295|S>>>26),S=L+(P^(M|~x))+H[3]+2399980690&4294967295,L=M+(S<<10&4294967295|S>>>22),S=x+(M^(L|~P))+H[10]+4293915773&4294967295,x=L+(S<<15&4294967295|S>>>17),S=P+(L^(x|~M))+H[1]+2240044497&4294967295,P=x+(S<<21&4294967295|S>>>11),S=M+(x^(P|~L))+H[8]+1873313359&4294967295,M=P+(S<<6&4294967295|S>>>26),S=L+(P^(M|~x))+H[15]+4264355552&4294967295,L=M+(S<<10&4294967295|S>>>22),S=x+(M^(L|~P))+H[6]+2734768916&4294967295,x=L+(S<<15&4294967295|S>>>17),S=P+(L^(x|~M))+H[13]+1309151649&4294967295,P=x+(S<<21&4294967295|S>>>11),S=M+(x^(P|~L))+H[4]+4149444226&4294967295,M=P+(S<<6&4294967295|S>>>26),S=L+(P^(M|~x))+H[11]+3174756917&4294967295,L=M+(S<<10&4294967295|S>>>22),S=x+(M^(L|~P))+H[2]+718787259&4294967295,x=L+(S<<15&4294967295|S>>>17),S=P+(L^(x|~M))+H[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,j.g[2]=j.g[2]+x&4294967295,j.g[3]=j.g[3]+L&4294967295}r.prototype.v=function(j,M){M===void 0&&(M=j.length);const P=M-this.blockSize,H=this.C;let x=this.h,L=0;for(;L<M;){if(x==0)for(;L<=P;)a(this,j,L),L+=this.blockSize;if(typeof j=="string"){for(;L<M;)if(H[x++]=j.charCodeAt(L++),x==this.blockSize){a(this,H),x=0;break}}else for(;L<M;)if(H[x++]=j[L++],x==this.blockSize){a(this,H),x=0;break}}this.h=x,this.o+=M},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;M=this.o*8;for(var P=j.length-8;P<j.length;++P)j[P]=M&255,M/=256;for(this.v(j),j=Array(16),M=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)j[M++]=this.g[P]>>>H&255;return j};function l(j,M){var P=f;return Object.prototype.hasOwnProperty.call(P,j)?P[j]:P[j]=M(j)}function c(j,M){this.h=M;const P=[];let H=!0;for(let x=j.length-1;x>=0;x--){const L=j[x]|0;H&&L==M||(P[x]=L,H=!1)}this.g=P}var f={};function m(j){return-128<=j&&j<128?l(j,function(M){return new c([M|0],M<0?-1:0)}):new c([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return T;if(j<0)return O(p(-j));const M=[];let P=1;for(let H=0;j>=P;H++)M[H]=j/P|0,P*=4294967296;return new c(M,0)}function y(j,M){if(j.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(j.charAt(0)=="-")return O(y(j.substring(1),M));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(M,8));let H=T;for(let L=0;L<j.length;L+=8){var x=Math.min(8,j.length-L);const S=parseInt(j.substring(L,L+x),M);x<8?(x=p(Math.pow(M,x)),H=H.j(x).add(p(S))):(H=H.j(P),H=H.add(p(S)))}return H}var T=m(0),w=m(1),N=m(16777216);n=c.prototype,n.m=function(){if(k(this))return-O(this).m();let j=0,M=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);j+=(H>=0?H:4294967296+H)*M,M*=4294967296}return j},n.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(C(this))return"0";if(k(this))return"-"+O(this).toString(j);const M=p(Math.pow(j,6));var P=this;let H="";for(;;){const x=_e(P,M).g;P=z(P,x.j(M));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(j);if(P=x,C(P))return L+H;for(;L.length<6;)L="0"+L;H=L+H}},n.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function C(j){if(j.h!=0)return!1;for(let M=0;M<j.g.length;M++)if(j.g[M]!=0)return!1;return!0}function k(j){return j.h==-1}n.l=function(j){return j=z(this,j),k(j)?-1:C(j)?0:1};function O(j){const M=j.g.length,P=[];for(let H=0;H<M;H++)P[H]=~j.g[H];return new c(P,~j.h).add(w)}n.abs=function(){return k(this)?O(this):this},n.add=function(j){const M=Math.max(this.g.length,j.g.length),P=[];let H=0;for(let x=0;x<=M;x++){let L=H+(this.i(x)&65535)+(j.i(x)&65535),S=(L>>>16)+(this.i(x)>>>16)+(j.i(x)>>>16);H=S>>>16,L&=65535,S&=65535,P[x]=S<<16|L}return new c(P,P[P.length-1]&-2147483648?-1:0)};function z(j,M){return j.add(O(M))}n.j=function(j){if(C(this)||C(j))return T;if(k(this))return k(j)?O(this).j(O(j)):O(O(this).j(j));if(k(j))return O(this.j(O(j)));if(this.l(N)<0&&j.l(N)<0)return p(this.m()*j.m());const M=this.g.length+j.g.length,P=[];for(var H=0;H<2*M;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let x=0;x<j.g.length;x++){const L=this.i(H)>>>16,S=this.i(H)&65535,me=j.i(x)>>>16,de=j.i(x)&65535;P[2*H+2*x]+=S*de,K(P,2*H+2*x),P[2*H+2*x+1]+=L*de,K(P,2*H+2*x+1),P[2*H+2*x+1]+=S*me,K(P,2*H+2*x+1),P[2*H+2*x+2]+=L*me,K(P,2*H+2*x+2)}for(j=0;j<M;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=M;j<2*M;j++)P[j]=0;return new c(P,0)};function K(j,M){for(;(j[M]&65535)!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function ne(j,M){this.g=j,this.h=M}function _e(j,M){if(C(M))throw Error("division by zero");if(C(j))return new ne(T,T);if(k(j))return M=_e(O(j),M),new ne(O(M.g),O(M.h));if(k(M))return M=_e(j,O(M)),new ne(O(M.g),M.h);if(j.g.length>30){if(k(j)||k(M))throw Error("slowDivide_ only works with positive integers.");for(var P=w,H=M;H.l(j)<=0;)P=ve(P),H=ve(H);var x=we(P,1),L=we(H,1);for(H=we(H,2),P=we(P,2);!C(H);){var S=L.add(H);S.l(j)<=0&&(x=x.add(P),L=S),H=we(H,1),P=we(P,1)}return M=z(j,x.j(M)),new ne(x,M)}for(x=T;j.l(M)>=0;){for(P=Math.max(1,Math.floor(j.m()/M.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),L=p(P),S=L.j(M);k(S)||S.l(j)>0;)P-=H,L=p(P),S=L.j(M);C(L)&&(L=w),x=x.add(L),j=z(j,S)}return new ne(x,j)}n.B=function(j){return _e(this,j).h},n.and=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)&j.i(H);return new c(P,this.h&j.h)},n.or=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)|j.i(H);return new c(P,this.h|j.h)},n.xor=function(j){const M=Math.max(this.g.length,j.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)^j.i(H);return new c(P,this.h^j.h)};function ve(j){const M=j.g.length+1,P=[];for(let H=0;H<M;H++)P[H]=j.i(H)<<1|j.i(H-1)>>>31;return new c(P,j.h)}function we(j,M){const P=M>>5;M%=32;const H=j.g.length-P,x=[];for(let L=0;L<H;L++)x[L]=M>0?j.i(L+P)>>>M|j.i(L+P+1)<<32-M:j.i(L+P);return new c(x,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,GA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,fo=c}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $A,Rc,KA,ud,uy,QA,YA,XA;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var v=0;v<h.length;++v){var A=h[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(h,v){if(v)e:{var A=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var Q=h[D];if(!(Q in A))break e;A=A[Q]}h=h[h.length-1],D=A[h],v=v(D),v!=D&&v!=null&&e(A,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var A=[],D;for(D in v)Object.prototype.hasOwnProperty.call(v,D)&&A.push([D,v[D]]);return A}});var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,A){return h.call.apply(h.bind,arguments)}function p(h,v,A){return p=m,p.apply(null,arguments)}function y(h,v){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function T(h,v){function A(){}A.prototype=v.prototype,h.Z=v.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(D,Q,te){for(var be=Array(arguments.length-2),He=2;He<arguments.length;He++)be[He-2]=arguments[He];return v.prototype[Q].apply(D,be)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const v=h.length;if(v>0){const A=Array(v);for(let D=0;D<v;D++)A[D]=h[D];return A}return[]}function C(h,v){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var A=typeof Q;if(A=A!="object"?A:Q?Array.isArray(Q)?"array":A:"null",A=="array"||A=="object"&&typeof Q.length=="number"){A=h.length||0;const te=Q.length||0;h.length=A+te;for(let be=0;be<te;be++)h[A+be]=Q[be]}else h.push(Q)}}class k{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(h){c.setTimeout(()=>{throw h},0)}function z(){var h=j;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,A){const D=ne.get();D.set(v,A),this.h?this.h.next=D:this.g=D,this.h=D}}var ne=new k(()=>new _e,h=>h.reset());class _e{constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,we=!1,j=new K,M=()=>{const h=Promise.resolve(void 0);ve=()=>{h.then(P)}};function P(){for(var h;h=z();){try{h.h.call(h.g)}catch(A){O(A)}var v=ne;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}we=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};c.addEventListener("test",A,v),c.removeEventListener("test",A,v)}catch{}return h})();function S(h){return/^[\s\xa0]*$/.test(h)}function me(h,v){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(me,x),me.prototype.init=function(h,v){const A=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(A=="mouseover"?v=h.fromElement:A=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),B=0;function Z(h,v,A,D,Q){this.listener=h,this.proxy=null,this.src=v,this.type=A,this.capture=!!D,this.ha=Q,this.key=++B,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,v,A){for(const D in h)v.call(A,h[D],D,h)}function ge(h,v){for(const A in h)v.call(void 0,h[A],A,h)}function V(h){const v={};for(const A in h)v[A]=h[A];return v}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,v){let A,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(A in D)h[A]=D[A];for(let te=0;te<Y.length;te++)A=Y[te],Object.prototype.hasOwnProperty.call(D,A)&&(h[A]=D[A])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,A,D,Q){const te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);const be=Ae(h,v,D,Q);return be>-1?(v=h[be],A||(v.fa=!1)):(v=new Z(v,this.src,te,!!D,Q),v.fa=A,h.push(v)),v};function pe(h,v){const A=v.type;if(A in h.g){var D=h.g[A],Q=Array.prototype.indexOf.call(D,v,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(D,Q,1),te&&(le(v),h.g[A].length==0&&(delete h.g[A],h.h--))}}function Ae(h,v,A,D){for(let Q=0;Q<h.length;++Q){const te=h[Q];if(!te.da&&te.listener==v&&te.capture==!!A&&te.ha==D)return Q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Ie={};function Le(h,v,A,D,Q){if(Array.isArray(v)){for(let te=0;te<v.length;te++)Le(h,v[te],A,D,Q);return null}return A=Ds(A),h&&h[de]?h.J(v,A,f(D)?!!D.capture:!1,Q):Ke(h,v,A,!1,D,Q)}function Ke(h,v,A,D,Q,te){if(!v)throw Error("Invalid event type");const be=f(Q)?!!Q.capture:!!Q;let He=jr(h);if(He||(h[De]=He=new fe(h)),A=He.add(v,A,D,be,te),A.proxy)return A;if(D=Xe(),A.proxy=D,D.src=h,D.listener=A,h.addEventListener)L||(Q=be),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),D,Q);else if(h.attachEvent)h.attachEvent(dt(v.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Xe(){function h(A){return v.call(h.src,h.listener,A)}const v=Xt;return h}function et(h,v,A,D,Q){if(Array.isArray(v))for(var te=0;te<v.length;te++)et(h,v[te],A,D,Q);else D=f(D)?!!D.capture:!!D,A=Ds(A),h&&h[de]?(h=h.i,te=String(v).toString(),te in h.g&&(v=h.g[te],A=Ae(v,A,D,Q),A>-1&&(le(v[A]),Array.prototype.splice.call(v,A,1),v.length==0&&(delete h.g[te],h.h--)))):h&&(h=jr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ae(v,A,D,Q)),(A=h>-1?v[h]:null)&&at(A))}function at(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[de])pe(v.i,h);else{var A=h.type,D=h.proxy;v.removeEventListener?v.removeEventListener(A,D,h.capture):v.detachEvent?v.detachEvent(dt(A),D):v.addListener&&v.removeListener&&v.removeListener(D),(A=jr(v))?(pe(A,h),A.h==0&&(A.src=null,v[De]=null)):le(h)}}}function dt(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function Xt(h,v){if(h.da)h=!0;else{v=new me(v,this);const A=h.listener,D=h.ha||h.src;h.fa&&at(h),h=A.call(D,v)}return h}function jr(h){return h=h[De],h instanceof fe?h:null}var rs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(h){return typeof h=="function"?h:(h[rs]||(h[rs]=function(v){return h.handleEvent(v)}),h[rs])}function Vt(){H.call(this),this.i=new fe(this),this.M=this,this.G=null}T(Vt,H),Vt.prototype[de]=!0,Vt.prototype.removeEventListener=function(h,v,A,D){et(this,h,v,A,D)};function St(h,v){var A,D=h.G;if(D)for(A=[];D;D=D.G)A.push(D);if(h=h.M,D=v.type||v,typeof v=="string")v=new x(v,h);else if(v instanceof x)v.target=v.target||h;else{var Q=v;v=new x(D,h),ce(v,Q)}Q=!0;let te,be;if(A)for(be=A.length-1;be>=0;be--)te=v.g=A[be],Q=_r(te,D,!0,v)&&Q;if(te=v.g=h,Q=_r(te,D,!0,v)&&Q,Q=_r(te,D,!1,v)&&Q,A)for(be=0;be<A.length;be++)te=v.g=A[be],Q=_r(te,D,!1,v)&&Q}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const A=h.g[v];for(let D=0;D<A.length;D++)le(A[D]);delete h.g[v],h.h--}}this.G=null},Vt.prototype.J=function(h,v,A,D){return this.i.add(String(h),v,!1,A,D)},Vt.prototype.K=function(h,v,A,D){return this.i.add(String(h),v,!0,A,D)};function _r(h,v,A,D){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let te=0;te<v.length;++te){const be=v[te];if(be&&!be.da&&be.capture==A){const He=be.listener,sn=be.ha||be.src;be.fa&&pe(h.i,be),Q=He.call(sn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function xa(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ls(h){h.g=xa(()=>{h.g=null,h.i&&(h.i=!1,Ls(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Nt extends H{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(h){H.call(this),this.h=h,this.g={}}T(br,H);var Ms=[];function Pr(h){ye(h.g,function(v,A){this.g.hasOwnProperty(A)&&at(v)},h),h.g={}}br.prototype.N=function(){br.Z.N.call(this),Pr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=c.JSON.stringify,ks=c.JSON.parse,On=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function js(){}function Ps(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){x.call(this,"d")}T(Kt,x);function vn(){x.call(this,"c")}T(vn,x);var Ct={},Li=null;function Er(){return Li=Li||new Vt}Ct.Ia="serverreachability";function Yn(h){x.call(this,Ct.Ia,h)}T(Yn,x);function Dn(h){const v=Er();St(v,new Yn(v))}Ct.STAT_EVENT="statevent";function Vr(h,v){x.call(this,Ct.STAT_EVENT,h),this.stat=v}T(Vr,x);function bt(h){const v=Er();St(v,new Vr(v,h))}Ct.Ja="timingevent";function Xn(h,v){x.call(this,Ct.Ja,h),this.size=v}T(Xn,x);function xn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Vs(h,v,A,D,Q,te){h.info(function(){if(h.g)if(te){var be="",He=te.split("&");for(let mt=0;mt<He.length;mt++){var sn=He[mt].split("=");if(sn.length>1){const Ft=sn[0];sn=sn[1];const mi=Ft.split("_");be=mi.length>=2&&mi[1]=="type"?be+(Ft+"="+sn+"&"):be+(Ft+"=redacted&")}}}else be=null;else be=te;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+v+`
`+A+`
`+be})}function is(h,v,A,D,Q,te,be){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+v+`
`+A+`
`+te+" "+be})}function _n(h,v,A,D){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ur(h,A)+(D?" "+D:"")})}function si(h,v){h.info(function(){return"TIMEOUT: "+v})}Ln.prototype.info=function(){};function Ur(h,v){if(!h.g)return v;if(!v)return null;try{const te=JSON.parse(v);if(te){for(h=0;h<te.length;h++)if(Array.isArray(te[h])){var A=te[h];if(!(A.length<2)){var D=A[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let be=1;be<D.length;be++)D[be]=""}}}}return lr(te)}catch{return v}}var Mi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Us={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qs;function ai(){}T(ai,js),ai.prototype.g=function(){return new XMLHttpRequest},qs=new ai;function cr(h){return encodeURIComponent(String(h))}function Wt(h){var v=1;h=h.split(":");const A=[];for(;v>0&&h.length;)A.push(h.shift()),v--;return h.length&&A.push(h.join(":")),A}function hr(h,v,A,D){this.j=h,this.i=v,this.l=A,this.S=D||1,this.V=new br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}var Ut={},Zt={};function Tr(h,v,A){h.M=1,h.A=li(Bt(v)),h.u=A,h.R=!0,Qt(h,null)}function Qt(h,v){h.F=Date.now(),wr(h),h.B=Bt(h.A);var A=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),us(A.i,"t",D),h.C=0,A=h.j.L,h.h=new fr,h.g=Rh(h.j,A?v:null,!h.u),h.P>0&&(h.O=new Nt(p(h.Y,h,h.g),h.P)),v=h.V,A=h.g,D=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ms[0]=Q.toString()),Q=Ms);for(let te=0;te<Q.length;te++){const be=Le(A,Q[te],D||v.handleEvent,!1,v.h||v);if(!be)break;v.g[be.key]=be}v=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Dn(),Vs(h.i,h.v,h.B,h.l,h.S,h.u)}hr.prototype.ba=function(h){h=h.target;const v=this.O;v&&U(h)==3?v.j():this.Y(h)},hr.prototype.Y=function(h){try{if(h==this.g)e:{const He=U(this.g),sn=this.g.ya(),mt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||ee(this.g)))){this.K||He!=4||sn==7||(sn==8||mt<=0?Dn(3):Dn(2)),Ot(this);var v=this.g.ca();this.X=v;var A=Lo(this);if(this.o=v==200,is(this.i,this.v,this.B,this.l,this.S,He,v),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(D)){var te=D;break t}}te=null}if(h=te)_n(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ar(this,h);else{this.o=!1,this.m=3,bt(12),Mn(this),Wn(this);break e}}if(this.R){h=!0;let Ft;for(;!this.K&&this.C<A.length;)if(Ft=Na(this,A),Ft==Zt){He==4&&(this.m=4,bt(14),h=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ut){this.m=4,bt(15),_n(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else _n(this.i,this.l,Ft,null),Ar(this,Ft);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||A.length!=0||this.h.h||(this.m=1,bt(16),h=!1),this.o=this.o&&h,!h)_n(this.i,this.l,A,"[Invalid Chunked Response]"),Mn(this),Wn(this);else if(A.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Gr(be),be.P=!0,bt(11))}}else _n(this.i,this.l,A,null),Ar(this,A);He==4&&Mn(this),this.o&&!this.K&&(He==4?$s(this.j,this):(this.o=!1,wr(this)))}else je(this.g),v==400&&A.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),Mn(this),Wn(this)}}}catch{}finally{}};function Lo(h){if(!Sa(h))return h.g.la();const v=ee(h.g);if(v==="")return"";let A="";const D=v.length,Q=U(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Mn(h),Wn(h),"";h.h.i=new c.TextDecoder}for(let te=0;te<D;te++)h.h.h=!0,A+=h.h.i.decode(v[te],{stream:!(Q&&te==D-1)});return v.length=0,h.h.g+=A,h.C=0,h.h.g}function Sa(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Na(h,v){var A=h.C,D=v.indexOf(`
`,A);return D==-1?Zt:(A=Number(v.substring(A,D)),isNaN(A)?Ut:(D+=1,D+A>v.length?Zt:(v=v.slice(D,D+A),h.C=D+A,v)))}hr.prototype.cancel=function(){this.K=!0,Mn(this)};function wr(h){h.T=Date.now()+h.H,ss(h,h.H)}function ss(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=xn(p(h.aa,h),v)}function Ot(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(si(this.i,this.B),this.M!=2&&(Dn(),bt(17)),Mn(this),this.m=2,Wn(this)):ss(this,this.T-h)};function Wn(h){h.j.I==0||h.K||$s(h.j,h)}function Mn(h){Ot(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Pr(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ar(h,v){try{var A=h.j;if(A.I!=0&&(A.g==h||kn(A.h,h))){if(!h.L&&kn(A.h,h)&&A.I==3){try{var D=A.Ba.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)Ui(A),yt(A);else break e;Un(A),bt(18)}}else A.xa=Q[1],0<A.xa-A.K&&Q[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=xn(p(A.Va,A),6e3));dr(A.h)<=1&&A.ta&&(A.ta=void 0)}else hs(A,11)}else if((h.L||A.g==h)&&Ui(A),!S(v))for(Q=A.Ba.g.parse(v),v=0;v<Q.length;v++){let mt=Q[v];const Ft=mt[0];if(!(Ft<=A.K))if(A.K=Ft,mt=mt[1],A.I==2)if(mt[0]=="c"){A.M=mt[1],A.ba=mt[2];const mi=mt[3];mi!=null&&(A.ka=mi,A.j.info("VER="+A.ka));const fs=mt[4];fs!=null&&(A.za=fs,A.j.info("SVER="+A.za));const qi=mt[5];qi!=null&&typeof qi=="number"&&qi>0&&(D=1.5*qi,A.O=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Bi=h.g;if(Bi){const ko=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var te=D.h;te.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Zn(te,te.h),te.h=null))}if(D.G){const Al=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(D.wa=Al,lt(D.J,D.G,Al))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),D=A;var be=h;if(D.na=Ch(D,D.L?D.ba:null,D.W),be.L){ki(D.h,be);var He=be,sn=D.O;sn&&(He.H=sn),He.D&&(Ot(He),wr(He)),D.g=be}else Fr(D);A.i.length>0&&At(A)}else mt[0]!="stop"&&mt[0]!="close"||hs(A,7);else A.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?hs(A,7):Ye(A):mt[0]!="noop"&&A.l&&A.l.qa(mt),A.A=0)}}Dn(4)}catch{}}var qt=class{constructor(h,v){this.g=h,this.map=v}};function Bs(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function dr(h){return h.h?1:h.g?h.g.size:0}function kn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Zn(h,v){h.g?h.g.add(v):h.h=v}function ki(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Bs.prototype.cancel=function(){if(this.i=zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zs(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const A of h.g.values())v=v.concat(A.G);return v}return N(h.i)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(h,v){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const D=h[A].indexOf("=");let Q,te=null;D>=0?(Q=h[A].substring(0,D),te=h[A].substring(D+1)):Q=h[A],v(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof jn?(this.l=h.l,Dt(this,h.j),this.o=h.o,this.g=h.g,xr(this,h.u),this.h=h.h,qr(this,Ra(h.i)),this.m=h.m):h&&(v=String(h).match(Ca))?(this.l=!1,Dt(this,v[1]||"",!0),this.o=Sr(v[2]||""),this.g=Sr(v[3]||"",!0),xr(this,v[4]),this.h=Sr(v[5]||"",!0),qr(this,v[6]||"",!0),this.m=Sr(v[7]||"")):(this.l=!1,this.i=new cn(null,this.l))}jn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ji(v,os,!0),":");var A=this.g;return(A||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ji(v,os,!0),"@"),h.push(cr(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(ji(A,A.charAt(0)=="/"?Hs:ls,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",ji(A,ci)),h.join("")},jn.prototype.resolve=function(h){const v=Bt(this);let A=!!h.j;A?Dt(v,h.j):A=!!h.o,A?v.o=h.o:A=!!h.g,A?v.g=h.g:A=h.u!=null;var D=h.h;if(A)xr(v,h.u);else if(A=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(D=v.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let be=0;be<Q.length;){const He=Q[be++];He=="."?D&&be==Q.length&&te.push(""):He==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),D&&be==Q.length&&te.push("")):(te.push(He),D=!0)}D=te.join("/")}else D=Q}return A?v.h=D:A=h.i.toString()!=="",A?qr(v,Ra(h.i)):A=!!h.m,A&&(v.m=h.m),v};function Bt(h){return new jn(h)}function Dt(h,v,A){h.j=A?Sr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function xr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function qr(h,v,A){v instanceof cn?(h.i=v,cs(h.i,h.l)):(A||(v=ji(v,ui)),h.i=new cn(v,h.l))}function lt(h,v,A){h.i.set(v,A)}function li(h){return lt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Sr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ji(h,v,A){return typeof h=="string"?(h=encodeURI(h).replace(v,Sn),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var os=/[#\/\?@]/g,ls=/[#\?:]/g,Hs=/[#\?]/g,ui=/[#\?@]/g,ci=/#/g;function cn(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function zt(h){h.g||(h.g=new Map,h.h=0,h.i&&as(h.i,function(v,A){h.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}n=cn.prototype,n.add=function(h,v){zt(this),this.i=null,h=hi(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(v),this.h+=1,this};function Nr(h,v){zt(h),v=hi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fs(h,v){return zt(h),v=hi(h,v),h.g.has(v)}n.forEach=function(h,v){zt(this),this.g.forEach(function(A,D){A.forEach(function(Q){h.call(v,Q,D,this)},this)},this)};function Jn(h,v){zt(h);let A=[];if(typeof v=="string")Fs(h,v)&&(A=A.concat(h.g.get(hi(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)A=A.concat(h[v]);return A}n.set=function(h,v){return zt(this),this.i=null,h=hi(this,h),Fs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=Jn(this,h),h.length>0?String(h[0]):v):v};function us(h,v,A){Nr(h,v),A.length>0&&(h.i=null,h.g.set(hi(h,v),N(A)),h.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let D=0;D<v.length;D++){var A=v[D];const Q=cr(A);A=Jn(this,A);for(let te=0;te<A.length;te++){let be=Q;A[te]!==""&&(be+="="+cr(A[te])),h.push(be)}}return this.i=h.join("&")};function Ra(h){const v=new cn;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function hi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function cs(h,v){v&&!h.j&&(zt(h),h.i=null,h.g.forEach(function(A,D){const Q=D.toLowerCase();D!=Q&&(Nr(this,D),us(this,Q,A))},h)),h.j=v}function er(h,v){const A=new Ln;if(c.Image){const D=new Image;D.onload=y(Pn,A,"TestLoadImage: loaded",!0,v,D),D.onerror=y(Pn,A,"TestLoadImage: error",!1,v,D),D.onabort=y(Pn,A,"TestLoadImage: abort",!1,v,D),D.ontimeout=y(Pn,A,"TestLoadImage: timeout",!1,v,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else v(!1)}function nn(h,v){const A=new Ln,D=new AbortController,Q=setTimeout(()=>{D.abort(),Pn(A,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:D.signal}).then(te=>{clearTimeout(Q),te.ok?Pn(A,"TestPingServer: ok",!0,v):Pn(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Pn(A,"TestPingServer: error",!1,v)})}function Pn(h,v,A,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(A)}catch{}}function Br(){this.g=new On}function Vn(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Vn,js),Vn.prototype.g=function(){return new zr(this.i,this.h)};function zr(h,v){Vt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(zr,Vt),n=zr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,tr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?fi(this):tr(this),this.readyState==3&&Hr(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,fi(this))},n.Na=function(h){this.g&&(this.response=h,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,tr(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=v.next();return h.join(`\r
`)};function tr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nn(h){let v="";return ye(h,function(A,D){v+=D,v+=":",v+=A,v+=`\r
`}),v}function di(h,v,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=Nn(A),typeof h=="string"?A!=null&&cr(A):lt(h,v,A))}function Qe(h){Vt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Qe,Vt);var mr=/^https?$/i,Pi=["POST","PUT"];n=Qe.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qs.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){Vi(this,te);return}if(h=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)A.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())A.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(te=>te.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Pi,v,void 0)>=0)||D||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,be]of A)this.g.setRequestHeader(te,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(te){Vi(this,te)}};function Vi(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Gs(h),I(h)}function Gs(h){h.A||(h.A=!0,St(h,"complete"),St(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,St(this,"complete"),St(this,"abort"),I(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),I(this,!0)),Qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?b(this):this.Xa())},n.Xa=function(){b(this)};function b(h){if(h.h&&typeof l<"u"){if(h.v&&U(h)==4)setTimeout(h.Ca.bind(h),0);else if(St(h,"readystatechange"),U(h)==4){h.h=!1;try{const te=h.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var D;if(D=te===0){let be=String(h.D).match(Ca)[1]||null;!be&&c.self&&c.self.location&&(be=c.self.location.protocol.slice(0,-1)),D=!mr.test(be?be.toLowerCase():"")}A=D}if(A)St(h,"complete"),St(h,"success");else{h.o=6;try{var Q=U(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Gs(h)}}finally{I(h)}}}}function I(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,v||St(h,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function U(h){return h.g?h.g.readyState:0}n.ca=function(){try{return U(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ks(v)}};function ee(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function je(h){const v={};h=(h.g&&U(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(S(h[D]))continue;var A=Wt(h[D]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const te=v[Q]||[];v[Q]=te,te.push(A)}ge(v,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xe(h,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||v}function Ge(h){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xe("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xe("baseRetryDelayMs",5e3,h),this.Za=xe("retryDelaySeedMs",1e4,h),this.Ta=xe("forwardChannelMaxRetries",2,h),this.va=xe("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Bs(h&&h.concurrentRequestLimit),this.Ba=new Br,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ge.prototype,n.ka=8,n.I=1,n.connect=function(h,v,A,D){bt(0),this.W=h,this.H=v||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.J=Ch(this,null,this.W),At(this)};function Ye(h){if(We(h),h.I==3){var v=h.V++,A=Bt(h.J);if(lt(A,"SID",h.M),lt(A,"RID",v),lt(A,"TYPE","terminate"),Ht(h,A),v=new hr(h,h.j,v),v.M=2,v.A=li(Bt(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=v.A,A=!0),A||(v.g=Rh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wr(v)}Nh(h)}function yt(h){h.g&&(Gr(h),h.g.cancel(),h.g=null)}function We(h){yt(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ui(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function At(h){if(!oi(h.h)&&!h.m){h.m=!0;var v=h.Ea;ve||M(),we||(ve(),we=!0),j.add(v,h),h.D=0}}function rn(h,v){return dr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=xn(p(h.Ea,h,v),Sh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new hr(this,this.j,h);let te=this.o;if(this.U&&(te?(te=V(te),ce(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,v>4096){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=Jt(this,Q,v),A=Bt(this.J),lt(A,"RID",h),lt(A,"CVER",22),this.G&&lt(A,"X-HTTP-Session-Id",this.G),Ht(this,A),te&&(this.R?v="headers="+cr(Nn(te))+"&"+v:this.u&&di(A,this.u,te)),Zn(this.h,Q),this.Ra&&lt(A,"TYPE","init"),this.S?(lt(A,"$req",v),lt(A,"SID","null"),Q.U=!0,Tr(Q,A,null)):Tr(Q,A,v),this.I=2}}else this.I==3&&(h?Lt(this,h):this.i.length==0||oi(this.h)||Lt(this))};function Lt(h,v){var A;v?A=v.l:A=h.V++;const D=Bt(h.J);lt(D,"SID",h.M),lt(D,"RID",A),lt(D,"AID",h.K),Ht(h,D),h.u&&h.o&&di(D,h.u,h.o),A=new hr(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Jt(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Zn(h.h,A),Tr(A,D,v)}function Ht(h,v){h.H&&ye(h.H,function(A,D){lt(v,D,A)}),h.l&&ye({},function(A,D){lt(v,D,A)})}function Jt(h,v,A){A=Math.min(h.i.length,A);const D=h.l?p(h.l.Ka,h.l,h):null;e:{var Q=h.i;let He=-1;for(;;){const sn=["count="+A];He==-1?A>0?(He=Q[0].g,sn.push("ofs="+He)):He=0:sn.push("ofs="+He);let mt=!0;for(let Ft=0;Ft<A;Ft++){var te=Q[Ft].g;const mi=Q[Ft].map;if(te-=He,te<0)He=Math.max(0,Q[Ft].g-100),mt=!1;else try{te="req"+te+"_"||"";try{var be=mi instanceof Map?mi:Object.entries(mi);for(const[fs,qi]of be){let Bi=qi;f(qi)&&(Bi=lr(qi)),sn.push(te+fs+"="+encodeURIComponent(Bi))}}catch(fs){throw sn.push(te+"type="+encodeURIComponent("_badmap")),fs}}catch{D&&D(mi)}}if(mt){be=sn.join("&");break e}}be=void 0}return h=h.i.splice(0,A),v.G=h,be}function Fr(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ve||M(),we||(ve(),we=!0),j.add(v,h),h.A=0}}function Un(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=xn(p(h.Da,h),Sh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Mo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=xn(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),yt(this),Mo(this))};function Gr(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Mo(h){h.g=new hr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Bt(h.na);lt(v,"RID","rpc"),lt(v,"SID",h.M),lt(v,"AID",h.K),lt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&lt(v,"TO",h.ia),lt(v,"TYPE","xmlhttp"),Ht(h,v),h.u&&h.o&&di(v,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=li(Bt(v)),A.u=null,A.R=!0,Qt(A,h)}n.Va=function(){this.C!=null&&(this.C=null,yt(this),Un(this),bt(19))};function Ui(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function $s(h,v){var A=null;if(h.g==v){Ui(h),Gr(h),h.g=null;var D=2}else if(kn(h.h,v))A=v.G,ki(h.h,v),D=1;else return;if(h.I!=0){if(v.o)if(D==1){A=v.u?v.u.length:0,v=Date.now()-v.F;var Q=h.D;D=Er(),St(D,new Xn(D,A)),At(h)}else Fr(h);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(D==1&&rn(h,v)||D==2&&Un(h)))switch(A&&A.length>0&&(v=h.h,v.i=v.i.concat(A)),Q){case 1:hs(h,5);break;case 4:hs(h,10);break;case 3:hs(h,6);break;default:hs(h,2)}}}function Sh(h,v){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*v}function hs(h,v){if(h.j.info("Error code "+v),v==2){var A=p(h.bb,h),D=h.Ua;const Q=!D;D=new jn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Dt(D,"https"),li(D),Q?er(D.toString(),A):nn(D.toString(),A)}else bt(2);h.I=0,h.l&&h.l.pa(v),Nh(h),We(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Nh(h){if(h.I=0,h.ja=[],h.l){const v=zs(h.h);(v.length!=0||h.i.length!=0)&&(C(h.ja,v),C(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Ch(h,v,A){var D=A instanceof jn?Bt(A):new jn(A);if(D.g!="")v&&(D.g=v+"."+D.g),xr(D,D.u);else{var Q=c.location;D=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new jn(null);D&&Dt(te,D),v&&(te.g=v),Q&&xr(te,Q),A&&(te.h=A),D=te}return A=h.G,v=h.wa,A&&v&&lt(D,A,v),lt(D,"VER",h.ka),Ht(h,D),D}function Rh(h,v,A){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Qe(new Vn({ab:A})):new Qe(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}n=Ih.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ia(){}Ia.prototype.g=function(h,v){return new pr(h,v)};function pr(h,v){Vt.call(this),this.g=new Ge(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!S(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!S(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ks(this)}T(pr,Vt),pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){Ye(this.g)},pr.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=lr(h),h=A);v.i.push(new qt(v.Ya++,h)),v.I==3&&At(v)},pr.prototype.N=function(){this.g.l=null,delete this.j,Ye(this.g),delete this.g,pr.Z.N.call(this)};function Oh(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const A in v){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(Oh,Kt);function Dh(){vn.call(this),this.status=1}T(Dh,vn);function Ks(h){this.g=h}T(Ks,Ih),Ks.prototype.ra=function(){St(this.g,"a")},Ks.prototype.qa=function(h){St(this.g,new Oh(h))},Ks.prototype.pa=function(h){St(this.g,new Dh)},Ks.prototype.oa=function(){St(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,XA=function(){return new Ia},YA=function(){return Er()},QA=Ct,uy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,ud=Mi,Us.COMPLETE="complete",KA=Us,Ps.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Rc=Ps,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,$A=Qe}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const NE="@firebase/firestore",CE="4.9.2";class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");let Du="12.3.0";const sl=new Zy("@firebase/firestore");function eu(){return sl.logLevel}function Te(n,...e){if(sl.logLevel<=rt.DEBUG){const t=e.map(f0);sl.debug(`Firestore (${Du}): ${n}`,...t)}}function ya(n,...e){if(sl.logLevel<=rt.ERROR){const t=e.map(f0);sl.error(`Firestore (${Du}): ${n}`,...t)}}function vu(n,...e){if(sl.logLevel<=rt.WARN){const t=e.map(f0);sl.warn(`Firestore (${Du}): ${n}`,...t)}}function f0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,WA(n,r,t)}function WA(n,e,t){let r=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ya(r),new Error(r)}function gt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||WA(e,a,r)}function qe(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ea{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ZA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ir.UNAUTHENTICATED)))}shutdown(){}}class K3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Q3{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Es,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Es)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new ZA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new ir(e)}}class Y3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X3{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Y3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new RE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new RE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Z3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class d0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Z3(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function it(n,e){return n<e?-1:n>e?1:0}function cy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return Og(a)===Og(l)?it(a,l):Og(a)?1:-1}return it(n.length,e.length)}const J3=55296,eD=57343;function Og(n){const e=n.charCodeAt(0);return e>=J3&&e<=eD}function _u(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const IE="__name__";class vs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=vs.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return it(e.length,t.length)}static compareSegments(e,t){const r=vs.isNumericId(e),a=vs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?vs.extractNumericId(e).compare(vs.extractNumericId(t)):cy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class It extends vs{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const tD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends vs{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return tD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IE}static keyField(){return new Gn([IE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(It.fromString(e))}static fromName(e){return new ke(It.fromString(e).popFirst(5))}static empty(){return new ke(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new It(e.slice()))}}function JA(n,e,t){if(!t)throw new Ee(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nD(n,e,t,r){if(e===!0&&r===!0)throw new Ee(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OE(n){if(!ke.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DE(n){if(ke.isDocumentKey(n))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ex(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kd(n);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yn(n,e){const t={typeString:n};return e&&(t.value=e),t}function ph(n,e){if(!ex(n))throw new Ee(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new Ee(oe.INVALID_ARGUMENT,t);return!0}const LE=-62135596800,ME=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ME);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LE)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ph(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:yn("string",Pt._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Pt(0,0))}static max(){return new Be(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kc=-1;function rD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new yo(a,ke.empty(),e)}function iD(n){return new yo(n.readTime,n.key,Kc)}class yo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yo(Be.min(),ke.empty(),Kc)}static max(){return new yo(Be.max(),ke.empty(),Kc)}}function sD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:it(n.largestBatchId,e.largestBatchId))}const aD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lu(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==aD)throw n;Te("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,r)=>{t(e)}))}static reject(e){return new he(((t,r)=>{r(e)}))}static waitFor(e){return new he(((t,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(m=>r(m)))})),c=!0,l===a&&t()}))}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next((a=>a?he.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new he(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((y=>{c[p]=y,++f,f===l&&r(c)}),(y=>a(y)))}}))}static doWhile(e,t){return new he(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function lD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mu(n){return n.name==="IndexedDbTransactionError"}class Qd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qd.ce=-1;const m0=-1;function Yd(n){return n==null}function xd(n){return n===0&&1/n==-1/0}function uD(n){return typeof n=="number"&&Number.isInteger(n)&&!xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const tx="";function cD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kE(e)),e=hD(n.get(t),e);return kE(e)}function hD(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case tx:t+="";break;default:t+=l}}return t}function kE(n){return n+tx+""}function jE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Co(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fD(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function nx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yt{constructor(e,t){this.comparator=e,this.root=t||Fn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Fn.RED,this.left=a??Fn.EMPTY,this.right=l??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Fn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Fn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tn(this.comparator);return t.data=e,t}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new ei([])}unionWith(e){let t=new Tn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class rx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rx("Invalid base64 string: "+l):l}})(e);return new Kn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=dD.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(n.seconds),nanos:ln(n.nanos)}}function ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _o(n){return typeof n=="string"?Kn.fromBase64String(n):Kn.fromUint8Array(n)}const ix="server_timestamp",sx="__type__",ax="__previous_value__",ox="__local_write_time__";function p0(n){return(n?.mapValue?.fields||{})[sx]?.stringValue===ix}function Xd(n){const e=n.mapValue.fields[ax];return p0(e)?Xd(e):e}function Qc(n){const e=vo(n.mapValue.fields[ox].timestampValue);return new Pt(e.seconds,e.nanos)}class mD{constructor(e,t,r,a,l,c,f,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Sd="(default)";class Yc{constructor(e,t){this.projectId=e,this.database=t||Sd}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}const lx="__type__",pD="__max__",Bf={mapValue:{}},ux="__vector__",Nd="value";function bo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?p0(n)?4:yD(n)?9007199254740991:gD(n)?10:11:Ue(28295,{value:n})}function Ns(n,e){if(n===e)return!0;const t=bo(n);if(t!==bo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qc(n).isEqual(Qc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=vo(a.timestampValue),f=vo(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return _o(a.bytesValue).isEqual(_o(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return ln(a.geoPointValue.latitude)===ln(l.geoPointValue.latitude)&&ln(a.geoPointValue.longitude)===ln(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ln(a.integerValue)===ln(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ln(a.doubleValue),f=ln(l.doubleValue);return c===f?xd(c)===xd(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return _u(n.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(jE(c)!==jE(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Ns(c[m],f[m])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function Xc(n,e){return(n.values||[]).find((t=>Ns(t,e)))!==void 0}function bu(n,e){if(n===e)return 0;const t=bo(n),r=bo(e);if(t!==r)return it(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return it(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=ln(l.integerValue||l.doubleValue),m=ln(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return VE(n.timestampValue,e.timestampValue);case 4:return VE(Qc(n),Qc(e));case 5:return cy(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=_o(l),m=_o(c);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=it(f[p],m[p]);if(y!==0)return y}return it(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=it(ln(l.latitude),ln(c.latitude));return f!==0?f:it(ln(l.longitude),ln(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return UE(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},m=c.fields||{},p=f[Nd]?.arrayValue,y=m[Nd]?.arrayValue,T=it(p?.values?.length||0,y?.values?.length||0);return T!==0?T:UE(p,y)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Bf.mapValue&&c===Bf.mapValue)return 0;if(l===Bf.mapValue)return 1;if(c===Bf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const w=cy(m[T],y[T]);if(w!==0)return w;const N=bu(f[m[T]],p[y[T]]);if(N!==0)return N}return it(m.length,y.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function VE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return it(n,e);const t=vo(n),r=vo(e),a=it(t.seconds,r.seconds);return a!==0?a:it(t.nanos,r.nanos)}function UE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=bu(t[a],r[a]);if(l)return l}return it(t.length,r.length)}function Eu(n){return hy(n)}function hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=vo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return _o(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ke.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=hy(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${hy(t.fields[c])}`;return a+"}"})(n.mapValue):Ue(61005,{value:n})}function cd(n){switch(bo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xd(n);return e?16+cd(e):16;case 5:return 2*n.stringValue.length;case 6:return _o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+cd(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Co(r.fields,((l,c)=>{a+=l.length+cd(c)})),a})(n.mapValue);default:throw Ue(13486,{value:n})}}function qE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fy(n){return!!n&&"integerValue"in n}function g0(n){return!!n&&"arrayValue"in n}function BE(n){return!!n&&"nullValue"in n}function zE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hd(n){return!!n&&"mapValue"in n}function gD(n){return(n?.mapValue?.fields||{})[lx]?.stringValue===ux}function Vc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Co(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Vc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vc(n.arrayValue.values[t]);return e}return{...n}}function yD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===pD}class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(t)}setAll(e){let t=Gn.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=Vc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];hd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Co(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new kr(Vc(this.value))}}function cx(n){const e=[];return Co(n.fields,((t,r)=>{const a=new Gn([t]);if(hd(r)){const l=cx(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ei(e)}class sr{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new sr(e,0,Be.min(),Be.min(),Be.min(),kr.empty(),0)}static newFoundDocument(e,t,r,a){return new sr(e,1,t,Be.min(),r,a,0)}static newNoDocument(e,t){return new sr(e,2,t,Be.min(),Be.min(),kr.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,Be.min(),Be.min(),kr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cd{constructor(e,t){this.position=e,this.inclusive=t}}function HE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),t.key):r=bu(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function FE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ns(n.position[t],e.position[t]))return!1;return!0}class Wc{constructor(e,t="asc"){this.field=e,this.dir=t}}function vD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hx{}class gn extends hx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new bD(e,t,r):t==="array-contains"?new wD(e,r):t==="in"?new AD(e,r):t==="not-in"?new xD(e,r):t==="array-contains-any"?new SD(e,r):new gn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ED(e,r):new TD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bu(t,this.value)):t!==null&&bo(this.value)===bo(t)&&this.matchesComparison(bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends hx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ji(e,t)}matches(e){return fx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fx(n){return n.op==="and"}function dx(n){return _D(n)&&fx(n)}function _D(n){for(const e of n.filters)if(e instanceof Ji)return!1;return!0}function dy(n){if(n instanceof gn)return n.field.canonicalString()+n.op.toString()+Eu(n.value);if(dx(n))return n.filters.map((e=>dy(e))).join(",");{const e=n.filters.map((t=>dy(t))).join(",");return`${n.op}(${e})`}}function mx(n,e){return n instanceof gn?(function(r,a){return a instanceof gn&&r.op===a.op&&r.field.isEqual(a.field)&&Ns(r.value,a.value)})(n,e):n instanceof Ji?(function(r,a){return a instanceof Ji&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&mx(c,a.filters[f])),!0):!1})(n,e):void Ue(19439)}function px(n){return n instanceof gn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Eu(t.value)}`})(n):n instanceof Ji?(function(t){return t.op.toString()+" {"+t.getFilters().map(px).join(" ,")+"}"})(n):"Filter"}class bD extends gn{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class ED extends gn{constructor(e,t){super(e,"in",t),this.keys=gx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TD extends gn{constructor(e,t){super(e,"not-in",t),this.keys=gx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gx(n,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class wD extends gn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return g0(t)&&Xc(t.arrayValue,this.value)}}class AD extends gn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xc(this.value.arrayValue,t)}}class xD extends gn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xc(this.value.arrayValue,t)}}class SD extends gn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!g0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Xc(this.value.arrayValue,r)))}}class ND{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function GE(n,e=null,t=[],r=[],a=null,l=null,c=null){return new ND(n,e,t,r,a,l,c)}function y0(n){const e=qe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>dy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Eu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Eu(r))).join(",")),e.Te=t}return e.Te}function v0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FE(n.startAt,e.startAt)&&FE(n.endAt,e.endAt)}function my(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ku{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CD(n,e,t,r,a,l,c,f){return new ku(n,e,t,r,a,l,c,f)}function _0(n){return new ku(n)}function $E(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yx(n){return n.collectionGroup!==null}function Uc(n){const e=qe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tn(Gn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wc(l,r))})),t.has(Gn.keyField().canonicalString())||e.Ie.push(new Wc(Gn.keyField(),r))}return e.Ie}function Ts(n){const e=qe(n);return e.Ee||(e.Ee=vx(e,Uc(n))),e.Ee}function RD(n){const e=qe(n);return e.de||(e.de=vx(e,n.explicitOrderBy)),e.de}function vx(n,e){if(n.limitType==="F")return GE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wc(a.field,l)}));const t=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return GE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function py(n,e){const t=n.filters.concat([e]);return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gy(n,e,t){return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wd(n,e){return v0(Ts(n),Ts(e))&&n.limitType===e.limitType}function _x(n){return`${y0(Ts(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>px(a))).join(", ")}]`),Yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Eu(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Eu(a))).join(",")),`Target(${r})`})(Ts(n))}; limitType=${n.limitType})`}function Zd(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ke.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Uc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,m){const p=HE(c,f,m);return c.inclusive?p<=0:p<0})(r.startAt,Uc(r),a)||r.endAt&&!(function(c,f,m){const p=HE(c,f,m);return c.inclusive?p>=0:p>0})(r.endAt,Uc(r),a))})(n,e)}function ID(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bx(n){return(e,t)=>{let r=!1;for(const a of Uc(n)){const l=OD(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function OD(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?bu(m,p):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}class fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return nx(this.inner)}size(){return this.innerSize}}const DD=new Yt(ke.comparator);function va(){return DD}const Ex=new Yt(ke.comparator);function Ic(...n){let e=Ex;for(const t of n)e=e.insert(t.key,t);return e}function Tx(n){let e=Ex;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Jo(){return qc()}function wx(){return qc()}function qc(){return new fl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const LD=new Yt(ke.comparator),MD=new Tn(ke.comparator);function st(...n){let e=MD;for(const t of n)e=e.add(t);return e}const kD=new Tn(it);function jD(){return kD}function b0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function Ax(n){return{integerValue:""+n}}function PD(n,e){return uD(e)?Ax(e):b0(n,e)}class Jd{constructor(){this._=void 0}}function VD(n,e,t){return n instanceof Zc?(function(a,l){const c={fields:{[sx]:{stringValue:ix},[ox]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&p0(l)&&(l=Xd(l)),l&&(c.fields[ax]=l),{mapValue:c}})(t,e):n instanceof Jc?Sx(n,e):n instanceof eh?Nx(n,e):(function(a,l){const c=xx(a,l),f=KE(c)+KE(a.Ae);return fy(c)&&fy(a.Ae)?Ax(f):b0(a.serializer,f)})(n,e)}function UD(n,e,t){return n instanceof Jc?Sx(n,e):n instanceof eh?Nx(n,e):t}function xx(n,e){return n instanceof Rd?(function(r){return fy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Zc extends Jd{}class Jc extends Jd{constructor(e){super(),this.elements=e}}function Sx(n,e){const t=Cx(e);for(const r of n.elements)t.some((a=>Ns(a,r)))||t.push(r);return{arrayValue:{values:t}}}class eh extends Jd{constructor(e){super(),this.elements=e}}function Nx(n,e){let t=Cx(e);for(const r of n.elements)t=t.filter((a=>!Ns(a,r)));return{arrayValue:{values:t}}}class Rd extends Jd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function KE(n){return ln(n.integerValue||n.doubleValue)}function Cx(n){return g0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qD{constructor(e,t){this.field=e,this.transform=t}}function BD(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Jc&&a instanceof Jc||r instanceof eh&&a instanceof eh?_u(r.elements,a.elements,Ns):r instanceof Rd&&a instanceof Rd?Ns(r.Ae,a.Ae):r instanceof Zc&&a instanceof Zc})(n.transform,e.transform)}class zD{constructor(e,t){this.version=e,this.transformResults=t}}class Ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class em{}function Rx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new E0(n.key,Ci.none()):new gh(n.key,n.data,Ci.none());{const t=n.data,r=kr.empty();let a=new Tn(Gn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ro(n.key,r,new ei(a.toArray()),Ci.none())}}function HD(n,e,t){n instanceof gh?(function(a,l,c){const f=a.value.clone(),m=YE(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Ro?(function(a,l,c){if(!fd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=YE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Ix(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Bc(n,e,t,r){return n instanceof gh?(function(l,c,f,m){if(!fd(l.precondition,c))return f;const p=l.value.clone(),y=XE(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ro?(function(l,c,f,m){if(!fd(l.precondition,c))return f;const p=XE(l.fieldTransforms,m,c),y=c.data;return y.setAll(Ix(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,r):(function(l,c,f){return fd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function FD(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=xx(r.transform,a||null);l!=null&&(t===null&&(t=kr.empty()),t.set(r.field,l))}return t||null}function QE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&_u(r,a,((l,c)=>BD(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gh extends em{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ro extends em{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ix(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function YE(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,UD(c,f,t[a]))}return r}function XE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,VD(l,c,e))}return r}class E0 extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $D{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&HD(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wx();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=Rx(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),st())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,((t,r)=>QE(t,r)))&&_u(this.baseMutations,e.baseMutations,((t,r)=>QE(t,r)))}}class T0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return LD})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new T0(e,t,r,a)}}class KD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QD{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class YD{constructor(e,t){this.count=e,this.unchangedNames=t}}var pn,ut;function XD(n){switch(n){case oe.OK:return Ue(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function Ox(n){if(n===void 0)return ya("GRPC error has no .code"),oe.UNKNOWN;switch(n){case pn.OK:return oe.OK;case pn.CANCELLED:return oe.CANCELLED;case pn.UNKNOWN:return oe.UNKNOWN;case pn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case pn.INTERNAL:return oe.INTERNAL;case pn.UNAVAILABLE:return oe.UNAVAILABLE;case pn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case pn.NOT_FOUND:return oe.NOT_FOUND;case pn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case pn.ABORTED:return oe.ABORTED;case pn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case pn.DATA_LOSS:return oe.DATA_LOSS;default:return Ue(39323,{code:n})}}(ut=pn||(pn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function WD(){return new TextEncoder}const ZD=new fo([4294967295,4294967295],0);function WE(n){const e=WD().encode(n),t=new GA;return t.update(e),new Uint8Array(t.digest())}function ZE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fo([t,r],0),new fo([a,l],0)]}class w0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Oc(`Invalid padding: ${t}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fo.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(fo.fromNumber(r)));return a.compare(ZD)===1&&(a=new fo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=WE(e),[r,a]=ZE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new w0(l,a,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=WE(e),[r,a]=ZE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tm{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tm(Be.min(),a,new Yt(it),va(),st())}}class yh{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yh(r,t,st(),st(),st())}}class dd{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class Dx{constructor(e,t){this.targetId=e,this.Ce=t}}class Lx{constructor(e,t,r=Kn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class JE{constructor(){this.ve=0,this.Fe=eT(),this.Me=Kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),t=st(),r=st();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ue(38017,{changeType:l})}})),new yh(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=eT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JD{constructor(e){this.Ge=e,this.ze=new Map,this.je=va(),this.Je=zf(),this.He=zf(),this.Ye=new Yt(it)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(my(l))if(r===0){const c=new ke(l.path);this.et(t,c,sr.newNoDocument(c,Be.min()))}else gt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=_o(r).toUint8Array()}catch(m){if(m instanceof rx)return vu("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new w0(c,a,l)}catch(m){return vu(m instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&my(f.target)){const m=new ke(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,sr.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=st();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new tm(e,t,this.Ye,this.je,r);return this.je=va(),this.Je=zf(),this.He=zf(),this.Ye=new Yt(it),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new JE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tn(it),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tn(it),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function zf(){return new Yt(ke.comparator)}function eT(){return new Yt(ke.comparator)}const e5={asc:"ASCENDING",desc:"DESCENDING"},t5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n5={and:"AND",or:"OR"};class r5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yy(n,e){return n.useProto3Json||Yd(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function i5(n,e){return Id(n,e.toTimestamp())}function ws(n){return gt(!!n,49232),Be.fromTimestamp((function(t){const r=vo(t);return new Pt(r.seconds,r.nanos)})(n))}function A0(n,e){return vy(n,e).canonicalString()}function vy(n,e){const t=(function(a){return new It(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function kx(n){const e=It.fromString(n);return gt(Bx(e),10190,{key:e.toString()}),e}function _y(n,e){return A0(n.databaseId,e.path)}function Dg(n,e){const t=kx(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(Px(t))}function jx(n,e){return A0(n.databaseId,e)}function s5(n){const e=kx(n);return e.length===4?It.emptyPath():Px(e)}function by(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Px(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tT(n,e,t){return{name:_y(n,e),fields:t.value.mapValue.fields}}function a5(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ue(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(gt(y===void 0||typeof y=="string",58123),Kn.fromBase64String(y||"")):(gt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Kn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?oe.UNKNOWN:Ox(p.code);return new Ee(y,p.message||"")})(c);t=new Lx(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Dg(n,r.document.name),l=ws(r.document.updateTime),c=r.document.createTime?ws(r.document.createTime):Be.min(),f=new kr({mapValue:{fields:r.document.fields}}),m=sr.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];t=new dd(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Dg(n,r.document),l=r.readTime?ws(r.readTime):Be.min(),c=sr.newNoDocument(a,l),f=r.removedTargetIds||[];t=new dd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Dg(n,r.document),l=r.removedTargetIds||[];t=new dd([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new YD(a,l),f=r.targetId;t=new Dx(f,c)}}return t}function o5(n,e){let t;if(e instanceof gh)t={update:tT(n,e.key,e.value)};else if(e instanceof E0)t={delete:_y(n,e.key)};else if(e instanceof Ro)t={update:tT(n,e.key,e.data),updateMask:g5(e.fieldMask)};else{if(!(e instanceof GD))return Ue(16599,{Vt:e.type});t={verify:_y(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof Zc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Jc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof eh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Rd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ue(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:i5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)})(n,e.precondition)),t}function l5(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?ws(a.updateTime):ws(l);return c.isEqual(Be.min())&&(c=ws(l)),new zD(c,a.transformResults||[])})(t,e)))):[]}function u5(n,e){return{documents:[jx(n,e.path)]}}function Vx(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jx(n,a);const l=(function(p){if(p.length!==0)return qx(Ji.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:io(w.field),direction:d5(w.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=yy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function c5(n,e,t,r){const{ft:a,parent:l}=Vx(n,e),c={},f=[];let m=0;return t.forEach((p=>{const y="aggregate_"+m++;c[y]=p.alias,p.aggregateType==="count"?f.push({alias:y,count:{}}):p.aggregateType==="avg"?f.push({alias:y,avg:{field:io(p.fieldPath)}}):p.aggregateType==="sum"&&f.push({alias:y,sum:{field:io(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function h5(n){let e=s5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){gt(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(T){const w=Ux(T);return w instanceof Ji&&dx(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((w=>(function(C){return new Wc(nu(C.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(w)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let w;return w=typeof T=="object"?T.value:T,Yd(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(T){const w=!!T.before,N=T.values||[];return new Cd(N,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const w=!T.before,N=T.values||[];return new Cd(N,w)})(t.endAt)),CD(e,a,c,l,f,"F",m,p)}function f5(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ux(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nu(t.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=nu(t.unaryFilter.field);return gn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nu(t.unaryFilter.field);return gn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nu(t.unaryFilter.field);return gn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return gn.create(nu(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ji.create(t.compositeFilter.filters.map((r=>Ux(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function d5(n){return e5[n]}function m5(n){return t5[n]}function p5(n){return n5[n]}function io(n){return{fieldPath:n.canonicalString()}}function nu(n){return Gn.fromServerFormat(n.fieldPath)}function qx(n){return n instanceof gn?(function(t){if(t.op==="=="){if(zE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(BE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(BE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:m5(t.op),value:t.value}}})(n):n instanceof Ji?(function(t){const r=t.getFilters().map((a=>qx(a)));return r.length===1?r[0]:{compositeFilter:{op:p5(t.op),filters:r}}})(n):Ue(54877,{filter:n})}function g5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class oo{constructor(e,t,r,a,l=Be.min(),c=Be.min(),f=Kn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y5{constructor(e){this.yt=e}}function v5(n){const e=h5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gy(e,e.limit,"L"):e}class _5{constructor(){this.Cn=new b5}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(yo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class b5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Tn(It.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Tn(It.comparator)).toArray()}}const nT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zx=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(zx,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class Tu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tu(0)}static cr(){return new Tu(-1)}}const rT="LruGarbageCollector",E5=1048576;function iT([n,e],[t,r]){const a=it(n,t);return a===0?it(e,r):a}class T5{constructor(e){this.Ir=e,this.buffer=new Tn(iT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mu(t)?Te(rT,"Ignoring IndexedDB error during garbage collection: ",t):await Lu(t)}await this.Vr(3e5)}))}}class A5{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Qd.ce);const r=new T5(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(nT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(r=T,f=Date.now(),this.removeTargets(e,r,t)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(p=Date.now(),eu()<=rt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function x5(n,e){return new A5(n,e)}class S5{constructor(){this.changes=new fl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class C5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Bc(r.mutation,a,ei.empty(),Pt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,st()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=st()){const a=Jo();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Ic();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Jo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,st())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,a){let l=va();const c=qc(),f=(function(){return qc()})();return t.forEach(((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ro)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Bc(y.mutation,p,y.mutation.getFieldMask(),Pt.now())):c.set(p.key,ei.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),t.forEach(((p,y)=>f.set(p,new N5(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=qc();let a=new Yt(((c,f)=>c-f)),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let y=r.get(m)||ei.empty();y=f.applyToLocalView(p,y),r.set(m,y);const T=(a.get(f.batchId)||st()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,T=wx();y.forEach((w=>{if(!l.has(w)){const N=Rx(t.get(w),r.get(w));N!==null&&T.set(w,N),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return he.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):he.resolve(Jo());let f=Kc,m=l;return c.next((p=>he.forEach(p,((y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,st()))).next((y=>({batchId:f,changes:Tx(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((r=>{let a=Ic();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Ic();return this.indexManager.getCollectionParents(e,l).next((f=>he.forEach(f,(m=>{const p=(function(T,w){return new ku(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,sr.newInvalidDocument(y)))}));let f=Ic();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Bc(y.mutation,p,ei.empty(),Pt.now()),Zd(t,p)&&(f=f.insert(m,p))})),f}))}}class R5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ws(a.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:v5(a.bundledQuery),readTime:ws(a.readTime)}})(t)),he.resolve()}}class I5{constructor(){this.overlays=new Yt(ke.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Jo();return he.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=Jo(),l=t.length+1,c=new ke(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Yt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Jo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Jo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return he.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new KD(t,r));let l=this.qr.get(t);l===void 0&&(l=st(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class O5{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class x0{constructor(){this.Qr=new Tn(Rn.$r),this.Ur=new Tn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Rn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ke(new It([])),r=new Rn(t,e),a=new Rn(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new It([])),r=new Rn(t,e),a=new Rn(t,e+1);let l=st();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Rn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||it(e.Yr,t.Yr)}static Kr(e,t){return it(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}class D5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(Rn.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new $D(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Rn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?m0:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tn(it);return t.forEach((a=>{const l=new Rn(a,0),c=new Rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),he.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ke.isDocumentKey(l)||(l=l.child(""));const c=new Rn(new ke(l),0);let f=new Tn(it);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),he.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){gt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return he.forEach(t.mutations,(a=>{const l=new Rn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Rn(t,0),a=this.Zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class L5{constructor(e){this.ri=e,this.docs=(function(){return new Yt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=va();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():sr.newInvalidDocument(a))})),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=va();const c=t.path,f=new ke(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||sD(iD(y),r)<=0||(a.has(y.key)||Zd(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ue(9500)}ii(e,t){return he.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new M5(this)}getSize(e){return he.resolve(this.size)}}class M5 extends S5{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class k5{constructor(e){this.persistence=e,this.si=new fl((t=>y0(t)),v0),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new x0,this.targetCount=0,this.ai=Tu.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Tu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}class Hx{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qd(0),this.li=!1,this.li=!0,this.hi=new O5,this.referenceDelegate=e(this),this.Pi=new k5(this),this.indexManager=new _5,this.remoteDocumentCache=(function(a){return new L5(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y5(t),this.Ii=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new D5(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const a=new j5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return he.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class j5 extends oD{constructor(e){super(),this.currentSequenceNumber=e}}class S0{constructor(e){this.persistence=e,this.Ri=new x0,this.Vi=null}static mi(e){return new S0(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(r=>{const a=ke.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Od{constructor(e,t){this.persistence=e,this.pi=new fl((r=>cD(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=x5(this,t)}static mi(e,t){return new Od(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return he.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?he.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,l.removeEntry(c,Be.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cd(e.data.value)),t}br(e,t,r){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class N0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=st(),a=st();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new N0(e,t.fromCache,r,a)}}class P5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class V5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cI()?8:lD(or())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new P5;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(eu()<=rt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(eu()<=rt.DEBUG&&Te("QueryEngine","Query:",tu(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(eu()<=rt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):he.resolve())}ys(e,t){if($E(t))return he.resolve(null);let r=Ts(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=gy(t,null,"F"),r=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=st(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(t,f);return this.Cs(t,p,c,m.readTime)?this.ys(e,gy(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,r,a){return $E(t)||a.isEqual(Be.min())?he.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?he.resolve(null):(eu()<=rt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tu(t)),this.vs(e,c,t,rD(a,Kc)).next((f=>f)))}))}Ds(e,t){let r=new Tn(bx(e));return t.forEach(((a,l)=>{Zd(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return eu()<=rt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",tu(t)),this.ps.getDocumentsMatchingQuery(e,t,yo.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const C0="LocalStore",U5=3e8;class q5{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Yt(it),this.xs=new fl((l=>y0(l)),v0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function B5(n,e,t,r){return new q5(n,e,t,r)}async function Fx(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let m=st();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function z5(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const T=p.batch,w=T.keys();let N=he.resolve();return w.forEach((C=>{N=N.next((()=>y.getEntry(m,C))).next((k=>{const O=p.docVersions.get(C);gt(O!==null,48541),k.version.compareTo(O)<0&&(T.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))}))})),N.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=st();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function Gx(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function H5(n,e){const t=qe(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((y,T)=>{const w=a.get(T);if(!w)return;f.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,T))));let N=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Kn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,r)),a=a.insert(T,N),(function(k,O,z){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=U5?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(w,N,y)&&f.push(t.Pi.updateTargetData(l,N))}));let m=va(),p=st();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(F5(l,c,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!r.isEqual(Be.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(y)}return he.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function F5(n,e,t){let r=st(),a=st();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=va();return t.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Te(C0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function G5(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=m0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $5(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,he.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new oo(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ey(n,e,t){const r=qe(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Mu(c))throw c;Te(C0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function sT(n,e,t){const r=qe(n);let a=Be.min(),l=st();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const T=qe(m),w=T.xs.get(y);return w!==void 0?he.resolve(T.Ms.get(w)):T.Pi.getTargetData(p,y)})(r,c,Ts(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Be.min(),t?l:st()))).next((f=>(K5(r,ID(e),f),{documents:f,Qs:l})))))}function K5(n,e,t){let r=n.Os.get(e)||Be.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class aT{constructor(){this.activeTargetIds=jD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q5{constructor(){this.Mo=new aT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y5{Oo(e){}shutdown(){}}const oT="ConnectivityMonitor";class lT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(oT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(oT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hf=null;function Ty(){return Hf===null?Hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hf++,"0x"+Hf.toString(16)}const Lg="RestConnection",X5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Sd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=Ty(),f=this.zo(e,t.toUriEncodedString());Te(Lg,`Sending RPC '${e}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Ru(p);return this.Jo(e,f,m,r,y).then((T=>(Te(Lg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw vu(Lg,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",r),T}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Du})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=X5[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Z5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rr="WebChannelConnection";class J5 extends W5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=Ty();return new Promise(((f,m)=>{const p=new $A;p.setWithCredentials(!0),p.listenOnce(KA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ud.NO_ERROR:const T=p.getResponseJson();Te(rr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case ud.TIMEOUT:Te(rr,`RPC '${e}' ${c} timed out`),m(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const w=p.getStatus();if(Te(rr,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const C=N?.error;if(C&&C.status&&C.message){const k=(function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(K)>=0?K:oe.UNKNOWN})(C.status);m(new Ee(k,C.message))}else m(new Ee(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Te(rr,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);Te(rr,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",y,r,15)}))}T_(e,t,r){const a=Ty(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=XA(),f=YA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const y=l.join("");Te(rr,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let w=!1,N=!1;const C=new Z5({Yo:O=>{N?Te(rr,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(w||(Te(rr,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),Te(rr,`RPC '${e}' stream ${a} sending:`,O),T.send(O))},Zo:()=>T.close()}),k=(O,z,K)=>{O.listen(z,(ne=>{try{K(ne)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return k(T,Rc.EventType.OPEN,(()=>{N||(Te(rr,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),k(T,Rc.EventType.CLOSE,(()=>{N||(N=!0,Te(rr,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(T))})),k(T,Rc.EventType.ERROR,(O=>{N||(N=!0,vu(rr,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),C.a_(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))})),k(T,Rc.EventType.MESSAGE,(O=>{if(!N){const z=O.data[0];gt(!!z,16349);const K=z,ne=K?.error||K[0]?.error;if(ne){Te(rr,`RPC '${e}' stream ${a} received error:`,ne);const _e=ne.status;let ve=(function(M){const P=pn[M];if(P!==void 0)return Ox(P)})(_e),we=ne.message;ve===void 0&&(ve=oe.INTERNAL,we="Unknown error status: "+_e+" with message "+ne.message),N=!0,C.a_(new Ee(ve,we)),T.close()}else Te(rr,`RPC '${e}' stream ${a} received:`,z),C.u_(z)}})),k(f,QA.STAT_EVENT,(O=>{O.stat===uy.PROXY?Te(rr,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===uy.NOPROXY&&Te(rr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Mg(){return typeof document<"u"?document:null}function nm(n){return new r5(n,!0)}class $x{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uT="PersistentStream";class Kx{constructor(e,t,r,a,l,c,f,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $x(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ya(t.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(uT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Te(uT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eL extends Kx{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=a5(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ws(c.readTime):Be.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=by(this.serializer),t.addTarget=(function(l,c){let f;const m=c.target;if(f=my(m)?{documents:u5(l,m)}:{query:Vx(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Mx(l,c.resumeToken);const p=yy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Be.min())>0){f.readTime=Id(l,c.snapshotVersion.toTimestamp());const p=yy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=f5(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=by(this.serializer),t.removeTarget=e,this.q_(t)}}class tL extends Kx{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=l5(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=by(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>o5(this.serializer,r)))};this.q_(t)}}class nL{}class rL extends nL{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,vy(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(oe.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,vy(t,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ya(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const al="RemoteStore";class sL{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{dl(this)&&(Te(al,"Restarting streams for network reachability change."),await(async function(m){const p=qe(m);p.Ea.add(4),await vh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await rm(p)})(this))}))})),this.Ra=new iL(r,a)}}async function rm(n){if(dl(n))for(const e of n.da)await e(!0)}async function vh(n){for(const e of n.da)await e(!1)}function Qx(n,e){const t=qe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),D0(t)?O0(t):ju(t).O_()&&I0(t,e))}function R0(n,e){const t=qe(n),r=ju(t);t.Ia.delete(e),r.O_()&&Yx(t,e),t.Ia.size===0&&(r.O_()?r.L_():dl(t)&&t.Ra.set("Unknown"))}function I0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ju(n).Y_(e)}function Yx(n,e){n.Va.Ue(e),ju(n).Z_(e)}function O0(n){n.Va=new JD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ju(n).start(),n.Ra.ua()}function D0(n){return dl(n)&&!ju(n).x_()&&n.Ia.size>0}function dl(n){return qe(n).Ea.size===0}function Xx(n){n.Va=void 0}async function aL(n){n.Ra.set("Online")}async function oL(n){n.Ia.forEach(((e,t)=>{I0(n,e)}))}async function lL(n,e){Xx(n),D0(n)?(n.Ra.ha(e),O0(n)):n.Ra.set("Unknown")}async function uL(n,e,t){if(n.Ra.set("Online"),e instanceof Lx&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){Te(al,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dd(n,r)}else if(e instanceof dd?n.Va.Ze(e):e instanceof Dx?n.Va.st(e):n.Va.tt(e),!t.isEqual(Be.min()))try{const r=await Gx(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Kn.EMPTY_BYTE_STRING,y.snapshotVersion)),Yx(l,m);const T=new oo(y.target,m,p,y.sequenceNumber);I0(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){Te(al,"Failed to raise snapshot:",r),await Dd(n,r)}}async function Dd(n,e,t){if(!Mu(e))throw e;n.Ea.add(1),await vh(n),n.Ra.set("Offline"),t||(t=()=>Gx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(al,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rm(n)}))}function Wx(n,e){return e().catch((t=>Dd(n,t,e)))}async function im(n){const e=qe(n),t=Eo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:m0;for(;cL(e);)try{const a=await G5(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,hL(e,a)}catch(a){await Dd(e,a)}Zx(e)&&Jx(e)}function cL(n){return dl(n)&&n.Ta.length<10}function hL(n,e){n.Ta.push(e);const t=Eo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Zx(n){return dl(n)&&!Eo(n).x_()&&n.Ta.length>0}function Jx(n){Eo(n).start()}async function fL(n){Eo(n).ra()}async function dL(n){const e=Eo(n);for(const t of n.Ta)e.ea(t.mutations)}async function mL(n,e,t){const r=n.Ta.shift(),a=T0.from(r,e,t);await Wx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await im(n)}async function pL(n,e){e&&Eo(n).X_&&await(async function(r,a){if((function(c){return XD(c)&&c!==oe.ABORTED})(a.code)){const l=r.Ta.shift();Eo(r).B_(),await Wx(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await im(r)}})(n,e),Zx(n)&&Jx(n)}async function cT(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Te(al,"RemoteStore received new credentials");const r=dl(t);t.Ea.add(3),await vh(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rm(t)}async function gL(n,e){const t=qe(n);e?(t.Ea.delete(2),await rm(t)):e||(t.Ea.add(2),await vh(t),t.Ra.set("Unknown"))}function ju(n){return n.ma||(n.ma=(function(t,r,a){const l=qe(t);return l.sa(),new eL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:aL.bind(null,n),t_:oL.bind(null,n),r_:lL.bind(null,n),H_:uL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),D0(n)?O0(n):n.Ra.set("Unknown")):(await n.ma.stop(),Xx(n))}))),n.ma}function Eo(n){return n.fa||(n.fa=(function(t,r,a){const l=qe(t);return l.sa(),new tL(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:fL.bind(null,n),r_:pL.bind(null,n),ta:dL.bind(null,n),na:mL.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await im(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(al,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class L0{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new L0(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(n,e){if(ya("AsyncQueue",`${e}: ${n}`),Mu(n))return new Ee(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class hu{static emptySet(e){return new hu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=Ic(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hT{constructor(){this.ga=new Yt(ke.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class wu{constructor(e,t,r,a,l,c,f,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new wu(e,t,hu.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class yL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vL{constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=qe(t),l=a.queries;a.queries=fT(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(r)}))})(this,new Ee(oe.ABORTED,"Firestore shutting down"))}}function fT(){return new fl((n=>_x(n)),Wd)}async function eS(n,e){const t=qe(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new yL,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=M0(c,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&k0(t)}async function tS(n,e){const t=qe(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _L(n,e){const t=qe(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&k0(t)}function bL(n,e,t){const r=qe(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function k0(n){n.Ca.forEach((e=>{e.next()}))}var wy,dT;(dT=wy||(wy={})).Ma="default",dT.Cache="cache";class nS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wy.Cache}}class rS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class EL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=bx(e),this.tu=new hu(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new hT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const w=a.get(y),N=Zd(this.query,T)?T:null,C=!!w&&this.mutatedKeys.has(w.key),k=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;w&&N?w.data.isEqual(N.data)?C!==k&&(r.track({type:3,doc:N}),O=!0):this.su(w,N)||(r.track({type:2,doc:N}),O=!0,(m&&this.eu(N,m)>0||p&&this.eu(N,p)<0)&&(f=!0)):!w&&N?(r.track({type:0,doc:N}),O=!0):w&&!N&&(r.track({type:1,doc:w}),O=!0,(m||p)&&(f=!0)),O&&(N?(c=c.add(N),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,T)=>(function(N,C){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:O})}};return k(N)-k(C)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new wu(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new iS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new rS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=st();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const j0="SyncEngine";class TL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wL{constructor(e){this.key=e,this.hu=!1}}class AL{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new fl((f=>_x(f)),Wd),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(ke.comparator),this.Au=new Map,this.Ru=new x0,this.Vu={},this.mu=new Map,this.fu=Tu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xL(n,e,t=!0){const r=cS(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await sS(r,e,t,!0),a}async function SL(n,e){const t=cS(n);await sS(t,e,!0,!1)}async function sS(n,e,t,r){const a=await $5(n.localStore,Ts(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await NL(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Qx(n.remoteStore,a),f}async function NL(n,e,t,r,a){n.pu=(T,w,N)=>(async function(k,O,z,K){let ne=O.view.ru(z);ne.Cs&&(ne=await sT(k.localStore,O.query,!1).then((({documents:j})=>O.view.ru(j,ne))));const _e=K&&K.targetChanges.get(O.targetId),ve=K&&K.targetMismatches.get(O.targetId)!=null,we=O.view.applyChanges(ne,k.isPrimaryClient,_e,ve);return pT(k,O.targetId,we.au),we.snapshot})(n,T,w,N);const l=await sT(n.localStore,e,!0),c=new EL(e,l.Qs),f=c.ru(l.documents),m=yh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,m);pT(n,t,p.au);const y=new TL(e,t,c);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function CL(n,e,t){const r=qe(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Wd(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ey(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&R0(r.remoteStore,a.targetId),Ay(r,a.targetId)})).catch(Lu)):(Ay(r,a.targetId),await Ey(r.localStore,a.targetId,!0))}async function RL(n,e){const t=qe(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),R0(t.remoteStore,r.targetId))}async function IL(n,e,t){const r=PL(n);try{const a=await(function(c,f){const m=qe(c),p=Pt.now(),y=f.reduce(((N,C)=>N.add(C.key)),st());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let C=va(),k=st();return m.Ns.getEntries(N,y).next((O=>{C=O,C.forEach(((z,K)=>{K.isValidDocument()||(k=k.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,C))).next((O=>{T=O;const z=[];for(const K of f){const ne=FD(K,T.get(K.key).overlayedDocument);ne!=null&&z.push(new Ro(K.key,ne,cx(ne.value.mapValue),Ci.exists(!0)))}return m.mutationQueue.addMutationBatch(N,p,z,f)})).next((O=>{w=O;const z=O.applyToLocalDocumentSet(T,k);return m.documentOverlayCache.saveOverlays(N,O.batchId,z)}))})).then((()=>({batchId:w.batchId,changes:Tx(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new Yt(it)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,t),await _h(r,a.changes),await im(r.remoteStore)}catch(a){const l=M0(a,"Failed to persist write");t.reject(l)}}async function aS(n,e){const t=qe(n);try{const r=await H5(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?gt(c.hu,14607):a.removedDocuments.size>0&&(gt(c.hu,42227),c.hu=!1))})),await _h(t,r,e)}catch(r){await Lu(r)}}function mT(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=qe(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,T)=>{for(const w of T.Sa)w.va(f)&&(p=!0)})),p&&k0(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OL(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new Yt(ke.comparator);c=c.insert(l,sr.newNoDocument(l,Be.min()));const f=st().add(l),m=new tm(Be.min(),new Map,new Yt(it),c,f);await aS(r,m),r.du=r.du.remove(l),r.Au.delete(e),P0(r)}else await Ey(r.localStore,e,!1).then((()=>Ay(r,e,t))).catch(Lu)}async function DL(n,e){const t=qe(n),r=e.batch.batchId;try{const a=await z5(t.localStore,e);lS(t,r,null),oS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _h(t,a)}catch(a){await Lu(a)}}async function LL(n,e,t){const r=qe(n);try{const a=await(function(c,f){const m=qe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((T=>(gt(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);lS(r,e,t),oS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _h(r,a)}catch(a){await Lu(a)}}function oS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function lS(n,e,t){const r=qe(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||uS(n,r)}))}function uS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(R0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),P0(n))}function pT(n,e,t){for(const r of t)r instanceof rS?(n.Ru.addReference(r.key,e),ML(n,r)):r instanceof iS?(Te(j0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||uS(n,r.key)):Ue(19791,{wu:r})}function ML(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Te(j0,"New document in limbo: "+t),n.Eu.add(r),P0(n))}function P0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ke(It.fromString(e)),r=n.fu.next();n.Au.set(r,new wL(t)),n.du=n.du.insert(t,r),Qx(n.remoteStore,new oo(Ts(_0(t.path)),r,"TargetPurposeLimboResolution",Qd.ce))}}async function _h(n,e,t){const r=qe(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,m)=>{c.push(r.pu(m,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=N0.As(m.targetId,p);l.push(y)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(m,p){const y=qe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>he.forEach(p,(w=>he.forEach(w.Es,(N=>y.persistence.referenceDelegate.addReference(T,w.targetId,N))).next((()=>he.forEach(w.ds,(N=>y.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))))))}catch(T){if(!Mu(T))throw T;Te(C0,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const N=y.Ms.get(w),C=N.snapshotVersion,k=N.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(w,k)}}})(r.localStore,l))}async function kL(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Te(j0,"User change. New user:",e.toKey());const r=await Fx(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ee(oe.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _h(t,r.Ls)}}function jL(n,e){const t=qe(n),r=t.Au.get(e);if(r&&r.hu)return st().add(r.key);{let a=st();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function cS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OL.bind(null,e),e.Pu.H_=_L.bind(null,e.eventManager),e.Pu.yu=bL.bind(null,e.eventManager),e}function PL(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LL.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return B5(this.persistence,new V5,e.initialUser,this.serializer)}Cu(e){return new Hx(S0.mi,this.serializer)}Du(e){return new Q5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class VL extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){gt(this.persistence.referenceDelegate instanceof Od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w5(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new Hx((r=>Od.mi(r,t)),this.serializer)}}class xy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kL.bind(null,this.syncEngine),await gL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vL})()}createDatastore(e){const t=nm(e.databaseInfo.databaseId),r=(function(l){return new J5(l)})(e.databaseInfo);return(function(l,c,f,m){return new rL(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,f){return new sL(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>mT(this.syncEngine,t,0)),(function(){return lT.v()?new lT:new Y5})())}createSyncEngine(e,t){return(function(a,l,c,f,m,p,y){const T=new AL(a,l,c,f,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=qe(t);Te(al,"RemoteStore shutting down."),r.Ea.add(5),await vh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xy.provider={build:()=>new xy};class hS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const To="FirestoreClient";class UL{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ir.UNAUTHENTICATED,this.clientId=d0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Te(To,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te(To,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=M0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(To,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await Fx(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function gT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qL(n);Te(To,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>cT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>cT(e.remoteStore,a))),n._onlineComponents=e}async function qL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(To,"Using user provided OfflineComponentProvider");try{await kg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;vu("Error using user provided cache. Falling back to memory cache: "+t),await kg(n,new Ld)}}else Te(To,"Using default OfflineComponentProvider"),await kg(n,new VL(void 0));return n._offlineComponents}async function V0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(To,"Using user provided OnlineComponentProvider"),await gT(n,n._uninitializedComponentsProvider._online)):(Te(To,"Using default OnlineComponentProvider"),await gT(n,new xy))),n._onlineComponents}function BL(n){return V0(n).then((e=>e.syncEngine))}function zL(n){return V0(n).then((e=>e.datastore))}async function fS(n){const e=await V0(n),t=e.eventManager;return t.onListen=xL.bind(null,e.syncEngine),t.onUnlisten=CL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RL.bind(null,e.syncEngine),t}function HL(n,e,t={}){const r=new Es;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new hS({next:w=>{y.Nu(),c.enqueueAndForget((()=>tS(l,T)));const N=w.docs.has(f);!N&&w.fromCache?p.reject(new Ee(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&m&&m.source==="server"?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new nS(_0(f.path),y,{includeMetadataChanges:!0,qa:!0});return eS(l,T)})(await fS(n),n.asyncQueue,e,t,r))),r.promise}function FL(n,e,t={}){const r=new Es;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new hS({next:w=>{y.Nu(),c.enqueueAndForget((()=>tS(l,T))),w.fromCache&&m.source==="server"?p.reject(new Ee(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new nS(f,y,{includeMetadataChanges:!0,qa:!0});return eS(l,T)})(await fS(n),n.asyncQueue,e,t,r))),r.promise}function GL(n,e,t){const r=new Es;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await zL(n);r.resolve((async function(c,f,m){const p=qe(c),{request:y,gt:T,parent:w}=c5(p.serializer,RD(f),m);p.connection.$o||delete y.parent;const N=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,w,y,1)).filter((k=>!!k.result));gt(N.length===1,64727);const C=N[0].result?.aggregateFields;return Object.keys(C).reduce(((k,O)=>(k[T[O]]=C[O],k)),{})})(a,e,t))}catch(a){r.reject(a)}})),r.promise}function dS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const yT=new Map;const mS="firestore.googleapis.com",vT=!0;class _T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mS,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E5)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $3;switch(r.type){case"firstParty":return new X3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=yT.get(t);r&&(Te("ComponentProvider","Removing Datastore"),yT.delete(t),r.terminate())})(this),Promise.resolve()}}function $L(n,e,t,r={}){n=Ii(n,sm);const a=Ru(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(rA(`https://${f}`),iA("Firestore",!0)),l.host!==mS&&l.host!==f&&vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:r};if(!tl(m,c)&&(n._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=ir.MOCK_USER;else{p=tI(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ir(T)}n._authCredentials=new K3(new ZA(p,y))}}class ml{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class un{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ph(t,un._jsonSchema))return new un(e,r||null,new ke(It.fromString(t.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:yn("string",un._jsonSchemaVersion),referencePath:yn("string")};class mo extends ml{constructor(e,t,r){super(e,t,_0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ke(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function In(n,e,...t){if(n=An(n),JA("collection","path",e),n instanceof sm){const r=It.fromString(e,...t);return DE(r),new mo(n,null,r)}{if(!(n instanceof un||n instanceof mo))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return DE(r),new mo(n.firestore,null,r)}}function Qn(n,e,...t){if(n=An(n),arguments.length===1&&(e=d0.newId()),JA("doc","path",e),n instanceof sm){const r=It.fromString(e,...t);return OE(r),new un(n,null,new ke(r))}{if(!(n instanceof un||n instanceof mo))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return OE(r),new un(n.firestore,n instanceof mo?n.converter:null,new ke(r))}}const bT="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $x(this,"async_queue_retry"),this._c=()=>{const r=Mg();r&&Te(bT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Mg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mu(e))throw e;Te(bT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ya("INTERNAL UNHANDLED ERROR: ",TT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=L0.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ue(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function TT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Io extends sm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new ET,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function KL(n,e){const t=typeof n=="object"?n:lA(),r=typeof n=="string"?n:Sd,a=e0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=JR("firestore");l&&$L(a,...l)}return a}function am(n){if(n._terminated)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QL(n),n._firestoreClient}function QL(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new mD(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new UL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class YL{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class XL{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(Kn.fromBase64String(e))}catch(t){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xi(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ph(e,xi._jsonSchema))return xi.fromBase64String(e.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:yn("string",xi._jsonSchemaVersion),bytes:yn("string")};class om{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lm{constructor(e){this._methodName=e}}class As{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:As._jsonSchemaVersion}}static fromJSON(e){if(ph(e,As._jsonSchema))return new As(e.latitude,e.longitude)}}As._jsonSchemaVersion="firestore/geoPoint/1.0",As._jsonSchema={type:yn("string",As._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};class xs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ph(e,xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xs(e.vectorValues);throw new Ee(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xs._jsonSchemaVersion="firestore/vectorValue/1.0",xs._jsonSchema={type:yn("string",xs._jsonSchemaVersion),vectorValues:yn("object")};const WL=/^__.*__$/;class ZL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}class pS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class U0{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new U0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gS(this.Ac)&&WL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nm(e)}Cc(e,t,r,a=!1){return new U0({Ac:e,methodName:t,Dc:r,path:Gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(n){const e=n._freezeSettings(),t=nm(n._databaseId);return new JL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yS(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);B0("Data must be an object, but it was:",c,r);const f=vS(r,c);let m,p;if(l.merge)m=new ei(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const w=Sy(e,T,t);if(!c.contains(w))throw new Ee(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bS(y,w)||y.push(w)}m=new ei(y),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new ZL(new kr(f),m,p)}class cm extends lm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cm}}class q0 extends lm{_toFieldTransform(e){return new qD(e.path,new Zc)}isEqual(e){return e instanceof q0}}function e6(n,e,t,r){const a=n.Cc(1,e,t);B0("Data must be an object, but it was:",a,r);const l=[],c=kr.empty();Co(r,((m,p)=>{const y=z0(e,m,t);p=An(p);const T=a.yc(y);if(p instanceof cm)l.push(y);else{const w=bh(p,T);w!=null&&(l.push(y),c.set(y,w))}}));const f=new ei(l);return new pS(c,f,a.fieldTransforms)}function t6(n,e,t,r,a,l){const c=n.Cc(1,e,t),f=[Sy(e,r,t)],m=[a];if(l.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Sy(e,l[w])),m.push(l[w+1]);const p=[],y=kr.empty();for(let w=f.length-1;w>=0;--w)if(!bS(p,f[w])){const N=f[w];let C=m[w];C=An(C);const k=c.yc(N);if(C instanceof cm)p.push(N);else{const O=bh(C,k);O!=null&&(p.push(N),y.set(N,O))}}const T=new ei(p);return new pS(y,T,c.fieldTransforms)}function n6(n,e,t,r=!1){return bh(t,n.Cc(r?4:3,e))}function bh(n,e){if(_S(n=An(n)))return B0("Unsupported field value:",e,n),vS(n,e);if(n instanceof lm)return(function(r,a){if(!gS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let m=bh(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PD(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Pt.fromDate(r);return{timestampValue:Id(a.serializer,l)}}if(r instanceof Pt){const l=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(a.serializer,l)}}if(r instanceof As)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:Mx(a.serializer,r._byteString)};if(r instanceof un){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:A0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof xs)return(function(c,f){return{mapValue:{fields:{[lx]:{stringValue:ux},[Nd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return b0(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Kd(r)}`)})(n,e)}function vS(n,e){const t={};return nx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(n,((r,a)=>{const l=bh(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function _S(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof As||n instanceof xi||n instanceof un||n instanceof lm||n instanceof xs)}function B0(n,e,t){if(!_S(t)||!ex(t)){const r=Kd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Sy(n,e,t){if((e=An(e))instanceof om)return e._internalPath;if(typeof e=="string")return z0(n,e);throw Md("Field path arguments must be of type string or ",n,!1,void 0,t)}const r6=new RegExp("[~\\*/\\[\\]]");function z0(n,e,t){if(e.search(r6)>=0)throw Md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new om(...e.split("."))._internalPath}catch{throw Md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Md(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(oe.INVALID_ARGUMENT,f+n+m)}function bS(n,e){return n.some((t=>t.isEqual(e)))}class ES{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(H0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class i6 extends ES{data(){return super.data()}}function H0(n,e){return typeof e=="string"?z0(n,e):e instanceof om?e._internalPath:e._delegate._internalPath}function s6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F0{}class TS extends F0{}function pl(n,e,...t){let r=[];e instanceof F0&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((m=>m instanceof $0)).length,f=l.filter((m=>m instanceof G0)).length;if(c>1||c>0&&f>0)throw new Ee(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class G0 extends TS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new G0(e,t,r)}_apply(e){const t=this._parse(e);return wS(e._query,t),new ml(e.firestore,e.converter,py(e._query,t))}_parse(e){const t=um(e.firestore);return(function(l,c,f,m,p,y,T){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){AT(T,y);const C=[];for(const k of T)C.push(wT(m,l,k));w={arrayValue:{values:C}}}else w=wT(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||AT(T,y),w=n6(f,c,T,y==="in"||y==="not-in");return gn.create(p,y,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class $0 extends F0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ji.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)wS(c,m),c=py(c,m)})(e._query,t),new ml(e.firestore,e.converter,py(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class K0 extends TS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new K0(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wc(l,c)})(e._query,this._field,this._direction);return new ml(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new ku(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function gl(n,e="asc"){const t=e,r=H0("orderBy",n);return K0._create(r,t)}function wT(n,e,t){if(typeof(t=An(t))=="string"){if(t==="")throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yx(e)&&t.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!ke.isDocumentKey(r))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qE(n,new ke(r))}if(t instanceof un)return qE(n,t._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(t)}.`)}function AT(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wS(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class a6{convertValue(e,t="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Co(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Nd].arrayValue?.values?.map((r=>ln(r.doubleValue)));return new xs(t)}convertGeoPoint(e){return new As(ln(e.latitude),ln(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const t=vo(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);gt(Bx(r),9688,{name:e});const a=new Yc(r.get(1),r.get(3)),l=new ke(r.popFirst(5));return a.isEqual(t)||ya(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function AS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}function o6(){return new YL("count")}class Dc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class el extends ES{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(H0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=el._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}el._jsonSchemaVersion="firestore/documentSnapshot/1.0",el._jsonSchema={type:yn("string",el._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class md extends el{data(e={}){return super.data(e)}}class fu{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Dc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new md(this._firestore,this._userDataWriter,r.key,r,new Dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new md(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Dc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new md(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Dc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:l6(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=d0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}function Pu(n){n=Ii(n,un);const e=Ii(n.firestore,Io);return HL(am(e),n._key).then((t=>u6(e,n,t)))}fu._jsonSchemaVersion="firestore/querySnapshot/1.0",fu._jsonSchema={type:yn("string",fu._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class Q0 extends a6{constructor(e){super(),this.firestore=e}convertBytes(e){return new xi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function Cs(n){n=Ii(n,ml);const e=Ii(n.firestore,Io),t=am(e),r=new Q0(e);return s6(n._query),FL(t,n._query).then((a=>new fu(e,r,n,a)))}function xT(n,e,t){n=Ii(n,un);const r=Ii(n.firestore,Io),a=AS(n.converter,e,t);return mm(r,[yS(um(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Ci.none())])}function hm(n,e,t,...r){n=Ii(n,un);const a=Ii(n.firestore,Io),l=um(a);let c;return c=typeof(e=An(e))=="string"||e instanceof om?t6(l,"updateDoc",n._key,e,t,r):e6(l,"updateDoc",n._key,e),mm(a,[c.toMutation(n._key,Ci.exists(!0))])}function fm(n){return mm(Ii(n.firestore,Io),[new E0(n._key,Ci.none())])}function dm(n,e){const t=Ii(n.firestore,Io),r=Qn(n),a=AS(n.converter,e);return mm(t,[yS(um(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then((()=>r))}function mm(n,e){return(function(r,a){const l=new Es;return r.asyncQueue.enqueueAndForget((async()=>IL(await BL(r),a,l))),l.promise})(am(n),e)}function u6(n,e,t){const r=t.docs.get(e._key),a=new Q0(n);return new el(n,a,e._key,r,new Dc(t.hasPendingWrites,t.fromCache),e.converter)}function Ff(n){return c6(n,{count:o6()})}function c6(n,e){const t=Ii(n.firestore,Io),r=am(t),a=fD(e,((l,c)=>new QD(c,l.aggregateType,l._internalFieldPath)));return GL(r,n._query,a).then((l=>(function(f,m,p){const y=new Q0(f);return new XL(m,y,p)})(t,n,l)))}function Au(){return new q0("serverTimestamp")}(function(e,t=!0){(function(a){Du=a})(Iu),gu(new nl("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Io(new Q3(r.getProvider("auth-internal")),new W3(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(p.options.projectId,y)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ho(NE,CE,e),ho(NE,CE,"esm2020")})();const h6={apiKey:"AIzaSyB3nTJlyM3K-XpvEUrXyk3leiVeMxzkTiU",authDomain:"forexvolcano-21180.firebaseapp.com",projectId:"forexvolcano-21180",storageBucket:"forexvolcano-21180.firebasestorage.app",messagingSenderId:"264687169302",appId:"1:264687169302:web:83322d7adc303b1f0c2a37",measurementId:"G-XTB0D1TPS6"},xS=oA(h6),Wi=F3(xS),ct=KL(xS),f6=()=>{const[n,e]=G.useState(null),[t,r]=G.useState(!1),a=xo();G.useEffect(()=>{const c=u0(Wi,async f=>{if(e(f),f)try{const m=await Pu(Qn(ct,"users",f.uid));m.exists()&&m.data().role==="admin"?r(!0):r(!1)}catch(m){console.error("Error checking admin role:",m),r(!1)}else r(!1)});return()=>c()},[]);const l=async()=>{try{await MO(Wi),a("/")}catch(c){console.error("Error logging out",c)}};return _.jsx("nav",{className:"bg-surface border-b border-gray-800 sticky top-0 z-50",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex items-center justify-between h-16",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx(En,{to:"/",className:"flex-shrink-0",children:_.jsxs("span",{className:"text-secondary text-2xl font-bold tracking-tighter",children:["Forex",_.jsx("span",{className:"text-accent",children:"Volcano"})]})}),_.jsx("div",{className:"hidden md:block",children:_.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[_.jsx(En,{to:"/analysis",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Analysis"}),_.jsx(En,{to:"/news",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"News"})]})})]}),_.jsx("div",{className:"hidden md:block",children:_.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:n?_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx(En,{to:"/dashboard",className:"text-primary hover:text-green-400 font-medium px-3 py-2",children:"Dashboard"}),t&&_.jsx(En,{to:"/admin",className:"text-accent hover:text-orange-400 font-medium px-3 py-2",children:"Admin Panel"}),_.jsx("button",{onClick:l,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Logout"})]}):_.jsxs("div",{className:"flex items-center space-x-4",children:[_.jsx(En,{to:"/login",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),_.jsx(En,{to:"/register",className:"bg-primary hover:bg-green-600 text-white px-3 py-2 rounded-md text-sm font-medium",children:"Get Started"})]})})}),_.jsx("div",{className:"-mr-2 flex md:hidden",children:_.jsxs("button",{type:"button",className:"bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none","aria-controls":"mobile-menu","aria-expanded":"false",children:[_.jsx("span",{className:"sr-only",children:"Open main menu"}),_.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},d6=()=>_.jsx("footer",{className:"bg-[#05080f] border-t border-gray-800/50 py-12",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[_.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[_.jsxs(En,{to:"/",className:"text-2xl font-bold tracking-tighter text-secondary",children:["Forex",_.jsx("span",{className:"text-accent",children:"Volcano"})]}),_.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[" ",new Date().getFullYear()," ForexVolcano. All rights reserved."]})]}),_.jsxs("div",{className:"flex space-x-8",children:[_.jsx(En,{to:"/analysis",className:"text-gray-400 hover:text-white transition-colors",children:"Analysis"}),_.jsx(En,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"News"}),_.jsx(En,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})]})]})})}),ST={primary:"bg-primary hover:bg-green-500 text-white shadow-lg shadow-green-900/20",secondary:"bg-secondary hover:bg-red-500 text-white shadow-lg shadow-red-900/20",accent:"bg-accent hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",outline:"border-2 border-slate-700 hover:border-slate-500 text-slate-300 hover:text-white bg-transparent",ghost:"text-slate-400 hover:text-white hover:bg-white/5"},NT={sm:"px-3 py-1.5 text-sm",md:"px-6 py-3 text-base font-semibold",lg:"px-8 py-4 text-lg font-bold"},wn=({children:n,variant:e="primary",size:t="md",to:r=null,onClick:a,className:l="",...c})=>{const f="inline-flex items-center justify-center rounded-lg transition-all duration-300 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e17] focus:ring-slate-400",m=ST[e]||ST.primary,p=NT[t]||NT.md,y=`${f} ${m} ${p} ${l}`;return r?_.jsx(En,{to:r,className:y,...c,children:n}):_.jsx("button",{onClick:a,className:y,...c,children:n})},m6=()=>_.jsxs("div",{className:"relative overflow-hidden bg-background pt-16 pb-32 lg:pt-32 lg:pb-40",children:[_.jsxs("div",{className:"absolute top-0 left-1/2 w-full -translate-x-1/2 h-full z-0 pointer-events-none",children:[_.jsx("div",{className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px] animate-pulse"}),_.jsx("div",{className:"absolute top-[10%] right-[20%] w-[400px] h-[400px] bg-accent/10 rounded-full blur-[80px]"})]}),_.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[_.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-white mb-6",children:["Predict the ",_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-secondary to-accent",children:"Eruption"})]}),_.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-400 mb-10",children:"Professional Forex education and institutional-grade analysis. Stop guessing. Start trading with the precision of a geologist."}),_.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[_.jsx(wn,{to:"/register",variant:"primary",size:"lg",children:"Start Learning Free"}),_.jsx(wn,{to:"/analysis",variant:"outline",size:"lg",children:"View Daily Analysis"})]}),_.jsxs("div",{className:"mt-16 relative",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background to-transparent z-10 h-20 bottom-0 pointer-events-none"}),_.jsxs("div",{className:"inline-flex items-center gap-8 py-3 px-8 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm shadow-2xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-white",children:"EUR/USD"}),_.jsx("span",{className:"text-primary text-sm",children:" 1.0842"})]}),_.jsx("div",{className:"w-px h-4 bg-gray-700"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-white",children:"GBP/USD"}),_.jsx("span",{className:"text-secondary text-sm",children:" 1.2615"})]}),_.jsx("div",{className:"w-px h-4 bg-gray-700"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-bold text-white",children:"XAU/USD"}),_.jsx("span",{className:"text-accent text-sm",children:" 2045.50"})]})]})]})]})]}),p6=[{title:"Structured Learning Path",description:'From "What is a Pip?" to institutional order flow. Our curriculum guides you step-by-step through the chaos.',icon:_.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),borderColor:"border-primary/20",iconBg:"bg-primary/10"},{title:"Daily Market Analysis",description:`Don't trade alone. Get daily "Volcano Watch" reports identifying high-probability setups before they erupt.`,icon:_.jsx("svg",{className:"w-6 h-6 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),borderColor:"border-secondary/20",iconBg:"bg-secondary/10"},{title:"Risk Management",description:"The volcano is dangerous. Learn how to survive. Our strict risk protocols are the core of our philosophy.",icon:_.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),borderColor:"border-accent/20",iconBg:"bg-accent/10"}],g6=()=>_.jsx("div",{className:"py-24 bg-surface",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("h2",{className:"text-base text-accent font-semibold tracking-wide uppercase",children:"Why Choose Us"}),_.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-white sm:text-4xl",children:"A Better Way to Trade"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:p6.map((n,e)=>_.jsxs("div",{className:`p-8 bg-background/50 border ${n.borderColor} rounded-2xl hover:bg-background transition-all duration-300`,children:[_.jsx("div",{className:`w-12 h-12 ${n.iconBg} rounded-lg flex items-center justify-center mb-6`,children:n.icon}),_.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:n.title}),_.jsx("p",{className:"text-gray-400 leading-relaxed",children:n.description})]},e))})]})}),y6=()=>_.jsxs("div",{className:"flex flex-col min-h-screen",children:[_.jsx(m6,{}),_.jsx(g6,{})]}),SS=({title:n,subtitle:e,image:t,content:r,footer:a,badges:l=[],className:c=""})=>_.jsxs("div",{className:`group relative flex flex-col overflow-hidden rounded-2xl bg-surface border border-gray-800 transition-all duration-300 hover:border-gray-700 hover:shadow-2xl hover:shadow-primary/5 ${c}`,children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),t&&_.jsxs("div",{className:"relative h-48 w-full overflow-hidden bg-gray-900",children:[_.jsx("img",{src:t,alt:n,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105",onError:f=>{f.target.style.display="none",f.target.parentElement.classList.add("flex","items-center","justify-center","bg-gray-800"),f.target.parentElement.innerHTML='<span class="text-4xl"></span>'}}),l.length>0&&_.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:l.map((f,m)=>_.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded uppercase tracking-wider ${f.color||"bg-gray-800 text-white"}`,children:f.text},m))})]}),_.jsxs("div",{className:"flex flex-1 flex-col p-6 z-10",children:[e&&_.jsx("div",{className:"mb-2 flex items-center gap-2 text-sm text-gray-400",children:e}),_.jsx("h3",{className:"mb-3 text-xl font-bold text-white group-hover:text-primary transition-colors",children:n}),_.jsx("p",{className:"flex-1 text-gray-400 line-clamp-3 mb-6",children:r}),a&&_.jsx("div",{className:"mt-auto border-t border-gray-800 pt-4",children:a})]})]}),CT=[{id:"1",pair:"EUR/USD",direction:"Bearish",title:"EUR/USD Forming Head and Shoulders on 4H",content:"Price has failed to break the 1.0900 resistance level multiple times. We are observing a clear H&S pattern formation. If the neckline at 1.0820 breaks, we expect a sharp decline towards the 1.0750 liquidity zone.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",pair:"XAU/USD",direction:"Bullish",title:"Gold Preparing for Eruption Above 2050",content:"Geopolitical tensions and a weakening dollar suggest Gold is accumulating for a massive leg up. Watch for a retest of 2035 as a potential entry point for long positions targeting new highs.",author:"Analyst Sarah",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"},{id:"3",pair:"GBP/JPY",direction:"Bullish",title:"The Dragon is Waking Up",content:"GJ is respecting the ascending trendline perfectly. The recent pullback to 182.00 was rejected strongly. We are looking for continuation towards 185.00 level.",author:"Volcano Chief",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"}],v6=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),[a,l]=G.useState("All");G.useEffect(()=>{(async()=>{try{const y=pl(In(ct,"analysis"),gl("timestamp","desc")),w=(await Cs(y)).docs.map(N=>({id:N.id,...N.data()}));w.length>0?e(w):e(CT)}catch(y){console.error("Error fetching analysis:",y),e(CT)}finally{r(!1)}})()},[]);const c=a==="All"?n:n.filter(p=>p.pair===a),f=["All",...new Set(n.map(p=>p.pair))],m=p=>{if(!p)return"";const y=p.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),T=document.createElement("DIV");return T.innerHTML=y,(T.textContent||T.innerText||"").trim()};return _.jsx("div",{className:"bg-background min-h-screen py-12",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",_.jsx("span",{className:"text-primary",children:"Analysis"})]}),_.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Daily technical breakdowns and trade setups from our experts."})]}),_.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:f.map(p=>_.jsx("button",{onClick:()=>l(p),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 ${a===p?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:p},p))}),t?_.jsx("div",{className:"text-center text-white py-20",children:"Loading Volcano Data..."}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(p=>{const y=p.direction==="Bullish"?"bg-primary/20 text-primary":"bg-secondary/20 text-secondary";return _.jsx(SS,{title:p.title,image:p.image||p.chart_image_url,content:m(p.content),subtitle:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-gray-500 text-xs",children:p.timestamp?.seconds?new Date(p.timestamp.seconds*1e3).toLocaleDateString():p.timestamp||new Date().toLocaleDateString()}),_.jsx("span",{className:"text-gray-600",children:""}),_.jsxs("span",{className:"text-gray-500 text-xs text-accent",children:["By ",p.author||"Admin"]})]}),badges:[{text:p.pair,color:"bg-surface border border-gray-700 text-white"},{text:p.direction,color:y}],footer:_.jsxs(wn,{variant:"ghost",size:"sm",className:"w-full justify-between group-hover:text-white",children:["Read Full Breakdown",_.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})},p.id)})})]})})},RT=[{id:"1",title:"NFP Smashes Expectations: 350k Jobs Added",impact:"High",affectedCurrencies:["USD","XAU","JPY"],content:"The Non-Farm Payrolls report showed a surprise surge in job creation, sending the Dollar Index (DXY) rocketing past 104.50. Traders should watch for pullbacks on Gold.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"2",title:"ECB Signals Rate Cuts in June",impact:"Medium",affectedCurrencies:["EUR","GBP"],content:"Lagarde hinted that inflation is under control, opening the door for a 25bps cut. Euro is showing weakness against the Pound.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1526304640151-b59310398691?q=80&w=1000&auto=format&fit=crop"},{id:"3",title:"BoJ Maintains Ultra-Loose Policy",impact:"Low",affectedCurrencies:["JPY"],content:"No surprises from the Bank of Japan. Yield Curve Control remains in place. USD/JPY is drifting sideways in a tight range.",timestamp:new Date().toLocaleDateString(),image:"https://images.unsplash.com/photo-1589758438368-0ad531db3366?q=80&w=1000&auto=format&fit=crop"}],_6={High:"bg-red-500/20 text-red-500 border border-red-500/50",Medium:"bg-orange-500/20 text-orange-500 border border-orange-500/50",Low:"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50"},b6=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),a=l=>{if(!l)return"";const c=l.replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<br\s*\/?>/gi," "),f=document.createElement("DIV");return f.innerHTML=c,(f.textContent||f.innerText||"").trim()};return G.useEffect(()=>{(async()=>{try{const c=pl(In(ct,"news"),gl("timestamp","desc")),m=(await Cs(c)).docs.map(p=>({id:p.id,...p.data()}));m.length>0?e(m):e(RT)}catch(c){console.error("Error fetching news:",c),e(RT)}finally{r(!1)}})()},[]),_.jsx("div",{className:"bg-background min-h-screen py-12",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsxs("h1",{className:"text-4xl font-extrabold text-white sm:text-5xl tracking-tight",children:["Market ",_.jsx("span",{className:"text-accent",children:"News"})]}),_.jsx("p",{className:"mt-4 text-xl text-gray-400",children:"Stay ahead of the volatility with real-time economic updates."})]}),t?_.jsx("div",{className:"text-center text-white py-20",children:"Loading Earth-shaking Events..."}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(l=>_.jsx(En,{to:`/news/${l.id}`,className:"block group",children:_.jsx(SS,{title:l.title,image:l.image,content:a(l.content),subtitle:_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{className:"text-gray-500 text-xs",children:l.timestamp?.seconds?new Date(l.timestamp.seconds*1e3).toLocaleDateString():l.timestamp||new Date().toLocaleDateString()})}),badges:[{text:l.impact,color:_6[l.impact]||"bg-gray-800 text-white"},...(l.affectedCurrencies||[]).map(c=>({text:c,color:"bg-surface border border-gray-700 text-white"}))]})},l.id))})]})})},E6=()=>{const{id:n}=zw(),e=xo(),[t,r]=G.useState(null),[a,l]=G.useState(!0);if(G.useEffect(()=>{(async()=>{try{const m=Qn(ct,"news",n),p=await Pu(m);p.exists()?r({id:p.id,...p.data()}):(console.log("No such document!"),e("/news"))}catch(m){console.error("Error fetching news detail:",m)}finally{l(!1)}})()},[n,e]),a)return _.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:"Loading..."});if(!t)return null;const c=t.timestamp?.seconds?new Date(t.timestamp.seconds*1e3).toLocaleDateString():t.timestamp||new Date().toLocaleDateString();return _.jsx("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx(wn,{variant:"ghost",onClick:()=>e("/news"),className:"mb-6 text-gray-400 hover:text-white",children:" Back to News"}),_.jsxs("article",{className:"bg-surface rounded-2xl overflow-hidden border border-gray-800 shadow-2xl",children:[t.image&&_.jsxs("div",{className:"w-full h-64 sm:h-96 relative",children:[_.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface to-transparent"})]}),_.jsxs("div",{className:"p-8 sm:p-12",children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[_.jsx("span",{className:"text-gray-400 text-sm",children:c}),_.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide
                                ${t.impact==="High"?"bg-red-500/20 text-red-400":t.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:[t.impact," Impact"]}),t.affectedCurrencies&&t.affectedCurrencies.map&&t.affectedCurrencies.map(f=>_.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300 border border-gray-700",children:f},f))]}),_.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-8 leading-tight",children:t.title}),_.jsx("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:t.content}})]})]})]})})},T6=()=>{const[n,e]=G.useState(""),[t,r]=G.useState(""),[a,l]=G.useState(""),[c,f]=G.useState(!1),m=xo(),p=async w=>{try{const N=await Pu(Qn(ct,"users",w));N.exists()&&N.data().role==="admin"?m("/admin"):m("/dashboard")}catch(N){console.error("Error checking role:",N),m("/dashboard")}},y=async w=>{w.preventDefault(),l(""),f(!0);try{const N=await RO(Wi,n,t);await p(N.user.uid)}catch(N){console.error(N),l("Failed to login. Please check your credentials.")}finally{f(!1)}},T=async()=>{try{const w=new _s,N=await HA(Wi,w);await p(N.user.uid)}catch(w){console.error(w),l("Failed to sign in with Google")}};return _.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[_.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Sign in to ",_.jsx("span",{className:"text-secondary",children:"Volcano"})]}),_.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",_.jsx(En,{to:"/register",className:"font-medium text-primary hover:text-green-400",children:"start your 14-day free trial"})]})]}),_.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:_.jsxs("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:[_.jsxs("form",{className:"space-y-6",onSubmit:y,children:[a&&_.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:a}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:w=>e(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:w=>r(w.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsx("div",{children:_.jsx(wn,{type:"submit",variant:"primary",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:c,children:c?"Signing in...":"Sign in"})})]}),_.jsxs("div",{className:"mt-6",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center",children:_.jsx("div",{className:"w-full border-t border-gray-700"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),_.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:_.jsx("div",{children:_.jsxs("button",{type:"button",onClick:T,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[_.jsx("span",{className:"sr-only",children:"Sign in with Google"}),_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})})]})},w6=()=>{const[n,e]=G.useState(""),[t,r]=G.useState(""),[a,l]=G.useState(""),[c,f]=G.useState(""),[m,p]=G.useState(!1),y=xo(),T=async N=>{N.preventDefault(),f(""),p(!0);try{const k=(await CO(Wi,t,a)).user;await OO(k,{displayName:n}),await xT(Qn(ct,"users",k.uid),{uid:k.uid,username:n,email:t,role:"user",createdAt:new Date().toISOString(),avatar_url:`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=random`}),y("/dashboard")}catch(C){console.error(C),C.code==="auth/email-already-in-use"?f("Email already in use."):f("Failed to create account. Please try again.")}finally{p(!1)}},w=async()=>{try{const N=new _s,k=(await HA(Wi,N)).user;await xT(Qn(ct,"users",k.uid),{uid:k.uid,username:k.displayName,email:k.email,role:"user",createdAt:new Date().toISOString(),avatar_url:k.photoURL},{merge:!0}),y("/dashboard")}catch(N){console.error(N),f("Failed to sign up with Google")}};return _.jsxs("div",{className:"min-h-screen bg-background flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[_.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Join the ",_.jsx("span",{className:"text-secondary",children:"Eruption"})]}),_.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Already have an account?"," ",_.jsx(En,{to:"/login",className:"font-medium text-primary hover:text-green-400",children:"Sign in"})]})]}),_.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[_.jsx("div",{className:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-800",children:_.jsxs("form",{className:"space-y-6",onSubmit:T,children:[c&&_.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded text-sm text-center",children:c}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:"Full Name"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:n,onChange:N=>e(N.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:N=>r(N.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),_.jsx("div",{className:"mt-1",children:_.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,minLength:6,value:a,onChange:N=>l(N.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-primary focus:border-primary bg-gray-900 text-white sm:text-sm"})})]}),_.jsx("div",{children:_.jsx(wn,{type:"submit",variant:"primary",className:"w-full justify-center",disabled:m,children:m?"Creating Account...":"Sign up"})})]})}),_.jsxs("div",{className:"mt-6",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center",children:_.jsx("div",{className:"w-full border-t border-gray-700"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-surface text-gray-400",children:"Or continue with"})})]}),_.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:_.jsx("div",{children:_.jsxs("button",{type:"button",onClick:w,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-700 rounded-md shadow-sm bg-gray-800 text-sm font-medium text-gray-300 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[_.jsx("span",{className:"sr-only",children:"Sign up with Google"}),_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 0.507 5.387 0 12s5.36 12 12 12c3.627 0 6.627-1.2 8.52-3.387 1.947-2.207 2.48-5.747 2.48-6.173 0-.613-.053-1.12-.133-1.507H12.48z"})})]})})})]})]})]})},A6=[{id:"c1",title:"Forex Foundations: The Bedrock",progress:100,totalLessons:12,completedLessons:12,image:"https://images.unsplash.com/photo-1611974765270-ca1258634369?q=80&w=1000&auto=format&fit=crop"},{id:"c2",title:"Price Action Mastery",progress:45,totalLessons:20,completedLessons:9,image:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?q=80&w=1000&auto=format&fit=crop"},{id:"c3",title:"Institutional Order Flow",progress:0,totalLessons:15,completedLessons:0,image:"https://images.unsplash.com/photo-1642543492481-44e81e3914a7?q=80&w=1000&auto=format&fit=crop"}],x6=()=>{const[n,e]=G.useState(null),[t,r]=G.useState(!0);G.useEffect(()=>{(async()=>{if(Wi.currentUser)try{const c=Qn(ct,"users",Wi.currentUser.uid),f=await Pu(c);f.exists()&&e(f.data())}catch(c){console.error("Error fetching user data:",c)}finally{r(!1)}})()},[]);const a=n?.username||Wi.currentUser?.displayName||"Trader";return _.jsxs("div",{className:"min-h-screen bg-background text-white",children:[_.jsx("div",{className:"bg-surface border-b border-gray-800",children:_.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:_.jsx("img",{src:n?.avatar_url||`https://ui-avatars.com/api/?name=${a}`,alt:"Profile",className:"h-full w-full rounded-full bg-background object-cover"})}),_.jsxs("div",{children:[_.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",_.jsx("span",{className:"text-primary",children:a})]}),_.jsx("p",{className:"mt-1 text-gray-400",children:"Ready to dominate the markets today?"})]})]})})}),_.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-12",children:[_.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:_.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[_.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Total Progress"}),_.jsx("dd",{className:"mt-1 text-3xl font-semibold text-white",children:"48%"})]})}),_.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:_.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[_.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Courses Completed"}),_.jsx("dd",{className:"mt-1 text-3xl font-semibold text-primary",children:"1"})]})}),_.jsx("div",{className:"bg-surface overflow-hidden shadow rounded-lg border border-gray-800",children:_.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[_.jsx("dt",{className:"text-sm font-medium text-gray-400 truncate",children:"Quiz Score Avg"}),_.jsx("dd",{className:"mt-1 text-3xl font-semibold text-secondary",children:"92%"})]})})]}),_.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Courses"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:A6.map(l=>_.jsxs("div",{className:"bg-surface rounded-xl overflow-hidden border border-gray-800 hover:border-gray-600 transition-colors group",children:[_.jsxs("div",{className:"h-48 overflow-hidden relative",children:[_.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),_.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(wn,{variant:"primary",size:"sm",children:"Continue Learning"})})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:l.title}),_.jsxs("div",{className:"mt-4",children:[_.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[_.jsx("span",{children:"Progress"}),_.jsxs("span",{children:[l.progress,"%"]})]}),_.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:_.jsx("div",{className:`h-2 rounded-full ${l.progress===100?"bg-primary":"bg-secondary"}`,style:{width:`${l.progress}%`}})})]}),_.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:[_.jsxs("span",{children:[l.completedLessons,"/",l.totalLessons," Lessons"]}),l.progress===100&&_.jsxs("span",{className:"text-primary flex items-center gap-1",children:[_.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]})]})]})]},l.id))})]})]})},S6=()=>{const[n,e]=G.useState(!1),[t,r]=G.useState(!0),a=xo();return G.useEffect(()=>{const l=u0(Wi,async c=>{if(c)try{const f=await Pu(Qn(ct,"users",c.uid));f.exists()&&f.data().role==="admin"?e(!0):a("/dashboard")}catch(f){console.error("Admin check failed",f),a("/dashboard")}else a("/login");r(!1)});return()=>l()},[a]),t?_.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center text-white",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-bold mb-2",children:"Verifying Clearance..."}),_.jsx("div",{className:"text-gray-400",children:"Please wait."})]})}):n?_.jsxs("div",{className:"min-h-screen bg-background flex",children:[_.jsxs("aside",{className:"w-64 bg-surface border-r border-gray-800 flex-shrink-0 hidden md:flex flex-col",children:[_.jsx("div",{className:"p-6 border-b border-gray-800",children:_.jsxs("span",{className:"text-xl font-bold text-white tracking-wider",children:["VOLCANO ",_.jsx("span",{className:"text-secondary text-base",children:"ADMIN"})]})}),_.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[_.jsx(Gf,{to:"/admin",end:!0,children:"Dashboard"}),_.jsx(Gf,{to:"/admin/news",children:"Manage News"}),_.jsx(Gf,{to:"/admin/analysis",children:"Manage Analysis"}),_.jsx(Gf,{to:"/admin/courses",children:"Manage Courses"})]}),_.jsxs("div",{className:"p-4 border-t border-gray-800",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"A"}),_.jsxs("div",{className:"text-sm",children:[_.jsx("div",{className:"text-white font-medium",children:"Administrator"}),_.jsx("div",{className:"text-gray-500 text-xs",children:"Super User"})]})]}),_.jsx(wn,{variant:"outline",size:"sm",className:"w-full",onClick:()=>a("/"),children:"Exit to Site"})]})]}),_.jsxs("div",{className:"md:hidden absolute top-0 left-0 right-0 h-16 bg-surface border-b border-gray-800 flex items-center px-4 justify-between z-20",children:[_.jsx("span",{className:"font-bold text-white",children:"Admin Panel"}),_.jsx(wn,{size:"sm",onClick:()=>a("/"),children:"Exit"})]}),_.jsx("main",{className:"flex-1 overflow-auto p-8 pt-24 md:pt-8",children:_.jsx(hR,{})})]}):null},Gf=({to:n,children:e,end:t=!1})=>_.jsx(Yw,{to:n,end:t,className:({isActive:r})=>`block px-4 py-3 rounded-lg text-sm font-medium transition-colors ${r?"bg-primary/10 text-primary border border-primary/20":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:e}),N6=()=>{const[n,e]=G.useState({users:0,courses:0,analysis:0,news:0}),[t,r]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{const l=await Ff(In(ct,"users")),c=await Ff(In(ct,"courses")),f=await Ff(In(ct,"analysis")),m=await Ff(In(ct,"news"));e({users:l.data().count,courses:c.data().count,analysis:f.data().count,news:m.data().count})}catch(l){console.error("Error fetching stats:",l)}finally{r(!1)}})()},[]),_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"System Overview"}),_.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[_.jsx($f,{title:"Total Users",value:t?"...":n.users,change:"Registered",color:"primary"}),_.jsx($f,{title:"Active Courses",value:t?"...":n.courses,change:"Live",color:"white"}),_.jsx($f,{title:"Analysis Posts",value:t?"...":n.analysis,change:"Market Updates",color:"secondary"}),_.jsx($f,{title:"News Alerts",value:t?"...":n.news,change:"Published",color:"accent"})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),_.jsxs("div",{className:"space-y-3",children:[_.jsx(jg,{label:"Post New Analysis",to:"/admin/analysis"}),_.jsx(jg,{label:"Broadcast News Alert",to:"/admin/news"}),_.jsx(jg,{label:"Review New User Signups",to:"#"})]})]}),_.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 p-6",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"System Status"}),_.jsxs("div",{className:"space-y-4",children:[_.jsx(Pg,{label:"Database Connection",status:"Healthy"}),_.jsx(Pg,{label:"Auth Service",status:"Healthy"}),_.jsx(Pg,{label:"API Latency",status:"24ms"})]})]})]})]})},$f=({title:n,value:e,change:t,color:r})=>{const a={primary:"text-primary",secondary:"text-secondary",accent:"text-accent",white:"text-white"};return _.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-gray-800",children:[_.jsx("p",{className:"text-sm font-medium text-gray-400",children:n}),_.jsxs("div",{className:"mt-2 flex items-baseline",children:[_.jsx("p",{className:`text-3xl font-semibold ${a[r]||"text-white"}`,children:e}),_.jsx("p",{className:"ml-2 text-sm text-gray-500",children:t})]})]})},jg=({label:n,to:e})=>_.jsxs(En,{to:e,className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-gray-800 cursor-pointer transition-colors",children:[_.jsx("span",{className:"text-gray-300",children:n}),_.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),Pg=({label:n,status:e})=>_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-gray-400",children:n}),_.jsxs("span",{className:"flex items-center text-primary text-sm font-medium",children:[_.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mr-2"}),e]})]});var NS=typeof global=="object"&&global&&global.Object===Object&&global,C6=typeof self=="object"&&self&&self.Object===Object&&self,Is=NS||C6||Function("return this")(),wo=Is.Symbol,CS=Object.prototype,R6=CS.hasOwnProperty,I6=CS.toString,xc=wo?wo.toStringTag:void 0;function O6(n){var e=R6.call(n,xc),t=n[xc];try{n[xc]=void 0;var r=!0}catch{}var a=I6.call(n);return r&&(e?n[xc]=t:delete n[xc]),a}var D6=Object.prototype,L6=D6.toString;function M6(n){return L6.call(n)}var k6="[object Null]",j6="[object Undefined]",IT=wo?wo.toStringTag:void 0;function Vu(n){return n==null?n===void 0?j6:k6:IT&&IT in Object(n)?O6(n):M6(n)}function _a(n){return n!=null&&typeof n=="object"}var ol=Array.isArray;function Oo(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function RS(n){return n}var P6="[object AsyncFunction]",V6="[object Function]",U6="[object GeneratorFunction]",q6="[object Proxy]";function Y0(n){if(!Oo(n))return!1;var e=Vu(n);return e==V6||e==U6||e==P6||e==q6}var Vg=Is["__core-js_shared__"],OT=(function(){var n=/[^.]+$/.exec(Vg&&Vg.keys&&Vg.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function B6(n){return!!OT&&OT in n}var z6=Function.prototype,H6=z6.toString;function yl(n){if(n!=null){try{return H6.call(n)}catch{}try{return n+""}catch{}}return""}var F6=/[\\^$.*+?()[\]{}|]/g,G6=/^\[object .+?Constructor\]$/,$6=Function.prototype,K6=Object.prototype,Q6=$6.toString,Y6=K6.hasOwnProperty,X6=RegExp("^"+Q6.call(Y6).replace(F6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W6(n){if(!Oo(n)||B6(n))return!1;var e=Y0(n)?X6:G6;return e.test(yl(n))}function Z6(n,e){return n?.[e]}function vl(n,e){var t=Z6(n,e);return W6(t)?t:void 0}var Ny=vl(Is,"WeakMap"),DT=Object.create,J6=(function(){function n(){}return function(e){if(!Oo(e))return{};if(DT)return DT(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function eM(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function tM(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var nM=800,rM=16,iM=Date.now;function sM(n){var e=0,t=0;return function(){var r=iM(),a=rM-(r-t);if(t=r,a>0){if(++e>=nM)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function aM(n){return function(){return n}}var kd=(function(){try{var n=vl(Object,"defineProperty");return n({},"",{}),n}catch{}})(),oM=kd?function(n,e){return kd(n,"toString",{configurable:!0,enumerable:!1,value:aM(e),writable:!0})}:RS,lM=sM(oM);function uM(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var cM=9007199254740991,hM=/^(?:0|[1-9]\d*)$/;function IS(n,e){var t=typeof n;return e=e??cM,!!e&&(t=="number"||t!="symbol"&&hM.test(n))&&n>-1&&n%1==0&&n<e}function X0(n,e,t){e=="__proto__"&&kd?kd(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Eh(n,e){return n===e||n!==n&&e!==e}var fM=Object.prototype,dM=fM.hasOwnProperty;function OS(n,e,t){var r=n[e];(!(dM.call(n,e)&&Eh(r,t))||t===void 0&&!(e in n))&&X0(n,e,t)}function mM(n,e,t,r){var a=!t;t||(t={});for(var l=-1,c=e.length;++l<c;){var f=e[l],m=void 0;m===void 0&&(m=n[f]),a?X0(t,f,m):OS(t,f,m)}return t}var LT=Math.max;function pM(n,e,t){return e=LT(e===void 0?n.length-1:e,0),function(){for(var r=arguments,a=-1,l=LT(r.length-e,0),c=Array(l);++a<l;)c[a]=r[e+a];a=-1;for(var f=Array(e+1);++a<e;)f[a]=r[a];return f[e]=t(c),eM(n,this,f)}}function gM(n,e){return lM(pM(n,e,RS),n+"")}var yM=9007199254740991;function DS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=yM}function pm(n){return n!=null&&DS(n.length)&&!Y0(n)}function vM(n,e,t){if(!Oo(t))return!1;var r=typeof e;return(r=="number"?pm(t)&&IS(e,t.length):r=="string"&&e in t)?Eh(t[e],n):!1}function _M(n){return gM(function(e,t){var r=-1,a=t.length,l=a>1?t[a-1]:void 0,c=a>2?t[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,c&&vM(t[0],t[1],c)&&(l=a<3?void 0:l,a=1),e=Object(e);++r<a;){var f=t[r];f&&n(e,f,r,l)}return e})}var bM=Object.prototype;function W0(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||bM;return n===t}function EM(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var TM="[object Arguments]";function MT(n){return _a(n)&&Vu(n)==TM}var LS=Object.prototype,wM=LS.hasOwnProperty,AM=LS.propertyIsEnumerable,Cy=MT((function(){return arguments})())?MT:function(n){return _a(n)&&wM.call(n,"callee")&&!AM.call(n,"callee")};function xM(){return!1}var MS=typeof ti=="object"&&ti&&!ti.nodeType&&ti,kT=MS&&typeof ni=="object"&&ni&&!ni.nodeType&&ni,SM=kT&&kT.exports===MS,jT=SM?Is.Buffer:void 0,NM=jT?jT.isBuffer:void 0,th=NM||xM,CM="[object Arguments]",RM="[object Array]",IM="[object Boolean]",OM="[object Date]",DM="[object Error]",LM="[object Function]",MM="[object Map]",kM="[object Number]",jM="[object Object]",PM="[object RegExp]",VM="[object Set]",UM="[object String]",qM="[object WeakMap]",BM="[object ArrayBuffer]",zM="[object DataView]",HM="[object Float32Array]",FM="[object Float64Array]",GM="[object Int8Array]",$M="[object Int16Array]",KM="[object Int32Array]",QM="[object Uint8Array]",YM="[object Uint8ClampedArray]",XM="[object Uint16Array]",WM="[object Uint32Array]",jt={};jt[HM]=jt[FM]=jt[GM]=jt[$M]=jt[KM]=jt[QM]=jt[YM]=jt[XM]=jt[WM]=!0;jt[CM]=jt[RM]=jt[BM]=jt[IM]=jt[zM]=jt[OM]=jt[DM]=jt[LM]=jt[MM]=jt[kM]=jt[jM]=jt[PM]=jt[VM]=jt[UM]=jt[qM]=!1;function ZM(n){return _a(n)&&DS(n.length)&&!!jt[Vu(n)]}function Z0(n){return function(e){return n(e)}}var kS=typeof ti=="object"&&ti&&!ti.nodeType&&ti,zc=kS&&typeof ni=="object"&&ni&&!ni.nodeType&&ni,JM=zc&&zc.exports===kS,Ug=JM&&NS.process,xu=(function(){try{var n=zc&&zc.require&&zc.require("util").types;return n||Ug&&Ug.binding&&Ug.binding("util")}catch{}})(),PT=xu&&xu.isTypedArray,J0=PT?Z0(PT):ZM,ek=Object.prototype,tk=ek.hasOwnProperty;function jS(n,e){var t=ol(n),r=!t&&Cy(n),a=!t&&!r&&th(n),l=!t&&!r&&!a&&J0(n),c=t||r||a||l,f=c?EM(n.length,String):[],m=f.length;for(var p in n)(e||tk.call(n,p))&&!(c&&(p=="length"||a&&(p=="offset"||p=="parent")||l&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||IS(p,m)))&&f.push(p);return f}function PS(n,e){return function(t){return n(e(t))}}var nk=PS(Object.keys,Object),rk=Object.prototype,ik=rk.hasOwnProperty;function sk(n){if(!W0(n))return nk(n);var e=[];for(var t in Object(n))ik.call(n,t)&&t!="constructor"&&e.push(t);return e}function ak(n){return pm(n)?jS(n):sk(n)}function ok(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var lk=Object.prototype,uk=lk.hasOwnProperty;function ck(n){if(!Oo(n))return ok(n);var e=W0(n),t=[];for(var r in n)r=="constructor"&&(e||!uk.call(n,r))||t.push(r);return t}function VS(n){return pm(n)?jS(n,!0):ck(n)}var nh=vl(Object,"create");function hk(){this.__data__=nh?nh(null):{},this.size=0}function fk(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var dk="__lodash_hash_undefined__",mk=Object.prototype,pk=mk.hasOwnProperty;function gk(n){var e=this.__data__;if(nh){var t=e[n];return t===dk?void 0:t}return pk.call(e,n)?e[n]:void 0}var yk=Object.prototype,vk=yk.hasOwnProperty;function _k(n){var e=this.__data__;return nh?e[n]!==void 0:vk.call(e,n)}var bk="__lodash_hash_undefined__";function Ek(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=nh&&e===void 0?bk:e,this}function ll(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ll.prototype.clear=hk;ll.prototype.delete=fk;ll.prototype.get=gk;ll.prototype.has=_k;ll.prototype.set=Ek;function Tk(){this.__data__=[],this.size=0}function gm(n,e){for(var t=n.length;t--;)if(Eh(n[t][0],e))return t;return-1}var wk=Array.prototype,Ak=wk.splice;function xk(n){var e=this.__data__,t=gm(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Ak.call(e,t,1),--this.size,!0}function Sk(n){var e=this.__data__,t=gm(e,n);return t<0?void 0:e[t][1]}function Nk(n){return gm(this.__data__,n)>-1}function Ck(n,e){var t=this.__data__,r=gm(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function wa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}wa.prototype.clear=Tk;wa.prototype.delete=xk;wa.prototype.get=Sk;wa.prototype.has=Nk;wa.prototype.set=Ck;var rh=vl(Is,"Map");function Rk(){this.size=0,this.__data__={hash:new ll,map:new(rh||wa),string:new ll}}function Ik(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function ym(n,e){var t=n.__data__;return Ik(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Ok(n){var e=ym(this,n).delete(n);return this.size-=e?1:0,e}function Dk(n){return ym(this,n).get(n)}function Lk(n){return ym(this,n).has(n)}function Mk(n,e){var t=ym(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function _l(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_l.prototype.clear=Rk;_l.prototype.delete=Ok;_l.prototype.get=Dk;_l.prototype.has=Lk;_l.prototype.set=Mk;function kk(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}var US=PS(Object.getPrototypeOf,Object),jk="[object Object]",Pk=Function.prototype,Vk=Object.prototype,qS=Pk.toString,Uk=Vk.hasOwnProperty,qk=qS.call(Object);function Bk(n){if(!_a(n)||Vu(n)!=jk)return!1;var e=US(n);if(e===null)return!0;var t=Uk.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&qS.call(t)==qk}function zk(){this.__data__=new wa,this.size=0}function Hk(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Fk(n){return this.__data__.get(n)}function Gk(n){return this.__data__.has(n)}var $k=200;function Kk(n,e){var t=this.__data__;if(t instanceof wa){var r=t.__data__;if(!rh||r.length<$k-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new _l(r)}return t.set(n,e),this.size=t.size,this}function Ss(n){var e=this.__data__=new wa(n);this.size=e.size}Ss.prototype.clear=zk;Ss.prototype.delete=Hk;Ss.prototype.get=Fk;Ss.prototype.has=Gk;Ss.prototype.set=Kk;var BS=typeof ti=="object"&&ti&&!ti.nodeType&&ti,VT=BS&&typeof ni=="object"&&ni&&!ni.nodeType&&ni,Qk=VT&&VT.exports===BS,UT=Qk?Is.Buffer:void 0,qT=UT?UT.allocUnsafe:void 0;function zS(n,e){if(e)return n.slice();var t=n.length,r=qT?qT(t):new n.constructor(t);return n.copy(r),r}function Yk(n,e){for(var t=-1,r=n==null?0:n.length,a=0,l=[];++t<r;){var c=n[t];e(c,t,n)&&(l[a++]=c)}return l}function Xk(){return[]}var Wk=Object.prototype,Zk=Wk.propertyIsEnumerable,BT=Object.getOwnPropertySymbols,Jk=BT?function(n){return n==null?[]:(n=Object(n),Yk(BT(n),function(e){return Zk.call(n,e)}))}:Xk;function e9(n,e,t){var r=e(n);return ol(n)?r:kk(r,t(n))}function Ry(n){return e9(n,ak,Jk)}var Iy=vl(Is,"DataView"),Oy=vl(Is,"Promise"),Dy=vl(Is,"Set"),zT="[object Map]",t9="[object Object]",HT="[object Promise]",FT="[object Set]",GT="[object WeakMap]",$T="[object DataView]",n9=yl(Iy),r9=yl(rh),i9=yl(Oy),s9=yl(Dy),a9=yl(Ny),$i=Vu;(Iy&&$i(new Iy(new ArrayBuffer(1)))!=$T||rh&&$i(new rh)!=zT||Oy&&$i(Oy.resolve())!=HT||Dy&&$i(new Dy)!=FT||Ny&&$i(new Ny)!=GT)&&($i=function(n){var e=Vu(n),t=e==t9?n.constructor:void 0,r=t?yl(t):"";if(r)switch(r){case n9:return $T;case r9:return zT;case i9:return HT;case s9:return FT;case a9:return GT}return e});var o9=Object.prototype,l9=o9.hasOwnProperty;function u9(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&l9.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var jd=Is.Uint8Array;function ev(n){var e=new n.constructor(n.byteLength);return new jd(e).set(new jd(n)),e}function c9(n,e){var t=ev(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var h9=/\w*$/;function f9(n){var e=new n.constructor(n.source,h9.exec(n));return e.lastIndex=n.lastIndex,e}var KT=wo?wo.prototype:void 0,QT=KT?KT.valueOf:void 0;function d9(n){return QT?Object(QT.call(n)):{}}function HS(n,e){var t=e?ev(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var m9="[object Boolean]",p9="[object Date]",g9="[object Map]",y9="[object Number]",v9="[object RegExp]",_9="[object Set]",b9="[object String]",E9="[object Symbol]",T9="[object ArrayBuffer]",w9="[object DataView]",A9="[object Float32Array]",x9="[object Float64Array]",S9="[object Int8Array]",N9="[object Int16Array]",C9="[object Int32Array]",R9="[object Uint8Array]",I9="[object Uint8ClampedArray]",O9="[object Uint16Array]",D9="[object Uint32Array]";function L9(n,e,t){var r=n.constructor;switch(e){case T9:return ev(n);case m9:case p9:return new r(+n);case w9:return c9(n);case A9:case x9:case S9:case N9:case C9:case R9:case I9:case O9:case D9:return HS(n,t);case g9:return new r;case y9:case b9:return new r(n);case v9:return f9(n);case _9:return new r;case E9:return d9(n)}}function FS(n){return typeof n.constructor=="function"&&!W0(n)?J6(US(n)):{}}var M9="[object Map]";function k9(n){return _a(n)&&$i(n)==M9}var YT=xu&&xu.isMap,j9=YT?Z0(YT):k9,P9="[object Set]";function V9(n){return _a(n)&&$i(n)==P9}var XT=xu&&xu.isSet,U9=XT?Z0(XT):V9,q9=1,GS="[object Arguments]",B9="[object Array]",z9="[object Boolean]",H9="[object Date]",F9="[object Error]",$S="[object Function]",G9="[object GeneratorFunction]",$9="[object Map]",K9="[object Number]",KS="[object Object]",Q9="[object RegExp]",Y9="[object Set]",X9="[object String]",W9="[object Symbol]",Z9="[object WeakMap]",J9="[object ArrayBuffer]",ej="[object DataView]",tj="[object Float32Array]",nj="[object Float64Array]",rj="[object Int8Array]",ij="[object Int16Array]",sj="[object Int32Array]",aj="[object Uint8Array]",oj="[object Uint8ClampedArray]",lj="[object Uint16Array]",uj="[object Uint32Array]",Rt={};Rt[GS]=Rt[B9]=Rt[J9]=Rt[ej]=Rt[z9]=Rt[H9]=Rt[tj]=Rt[nj]=Rt[rj]=Rt[ij]=Rt[sj]=Rt[$9]=Rt[K9]=Rt[KS]=Rt[Q9]=Rt[Y9]=Rt[X9]=Rt[W9]=Rt[aj]=Rt[oj]=Rt[lj]=Rt[uj]=!0;Rt[F9]=Rt[$S]=Rt[Z9]=!1;function pd(n,e,t,r,a,l){var c,f=e&q9;if(c!==void 0)return c;if(!Oo(n))return n;var m=ol(n);if(m)c=u9(n);else{var p=$i(n),y=p==$S||p==G9;if(th(n))return zS(n,f);if(p==KS||p==GS||y&&!a)c=y?{}:FS(n);else{if(!Rt[p])return a?n:{};c=L9(n,p,f)}}l||(l=new Ss);var T=l.get(n);if(T)return T;l.set(n,c),U9(n)?n.forEach(function(C){c.add(pd(C,e,t,C,n,l))}):j9(n)&&n.forEach(function(C,k){c.set(k,pd(C,e,t,k,n,l))});var w=Ry,N=m?void 0:w(n);return uM(N||n,function(C,k){N&&(k=C,C=n[k]),OS(c,k,pd(C,e,t,k,n,l))}),c}var cj=1,hj=4;function du(n){return pd(n,cj|hj)}var fj="__lodash_hash_undefined__";function dj(n){return this.__data__.set(n,fj),this}function mj(n){return this.__data__.has(n)}function Pd(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new _l;++e<t;)this.add(n[e])}Pd.prototype.add=Pd.prototype.push=dj;Pd.prototype.has=mj;function pj(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function gj(n,e){return n.has(e)}var yj=1,vj=2;function QS(n,e,t,r,a,l){var c=t&yj,f=n.length,m=e.length;if(f!=m&&!(c&&m>f))return!1;var p=l.get(n),y=l.get(e);if(p&&y)return p==e&&y==n;var T=-1,w=!0,N=t&vj?new Pd:void 0;for(l.set(n,e),l.set(e,n);++T<f;){var C=n[T],k=e[T];if(r)var O=c?r(k,C,T,e,n,l):r(C,k,T,n,e,l);if(O!==void 0){if(O)continue;w=!1;break}if(N){if(!pj(e,function(z,K){if(!gj(N,K)&&(C===z||a(C,z,t,r,l)))return N.push(K)})){w=!1;break}}else if(!(C===k||a(C,k,t,r,l))){w=!1;break}}return l.delete(n),l.delete(e),w}function _j(n){var e=-1,t=Array(n.size);return n.forEach(function(r,a){t[++e]=[a,r]}),t}function bj(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Ej=1,Tj=2,wj="[object Boolean]",Aj="[object Date]",xj="[object Error]",Sj="[object Map]",Nj="[object Number]",Cj="[object RegExp]",Rj="[object Set]",Ij="[object String]",Oj="[object Symbol]",Dj="[object ArrayBuffer]",Lj="[object DataView]",WT=wo?wo.prototype:void 0,qg=WT?WT.valueOf:void 0;function Mj(n,e,t,r,a,l,c){switch(t){case Lj:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Dj:return!(n.byteLength!=e.byteLength||!l(new jd(n),new jd(e)));case wj:case Aj:case Nj:return Eh(+n,+e);case xj:return n.name==e.name&&n.message==e.message;case Cj:case Ij:return n==e+"";case Sj:var f=_j;case Rj:var m=r&Ej;if(f||(f=bj),n.size!=e.size&&!m)return!1;var p=c.get(n);if(p)return p==e;r|=Tj,c.set(n,e);var y=QS(f(n),f(e),r,a,l,c);return c.delete(n),y;case Oj:if(qg)return qg.call(n)==qg.call(e)}return!1}var kj=1,jj=Object.prototype,Pj=jj.hasOwnProperty;function Vj(n,e,t,r,a,l){var c=t&kj,f=Ry(n),m=f.length,p=Ry(e),y=p.length;if(m!=y&&!c)return!1;for(var T=m;T--;){var w=f[T];if(!(c?w in e:Pj.call(e,w)))return!1}var N=l.get(n),C=l.get(e);if(N&&C)return N==e&&C==n;var k=!0;l.set(n,e),l.set(e,n);for(var O=c;++T<m;){w=f[T];var z=n[w],K=e[w];if(r)var ne=c?r(K,z,w,e,n,l):r(z,K,w,n,e,l);if(!(ne===void 0?z===K||a(z,K,t,r,l):ne)){k=!1;break}O||(O=w=="constructor")}if(k&&!O){var _e=n.constructor,ve=e.constructor;_e!=ve&&"constructor"in n&&"constructor"in e&&!(typeof _e=="function"&&_e instanceof _e&&typeof ve=="function"&&ve instanceof ve)&&(k=!1)}return l.delete(n),l.delete(e),k}var Uj=1,ZT="[object Arguments]",JT="[object Array]",Kf="[object Object]",qj=Object.prototype,ew=qj.hasOwnProperty;function Bj(n,e,t,r,a,l){var c=ol(n),f=ol(e),m=c?JT:$i(n),p=f?JT:$i(e);m=m==ZT?Kf:m,p=p==ZT?Kf:p;var y=m==Kf,T=p==Kf,w=m==p;if(w&&th(n)){if(!th(e))return!1;c=!0,y=!1}if(w&&!y)return l||(l=new Ss),c||J0(n)?QS(n,e,t,r,a,l):Mj(n,e,m,t,r,a,l);if(!(t&Uj)){var N=y&&ew.call(n,"__wrapped__"),C=T&&ew.call(e,"__wrapped__");if(N||C){var k=N?n.value():n,O=C?e.value():e;return l||(l=new Ss),a(k,O,t,r,l)}}return w?(l||(l=new Ss),Vj(n,e,t,r,a,l)):!1}function YS(n,e,t,r,a){return n===e?!0:n==null||e==null||!_a(n)&&!_a(e)?n!==n&&e!==e:Bj(n,e,t,r,YS,a)}function zj(n){return function(e,t,r){for(var a=-1,l=Object(e),c=r(e),f=c.length;f--;){var m=c[++a];if(t(l[m],m,l)===!1)break}return e}}var Hj=zj();function Ly(n,e,t){(t!==void 0&&!Eh(n[e],t)||t===void 0&&!(e in n))&&X0(n,e,t)}function Fj(n){return _a(n)&&pm(n)}function My(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function Gj(n){return mM(n,VS(n))}function $j(n,e,t,r,a,l,c){var f=My(n,t),m=My(e,t),p=c.get(m);if(p){Ly(n,t,p);return}var y=l?l(f,m,t+"",n,e,c):void 0,T=y===void 0;if(T){var w=ol(m),N=!w&&th(m),C=!w&&!N&&J0(m);y=m,w||N||C?ol(f)?y=f:Fj(f)?y=tM(f):N?(T=!1,y=zS(m,!0)):C?(T=!1,y=HS(m,!0)):y=[]:Bk(m)||Cy(m)?(y=f,Cy(f)?y=Gj(f):(!Oo(f)||Y0(f))&&(y=FS(m))):T=!1}T&&(c.set(m,y),a(y,m,r,l,c),c.delete(m)),Ly(n,t,y)}function XS(n,e,t,r,a){n!==e&&Hj(e,function(l,c){if(a||(a=new Ss),Oo(l))$j(n,e,c,t,XS,r,a);else{var f=r?r(My(n,c),l,c+"",n,e,a):void 0;f===void 0&&(f=l),Ly(n,c,f)}},VS)}function so(n,e){return YS(n,e)}var po=_M(function(n,e,t){XS(n,e,t)}),Oe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Oe||{});class Rs{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const a=Oe.TYPE&Oe.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Oe.LEVEL|a:Oe.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class mu extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const WS=class ky{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const a=this.query(t);if(a==null)throw new mu(`Unable to create ${t} blot`);const l=a,c=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:l.create(r),f=new l(e,c,r);return ky.blots.set(f.domNode,f),f}find(e,t=!1){return ky.find(e,t)}query(e,t=Oe.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Oe.LEVEL&Oe.BLOCK?r=this.types.block:e&Oe.LEVEL&Oe.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(r=this.classes[a],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Oe.LEVEL&r.scope&&t&Oe.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,a="attrName"in t;if(!r&&!a)throw new mu("Invalid definition");if(r&&t.blotName==="abstract")throw new mu("Cannot register abstract class");const l=r?t.blotName:a?t.attrName:void 0;return this.types[l]=t,a?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(c=>c.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(c=>{(this.tags[c]==null||t.className==null)&&(this.tags[c]=t)}))),t})}};WS.blots=new WeakMap;let Su=WS;function tw(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class Kj extends Rs{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){tw(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(tw(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ts=Kj;function Bg(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class Qj extends Rs{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Bg(this.keyName)]=t,!0):!1}remove(e){e.style[Bg(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Bg(this.keyName)];return this.canAdd(e,t)?t:""}}const Do=Qj;class Yj{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Su.find(this.domNode);if(e==null)return;const t=Rs.keys(this.domNode),r=ts.keys(this.domNode),a=Do.keys(this.domNode);t.concat(r).concat(a).forEach(l=>{const c=e.scroll.query(l,Oe.ATTRIBUTE);c instanceof Rs&&(this.attributes[c.attrName]=c)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const vm=Yj,ZS=class{constructor(e,t){this.scroll=e,this.domNode=t,Su.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new mu("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Su.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,a){const l=this.isolate(e,t);if(this.scroll.query(r,Oe.BLOT)!=null&&a)l.wrap(r,a);else if(this.scroll.query(r,Oe.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);l.wrap(c),c.format(r,a)}}insertAt(e,t,r){const a=r==null?this.scroll.create("text",t):this.scroll.create(t,r),l=this.split(e);this.parent.insertBefore(a,l||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new mu(`Cannot wrap ${e}`);return r.appendChild(this),r}};ZS.blotName="abstract";let JS=ZS;const eN=class extends JS{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};eN.scope=Oe.INLINE_BLOT;let Xj=eN;const ar=Xj;class Wj{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),a=0;for(;r;){if(r===e)return a;a+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let a=r();for(;a;){const l=a.length();if(e<l||t&&e===l&&(a.next==null||a.next.length()!==0))return[a,e];e-=l,a=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[a,l]=this.find(e);let c=e-l;const f=this.iterator(a);let m=f();for(;m&&c<e+t;){const p=m.length();e>c?r(m,e-c,Math.min(t,c+p-e)):r(m,0,Math.min(p,e+t-c)),c+=p,m=f()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let a=r();for(;a;)t=e(t,a),a=r();return t}}function nw(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Oe.INLINE);return Array.from(n.childNodes).forEach(a=>{r.domNode.appendChild(a)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const tN=class eo extends JS{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,eo.uiClass&&this.uiNode.classList.add(eo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Wj,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=nw(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof mu)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,a,l)=>{r.deleteAt(a,l)})}descendant(e,t=0){const[r,a]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,a]:r instanceof eo?r.descendant(e,a):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let a=[],l=r;return this.children.forEachAt(t,r,(c,f,m)=>{(e.blotName==null&&e(c)||e.blotName!=null&&c instanceof e)&&a.push(c),c instanceof eo&&(a=a.concat(c.descendants(e,f,l))),l-=m}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Oe.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof eo?t.unwrap():t.remove())})}formatAt(e,t,r,a){this.children.forEachAt(e,t,(l,c,f)=>{l.formatAt(c,f,r,a)})}insertAt(e,t,r){const[a,l]=this.children.find(e);if(a)a.insertAt(l,t,r);else{const c=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(c)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,a]=this.children.find(e,t),l=[[this,e]];return r instanceof eo?l.concat(r.path(a,t)):(r!=null&&l.push([r,a]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof eo&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(a,l,c)=>{const f=a.split(l,t);f!=null&&r.appendChild(f)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],a=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(r.push(...l.addedNodes),a.push(...l.removedNodes))}),a.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(l);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),r.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,c)=>l===c?0:l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let c=null;l.nextSibling!=null&&(c=this.scroll.find(l.nextSibling));const f=nw(l,this.scroll);(f.next!==c||f.next==null)&&(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,c||void 0))}),this.enforceAllowedChildren()}};tN.uiClass="";let Zj=tN;const Zi=Zj;function Jj(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const ru=class iu extends Zi{static create(e){return super.create(e)}static formats(e,t){const r=t.query(iu.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new vm(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof iu||(r=r.wrap(iu.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Oe.INLINE);if(r==null)return;r instanceof Rs?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.formats()[r]!=null||this.scroll.query(r,Oe.ATTRIBUTE)?this.isolate(e,t).format(r,a):super.formatAt(e,t,r,a)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof iu&&r.prev===this&&Jj(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof iu&&this.attributes.move(r),r}};ru.allowedChildren=[ru,ar],ru.blotName="inline",ru.scope=Oe.INLINE_BLOT,ru.tagName="SPAN";let e8=ru;const tv=e8,su=class jy extends Zi{static create(e){return super.create(e)}static formats(e,t){const r=t.query(jy.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new vm(this.domNode)}format(e,t){const r=this.scroll.query(e,Oe.BLOCK);r!=null&&(r instanceof Rs?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(jy.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,a){this.scroll.query(r,Oe.BLOCK)!=null?this.format(r,a):super.formatAt(e,t,r,a)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Oe.INLINE)!=null)super.insertAt(e,t,r);else{const a=this.split(e);if(a!=null){const l=this.scroll.create(t,r);a.parent.insertBefore(l,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};su.blotName="block",su.scope=Oe.BLOCK_BLOT,su.tagName="P",su.allowedChildren=[tv,su,ar];let t8=su;const ih=t8,Py=class extends Zi{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Py.blotName="container",Py.scope=Oe.BLOCK_BLOT;let n8=Py;const _m=n8;class r8 extends ar{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,a){e===0&&t===this.length()?this.format(r,a):super.formatAt(e,t,r,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ii=r8,i8={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s8=100,au=class extends Zi{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,i8),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Oe.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,a){this.update(),super.formatAt(e,t,r,a)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const l=(m,p=!0)=>{m==null||m===this||m.domNode.parentNode!=null&&(r.has(m.domNode)||r.set(m.domNode,[]),p&&l(m.parent))},c=m=>{r.has(m.domNode)&&(m instanceof Zi&&m.children.forEach(c),r.delete(m.domNode),m.optimize(t))};let f=e;for(let m=0;f.length>0;m+=1){if(m>=s8)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(p=>{const y=this.find(p.target,!0);y!=null&&(y.domNode===p.target&&(p.type==="childList"?(l(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(T=>{const w=this.find(T,!1);l(w,!1),w instanceof Zi&&w.children.forEach(N=>{l(N,!1)})})):p.type==="attributes"&&l(y.prev)),l(y))}),this.children.forEach(c),f=Array.from(this.observer.takeRecords()),a=f.slice();a.length>0;)e.push(a.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(a=>{const l=this.find(a.target,!0);return l==null?null:r.has(l.domNode)?(r.get(l.domNode).push(a),null):(r.set(l.domNode,[a]),l)}).forEach(a=>{a!=null&&a!==this&&r.has(a.domNode)&&a.update(r.get(a.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};au.blotName="scroll",au.defaultChild=ih,au.allowedChildren=[ih,_m],au.scope=Oe.BLOCK_BLOT,au.tagName="DIV";let a8=au;const nv=a8,Vy=class nN extends ar{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof nN&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Vy.blotName="text",Vy.scope=Oe.INLINE_BLOT;let o8=Vy;const Vd=o8,l8=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Rs,AttributorStore:vm,BlockBlot:ih,ClassAttributor:ts,ContainerBlot:_m,EmbedBlot:ii,InlineBlot:tv,LeafBlot:ar,ParentBlot:Zi,Registry:Su,Scope:Oe,ScrollBlot:nv,StyleAttributor:Do,TextBlot:Vd},Symbol.toStringTag,{value:"Module"}));var Qf={exports:{}},zg,rw;function u8(){if(rw)return zg;rw=1;var n=-1,e=1,t=0;function r(x,L,S,me,de){if(x===L)return x?[[t,x]]:[];if(S!=null){var B=P(x,L,S);if(B)return B}var Z=f(x,L),le=x.substring(0,Z);x=x.substring(Z),L=L.substring(Z),Z=p(x,L);var ye=x.substring(x.length-Z);x=x.substring(0,x.length-Z),L=L.substring(0,L.length-Z);var ge=a(x,L);return le&&ge.unshift([t,le]),ye&&ge.push([t,ye]),K(ge,de),me&&T(ge),ge}function a(x,L){var S;if(!x)return[[e,L]];if(!L)return[[n,x]];var me=x.length>L.length?x:L,de=x.length>L.length?L:x,B=me.indexOf(de);if(B!==-1)return S=[[e,me.substring(0,B)],[t,de],[e,me.substring(B+de.length)]],x.length>L.length&&(S[0][0]=S[2][0]=n),S;if(de.length===1)return[[n,x],[e,L]];var Z=y(x,L);if(Z){var le=Z[0],ye=Z[1],ge=Z[2],V=Z[3],Y=Z[4],ce=r(le,ge),fe=r(ye,V);return ce.concat([[t,Y]],fe)}return l(x,L)}function l(x,L){for(var S=x.length,me=L.length,de=Math.ceil((S+me)/2),B=de,Z=2*de,le=new Array(Z),ye=new Array(Z),ge=0;ge<Z;ge++)le[ge]=-1,ye[ge]=-1;le[B+1]=0,ye[B+1]=0;for(var V=S-me,Y=V%2!==0,ce=0,fe=0,pe=0,Ae=0,De=0;De<de;De++){for(var Ie=-De+ce;Ie<=De-fe;Ie+=2){var Le=B+Ie,Ke;Ie===-De||Ie!==De&&le[Le-1]<le[Le+1]?Ke=le[Le+1]:Ke=le[Le-1]+1;for(var Xe=Ke-Ie;Ke<S&&Xe<me&&x.charAt(Ke)===L.charAt(Xe);)Ke++,Xe++;if(le[Le]=Ke,Ke>S)fe+=2;else if(Xe>me)ce+=2;else if(Y){var et=B+V-Ie;if(et>=0&&et<Z&&ye[et]!==-1){var at=S-ye[et];if(Ke>=at)return c(x,L,Ke,Xe)}}}for(var dt=-De+pe;dt<=De-Ae;dt+=2){var et=B+dt,at;dt===-De||dt!==De&&ye[et-1]<ye[et+1]?at=ye[et+1]:at=ye[et-1]+1;for(var Xt=at-dt;at<S&&Xt<me&&x.charAt(S-at-1)===L.charAt(me-Xt-1);)at++,Xt++;if(ye[et]=at,at>S)Ae+=2;else if(Xt>me)pe+=2;else if(!Y){var Le=B+V-dt;if(Le>=0&&Le<Z&&le[Le]!==-1){var Ke=le[Le],Xe=B+Ke-Le;if(at=S-at,Ke>=at)return c(x,L,Ke,Xe)}}}}return[[n,x],[e,L]]}function c(x,L,S,me){var de=x.substring(0,S),B=L.substring(0,me),Z=x.substring(S),le=L.substring(me),ye=r(de,B),ge=r(Z,le);return ye.concat(ge)}function f(x,L){if(!x||!L||x.charAt(0)!==L.charAt(0))return 0;for(var S=0,me=Math.min(x.length,L.length),de=me,B=0;S<de;)x.substring(B,de)==L.substring(B,de)?(S=de,B=S):me=de,de=Math.floor((me-S)/2+S);return ne(x.charCodeAt(de-1))&&de--,de}function m(x,L){var S=x.length,me=L.length;if(S==0||me==0)return 0;S>me?x=x.substring(S-me):S<me&&(L=L.substring(0,S));var de=Math.min(S,me);if(x==L)return de;for(var B=0,Z=1;;){var le=x.substring(de-Z),ye=L.indexOf(le);if(ye==-1)return B;Z+=ye,(ye==0||x.substring(de-Z)==L.substring(0,Z))&&(B=Z,Z++)}}function p(x,L){if(!x||!L||x.slice(-1)!==L.slice(-1))return 0;for(var S=0,me=Math.min(x.length,L.length),de=me,B=0;S<de;)x.substring(x.length-de,x.length-B)==L.substring(L.length-de,L.length-B)?(S=de,B=S):me=de,de=Math.floor((me-S)/2+S);return _e(x.charCodeAt(x.length-de))&&de--,de}function y(x,L){var S=x.length>L.length?x:L,me=x.length>L.length?L:x;if(S.length<4||me.length*2<S.length)return null;function de(fe,pe,Ae){for(var De=fe.substring(Ae,Ae+Math.floor(fe.length/4)),Ie=-1,Le="",Ke,Xe,et,at;(Ie=pe.indexOf(De,Ie+1))!==-1;){var dt=f(fe.substring(Ae),pe.substring(Ie)),Xt=p(fe.substring(0,Ae),pe.substring(0,Ie));Le.length<Xt+dt&&(Le=pe.substring(Ie-Xt,Ie)+pe.substring(Ie,Ie+dt),Ke=fe.substring(0,Ae-Xt),Xe=fe.substring(Ae+dt),et=pe.substring(0,Ie-Xt),at=pe.substring(Ie+dt))}return Le.length*2>=fe.length?[Ke,Xe,et,at,Le]:null}var B=de(S,me,Math.ceil(S.length/4)),Z=de(S,me,Math.ceil(S.length/2)),le;if(!B&&!Z)return null;Z?B?le=B[4].length>Z[4].length?B:Z:le=Z:le=B;var ye,ge,V,Y;x.length>L.length?(ye=le[0],ge=le[1],V=le[2],Y=le[3]):(V=le[0],Y=le[1],ye=le[2],ge=le[3]);var ce=le[4];return[ye,ge,V,Y,ce]}function T(x){for(var L=!1,S=[],me=0,de=null,B=0,Z=0,le=0,ye=0,ge=0;B<x.length;)x[B][0]==t?(S[me++]=B,Z=ye,le=ge,ye=0,ge=0,de=x[B][1]):(x[B][0]==e?ye+=x[B][1].length:ge+=x[B][1].length,de&&de.length<=Math.max(Z,le)&&de.length<=Math.max(ye,ge)&&(x.splice(S[me-1],0,[n,de]),x[S[me-1]+1][0]=e,me--,me--,B=me>0?S[me-1]:-1,Z=0,le=0,ye=0,ge=0,de=null,L=!0)),B++;for(L&&K(x),z(x),B=1;B<x.length;){if(x[B-1][0]==n&&x[B][0]==e){var V=x[B-1][1],Y=x[B][1],ce=m(V,Y),fe=m(Y,V);ce>=fe?(ce>=V.length/2||ce>=Y.length/2)&&(x.splice(B,0,[t,Y.substring(0,ce)]),x[B-1][1]=V.substring(0,V.length-ce),x[B+1][1]=Y.substring(ce),B++):(fe>=V.length/2||fe>=Y.length/2)&&(x.splice(B,0,[t,V.substring(0,fe)]),x[B-1][0]=e,x[B-1][1]=Y.substring(0,Y.length-fe),x[B+1][0]=n,x[B+1][1]=V.substring(fe),B++),B++}B++}}var w=/[^a-zA-Z0-9]/,N=/\s/,C=/[\r\n]/,k=/\n\r?\n$/,O=/^\r?\n\r?\n/;function z(x){function L(fe,pe){if(!fe||!pe)return 6;var Ae=fe.charAt(fe.length-1),De=pe.charAt(0),Ie=Ae.match(w),Le=De.match(w),Ke=Ie&&Ae.match(N),Xe=Le&&De.match(N),et=Ke&&Ae.match(C),at=Xe&&De.match(C),dt=et&&fe.match(k),Xt=at&&pe.match(O);return dt||Xt?5:et||at?4:Ie&&!Ke&&Xe?3:Ke||Xe?2:Ie||Le?1:0}for(var S=1;S<x.length-1;){if(x[S-1][0]==t&&x[S+1][0]==t){var me=x[S-1][1],de=x[S][1],B=x[S+1][1],Z=p(me,de);if(Z){var le=de.substring(de.length-Z);me=me.substring(0,me.length-Z),de=le+de.substring(0,de.length-Z),B=le+B}for(var ye=me,ge=de,V=B,Y=L(me,de)+L(de,B);de.charAt(0)===B.charAt(0);){me+=de.charAt(0),de=de.substring(1)+B.charAt(0),B=B.substring(1);var ce=L(me,de)+L(de,B);ce>=Y&&(Y=ce,ye=me,ge=de,V=B)}x[S-1][1]!=ye&&(ye?x[S-1][1]=ye:(x.splice(S-1,1),S--),x[S][1]=ge,V?x[S+1][1]=V:(x.splice(S+1,1),S--))}S++}}function K(x,L){x.push([t,""]);for(var S=0,me=0,de=0,B="",Z="",le;S<x.length;){if(S<x.length-1&&!x[S][1]){x.splice(S,1);continue}switch(x[S][0]){case e:de++,Z+=x[S][1],S++;break;case n:me++,B+=x[S][1],S++;break;case t:var ye=S-de-me-1;if(L){if(ye>=0&&we(x[ye][1])){var ge=x[ye][1].slice(-1);if(x[ye][1]=x[ye][1].slice(0,-1),B=ge+B,Z=ge+Z,!x[ye][1]){x.splice(ye,1),S--;var V=ye-1;x[V]&&x[V][0]===e&&(de++,Z=x[V][1]+Z,V--),x[V]&&x[V][0]===n&&(me++,B=x[V][1]+B,V--),ye=V}}if(ve(x[S][1])){var ge=x[S][1].charAt(0);x[S][1]=x[S][1].slice(1),B+=ge,Z+=ge}}if(S<x.length-1&&!x[S][1]){x.splice(S,1);break}if(B.length>0||Z.length>0){B.length>0&&Z.length>0&&(le=f(Z,B),le!==0&&(ye>=0?x[ye][1]+=Z.substring(0,le):(x.splice(0,0,[t,Z.substring(0,le)]),S++),Z=Z.substring(le),B=B.substring(le)),le=p(Z,B),le!==0&&(x[S][1]=Z.substring(Z.length-le)+x[S][1],Z=Z.substring(0,Z.length-le),B=B.substring(0,B.length-le)));var Y=de+me;B.length===0&&Z.length===0?(x.splice(S-Y,Y),S=S-Y):B.length===0?(x.splice(S-Y,Y,[e,Z]),S=S-Y+1):Z.length===0?(x.splice(S-Y,Y,[n,B]),S=S-Y+1):(x.splice(S-Y,Y,[n,B],[e,Z]),S=S-Y+2)}S!==0&&x[S-1][0]===t?(x[S-1][1]+=x[S][1],x.splice(S,1)):S++,de=0,me=0,B="",Z="";break}}x[x.length-1][1]===""&&x.pop();var ce=!1;for(S=1;S<x.length-1;)x[S-1][0]===t&&x[S+1][0]===t&&(x[S][1].substring(x[S][1].length-x[S-1][1].length)===x[S-1][1]?(x[S][1]=x[S-1][1]+x[S][1].substring(0,x[S][1].length-x[S-1][1].length),x[S+1][1]=x[S-1][1]+x[S+1][1],x.splice(S-1,1),ce=!0):x[S][1].substring(0,x[S+1][1].length)==x[S+1][1]&&(x[S-1][1]+=x[S+1][1],x[S][1]=x[S][1].substring(x[S+1][1].length)+x[S+1][1],x.splice(S+1,1),ce=!0)),S++;ce&&K(x,L)}function ne(x){return x>=55296&&x<=56319}function _e(x){return x>=56320&&x<=57343}function ve(x){return _e(x.charCodeAt(0))}function we(x){return ne(x.charCodeAt(x.length-1))}function j(x){for(var L=[],S=0;S<x.length;S++)x[S][1].length>0&&L.push(x[S]);return L}function M(x,L,S,me){return we(x)||ve(me)?null:j([[t,x],[n,L],[e,S],[t,me]])}function P(x,L,S){var me=typeof S=="number"?{index:S,length:0}:S.oldRange,de=typeof S=="number"?null:S.newRange,B=x.length,Z=L.length;if(me.length===0&&(de===null||de.length===0)){var le=me.index,ye=x.slice(0,le),ge=x.slice(le),V=de?de.index:null;e:{var Y=le+Z-B;if(V!==null&&V!==Y||Y<0||Y>Z)break e;var ce=L.slice(0,Y),fe=L.slice(Y);if(fe!==ge)break e;var pe=Math.min(le,Y),Ae=ye.slice(0,pe),De=ce.slice(0,pe);if(Ae!==De)break e;var Ie=ye.slice(pe),Le=ce.slice(pe);return M(Ae,Ie,Le,ge)}e:{if(V!==null&&V!==le)break e;var Ke=le,ce=L.slice(0,Ke),fe=L.slice(Ke);if(ce!==ye)break e;var Xe=Math.min(B-Ke,Z-Ke),et=ge.slice(ge.length-Xe),at=fe.slice(fe.length-Xe);if(et!==at)break e;var Ie=ge.slice(0,ge.length-Xe),Le=fe.slice(0,fe.length-Xe);return M(ye,Ie,Le,et)}}if(me.length>0&&de&&de.length===0)e:{var Ae=x.slice(0,me.index),et=x.slice(me.index+me.length),pe=Ae.length,Xe=et.length;if(Z<pe+Xe)break e;var De=L.slice(0,pe),at=L.slice(Z-Xe);if(Ae!==De||et!==at)break e;var Ie=x.slice(pe,B-Xe),Le=L.slice(pe,Z-Xe);return M(Ae,Ie,Le,et)}return null}function H(x,L,S,me){return r(x,L,S,me,!0)}return H.INSERT=e,H.DELETE=n,H.EQUAL=t,zg=H,zg}var Lc={exports:{}};Lc.exports;var iw;function rN(){return iw||(iw=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=9007199254740991,l="[object Arguments]",c="[object Array]",f="[object Boolean]",m="[object Date]",p="[object Error]",y="[object Function]",T="[object GeneratorFunction]",w="[object Map]",N="[object Number]",C="[object Object]",k="[object Promise]",O="[object RegExp]",z="[object Set]",K="[object String]",ne="[object Symbol]",_e="[object WeakMap]",ve="[object ArrayBuffer]",we="[object DataView]",j="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",H="[object Int16Array]",x="[object Int32Array]",L="[object Uint8Array]",S="[object Uint8ClampedArray]",me="[object Uint16Array]",de="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,Z=/\w*$/,le=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,ge={};ge[l]=ge[c]=ge[ve]=ge[we]=ge[f]=ge[m]=ge[j]=ge[M]=ge[P]=ge[H]=ge[x]=ge[w]=ge[N]=ge[C]=ge[O]=ge[z]=ge[K]=ge[ne]=ge[L]=ge[S]=ge[me]=ge[de]=!0,ge[p]=ge[y]=ge[_e]=!1;var V=typeof ao=="object"&&ao&&ao.Object===Object&&ao,Y=typeof self=="object"&&self&&self.Object===Object&&self,ce=V||Y||Function("return this")(),fe=e&&!e.nodeType&&e,pe=fe&&!0&&n&&!n.nodeType&&n,Ae=pe&&pe.exports===fe;function De(b,I){return b.set(I[0],I[1]),b}function Ie(b,I){return b.add(I),b}function Le(b,I){for(var U=-1,ee=b?b.length:0;++U<ee&&I(b[U],U,b)!==!1;);return b}function Ke(b,I){for(var U=-1,ee=I.length,je=b.length;++U<ee;)b[je+U]=I[U];return b}function Xe(b,I,U,ee){for(var je=-1,xe=b?b.length:0;++je<xe;)U=I(U,b[je],je,b);return U}function et(b,I){for(var U=-1,ee=Array(b);++U<b;)ee[U]=I(U);return ee}function at(b,I){return b?.[I]}function dt(b){var I=!1;if(b!=null&&typeof b.toString!="function")try{I=!!(b+"")}catch{}return I}function Xt(b){var I=-1,U=Array(b.size);return b.forEach(function(ee,je){U[++I]=[je,ee]}),U}function jr(b,I){return function(U){return b(I(U))}}function rs(b){var I=-1,U=Array(b.size);return b.forEach(function(ee){U[++I]=ee}),U}var Ds=Array.prototype,Vt=Function.prototype,St=Object.prototype,_r=ce["__core-js_shared__"],xa=(function(){var b=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""})(),Ls=Vt.toString,Nt=St.hasOwnProperty,br=St.toString,Ms=RegExp("^"+Ls.call(Nt).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pr=Ae?ce.Buffer:void 0,lr=ce.Symbol,ks=ce.Uint8Array,On=jr(Object.getPrototypeOf,Object),js=Object.create,Ps=St.propertyIsEnumerable,ur=Ds.splice,Kt=Object.getOwnPropertySymbols,vn=Pr?Pr.isBuffer:void 0,Ct=jr(Object.keys,Object),Li=cn(ce,"DataView"),Er=cn(ce,"Map"),Yn=cn(ce,"Promise"),Dn=cn(ce,"Set"),Vr=cn(ce,"WeakMap"),bt=cn(Object,"create"),Xn=nn(Li),xn=nn(Er),Ln=nn(Yn),Vs=nn(Dn),is=nn(Vr),_n=lr?lr.prototype:void 0,si=_n?_n.valueOf:void 0;function Ur(b){var I=-1,U=b?b.length:0;for(this.clear();++I<U;){var ee=b[I];this.set(ee[0],ee[1])}}function Mi(){this.__data__=bt?bt(null):{}}function Us(b){return this.has(b)&&delete this.__data__[b]}function qs(b){var I=this.__data__;if(bt){var U=I[b];return U===r?void 0:U}return Nt.call(I,b)?I[b]:void 0}function ai(b){var I=this.__data__;return bt?I[b]!==void 0:Nt.call(I,b)}function cr(b,I){var U=this.__data__;return U[b]=bt&&I===void 0?r:I,this}Ur.prototype.clear=Mi,Ur.prototype.delete=Us,Ur.prototype.get=qs,Ur.prototype.has=ai,Ur.prototype.set=cr;function Wt(b){var I=-1,U=b?b.length:0;for(this.clear();++I<U;){var ee=b[I];this.set(ee[0],ee[1])}}function hr(){this.__data__=[]}function fr(b){var I=this.__data__,U=kn(I,b);if(U<0)return!1;var ee=I.length-1;return U==ee?I.pop():ur.call(I,U,1),!0}function Ut(b){var I=this.__data__,U=kn(I,b);return U<0?void 0:I[U][1]}function Zt(b){return kn(this.__data__,b)>-1}function Tr(b,I){var U=this.__data__,ee=kn(U,b);return ee<0?U.push([b,I]):U[ee][1]=I,this}Wt.prototype.clear=hr,Wt.prototype.delete=fr,Wt.prototype.get=Ut,Wt.prototype.has=Zt,Wt.prototype.set=Tr;function Qt(b){var I=-1,U=b?b.length:0;for(this.clear();++I<U;){var ee=b[I];this.set(ee[0],ee[1])}}function Lo(){this.__data__={hash:new Ur,map:new(Er||Wt),string:new Ur}}function Sa(b){return ci(this,b).delete(b)}function Na(b){return ci(this,b).get(b)}function wr(b){return ci(this,b).has(b)}function ss(b,I){return ci(this,b).set(b,I),this}Qt.prototype.clear=Lo,Qt.prototype.delete=Sa,Qt.prototype.get=Na,Qt.prototype.has=wr,Qt.prototype.set=ss;function Ot(b){this.__data__=new Wt(b)}function Wn(){this.__data__=new Wt}function Mn(b){return this.__data__.delete(b)}function Ar(b){return this.__data__.get(b)}function qt(b){return this.__data__.has(b)}function Bs(b,I){var U=this.__data__;if(U instanceof Wt){var ee=U.__data__;if(!Er||ee.length<t-1)return ee.push([b,I]),this;U=this.__data__=new Qt(ee)}return U.set(b,I),this}Ot.prototype.clear=Wn,Ot.prototype.delete=Mn,Ot.prototype.get=Ar,Ot.prototype.has=qt,Ot.prototype.set=Bs;function oi(b,I){var U=zr(b)||Vn(b)?et(b.length,String):[],ee=U.length,je=!!ee;for(var xe in b)Nt.call(b,xe)&&!(je&&(xe=="length"||Ra(xe,ee)))&&U.push(xe);return U}function dr(b,I,U){var ee=b[I];(!(Nt.call(b,I)&&Br(ee,U))||U===void 0&&!(I in b))&&(b[I]=U)}function kn(b,I){for(var U=b.length;U--;)if(Br(b[U][0],I))return U;return-1}function Zn(b,I){return b&&ls(I,Pi(I),b)}function ki(b,I,U,ee,je,xe,Ge){var Ye;if(ee&&(Ye=xe?ee(b,je,xe,Ge):ee(b)),Ye!==void 0)return Ye;if(!Qe(b))return b;var yt=zr(b);if(yt){if(Ye=Fs(b),!I)return os(b,Ye)}else{var We=Nr(b),At=We==y||We==T;if(tr(b))return Dt(b,I);if(We==C||We==l||At&&!xe){if(dt(b))return xe?b:{};if(Ye=Jn(At?{}:b),!I)return Hs(b,Zn(Ye,b))}else{if(!ge[We])return xe?b:{};Ye=us(b,We,ki,I)}}Ge||(Ge=new Ot);var rn=Ge.get(b);if(rn)return rn;if(Ge.set(b,Ye),!yt)var Lt=U?ui(b):Pi(b);return Le(Lt||b,function(Ht,Jt){Lt&&(Jt=Ht,Ht=b[Jt]),dr(Ye,Jt,ki(Ht,I,U,ee,Jt,b,Ge))}),Ye}function zs(b){return Qe(b)?js(b):{}}function Ca(b,I,U){var ee=I(b);return zr(b)?ee:Ke(ee,U(b))}function as(b){return br.call(b)}function jn(b){if(!Qe(b)||cs(b))return!1;var I=Nn(b)||dt(b)?Ms:le;return I.test(nn(b))}function Bt(b){if(!er(b))return Ct(b);var I=[];for(var U in Object(b))Nt.call(b,U)&&U!="constructor"&&I.push(U);return I}function Dt(b,I){if(I)return b.slice();var U=new b.constructor(b.length);return b.copy(U),U}function xr(b){var I=new b.constructor(b.byteLength);return new ks(I).set(new ks(b)),I}function qr(b,I){var U=I?xr(b.buffer):b.buffer;return new b.constructor(U,b.byteOffset,b.byteLength)}function lt(b,I,U){var ee=I?U(Xt(b),!0):Xt(b);return Xe(ee,De,new b.constructor)}function li(b){var I=new b.constructor(b.source,Z.exec(b));return I.lastIndex=b.lastIndex,I}function Sr(b,I,U){var ee=I?U(rs(b),!0):rs(b);return Xe(ee,Ie,new b.constructor)}function ji(b){return si?Object(si.call(b)):{}}function Sn(b,I){var U=I?xr(b.buffer):b.buffer;return new b.constructor(U,b.byteOffset,b.length)}function os(b,I){var U=-1,ee=b.length;for(I||(I=Array(ee));++U<ee;)I[U]=b[U];return I}function ls(b,I,U,ee){U||(U={});for(var je=-1,xe=I.length;++je<xe;){var Ge=I[je],Ye=void 0;dr(U,Ge,Ye===void 0?b[Ge]:Ye)}return U}function Hs(b,I){return ls(b,zt(b),I)}function ui(b){return Ca(b,Pi,zt)}function ci(b,I){var U=b.__data__;return hi(I)?U[typeof I=="string"?"string":"hash"]:U.map}function cn(b,I){var U=at(b,I);return jn(U)?U:void 0}var zt=Kt?jr(Kt,Object):Vi,Nr=as;(Li&&Nr(new Li(new ArrayBuffer(1)))!=we||Er&&Nr(new Er)!=w||Yn&&Nr(Yn.resolve())!=k||Dn&&Nr(new Dn)!=z||Vr&&Nr(new Vr)!=_e)&&(Nr=function(b){var I=br.call(b),U=I==C?b.constructor:void 0,ee=U?nn(U):void 0;if(ee)switch(ee){case Xn:return we;case xn:return w;case Ln:return k;case Vs:return z;case is:return _e}return I});function Fs(b){var I=b.length,U=b.constructor(I);return I&&typeof b[0]=="string"&&Nt.call(b,"index")&&(U.index=b.index,U.input=b.input),U}function Jn(b){return typeof b.constructor=="function"&&!er(b)?zs(On(b)):{}}function us(b,I,U,ee){var je=b.constructor;switch(I){case ve:return xr(b);case f:case m:return new je(+b);case we:return qr(b,ee);case j:case M:case P:case H:case x:case L:case S:case me:case de:return Sn(b,ee);case w:return lt(b,ee,U);case N:case K:return new je(b);case O:return li(b);case z:return Sr(b,ee,U);case ne:return ji(b)}}function Ra(b,I){return I=I??a,!!I&&(typeof b=="number"||ye.test(b))&&b>-1&&b%1==0&&b<I}function hi(b){var I=typeof b;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?b!=="__proto__":b===null}function cs(b){return!!xa&&xa in b}function er(b){var I=b&&b.constructor,U=typeof I=="function"&&I.prototype||St;return b===U}function nn(b){if(b!=null){try{return Ls.call(b)}catch{}try{return b+""}catch{}}return""}function Pn(b){return ki(b,!0,!0)}function Br(b,I){return b===I||b!==b&&I!==I}function Vn(b){return fi(b)&&Nt.call(b,"callee")&&(!Ps.call(b,"callee")||br.call(b)==l)}var zr=Array.isArray;function Hr(b){return b!=null&&di(b.length)&&!Nn(b)}function fi(b){return mr(b)&&Hr(b)}var tr=vn||Gs;function Nn(b){var I=Qe(b)?br.call(b):"";return I==y||I==T}function di(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=a}function Qe(b){var I=typeof b;return!!b&&(I=="object"||I=="function")}function mr(b){return!!b&&typeof b=="object"}function Pi(b){return Hr(b)?oi(b):Bt(b)}function Vi(){return[]}function Gs(){return!1}n.exports=Pn})(Lc,Lc.exports)),Lc.exports}var Mc={exports:{}};Mc.exports;var sw;function iN(){return sw||(sw=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",a=1,l=2,c=9007199254740991,f="[object Arguments]",m="[object Array]",p="[object AsyncFunction]",y="[object Boolean]",T="[object Date]",w="[object Error]",N="[object Function]",C="[object GeneratorFunction]",k="[object Map]",O="[object Number]",z="[object Null]",K="[object Object]",ne="[object Promise]",_e="[object Proxy]",ve="[object RegExp]",we="[object Set]",j="[object String]",M="[object Symbol]",P="[object Undefined]",H="[object WeakMap]",x="[object ArrayBuffer]",L="[object DataView]",S="[object Float32Array]",me="[object Float64Array]",de="[object Int8Array]",B="[object Int16Array]",Z="[object Int32Array]",le="[object Uint8Array]",ye="[object Uint8ClampedArray]",ge="[object Uint16Array]",V="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,ce=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,pe={};pe[S]=pe[me]=pe[de]=pe[B]=pe[Z]=pe[le]=pe[ye]=pe[ge]=pe[V]=!0,pe[f]=pe[m]=pe[x]=pe[y]=pe[L]=pe[T]=pe[w]=pe[N]=pe[k]=pe[O]=pe[K]=pe[ve]=pe[we]=pe[j]=pe[H]=!1;var Ae=typeof ao=="object"&&ao&&ao.Object===Object&&ao,De=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Ae||De||Function("return this")(),Le=e&&!e.nodeType&&e,Ke=Le&&!0&&n&&!n.nodeType&&n,Xe=Ke&&Ke.exports===Le,et=Xe&&Ae.process,at=(function(){try{return et&&et.binding&&et.binding("util")}catch{}})(),dt=at&&at.isTypedArray;function Xt(b,I){for(var U=-1,ee=b==null?0:b.length,je=0,xe=[];++U<ee;){var Ge=b[U];I(Ge,U,b)&&(xe[je++]=Ge)}return xe}function jr(b,I){for(var U=-1,ee=I.length,je=b.length;++U<ee;)b[je+U]=I[U];return b}function rs(b,I){for(var U=-1,ee=b==null?0:b.length;++U<ee;)if(I(b[U],U,b))return!0;return!1}function Ds(b,I){for(var U=-1,ee=Array(b);++U<b;)ee[U]=I(U);return ee}function Vt(b){return function(I){return b(I)}}function St(b,I){return b.has(I)}function _r(b,I){return b?.[I]}function xa(b){var I=-1,U=Array(b.size);return b.forEach(function(ee,je){U[++I]=[je,ee]}),U}function Ls(b,I){return function(U){return b(I(U))}}function Nt(b){var I=-1,U=Array(b.size);return b.forEach(function(ee){U[++I]=ee}),U}var br=Array.prototype,Ms=Function.prototype,Pr=Object.prototype,lr=Ie["__core-js_shared__"],ks=Ms.toString,On=Pr.hasOwnProperty,js=(function(){var b=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""})(),Ps=Pr.toString,ur=RegExp("^"+ks.call(On).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=Xe?Ie.Buffer:void 0,vn=Ie.Symbol,Ct=Ie.Uint8Array,Li=Pr.propertyIsEnumerable,Er=br.splice,Yn=vn?vn.toStringTag:void 0,Dn=Object.getOwnPropertySymbols,Vr=Kt?Kt.isBuffer:void 0,bt=Ls(Object.keys,Object),Xn=zt(Ie,"DataView"),xn=zt(Ie,"Map"),Ln=zt(Ie,"Promise"),Vs=zt(Ie,"Set"),is=zt(Ie,"WeakMap"),_n=zt(Object,"create"),si=nn(Xn),Ur=nn(xn),Mi=nn(Ln),Us=nn(Vs),qs=nn(is),ai=vn?vn.prototype:void 0,cr=ai?ai.valueOf:void 0;function Wt(b){var I=-1,U=b==null?0:b.length;for(this.clear();++I<U;){var ee=b[I];this.set(ee[0],ee[1])}}function hr(){this.__data__=_n?_n(null):{},this.size=0}function fr(b){var I=this.has(b)&&delete this.__data__[b];return this.size-=I?1:0,I}function Ut(b){var I=this.__data__;if(_n){var U=I[b];return U===r?void 0:U}return On.call(I,b)?I[b]:void 0}function Zt(b){var I=this.__data__;return _n?I[b]!==void 0:On.call(I,b)}function Tr(b,I){var U=this.__data__;return this.size+=this.has(b)?0:1,U[b]=_n&&I===void 0?r:I,this}Wt.prototype.clear=hr,Wt.prototype.delete=fr,Wt.prototype.get=Ut,Wt.prototype.has=Zt,Wt.prototype.set=Tr;function Qt(b){var I=-1,U=b==null?0:b.length;for(this.clear();++I<U;){var ee=b[I];this.set(ee[0],ee[1])}}function Lo(){this.__data__=[],this.size=0}function Sa(b){var I=this.__data__,U=Dt(I,b);if(U<0)return!1;var ee=I.length-1;return U==ee?I.pop():Er.call(I,U,1),--this.size,!0}function Na(b){var I=this.__data__,U=Dt(I,b);return U<0?void 0:I[U][1]}function wr(b){return Dt(this.__data__,b)>-1}function ss(b,I){var U=this.__data__,ee=Dt(U,b);return ee<0?(++this.size,U.push([b,I])):U[ee][1]=I,this}Qt.prototype.clear=Lo,Qt.prototype.delete=Sa,Qt.prototype.get=Na,Qt.prototype.has=wr,Qt.prototype.set=ss;function Ot(b){var I=-1,U=b==null?0:b.length;for(this.clear();++I<U;){var ee=b[I];this.set(ee[0],ee[1])}}function Wn(){this.size=0,this.__data__={hash:new Wt,map:new(xn||Qt),string:new Wt}}function Mn(b){var I=cn(this,b).delete(b);return this.size-=I?1:0,I}function Ar(b){return cn(this,b).get(b)}function qt(b){return cn(this,b).has(b)}function Bs(b,I){var U=cn(this,b),ee=U.size;return U.set(b,I),this.size+=U.size==ee?0:1,this}Ot.prototype.clear=Wn,Ot.prototype.delete=Mn,Ot.prototype.get=Ar,Ot.prototype.has=qt,Ot.prototype.set=Bs;function oi(b){var I=-1,U=b==null?0:b.length;for(this.__data__=new Ot;++I<U;)this.add(b[I])}function dr(b){return this.__data__.set(b,r),this}function kn(b){return this.__data__.has(b)}oi.prototype.add=oi.prototype.push=dr,oi.prototype.has=kn;function Zn(b){var I=this.__data__=new Qt(b);this.size=I.size}function ki(){this.__data__=new Qt,this.size=0}function zs(b){var I=this.__data__,U=I.delete(b);return this.size=I.size,U}function Ca(b){return this.__data__.get(b)}function as(b){return this.__data__.has(b)}function jn(b,I){var U=this.__data__;if(U instanceof Qt){var ee=U.__data__;if(!xn||ee.length<t-1)return ee.push([b,I]),this.size=++U.size,this;U=this.__data__=new Ot(ee)}return U.set(b,I),this.size=U.size,this}Zn.prototype.clear=ki,Zn.prototype.delete=zs,Zn.prototype.get=Ca,Zn.prototype.has=as,Zn.prototype.set=jn;function Bt(b,I){var U=Vn(b),ee=!U&&Br(b),je=!U&&!ee&&Hr(b),xe=!U&&!ee&&!je&&mr(b),Ge=U||ee||je||xe,Ye=Ge?Ds(b.length,String):[],yt=Ye.length;for(var We in b)On.call(b,We)&&!(Ge&&(We=="length"||je&&(We=="offset"||We=="parent")||xe&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||us(We,yt)))&&Ye.push(We);return Ye}function Dt(b,I){for(var U=b.length;U--;)if(Pn(b[U][0],I))return U;return-1}function xr(b,I,U){var ee=I(b);return Vn(b)?ee:jr(ee,U(b))}function qr(b){return b==null?b===void 0?P:z:Yn&&Yn in Object(b)?Nr(b):er(b)}function lt(b){return Qe(b)&&qr(b)==f}function li(b,I,U,ee,je){return b===I?!0:b==null||I==null||!Qe(b)&&!Qe(I)?b!==b&&I!==I:Sr(b,I,U,ee,li,je)}function Sr(b,I,U,ee,je,xe){var Ge=Vn(b),Ye=Vn(I),yt=Ge?m:Jn(b),We=Ye?m:Jn(I);yt=yt==f?K:yt,We=We==f?K:We;var At=yt==K,rn=We==K,Lt=yt==We;if(Lt&&Hr(b)){if(!Hr(I))return!1;Ge=!0,At=!1}if(Lt&&!At)return xe||(xe=new Zn),Ge||mr(b)?ls(b,I,U,ee,je,xe):Hs(b,I,yt,U,ee,je,xe);if(!(U&a)){var Ht=At&&On.call(b,"__wrapped__"),Jt=rn&&On.call(I,"__wrapped__");if(Ht||Jt){var Fr=Ht?b.value():b,Un=Jt?I.value():I;return xe||(xe=new Zn),je(Fr,Un,U,ee,xe)}}return Lt?(xe||(xe=new Zn),ui(b,I,U,ee,je,xe)):!1}function ji(b){if(!di(b)||hi(b))return!1;var I=tr(b)?ur:ce;return I.test(nn(b))}function Sn(b){return Qe(b)&&Nn(b.length)&&!!pe[qr(b)]}function os(b){if(!cs(b))return bt(b);var I=[];for(var U in Object(b))On.call(b,U)&&U!="constructor"&&I.push(U);return I}function ls(b,I,U,ee,je,xe){var Ge=U&a,Ye=b.length,yt=I.length;if(Ye!=yt&&!(Ge&&yt>Ye))return!1;var We=xe.get(b);if(We&&xe.get(I))return We==I;var At=-1,rn=!0,Lt=U&l?new oi:void 0;for(xe.set(b,I),xe.set(I,b);++At<Ye;){var Ht=b[At],Jt=I[At];if(ee)var Fr=Ge?ee(Jt,Ht,At,I,b,xe):ee(Ht,Jt,At,b,I,xe);if(Fr!==void 0){if(Fr)continue;rn=!1;break}if(Lt){if(!rs(I,function(Un,Gr){if(!St(Lt,Gr)&&(Ht===Un||je(Ht,Un,U,ee,xe)))return Lt.push(Gr)})){rn=!1;break}}else if(!(Ht===Jt||je(Ht,Jt,U,ee,xe))){rn=!1;break}}return xe.delete(b),xe.delete(I),rn}function Hs(b,I,U,ee,je,xe,Ge){switch(U){case L:if(b.byteLength!=I.byteLength||b.byteOffset!=I.byteOffset)return!1;b=b.buffer,I=I.buffer;case x:return!(b.byteLength!=I.byteLength||!xe(new Ct(b),new Ct(I)));case y:case T:case O:return Pn(+b,+I);case w:return b.name==I.name&&b.message==I.message;case ve:case j:return b==I+"";case k:var Ye=xa;case we:var yt=ee&a;if(Ye||(Ye=Nt),b.size!=I.size&&!yt)return!1;var We=Ge.get(b);if(We)return We==I;ee|=l,Ge.set(b,I);var At=ls(Ye(b),Ye(I),ee,je,xe,Ge);return Ge.delete(b),At;case M:if(cr)return cr.call(b)==cr.call(I)}return!1}function ui(b,I,U,ee,je,xe){var Ge=U&a,Ye=ci(b),yt=Ye.length,We=ci(I),At=We.length;if(yt!=At&&!Ge)return!1;for(var rn=yt;rn--;){var Lt=Ye[rn];if(!(Ge?Lt in I:On.call(I,Lt)))return!1}var Ht=xe.get(b);if(Ht&&xe.get(I))return Ht==I;var Jt=!0;xe.set(b,I),xe.set(I,b);for(var Fr=Ge;++rn<yt;){Lt=Ye[rn];var Un=b[Lt],Gr=I[Lt];if(ee)var Mo=Ge?ee(Gr,Un,Lt,I,b,xe):ee(Un,Gr,Lt,b,I,xe);if(!(Mo===void 0?Un===Gr||je(Un,Gr,U,ee,xe):Mo)){Jt=!1;break}Fr||(Fr=Lt=="constructor")}if(Jt&&!Fr){var Ui=b.constructor,$s=I.constructor;Ui!=$s&&"constructor"in b&&"constructor"in I&&!(typeof Ui=="function"&&Ui instanceof Ui&&typeof $s=="function"&&$s instanceof $s)&&(Jt=!1)}return xe.delete(b),xe.delete(I),Jt}function ci(b){return xr(b,Pi,Fs)}function cn(b,I){var U=b.__data__;return Ra(I)?U[typeof I=="string"?"string":"hash"]:U.map}function zt(b,I){var U=_r(b,I);return ji(U)?U:void 0}function Nr(b){var I=On.call(b,Yn),U=b[Yn];try{b[Yn]=void 0;var ee=!0}catch{}var je=Ps.call(b);return ee&&(I?b[Yn]=U:delete b[Yn]),je}var Fs=Dn?function(b){return b==null?[]:(b=Object(b),Xt(Dn(b),function(I){return Li.call(b,I)}))}:Vi,Jn=qr;(Xn&&Jn(new Xn(new ArrayBuffer(1)))!=L||xn&&Jn(new xn)!=k||Ln&&Jn(Ln.resolve())!=ne||Vs&&Jn(new Vs)!=we||is&&Jn(new is)!=H)&&(Jn=function(b){var I=qr(b),U=I==K?b.constructor:void 0,ee=U?nn(U):"";if(ee)switch(ee){case si:return L;case Ur:return k;case Mi:return ne;case Us:return we;case qs:return H}return I});function us(b,I){return I=I??c,!!I&&(typeof b=="number"||fe.test(b))&&b>-1&&b%1==0&&b<I}function Ra(b){var I=typeof b;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?b!=="__proto__":b===null}function hi(b){return!!js&&js in b}function cs(b){var I=b&&b.constructor,U=typeof I=="function"&&I.prototype||Pr;return b===U}function er(b){return Ps.call(b)}function nn(b){if(b!=null){try{return ks.call(b)}catch{}try{return b+""}catch{}}return""}function Pn(b,I){return b===I||b!==b&&I!==I}var Br=lt((function(){return arguments})())?lt:function(b){return Qe(b)&&On.call(b,"callee")&&!Li.call(b,"callee")},Vn=Array.isArray;function zr(b){return b!=null&&Nn(b.length)&&!tr(b)}var Hr=Vr||Gs;function fi(b,I){return li(b,I)}function tr(b){if(!di(b))return!1;var I=qr(b);return I==N||I==C||I==p||I==_e}function Nn(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=c}function di(b){var I=typeof b;return b!=null&&(I=="object"||I=="function")}function Qe(b){return b!=null&&typeof b=="object"}var mr=dt?Vt(dt):Sn;function Pi(b){return zr(b)?Bt(b):os(b)}function Vi(){return[]}function Gs(){return!1}n.exports=fi})(Mc,Mc.exports)),Mc.exports}var Yf={},aw;function c8(){if(aw)return Yf;aw=1,Object.defineProperty(Yf,"__esModule",{value:!0});const n=rN(),e=iN();var t;return(function(r){function a(m={},p={},y=!1){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});let T=n(p);y||(T=Object.keys(T).reduce((w,N)=>(T[N]!=null&&(w[N]=T[N]),w),{}));for(const w in m)m[w]!==void 0&&p[w]===void 0&&(T[w]=m[w]);return Object.keys(T).length>0?T:void 0}r.compose=a;function l(m={},p={}){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});const y=Object.keys(m).concat(Object.keys(p)).reduce((T,w)=>(e(m[w],p[w])||(T[w]=p[w]===void 0?null:p[w]),T),{});return Object.keys(y).length>0?y:void 0}r.diff=l;function c(m={},p={}){m=m||{};const y=Object.keys(p).reduce((T,w)=>(p[w]!==m[w]&&m[w]!==void 0&&(T[w]=p[w]),T),{});return Object.keys(m).reduce((T,w)=>(m[w]!==p[w]&&p[w]===void 0&&(T[w]=null),T),y)}r.invert=c;function f(m,p,y=!1){if(typeof m!="object")return p;if(typeof p!="object")return;if(!y)return p;const T=Object.keys(p).reduce((w,N)=>(m[N]===void 0&&(w[N]=p[N]),w),{});return Object.keys(T).length>0?T:void 0}r.transform=f})(t||(t={})),Yf.default=t,Yf}var Xf={},ow;function sN(){if(ow)return Xf;ow=1,Object.defineProperty(Xf,"__esModule",{value:!0});var n;return(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(n||(n={})),Xf.default=n,Xf}var Wf={},lw;function h8(){if(lw)return Wf;lw=1,Object.defineProperty(Wf,"__esModule",{value:!0});const n=sN();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const a=this.ops[this.index];if(a){const l=this.offset,c=n.default.length(a);if(r>=c-l?(r=c-l,this.index+=1,this.offset=0):this.offset+=r,typeof a.delete=="number")return{delete:r};{const f={};return a.attributes&&(f.attributes=a.attributes),typeof a.retain=="number"?f.retain=r:typeof a.retain=="object"&&a.retain!==null?f.retain=a.retain:typeof a.insert=="string"?f.insert=a.insert.substr(l,r):f.insert=a.insert,f}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,a=this.index,l=this.next(),c=this.ops.slice(this.index);return this.offset=r,this.index=a,[l].concat(c)}}else return[]}}return Wf.default=e,Wf}var uw;function f8(){return uw||(uw=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=u8(),r=rN(),a=iN(),l=c8();e.AttributeMap=l.default;const c=sN();e.Op=c.default;const f=h8();e.OpIterator=f.default;const m="\0",p=(T,w)=>{if(typeof T!="object"||T===null)throw new Error(`cannot retain a ${typeof T}`);if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);const N=Object.keys(T)[0];if(!N||N!==Object.keys(w)[0])throw new Error(`embed types not matched: ${N} != ${Object.keys(w)[0]}`);return[N,T[N],w[N]]};class y{constructor(w){Array.isArray(w)?this.ops=w:w!=null&&Array.isArray(w.ops)?this.ops=w.ops:this.ops=[]}static registerEmbed(w,N){this.handlers[w]=N}static unregisterEmbed(w){delete this.handlers[w]}static getHandler(w){const N=this.handlers[w];if(!N)throw new Error(`no handlers for embed type "${w}"`);return N}insert(w,N){const C={};return typeof w=="string"&&w.length===0?this:(C.insert=w,N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(C.attributes=N),this.push(C))}delete(w){return w<=0?this:this.push({delete:w})}retain(w,N){if(typeof w=="number"&&w<=0)return this;const C={retain:w};return N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(C.attributes=N),this.push(C)}push(w){let N=this.ops.length,C=this.ops[N-1];if(w=r(w),typeof C=="object"){if(typeof w.delete=="number"&&typeof C.delete=="number")return this.ops[N-1]={delete:C.delete+w.delete},this;if(typeof C.delete=="number"&&w.insert!=null&&(N-=1,C=this.ops[N-1],typeof C!="object"))return this.ops.unshift(w),this;if(a(w.attributes,C.attributes)){if(typeof w.insert=="string"&&typeof C.insert=="string")return this.ops[N-1]={insert:C.insert+w.insert},typeof w.attributes=="object"&&(this.ops[N-1].attributes=w.attributes),this;if(typeof w.retain=="number"&&typeof C.retain=="number")return this.ops[N-1]={retain:C.retain+w.retain},typeof w.attributes=="object"&&(this.ops[N-1].attributes=w.attributes),this}}return N===this.ops.length?this.ops.push(w):this.ops.splice(N,0,w),this}chop(){const w=this.ops[this.ops.length-1];return w&&typeof w.retain=="number"&&!w.attributes&&this.ops.pop(),this}filter(w){return this.ops.filter(w)}forEach(w){this.ops.forEach(w)}map(w){return this.ops.map(w)}partition(w){const N=[],C=[];return this.forEach(k=>{(w(k)?N:C).push(k)}),[N,C]}reduce(w,N){return this.ops.reduce(w,N)}changeLength(){return this.reduce((w,N)=>N.insert?w+c.default.length(N):N.delete?w-N.delete:w,0)}length(){return this.reduce((w,N)=>w+c.default.length(N),0)}slice(w=0,N=1/0){const C=[],k=new f.default(this.ops);let O=0;for(;O<N&&k.hasNext();){let z;O<w?z=k.next(w-O):(z=k.next(N-O),C.push(z)),O+=c.default.length(z)}return new y(C)}compose(w){const N=new f.default(this.ops),C=new f.default(w.ops),k=[],O=C.peek();if(O!=null&&typeof O.retain=="number"&&O.attributes==null){let K=O.retain;for(;N.peekType()==="insert"&&N.peekLength()<=K;)K-=N.peekLength(),k.push(N.next());O.retain-K>0&&C.next(O.retain-K)}const z=new y(k);for(;N.hasNext()||C.hasNext();)if(C.peekType()==="insert")z.push(C.next());else if(N.peekType()==="delete")z.push(N.next());else{const K=Math.min(N.peekLength(),C.peekLength()),ne=N.next(K),_e=C.next(K);if(_e.retain){const ve={};if(typeof ne.retain=="number")ve.retain=typeof _e.retain=="number"?K:_e.retain;else if(typeof _e.retain=="number")ne.retain==null?ve.insert=ne.insert:ve.retain=ne.retain;else{const j=ne.retain==null?"insert":"retain",[M,P,H]=p(ne[j],_e.retain),x=y.getHandler(M);ve[j]={[M]:x.compose(P,H,j==="retain")}}const we=l.default.compose(ne.attributes,_e.attributes,typeof ne.retain=="number");if(we&&(ve.attributes=we),z.push(ve),!C.hasNext()&&a(z.ops[z.ops.length-1],ve)){const j=new y(N.rest());return z.concat(j).chop()}}else typeof _e.delete=="number"&&(typeof ne.retain=="number"||typeof ne.retain=="object"&&ne.retain!==null)&&z.push(_e)}return z.chop()}concat(w){const N=new y(this.ops.slice());return w.ops.length>0&&(N.push(w.ops[0]),N.ops=N.ops.concat(w.ops.slice(1))),N}diff(w,N){if(this.ops===w.ops)return new y;const C=[this,w].map(ne=>ne.map(_e=>{if(_e.insert!=null)return typeof _e.insert=="string"?_e.insert:m;const ve=ne===w?"on":"with";throw new Error("diff() called "+ve+" non-document")}).join("")),k=new y,O=t(C[0],C[1],N,!0),z=new f.default(this.ops),K=new f.default(w.ops);return O.forEach(ne=>{let _e=ne[1].length;for(;_e>0;){let ve=0;switch(ne[0]){case t.INSERT:ve=Math.min(K.peekLength(),_e),k.push(K.next(ve));break;case t.DELETE:ve=Math.min(_e,z.peekLength()),z.next(ve),k.delete(ve);break;case t.EQUAL:ve=Math.min(z.peekLength(),K.peekLength(),_e);const we=z.next(ve),j=K.next(ve);a(we.insert,j.insert)?k.retain(ve,l.default.diff(we.attributes,j.attributes)):k.push(j).delete(ve);break}_e-=ve}}),k.chop()}eachLine(w,N=`
`){const C=new f.default(this.ops);let k=new y,O=0;for(;C.hasNext();){if(C.peekType()!=="insert")return;const z=C.peek(),K=c.default.length(z)-C.peekLength(),ne=typeof z.insert=="string"?z.insert.indexOf(N,K)-K:-1;if(ne<0)k.push(C.next());else if(ne>0)k.push(C.next(ne));else{if(w(k,C.next(1).attributes||{},O)===!1)return;O+=1,k=new y}}k.length()>0&&w(k,{},O)}invert(w){const N=new y;return this.reduce((C,k)=>{if(k.insert)N.delete(c.default.length(k));else{if(typeof k.retain=="number"&&k.attributes==null)return N.retain(k.retain),C+k.retain;if(k.delete||typeof k.retain=="number"){const O=k.delete||k.retain;return w.slice(C,C+O).forEach(K=>{k.delete?N.push(K):k.retain&&k.attributes&&N.retain(c.default.length(K),l.default.invert(k.attributes,K.attributes))}),C+O}else if(typeof k.retain=="object"&&k.retain!==null){const O=w.slice(C,C+1),z=new f.default(O.ops).next(),[K,ne,_e]=p(k.retain,z.insert),ve=y.getHandler(K);return N.retain({[K]:ve.invert(ne,_e)},l.default.invert(k.attributes,z.attributes)),C+1}}return C},0),N.chop()}transform(w,N=!1){if(N=!!N,typeof w=="number")return this.transformPosition(w,N);const C=w,k=new f.default(this.ops),O=new f.default(C.ops),z=new y;for(;k.hasNext()||O.hasNext();)if(k.peekType()==="insert"&&(N||O.peekType()!=="insert"))z.retain(c.default.length(k.next()));else if(O.peekType()==="insert")z.push(O.next());else{const K=Math.min(k.peekLength(),O.peekLength()),ne=k.next(K),_e=O.next(K);if(ne.delete)continue;if(_e.delete)z.push(_e);else{const ve=ne.retain,we=_e.retain;let j=typeof we=="object"&&we!==null?we:K;if(typeof ve=="object"&&ve!==null&&typeof we=="object"&&we!==null){const M=Object.keys(ve)[0];if(M===Object.keys(we)[0]){const P=y.getHandler(M);P&&(j={[M]:P.transform(ve[M],we[M],N)})}}z.retain(j,l.default.transform(ne.attributes,_e.attributes,N))}}return z.chop()}transformPosition(w,N=!1){N=!!N;const C=new f.default(this.ops);let k=0;for(;C.hasNext()&&k<=w;){const O=C.peekLength(),z=C.peekType();if(C.next(),z==="delete"){w-=Math.min(O,w-k);continue}else z==="insert"&&(k<w||!N)&&(w+=O);k+=O}return w}}y.Op=c.default,y.OpIterator=f.default,y.AttributeMap=l.default,y.handlers={},e.default=y,n.exports=y,n.exports.default=y})(Qf,Qf.exports)),Qf.exports}var Ni=f8();const Re=Hy(Ni);class ns extends ii{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ns.blotName="break";ns.tagName="BR";let es=class extends Vd{};const d8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bm(n){return n.replace(/[&<>"']/g,e=>d8[e])}class yr extends tv{static allowedChildren=[yr,ns,ii,es];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=yr.order.indexOf(e),a=yr.order.indexOf(t);return r>=0||a>=0?r-a:e===t?0:e<t?-1:1}formatAt(e,t,r,a){if(yr.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Oe.BLOT)){const l=this.isolate(e,t);a&&l.wrap(r,a)}else super.formatAt(e,t,r,a)}optimize(e){if(super.optimize(e),this.parent instanceof yr&&yr.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const cw=1;class $n extends ih{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=aN(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,a){t<=0||(this.scroll.query(r,Oe.BLOCK)?e+t===this.length()&&this.format(r,a):super.formatAt(e,Math.min(t,this.length()-e-1),r,a),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const a=t.split(`
`),l=a.shift();l.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let c=this;a.reduce((f,m)=>(c=c.split(f,!0),c.insertAt(0,m),m.length),e+l.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof ns&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+cw),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-cw)){const a=this.clone();return e===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const r=super.split(e,t);return this.cache={},r}}$n.blotName="block";$n.tagName="P";$n.defaultChild=ns;$n.allowedChildren=[ns,yr,ii,es];class Si extends ii{attach(){super.attach(),this.attributes=new vm(this.domNode)}delta(){return new Re().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Oe.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,a){this.format(r,a)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const a=t.split(`
`),l=a.pop(),c=a.map(m=>{const p=this.scroll.create($n.blotName);return p.insertAt(0,m),p}),f=this.split(e);c.forEach(m=>{this.parent.insertBefore(m,f)}),l&&this.parent.insertBefore(this.scroll.create("text",l),f)}}Si.scope=Oe.BLOCK_BLOT;function aN(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(ar).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),wi(r,{},e)),new Re).insert(`
`,wi(n))}function wi(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:wi(n.parent,e,t)}class Ki extends ii{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Ki.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,a=0;for(;r!=null&&r.statics.scope!==Oe.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Ki.CONTENTS.length,r.optimize(),r.formatAt(a,Ki.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof es?this.prev:null,r=t?t.length():0,a=this.next instanceof es?this.next:null,l=a?a.text:"",{textNode:c}=this,f=c.data.split(Ki.CONTENTS).join("");c.data=Ki.CONTENTS;let m;if(t)m=t,(f||a)&&(t.insertAt(t.length(),f+l),a&&a.remove());else if(a)m=a,a.insertAt(0,f);else{const p=document.createTextNode(f);m=this.scroll.create(p),this.parent.insertBefore(m,this)}if(this.remove(),e){const p=(w,N)=>t&&w===t.domNode?N:w===c?r+N-1:a&&w===a.domNode?r+f.length+N:null,y=p(e.start.node,e.start.offset),T=p(e.end.node,e.end.offset);if(y!==null&&T!==null)return{startNode:m.domNode,startOffset:y,endNode:m.domNode,endOffset:T}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Ki.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Hg={exports:{}},hw;function m8(){return hw||(hw=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function a(m,p,y){this.fn=m,this.context=p,this.once=y||!1}function l(m,p,y,T,w){if(typeof y!="function")throw new TypeError("The listener must be a function");var N=new a(y,T||m,w),C=t?t+p:p;return m._events[C]?m._events[C].fn?m._events[C]=[m._events[C],N]:m._events[C].push(N):(m._events[C]=N,m._eventsCount++),m}function c(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],y,T;if(this._eventsCount===0)return p;for(T in y=this._events)e.call(y,T)&&p.push(t?T.slice(1):T);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(y)):p},f.prototype.listeners=function(p){var y=t?t+p:p,T=this._events[y];if(!T)return[];if(T.fn)return[T.fn];for(var w=0,N=T.length,C=new Array(N);w<N;w++)C[w]=T[w].fn;return C},f.prototype.listenerCount=function(p){var y=t?t+p:p,T=this._events[y];return T?T.fn?1:T.length:0},f.prototype.emit=function(p,y,T,w,N,C){var k=t?t+p:p;if(!this._events[k])return!1;var O=this._events[k],z=arguments.length,K,ne;if(O.fn){switch(O.once&&this.removeListener(p,O.fn,void 0,!0),z){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,y),!0;case 3:return O.fn.call(O.context,y,T),!0;case 4:return O.fn.call(O.context,y,T,w),!0;case 5:return O.fn.call(O.context,y,T,w,N),!0;case 6:return O.fn.call(O.context,y,T,w,N,C),!0}for(ne=1,K=new Array(z-1);ne<z;ne++)K[ne-1]=arguments[ne];O.fn.apply(O.context,K)}else{var _e=O.length,ve;for(ne=0;ne<_e;ne++)switch(O[ne].once&&this.removeListener(p,O[ne].fn,void 0,!0),z){case 1:O[ne].fn.call(O[ne].context);break;case 2:O[ne].fn.call(O[ne].context,y);break;case 3:O[ne].fn.call(O[ne].context,y,T);break;case 4:O[ne].fn.call(O[ne].context,y,T,w);break;default:if(!K)for(ve=1,K=new Array(z-1);ve<z;ve++)K[ve-1]=arguments[ve];O[ne].fn.apply(O[ne].context,K)}}return!0},f.prototype.on=function(p,y,T){return l(this,p,y,T,!1)},f.prototype.once=function(p,y,T){return l(this,p,y,T,!0)},f.prototype.removeListener=function(p,y,T,w){var N=t?t+p:p;if(!this._events[N])return this;if(!y)return c(this,N),this;var C=this._events[N];if(C.fn)C.fn===y&&(!w||C.once)&&(!T||C.context===T)&&c(this,N);else{for(var k=0,O=[],z=C.length;k<z;k++)(C[k].fn!==y||w&&!C[k].once||T&&C[k].context!==T)&&O.push(C[k]);O.length?this._events[N]=O.length===1?O[0]:O:c(this,N)}return this},f.prototype.removeAllListeners=function(p){var y;return p?(y=t?t+p:p,this._events[y]&&c(this,y)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f})(Hg)),Hg.exports}var p8=m8();const g8=Hy(p8),Uy=new WeakMap,qy=["error","warn","log","info"];let By="warn";function oN(n){if(By&&qy.indexOf(n)<=qy.indexOf(By)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Aa(n){return qy.reduce((e,t)=>(e[t]=oN.bind(console,t,n),e),{})}Aa.level=n=>{By=n};oN.level=Aa.level;const Fg=Aa("quill:events"),y8=["selectionchange","mousedown","mouseup","click"];y8.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const l=Uy.get(a);l&&l.emitter&&l.emitter.handleDOM(...t)})})});class Ne extends g8{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Fg.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Fg.log.call(Fg,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(l=>{let{node:c,handler:f}=l;(e.target===c||c.contains(e.target))&&f(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const Gg=Aa("quill:selection");class ul{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class v8{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ul(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ne.sources.USER),1)}),this.emitter.on(Ne.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ne.events.SCROLL_UPDATE,(a,l)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const c=l.some(f=>f.type==="characterData"||f.type==="childList"||f.type==="attributes"&&f.target===this.root);this.update(c?Ne.sources.SILENT:a)}catch{}})}),this.emitter.on(Ne.events.SCROLL_OPTIMIZE,(r,a)=>{if(a.range){const{startNode:l,startOffset:c,endNode:f,endOffset:m}=a.range;this.setNativeRange(l,c,f,m),this.update(Ne.sources.SILENT)}}),this.update(Ne.sources.SILENT)}handleComposition(){this.emitter.on(Ne.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ne.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ne.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Oe.BLOCK))){if(r.start.node!==this.cursor.textNode){const a=this.scroll.find(r.start.node,!1);if(a==null)return;if(a instanceof ar){const l=a.split(r.start.offset);a.parent.insertBefore(this.cursor,l)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let a,[l,c]=this.scroll.leaf(e);if(l==null)return null;if(t>0&&c===l.length()){const[y]=this.scroll.leaf(e+1);if(y){const[T]=this.scroll.line(e),[w]=this.scroll.line(e+1);T===w&&(l=y,c=0)}}[a,c]=l.position(c,!0);const f=document.createRange();if(t>0)return f.setStart(a,c),[l,c]=this.scroll.leaf(e+t),l==null?null:([a,c]=l.position(c,!0),f.setEnd(a,c),f.getBoundingClientRect());let m="left",p;if(a instanceof Text){if(!a.data.length)return null;c<a.data.length?(f.setStart(a,c),f.setEnd(a,c+1)):(f.setStart(a,c-1),f.setEnd(a,c),m="right"),p=f.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;p=l.domNode.getBoundingClientRect(),c>0&&(m="right")}return{bottom:p.top+p.height,height:p.height,left:p[m],right:p[m],top:p.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return Gg.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&$g(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(c=>{const[f,m]=c,p=this.scroll.find(f,!0),y=p.offset(this.scroll);return m===0?y:p instanceof ar?y+p.index(f,m):y+p.length()}),a=Math.min(Math.max(...r),this.scroll.length()-1),l=Math.min(a,...r);return new ul(l,a-l)}normalizeNative(e){if(!$g(this.root,e.startContainer)||!e.collapsed&&!$g(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:a,offset:l}=r;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>l)a=a.childNodes[l],l=0;else if(a.childNodes.length===l)a=a.lastChild,a instanceof Text?l=a.data.length:a.childNodes.length>0?l=a.childNodes.length:l=a.childNodes.length+1;else break;r.node=a,r.offset=l}),t}rangeToNative(e){const t=this.scroll.length(),r=(a,l)=>{a=Math.min(t-1,a);const[c,f]=this.scroll.leaf(a);return c?c.position(f,l):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Gg.info("setNativeRange",e,t,r,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const c=document.getSelection();if(c!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:f}=this.getNativeRange()||{};if(f==null||l||e!==f.startContainer||t!==f.startOffset||r!==f.endContainer||a!==f.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(a=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const m=document.createRange();m.setStart(e,t),m.setEnd(r,a),c.removeAllRanges(),c.addRange(m)}}else c.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;if(typeof t=="string"&&(r=t,t=!1),Gg.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.lastRange,[r,a]=this.getRange();if(this.lastRange=r,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!so(t,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const l=[Ne.events.SELECTION_CHANGE,du(this.lastRange),du(t),e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...l),e!==Ne.sources.SILENT&&this.emitter.emit(...l)}}}function $g(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const _8=/^[ -~]*$/;class b8{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=fw(e),a=new Re;return T8(r.ops.slice()).reduce((c,f)=>{const m=Ni.Op.length(f);let p=f.attributes||{},y=!1,T=!1;if(f.insert!=null){if(a.retain(m),typeof f.insert=="string"){const C=f.insert;T=!C.endsWith(`
`)&&(t<=c||!!this.scroll.descendant(Si,c)[0]),this.scroll.insertAt(c,C);const[k,O]=this.scroll.line(c);let z=po({},wi(k));if(k instanceof $n){const[K]=k.descendant(ar,O);K&&(z=po(z,wi(K)))}p=Ni.AttributeMap.diff(z,p)||{}}else if(typeof f.insert=="object"){const C=Object.keys(f.insert)[0];if(C==null)return c;const k=this.scroll.query(C,Oe.INLINE)!=null;if(k)(t<=c||this.scroll.descendant(Si,c)[0])&&(T=!0);else if(c>0){const[O,z]=this.scroll.descendant(ar,c-1);O instanceof es?O.value()[z]!==`
`&&(y=!0):O instanceof ii&&O.statics.scope===Oe.INLINE_BLOT&&(y=!0)}if(this.scroll.insertAt(c,C,f.insert[C]),k){const[O]=this.scroll.descendant(ar,c);if(O){const z=po({},wi(O));p=Ni.AttributeMap.diff(z,p)||{}}}}t+=m}else if(a.push(f),f.retain!==null&&typeof f.retain=="object"){const C=Object.keys(f.retain)[0];if(C==null)return c;this.scroll.updateEmbedAt(c,C,f.retain[C])}Object.keys(p).forEach(C=>{this.scroll.formatAt(c,m,C,p[C])});const w=y?1:0,N=T?1:0;return t+=w+N,a.retain(w),a.delete(N),c+m+w+N},0),a.reduce((c,f)=>typeof f.delete=="number"?(this.scroll.deleteAt(c,f.delete),c):c+Ni.Op.length(f),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Re().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(l=>{this.scroll.lines(e,Math.max(t,1)).forEach(c=>{c.format(l,r[l])})}),this.scroll.optimize();const a=new Re().retain(e).retain(t,du(r));return this.update(a)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(l=>{this.scroll.formatAt(e,t,l,r[l])});const a=new Re().retain(e).retain(t,du(r));return this.update(a)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Re)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],a=[];t===0?this.scroll.path(e).forEach(f=>{const[m]=f;m instanceof $n?r.push(m):m instanceof ar&&a.push(m)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(ar,e,t));const[l,c]=[r,a].map(f=>{const m=f.shift();if(m==null)return{};let p=wi(m);for(;Object.keys(p).length>0;){const y=f.shift();if(y==null)return p;p=E8(wi(y),p)}return p});return{...l,...c}}getHTML(e,t){const[r,a]=this.scroll.line(e);if(r){const l=r.length();return r.length()>=a+t&&!(a===0&&t===l)?sh(r,a,t,!0):sh(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=fw(t),a=new Re().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(a)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new Re().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(a=>{this.scroll.formatAt(e,t.length,a,r[a])}),this.update(new Re().retain(e).insert(t,du(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==$n.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof ns}removeFormat(e,t){const r=this.getText(e,t),[a,l]=this.scroll.line(e+t);let c=0,f=new Re;a!=null&&(c=a.length()-l,f=a.delta().slice(l,l+c-1).insert(`
`));const p=this.getContents(e,t+c).diff(new Re().insert(r).concat(f)),y=new Re().retain(e).concat(p);return this.applyDelta(y)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(_8)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),c=wi(l),f=l.offset(this.scroll),m=t[0].oldValue.replace(Ki.CONTENTS,""),p=new Re().insert(m),y=new Re().insert(l.value()),T=r&&{oldRange:dw(r.oldRange,-f),newRange:dw(r.newRange,-f)};e=new Re().retain(f).concat(p.diff(y,T)).reduce((N,C)=>C.insert?N.insert(C.insert,c):N.push(C),new Re),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!so(a.compose(e),this.delta))&&(e=a.diff(this.delta,r));return e}}function ou(n,e,t){if(n.length===0){const[N]=Kg(t.pop());return e<=0?`</li></${N}>`:`</li></${N}>${ou([],e-1,t)}`}const[{child:r,offset:a,length:l,indent:c,type:f},...m]=n,[p,y]=Kg(f);if(c>e)return t.push(f),c===e+1?`<${p}><li${y}>${sh(r,a,l)}${ou(m,c,t)}`:`<${p}><li>${ou(n,e+1,t)}`;const T=t[t.length-1];if(c===e&&f===T)return`</li><li${y}>${sh(r,a,l)}${ou(m,c,t)}`;const[w]=Kg(t.pop());return`</li></${w}>${ou(n,e-1,t)}`}function sh(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof es)return bm(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Zi){if(n.statics.blotName==="list-container"){const p=[];return n.children.forEachAt(e,t,(y,T,w)=>{const N="formats"in y&&typeof y.formats=="function"?y.formats():{};p.push({child:y,offset:T,length:w,indent:N.indent||0,type:N.list})}),ou(p,-1,[])}const a=[];if(n.children.forEachAt(e,t,(p,y,T)=>{a.push(sh(p,y,T))}),r||n.statics.blotName==="list")return a.join("");const{outerHTML:l,innerHTML:c}=n.domNode,[f,m]=l.split(`>${c}<`);return f==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${m}`:`${f}>${a.join("")}<${m}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function E8(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const a=e[r];return a===n[r]?t[r]=a:Array.isArray(a)?a.indexOf(n[r])<0?t[r]=a.concat([n[r]]):t[r]=a:t[r]=[a,n[r]],t},{})}function Kg(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function fw(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new Re)}function dw(n,e){let{index:t,length:r}=n;return new ul(t+e,r)}function T8(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((a,l)=>{l&&e.push({insert:`
`,attributes:t.attributes}),a&&e.push({insert:a,attributes:t.attributes})}):e.push(t)}),e}class Os{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Zf="\uFEFF";class rv extends ii{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Zf),this.rightGuard=document.createTextNode(Zf),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const a=e.data.split(Zf).join("");if(e===this.leftGuard)if(this.prev instanceof es){const l=this.prev.length();this.prev.insertAt(l,a),t={startNode:this.prev.domNode,startOffset:l+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof es?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=Zf,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const a=this.restore(r.target);a&&(t.range=a)}})}}class w8{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof rv)&&(this.emitter.emit(Ne.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ne.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ne.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ne.events.COMPOSITION_END,e),this.isComposing=!1}}class Uu{static DEFAULTS={modules:{}};static themes={default:Uu};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const A8=n=>n.parentElement||n.getRootNode().host||null,x8=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Jf=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},mw=(n,e,t,r,a,l)=>n<t&&e>r?0:n<t?-(t-n+a):e>r?e-n>r-t?n+a-t:e-r+l:0,S8=(n,e)=>{const t=n.ownerDocument;let r=e,a=n;for(;a;){const l=a===t.body,c=l?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:x8(a),f=getComputedStyle(a),m=mw(r.left,r.right,c.left,c.right,Jf(f.scrollPaddingLeft),Jf(f.scrollPaddingRight)),p=mw(r.top,r.bottom,c.top,c.bottom,Jf(f.scrollPaddingTop),Jf(f.scrollPaddingBottom));if(m||p)if(l)t.defaultView?.scrollBy(m,p);else{const{scrollLeft:y,scrollTop:T}=a;p&&(a.scrollTop+=p),m&&(a.scrollLeft+=m);const w=a.scrollLeft-y,N=a.scrollTop-T;r={left:r.left-w,top:r.top-N,right:r.right-w,bottom:r.bottom-N}}a=l||f.position==="fixed"?null:A8(a)}},N8=100,C8=["block","break","cursor","inline","scroll","text"],R8=(n,e,t)=>{const r=new Su;return C8.forEach(a=>{const l=e.query(a);l&&r.register(l)}),n.forEach(a=>{let l=e.query(a);l||t.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;l;)if(r.register(l),l="blotName"in l?l.requiredContainer??null:null,c+=1,c>N8){t.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),r},pu=Aa("quill"),ed=new Su;Zi.uiClass="ql-ui";class ae{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ed,theme:"default"};static events=Ne.events;static sources=Ne.sources;static version="2.0.3";static imports={delta:Re,parchment:l8,"core/module":Os,"core/theme":Uu};static debug(e){e===!0&&(e="log"),Aa.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Uy.get(e)||ed.find(e,t)}static import(e){return this.imports[e]==null&&pu.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(a=>{this.register(a,e[a],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&pu.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&ed.register(t),typeof t.register=="function"&&t.register(ed)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=I8(e,t),this.container=this.options.container,this.container==null){pu.error("Invalid Quill container",e);return}this.options.debug&&ae.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Uy.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ne;const a=nv.blotName,l=this.options.registry.query(a);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new b8(this.scroll),this.selection=new v8(this.scroll,this.emitter),this.composition=new w8(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ne.events.EDITOR_CHANGE,c=>{c===Ne.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ne.events.SCROLL_UPDATE,(c,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),y=m&&p?{oldRange:m,newRange:p}:void 0;Gi.call(this,()=>this.editor.update(null,f,y),c)}),this.emitter.on(Ne.events.SCROLL_EMBED_UPDATE,(c,f)=>{const m=this.selection.lastRange,[p]=this.selection.getRange(),y=m&&p?{oldRange:m,newRange:p}:void 0;Gi.call(this,()=>{const T=new Re().retain(c.offset(this)).retain({[c.statics.blotName]:f});return this.editor.update(T,[],y)},ae.sources.USER)}),r){const c=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=ua(e,t,r),Gi.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;return Gi.call(this,()=>{const a=this.getSelection(!0);let l=new Re;if(a==null)return l;if(this.scroll.query(e,Oe.BLOCK))l=this.editor.formatLine(a.index,a.length,{[e]:t});else{if(a.length===0)return this.selection.format(e,t),l;l=this.editor.formatText(a.index,a.length,{[e]:t})}return this.setSelection(a,Ne.sources.SILENT),l},r)}formatLine(e,t,r,a,l){let c;return[e,t,c,l]=ua(e,t,r,a,l),Gi.call(this,()=>this.editor.formatLine(e,t,c),l,e,0)}formatText(e,t,r,a,l){let c;return[e,t,c,l]=ua(e,t,r,a,l),Gi.call(this,()=>this.editor.formatText(e,t,c),l,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=ua(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ua(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=ua(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ae.sources.API;return Gi.call(this,()=>this.editor.insertEmbed(e,t,r),a,e)}insertText(e,t,r,a,l){let c;return[e,,c,l]=ua(e,0,r,a,l),Gi.call(this,()=>this.editor.insertText(e,t,c),l,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=ua(e,t,r),Gi.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){S8(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Gi.call(this,()=>{e=new Re(e);const r=this.getLength(),a=this.editor.deleteText(0,r),l=this.editor.insertContents(0,e),c=this.editor.deleteText(this.getLength()-1,1);return a.compose(l).compose(c)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||ae.sources.API):([e,t,,r]=ua(e,t,r),this.selection.setRange(new ul(Math.max(0,e),t),r),r!==Ne.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;const r=new Re().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ne.sources.API;return Gi.call(this,()=>(e=new Re(e),this.editor.applyDelta(e)),t,!0)}}function pw(n){return typeof n=="string"?document.querySelector(n):n}function Qg(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,a]=t;return{...e,[r]:a===!0?{}:a}},{})}function gw(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function I8(n,e){const t=pw(n);if(!t)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===ae.DEFAULTS.theme?Uu:ae.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...c}=ae.DEFAULTS,{modules:f,...m}=a.DEFAULTS;let p=Qg(e.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const y=po({},Qg(l),Qg(f),p),T={...c,...gw(m),...gw(e)};let w=e.registry;return w?e.formats&&pu.warn('Ignoring "formats" option because "registry" is specified'):w=e.formats?R8(e.formats,T.registry,pu):T.registry,{...T,registry:w,container:t,theme:a,modules:Object.entries(y).reduce((N,C)=>{let[k,O]=C;if(!O)return N;const z=ae.import(`modules/${k}`);return z==null?(pu.error(`Cannot load ${k} module. Are you sure you registered it?`),N):{...N,[k]:po({},z.DEFAULTS||{},O)}},{}),bounds:pw(T.bounds)}}function Gi(n,e,t,r){if(!this.isEnabled()&&e===Ne.sources.USER&&!this.allowReadOnlyEdits)return new Re;let a=t==null?null:this.getSelection();const l=this.editor.delta,c=n();if(a!=null&&(t===!0&&(t=a.index),r==null?a=yw(a,c,e):r!==0&&(a=yw(a,t,r,e)),this.setSelection(a,Ne.sources.SILENT)),c.length()>0){const f=[Ne.events.TEXT_CHANGE,c,l,e];this.emitter.emit(Ne.events.EDITOR_CHANGE,...f),e!==Ne.sources.SILENT&&this.emitter.emit(...f)}return c}function ua(n,e,t,r,a){let l={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(a=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(a=r,r=t,t=e,e=0),typeof t=="object"?(l=t,a=r):typeof t=="string"&&(r!=null?l[t]=r:a=t),a=a||Ne.sources.API,[n,e,l,a]}function yw(n,e,t,r){const a=typeof t=="number"?t:0;if(n==null)return null;let l,c;return e&&typeof e.transformPosition=="function"?[l,c]=[n.index,n.index+n.length].map(f=>e.transformPosition(f,r!==Ne.sources.USER)):[l,c]=[n.index,n.index+n.length].map(f=>f<e||f===e&&r===Ne.sources.USER?f:a>=0?f+a:Math.max(e,f+a)),new ul(l,c-l)}class bl extends _m{}function vw(n){return n instanceof $n||n instanceof Si}function _w(n){return typeof n.updateContent=="function"}class O8 extends nv{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=$n;static allowedChildren=[$n,Si,bl];constructor(e,t,r){let{emitter:a}=r;super(e,t),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ne.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ne.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,a]=this.line(e),[l]=this.line(e+t);if(super.deleteAt(e,t),l!=null&&r!==l&&a>0){if(r instanceof Si||l instanceof Si){this.optimize();return}const c=l.children.head instanceof ns?null:l.children.head;r.moveChildren(l,c),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,a){super.formatAt(e,t,r,a),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Oe.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),r==null&&t.endsWith(`
`)?a.insertAt(0,t.slice(0,-1),r):a.insertAt(0,t,r)}else{const a=this.scroll.create(t,r);this.appendChild(a)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Oe.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new Re().insert(`
`))),a=r.pop();if(a==null)return;this.batchStart();const l=r.shift();if(l){const m=l.type==="block"&&(l.delta.length()===0||!this.descendant(Si,e)[0]&&e<this.length()),p=l.type==="block"?l.delta:new Re().insert({[l.key]:l.value});Yg(this,e,p);const y=l.type==="block"?1:0,T=e+p.length()+y;m&&this.insertAt(T-1,`
`);const w=wi(this.line(e)[0]),N=Ni.AttributeMap.diff(w,l.attributes)||{};Object.keys(N).forEach(C=>{this.formatAt(T-1,1,C,N[C])}),e=T}let[c,f]=this.children.find(e);if(r.length&&(c&&(c=c.split(f),f=0),r.forEach(m=>{if(m.type==="block"){const p=this.createBlock(m.attributes,c||void 0);Yg(p,0,m.delta)}else{const p=this.create(m.key,m.value);this.insertBefore(p,c||void 0),Object.keys(m.attributes).forEach(y=>{p.format(y,m.attributes[y])})}})),a.type==="block"&&a.delta.length()){const m=c?c.offset(c.scroll)+f:this.length();Yg(this,m,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,a]=t;return r instanceof ar?[r,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(vw,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(a,l,c)=>{let f=[],m=c;return a.children.forEachAt(l,c,(p,y,T)=>{vw(p)?f.push(p):p instanceof _m&&(f=f.concat(r(p,y,m))),m-=T}),f};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ne.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ne.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:a}=r;const l=this.find(a,!0);return l&&!_w(l)}),e.length>0&&this.emitter.emit(Ne.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ne.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[a]=this.descendant(l=>l instanceof Si,e);a&&a.statics.blotName===t&&_w(a)&&a.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new Re;return e.forEach(a=>{const l=a?.insert;if(l)if(typeof l=="string"){const c=l.split(`
`);c.slice(0,-1).forEach(m=>{r.insert(m,a.attributes),t.push({type:"block",delta:r,attributes:a.attributes??{}}),r=new Re});const f=c[c.length-1];f&&r.insert(f,a.attributes)}else{const c=Object.keys(l)[0];if(!c)return;this.query(c,Oe.INLINE)?r.push(a):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Re,t.push({type:"blockEmbed",key:c,value:l[c],attributes:a.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const a={};Object.entries(e).forEach(f=>{let[m,p]=f;this.query(m,Oe.BLOCK&Oe.BLOT)!=null?r=m:a[m]=p});const l=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(l,t||void 0);const c=l.length();return Object.entries(a).forEach(f=>{let[m,p]=f;l.formatAt(0,c,m,p)}),l}}function Yg(n,e,t){t.reduce((r,a)=>{const l=Ni.Op.length(a);let c=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const f=a.insert;n.insertAt(r,f);const[m]=n.descendant(ar,r),p=wi(m);c=Ni.AttributeMap.diff(p,c)||{}}else if(typeof a.insert=="object"){const f=Object.keys(a.insert)[0];if(f==null)return r;if(n.insertAt(r,f,a.insert[f]),n.scroll.query(f,Oe.INLINE)!=null){const[p]=n.descendant(ar,r),y=wi(p);c=Ni.AttributeMap.diff(y,c)||{}}}}return Object.keys(c).forEach(f=>{n.formatAt(r,l,f,c[f])}),r+l},e)}const iv={scope:Oe.BLOCK,whitelist:["right","center","justify"]},D8=new Rs("align","align",iv),lN=new ts("align","ql-align",iv),uN=new Do("align","text-align",iv);class cN extends Do{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):t}}const L8=new ts("color","ql-color",{scope:Oe.INLINE}),sv=new cN("color","color",{scope:Oe.INLINE}),M8=new ts("background","ql-bg",{scope:Oe.INLINE}),av=new cN("background","background-color",{scope:Oe.INLINE});class El extends bl{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${bm(this.code(e,t))}
</pre>`}}class vr extends $n{static TAB="  ";static register(){ae.register(El)}}class ov extends yr{}ov.blotName="code";ov.tagName="CODE";vr.blotName="code-block";vr.className="ql-code-block";vr.tagName="DIV";El.blotName="code-block-container";El.className="ql-code-block-container";El.tagName="DIV";El.allowedChildren=[vr];vr.allowedChildren=[es,ns,Ki];vr.requiredContainer=El;const lv={scope:Oe.BLOCK,whitelist:["rtl"]},hN=new Rs("direction","dir",lv),fN=new ts("direction","ql-direction",lv),dN=new Do("direction","direction",lv),mN={scope:Oe.INLINE,whitelist:["serif","monospace"]},pN=new ts("font","ql-font",mN);class k8 extends Do{value(e){return super.value(e).replace(/["']/g,"")}}const gN=new k8("font","font-family",mN),yN=new ts("size","ql-size",{scope:Oe.INLINE,whitelist:["small","large","huge"]}),vN=new Do("size","font-size",{scope:Oe.INLINE,whitelist:["10px","18px","32px"]}),j8=Aa("quill:keyboard"),P8=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Em extends Os{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=U8(e);if(a==null){j8.warn("Attempted to add invalid keyboard binding",a);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(a.key)?a.key:[a.key]).forEach(c=>{const f={...a,key:c,...t,...r};this.bindings[f.key]=this.bindings[f.key]||[],this.bindings[f.key].push(f)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(z=>Em.match(e,z));if(a.length===0)return;const l=ae.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[f,m]=this.quill.getLine(c.index),[p,y]=this.quill.getLeaf(c.index),[T,w]=c.length===0?[p,y]:this.quill.getLeaf(c.index+c.length),N=p instanceof Vd?p.value().slice(0,y):"",C=T instanceof Vd?T.value().slice(w):"",k={collapsed:c.length===0,empty:c.length===0&&f.length()<=1,format:this.quill.getFormat(c),line:f,offset:m,prefix:N,suffix:C,event:e};a.some(z=>{if(z.collapsed!=null&&z.collapsed!==k.collapsed||z.empty!=null&&z.empty!==k.empty||z.offset!=null&&z.offset!==k.offset)return!1;if(Array.isArray(z.format)){if(z.format.every(K=>k.format[K]==null))return!1}else if(typeof z.format=="object"&&!Object.keys(z.format).every(K=>z.format[K]===!0?k.format[K]!=null:z.format[K]===!1?k.format[K]==null:so(z.format[K],k.format[K])))return!1;return z.prefix!=null&&!z.prefix.test(k.prefix)||z.suffix!=null&&!z.suffix.test(k.suffix)?!1:z.handler.call(this,c,k,z)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[l]=this.quill.getLine(e.index);let c=new Re().retain(e.index-r).delete(r);if(t.offset===0){const[f]=this.quill.getLine(e.index-1);if(f&&!(f.statics.blotName==="block"&&f.length()<=1)){const p=l.formats(),y=this.quill.getFormat(e.index-1,1);if(a=Ni.AttributeMap.diff(p,y)||{},Object.keys(a).length>0){const T=new Re().retain(e.index+l.length()-2).retain(1,a);c=c.compose(T)}}}this.quill.updateContents(c,ae.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let a={};const[l]=this.quill.getLine(e.index);let c=new Re().retain(e.index).delete(r);if(t.offset>=l.length()-1){const[f]=this.quill.getLine(e.index+1);if(f){const m=l.formats(),p=this.quill.getFormat(e.index,1);a=Ni.AttributeMap.diff(m,p)||{},Object.keys(a).length>0&&(c=c.retain(f.length()-1).retain(1,a))}}this.quill.updateContents(c,ae.sources.USER),this.quill.focus()}handleDeleteRange(e){uv({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((l,c)=>(this.quill.scroll.query(c,Oe.BLOCK)&&!Array.isArray(t.format[c])&&(l[c]=t.format[c]),l),{}),a=new Re().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(e.index+1,ae.sources.SILENT),this.quill.focus()}}const V8={bindings:{bold:Xg("bold"),italic:Xg("italic"),underline:Xg("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",ae.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",ae.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",ae.sources.USER):e.format.list!=null&&this.quill.format("list",!1,ae.sources.USER)}},"indent code-block":bw(!0),"outdent code-block":bw(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,ae.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Re().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,ae.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ae.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,ae.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},a=new Re().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),a=new Re().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(n.index+1,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,a,l]=e.getTable(n),c=q8(t,r,a,l);if(c==null)return;let f=t.offset();if(c<0){const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(n.index+1,n.length,ae.sources.SILENT)}else if(c>0){f+=t.length();const m=new Re().retain(f).insert(`
`);this.quill.updateContents(m,ae.sources.USER),this.quill.setSelection(f,ae.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,a=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(a-1,ae.sources.USER):this.quill.setSelection(a+r.length(),ae.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,a]=this.quill.getLine(n.index);if(a>t)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",ae.sources.USER),this.quill.history.cutoff();const c=new Re().retain(n.index-a).delete(t+1).retain(r.length()-2-a).retain(1,{list:l});return this.quill.updateContents(c,ae.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,ae.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,r-=1,r<=0){const l=new Re().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,ae.sources.USER),this.quill.setSelection(n.index-1,ae.sources.SILENT),!1}return!0}},"embed left":td("ArrowLeft",!1),"embed left shift":td("ArrowLeft",!0),"embed right":td("ArrowRight",!1),"embed right shift":td("ArrowRight",!0),"table down":Ew(!1),"table up":Ew(!0)}};Em.DEFAULTS=V8;function bw(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const a=this.quill.scroll.query("code-block"),{TAB:l}=a;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,l,ae.sources.USER),this.quill.setSelection(e.index+l.length,ae.sources.SILENT);return}const c=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:f,length:m}=e;c.forEach((p,y)=>{n?(p.insertAt(0,l),y===0?f+=l.length:m+=l.length):p.domNode.textContent.startsWith(l)&&(p.deleteAt(0,l.length),y===0?f-=l.length:m-=l.length)}),this.quill.update(ae.sources.USER),this.quill.setSelection(f,m,ae.sources.SILENT)}}}function td(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:a}=r;n==="ArrowRight"&&(a+=r.length+1);const[l]=this.quill.getLeaf(a);return l instanceof ii?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,ae.sources.USER):this.quill.setSelection(r.index-1,ae.sources.USER):e?this.quill.setSelection(r.index,r.length+1,ae.sources.USER):this.quill.setSelection(r.index+r.length+1,ae.sources.USER),!1):!0}}}function Xg(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],ae.sources.USER)}}}function Ew(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",a=t.line,l=a.parent[r];if(l!=null){if(l.statics.blotName==="table-row"){let c=l.children.head,f=a;for(;f.prev!=null;)f=f.prev,c=c.next;const m=c.offset(this.quill.scroll)+Math.min(t.offset,c.length()-1);this.quill.setSelection(m,0,ae.sources.USER)}}else{const c=a.table()[r];c!=null&&(n?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,ae.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,ae.sources.USER))}return!1}}}function U8(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=du(n);else return null;return n.shortKey&&(n[P8]=n.shortKey,delete n.shortKey),n}function uv(n){let{quill:e,range:t}=n;const r=e.getLines(t);let a={};if(r.length>1){const l=r[0].formats(),c=r[r.length-1].formats();a=Ni.AttributeMap.diff(c,l)||{}}e.deleteText(t,ae.sources.USER),Object.keys(a).length>0&&e.formatLine(t.index,1,a,ae.sources.USER),e.setSelection(t.index,ae.sources.SILENT)}function q8(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const B8=/font-weight:\s*normal/,z8=["P","OL","UL"],Tw=n=>n&&z8.includes(n.tagName),H8=n=>{Array.from(n.querySelectorAll("br")).filter(e=>Tw(e.previousElementSibling)&&Tw(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},F8=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(B8)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function G8(n){n.querySelector('[id^="docs-internal-guid-"]')&&(F8(n),H8(n))}const $8=/\bmso-list:[^;]*ignore/i,K8=/\bmso-list:[^;]*\bl(\d+)/i,Q8=/\bmso-list:[^;]*\blevel(\d+)/i,Y8=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(K8);if(!r)return null;const a=Number(r[1]),l=t?.match(Q8),c=l?Number(l[1]):1,f=new RegExp(`@list l${a}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),m=e.match(f),p=m&&m[1]==="bullet"?"bullet":"ordered";return{id:a,indent:c,type:p,element:n}},X8=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(c=>{(c.getAttribute("style")||"").match($8)?t.push(c):r.push(c)}),t.forEach(c=>c.parentNode?.removeChild(c));const a=n.documentElement.innerHTML,l=r.map(c=>Y8(c,a)).filter(c=>c);for(;l.length;){const c=[];let f=l.shift();for(;f;)c.push(f),f=l.length&&l[0]?.element===f.element.nextElementSibling&&l[0].id===f.id?l.shift():null;const m=document.createElement("ul");c.forEach(T=>{const w=document.createElement("li");w.setAttribute("data-list",T.type),T.indent>1&&w.setAttribute("class",`ql-indent-${T.indent-1}`),w.innerHTML=T.element.innerHTML,m.appendChild(w)});const p=c[0]?.element,{parentNode:y}=p??{};p&&y?.replaceChild(m,p),c.slice(1).forEach(T=>{let{element:w}=T;y?.removeChild(w)})}};function W8(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&X8(n)}const Z8=[W8,G8],J8=n=>{n.documentElement&&Z8.forEach(e=>{e(n)})},eP=Aa("quill:clipboard"),tP=[[Node.TEXT_NODE,mP],[Node.TEXT_NODE,Aw],["br",oP],[Node.ELEMENT_NODE,Aw],[Node.ELEMENT_NODE,aP],[Node.ELEMENT_NODE,sP],[Node.ELEMENT_NODE,fP],["li",cP],["ol, ul",hP],["pre",lP],["tr",dP],["b",Wg("bold")],["i",Wg("italic")],["strike",Wg("strike")],["style",uP]],nP=[D8,hN].reduce((n,e)=>(n[e.keyName]=e,n),{}),ww=[uN,av,sv,dN,gN,vN].reduce((n,e)=>(n[e.keyName]=e,n),{});class rP extends Os{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],tP.concat(this.options.matchers??[]).forEach(r=>{let[a,l]=r;this.addMatcher(a,l)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[vr.blotName])return new Re().insert(r||"",{[vr.blotName]:a[vr.blotName]});if(!t)return new Re().insert(r||"",a);const l=this.convertHTML(t);return Th(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||a.table)?l.compose(new Re().retain(l.length()-1).delete(1)):l}normalizeHTML(e){J8(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,a=new WeakMap,[l,c]=this.prepareMatching(r,a);return cv(this.quill.scroll,r,l,c,a)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ae.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,t),this.quill.setSelection(0,ae.sources.SILENT)}else{const a=this.convert({html:t,text:""});this.quill.updateContents(new Re().retain(e).concat(a),r),this.quill.setSelection(e+a.length(),ae.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:a,text:l}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",l),e.clipboardData?.setData("text/html",a),t&&uv({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let a=e.clipboardData?.getData("text/plain");if(!r&&!a){const c=e.clipboardData?.getData("text/uri-list");c&&(a=this.normalizeURIList(c))}const l=Array.from(e.clipboardData?.files||[]);if(!r&&l.length>0){this.quill.uploader.upload(t,l);return}if(r&&l.length>0){const c=new DOMParser().parseFromString(r,"text/html");if(c.body.childElementCount===1&&c.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,l);return}}this.onPaste(t,{html:r,text:a})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:a}=t;const l=this.quill.getFormat(e.index),c=this.convert({text:r,html:a},l);eP.log("onPaste",c,{text:r,html:a});const f=new Re().retain(e.index).delete(e.length).concat(c);this.quill.updateContents(f,ae.sources.USER),this.quill.setSelection(f.length()-e.length,ae.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],a=[];return this.matchers.forEach(l=>{const[c,f]=l;switch(c){case Node.TEXT_NODE:a.push(f);break;case Node.ELEMENT_NODE:r.push(f);break;default:Array.from(e.querySelectorAll(c)).forEach(m=>{t.has(m)?t.get(m)?.push(f):t.set(m,[f])});break}}),[r,a]}}function Tl(n,e,t,r){return r.query(e)?n.reduce((a,l)=>{if(!l.insert)return a;if(l.attributes&&l.attributes[e])return a.push(l);const c=t?{[e]:t}:{};return a.insert(l.insert,{...c,...l.attributes})},new Re):n}function Th(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const a=n.ops[r];if(typeof a.insert!="string")break;t=a.insert+t}return t.slice(-1*e.length)===e}function lo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof ii?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function iP(n,e){return n.previousElementSibling&&n.nextElementSibling&&!lo(n.previousElementSibling,e)&&!lo(n.nextElementSibling,e)}const nd=new WeakMap;function _N(n){return n==null?!1:(nd.has(n)||(n.tagName==="PRE"?nd.set(n,!0):nd.set(n,_N(n.parentNode))),nd.get(n))}function cv(n,e,t,r,a){return e.nodeType===e.TEXT_NODE?r.reduce((l,c)=>c(e,l,n),new Re):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,c)=>{let f=cv(n,c,t,r,a);return c.nodeType===e.ELEMENT_NODE&&(f=t.reduce((m,p)=>p(c,m,n),f),f=(a.get(c)||[]).reduce((m,p)=>p(c,m,n),f)),l.concat(f)},new Re):new Re}function Wg(n){return(e,t,r)=>Tl(t,n,!0,r)}function sP(n,e,t){const r=Rs.keys(n),a=ts.keys(n),l=Do.keys(n),c={};return r.concat(a).concat(l).forEach(f=>{let m=t.query(f,Oe.ATTRIBUTE);m!=null&&(c[m.attrName]=m.value(n),c[m.attrName])||(m=nP[f],m!=null&&(m.attrName===f||m.keyName===f)&&(c[m.attrName]=m.value(n)||void 0),m=ww[f],m!=null&&(m.attrName===f||m.keyName===f)&&(m=ww[f],c[m.attrName]=m.value(n)||void 0))}),Object.entries(c).reduce((f,m)=>{let[p,y]=m;return Tl(f,p,y,t)},e)}function aP(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof ii){const a={},l=r.value(n);if(l!=null)return a[r.blotName]=l,new Re().insert(a,r.formats(n,t))}else if(r.prototype instanceof ih&&!Th(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Tl(e,r.blotName,r.formats(n,t),t);return e}function oP(n,e){return Th(e,`
`)||e.insert(`
`),e}function lP(n,e,t){const r=t.query("code-block"),a=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Tl(e,"code-block",a,t)}function uP(){return new Re}function cP(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!Th(e,`
`))return e;let a=-1,l=n.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(a+=1),l=l.parentNode;return a<=0?e:e.reduce((c,f)=>f.insert?f.attributes&&typeof f.attributes.indent=="number"?c.push(f):c.insert(f.insert,{indent:a,...f.attributes||{}}):c,new Re)}function hP(n,e,t){const r=n;let a=r.tagName==="OL"?"ordered":"bullet";const l=r.getAttribute("data-checked");return l&&(a=l==="true"?"checked":"unchecked"),Tl(e,"list",a,t)}function Aw(n,e,t){if(!Th(e,`
`)){if(lo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(lo(r,t))return e.insert(`
`);const a=t.query(r);if(a&&a.prototype instanceof Si)return e.insert(`
`);r=r.firstChild}}}return e}function fP(n,e,t){const r={},a=n.style||{};return a.fontStyle==="italic"&&(r.italic=!0),a.textDecoration==="underline"&&(r.underline=!0),a.textDecoration==="line-through"&&(r.strike=!0),(a.fontWeight?.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,c)=>{let[f,m]=c;return Tl(l,f,m,t)},e),parseFloat(a.textIndent||0)>0?new Re().insert("	").concat(e):e}function dP(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Tl(e,"table",l,t)}return e}function mP(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!_N(n)){if(r.trim().length===0&&r.includes(`
`)&&!iP(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&lo(n.parentElement,t)||n.previousSibling instanceof Element&&lo(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&lo(n.parentElement,t)||n.nextSibling instanceof Element&&lo(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class pP extends Os{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(ae.events.EDITOR_CHANGE,(r,a,l,c)=>{r===ae.events.SELECTION_CHANGE?a&&c!==ae.sources.SILENT&&(this.currentRange=a):r===ae.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===ae.sources.USER?this.record(a,l):this.transform(a)),this.currentRange=zy(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const a=this.quill.getContents(),l=r.delta.invert(a);this.stack[t].push({delta:l,range:zy(r.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,ae.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),a=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(r=r.compose(c.delta),a=c.range)}else this.lastRecorded=l;r.length()!==0&&(this.stack.undo.push({delta:r,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){xw(this.stack.undo,e),xw(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,ae.sources.USER);else{const t=yP(this.quill.scroll,e.delta);this.quill.setSelection(t,ae.sources.USER)}}}function xw(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const a=n[r];n[r]={delta:t.transform(a.delta,!0),range:a.range&&zy(a.range,t)},t=a.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function gP(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Oe.BLOCK)!=null):!1}function yP(n,e){const t=e.reduce((a,l)=>a+(l.delete||0),0);let r=e.length()-t;return gP(n,e)&&(r-=1),r}function zy(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class bN extends Os{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(r.clientX,r.clientY);a=document.createRange(),a.setStart(c.offsetNode,c.offset),a.setEnd(c.offsetNode,c.offset)}const l=a&&e.selection.normalizeNative(a);if(l){const c=e.selection.normalizedToRange(l);r.dataTransfer?.files&&this.upload(c,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(a=>{a&&this.options.mimetypes?.includes(a.type)&&r.push(a)}),r.length>0&&this.options.handler.call(this,e,r)}}bN.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(a=>{const l=new FileReader;l.onload=()=>{a(l.result)},l.readAsDataURL(r)}));Promise.all(t).then(r=>{const a=r.reduce((l,c)=>l.insert({image:c}),new Re().retain(n.index).delete(n.length));this.quill.updateContents(a,Ne.sources.USER),this.quill.setSelection(n.index+r.length,Ne.sources.SILENT)})}};const vP=["insertText","insertReplacementText"];class _P extends Os{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(ae.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){uv({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Re().retain(e.index).insert(t,r),ae.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,ae.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!vP.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=bP(e);if(r==null)return;const a=this.quill.selection.normalizeNative(t),l=a?this.quill.selection.normalizedToRange(a):null;l&&this.replaceText(l,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function bP(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const EP=/Mac/i.test(navigator.platform),TP=100,wP=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||EP&&n.key==="a"&&n.ctrlKey===!0);class AP extends Os{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:a}=t;if(!(r instanceof Zi)||!r.uiNode)return!0;const l=getComputedStyle(r.domNode).direction==="rtl";return l&&a.key!=="ArrowRight"||!l&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(a.shiftKey?1:0),ae.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&wP(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+TP,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof Zi)||!r.uiNode)return;const a=document.createRange();a.setStartAfter(r.uiNode),a.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(a)}}ae.register({"blots/block":$n,"blots/block/embed":Si,"blots/break":ns,"blots/container":bl,"blots/cursor":Ki,"blots/embed":rv,"blots/inline":yr,"blots/scroll":O8,"blots/text":es,"modules/clipboard":rP,"modules/history":pP,"modules/keyboard":Em,"modules/uploader":bN,"modules/input":_P,"modules/uiNode":AP});class xP extends ts{add(e,t){let r=0;if(t==="+1"||t==="-1"){const a=this.value(e)||0;r=t==="+1"?a+1:a-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const SP=new xP("indent","ql-indent",{scope:Oe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class NP extends $n{static blotName="blockquote";static tagName="blockquote"}class CP extends $n{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class wh extends bl{}wh.blotName="list-container";wh.tagName="OL";class Ah extends $n{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){ae.register(wh)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),a=l=>{if(!e.isEnabled())return;const c=this.statics.formats(t,e);c==="checked"?(this.format("list","unchecked"),l.preventDefault()):c==="unchecked"&&(this.format("list","checked"),l.preventDefault())};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Ah.blotName="list";Ah.tagName="LI";wh.allowedChildren=[Ah];Ah.requiredContainer=wh;class hv extends yr{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class RP extends hv{static blotName="italic";static tagName=["EM","I"]}class Ud extends yr{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return EN(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function EN(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class IP extends yr{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class OP extends hv{static blotName="strike";static tagName=["S","STRIKE"]}class DP extends yr{static blotName="underline";static tagName="U"}class LP extends rv{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const Sw=["alt","height","width"];let MP=class extends ii{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Sw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return EN(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Sw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}};const Nw=["height","width"];class kP extends Si{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Nw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Ud.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Nw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const kc=new ts("code-token","hljs",{scope:Oe.INLINE});class ba extends yr{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(vr.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),kc.add(this.domNode,r)}format(e,t){e!==ba.blotName?super.format(e,t):t?kc.add(this.domNode,t):(kc.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),kc.value(this.domNode)||this.unwrap()}}ba.blotName="code-token";ba.className="ql-token";class Ai extends vr{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),ba.blotName,!1),super.replaceWith(e,t)}}class Hc extends El{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ai.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,a){r===Ai.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,a)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,l=Ai.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const c=this.children.reduce((m,p)=>m.concat(aN(p,!1)),new Re),f=e(a,l);c.diff(f).reduce((m,p)=>{let{retain:y,attributes:T}=p;return y?(T&&Object.keys(T).forEach(w=>{[Ai.blotName,ba.blotName].includes(w)&&this.formatAt(m,y,w,T[w])}),m+y):m},0)}this.cachedText=a,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Ai.formats(r.domNode):"plain"}">
${bm(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ai.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Hc.allowedChildren=[Ai];Ai.requiredContainer=Hc;Ai.allowedChildren=[ba,Ki,es,ns];const jP=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class TN extends Os{static register(){ae.register(ba,!0),ae.register(Ai,!0),ae.register(Hc,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,a)=>{let{key:l}=a;return r[l]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ae.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Hc))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:a,label:l}=r;const c=t.ownerDocument.createElement("option");c.textContent=l,c.setAttribute("value",a),t.appendChild(c)}),t.addEventListener("change",()=>{e.format(Ai.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ai.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(ae.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ae.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Hc):[e]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(ae.sources.SILENT),r!=null&&this.quill.setSelection(r,ae.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return bm(e).split(`
`).reduce((a,l,c)=>(c!==0&&a.insert(`
`,{[vr.blotName]:t}),a.insert(l)),new Re);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(vr.className),r.innerHTML=jP(this.options.hljs,t,e),cv(this.quill.scroll,r,[(a,l)=>{const c=kc.value(a);return c?l.compose(new Re().retain(l.length(),{[ba.blotName]:c})):l}],[(a,l)=>a.data.split(`
`).reduce((c,f,m)=>(m!==0&&c.insert(`
`,{[vr.blotName]:t}),c.insert(f)),l)],new WeakMap)}}TN.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Qi extends $n{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",fv()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Qi.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class cl extends bl{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),a=t.next.formats();if(r.table!==a.table){const l=this.splitAfter(t);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class go extends bl{static blotName="table-body";static tagName="TBODY"}class qd extends bl{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(cl),t=e.reduce((r,a)=>Math.max(a.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let a;r.children.head!=null&&(a=Qi.formats(r.children.head.domNode));const l=this.scroll.create(Qi.blotName,a);r.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(go);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e);a?.remove()})}insertColumn(e){const[t]=this.descendant(go);t==null||t.children.head==null||t.children.forEach(r=>{const a=r.children.at(e),l=Qi.formats(r.children.head.domNode),c=this.scroll.create(Qi.blotName,l);r.insertBefore(c,a)})}insertRow(e){const[t]=this.descendant(go);if(t==null||t.children.head==null)return;const r=fv(),a=this.scroll.create(cl.blotName);t.children.head.children.forEach(()=>{const c=this.scroll.create(Qi.blotName,r);a.appendChild(c)});const l=t.children.at(e);t.insertBefore(a,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}qd.allowedChildren=[go];go.requiredContainer=qd;go.allowedChildren=[cl];cl.requiredContainer=go;cl.allowedChildren=[Qi];Qi.requiredContainer=cl;function fv(){return`row-${Math.random().toString(36).slice(2,6)}`}class PP extends Os{static register(){ae.register(Qi),ae.register(cl),ae.register(go),ae.register(qd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(qd).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(ae.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(ae.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(ae.sources.USER),this.quill.setSelection(t,ae.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Qi.blotName)return[null,null,null,-1];const a=t.parent;return[a.parent.parent,a,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const c=l.cellOffset();r.insertColumn(c+e),this.quill.update(ae.sources.USER);let f=a.rowOffset();e===0&&(f+=1),this.quill.setSelection(t.index+f,t.length,ae.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,a,l]=this.getTable(t);if(l==null)return;const c=a.rowOffset();r.insertRow(c+e),this.quill.update(ae.sources.USER),e>0?this.quill.setSelection(t,ae.sources.SILENT):this.quill.setSelection(t.index+a.children.length,t.length,ae.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const a=new Array(e).fill(0).reduce(l=>{const c=new Array(t).fill(`
`).join("");return l.insert(c,{table:fv()})},new Re().retain(r.index));this.quill.updateContents(a,ae.sources.USER),this.quill.setSelection(r.index,ae.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ae.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(ae.events.TEXT_CHANGE,(r,a,l)=>{l===ae.sources.USER&&this.balanceTables()}),!0):!1)})}}const Cw=Aa("quill:toolbar");class dv extends Os{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),VP(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Cw.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const a=this.options.handlers?.[r];a&&this.addHandler(r,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(ae.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Cw.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,a=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const f=e.options[e.selectedIndex];f.hasAttribute("selected")?l=!1:l=f.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,l);else if(this.quill.scroll.query(t).prototype instanceof ii){if(l=prompt(`Enter ${t}`),!l)return;this.quill.updateContents(new Re().retain(c.index).delete(c.length).insert({[t]:l}),ae.sources.USER)}else this.quill.format(t,l,ae.sources.USER);this.update(c)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[a,l]=r;if(l.tagName==="SELECT"){let c=null;if(e==null)c=null;else if(t[a]==null)c=l.querySelector("option[selected]");else if(!Array.isArray(t[a])){let f=t[a];typeof f=="string"&&(f=f.replace(/"/g,'\\"')),c=l.querySelector(`option[value="${f}"]`)}c==null?(l.value="",l.selectedIndex=-1):c.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const c=t[a],f=c===l.getAttribute("value")||c!=null&&c.toString()===l.getAttribute("value")||c==null&&!l.getAttribute("value");l.classList.toggle("ql-active",f),l.setAttribute("aria-pressed",f.toString())}else{const c=t[a]!=null;l.classList.toggle("ql-active",c),l.setAttribute("aria-pressed",c.toString())}})}}dv.DEFAULTS={};function Rw(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function VP(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(a=>{if(typeof a=="string")Rw(r,a);else{const l=Object.keys(a)[0],c=a[l];Array.isArray(c)?UP(r,l,c):Rw(r,l,c)}}),n.appendChild(r)})}function UP(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(a=>{const l=document.createElement("option");a!==!1?l.setAttribute("value",String(a)):l.setAttribute("selected","selected"),r.appendChild(l)}),n.appendChild(r)}dv.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Oe.INLINE)!=null&&this.quill.format(t,!1,ae.sources.USER)})}else this.quill.removeFormat(n.index,n.length,ae.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",ae.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,ae.sources.USER),this.quill.format("direction",n,ae.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let a=n==="+1"?1:-1;t.direction==="rtl"&&(a*=-1),this.quill.format("indent",r+a,ae.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,ae.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,ae.sources.USER):this.quill.format("list","unchecked",ae.sources.USER):this.quill.format("list",n,ae.sources.USER)}}};const qP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',BP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',zP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',HP='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',FP='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',GP='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',$P='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',KP='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Iw='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',QP='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',YP='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',XP='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',WP='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',ZP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',JP='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',eV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',tV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',nV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',rV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',iV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',sV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',aV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',oV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',lV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',uV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',cV='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',hV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',fV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',dV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',mV='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',pV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',gV='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',yV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ah={align:{"":qP,center:BP,right:zP,justify:HP},background:FP,blockquote:GP,bold:$P,clean:KP,code:Iw,"code-block":Iw,color:QP,direction:{"":YP,rtl:XP},formula:WP,header:{1:ZP,2:JP,3:eV,4:tV,5:nV,6:rV},italic:iV,image:sV,indent:{"+1":aV,"-1":oV},link:lV,list:{bullet:uV,check:cV,ordered:hV},script:{sub:fV,super:dV},strike:mV,table:pV,underline:gV,video:yV},vV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Ow=0;function Dw(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Tm{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Dw(this.label,"aria-expanded"),Dw(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(t,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=vV,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Ow}`,Ow+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class wN extends Tm{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=a:r.style.fill=a)}}class AN extends Tm{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const _V=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class xN{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,_V(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let c=0;if(l.right>a.right&&(c=a.right-l.right,this.root.style.left=`${t+c}px`),l.left<a.left&&(c=a.left-l.left,this.root.style.left=`${t+c}px`),l.bottom>a.bottom){const f=l.bottom-l.top,m=e.bottom-e.top+f;this.root.style.top=`${r-m}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const bV=[!1,"center","right","justify"],EV=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],TV=[!1,"serif","monospace"],wV=["1","2","3",!1],AV=["small",!1,"large","huge"];class xh extends Uu{constructor(e,t){super(e,t);const r=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(a.target)||l.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),t[l]!=null))if(l==="direction")r.innerHTML=t[l][""]+t[l].rtl;else if(typeof t[l]=="string")r.innerHTML=t[l];else{const c=r.value||"";c!=null&&t[l][c]&&(r.innerHTML=t[l][c])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&Sc(a,bV),typeof t.align=="object"))return new AN(a,t.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const l=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&Sc(a,EV,l==="background"?"#ffffff":"#000000"),new wN(a,t[l])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?Sc(a,TV):a.classList.contains("ql-header")?Sc(a,wV):a.classList.contains("ql-size")&&Sc(a,AV)),new Tm(a)});const r=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(Ne.events.EDITOR_CHANGE,r)}}xh.DEFAULTS=po({},Uu.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class SN extends xN{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ne.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ne.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=xV(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ne.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ne.sources.USER),this.quill.setSelection(r+2,Ne.sources.USER)}break}}this.textbox.value="",this.hide()}}function xV(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Sc(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const a=document.createElement("option");r===t?a.setAttribute("selected","selected"):a.setAttribute("value",String(r)),n.appendChild(a)})}const SV=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class NV extends SN{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Ne.events.EDITOR_CHANGE,(r,a,l,c)=>{if(r===Ne.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&c===Ne.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const f=this.quill.getLines(a.index,a.length);if(f.length===1){const m=this.quill.getBounds(a);m!=null&&this.position(m)}else{const m=f[f.length-1],p=this.quill.getIndex(m),y=Math.min(m.length()-1,a.index+a.length-p),T=this.quill.getBounds(new ul(p,y));T!=null&&this.position(T)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ne.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class NN extends xh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=SV),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new NV(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),ah),this.buildPickers(e.container.querySelectorAll("select"),ah))}}NN.DEFAULTS=po({},xh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ae.sources.USER)}}}}});const CV=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class RV extends SN{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Ne.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Ne.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===Ne.sources.USER){const[a,l]=this.quill.scroll.descendant(Ud,e.index);if(a!=null){this.linkRange=new ul(e.index-l,a.length());const c=Ud.formats(a.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class CN extends xh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=CV),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),ah),this.buildPickers(e.container.querySelectorAll("select"),ah),this.tooltip=new RV(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}CN.DEFAULTS=po({},xh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,ae.sources.USER)}}}}});ae.register({"attributors/attribute/direction":hN,"attributors/class/align":lN,"attributors/class/background":M8,"attributors/class/color":L8,"attributors/class/direction":fN,"attributors/class/font":pN,"attributors/class/size":yN,"attributors/style/align":uN,"attributors/style/background":av,"attributors/style/color":sv,"attributors/style/direction":dN,"attributors/style/font":gN,"attributors/style/size":vN},!0);ae.register({"formats/align":lN,"formats/direction":fN,"formats/indent":SP,"formats/background":av,"formats/color":sv,"formats/font":pN,"formats/size":yN,"formats/blockquote":NP,"formats/code-block":vr,"formats/header":CP,"formats/list":Ah,"formats/bold":hv,"formats/code":ov,"formats/italic":RP,"formats/link":Ud,"formats/script":IP,"formats/strike":OP,"formats/underline":DP,"formats/formula":LP,"formats/image":MP,"formats/video":kP,"modules/syntax":TN,"modules/table":PP,"modules/toolbar":dv,"themes/bubble":NN,"themes/snow":CN,"ui/icons":ah,"ui/picker":Tm,"ui/icon-picker":AN,"ui/color-picker":wN,"ui/tooltip":xN},!0);class wl extends ys.Component{constructor(e){super(e),this.editingAreaRef=G.createRef(),this.containerRef=G.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,a,l,c)=>{r==="text-change"?this.onEditorChangeText?.(this.editor.root.innerHTML,a,c,this.unprivilegedEditor):r==="selection-change"&&this.onEditorChangeSelection?.(a,c,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(ys.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ys.Children.count(e.children)&&ys.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const r=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,r)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!so(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!so(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(r),Lw(()=>this.setEditorSelection(l,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const r=this.containerRef.current?.querySelector(".ql-toolbar");r&&r.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const r=new ae(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?so(e.ops,t.ops):so(e,t)}setEditorContents(e,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),Lw(()=>this.setEditorSelection(e,r))}setEditorSelection(e,t){if(this.selection=t,t){const r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:r}=this.state,a={key:r,ref:this.editingAreaRef};return ys.Children.count(e)?ys.cloneElement(ys.Children.only(e),a):t?ys.createElement("pre",{...a}):ys.createElement("div",{...a})}render(){return ys.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,r,a){if(!this.editor)return;const l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=l,this.props.onChange?.(e,t,r,a))}onEditorChangeSelection(e,t,r){if(!this.editor)return;const a=this.getEditorSelection(),l=!a&&e,c=a&&!e;so(e,a)||(this.selection=e,this.props.onChangeSelection?.(e,t,r),l?this.props.onFocus?.(e,t,r):c&&this.props.onBlur?.(a,t,r))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}wl.displayName="React Quill";wl.Quill=ae;wl.defaultProps={theme:"snow",modules:{},readOnly:!1};function Lw(n){Promise.resolve().then(n)}const IV={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},OV=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],DV=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),[a,l]=G.useState(!1),[c,f]=G.useState(null),[m,p]=G.useState({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""});G.useEffect(()=>{y()},[]);const y=async()=>{r(!0);try{const C=pl(In(ct,"news"),gl("timestamp","desc")),O=(await Cs(C)).docs.map(z=>({id:z.id,...z.data()}));e(O)}catch(C){console.error("Error fetching news:",C)}finally{r(!1)}},T=async C=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await fm(Qn(ct,"news",C)),y()}catch(k){console.error("Error deleting news:",k),alert("Failed to delete news item.")}},w=async C=>{C.preventDefault();try{const k=m.affectedCurrencies.split(",").map(O=>O.trim().toUpperCase()).filter(O=>O);c?await hm(Qn(ct,"news",c),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:k,timestamp:Au()}):await dm(In(ct,"news"),{title:m.title,impact:m.impact,content:m.content,image:m.image,affectedCurrencies:k,timestamp:Au()}),l(!1),f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}),y()}catch(k){console.error("Error saving news:",k),alert("Failed to save news item.")}},N=C=>{p({title:C.title,impact:C.impact,content:C.content,image:C.image,affectedCurrencies:C.affectedCurrencies?C.affectedCurrencies.join(", "):""}),f(C.id),l(!0)};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage News"}),_.jsx(wn,{onClick:()=>{l(!a),a&&(f(null),p({title:"",impact:"Medium",content:"",image:"",affectedCurrencies:""}))},children:a?"Cancel":"Post New Alert"})]}),a&&_.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:c?"Edit Market Update":"New Market Update"}),_.jsxs("form",{onSubmit:w,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:C=>p({...m,title:C.target.value}),placeholder:"e.g., NFP Beats Expectations"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Impact Level"}),_.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.impact,onChange:C=>p({...m,impact:C.target.value}),children:[_.jsx("option",{value:"Low",children:"Low (Yellow)"}),_.jsx("option",{value:"Medium",children:"Medium (Orange)"}),_.jsx("option",{value:"High",children:"High (Red)"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Content/Summary"}),_.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:_.jsx(wl,{theme:"snow",value:m.content,onChange:C=>p({...m,content:C}),modules:IV,formats:OV,className:"h-96 mb-12"})})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Optional)"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:C=>p({...m,image:C.target.value}),placeholder:"https://..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Affected Currencies (comma separated)"}),_.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.affectedCurrencies,onChange:C=>p({...m,affectedCurrencies:C.target.value}),placeholder:"USD, EUR, JPY"})]})]}),_.jsx("div",{className:"flex justify-end pt-4",children:_.jsx(wn,{type:"submit",variant:"primary",children:c?"Update News":"Publish News"})})]})]}),_.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[_.jsx("thead",{className:"bg-gray-900/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Impact"}),_.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800",children:t?_.jsx("tr",{children:_.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No news posted yet."})}):n.map(C=>_.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.timestamp?.seconds?new Date(C.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:C.title}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${C.impact==="High"?"bg-red-500/20 text-red-400":C.impact==="Medium"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:C.impact})}),_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[_.jsx("button",{onClick:()=>N(C),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),_.jsx("button",{onClick:()=>T(C.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},C.id))})]})})})]})},LV={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},MV=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],kV=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(!0),[a,l]=G.useState(!1),[c,f]=G.useState(null),[m,p]=G.useState({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""});G.useEffect(()=>{y()},[]);const y=async()=>{r(!0);try{const C=pl(In(ct,"analysis"),gl("timestamp","desc")),O=(await Cs(C)).docs.map(z=>({id:z.id,...z.data()}));e(O)}catch(C){console.error("Error fetching analysis:",C)}finally{r(!1)}},T=async C=>{if(window.confirm("Are you sure you want to delete this analysis?"))try{await fm(Qn(ct,"analysis",C)),y()}catch(k){console.error("Error deleting post:",k),alert("Failed to delete post.")}},w=async C=>{C.preventDefault();try{c?await hm(Qn(ct,"analysis",c),{...m,timestamp:Au()}):await dm(In(ct,"analysis"),{...m,timestamp:Au()}),l(!1),f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""}),y()}catch(k){console.error("Error saving post:",k),alert("Failed to save analysis.")}},N=C=>{p({title:C.title,pair:C.pair,direction:C.direction,content:C.content,image:C.image}),f(C.id),l(!0)};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Analysis"}),_.jsx(wn,{onClick:()=>{l(!a),a&&(f(null),p({title:"",pair:"EUR/USD",direction:"Neutral",content:"",image:""}))},children:a?"Cancel":"New Analysis"})]}),a&&_.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:c?"Edit Analysis":"Post Technical Breakdown"}),_.jsxs("form",{onSubmit:w,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Pair / Asset"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none uppercase",value:m.pair,onChange:C=>p({...m,pair:C.target.value}),placeholder:"e.g. GBP/JPY"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Direction"}),_.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.direction,onChange:C=>p({...m,direction:C.target.value}),children:[_.jsx("option",{value:"Neutral",children:"Neutral (Gray)"}),_.jsx("option",{value:"Bullish",children:"Bullish (Green)"}),_.jsx("option",{value:"Bearish",children:"Bearish (Red)"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Image URL (Chart)"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.image,onChange:C=>p({...m,image:C.target.value}),placeholder:"https://..."})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:C=>p({...m,title:C.target.value}),placeholder:"e.g. Double Top formation on 4H"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Analysis Content"}),_.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:_.jsx(wl,{theme:"snow",value:m.content,onChange:C=>p({...m,content:C}),modules:LV,formats:MV,className:"h-96 mb-12"})})]}),_.jsx("div",{className:"flex justify-end pt-4",children:_.jsx(wn,{type:"submit",variant:"primary",children:c?"Update Analysis":"Post Analysis"})})]})]}),_.jsx("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-800",children:[_.jsx("thead",{className:"bg-gray-900/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pair"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Direction"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),_.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800",children:t?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"Loading data..."})}):n.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-400",children:"No analysis posted yet."})}):n.map(C=>_.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.timestamp?.seconds?new Date(C.timestamp.seconds*1e3).toLocaleDateString():"Just now"}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-bold",children:C.pair}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${C.direction==="Bullish"?"bg-green-500/20 text-green-400":C.direction==="Bearish"?"bg-red-500/20 text-red-400":"bg-gray-700 text-gray-300"}`,children:C.direction})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white max-w-xs truncate",children:C.title}),_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[_.jsx("button",{onClick:()=>N(C),className:"text-primary hover:text-primary/80 transition-colors mr-4",children:"Edit"}),_.jsx("button",{onClick:()=>T(C.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Delete"})]})]},C.id))})]})})})]})},RN={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},IN=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],jV=()=>{const[n,e]=G.useState([]),[t,r]=G.useState(null),[a,l]=G.useState(!0),[c,f]=G.useState(!1),[m,p]=G.useState(null),[y,T]=G.useState({title:"",description:"",image:"",level:"Beginner"});G.useEffect(()=>{w()},[]);const w=async()=>{l(!0);try{const O=pl(In(ct,"courses"),gl("order","asc")),K=(await Cs(O)).docs.map(ne=>({id:ne.id,...ne.data()}));e(K)}catch(O){console.error("Error fetching courses:",O);const z=await Cs(In(ct,"courses"));e(z.docs.map(K=>({id:K.id,...K.data()})))}finally{l(!1)}},N=async O=>{O.preventDefault();try{m?await hm(Qn(ct,"courses",m),{...y}):await dm(In(ct,"courses"),{...y,order:n.length+1,createdAt:Au()}),f(!1),p(null),T({title:"",description:"",image:"",level:"Beginner"}),w()}catch(z){console.error("Error saving course:",z),alert("Failed to save course")}},C=O=>{T({title:O.title,description:O.description,image:O.image,level:O.level||"Beginner"}),p(O.id),f(!0)},k=async O=>{if(window.confirm("Delete this course? All lessons inside it might become orphaned."))try{await fm(Qn(ct,"courses",O)),w(),t?.id===O&&r(null)}catch(z){console.error("Error deleting course:",z),alert("Delete failed")}};return t?_.jsx(PV,{course:t,onBack:()=>r(null)}):_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold text-white",children:"Manage Courses"}),_.jsx(wn,{onClick:()=>{f(!c),c&&(p(null),T({title:"",description:"",image:"",level:"Beginner"}))},children:c?"Cancel":"New Course"})]}),c&&_.jsxs("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:m?"Edit Course":"Create New Course"}),_.jsxs("form",{onSubmit:N,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Course Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:y.title,onChange:O=>T({...y,title:O.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Level"}),_.jsxs("select",{className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:y.level,onChange:O=>T({...y,level:O.target.value}),children:[_.jsx("option",{children:"Beginner"}),_.jsx("option",{children:"Intermediate"}),_.jsx("option",{children:"Advanced"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),_.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:_.jsx(wl,{theme:"snow",value:y.description,onChange:O=>T({...y,description:O}),modules:RN,formats:IN,className:"h-48 mb-12"})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cover Image URL"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:y.image,onChange:O=>T({...y,image:O.target.value})})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx(wn,{type:"submit",variant:"primary",children:m?"Update Course":"Create Course"})})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?_.jsx("div",{className:"text-gray-400",children:"Loading courses..."}):n.map(O=>_.jsxs("div",{className:"bg-surface rounded-xl border border-gray-800 overflow-hidden group hover:border-gray-600 transition-all",children:[_.jsxs("div",{className:"h-40 bg-gray-900 relative",children:[O.image&&_.jsx("img",{src:O.image,alt:O.title,className:"w-full h-full object-cover"}),_.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[_.jsx("button",{onClick:z=>{z.stopPropagation(),C(O)},className:"bg-primary/80 p-1 rounded text-white hover:bg-primary",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),_.jsx("button",{onClick:z=>{z.stopPropagation(),k(O.id)},className:"bg-red-500/80 p-1 rounded text-white hover:bg-red-600",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),_.jsxs("div",{className:"p-5",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:O.title}),_.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:O.description}),_.jsx(wn,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r(O),children:"Manage Lessons"})]})]},O.id))})]})},PV=({course:n,onBack:e})=>{const[t,r]=G.useState([]),[a,l]=G.useState(!1),[c,f]=G.useState(null),[m,p]=G.useState({title:"",videoUrl:"",content:"",duration:"10 min"}),[y,T]=G.useState(!0);G.useEffect(()=>{w()},[n]);const w=async()=>{T(!0);try{const O=pl(In(ct,"courses",n.id,"lessons"),gl("order","asc")),z=await Cs(O);r(z.docs.map(K=>({id:K.id,...K.data()})))}catch(O){console.error("Error fetching lessons:",O);const z=await Cs(In(ct,"courses",n.id,"lessons"));r(z.docs.map(K=>({id:K.id,...K.data()})))}finally{T(!1)}},N=async O=>{O.preventDefault();try{c?await hm(Qn(ct,"courses",n.id,"lessons",c),{...m}):await dm(In(ct,"courses",n.id,"lessons"),{...m,order:t.length+1,createdAt:Au()}),l(!1),f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}),w()}catch(z){console.error("Error saving lesson:",z),alert("Failed to save lesson")}},C=O=>{p({title:O.title,videoUrl:O.videoUrl,content:O.content,duration:O.duration}),f(O.id),l(!0)},k=async O=>{if(window.confirm("Delete this lesson?"))try{await fm(Qn(ct,"courses",n.id,"lessons",O)),w()}catch(z){console.error("Error deleting lesson:",z)}};return _.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[_.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white flex items-center gap-1",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),_.jsxs("h1",{className:"text-2xl font-bold text-white",children:[_.jsx("span",{className:"text-gray-500 font-normal",children:"Edit Course:"})," ",n.title]})]}),_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-white",children:["Lessons (",t.length,")"]}),_.jsx(wn,{onClick:()=>{l(!a),a&&(f(null),p({title:"",videoUrl:"",content:"",duration:"10 min"}))},variant:"secondary",children:a?"Cancel":"Add Lesson"})]}),a&&_.jsx("div",{className:"bg-surface p-6 rounded-xl border border-gray-800 mb-8 animate-fade-in",children:_.jsxs("form",{onSubmit:N,className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Title"}),_.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.title,onChange:O=>p({...m,title:O.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),_.jsx("input",{type:"text",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.duration,onChange:O=>p({...m,duration:O.target.value}),placeholder:"e.g. 15 min"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Video Embed URL (YouTube/Vimeo)"}),_.jsx("input",{type:"url",className:"w-full bg-background border border-gray-700 rounded-lg px-4 py-2 text-white focus:border-primary focus:outline-none",value:m.videoUrl,onChange:O=>p({...m,videoUrl:O.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Lesson Content / Notes"}),_.jsx("div",{className:"bg-white rounded-lg overflow-hidden text-black",children:_.jsx(wl,{theme:"snow",value:m.content,onChange:O=>p({...m,content:O}),modules:RN,formats:IN,className:"h-72 mb-12"})})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx(wn,{type:"submit",variant:"primary",children:c?"Update Lesson":"Save Lesson"})})]})}),_.jsxs("div",{className:"space-y-3",children:[y?_.jsx("div",{className:"text-gray-400",children:"Loading lessons..."}):t.map((O,z)=>_.jsxs("div",{className:"bg-surface p-4 rounded-lg border border-gray-800 flex justify-between items-center group hover:border-gray-600",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-gray-400 font-bold text-sm",children:z+1}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-white",children:O.title}),_.jsx("div",{className:"text-xs text-gray-500",children:O.duration})]})]}),_.jsxs("div",{className:"flex items-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx("button",{onClick:()=>C(O),className:"text-primary hover:text-primary/80 text-sm",children:"Edit"}),_.jsx("button",{onClick:()=>k(O.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]},O.id)),t.length===0&&!y&&_.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:"No lessons yet. Start teaching!"})]})]})},VV=()=>{const{courseId:n}=zw(),e=xo(),[t,r]=G.useState(null),[a,l]=G.useState([]),[c,f]=G.useState(null),[m,p]=G.useState(!0),[y,T]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{p(!0);const N=await Pu(Qn(ct,"courses",n));if(!N.exists()){alert("Course not found"),e("/dashboard");return}r({id:N.id,...N.data()});const C=pl(In(ct,"courses",n,"lessons"),gl("order","asc")),k=await Cs(C);let O=[];k.empty?O=(await Cs(In(ct,"courses",n,"lessons"))).docs.map(K=>({id:K.id,...K.data()})):O=k.docs.map(z=>({id:z.id,...z.data()})),l(O),O.length>0&&f(O[0])}catch(N){console.error("Error loading course:",N)}finally{p(!1)}})()},[n,e]),m?_.jsx("div",{className:"p-10 text-center text-white",children:"Loading class..."}):t?_.jsxs("div",{className:"flex h-screen bg-background overflow-hidden animate-fade-in",children:[_.jsxs("div",{className:`${y?"w-80":"w-0"} bg-surface border-r border-gray-800 transition-all duration-300 flex flex-col flex-shrink-0 relative`,children:[_.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[_.jsx("h2",{className:"font-bold text-white truncate max-w-[200px]",children:t.title}),_.jsx("button",{onClick:()=>T(!1),className:"md:hidden text-gray-400",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.map((w,N)=>_.jsxs("div",{onClick:()=>f(w),className:`p-4 border-b border-gray-800 cursor-pointer transition-colors hover:bg-gray-800/50 flex items-start gap-3
                   ${c?.id===w.id?"bg-primary/10 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}
                 `,children:[_.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-800 text-gray-400 text-xs flex items-center justify-center mt-0.5",children:N+1}),_.jsxs("div",{children:[_.jsx("h4",{className:`text-sm font-medium ${c?.id===w.id?"text-primary":"text-gray-300"}`,children:w.title}),_.jsx("span",{className:"text-xs text-gray-500",children:w.duration||"10 min"})]})]},w.id)),a.length===0&&_.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No lessons available yet."})]}),_.jsx("div",{className:"p-4 border-t border-gray-800",children:_.jsx(En,{to:"/dashboard",children:_.jsx(wn,{variant:"outline",size:"sm",className:"w-full",children:"Back to Dashboard"})})})]}),_.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[_.jsx("div",{className:"absolute top-4 left-4 z-10",children:_.jsx("button",{onClick:()=>T(!y),className:"bg-surface/80 p-2 rounded-full text-white hover:bg-surface backdrop-blur border border-gray-700 shadow-lg",children:y?_.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}):_.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),c?_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[_.jsx("div",{className:"bg-black aspect-video w-full max-h-[70vh] flex items-center justify-center",children:c.videoUrl?_.jsx("iframe",{src:c.videoUrl,title:c.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):_.jsxs("div",{className:"text-gray-500 text-center",children:[_.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),_.jsx("p",{children:"No video content for this lesson."})]})}),_.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[_.jsx("div",{className:"flex justify-between items-start mb-6",children:_.jsx("h1",{className:"text-2xl font-bold text-white",children:c.title})}),_.jsx("div",{className:"prose prose-invert max-w-none",children:_.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:c.content})})]})]}):_.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a lesson from the sidebar to start."})]})]}):null},Mw=({children:n,adminOnly:e=!1})=>{const[t,r]=G.useState(null),[a,l]=G.useState(!0);return G.useEffect(()=>{const c=u0(Wi,f=>{r(f),l(!1)});return()=>c()},[]),a?_.jsx("div",{className:"text-center p-10 pt-32 text-white",children:"Loading..."}):t?n:_.jsx(cR,{to:"/login",replace:!0})};function UV(){return _.jsx(jR,{children:_.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[_.jsx(f6,{}),_.jsx("main",{className:"flex-grow",children:_.jsxs(dR,{children:[_.jsx(Lr,{path:"/",element:_.jsx(y6,{})}),_.jsx(Lr,{path:"/analysis",element:_.jsx(v6,{})}),_.jsx(Lr,{path:"/news",element:_.jsx(b6,{})}),_.jsx(Lr,{path:"/news/:id",element:_.jsx(E6,{})}),_.jsx(Lr,{path:"/login",element:_.jsx(T6,{})}),_.jsx(Lr,{path:"/register",element:_.jsx(w6,{})}),_.jsx(Lr,{path:"/dashboard",element:_.jsx(Mw,{children:_.jsx(x6,{})})}),_.jsx(Lr,{path:"/dashboard/course/:courseId",element:_.jsx(Mw,{children:_.jsx(VV,{})})}),_.jsxs(Lr,{path:"/admin",element:_.jsx(S6,{}),children:[_.jsx(Lr,{index:!0,element:_.jsx(N6,{})}),_.jsx(Lr,{path:"news",element:_.jsx(DV,{})}),_.jsx(Lr,{path:"analysis",element:_.jsx(kV,{})}),_.jsx(Lr,{path:"courses",element:_.jsx(jV,{})})]})]})}),_.jsx(d6,{})]})})}yC.createRoot(document.getElementById("root")).render(_.jsx(G.StrictMode,{children:_.jsx(UV,{})}))});export default qV();
